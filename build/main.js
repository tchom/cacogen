(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var d=i(542);e.PureMVC=d.PureMVC;var h=i(999);e.View=h.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,d,h=this._events[s],p=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,o),!0;case 5:return h.fn.call(h.context,e,n,o,r),!0;case 6:return h.fn.call(h.context,e,n,o,r,a),!0}for(d=1,c=new Array(p-1);d<p;d++)c[d-1]=arguments[d];h.fn.apply(h.context,c)}else{var l,u=h.length;for(d=0;d<u;d++)switch(h[d].once&&this.removeListener(t,h[d].fn,void 0,!0),p){case 1:h[d].fn.call(h[d].context);break;case 2:h[d].fn.call(h[d].context,e);break;case 3:h[d].fn.call(h[d].context,e,n);break;case 4:h[d].fn.call(h[d].context,e,n,o);break;default:if(!c)for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];h[d].fn.apply(h[d].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,d=[],h=s.length;c<h;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&d.push(s[c]);d.length?this._events[r]=1===d.length?d[0]:d:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},571:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Qt});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(969);const{Facade:a}=i(710);function s(t,e,...i){const o=a.getInstance(t),s=pc.Application.getApplication(),u=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=h(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(s),f=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=c(t);i.push(n),d(t,e),t.destroy()}return i}(s,u),A=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(l(t,e)),t.destroy();return i}(s,u),E=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(s);o.hasProxy(r.h.NAME)&&o.removeProxy(r.h.NAME),o.registerProxy(new r.h(u,f,A,E)),console.log("MAP_GRID_CREATED"),o.sendNotification(n.i.MAP_GRID_CREATED)}function c(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function h(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,d=Math.round(i.z-a/2);for(let t=d;t<d+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function l(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}var u=i(917);const{Proxy:f}=i(710);class A extends f{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(A.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Facade:E}=i(710);function g(t,e){E.getInstance(t).registerProxy(new u.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;E.getInstance(t).registerProxy(new A(e))}}const{Facade:m}=i(710);function y(t,e,...i){const o=pc.Application.getApplication(),r=i[0],a=i[1];console.log("Changing scene "+r);const s=o.root.findByName("Root"),c=o.scenes.find(r);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):s&&s.destroy(),m.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),m.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r),m.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,a)}))}function N(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var M=i(958);const{Proxy:C}=i(710),{CombatVO:T}=i(201);class v extends C{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(v.NAME,new T(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(M.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=N(t);for(;"end_round"===e[0];)e=N(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var _=i(448);const{Facade:P}=i(710);function b(t,e,...i){const o=i[0],r=P.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(u.u.NAME).updateGameStateType(_.gameplayModeTypes.COMBAT);const a=r.retrieveProxy(M.b.NAME+o);r.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",a);const s=new Map,c=["player"];s.set("player_team",c);const d=[o].concat(a.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));s.set("opposing_team",d);const h=c.concat(d),p=r.retrieveProxy(M.b.NAME+"player");for(const t of h)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,p.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,a.currentNode);const l=new v(h,s);r.registerProxy(l),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:S}=i(710);function O(t,e,...i){const n=S.getInstance(t),o=n.retrieveProxy(u.u.NAME),r=n.retrieveProxy(v.NAME);o.vo.gameplayMode===_.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:x}=i(710);function w(t,e,...i){const o=x.getInstance(t),r=o.retrieveProxy(u.u.NAME),a=o.retrieveProxy(v.NAME);r.vo.gameplayMode===_.gameplayModeTypes.COMBAT&&(a.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,a.vo.nextTurnCharacterId))}const{Facade:I}=i(710);function R(t,e,...i){setTimeout((()=>{const e=I.getInstance(t),i=e.retrieveProxy(v.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var L=i(434);class D{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class G{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==D.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return D.ERROR}close(t){}exit(t){}}class k extends G{tick(t){for(const e of this.children)e.execute(t);return D.SUCCESS}}class H{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class V{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class U{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new V;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class F{constructor(t){this.id="basicMeleeTree",this.blackboard=new H,this.tree=new U(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class B extends G{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==D.FAILURE)return i}return D.FAILURE}}class z extends G{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),D.SUCCESS}}class W extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),D.SUCCESS}}class K extends G{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),D.SUCCESS}}class Y extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).availableMovement>0?D.SUCCESS:D.FAILURE}}class j extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(M.b.NAME+i).currentNode;return e.retrieveProxy(M.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?D.SUCCESS:D.FAILURE}}class q extends G{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==D.SUCCESS)return i===D.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return D.SUCCESS}}class X extends G{tick(t){const e=this.children[0];if(!e)return D.ERROR;let i=e.execute(t);return i==D.SUCCESS?i=D.FAILURE:i==D.FAILURE&&(i=D.SUCCESS),i}}class Q extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).isDead?D.SUCCESS:D.FAILURE}}class $ extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(M.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(M.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(s.length>0){let t=s.reduce(((t,e)=>J(a,t)<J(a,e)?t:e));const o=L.q.calculatePath(a,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,D.SUCCESS}}function J(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Z extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).isDead?D.SUCCESS:D.FAILURE}}class tt extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).availableActions>0?D.SUCCESS:D.FAILURE}}class et extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).availableMovement=0,D.SUCCESS}}class it extends F{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new k([new B([new q([new z,new X([new Z]),new X([new Q]),new B([new q([new j,new tt,new z,new W,new et]),new q([new Y,new z,new $])])]),new K])])}}const{Facade:nt}=i(710);function ot(t,e,...i){const n=i[0],o=nt.getInstance(t),a=(o.retrieveProxy(r.h.NAME),o.retrieveProxy(M.b.NAME+n).currentNode);o.retrieveProxy(M.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(a))),(new it).runCommands(o,n)}var rt=i(710);function at(t,e,...i){const o=rt.Facade.getInstance(t),r=o.retrieveProxy(u.u.NAME),a=i[0];r.currentMode===_.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_NODE+"player",a):r.currentMode===_.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(v.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",a)}const{Facade:st}=i(710);function ct(t,e,...i){const n=st.getInstance(t),o=i[0],r=i[1],a=n.retrieveProxy(M.b.NAME+o),s=a.vo,c=L.q.breadthFirstSearch(s.currentNode,s.availableMovement);for(const t of c)t.equals(r)&&dt(n,a,r)}function dt(t,e,i){const o=e.vo,r=L.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function ht(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function pt(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function lt(t,e,...i){const o=i[0],r=rt.Facade.getInstance(t),a=r.retrieveProxy(M.b.NAME+o).vo,s=L.q.breadthFirstSearch(a.currentNode,a.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,s)}function ut(t,e,...i){const o=rt.Facade.getInstance(t),r=i[0],a=i[1];if(o.retrieveProxy(M.b.NAME+r).currentNode=a,o.retrieveProxy(u.u.NAME).currentMode===_.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(v.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),500))}}function ft(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function At(t,e,...i){const o=rt.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,s=o.retrieveProxy(u.u.NAME),c=o.retrieveProxy(r.h.NAME),d=o.retrieveProxy(M.b.NAME+a),h=o.retrieveProxy(M.b.NAME+"player"),p=o.retrieveProxy(A.NAME).getWeaponCategory(h.equippedWeapon);if(s.currentMode===_.gameplayModeTypes.EXPLORATION)if("attack"===s.currentAction&&"ranged"===p)gt(c,h,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else{const t=Et(h,d);t&&o.sendNotification(n.i.NAVIGATE_ALONG_PATH+"player",t)}else if(s.currentMode===_.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(v.NAME);if(!t||"player"!==t.activeParticipant)return;if(h.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)gt(c,h,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(h,d))"attack"===s.currentAction&&"attack"===s.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,h.id,d.id);else{const t=Et(h,d);t&&t.length-1<=h.vo.availableMovement?"attack"===s.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function Et(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=L.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=L.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}function gt(t,e,i){const n=ft(e),o=ft(i);return!t.rayIntersectsWall(n,o)}function mt(t,e,...i){const o=rt.Facade.getInstance(t),r=i[0],a=i[1],s=o.retrieveProxy(u.u.NAME);s.currentAction===r?s.currentAction="none":s.currentAction=r,o.sendNotification(n.i.TOGGLE_BUTTON,a)}var yt=i(829);function Nt(t,e,...i){const o=rt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(M.b.NAME+r),s=i[1],c=o.retrieveProxy(M.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const d=Ct(a.skill),h=Ct(c.skill),p=o.retrieveProxy(A.NAME);if(a.availableActions-=1,d===h)o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${d}/${h})`);else if(d>h){const t=Mt(d,h),e=p.getDamage(a.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+s),o.sendNotification(n.i.KILL_GAME_CHARACTER,s)):(o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`))}else{const t="melee"===p.getWeaponCategory(c.equippedWeapon),e=Mt(h,d),i=t?c.equippedWeapon:yt.j.UNARMED,l=p.getDamage(i,e);a.applyDamage(l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${l}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+r),o.sendNotification(n.i.KILL_GAME_CHARACTER,r)):o.sendNotification(n.i.DISPLAY_HIT+r)}const l=o.retrieveProxy(v.NAME);l&&"player"!==l.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function Mt(t,e){return t-e}function Ct(t){return t+Tt()+Tt()}function Tt(){return Math.round(6*Math.random())}var vt=i(321);const{Facade:_t}=i(710);function Pt(t,e,...i){const o=_t.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(M.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(vt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function bt(t,e,...i){const o=rt.Facade.getInstance(t),r=i[0];console.log("Kill character:: "+r);const a=o.retrieveProxy(M.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",a),a&&(a.currentNode.occupied=!1);const s=o.retrieveProxy(v.NAME);s&&s.removeCharacterFromCombat(r)}const{Facade:St}=i(710);function Ot(t,e,...i){const o=i[0],r=St.getInstance(t);r.hasMediator(v.NAME)&&r.removeMediator(v.NAME),r.sendNotification(n.i.HIDE_WALKABLE_AREA),r.retrieveProxy(u.u.NAME).updateGameStateType(_.gameplayModeTypes.EXPLORATION),"player_team"===o?r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over"):r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory")}var xt=i(316);class wt extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),D.SUCCESS}}class It extends G{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(M.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(M.b.NAME+o).currentNode,c=Math.pow(this.minDistance,2),d=Math.pow(this.maxDistance,2),h=r.availableMovement;r.availableMovement=0;const p=Rt(s,a);if(p>=c&&p<=d)return D.FAILURE;{const t=L.q.breadthFirstSearch(a,h);if(t.length>0){if(p<c){let o=t.reduce(((t,e)=>Rt(s,t)>Rt(s,e)?t:e));const c=L.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Rt(s,t)<Rt(s,e)?t:e));const c=L.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}return D.SUCCESS}return D.FAILURE}}}function Rt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class Lt extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}class Dt extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(M.b.NAME+i),a=(o.currentNode,e.retrieveProxy(M.b.NAME+n)),s=(a.currentNode,e.retrieveProxy(r.h.NAME)),c=ft(o),d=ft(a);return s.rayIntersectsWall(c,d)?D.FAILURE:D.SUCCESS}}class Gt extends G{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),a=e.retrieveProxy(M.b.NAME+i),s=a.currentNode,c=e.retrieveProxy(M.b.NAME+o),d=c.currentNode.connectedNodes,h=e.retrieveProxy(r.h.NAME),p=d.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>kt(s,t)<kt(s,e)?t:e));const o=L.q.calculatePath(s,t);if(o&&o.length>0){const r=a.vo;for(;o.length>r.availableMovement;)o.shift();const s=ft(c);let d=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*a.height,e.z);if(!h.rayIntersectsWall(i,s)){d=t;break}}o.splice(0,d),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),a.currentNode=t}}return a.availableMovement=0,D.SUCCESS}}function kt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Ht extends F{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new k([new B([new q([new z,new X([new Z]),new X([new Q]),new B([new q([new Y,new X([new Dt]),new Gt]),new q([new Y,new B([new It(9,12),new Lt])]),new q([new tt,new Dt,new wt])])]),new K])])}}function Vt(t,e,...i){const n=rt.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(M.b.NAME+o).botBehaviour){case xt.r.BASIC_MELEE:(new it).runCommands(n,o);break;case xt.r.BASIC_RANGED:(new Ht).runCommands(n,o)}}var Ut=i(852);function Ft(t,e,...i){const o=rt.Facade.getInstance(t);let a=0,s=0;const c=i[0],d=o.retrieveProxy(M.b.NAME+c),h=d.currentNode;let p=i[1],l=o.retrieveProxy(M.b.NAME+p);const u=l.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,l.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+p,d.currentNode),a+=Bt(d.skill),s+=Bt(l.skill);const f=o.retrieveProxy(A.NAME);o.retrieveProxy(r.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(h.x,h.y,h.z))&&(s+=2);const E=o.retrieveMediator(Ut.N.NAME),g=new pc.Vec3(d.currentNode.x,d.currentNode.y+1,d.currentNode.z),m=new pc.Vec3(l.currentNode.x,l.currentNode.y+1,l.currentNode.z);d.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),E.createProjectile("crossbow_bolt",g,m).then((()=>{if(a>s){const t=o.retrieveProxy(v.NAME);if(t){const e=l.currentNode.connectedNodes,i=[p];for(const n of t.participants){const t=o.retrieveProxy(M.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}p=i[Math.floor(Math.random()*i.length)],l=o.retrieveProxy(M.b.NAME+p)}const e=a-s,i=f.getDamage(d.equippedWeapon,e);l.applyDamage(i),l.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+p),o.sendNotification(n.i.KILL_GAME_CHARACTER,p)):(o.sendNotification(n.i.DISPLAY_HIT+p),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${p} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",l);const t=o.retrieveProxy(v.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function Bt(t){return t+zt()+zt()}function zt(){return Math.round(6*Math.random())}const{Facade:Wt}=i(710);function Kt(t,e,...i){const o=Wt.getInstance(t);if(o.retrieveProxy(u.u.NAME).currentMode===_.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(v.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const r=i[0],a=i[1];o.retrieveProxy(M.b.NAME+r).equippedWeapon=a,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} equips ${a}`)}function Yt(t,e,...i){const o=rt.Facade.getInstance(t),a=i[0],s=i[1],c=i[2],d=o.retrieveProxy(r.h.NAME).findNearestNode(a);o.retrieveMediator(vt.y.NAME+"player").moveToNodeWithPromise(d).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,s,c)}))}const{Facade:jt}=i(710);function qt(t,e,...i){const n=jt.getInstance(t),o=i[0],a=pc.Application.getApplication(),s=a.assets.get(40523336),c=a.root.findByName("WorldObjects"),d=s.resource.instantiate();c.addChild(d);const h=n.retrieveProxy(r.h.NAME).retrievePortal(o);d.setLocalPosition(h.standingPoint)}const{Facade:Xt}=i(710);class Qt extends Xt{static getInstance(t){return Xt.instanceMap[t]||(Xt.instanceMap[t]=new Qt(t)),Xt.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Qt.NAME+"StartUp"}startup(t){this.sendNotification(Qt.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Qt.STARTUP,g),this.registerCommand(n.i.CHANGE_SCENE,y),this.registerCommand(n.i.PARSE_GAMEMAP,s),this.registerCommand(n.i.START_COMBAT,b),this.registerCommand(n.i.NEXT_COMBAT_TURN,O),this.registerCommand(n.i.NEXT_COMBAT_ROUND,w),this.registerCommand(n.i.END_COMBAT_TURN,R),this.registerCommand(n.i.ENEMY_TURN,ot),this.registerCommand(n.i.SELECTED_NODE,at),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,ct),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Vt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,ht),this.registerCommand(n.i.HIDE_WALKABLE_AREA,pt),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,lt),this.registerCommand(n.i.FINISHED_MOVE,ut),this.registerCommand(n.i.SELECT_GAME_CHARACTER,At),this.registerCommand(n.i.SET_PLAYER_ACTION,mt),this.registerCommand(n.i.RESOLVE_ATTACK,Nt),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Ft),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,Pt),this.registerCommand(n.i.KILL_GAME_CHARACTER,bt),this.registerCommand(n.i.END_COMBAT,Ot),this.registerCommand(n.i.EQUIP_WEAPON,Kt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,Yt),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,qt)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get SET_PLAYER_ACTION(){return"SET_PLAYER_ACTION"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}get id(){return this.vo.id}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{},this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),a=i(958);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(571),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(571),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1","entrance")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),d=i(958),h=i(321),p=i(316),l=i(829);const u=pc.createScript("GameCharacterComponent");u.attributes.add("characterId",{type:"string",title:"Character Id"}),u.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),u.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),u.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),u.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),u.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),u.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),u.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:p._,default:0}),u.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:l.E,default:"unarmed"}),u.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},u.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:this.advancedSkills,equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}this.facade.hasProxy(d.b.NAME+this.characterId)&&this.facade.removeProxy(d.b.NAME+this.characterId),this.facade.hasMediator(h.y.NAME+this.characterId)&&this.facade.removeMediator(h.y.NAME+this.characterId),this.facade.registerProxy(new d.b(i)),this.facade.registerMediator(new h.y(this.characterId,this.entity,this.preregisteredNotifications)),this.entity.animation.play("idle.glb",.1)},u.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},u.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},u.prototype.update=function(t){this.moveAlongPath(t)},u.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3,o=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(n.sub2(r,i),n.normalize(),n.mul(o),n.add(i),this.entity.setLocalPosition(n),this.lookAtPoint(e),n.distance(r)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}}},u.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},u.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},u.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},u.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var f=i(969),A=i(917),E=i(448);const g=pc.createScript("AgroGameCharacterComponent");g.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),g.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},g.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(d.b.NAME+e)},g.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(A.u.NAME).vo.gameplayMode!==E.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,a=new pc.Vec3(r.x,r.y,r.z),s=new pc.Vec3(n.x,n.y,n.z);if(a.distance(s)<=this.sightRange){const t=o.retrieveProxy(f.h.NAME);a.y+=this.characterProxy.height,t.rayIntersectsWall(a,s)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:m}=i(710);class y extends m{static get NAME(){return"ToastMessageMediator"}constructor(t){super(y.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const N=pc.createScript("ToastMessageComponent");N.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),N.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),N.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(y.NAME)&&this.facade.removeMediator(y.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new y(this.entity))},N.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},N.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:M}=i(710);class C extends M{static get NAME(){return"InputLayerMediator"}constructor(t){super(C.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const T=pc.createScript("GameCamera");T.attributes.add("distance",{type:"number",default:100,title:"Distance"}),T.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),T.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),T.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),T.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),T.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.NAME)&&this.facade.removeMediator(_.NAME),this.facade.registerMediator(new _(this.entity))},T.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},T.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},T.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},T.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class _ extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(_.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const P=pc.createScript("InputLayerComponent");P.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),P.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),P.prototype.window=window,P.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.facade.registerMediator(new C(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()}))),this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},P.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.element.screen.screen.scaleBlend=1:this.entity.element.screen.screen.scaleBlend=0},P.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},P.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},P.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},P.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},P.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},P.prototype.update=function(t){this.processInputQueue()},P.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},P.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},P.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},P.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:b}=i(710);class S extends b{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(S.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const O=pc.createScript("PlayerCombatPanelComponent");O.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),O.prototype.initialize=function(){},O.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(S.NAME)&&this.facade.removeMediator(S.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new S(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},O.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:w}=i(710);class I extends w{static get NAME(){return"ActionPanelMediator"}constructor(t){super(I.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const R=pc.createScript("ActionButtonComponent");R.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),R.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),R.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),R.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},R.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},R.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const L=pc.createScript("ActionPanelComponent");L.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),L.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(I.NAME)&&this.facade.removeMediator(I.NAME),this.facade.registerMediator(new I(this.entity))},L.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var D=i(852);const G=pc.createScript("ProjectileCreatorComponent");G.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),G.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(D.N.NAME)&&this.facade.removeMediator(D.N.NAME),this.facade.registerMediator(new D.N(this.entity))},G.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const k=pc.createScript("ProjectileComponent");k.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),k.prototype.initialize=function(){},k.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},k.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},k.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:H}=i(710);class V extends H{static get NAME(){return"StaminaBarMediator"}constructor(t){super(V.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const U=pc.createScript("StaminaBarComponent");U.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),U.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),U.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(V.NAME)&&this.facade.removeMediator(V.NAME),this.facade.registerMediator(new V(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},U.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:F}=i(710);class B extends F{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(B.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(d.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const z=pc.createScript("ActionsRemainingPanelComponent");z.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),z.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(B.NAME)&&this.facade.removeMediator(B.NAME),this.facade.registerMediator(new B(this.entity)),this.pips=[]},z.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},z.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const W=pc.createScript("ActionsRemainingPipComponent");W.attributes.add("pipFront",{type:"entity",title:"Pip front"}),W.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:K}=i(710);class Y extends K{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(Y.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.update=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.screenEntity.screen,o=n.referenceResolution.x/n.resolution.x,r=i.x*o,a=-1*i.y*o+this.screenEntity.screen.resolution.y*o;return new pc.Vec3(r,a,0)}};const q=pc.createScript("FloatingStatusCreatorComponent");q.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),q.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),q.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Y.NAME)&&this.facade.removeMediator(Y.NAME),this.facade.registerMediator(new Y(this.entity))},q.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.addChild(o)}};const{Mediator:X}=i(710);class Q extends X{static get NAME(){return"PortalMediator"}constructor(t){super(Q.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.viewComponent.script.PortalComponent,i=t.destinationScene,n=t.destinationPortal,o=t.standingPoint.getPosition();this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,o,i,n)}}const $=pc.createScript("PortalComponent");$.attributes.add("portalId",{type:"string",title:"Portal Id"}),$.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),$.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),$.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),$.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),$.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Q.NAME)&&this.facade.removeMediator(Q.NAME),this.facade.registerMediator(new Q(this.entity)),this.standingPoint.model.enabled=!1};const{Facade:J}=i(710),{PureMVC:Z}=i(710);new class{constructor(){console.log("Main start"),Z.debug=!0,J.getInstance=t.GameFacade.getInstance,console.log(J),this.facade=J.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydHVwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZVNjZW5lQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9TaHVmZmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZENvbWJhdFR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CZWhhdmlvdXJTdGF0dXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0Jhc2VOb2RlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL0dVSUQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL01hc3Rlck5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JsYWNrYm9hcmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL1RpY2suanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9DaGFyYWN0ZXJDb21tYW5kVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvUHJpb3JpdHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWVtU2VxdWVuY2UuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JlbGlucXVpc2hNb3ZlbWVudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5lbXlUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TaG93V2Fsa2FibGVBcmVhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9HYW1lQ29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvZGF0YS9XZWFwb25UeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQWRqYWNlbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0NhY29nZW5HYW1lLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25CdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wb3J0YWwvUG9ydGFsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wb3J0YWwvUG9ydGFsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUHVyZU1WQ18xIiwiVmlld18xIiwiQ29udHJvbGxlciIsImtleSIsInRoaXMiLCJjb21tYW5kTWFwIiwiaW5zdGFuY2VNYXAiLCJFcnJvciIsIm11bHRpdG9uS2V5IiwibG9nZ2VyIiwiUHVyZU1WQyIsImRlYnVnIiwibG9nQ29tbWFuZCIsImxvZ05vbmUiLCJpbml0aWFsaXplQ29udHJvbGxlciIsInJlbW92ZUNvbnRyb2xsZXIiLCJnZXRJbnN0YW5jZSIsInByb3RvdHlwZSIsInJlZ2lzdGVyQ29tbWFuZCIsIm5vdGlmaWNhdGlvbk5hbWUiLCJjb21tYW5kQ2xhc3NSZWYiLCJ2aWV3IiwicmVnaXN0ZXJPYnNlcnZlciIsImV4ZWN1dGVDb21tYW5kIiwiaGFzQ29tbWFuZCIsInVuZGVmaW5lZCIsInJlbW92ZUNvbW1hbmQiLCJyZW1vdmVPYnNlcnZlciIsIlZpZXciLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjb21tYW5kIiwiX2NvbnNvbGVBcmdzIiwibmFtZSIsImFwcGx5IiwiY29uY2F0IiwiQ29udHJvbGxlcl8xIiwiTW9kZWxfMSIsIkZhY2FkZSIsImxvZ05vdGlmaWNhdGlvbiIsImluaXRpYWxpemVOb3RpZmllciIsImluaXRpYWxpemVGYWNhZGUiLCJoYXNDb3JlIiwicmVtb3ZlQ29yZSIsIk1vZGVsIiwicmVtb3ZlTW9kZWwiLCJyZW1vdmVWaWV3IiwiaW5pdGlhbGl6ZU1vZGVsIiwiaW5pdGlhbGl6ZVZpZXciLCJjb250cm9sbGVyIiwicmVnaXN0ZXJQcm94eSIsInByb3h5IiwibW9kZWwiLCJyZXRyaWV2ZVByb3h5IiwicHJveHlOYW1lIiwicmVtb3ZlUHJveHkiLCJoYXNQcm94eSIsInJlZ2lzdGVyTWVkaWF0b3IiLCJtZWRpYXRvciIsInJldHJpZXZlTWVkaWF0b3IiLCJtZWRpYXRvck5hbWUiLCJyZW1vdmVNZWRpYXRvciIsInNsZWVwTWVkaWF0b3IiLCJhd2FrZU1lZGlhdG9yIiwiaGFzTWVkaWF0b3IiLCJzZW5kTm90aWZpY2F0aW9uIiwiX2EiLCJub3RpZnlPYnNlcnZlcnMiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIk5vdGlmaWVyXzEiLCJNZWRpYXRvciIsIl9zdXBlciIsInZpZXdDb21wb25lbnQiLCJfdGhpcyIsImNhbGwiLCJsb2dNZWRpYXRvciIsInNsZWVwaW5nIiwic3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ2V0TWVkaWF0b3JOYW1lIiwic2V0Vmlld0NvbXBvbmVudCIsImdldFZpZXdDb21wb25lbnQiLCJvblJlZ2lzdGVyIiwib25SZW1vdmUiLCJvblNsZWVwIiwib25Bd2FrZSIsInN1YnNjcmliZU5vdGlmaWNhdGlvbiIsImNoYW5nZVN1YnNjcmlwdGlvbiIsImFkZFN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlTm90aWZpY2F0aW9uIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiYWN0aW9uIiwib2xkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnMiLCJzbGljZSIsImNoYW5nZWQiLCJmb3JFYWNoIiwibm90aWZpY2F0aW9uIiwiaW5kZXhPZiIsInB1c2giLCJpbmRleCIsInNwbGljZSIsIk5vdGlmaWVyIiwicHJveHlNYXAiLCJnZXRQcm94eU5hbWUiLCJGYWNhZGVfMSIsImZhY2FkZSIsImdldEZhY2FkZSIsIlByb3h5IiwiZGF0YSIsImxvZ1Byb3h5Iiwic2V0RGF0YSIsImdldERhdGEiLCJjb25zb2xlQXJncyIsImNvbW1hbmROYW1lIiwiY29uc29sZSIsImxvZyIsIkV2ZW50RW1pdHRlciIsIm1lZGlhdG9yTWFwIiwiZXZlbnRFbWl0dGVyIiwib2JzZXJ2ZXJNZXRob2QiLCJjb250ZXh0IiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsImVtaXQiLCJyZWdpc3Rlck9ic2VydmVycyIsIm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJiaW5kIiwiaXNTbGVlcGluZyIsInJlbW92ZU9ic2VydmVycyIsImludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18xIiwiaW50ZXJlc3QiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMiIsIk1lZGlhdG9yXzEiLCJQcm94eV8xIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJmbiIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImkiLCJsIiwiZWUiLCJsaXN0ZW5lckNvdW50IiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImxlbiIsImoiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsIm1vZHVsZSIsIk5hdmlnYXRpb25Ob2RlIiwieCIsInkiLCJ6IiwiY29ubmVjdGVkTm9kZXMiLCJvY2N1cGllZCIsIm90aGVyTm9kZSIsImZpbmQiLCJub2RlIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0ZWROb2RlSW5kZXgiLCJmaW5kSW5kZXgiLCJlcXVhbHMiLCJwYXJzZUdhbWVNYXBDb21tYW5kIiwiYXBwIiwicGMiLCJBcHBsaWNhdGlvbiIsImdldEFwcGxpY2F0aW9uIiwiZmxvb3JHcmlkIiwibmF2aWdhdGlvbkZsb29ycyIsInJvb3QiLCJmaW5kQnlUYWciLCJjb21wbGV0ZWRHcmlkIiwibmF2aWdhdGlvbkNvbXBvbmVudHMiLCJmbG9vckVudGl0eSIsIm5hdkNvbXAiLCJzY3JpcHQiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZENvbXBFbnRpdHkiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiY29ubmVjdGVkTmF2Q29tcCIsImpvaW5Ub0FkamFjZW50R3JpZCIsImdldEdyaWQiLCJjcmVhdGVNYXBGbG9vciIsIndhbGxzIiwid2FsbHNCb3VuZGluZ0JveGVzIiwibWFwV2FsbEVudGl0aWVzIiwibWFwV2FsbEVudGl0eSIsImFhYmIiLCJjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkiLCJjcmVhdGVGbG9vclVuZGVyV2FsbHMiLCJkZXN0cm95IiwiY3JlYXRlTWFwV2FsbHMiLCJjb3ZlciIsImNvdmVyUG9pbnRzIiwiY292ZXJFbnRpdGllcyIsImNvdmVyRW50aXR5IiwiY3JlYXRlQ292ZXJQb2ludEZyb21Cb3giLCJjcmVhdGVNYXBDb3ZlciIsInBvcnRhbHMiLCJNYXAiLCJwb3J0YWxFbnRpdGllcyIsInBvcnRhbEVudGl0eSIsInBvcnRhbENvbXBvbmVudCIsInBvcnRhbElkIiwicG9ydGFsIiwiZGVzdGluYXRpb25TY2VuZSIsImRlc3RpbmF0aW9uUG9ydGFsIiwic3RhbmRpbmdQb2ludCIsImdldFBvc2l0aW9uIiwiaGl0Ym94UG9pbnQiLCJoaXRib3giLCJzZXQiLCJjcmVhdGVQb3J0YWxzIiwiR2FtZU1hcFByb3h5IiwiR2FtZUNvbW1hbmRzIiwiYm94RW50aXR5Iiwic2NhbGUiLCJnZXRMb2NhbFNjYWxlIiwiaGFsZkV4dGVudHMiLCJWZWMzIiwiQm91bmRpbmdCb3giLCJ3YWxsIiwid2FsbFBvcyIsIndhbGxTY2FsZSIsIk1hdGgiLCJyb3VuZCIsImNvcm5lclgiLCJjb3JuZXJaIiwibWF0Y2hpbmdOb2RlSW5kZXgiLCJlcXVhbHNQb2ludCIsImRlbGV0ZWROb2RlcyIsImRlbGV0ZWROb2RlIiwiZGlzY29ubmVjdGVkTm9kZSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsInNuYXBwZWRXaWR0aCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiYWRkQ29ubmVjdGVkTm9kZSIsImdyaWRUb0pvaW4iLCJib3giLCJib3hQb3MiLCJib3hTY2FsZSIsImNvdmVyUG9pbnQiLCJXZWFwb25zUHJveHkiLCJzdXBlciIsIk5BTUUiLCJ3ZWFwb25OYW1lIiwiZGFtYWdlVGllciIsImNhdGVnb3J5S2V5Iiwidm8iLCJjYXRlZ29yeSIsImRhbWFnZSIsIm1pbiIsInN0YXJ0dXBDb21tYW5kIiwiR2FtZVN0YXRlUHJveHkiLCJ3ZWFwb25zRGF0YSIsImFzc2V0cyIsInJlc291cmNlIiwiY2hhbmdlU2NlbmVDb21tYW5kIiwic2NlbmVOYW1lIiwib2xkSGllcmFyY2h5IiwiZmluZEJ5TmFtZSIsInNjZW5lIiwic2NlbmVzIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJ0ZWFtcyIsInBhcnRpY2lwYW50UHJveGllcyIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZGVsZXRlIiwiZmlsdGVyIiwiZSIsInRlYW0iLCJjaGFyYWN0ZXJJbmRleCIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwicGxheWVyVGVhbSIsIm9wcG9zaW5nVGVhbSIsImNvbWJhdEdyb3VwIiwiaXRlbSIsInBvcyIsInNlbGYiLCJwbGF5ZXJQcm94eSIsImN1cnJlbnROb2RlIiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsIkJlaGF2aW91clN0YXR1cyIsIkJhc2VOb2RlIiwiY2hpbGRyZW4iLCJpbml0aWFsaXplIiwiaWQiLCJzIiwiaGV4RGlnaXRzIiwic3Vic3RyIiwiam9pbiIsImNyZWF0ZVVVSUQiLCJ0aWNrIiwiX2VudGVyIiwiYmxhY2tib2FyZCIsInRyZWUiLCJfb3BlbiIsInN0YXR1cyIsIl90aWNrIiwiUlVOTklORyIsIl9jbG9zZSIsIl9leGl0IiwiZW50ZXJOb2RlIiwiZW50ZXIiLCJvcGVuTm9kZSIsIm9wZW4iLCJ0aWNrTm9kZSIsImNsb3NlTm9kZSIsImNsb3NlIiwiZXhpdE5vZGUiLCJleGl0IiwiRVJST1IiLCJNYXN0ZXJOb2RlIiwiY2hpbGROb2RlIiwiZXhlY3V0ZSIsIlNVQ0NFU1MiLCJCbGFja2JvYXJkIiwiaW5pdGlhbGlzZSIsImJhc2VNZW1vcnkiLCJ0cmVlTWVtb3J5IiwidHJlZVNjb3BlIiwibm9kZU1lbW9yeSIsIm9wZW5Ob2RlcyIsIm5vZGVTY29wZSIsIm1lbW9yeSIsImdldFRyZWVNZW1vcnkiLCJnZXROb2RlTWVtb3J5IiwiZ2V0TWVtb3J5IiwiVGljayIsIm5vZGVDb3VudCIsInRhcmdldCIsInBvcCIsIkJlaGF2aW91clRyZWUiLCJsYXN0T3Blbk5vZGVzIiwiY3Vyck9wZW5Ob2RlcyIsInN0YXJ0IiwiQ2hhcmFjdGVyQ29tbWFuZFRyZWUiLCJQcmlvcml0eSIsImNoaWxkIiwiRkFJTFVSRSIsIlNldFBsYXllckFzVGFyZ2V0IiwiTWVsZWVBdHRhY2tUYXJnZXQiLCJhdHRhY2tlcklkIiwiZGVmZW5kZXJJZCIsIkVuZENvbWJhdFR1cm4iLCJIYXNNb3ZlbWVudFJlbWFpbmluZyIsImF2YWlsYWJsZU1vdmVtZW50IiwiSXNOZXh0VG9QbGF5ZXIiLCJjaGFyYWN0ZXJDdXJyZW50Tm9kZSIsInNvbWUiLCJuIiwiTWVtU2VxdWVuY2UiLCJJbnZlcnRlciIsIklzVGFyZ2V0RGVhZCIsInRhcmdldElkIiwiaXNEZWFkIiwiTW92ZVRvd2FyZHNUYXJnZXQiLCJjaGFyYWN0ZXJQcm94eSIsInJlc3VsdCIsInJlZHVjZSIsImEiLCJkaXN0YW5jZVNxcnQiLCJwYXRoIiwiQXN0YXIiLCJwMSIsInAyIiwicG93IiwiSXNEZWFkIiwiSGFzQWN0aW9uc1JlbWFpbmluZyIsImF2YWlsYWJsZUFjdGlvbnMiLCJSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMiLCJCYXNpY01lbGVlVHJlZSIsImVuZW15VHVybkNvbW1hbmQiLCJlbmVteUlkIiwiZW5lbXlDdXJyZW50Tm9kZSIsInJ1bkNvbW1hbmRzIiwic2VsZWN0ZWROb2RlQ29tbWFuZCIsImdhbWVTdGF0ZVByb3h5IiwiY3VycmVudE1vZGUiLCJjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQiLCJ0YXJnZXROb2RlIiwiZ2FtZUNoYXJhY3RlclByb3h5IiwibW92ZWFibGVOb2RlcyIsImhhbmRsZVZhbGlkTW92ZSIsInNob3dXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVOb2RlcyIsIndhbGthYmxlVGlsZUFzc2V0IiwiY29udGFpbmVyIiwidGlsZSIsImluc3RhbnRpYXRlIiwic2V0TG9jYWxQb3NpdGlvbiIsImFkZENoaWxkIiwiaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZVRpbGVFbnRpdGllcyIsIndhbGthYmxlVGlsZUVudGl0eSIsImF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIiwiZW5kTW92ZW1lbnRDb21tYW5kIiwiZW5kTm9kZSIsImNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkiLCJoZWlnaHQiLCJzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwiZ2FtZU1hcFByb3h5IiwidGFyZ2V0Q2hhcmFjdGVyUHJveHkiLCJwbGF5ZXJDaGFyYWN0ZXJQcm94eSIsIndlYXBvbkNhdGVnb3J5IiwiZ2V0V2VhcG9uQ2F0ZWdvcnkiLCJlcXVpcHBlZFdlYXBvbiIsImN1cnJlbnRBY3Rpb24iLCJjYW5TZWVUYXJnZXQiLCJwYXRoVG9UYXJnZXQiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyIiwidGFyZ2V0Q3VycnJlbnROb2RlIiwiaXNUYXJnZXRBZGphY2VudCIsInVub2NjdXBpZWROb2RlcyIsInBsYXllck5vZGUiLCJzaG9ydGVzdFBhdGgiLCJvdGhlclBhdGgiLCJwbGF5ZXJQb2ludCIsInRhcmdldFBvaW50IiwicmF5SW50ZXJzZWN0c1dhbGwiLCJjaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kIiwiYWN0aW9uTmFtZSIsImJ1dHRvbk5hbWUiLCJyZXNvbHZlQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyUHJveHkiLCJkZWZlbmRlclByb3h5IiwiYXR0YWNrZXJSb2xsIiwicm9sbEF0dGFja1NraWxsIiwic2tpbGwiLCJkZWZlbmRlclJvbGwiLCJ3ZWFwb25zUHJveHkiLCJkZXRlcm1pbmVEYW1hZ2VUaWVyIiwiZ2V0RGFtYWdlIiwiYXBwbHlEYW1hZ2UiLCJoYXNNZWxlZVdlYXBvbiIsIndlYXBvbiIsIldlYXBvblR5cGVzIiwiaGlnaERhbWFnZSIsImxvd0RhbWFnZSIsInJvbGxEaWNlIiwibW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQiLCJ1c2VNb3ZlbWVudCIsImNoYXJhY3Rlck1lZGlhdG9yIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZSIsInRoZW4iLCJraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJyZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0IiwiZW5kQ29tYmF0Q29tbWFuZCIsImxvc2luZ1RlYW0iLCJSYW5nZUF0dGFja1RhcmdldCIsIk1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsInRhcmdldEN1cnJlbnROb2RlIiwibWluRGlzdGFuY2VTcXJ0IiwibWF4RGlzdGFuY2VTcXJ0IiwibW92ZVBvaW50c0F2YWlsYWJsZSIsImRpc3RhbmNlVG9UYXJnZXQiLCJQaWNrTmV4dEFjdGlvbiIsIkNhblNlZVRhcmdldCIsInRhcmdldFByb3h5IiwiZnJvbVBvcyIsInRvUG9zIiwiTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUiLCJkZWxldGVDb3VudCIsInBhdGhOb2RlIiwiQmFzaWNSYW5nZWRUcmVlIiwiZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIiwiYm90QmVoYXZpb3VyIiwiQm90QmVoYXZpb3VyVHlwZXMiLCJyZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyU2NvcmUiLCJkZWZlbmRlclNjb3JlIiwiYXR0YWNrZXJOb2RlIiwiZGVmZW5kZXJOb2RlIiwiaXNJbkNvdmVyIiwicHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJwcm9qZWN0aWxlT3JpZ2luIiwicHJvamVjdGlsZVRhcmdldCIsImNyZWF0ZVByb2plY3RpbGUiLCJuZWlnaGJvdXJpbmdOb2RlcyIsInBvc3NpYmxlVGFyZ2V0cyIsImVxdWlwV2VhcG9uQ29tbWFuZCIsIm5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQiLCJzdGFuZGluZ1Bvc2l0aW9uIiwic3RhbmRpbmdOb2RlIiwiZmluZE5lYXJlc3ROb2RlIiwibW92ZVRvTm9kZVdpdGhQcm9taXNlIiwiYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIiwicGxheWVyQ2hhcmFjdGVyQXNzZXQiLCJwbGF5ZXJFbnRpdHkiLCJyZXRyaWV2ZVBvcnRhbCIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsImJvdEJlaGF2aW91ckVudW1zIiwiTk9ORSIsIkJBU0lDX01FTEVFIiwiQkFTSUNfUkFOR0VEIiwid2VhcG9uRW51bXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm1hcCIsIkdhbWVDaGFyYWN0ZXJWTyIsInBhcmFtcyIsIm1heE1vdmVtZW50IiwibWF4QWN0aW9uc1BlclR1cm4iLCJjb3N0IiwiZGFtYW5nZSIsImN1cnJlbnRTdGFtaW5hIiwibWF4IiwibWF4aW11bVN0YW1pbmEiLCJtYXhTdGFtaW5hIiwibWF4THVjayIsImN1cnJlbnRMdWNrIiwiYWR2YW5jZWRTa2lsbHMiLCJHYW1lTWFwVk8iLCJtYXBHcmlkIiwid2FsbEJvdW5kaW5nQm94ZXMiLCJuZWFyZXN0Tm9kZSIsImRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSIsImRpc3RUb05vZGUiLCJmcm9tIiwidG8iLCJkaXN0YW5jZSIsImRpcmVjdGlvbiIsImNsb25lIiwic3ViIiwibm9ybWFsaXplIiwicmF5IiwiUmF5IiwibWFwV2FsbHMiLCJoaXRQb3NpdGlvbiIsImludGVyc2VjdHNSYXkiLCJhdHRhY2tpbmdGcm9tIiwiYWRqYWNlbnRDb3ZlclBvaW50cyIsImFkamFjZW50UG9pbnRzIiwicG9pbnQiLCJwb2ludHMiLCJnZXRBZGphY2VudFBvaW50cyIsImFkamFjZW50UG9pbnQiLCJhZGphY2VudENvdmVyUG9pbnQiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJJbmZpbml0eSIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsInB0MSIsInB0MiIsImFicyIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwic2VsZWN0ZWRBY3Rpb24iLCJFWFBMT1JBVElPTiIsIkNPTUJBVCIsIkRJQUxPR1VFIiwicHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMiLCJ1cGRhdGVDdXJyZW50Tm9kZSIsImhhbmRsZUZpbmlzaGVkTW9kZSIsImZpcmUiLCJzY3JpcHRLZXkiLCJzY3JpcHRDb21wb25lbnQiLCJoYW5kbGVTdGFydENvbWJhdCIsImhhbmRsZU5hdmlnYXRlVG9Ob2RlIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgiLCJoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUiLCJsb29rUG9pbnQiLCJsb29rQXRQb2ludCIsImFuaW1hdGVEZWF0aCIsImFuaW1hdGVBdHRhY2siLCJhbmltYXRlSGl0Iiwic2V0UGF0aCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibmV3Tm9kZSIsInNlYXJjaE5vZGUiLCJzZWFyY2hBcmVhIiwic3RvcE1vdmVtZW50IiwidHlwZSIsIm9yaWdpblBvaW50IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkNhY29nZW5HYW1lIiwiY3JlYXRlU2NyaXB0IiwiS0VZIiwidXBkYXRlIiwiZHQiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiYXR0cmlidXRlcyIsImFkZCIsInRpdGxlIiwiZW50aXR5IiwiaGFuZGxlUmF5Q2FzdCIsImVuYWJsZWQiLCJzY3JlZW5Qb3MiLCJub2RlR3JpZCIsImdldE5lYXJlc3ROb2RlIiwiR2FtZUNoYXJhY3RlckNvbXBvbmVudCIsImRlZmF1bHQiLCJzY2hlbWEiLCJlbnVtIiwicHJlcmVnaXN0ZXJOb3RpZmljYXRpb24iLCJwb3N0SW5pdGlhbGl6ZSIsIm1vdmVtZW50UGF0aCIsInN0YXRzT3ZlcnJpZGVzIiwicHJveHlQYXJhbXMiLCJjaGFyYWN0ZXJIZWlnaHQiLCJjb21iYXRHcm91cE5hbWUiLCJjb21yYWRlRW50aXRpZXMiLCJjb21yYWRlRW50aXR5IiwiY29tcmFkZUlkIiwiYW5pbWF0aW9uIiwicGxheSIsImxvb3AiLCJtb3ZlQWxvbmdQYXRoIiwibmV4dFBhdGhQb2ludCIsImxvY2FsUG9zIiwibmV3UG9zaXRpb24iLCJzcGVlZCIsImNoYXJhY3RlclNwZWVkIiwibm9kZVBvaW50Iiwic3ViMiIsIm11bCIsImR4IiwiZHoiLCJhbmdsZVRvRGVzdCIsImF0YW4yIiwiUEkiLCJzZXRFdWxlckFuZ2xlcyIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsImNoYXJhY3RlclBvaW50Iiwic2lnaHRSYW5nZSIsIlRvYXN0TWVzc2FnZU1lZGlhdG9yIiwiYWRkTWVzc2FnZSIsIlRvYXN0TWVzc2FnZUNvbXBvbmVudCIsIm1lc3NhZ2VRdWV1ZSIsImN1cnJlbnRUaW1lb3V0IiwibWVzc2FnZSIsInNob3dOZXh0TWVzc2FnZSIsIm5leHRNZXNzYWdlIiwibGFiZWxFbnRpdHkiLCJlbGVtZW50IiwidGV4dCIsIm1lc3NhZ2VUaW1lIiwiSW5wdXRMYXllck1lZGlhdG9yIiwiaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciIsImhhbmRsZVBpY2tlck5hdmlnYXRpb24iLCJoYW5kbGVTY3JvbGxpbmciLCJjaGFyYWN0ZXJFbnRpdHkiLCJHYW1lQ2FtZXJhIiwiR2FtZUNhbWVyYU1lZGlhdG9yIiwic2V0Q2FtZXJhVGFyZ2V0IiwiY2FtZXJhVGFyZ2V0Iiwicm90YXRpb24iLCJnZXRFdWxlckFuZ2xlcyIsImNhbWVyYUhlaWdodCIsImhhbmRsZURyYWciLCJkcmFnTXVsdGlwbGllclgiLCJ2ZXJ0aWNhbFNjcm9sbCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsInRhcmdldFoiLCJjb3MiLCJjYW1lcmFUYXJnZXRQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwiY3VycmVudFBvcyIsInR3ZWVuWCIsInR3ZWVuWSIsInR3ZWVuWiIsImxvb2tBdCIsIklucHV0TGF5ZXJDb21wb25lbnQiLCJ3aW5kb3ciLCJpbnB1dFF1ZXVlIiwibW91c2UiLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJjbGlja0Rvd25TdGFydCIsImlzRHJhZ2dpbmciLCJoYW5kbGVQaWNrZXJSZXN1bHQiLCJFVkVOVF9NT1VTRU1PVkUiLCJvbk1vdXNlTW92ZSIsIkVWRU5UX01PVVNFRE9XTiIsIm9uTW91c2VEb3duIiwiRVZFTlRfTU9VU0VVUCIsIm9uTW91c2VVcCIsInRvdWNoIiwiRVZFTlRfVE9VQ0hNT1ZFIiwidG91Y2hFdnQiLCJ0b3VjaGVzIiwiRVZFTlRfVE9VQ0hTVEFSVCIsIkVWRU5UX1RPVUNIRU5EIiwib25SZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwiZ3JhcGhpY3NEZXZpY2UiLCJ3aWR0aCIsInNjcmVlbiIsInNjYWxlQmxlbmQiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJwaWNrZWRFbnRpdHkiLCJzY3JlZW5Qb3NpdGlvbiIsInByb2Nlc3NJbnB1dFF1ZXVlIiwiaGlnaGVzdFByaW9yaXR5UGljayIsImhpZ2hlc3RQcmlvcml0eSIsInBpY2siLCJwaWNrUHJpb3JpdHkiLCJ0YWdzIiwicGlja2VkR2FtZUNoYXJhY3RlciIsInBpY2tlZE5hdmlnYXRpb24iLCJwaWNrZWRQb3J0YWwiLCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIiwiaGFuZGxlRW5kVHVybiIsIlBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IiwiZW5kVHVybkJ1dHRvbiIsImNsaWNrRW5kVHVybiIsIkhpdGJveENvbXBvbmVudCIsImNlbnRlciIsIkFjdGlvblBhbmVsTWVkaWF0b3IiLCJoYW5kbGVGaXJlQ29tbWFuZCIsInNlbGVjdEFjdGlvbiIsIkFjdGlvbkJ1dHRvbkNvbXBvbmVudCIsImhpZ2hsaWdodEVudGl0eSIsImhhbmRsZUNoYW5nZUFjdGlvbiIsImhhbmRsZUNsaWNrIiwiY29tbWFuZHMiLCJjb21tYW5kQXJncyIsIkFjdGlvblBhbmVsQ29tcG9uZW50IiwiYnV0dG9uIiwiYWN0aW9uQnV0dG9ucyIsInN0b3BQcm9wYWdhdGlvbiIsIlByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IiwicHJvamVjdGlsZU5hbWUiLCJwcm9qZWN0aWxlU2NoZW1lIiwicHJvamVjdGlsZVR5cGVzIiwic2NoZW1lIiwibmV3UHJvamVjdGlsZSIsInByb2plY3RpbGVUZW1wbGF0ZSIsInNldFRhcmdldCIsIlByb2plY3RpbGVDb21wb25lbnQiLCJwcm9qZWN0aWxlU3BlZWQiLCJTdGFtaW5hQmFyTWVkaWF0b3IiLCJuZXdTdGFtaW5hIiwidXBkYXRlU3RhbWluYSIsIlN0YW1pbmFCYXJDb21wb25lbnQiLCJiYXJFbnRpdHlNYXhXaWR0aCIsImJhckVudGl0eSIsImxlcnAiLCJyZWN0Iiwic3RhbWluYUxhYmVsIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IiLCJtYXhBY3Rpb25zIiwic2hvd0F2YWlsYWJsZUFjdGlvbiIsIkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCIsInBpcHMiLCJjcmVhdGVQaXAiLCJuZXdQaXAiLCJwaXBUZW1wbGF0ZSIsIkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQiLCJzaG93IiwicGlwRnJvbnQiLCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciIsInNjcmlwdENvbXAiLCJmbG9hdGVyTmFtZSIsImRpc3BsYXlTdGF0dXMiLCJUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCIsInNldFdvcmxkUG9zaXRpb24iLCJ3b3JsZFBvc2l0aW9uIiwiZGV2aWNlIiwic2NyZWVuRW50aXR5IiwicG9zaXRpb24iLCJ3b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSIsIndvcmxkUG9zIiwid29ybGRUb1NjcmVlbiIsInNjcmVlbkNvbXAiLCJyYXRpb1NjYWxlIiwicmVmZXJlbmNlUmVzb2x1dGlvbiIsInJlc29sdXRpb24iLCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQiLCJmbG9hdGluZ1N0YXR1c2VzIiwib3RoZXJTY2hlbWUiLCJ0YXJnZXRQb3MiLCJuZXdTdGF0dXMiLCJ0ZW1wbGF0ZSIsIlBvcnRhbE1lZGlhdG9yIiwic2VsZWN0ZWRQb3J0YWwiLCJQb3J0YWxDb21wb25lbnQiLCJzdGFydHVwIl0sIm1hcHBpbmdzIjoid0NBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlDLEVBQVksRUFBUSxLQUNwQkMsRUFBUyxFQUFRLEtBRWpCQyxFQUE0QixXQUM1QixTQUFTQSxFQUFXQyxHQUVoQixHQURBQyxLQUFLQyxXQUFhLEdBQ2RILEVBQVdJLFlBQVlILEdBQ3ZCLE1BQU0sSUFBSUksTUFMSCw0REFPWEgsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUtLLE9BQVNULEVBQVVVLFFBQVFDLE1BQVFYLEVBQVVVLFFBQVFFLFdBQWFaLEVBQVVVLFFBQVFHLFFBQ3pGVCxLQUFLVSx1QkFxRFQsT0FuREFaLEVBQVdhLGlCQUFtQixTQUFVWixVQUM3QkMsS0FBS0UsWUFBWUgsSUFFNUJELEVBQVdjLFlBQWMsU0FBVWIsR0FDL0IsT0FBS0EsR0FHQUMsS0FBS0UsWUFBWUgsS0FDbEJDLEtBQUtFLFlBQVlILEdBQU8sSUFBSUQsRUFBV0MsSUFFcENDLEtBQUtFLFlBQVlILElBTGIsTUFPZkQsRUFBV2UsVUFBVUMsZ0JBQWtCLFNBQVVDLEVBQWtCQyxHQUMxRGhCLEtBQUtDLFdBQVdjLElBQ2pCZixLQUFLaUIsS0FBS0MsaUJBQWlCSCxFQUFrQmYsS0FBS21CLGVBQWdCbkIsTUFFdEVBLEtBQUtDLFdBQVdjLEdB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QUFJLGNBQ1oxSCxFQUFRQyxPQUFRLEVBQ2hCLEVBQU9LLFlBQWN1akIsRUFBVyxXQUFYLFlBQ3JCcGMsUUFBUUMsSUFBSSxHQUVaaEksS0FBS3NILE9BQVMsRUFBTzFHLFlBQVl1akIsRUFBVyxXQUFYLEtBQ2pDbmtCLEtBQUtzSCxPQUFPOHhCLFFBQVFwNUIsUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiY29udHJvbGxlciBrZXkgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWRcIjtcbnZhciBDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoa2V5KSB7XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcCA9IHt9O1xuICAgICAgICBpZiAoQ29udHJvbGxlci5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nQ29tbWFuZCA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgQ29udHJvbGxlcihrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gPSBjb21tYW5kQ2xhc3NSZWY7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmV4ZWN1dGVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIGlmICghY29tbWFuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kLm5hbWUpO1xuICAgICAgICBjb21tYW5kLmFwcGx5KHZvaWQgMCwgW3RoaXMubXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRDRCRkUwXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiM4NzI0QkRcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIlxuICAgIF07XG4gICAgQ29udHJvbGxlci5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9Db250cm9sbGVyXCIpO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9Nb2RlbFwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJGYWNhZGUgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgRmFjYWRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2FkZShrZXkpIHtcbiAgICAgICAgaWYgKEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTm90aWZpY2F0aW9uIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTm90aWZpZXIoa2V5KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplRmFjYWRlKCk7XG4gICAgfVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5oYXNDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBGYWNhZGUucmVtb3ZlQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RlbF8xLk1vZGVsLnJlbW92ZU1vZGVsKGtleSk7XG4gICAgICAgIFZpZXdfMS5WaWV3LnJlbW92ZVZpZXcoa2V5KTtcbiAgICAgICAgQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlcihrZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplRmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVnaXN0ZXJDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVtb3ZlQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICB0aGlzLm1vZGVsLnJlZ2lzdGVyUHJveHkocHJveHkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZXRyaWV2ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmVtb3ZlUHJveHkocHJveHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmhhc1Byb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyTWVkaWF0b3IobWVkaWF0b3IpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJldHJpZXZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmVtb3ZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zbGVlcE1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuYXdha2VNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oYXNNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5hcHBseSh0aGlzLCBbRmFjYWRlLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgKF9hID0gdGhpcy52aWV3KS5ub3RpZnlPYnNlcnZlcnMuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsID0gTW9kZWxfMS5Nb2RlbC5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzJGMkUxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjRkZGMzI1XCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCJcbiAgICBdO1xuICAgIEZhY2FkZS5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBGYWNhZGU7XG59KCkpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNhZGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJNZWRpYXRvclwiO1xudmFyIE1lZGlhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZWRpYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZWRpYXRvcihtZWRpYXRvck5hbWUsIHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dNZWRpYXRvciA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIF90aGlzLm1lZGlhdG9yTmFtZSA9IG1lZGlhdG9yTmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgX3RoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwibm90aWZpY2F0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRNZWRpYXRvck5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTmFtZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25TbGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInNsZWVwXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uQXdha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwiYXdha2VcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcImlzU2xlZXBpbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsZWVwaW5nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5hZGRTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnVuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmNoYW5nZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9sZE5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuc2xpY2UoKTtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwoX3RoaXMsIG5vdGlmaWNhdGlvbikgfHwgY2hhbmdlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKHRoaXMsIG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkICYmIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSh0aGlzLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnJlbW92ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Y0RjZGRVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMzY1NkMxXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCJcbiAgICBdO1xuICAgIHJldHVybiBNZWRpYXRvcjtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVkaWF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTVVMVElUT05fTVNHID0gXCJNb2RlbCBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RlbChrZXkpIHtcbiAgICAgICAgdGhpcy5wcm94eU1hcCA9IHt9O1xuICAgICAgICBpZiAoTW9kZWwuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICB9XG4gICAgTW9kZWwuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IE1vZGVsKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnJlbW92ZU1vZGVsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgcHJveHkuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICB0aGlzLnByb3h5TWFwW3Byb3h5LmdldFByb3h5TmFtZSgpXSA9IHByb3h5O1xuICAgICAgICBwcm94eS5vblJlZ2lzdGVyKCk7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5wcm94eU1hcFtwcm94eU5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgcHJveHkgPSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICBwcm94eS5vblJlbW92ZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgTW9kZWwuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gTW9kZWw7XG59KCkpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vRmFjYWRlXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwibXVsdGl0b25LZXkgZm9yIHRoaXMgTm90aWZpZXIgbm90IHlldCBpbml0aWFsaXplZCFcIjtcbnZhciBOb3RpZmllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmllcigpIHtcbiAgICB9XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5mYWNhZGUgPSB0aGlzLmdldEZhY2FkZSgpO1xuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmZhY2FkZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5mYWNhZGUpLnNlbmROb3RpZmljYXRpb24uYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuZ2V0RmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tdWx0aXRvbktleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZV8xLkZhY2FkZS5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmllcjtcbn0oKSk7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJQcm94eVwiO1xudmFyIFByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm94eSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm94eShwcm94eU5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJveHlOYW1lID0gcHJveHlOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nUHJveHkgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb3h5LnByb3RvdHlwZS5nZXRQcm94eU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TmFtZTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBQcm94eS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzEwMjQxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMjdEMDRDXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCJcbiAgICBdO1xuICAgIHJldHVybiBQcm94eTtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJveHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXJlTVZDKCkge1xuICAgIH1cbiAgICBQdXJlTVZDLmxvZ0NvbW1hbmQgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmROYW1lKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIiA9PiAgXCIgKyBjb21tYW5kTmFtZSArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCI6IGFyZ3MgWyBcIiArIGFyZ3MgKyBcIiBdICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ01lZGlhdG9yID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ1Byb3h5ID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vbmUgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgIHJldHVybiBQdXJlTVZDO1xufSgpKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdXJlTVZDLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiVmlldyBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXcoa2V5KSB7XG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIGlmIChWaWV3Lmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9XG4gICAgVmlldy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgVmlldyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnJlbW92ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5ldmVudEVtaXR0ZXIpLmVtaXQuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICBpZiAodGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYXRvci5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBtZWRpYXRvciBmb3IgcmV0cmlldmFsIGJ5IG5hbWVcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0gPSBtZWRpYXRvcjtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgIG1lZGlhdG9yLm9uUmVnaXN0ZXIodGhpcy5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKCFtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBhd2FrZW5cbiAgICAgICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1lZGlhdG9yIGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gc2xlcHRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IG5vdGlmaWNhdGlvbiB0aGUgbWVkaWF0b3IgaXMgaW50ZXJlc3RlZCBpbi4uLlxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMSA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMVtfaV07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJlc3RcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBnZXQgbm90aWZpY2F0aW9uIGludGVyZXN0cyBpZiBhbnlcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYXRvciBhcyBhbiBvYnNlcnZlciBmb3IgZWFjaCBub3RpZmljYXRpb25cbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18yID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18yW19pXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgfTtcbiAgICBWaWV3Lmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIFZpZXc7XG59KCkpO1xuZXhwb3J0cy5WaWV3ID0gVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0NvbnRyb2xsZXJcIik7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlcjtcbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9GYWNhZGVcIik7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZV8xLkZhY2FkZTtcbnZhciBNZWRpYXRvcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01lZGlhdG9yXCIpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yXzEuTWVkaWF0b3I7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Nb2RlbFwiKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbF8xLk1vZGVsO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTm90aWZpZXJcIik7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXJfMS5Ob3RpZmllcjtcbnZhciBQcm94eV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1Byb3h5XCIpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5XzEuUHJveHk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1B1cmVNVkNcIik7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDXzEuUHVyZU1WQztcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvVmlld1wiKTtcbmV4cG9ydHMuVmlldyA9IFZpZXdfMS5WaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Ob2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kKG5vZGUgPT4gbm9kZS54ID09PSBvdGhlck5vZGUueFxuICAgICAgICAgICAgJiYgbm9kZS55ID09PSBvdGhlck5vZGUueSAmJiBub2RlLnogPT09IG90aGVyTm9kZS56KSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gb3RoZXJOb2RlLnggJiYgdGhpcy55ID09PSBvdGhlck5vZGUueSAmJiB0aGlzLnogPT09IG90aGVyTm9kZS56O1xuICAgIH1cblxuICAgIGVxdWFsc1BvaW50KHgsIHksIHopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHkgJiYgdGhpcy56ID09PSB6O1xuICAgIH1cblxuICAgIGFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZChvdGhlck5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnB1c2gob3RoZXJOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVJbmRleCA9IHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZEluZGV4KG5vZGUgPT4gbm9kZS5lcXVhbHMob3RoZXJOb2RlKSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMuc3BsaWNlKGNvbm5lY3RlZE5vZGVJbmRleCwgMSk7XG4gICAgfVxufSIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUdhbWVNYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAvLyBPbmNlIGEgZ2FtZU1hcCBzY2VuZSBpcyBsb2FkZWQsIHBhcnNlIGdhbWVNYXAgVk8sIGdlbmVyYXRlIG5hdiBtZXNoLCBldGNcbiAgICAvLyBHZXQgbmF2aWdhdGlvbiBmbG9vcnNcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZU1hcEZsb29yKGFwcCk7XG4gICAgY29uc3Qgd2FsbHMgPSBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgY292ZXIgPSBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgcG9ydGFscyA9IGNyZWF0ZVBvcnRhbHMoYXBwKTtcblxuXG4gICAgLy8gUmVnaXN0ZXIgbWVkaWF0b3JzXG5cbiAgICBpZiAoZmFjYWRlLmhhc1Byb3h5KEdhbWVNYXBQcm94eS5OQU1FKSkge1xuICAgICAgICAvLyByZW1vdmUgb2xkIG1hcFxuICAgICAgICBmYWNhZGUucmVtb3ZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpXG4gICAgfVxuXG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVNYXBQcm94eShmbG9vckdyaWQsIHdhbGxzLCBjb3ZlciwgcG9ydGFscykpO1xuICAgIGNvbnNvbGUubG9nKCdNQVBfR1JJRF9DUkVBVEVEJyk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBGbG9vcihhcHApIHtcbiAgICBjb25zdCBuYXZpZ2F0aW9uRmxvb3JzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCduYXZpZ2F0aW9uX2Zsb29yJyk7XG5cbiAgICBsZXQgY29tcGxldGVkR3JpZCA9IFtdO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkNvbXBvbmVudHMgPSBbXTtcbiAgICAvLyBGaXJzdCBwYXJzZSAtIGNyZWF0ZSBub2RlcyBhbmQgY29ubmVjdGlvbnMgZm9yIGluZGl2aWR1YWwgXG4gICAgLy8gbmF2aWdhdGlvbiBjb21wb25lbnRzXG4gICAgZm9yIChjb25zdCBmbG9vckVudGl0eSBvZiBuYXZpZ2F0aW9uRmxvb3JzKSB7XG4gICAgICAgIGNvbnN0IG5hdkNvbXAgPSBmbG9vckVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICAgICAgbmF2aWdhdGlvbkNvbXBvbmVudHMucHVzaChuYXZDb21wKTtcblxuICAgICAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSlcbiAgICAgICAgbmF2Q29tcC5zZXRHcmlkKGZsb29yR3JpZCk7XG4gICAgfVxuXG4gICAgLy8gU2Vjb25kIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wbGV0ZWRHcmlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxzQm91bmRpbmdCb3hlcyA9IFtdO1xuICAgIGNvbnN0IG1hcFdhbGxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2FsbCcpO1xuICAgIGZvciAoY29uc3QgbWFwV2FsbEVudGl0eSBvZiBtYXBXYWxsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgYWFiYiA9IGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShtYXBXYWxsRW50aXR5KTtcbiAgICAgICAgd2FsbHNCb3VuZGluZ0JveGVzLnB1c2goYWFiYik7XG4gICAgICAgIGNyZWF0ZUZsb29yVW5kZXJXYWxscyhtYXBXYWxsRW50aXR5LCBmbG9vckdyaWQpO1xuICAgICAgICBtYXBXYWxsRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2FsbHNCb3VuZGluZ0JveGVzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShib3hFbnRpdHkpIHtcbiAgICBjb25zdCBzY2FsZSA9IGJveEVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICBjb25zdCBhYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KGJveEVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgcmV0dXJuIGFhYmI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZsb29yVW5kZXJXYWxscyh3YWxsLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsUG9zID0gd2FsbC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHdhbGxTY2FsZSA9IHdhbGwuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHdhbGxQb3MueSAtICh3YWxsU2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQod2FsbFBvcy54IC0gKHdhbGxTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQod2FsbFBvcy56IC0gKHdhbGxTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyB3YWxsU2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIHdhbGxTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBsZXQgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBjb3ZlckVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdjb3ZlcicpO1xuICAgIGZvciAoY29uc3QgY292ZXJFbnRpdHkgb2YgY292ZXJFbnRpdGllcykge1xuICAgICAgICBjb3ZlclBvaW50cyA9IGNvdmVyUG9pbnRzLmNvbmNhdChjcmVhdGVDb3ZlclBvaW50RnJvbUJveChjb3ZlckVudGl0eSwgZmxvb3JHcmlkKSk7XG4gICAgICAgIGNvdmVyRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goYm94LCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGJveFBvcyA9IGJveC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJveFNjYWxlID0gYm94LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChib3hQb3MueSAtIChib3hTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZChib3hQb3MueCAtIChib3hTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQoYm94UG9zLnogLSAoYm94U2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgYm94U2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIGJveFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgY292ZXJQb2ludCA9IG5ldyBwYy5WZWMzKHgsIHksIHopO1xuICAgICAgICAgICAgY292ZXJQb2ludHMucHVzaChjb3ZlclBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3J0YWxzKGFwcCkge1xuICAgIGNvbnN0IHBvcnRhbHMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcG9ydGFsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3BvcnRhbCcpO1xuICAgIGZvciAoY29uc3QgcG9ydGFsRW50aXR5IG9mIHBvcnRhbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHBvcnRhbEVudGl0eS5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBwb3J0YWxJZCA9IHBvcnRhbENvbXBvbmVudC5wb3J0YWxJZDtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb2ludCA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhpdGJveFBvaW50ID0gcG9ydGFsQ29tcG9uZW50LmhpdGJveC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHBvcnRhbCA9IHtcbiAgICAgICAgICAgIHBvcnRhbElkOiBwb3J0YWxJZCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uU2NlbmU6IGRlc3RpbmF0aW9uU2NlbmUsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblBvcnRhbDogZGVzdGluYXRpb25Qb3J0YWwsXG4gICAgICAgICAgICBzdGFuZGluZ1BvaW50OiBzdGFuZGluZ1BvaW50LFxuICAgICAgICAgICAgaGl0Ym94UG9pbnQ6IGhpdGJveFBvaW50XG4gICAgICAgIH1cblxuICAgICAgICBwb3J0YWxzLnNldChwb3J0YWxJZCwgcG9ydGFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9ydGFscztcblxufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG5cbiAgICBnZXRXZWFwb25DYXRlZ29yeSh3ZWFwb25OYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2F0ZWdvcnkgZm9yIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAvLyBSZWdpc3RlciBhcHAtbGV2ZWwgbWVkaWF0b3JzL3Byb3hpZXMvY29tbWFuZHMgaGVyZVxuXG4gICAgLy8gQ3JlYXRlIGdhbWUgc3RhdGUgcHJveHlcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVTdGF0ZVByb3h5KCkpO1xuXG4gICAgLy8gTG9hZCB3ZWFwb25zIGRhdGEgYW5kIGNyZWF0ZSBwcm94eVxuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgaWYgKGFwcCkge1xuICAgICAgICBjb25zdCB3ZWFwb25zRGF0YSA9IGFwcC5hc3NldHMuZ2V0KDQwNDE1NjMxKS5yZXNvdXJjZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBXZWFwb25zUHJveHkod2VhcG9uc0RhdGEpKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVNjZW5lQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgc2NlbmVOYW1lID0gYXJnc1swXTtcbiAgICBjb25zdCBwb3J0YWxJZCA9IGFyZ3NbMV07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCwgcG9ydGFsSWQpO1xuXG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGhcbiAgICBsZXQgdGVtcG9yYXJ5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gLTE7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcblxuICAgICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcblxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgICAgIHRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTtcbiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgc2h1ZmZsZUFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvU2h1ZmZsZUFycmF5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgQ29tYmF0Vk8gfSA9IHJlcXVpcmUoJy4vQ29tYmF0Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgQ29tYmF0UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ29tYmF0UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzLCB0ZWFtcykge1xuICAgICAgICBzdXBlcihDb21iYXRQcm94eS5OQU1FLCBuZXcgQ29tYmF0Vk8ocGFydGljaXBhbnRzLCB0ZWFtcykpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuc2V0KHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFByb3h5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRUdXJuKCkge1xuICAgICAgICBjb25zdCByb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZTtcblxuICAgICAgICBpZiAocm91bmRJbml0aWF0aXZlICYmIHJvdW5kSW5pdGlhdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHVybklkID0gcm91bmRJbml0aWF0aXZlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gbmV4dFR1cm5JZDtcblxuICAgICAgICAgICAgaWYgKG5leHRUdXJuSWQgIT09ICdlbmRfcm91bmQnKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV4dCBUdXJuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVHVybiAke25leHRUdXJuSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5nZXQobmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgcHJveHkucmVzZXRDb21iYXRUdXJuU3RhdGUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm94eS5pc05QQykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRpYXRpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRXZlcnlvbmUgaXMgb3V0IG9mIHRoZSBjb21iYXQgc29tZWhvdywgcHJvYmFibHkgZGVhZFxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZW5kIG9mIHJvdW5kIHRva2VuXG4gICAgICAgIGluaXRpYXRpdmVzLnB1c2goJ2VuZF9yb3VuZCcpO1xuXG4gICAgICAgIGxldCBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoaW5pdGlhdGl2ZXMpO1xuICAgICAgICAvLyBlbnN1cmUgcm91bmQgZG9lc24ndCBzdGFydCB3aXRoIFwiZW5kX3JvdW5kXCJcbiAgICAgICAgd2hpbGUgKHNodWZmbGVkSW5pdGlhdGl2ZVswXSA9PT0gXCJlbmRfcm91bmRcIikge1xuICAgICAgICAgICAgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KHNodWZmbGVkSW5pdGlhdGl2ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gc2h1ZmZsZWRJbml0aWF0aXZlO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5uZXh0VHVybkNoYXJhY3RlcklkO1xuICAgIH1cblxuICAgIGdldCBhY3RpdmVQYXJ0aWNpcGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQ7XG4gICAgfVxuXG4gICAgc2V0IGFjdGl2ZVBhcnRpY2lwYW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgZ2V0IHRlYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by50ZWFtcztcbiAgICB9XG5cbiAgICByZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIHBhcnRpY2NpcGFudHNcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZGVsZXRlKGNoYXJhY3RlcklkKTtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gaW5pdGlhdGl2ZVxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlLmZpbHRlcihlID0+IGUgIT09IGNoYXJhY3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHRlYW1dIG9mIHRoaXMudGVhbXMuZW50cmllcygpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckluZGV4ID0gdGVhbS5pbmRleE9mKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGVhbS5zcGxpY2UoY2hhcmFjdGVySW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGVhbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcInNwb3R0ZWRcIiwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSk7XG5cblxuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCB0ZWFtcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwbGF5ZXJUZWFtID0gWydwbGF5ZXInXTtcbiAgICB0ZWFtcy5zZXQoJ3BsYXllcl90ZWFtJywgcGxheWVyVGVhbSk7XG5cbiAgICBjb25zdCBvcHBvc2luZ1RlYW0gPSBbaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZF0uY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT0gcG9zO1xuICAgIH0pO1xuICAgIHRlYW1zLnNldCgnb3Bwb3NpbmdfdGVhbScsIG9wcG9zaW5nVGVhbSk7XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBwbGF5ZXJUZWFtLmNvbmNhdChvcHBvc2luZ1RlYW0pO1xuXG5cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX01PVkVNRU5UICsgcGFydGljaXBhbnQpO1xuICAgICAgICBpZiAocGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KHBhcnRpY2lwYW50cywgdGVhbXMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgIH0sIDIwMDApO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgfSwgNTAwKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBCZWhhdmlvdXJTdGF0dXMge1xuICAgIHN0YXRpYyBnZXQgU1VDQ0VTUygpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEZBSUxVUkUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBSVU5OSU5HKCkgeyByZXR1cm4gMiB9O1xuICAgIHN0YXRpYyBnZXQgRVJST1IoKSB7IHJldHVybiAzIH07XG59IiwiaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmlkID0gY3JlYXRlVVVJRCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgW107XG4gICAgfVxuXG4gICAgZXhlY3V0ZSh0aWNrKSB7XG4gICAgICAgIC8qIEVOVEVSICovXG4gICAgICAgIHRoaXMuX2VudGVyKHRpY2spO1xuXG4gICAgICAgIC8qIE9QRU4gKi9cbiAgICAgICAgaWYgKCF0aWNrLmJsYWNrYm9hcmQuZ2V0KCdpc09wZW4nLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9vcGVuKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVElDSyAqL1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLl90aWNrKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFICovXG4gICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIEVYSVQgKi9cbiAgICAgICAgdGhpcy5fZXhpdCh0aWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIF9lbnRlcih0aWNrKSB7XG4gICAgICAgIHRpY2suZW50ZXJOb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmVudGVyKHRpY2spO1xuICAgIH1cblxuICAgIF9vcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5vcGVuTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgdHJ1ZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5vcGVuKHRpY2spO1xuICAgIH1cblxuICAgIF90aWNrKHRpY2spIHtcbiAgICAgICAgdGljay50aWNrTm9kZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGljayh0aWNrKTtcbiAgICB9XG5cbiAgICBfY2xvc2UodGljaykge1xuICAgICAgICB0aWNrLmNsb3NlTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgZmFsc2UsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuY2xvc2UodGljayk7XG4gICAgfVxuXG4gICAgX2V4aXQodGljaykge1xuICAgICAgICB0aWNrLmV4aXROb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4aXQodGljayk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcmlkZSB0aGVzZVxuICAgIGVudGVyKHRpY2spIHsgfVxuICAgIG9wZW4odGljaykgeyB9XG4gICAgdGljayh0aWNrKSB7IHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1IgfVxuICAgIGNsb3NlKHRpY2spIHsgfVxuICAgIGV4aXQodGljaykgeyB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgdmFyIHMgPSBbXTtcbiAgICB2YXIgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxNF0gPSBcIjRcIjtcblxuICAgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpO1xuXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgdmFyIHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG5cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNYXN0ZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUuZXhlY3V0ZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEJsYWNrYm9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLmJhc2VNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSBnbG9iYWwgaW5mb3JtYXRpb25cbiAgICAgICAgdGhpcy50cmVlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgdHJlZSBhbmQgbm9kZSBpbmZvcm1hdGlvblxuICAgIH1cblxuICAgIGdldFRyZWVNZW1vcnkodHJlZVNjb3BlKSB7XG4gICAgICAgIGlmICghdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0pIHtcbiAgICAgICAgICAgIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdID0ge1xuICAgICAgICAgICAgICAgIG5vZGVNZW1vcnk6IHt9LFxuICAgICAgICAgICAgICAgIG9wZW5Ob2RlczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE5vZGVNZW1vcnkodHJlZU1lbW9yeSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRyZWVNZW1vcnlbJ25vZGVNZW1vcnknXTtcbiAgICAgICAgaWYgKCFtZW1vcnkuaGFzT3duUHJvcGVydHkobm9kZVNjb3BlKSkge1xuICAgICAgICAgICAgbWVtb3J5W25vZGVTY29wZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnlbbm9kZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgdmFyIG1lbW9yeSA9IHRoaXMuYmFzZU1lbW9yeTtcblxuICAgICAgICBpZiAodHJlZVNjb3BlKSB7XG4gICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldFRyZWVNZW1vcnkodHJlZVNjb3BlKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVTY29wZSkge1xuICAgICAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0Tm9kZU1lbW9yeShtZW1vcnksIG5vZGVTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5O1xuICAgIH07XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICBtZW1vcnlba2V5XSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQoa2V5LCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIHJldHVybiBtZW1vcnlba2V5XTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFRpY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzID0gW107XG4gICAgICAgIHRoaXMubm9kZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlbnRlck5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm5vZGVDb3VudCsrO1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cblxuICAgIG9wZW5Ob2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIHRpY2tOb2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIGNsb3NlTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnBvcCgpO1xuICAgIH1cblxuICAgIGV4aXROb2RlKG5vZGUpIHtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBUaWNrIH0gZnJvbSBcIi4vVGlja1wiO1xuXG5leHBvcnQgY2xhc3MgQmVoYXZpb3VyVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKGlkKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yb290ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRpY2sodGFyZ2V0LCBibGFja2JvYXJkKSB7XG4gICAgICAgIC8qIENSRUFURSBBIFRJQ0sgT0JKRUNUICovXG4gICAgICAgIGNvbnN0IHRpY2sgPSBuZXcgVGljaygpO1xuICAgICAgICB0aWNrLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGljay5ibGFja2JvYXJkID0gYmxhY2tib2FyZDtcbiAgICAgICAgdGljay50cmVlID0gdGhpcztcblxuICAgICAgICAvKiBUSUNLIE5PREUgKi9cbiAgICAgICAgdGhpcy5yb290LmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgTk9ERVMgRlJPTSBMQVNUIFRJQ0ssIElGIE5FRURFRCAqL1xuICAgICAgICBjb25zdCBsYXN0T3Blbk5vZGVzID0gYmxhY2tib2FyZC5nZXQoJ29wZW5Ob2RlcycsIHRoaXMuaWQpIHx8IFtdO1xuICAgICAgICBjb25zdCBjdXJyT3Blbk5vZGVzID0gdGljay5vcGVuTm9kZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgLy8gZG9lcyBub3QgY2xvc2UgaWYgaXQgaXMgc3RpbGwgb3BlbiBpbiB0aGlzIHRpY2tcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihsYXN0T3Blbk5vZGVzLmxlbmd0aCwgY3Vyck9wZW5Ob2Rlcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBpZiAobGFzdE9wZW5Ob2Rlc1tpXSAhPT0gY3Vyck9wZW5Ob2Rlc1tpXSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vZGVzXG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0T3Blbk5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgbGFzdE9wZW5Ob2Rlc1tpXS5jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFBPUFVMQVRFIEJMQUNLQk9BUkQgKi9cbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ29wZW5Ob2RlcycsIGN1cnJPcGVuTm9kZXMsIHRoaXMuaWQpO1xuICAgICAgICBibGFja2JvYXJkLnNldCgnbm9kZUNvdW50JywgdGljay5ub2RlQ291bnQsIHRoaXMuaWQpO1xuXG4gICAgfVxufSIsImltcG9ydCB7IEJsYWNrYm9hcmQgfSBmcm9tICcuLi9jb3JlL0JsYWNrYm9hcmQnO1xuaW1wb3J0IHsgQmVoYXZpb3VyVHJlZSB9IGZyb20gJy4uL2NvcmUvQmVoYXZpb3VyVHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9ICdiYXNpY01lbGVlVHJlZSc7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IG5ldyBCbGFja2JvYXJkKCk7XG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBCZWhhdmlvdXJUcmVlKGlkKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICAvLyBPdmVycmlkZSB0byBzZXQgdHJlZVxuICAgIH1cblxuICAgIHJ1bkNvbW1hbmRzKGZhY2FkZSwgY2hhcmFjdGVySWQpIHtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImZhY2FkZVwiLCBmYWNhZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJjaGFyYWN0ZXJJZFwiLCBjaGFyYWN0ZXJJZCwgdGhpcy50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50cmVlLnRpY2sodGhpcywgdGhpcy5ibGFja2JvYXJkKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgUHJpb3JpdHkgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBTZXRQbGF5ZXJBc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgndGFyZ2V0JywgJ3BsYXllcicsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIE1lbGVlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIEVuZENvbWJhdFR1cm4gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc01vdmVtZW50UmVtYWluaW5nIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzTmV4dFRvUGxheWVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhjaGFyYWN0ZXJDdXJyZW50Tm9kZSkpO1xuXG4gICAgICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNZW1TZXF1ZW5jZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBvcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgMCwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdydW5uaW5nQ2hpbGQnLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBjaGlsZDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmNoaWxkcmVuW2ldLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgaSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vQmVoYXZpb3VyU3RhdHVzJztcbmV4cG9ydCBjbGFzcyBJbnZlcnRlciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcblxuICAgICAgICAvLyBwcmVzdW1lIGludmVydGVyIGhhcyBvbmUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSlcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc1RhcmdldERlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzRGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzQWN0aW9uc1JlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IE1lbGVlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBIYXNNb3ZlbWVudFJlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZyc7XG5pbXBvcnQgeyBJc05leHRUb1BsYXllciB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllcic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBNb3ZlVG93YXJkc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljTWVsZWVUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY01lbGVlVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJc05leHRUb1BsYXllcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbGVlQXR0YWNrVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBdKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgbm9kZSA9IGFyZ3NbMF07XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB2by5pZCwgcGF0aCk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhbGthYmxlTm9kZXMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDIzNTk2Nik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB3YWxrYWJsZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB3YWxrYWJsZVRpbGVBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aWxlLnNldExvY2FsUG9zaXRpb24obm9kZS54LCBub2RlLnksIG5vZGUueik7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGthYmxlX3RpbGUnKTtcbiAgICBmb3IgKGNvbnN0IHdhbGthYmxlVGlsZUVudGl0eSBvZiB3YWxrYWJsZVRpbGVFbnRpdGllcykge1xuICAgICAgICB3YWxrYWJsZVRpbGVFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gXCIuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXJcIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgbW92ZWFibGVOb2Rlcyk7XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gXCIuL0dhbWVDb21tYW5kc1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kTW92ZW1lbnRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5kTm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZW5kTm9kZTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGlkKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIHJldHVybiBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LFxuICAgICAgICBjdXJyZW50Tm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICBjdXJyZW50Tm9kZS56KTtcbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCB3ZWFwb25Qcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvblByb3h5LmdldFdlYXBvbkNhdGVnb3J5KHBsYXllckNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snICYmIHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIFwicGxheWVyXCIsIHBhdGhUb1RhcmdldCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoIWNvbWJhdFByb3h5IHx8IGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAvLyBub3QgeW91ciB0dXJuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyQ2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA8PSAwKSB7XG4gICAgICAgICAgICAvLyBvdXQgb2YgYWN0aW9uc1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJPdXQgb2YgYWN0aW9uc1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNUYXJnZXRBZGphY2VudChwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgICAgICAgICAgICAgIC8vIHBhdGggbGVuZ3RoIGluY2x1ZGVzIGN1cnJlbnQgbm9kZSwgc28gZGVkdWN0IG9uIHRvIHdvcmsgb3V0IGFjdHVhbCBtb3ZlYWJsZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgIGlmIChwYXRoVG9UYXJnZXQgJiYgcGF0aFRvVGFyZ2V0Lmxlbmd0aCAtIDEgPD0gcGxheWVyQ2hhcmFjdGVyUHJveHkudm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3ZWFwb24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCwgcGF0aFRvVGFyZ2V0KTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIHBhdGhUb1RhcmdldC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiQ2Fubm90IHJlYWNoIHRhcmdldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcGxheWVyQ2hhcmFjdGVyUHJveHkuaWQsIHRhcmdldENoYXJhY3RlclByb3h5LmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgdGFyZ2V0Q3VycnJlbnROb2RlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICByZXR1cm4gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHRhcmdldEN1cnJyZW50Tm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBwbGF5ZXJQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkocGxheWVyQ2hhcmFjdGVyUHJveHkpO1xuICAgIGNvbnN0IHRhcmdldFBvaW50ID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG5cbiAgICByZXR1cm4gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChwbGF5ZXJQb2ludCwgdGFyZ2V0UG9pbnQpO1xufVxuIiwiaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICBjb25zdCBidXR0b25OYW1lID0gYXJnc1sxXTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09IGFjdGlvbk5hbWUpIHtcbiAgICAgICAgLy8gRGVzZWxlY3QgYWN0aW9uXG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gYWN0aW9uTmFtZTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTiwgYnV0dG9uTmFtZSk7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvblR5cGVzIH0gZnJvbSAnLi4vZGF0YS9XZWFwb25UeXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGNvbnN0IGF0dGFja2VyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclByb3h5LnNraWxsKTtcbiAgICBjb25zdCBkZWZlbmRlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdpbm5lclxuICAgIGlmIChhdHRhY2tlclJvbGwgPT09IGRlZmVuZGVyUm9sbCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25zUHJveHkuZ2V0V2VhcG9uQ2F0ZWdvcnkoZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG4gICAgICAgICAgICBjb25zdCBoYXNNZWxlZVdlYXBvbiA9IHdlYXBvbkNhdGVnb3J5ID09PSBcIm1lbGVlXCI7XG5cbiAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGRlZmVuZGVyUm9sbCwgYXR0YWNrZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IChoYXNNZWxlZVdlYXBvbikgPyBkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uIDogV2VhcG9uVHlwZXMuVU5BUk1FRDtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2Uod2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2RlZmVuZGVySWR9IGRhbWFnZXMgJHthdHRhY2tlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBhdHRhY2tlcklkKTtcblxuICAgICAgICB9LCAxNTAwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXRJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgcGF0aCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LnVzZU1vdmVtZW50KHBhdGgubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgY2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuICAgIGNvbnN0IGZpbmlzaE1vdmVQcm9taXNlID0gY2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKTtcbiAgICBmaW5pc2hNb3ZlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBjaGFyYWN0ZXJJZCwgdGFyZ2V0SWQpO1xuXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zb2xlLmxvZyhgS2lsbCBjaGFyYWN0ZXI6OiAke2NoYXJhY3RlcklkfWApO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRlYXRoXCIsIGNoYXJhY3RlclByb3h5KTtcblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgIGNvbWJhdFByb3h5LnJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbG9zaW5nVGVhbSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBpZiAoZmFjYWRlLmhhc01lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIGZhY2FkZS5yZW1vdmVNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcblxuICAgIGlmIChsb3NpbmdUZWFtID09PSAncGxheWVyX3RlYW0nKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBHYW1lIE92ZXJgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVmljdG9yeWApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWluRGlzdGFuY2UsIG1heERpc3RhbmNlKSB7XG4gICAgICAgIHN1cGVyKFtdKTtcbiAgICAgICAgdGhpcy5taW5EaXN0YW5jZSA9IG1pbkRpc3RhbmNlO1xuICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gbWF4RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG1pbkRpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWluRGlzdGFuY2UsIDIpO1xuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1heERpc3RhbmNlLCAyKTtcblxuICAgICAgICBjb25zdCBtb3ZlUG9pbnRzQXZhaWxhYmxlID0gY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGNoYXJhY3RlckN1cnJlbnROb2RlKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPj0gbWluRGlzdGFuY2VTcXJ0ICYmIGRpc3RhbmNlVG9UYXJnZXQgPD0gbWF4RGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHdpdGhpbiByYW5nZSwgZ2V0IG9uIHdpdGggaXRcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2goY2hhcmFjdGVyQ3VycmVudE5vZGUsIG1vdmVQb2ludHNBdmFpbGFibGUpO1xuICAgICAgICAgICAgaWYgKG1vdmVhYmxlTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0IDwgbWluRGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpID4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGZhciBhd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpICsgTWF0aC5wb3cocDIueiAtIHAxLnosIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFBpY2tOZXh0QWN0aW9uIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBDYW5TZWVUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIC8vIExvb2sgdG8gdGhlIGNlbnRlciBvZiBlYWNoIGNoYXJhY3RlclxuICAgICAgICBjb25zdCBmcm9tUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb2xsb3cgcGF0aCB0byBzZWUgaWYgdGFyZ2V0IGlzIHZpc2libGUgZnJvbSBhbnkgcG9pbnRcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhOb2RlID0gcGF0aFtpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tUG9zID0gbmV3IHBjLlZlYzMocGF0aE5vZGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS56KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmltIHRvIHBvaW50IG9mIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICBwYXRoLnNwbGljZSgwLCBkZWxldGVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJhbmdlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0JztcbmltcG9ydCB7IFBpY2tOZXh0QWN0aW9uIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uJztcbmltcG9ydCB7IENhblNlZVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNSYW5nZWRUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY1JhbmdlZFRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgQ2FuU2VlVGFyZ2V0KCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCg5LCAxMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGlja05leHRBY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5TZWVUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlQXR0YWNrVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiXG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgQmFzaWNSYW5nZWRUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuXG4gICAgc3dpdGNoIChlbmVteVByb3h5LmJvdEJlaGF2aW91cikge1xuICAgICAgICBjYXNlIEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICAgICAgICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQ6XG4gICAgICAgICAgICBjb25zdCBiYXNpY1JhbmdlZFRyZWUgPSBuZXcgQmFzaWNSYW5nZWRUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY1JhbmdlZFRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgLy8gU2NvcmVzIGZvciBjb21wYXJpc3NvblxuICAgIGxldCBhdHRhY2tlclNjb3JlID0gMDtcbiAgICBsZXQgZGVmZW5kZXJTY29yZSA9IDA7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBhdHRhY2tlck5vZGUgPSBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGxldCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBsZXQgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJOb2RlID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgYXR0YWNrZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgZGVmZW5kZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGlzSW5Db3ZlciA9IGdhbWVNYXBQcm94eS5pc0luQ292ZXIoXG4gICAgICAgIG5ldyBwYy5WZWMzKGRlZmVuZGVyTm9kZS54LCBkZWZlbmRlck5vZGUueSwgZGVmZW5kZXJOb2RlLnopLFxuICAgICAgICBuZXcgcGMuVmVjMyhhdHRhY2tlck5vZGUueCwgYXR0YWNrZXJOb2RlLnksIGF0dGFja2VyTm9kZS56KSk7XG5cbiAgICBpZiAoaXNJbkNvdmVyKSB7XG4gICAgICAgIGRlZmVuZGVyU2NvcmUgKz0gMjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZG9kZ2VcIiwgZGVmZW5kZXJQcm94eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBXZWFwb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgTXVzdCBjaGFuZ2Ugd2VhcG9uIG9uIHlvdXIgdHVybmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHdlYXBvbiA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uID0gd2VhcG9uO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7Y2hhcmFjdGVySWR9IGVxdWlwcyAke3dlYXBvbn1gKTtcblxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc3RhbmRpbmdOb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZShzdGFuZGluZ1Bvc2l0aW9uKTtcbiAgICBjb25zdCBwbGF5ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBwbGF5ZXJNZWRpYXRvci5tb3ZlVG9Ob2RlV2l0aFByb21pc2Uoc3RhbmRpbmdOb2RlKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBkZXN0aW5hdGlvblNjZW5lLCBkZXN0aW5hdGlvblBvcnRhbCk7XG4gICAgICAgIH0pO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgcG9ydGFsSWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDUyMzMzNik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcbiAgICBjb25zdCBwbGF5ZXJFbnRpdHkgPSBwbGF5ZXJDaGFyYWN0ZXJBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIGNvbnRhaW5lci5hZGRDaGlsZChwbGF5ZXJFbnRpdHkpO1xuXG4gICAgY29uc3QgbWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgcG9ydGFsID0gbWFwUHJveHkucmV0cmlldmVQb3J0YWwocG9ydGFsSWQpO1xuICAgIHBsYXllckVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvcnRhbC5zdGFuZGluZ1BvaW50KTtcblxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmVteVR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWROb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kJztcbmltcG9ydCB7IGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kTW92ZW1lbnRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBXZWFwb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQnO1xuaW1wb3J0IHsgYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIGNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCwgZW5kQ29tYmF0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIGVxdWlwV2VhcG9uQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9USFJPVUdIX1BPUlRBTCwgbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAsIGFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCk7XG4gICAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIEJvdEJlaGF2aW91clR5cGVzIHtcbiAgICBzdGF0aWMgZ2V0IE5PTkUoKSB7IHJldHVybiAwIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19NRUxFRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IEJBU0lDX1JBTkdFRCgpIHsgcmV0dXJuIDIgfTtcblxufVxuXG5leHBvcnQgY29uc3QgYm90QmVoYXZpb3VyRW51bXMgPSBbXG4gICAgeyBOT05FOiBCb3RCZWhhdmlvdXJUeXBlcy5OT05FIH0sXG4gICAgeyBCQVNJQ19NRUxFRTogQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfTUVMRUUgfSxcbiAgICB7IEJBU0lDX1JBTkdFRDogQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfUkFOR0VEIH0sXG5dIiwiZXhwb3J0IGNsYXNzIEdhbWVDb21tYW5kcyB7XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORVwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkVfQ09NUExFVEUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORV9DT01QTEVURVwiIH07XG4gICAgc3RhdGljIGdldCBBUFBfSU5JVElBTElTRUQoKSB7IHJldHVybiBcIkFQUF9JTklUSUFMSVNFRFwiIH07XG4gICAgc3RhdGljIGdldCBQQVJTRV9HQU1FTUFQKCkgeyByZXR1cm4gXCJQQVJTRV9HQU1FTUFQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BUF9HUklEX0NSRUFURUQoKSB7IHJldHVybiBcIk1BUF9HUklEX0NSRUFURURcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RIUk9VR0hfUE9SVEFMKCkgeyByZXR1cm4gXCJOQVZJR0FURV9USFJPVUdIX1BPUlRBTFwiIH07XG4gICAgc3RhdGljIGdldCBDT01CQVRfTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiQ09NQkFUX05BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NBTUVSQV9UQVJHRVQoKSB7IHJldHVybiBcIlNFVF9DQU1FUkFfVEFSR0VUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IElOUFVUX0RSQUdfTU9VU0UoKSB7IHJldHVybiBcIklOUFVUX0RSQUdfTU9VU0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBNT1ZFRF9UT19OT0RFKCkgeyByZXR1cm4gXCJNT1ZFRF9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEZJTklTSEVEX01PVkUoKSB7IHJldHVybiBcIkZJTklTSEVEX01PVkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRfQ09NQkFUKCkgeyByZXR1cm4gXCJTVEFSVF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19UT0FTVF9NRVNTQUdFKCkgeyByZXR1cm4gXCJTSE9XX1RPQVNUX01FU1NBR0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1JPVU5EKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9ST1VORFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVQoKSB7IHJldHVybiBcIkVORF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5FTVlfVFVSTigpIHsgcmV0dXJuIFwiRU5FTVlfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RFRF9OT0RFKCkgeyByZXR1cm4gXCJTRUxFQ1RFRF9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTigpIHsgcmV0dXJuIFwiREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfQUxPTkdfUEFUSCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfQUxPTkdfUEFUSFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiU0hPV19XQUxLQUJMRV9BUkVBXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiSElERV9XQUxLQUJMRV9BUkVBXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBFTkRfTU9WRU1FTlQoKSB7IHJldHVybiBcIkVORF9NT1ZFTUVOVFwiIH07XG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DSEFSQUNURVJfVE9fTk9ERSgpIHsgcmV0dXJuIFwiU0VUX0NIQVJBQ1RFUl9UT19OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJTRUxFQ1RfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRVRfUExBWUVSX0FDVElPTigpIHsgcmV0dXJuIFwiU0VUX1BMQVlFUl9BQ1RJT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVE9HR0xFX0JVVFRPTigpIHsgcmV0dXJuIFwiVE9HR0xFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX1JBTkdFRF9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfUkFOR0VEX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NUQU1JTkEoKSB7IHJldHVybiBcIkNIQU5HRV9TVEFNSU5BXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRVFVSVBfV0VBUE9OKCkgeyByZXR1cm4gXCJFUVVJUF9XRUFQT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRkxPQVRJTkdfU1RBVFVTKCkgeyByZXR1cm4gXCJESVNQTEFZX0ZMT0FUSU5HX1NUQVRVU1wiIH07XG4gICAgc3RhdGljIGdldCBBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAoKSB7IHJldHVybiBcIkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUFwiIH07XG5cblxuXG59XG4iLCJleHBvcnQgY2xhc3MgV2VhcG9uVHlwZXMge1xuICAgIC8vIE1FTEVFXG4gICAgc3RhdGljIGdldCBTV09SRCgpIHsgcmV0dXJuIFwic3dvcmRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVhFKCkgeyByZXR1cm4gXCJheGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgS05JRkUoKSB7IHJldHVybiBcImtuaWZlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQUZGKCkgeyByZXR1cm4gXCJzdGFmZlwiIH07XG4gICAgc3RhdGljIGdldCBIQU1NRVIoKSB7IHJldHVybiBcImhhbW1lclwiIH07XG4gICAgc3RhdGljIGdldCBTUEVBUigpIHsgcmV0dXJuIFwic3BlYXJcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFDRSgpIHsgcmV0dXJuIFwibWFjZVwiIH07XG4gICAgc3RhdGljIGdldCBQT0xFQVJNKCkgeyByZXR1cm4gXCJwb2xlYXJtXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BVUwoKSB7IHJldHVybiBcIm1hdWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgR1JFQVRTV09SRCgpIHsgcmV0dXJuIFwiZ3JlYXRzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBDTFVCKCkgeyByZXR1cm4gXCJjbHViXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVOQVJNRUQoKSB7IHJldHVybiBcInVuYXJtZWRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hJRUxEKCkgeyByZXR1cm4gXCJzaGllbGRcIiB9O1xuXG4gICAgLy8gUkFOR0VEXG4gICAgc3RhdGljIGdldCBGVVNJTCgpIHsgcmV0dXJuIFwiZnVzaWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQk9XKCkgeyByZXR1cm4gXCJib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ1JPU1NCT1coKSB7IHJldHVybiBcImNyb3NzYm93XCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBJU1RPTEVUKCkgeyByZXR1cm4gXCJwaXN0b2xldFwiIH07XG59XG5cbmV4cG9ydCBjb25zdCB3ZWFwb25FbnVtcyA9IE9iamVjdC5lbnRyaWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKFdlYXBvblR5cGVzKSlcbiAgICAuZmlsdGVyKChba2V5LCBkZXNjcmlwdG9yXSkgPT4gdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nKVxuICAgIC5tYXAoKFtrZXldKSA9PiB7XG4gICAgICAgIHJldHVybiB7IFtrZXldOiBXZWFwb25UeXBlc1trZXldIH07XG4gICAgfSk7IiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnJvdW5kSW5pdGlhdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRlYW1zID0gdGVhbXM7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPSBNYXRoLm1heCgwLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hKTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIHRoaXMuaWQsIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4U3RhbWluYSk7XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnROb2RlO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZU1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlTW92ZW1lbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVBY3Rpb25zO1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVBY3Rpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgdGhpcy5pZCxcbiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucywgdGhpcy5tYXhBY3Rpb25zUGVyVHVybik7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFjdGlvbnNQZXJUdXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICBnZXQgc2tpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNraWxsO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50U3RhbWluYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJWTyB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIHRoaXMuaXNOUEMgPSBwYXJhbXMuaXNOUEM7XG4gICAgICAgIHRoaXMuY29tYmF0R3JvdXAgPSBwYXJhbXMuY29tYmF0R3JvdXAgfHwgW107XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVHJvaWthIHN0YXRzXG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IHBhcmFtcy5pbml0aWF0aXZlIHx8IDI7XG4gICAgICAgIHRoaXMubWF4TW92ZW1lbnQgPSBwYXJhbXMubWF4TW92ZW1lbnQgfHwgNjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJhbXMuaGVpZ2h0IHx8IDEuODtcbiAgICAgICAgdGhpcy5tYXhBY3Rpb25zUGVyVHVybiA9IDE7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG4gICAgICAgIHRoaXMuc2tpbGwgPSBwYXJhbXMuc2tpbGwgfHwgMTtcblxuICAgICAgICB0aGlzLm1heFN0YW1pbmEgPSBwYXJhbXMubWF4U3RhbWluYSB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGFtaW5hID0gdGhpcy5tYXhTdGFtaW5hO1xuXG4gICAgICAgIHRoaXMubWF4THVjayA9IHBhcmFtcy5tYXhMdWNrIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudEx1Y2sgPSB0aGlzLm1heEx1Y2s7XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNraWxscyA9IHBhcmFtcy5hZHZhbmNlZFNraWxscyB8fCB7fTtcblxuICAgICAgICB0aGlzLmJvdEJlaGF2aW91ciA9IHBhcmFtcy5ib3RCZWhhdmlvdXIgfHwgMDtcblxuICAgICAgICB0aGlzLmVxdWlwcGVkV2VhcG9uID0gcGFyYW1zLmVxdWlwcGVkV2VhcG9uIHx8IFwidW5hcm1lZFwiO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IGdldEFkamFjZW50UG9pbnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvQWRqYWNlbnRQb2ludHMnO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQsIHdhbGxCb3VuZGluZ0JveGVzLCBjb3ZlciwgcG9ydGFscykge1xuICAgICAgICBzdXBlcihHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICAgIG1hcEdyaWQ6IG1hcEdyaWQsXG4gICAgICAgICAgICB3YWxsQm91bmRpbmdCb3hlczogd2FsbEJvdW5kaW5nQm94ZXMsXG4gICAgICAgICAgICBjb3ZlcjogY292ZXIsXG4gICAgICAgICAgICBwb3J0YWxzOiBwb3J0YWxzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG5cbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdE5vZGUodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWFwR3JpZCA9IHRoaXMudm8ubWFwR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBtYXBHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG1hcEdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxuXG4gICAgcmF5SW50ZXJzZWN0c1dhbGwoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlKHRvKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdG8uY2xvbmUoKS5zdWIoZnJvbS5jbG9uZSgpKS5ub3JtYWxpemUoKTtcbiAgICAgICAgY29uc3QgcmF5ID0gbmV3IHBjLlJheShmcm9tLCBkaXJlY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IG1hcFdhbGxzID0gdGhpcy52by53YWxsQm91bmRpbmdCb3hlcztcbiAgICAgICAgZm9yIChjb25zdCB3YWxsIG9mIG1hcFdhbGxzKSB7XG4gICAgICAgICAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB3YWxsLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0hpdCA9IGhpdFBvc2l0aW9uLmRpc3RhbmNlKGZyb20pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9IaXQgPCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGNvdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb3ZlcjtcbiAgICB9XG5cblxuICAgIGlzSW5Db3Zlcih0YXJnZXRQb2ludCwgYXR0YWNraW5nRnJvbSkge1xuICAgICAgICBjb25zdCBhZGphY2VudENvdmVyUG9pbnRzID0gW107XG4gICAgICAgIGNvbnN0IGFkamFjZW50UG9pbnRzID0gZ2V0QWRqYWNlbnRQb2ludHModGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRQb2ludCBvZiBhZGphY2VudFBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlID0gdGhpcy5jb3Zlci5maW5kKChjb3ZlclBvaW50KSA9PiBhZGphY2VudFBvaW50LmVxdWFscyhjb3ZlclBvaW50KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlKSB7XG4gICAgICAgICAgICAgICAgYWRqYWNlbnRDb3ZlclBvaW50cy5wdXNoKGFkamFjZW50UG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFkamFjZW50Q292ZXJQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IHRhcmdldFBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhZGphY2VudENvdmVyUG9pbnQgb2YgYWRqYWNlbnRDb3ZlclBvaW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9Db3ZlciA9IGFkamFjZW50Q292ZXJQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0NvdmVyIDwgZGlzdGFuY2VUb1RhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXRyaWV2ZVBvcnRhbChwb3J0YWxJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wb3J0YWxzLmdldChwb3J0YWxJZCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEFkamFjZW50UG9pbnRzKHBvaW50KSB7XG4gICAgY29uc3QgcG9pbnRzID0gW11cbiAgICAvL05vcnRoXG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiAtIDEpKTtcbiAgICAvL0Vhc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54ICsgMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vV2VzdFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LnggLSAxLCBwb2ludC55LCBwb2ludC56KSk7XG4gICAgLy9Tb3V0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogKyAxKSk7XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufSIsImV4cG9ydCBjbGFzcyBHYW1lTWFwVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcEdyaWQgPSBbXTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFByaW9yaXR5UXVldWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB9XG5cbiAgICBwdXNoKHZhbHVlLCBwcmlvcml0eSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMuZGF0YVtpXS5wcmlvcml0eTtcbiAgICAgICAgICAgIGlmIChNYXRoLm1pbihtaW4sIHByaW9yaXR5KSA9PT0gcHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zcGxpY2UoaW5kZXgsIDEpWzBdLnZhbHVlO1xuICAgIH1cblxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoXG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQcmlvcml0eVF1ZXVlIH0gZnJvbSAnLi9Qcmlvcml0eVF1ZXVlJztcblxuZXhwb3J0IGNsYXNzIEFzdGFyIHtcbiAgICBzdGF0aWMgYnJlYWR0aEZpcnN0U2VhcmNoKHN0YXJ0LCByYW5nZUxpbWl0KSB7XG4gICAgICAgIGxldCBmcm9udGllciA9IFtdO1xuICAgICAgICBjb25zdCBzZWFyY2hlZEFyZWEgPSBbXTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuXG4gICAgICAgIGxldCByYW5nZSA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGZyb250aWVyLmxlbmd0aCA+IDAgJiYgcmFuZ2UgPCByYW5nZUxpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGcm9udGllciA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGZyb250aWVyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNhbWVGcm9tLmhhcyhuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Zyb250aWVyLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hlZEFyZWEucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJvbnRpZXIgPSBuZXdGcm9udGllcjtcblxuICAgICAgICAgICAgcmFuZ2UrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWFyY2hlZEFyZWE7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlUGF0aChzdGFydCwgZ29hbCkge1xuICAgICAgICBjb25zdCBmcm9udGllciA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQsIDApO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjb3N0U29GYXIgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIGNvc3RTb0Zhci5zZXQoc3RhcnQsIDApO1xuXG4gICAgICAgIHdoaWxlICghZnJvbnRpZXIuZW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGZyb250aWVyLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3N0ID0gY29zdFNvRmFyLmdldChjdXJyZW50KSArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjb3N0U29GYXIuaGFzKG5leHQpIHx8IG5ld0Nvc3QgPCBjb3N0U29GYXIuZ2V0KG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3N0U29GYXIuc2V0KG5leHQsIG5ld0Nvc3QpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSBuZXdDb3N0ICsgdGhpcy5oZXVyaXN0aWMobmV4dCwgZ29hbCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb250aWVyLnB1c2gobmV4dCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IGdvYWw7XG4gICAgICAgIGxldCBwYXRoSXNCcm9rZW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG5cbiAgICAgICAgd2hpbGUgKCFjdXJyZW50LmVxdWFscyhzdGFydCkgJiYgIXBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgaWYgKGNhbWVGcm9tLmhhcyhjdXJyZW50KSB8fCAhY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2FtZUZyb20uZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aElzQnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3BhdGgucHVzaChzdGFydCk7XG4gICAgICAgICAgICAvLyBwYXRoLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3RTcXVhcmVkKHB0MSwgcHQyKSB7XG4gICAgICAgIHJldHVybiAoKHB0MS54IC0gcHQyLngpICogKHB0MS54IC0gcHQyLngpXG4gICAgICAgICAgICArIChwdDEueSAtIHB0Mi55KSAqIChwdDEueSAtIHB0Mi55KVxuICAgICAgICAgICAgKyAocHQxLnogLSBwdDIueikgKiAocHQxLnogLSBwdDIueikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBoZXVyaXN0aWMoYSwgYikge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoYS54IC0gYi54KSArIE1hdGguYWJzKGEueSAtIGIueSkgKyBNYXRoLmFicyhhLnogLSBiLnopO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVTdGF0ZVZPIH0gPSByZXF1aXJlKCcuL0dhbWVTdGF0ZVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVTdGF0ZVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihHYW1lU3RhdGVQcm94eS5OQU1FLCBuZXcgR2FtZVN0YXRlVk8oKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlR2FtZVN0YXRlVHlwZShuZXdTdGF0ZVR5cGUpIHtcbiAgICAgICAgdGhpcy52by5nYW1lcGxheU1vZGUgPSBuZXdTdGF0ZVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5nYW1lcGxheU1vZGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRBY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50QWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb24gPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZ2FtZXBsYXlNb2RlVHlwZXMgPSB7XG4gICAgRVhQTE9SQVRJT046ICdFWFBMT1JBVElPTicsXG4gICAgQ09NQkFUOiAnQ09NQkFUJyxcbiAgICBESUFMT0dVRTogJ0RJQUxPR1VFJyxcblxufVxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWVwbGF5TW9kZSA9IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQWN0aW9uID0gXCJub25lXCI7XG4gICAgfVxufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yX1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdmlld0NvbXBvbmVudCwgcHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRFxuXG4gICAgICAgIF07XG5cbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuY29uY2F0KHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy52aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZmlyZShub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0S2V5IGluIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0LCBzY3JpcHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtzY3JpcHRLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgbG9va1BvaW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobG9va1BvaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGhpdGJveCA9IHRoaXMudmlld0NvbXBvbmVudC5maW5kQnlOYW1lKFwiSGl0Ym94XCIpO1xuICAgICAgICAgICAgICAgIGlmIChoaXRib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0Ym94LmZpcmUoJ3N0b3BMaXN0ZW5pbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVEZWF0aCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlQXR0YWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVIaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlVG9Ob2RlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgIH1cblxuICAgIG1vdmVUb05vZGVXaXRoUHJvbWlzZSh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBpZiAoIWdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSkge1xuICAgICAgICB9XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjYW5jZWxNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVDdXJyZW50Tm9kZShuZXdOb2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyB0aGlzLmlkLCBuZXdOb2RlKTtcblxuICAgIH1cblxuICAgIGhhbmRsZUZpbmlzaGVkTW9kZShuZXdOb2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIHRoaXMuaWQsIG5ld05vZGUpO1xuICAgIH1cblxuICAgIGxvb2tGb3JDaGFyYWN0ZXIoaWQsIG5vZGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWFyY2hOb2RlIG9mIHRoaXMuc2VhcmNoQXJlYSkge1xuICAgICAgICAgICAgaWYgKHNlYXJjaE5vZGUuZXF1YWxzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KG5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgdGhpcy52aWV3Q29tcG9uZW50LCBbaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN0YXJ0Q29tYmF0KCkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyVk8gPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCkudm87XG5cbiAgICAgICAgLy8gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnN0b3BNb3ZlbWVudChnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNldENoYXJhY3RlclRvTm9kZShub2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnN0b3BNb3ZlbWVudChub2RlKTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVQcm9qZWN0aWxlKHR5cGUsIG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnXS5jcmVhdGVQcm9qZWN0aWxlKHR5cGUsIG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVGYWNhZGUgfSA9IHJlcXVpcmUoJy4uL0dhbWVGYWNhZGUnKTtcblxuZXhwb3J0IGNvbnN0IENhY29nZW5HYW1lID0gcGMuY3JlYXRlU2NyaXB0KCdDYWNvZ2VuR2FtZScpO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBcIk1hcDFcIiwgXCJlbnRyYW5jZVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5XCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBib3RCZWhhdmlvdXJFbnVtcyB9IGZyb20gJy4uLy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgd2VhcG9uRW51bXMgfSBmcm9tIFwiLi4vLi4vZGF0YS9XZWFwb25UeXBlc1wiO1xuXG5leHBvcnQgY29uc3QgR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuXG5jb25zdCBzdGF0c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbCcsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbWF4U3RhbWluYScsXG4gICAgICAgIHRpdGxlOiAnU3RhbWluYScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4THVjaycsXG4gICAgICAgIHRpdGxlOiAnTHVjaycsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnaW5pdGlhdGl2ZScsXG4gICAgICAgIHRpdGxlOiAnSW5pdGlhdGl2ZScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAyXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4TW92ZW1lbnQnLFxuICAgICAgICB0aXRsZTogJ01vdmVtZW50JyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDZcbiAgICB9XG5dO1xuXG5jb25zdCBhZHZhbmNlZFNraWxsc1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbE5hbWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxWYWx1ZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgVmFsdWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH1cbl07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJJZFwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSWRcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA0XG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySGVpZ2h0XCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBIZWlnaHRcIixcbiAgICBkZWZhdWx0OiAxLjhcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiaXNOUENcIiwge1xuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHRpdGxlOiBcImlzIE5QQ1wiLFxuICAgIGRlZmF1bHQ6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic3RhdHNPdmVycmlkZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlN0YXRzIE92ZXJyaWRlc1wiLFxuICAgIHNjaGVtYTogc3RhdHNTY2hlbWFcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYWR2YW5jZWRTa2lsbHNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIkFkdmFuY2VkIFNraWxsc1wiLFxuICAgIHNjaGVtYTogYWR2YW5jZWRTa2lsbHNTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29tYmF0R3JvdXBOYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNvbWJhdCBHcm91cCBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYm90QmVoYXZpb3VyXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkJvdCBCZWhhdmlvdXJcIixcbiAgICBlbnVtOiBib3RCZWhhdmlvdXJFbnVtcyxcbiAgICBkZWZhdWx0OiAwXG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZXF1aXBwZWRXZWFwb25cIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRXF1aXBwZWQgV2VhcG9uXCIsXG4gICAgZW51bTogd2VhcG9uRW51bXMsXG4gICAgZGVmYXVsdDogXCJ1bmFybWVkXCJcbn0pO1xuXG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuXG5cbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRzT3ZlcnJpZGVzID0gdGhpcy5zdGF0c092ZXJyaWRlcztcbiAgICBjb25zdCBwcm94eVBhcmFtcyA9IHtcbiAgICAgICAgaWQ6IHRoaXMuY2hhcmFjdGVySWQsXG4gICAgICAgIGlzTlBDOiB0aGlzLmlzTlBDLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuY2hhcmFjdGVySGVpZ2h0LFxuICAgICAgICBhZHZhbmNlZFNraWxsczogdGhpcy5hZHZhbmNlZFNraWxscyxcbiAgICAgICAgZXF1aXBwZWRXZWFwb246IHRoaXMuZXF1aXBwZWRXZWFwb24sXG4gICAgICAgIC4uLnN0YXRzT3ZlcnJpZGVzLFxuICAgICAgICBib3RCZWhhdmlvdXI6IHRoaXMuYm90QmVoYXZpb3VyXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZGlzYWJsZWQgZW50aXRpZXNcbiAgICAgICAgICAgIGlmIChjb21yYWRlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgICAgIGNvbWJhdEdyb3VwLnB1c2goY29tcmFkZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm94eVBhcmFtcy5jb21iYXRHcm91cCA9IGNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpKTtcbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG5cbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoICYmIHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2FuY2VsTW92ZScpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IHBhdGg7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ3dhbGsuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubW92ZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChkdCkge1xuXG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dFBhdGhQb2ludCA9IHRoaXMubW92ZW1lbnRQYXRoW3RoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCwgZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkLCBkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQpO1xuICAgICAgICBjb25zdCBub2RlUG9pbnQgPSBuZXcgcGMuVmVjMyhuZXh0UGF0aFBvaW50LngsIG5leHRQYXRoUG9pbnQueSwgbmV4dFBhdGhQb2ludC56KTtcbiAgICAgICAgbmV3UG9zaXRpb24uc3ViMihub2RlUG9pbnQsIGxvY2FsUG9zKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubm9ybWFsaXplKCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm11bChzcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLmFkZChsb2NhbFBvcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihuZXdQb3NpdGlvbik7XG4gICAgICAgIHRoaXMubG9va0F0UG9pbnQobmV4dFBhdGhQb2ludCk7XG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb05leHRQYXRoID0gbmV3UG9zaXRpb24uZGlzdGFuY2Uobm9kZVBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLm1vdmVtZW50UGF0aC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2ZpbmlzaGVkTW92ZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3VwZGF0ZUN1cnJlbnROb2RlJywgY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVEZWF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdkaWUuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdoaXQuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUF0dGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdhdHRhY2suZ2xiJywgMC4xKTtcbn0iLCJleHBvcnQgY29uc3QgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzaWdodFJhbmdlXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlNpZ2h0IFJhbmdlXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVELCB0aGlzLmhhbmRsZU1hcEdyaWRDcmVhdGVkLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIsIHRoaXMuaGFuZGxlTW92ZWRUb05vZGUsIHRoaXMpO1xuICAgIGNvbnNvbGUubG9nKCdXYWl0IGZvciBpbml0aWFsJyk7XG59O1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTWFwR3JpZENyZWF0ZWQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbn1cblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdmVkVG9Ob2RlID0gZnVuY3Rpb24gKGlkLCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcblxuICAgIC8vIElnbm9yZSBpZiB0aGUgcGxheWVyIGlzbid0IGV4cGxvcmluZ1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZXBsYXlNb2RlICE9PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTiB8fCB0aGlzLmNoYXJhY3RlclByb3h5LmlzRGVhZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNoYXJhY3RlclBvaW50ID0gbmV3IHBjLlZlYzMoY3VycmVudE5vZGUueCwgY3VycmVudE5vZGUueSwgY3VycmVudE5vZGUueik7XG4gICAgY29uc3QgdGFyZ2V0UG9pbnQgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSwgdGFyZ2V0Tm9kZS56KTtcblxuICAgIGlmIChjaGFyYWN0ZXJQb2ludC5kaXN0YW5jZSh0YXJnZXRQb2ludCkgPD0gdGhpcy5zaWdodFJhbmdlKSB7XG4gICAgICAgIC8vIE1pZ2h0IGJlIHNlZW4gLSBjaGVjayBmb3Igd2FsbHNcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjaGFyYWN0ZXJQb2ludC55ICs9IHRoaXMuY2hhcmFjdGVyUHJveHkuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGNoYXJhY3RlclBvaW50LCB0YXJnZXRQb2ludCkpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyBcInBsYXllclwiLCB0YXJnZXROb2RlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgVG9hc3RNZXNzYWdlTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJUb2FzdE1lc3NhZ2VNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCddLmFkZE1lc3NhZ2UoYXJnc1swXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFRvYXN0TWVzc2FnZU1lZGlhdG9yIH0gZnJvbSBcIi4vVG9hc3RNZXNzYWdlTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFRvYXN0TWVzc2FnZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVG9hc3RNZXNzYWdlQ29tcG9uZW50Jyk7XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21lc3NhZ2VUaW1lJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNZXNzYWdlIFRpbWUnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgVG9hc3RNZXNzYWdlTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn07XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgfVxufVxuXG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvd05leHRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWVbMF07XG5cbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBuZXh0TWVzc2FnZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9LCB0aGlzLm1lc3NhZ2VUaW1lICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBcIlwiO1xuXG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NldENhbWVyYVRhcmdldENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cbi8vIHBvc3RJbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVCwgdGhpcy5lbnRpdHkpO1xufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRMYXllck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW5wdXRMYXllck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgdGhpcy5oYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6bmF2aWdhdGlvbicsIHRoaXMuaGFuZGxlUGlja2VyTmF2aWdhdGlvbiwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignc2Nyb2xsaW5nJywgdGhpcy5oYW5kbGVTY3JvbGxpbmcsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlcihjaGFyYWN0ZXJFbnRpdHkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNUX0dBTUVfQ0hBUkFDVEVSLCBjaGFyYWN0ZXJFbnRpdHkpO1xuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlck5hdmlnYXRpb24obm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RFRF9OT0RFLCBub2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTY3JvbGxpbmcoZGlyZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0UsIGRpcmVjdGlvbik7XG5cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgR2FtZUNhbWVyYSA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNhbWVyYScpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2Rpc3RhbmNlJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ0Rpc3RhbmNlJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJZJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5cbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ3ZlcnRpY2FsU2Nyb2xsJywgeyB0eXBlOiAnYm9vbGVhbicsIGRlZmF1bHQ6IGZhbHNlLCB0aXRsZTogJ1ZlcnRpY2FsIFNjcm9sbCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtaW5DYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01pbiBDYW1lcmEgSGVpZ2h0JyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2FtZXJhTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuc2V0Q2FtZXJhVGFyZ2V0ID0gZnVuY3Rpb24gKGNhbWVyYVRhcmdldCkge1xuICAgIHRoaXMuY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLmVudGl0eS5nZXRFdWxlckFuZ2xlcygpLnk7XG4gICAgdGhpcy5jYW1lcmFIZWlnaHQgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCkueTtcbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaGFuZGxlRHJhZyA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnJvdGF0aW9uICs9IGRpcmVjdGlvbi54ICogdGhpcy5kcmFnTXVsdGlwbGllclg7XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICBsZXQgbmV3Q2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFIZWlnaHQgLSAoZGlyZWN0aW9uLnkgKiB0aGlzLmRyYWdNdWx0aXBsaWVyWSk7XG4gICAgICAgIG5ld0NhbWVyYUhlaWdodCA9IHBjLm1hdGguY2xhbXAobmV3Q2FtZXJhSGVpZ2h0LCB0aGlzLm1pbkNhbWVyYUhlaWdodCwgdGhpcy5tYXhDYW1lcmFIZWlnaHQpO1xuICAgICAgICB0aGlzLmNhbWVyYUhlaWdodCA9IG5ld0NhbWVyYUhlaWdodDtcbiAgICB9XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmdldFRhcmdldENhbWVyYVBvc2l0aW9uID0gZnVuY3Rpb24gKGZvY3VzUG9pbnQpIHtcbiAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKVxuXG4gICAgY29uc3QgdGFyZ2V0WCA9IE1hdGguc2luKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcbiAgICBjb25zdCB0YXJnZXRaID0gTWF0aC5jb3MoKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuXG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKGZvY3VzUG9pbnQueCArIHRhcmdldFgsIGNhbWVyYVBvc2l0aW9uLnksIGZvY3VzUG9pbnQueiArIHRhcmdldFopO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkdhbWVDYW1lcmEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLmNhbWVyYVRhcmdldCkge1xuICAgICAgICBjb25zdCBjYW1lcmFUYXJnZXRQb3NpdGlvbiA9IHRoaXMuY2FtZXJhVGFyZ2V0LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLmdldFRhcmdldENhbWVyYVBvc2l0aW9uKGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0d2VlblggPSAodGFyZ2V0UG9zaXRpb24ueCArIGN1cnJlbnRQb3MueCAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWSA9ICh0aGlzLmNhbWVyYUhlaWdodCArIGN1cnJlbnRQb3MueSAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWiA9ICh0YXJnZXRQb3NpdGlvbi56ICsgY3VycmVudFBvcy56ICogOSkgLyAxMDtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHR3ZWVuWCwgdHdlZW5ZLCB0d2VlblopO1xuXG4gICAgICAgIHRoaXMuZW50aXR5Lmxvb2tBdChjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG4gICAgfVxuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhIH0gZnJvbSAnLi9HYW1lQ2FtZXJhJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDYW1lcmFNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDYW1lcmFNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0UsIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5zZXRDYW1lcmFUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5oYW5kbGVEcmFnKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IElucHV0TGF5ZXJNZWRpYXRvciB9IGZyb20gJy4vSW5wdXRMYXllck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4uL2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IElucHV0TGF5ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0lucHV0TGF5ZXJDb21wb25lbnQnKTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNhbWVyYUVudGl0eVwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJDYW1lcmEgRW50aXR5XCJcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZHJhZ1RpbWVcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiRHJhZyBUaW1lXCIsXG4gICAgZGVmYXVsdDogMC40XG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUud2luZG93ID0gd2luZG93O1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5hcHAubW91c2UpIHtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmUodG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuXG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGdyYXBoaWNzRGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG5cbiAgICAvLyBGbGlwIGJsZW5kXG4gICAgaWYgKGdyYXBoaWNzRGV2aWNlLndpZHRoIDwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuc2NyZWVuLnNjcmVlbi5zY2FsZUJsZW5kID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50LnNjcmVlbi5zY3JlZW4uc2NhbGVCbGVuZCA9IDA7XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHkgPSBwaWNrUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRHYW1lQ2hhcmFjdGVyKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkTmF2aWdhdGlvbihoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygncG9ydGFsJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkUG9ydGFsKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZEdhbWVDaGFyYWN0ZXIgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgcGlja2VkRW50aXR5KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpuYXZpZ2F0aW9uJywgbmVhcmVzdE5vZGUpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRQb3J0YWwgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHBpY2tlZEVudGl0eS5maXJlKCdwaWNrZXI6cG9ydGFsJyk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXR5KGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICByZXR1cm4gMjtcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZW5kVHVybicsIHRoaXMuaGFuZGxlRW5kVHVybiwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRW5kVHVybihldnQpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgfSBmcm9tIFwiLi9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnKTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VuZFR1cm5CdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0VuZCBUdXJuIGJ1dHRvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVuZFR1cm5CdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmNsaWNrRW5kVHVybiwgdGhpcyk7XG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xpY2tFbmRUdXJuID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOmVuZFR1cm4nKTtcbn1cbiIsImV4cG9ydCBjb25zdCBIaXRib3hDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0hpdGJveENvbXBvbmVudCcpO1xuXG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignc3RvcExpc3RlbmluZycsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LnBhcmVudCwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuYWFiYi5jZW50ZXIuY29weSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvblBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIEdhbWVDb21tYW5kcy5UT0dHTEVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZmlyZUNvbW1hbmQnLCB0aGlzLmhhbmRsZUZpcmVDb21tYW5kLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT046XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uUGFuZWxDb21wb25lbnQnXS5zZWxlY3RBY3Rpb24oYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRmlyZUNvbW1hbmQoY29tbWFuZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihjb21tYW5kTmFtZSwgLi4uYXJncyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcblxuY29uc3QgY29tbWFuZFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tYW5kTmFtZScsXG4gICAgICAgIHRpdGxlOiAnQ29tbWFuZCBuYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmRBcmdzJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIGFyZ3VtZW50cycsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLCBhcnJheTogdHJ1ZVxuICAgIH1cbl07XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb21tYW5kcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGNvbW1hbmRTY2hlbWEsIHRpdGxlOiAnQ29tbWFuZCBuYW1lJywgYXJyYXk6IHRydWUgfSk7O1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbignc2VsZWN0OmFjdGlvbicsIHRoaXMuaGFuZGxlQ2hhbmdlQWN0aW9uLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgdGhpcy5jb21tYW5kcykge1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IGNvbW1hbmQuY29tbWFuZE5hbWU7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gY29tbWFuZC5jb21tYW5kQXJncztcbiAgICAgICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2NsaWNrOmZpcmVDb21tYW5kJywgY29tbWFuZE5hbWUsIC4uLmNvbW1hbmRBcmdzKTtcblxuICAgIH1cbn1cblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDaGFuZ2VBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuZW50aXR5Lm5hbWUgPT09IGFjdGlvbikge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBBY3Rpb25QYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uUGFuZWxNZWRpYXRvcic7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0FjdGlvbkJ1dHRvbkNvbXBvbmVudCc7XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb25CdXR0b25zJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdBY3Rpb24gQnV0dG9ucycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufVxuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgYnV0dG9uLmZpcmUoJ3NlbGVjdDphY3Rpb24nLCBhY3Rpb25OYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVUlTdG9wUHJvcGFnYXRpb24gPSBwYy5jcmVhdGVTY3JpcHQoJ1VJU3RvcFByb3BhZ2F0aW9uJyk7XG5cblVJU3RvcFByb3BhZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cblxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciB9IGZyb20gXCIuL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCcpO1xuXG5jb25zdCBwcm9qZWN0aWxlU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb2plY3RpbGVOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZVRlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIFRlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVR5cGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFR5cGVzXCIsXG4gICAgc2NoZW1hOiBwcm9qZWN0aWxlU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuXG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUHJvamVjdGlsZSA9IGZ1bmN0aW9uIChwcm9qZWN0aWxlTmFtZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWxlU2NoZW1lID0gdGhpcy5wcm9qZWN0aWxlVHlwZXMuZmluZChzY2hlbWUgPT4gc2NoZW1lLnByb2plY3RpbGVOYW1lID09PSBwcm9qZWN0aWxlTmFtZSk7XG4gICAgICAgIGlmIChwcm9qZWN0aWxlU2NoZW1lKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0aWxlID0gcHJvamVjdGlsZVNjaGVtZS5wcm9qZWN0aWxlVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1Byb2plY3RpbGUpO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5vbmNlKCdwcm9qZWN0aWxlQXJyaXZlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld1Byb2plY3RpbGUuc2NyaXB0WydQcm9qZWN0aWxlQ29tcG9uZW50J10uc2V0VGFyZ2V0KG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIHByb2plY3RpbGUgXCIke3Byb2plY3RpbGVOYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDb21wb25lbnQnKTtcblxuUHJvamVjdGlsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInByb2plY3RpbGVTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogOFxufSk7XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55LCBvcmlnaW5Qb2ludC56KTtcbiAgICB0aGlzLnRhcmdldFBvaW50ID0gdGFyZ2V0UG9pbnQ7XG4gICAgdGhpcy5sb29rQXRQb2ludCh0aGlzLnRhcmdldFBvaW50KTtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKHRoaXMudGFyZ2V0UG9pbnQuY2xvbmUoKSwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZSh0aGlzLnRhcmdldFBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Byb2plY3RpbGVBcnJpdmVkJyk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vU3RhbWluYUJhckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBTdGFtaW5hQmFyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdGFtaW5hQmFyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhbWluYSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4U3RhbWluYSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlN0YW1pbmFCYXJDb21wb25lbnRcIl0udXBkYXRlU3RhbWluYShuZXdTdGFtaW5hLCBtYXhTdGFtaW5hKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFN0YW1pbmFCYXJNZWRpYXRvciB9IGZyb20gXCIuL1N0YW1pbmFCYXJNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgU3RhbWluYUJhckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU3RhbWluYUJhckNvbXBvbmVudCcpO1xuXG5TdGFtaW5hQmFyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYmFyRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkJhciBFbnRpdHlcIlxufSk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGFtaW5hTGFiZWxcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiU3RhbWluYSBMYWJlbFwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBTdGFtaW5hQmFyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuYmFyRW50aXR5TWF4V2lkdGggPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LndpZHRoO1xufTtcblxuXG5TdGFtaW5hQmFyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVTdGFtaW5hID0gZnVuY3Rpb24gKGN1cnJlbnRTdGFtaW5hLCBtYXhTdGFtaW5hKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYy5tYXRoLmNsYW1wKGN1cnJlbnRTdGFtaW5hIC8gbWF4U3RhbWluYSwgMCwgMSk7XG4gICAgY29uc3Qgd2lkdGggPSBwYy5tYXRoLmxlcnAoMCwgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCwgdmFsdWUpO1xuICAgIC8vIHNldCB0aGUgd2lkdGggb2YgdGhlIGZpbGwgaW1hZ2UgZWxlbWVudFxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGggPSB3aWR0aDtcblxuICAgIC8vIFNldCB0aGUgd2lkdGggb2YgdGhlIGVsZW1lbnQncyByZWN0IChyZWN0LnopIHRvIGJlIHRoZSBzYW1lXG4gICAgLy8gdmFsdWUgYXMgb3VyIDAtMSBwcm9ncmVzcy5cbiAgICAvLyBUaGlzIGlzIHNvIHRoYXQgdGhlIGZpbGwgaW1hZ2Ugd2lsbCBvbmx5IHNob3cgdGhlIHBvcnRpb25cbiAgICAvLyBvZiB0aGUgdGV4dHVyZSB0aGF0IGlzIHZpc2libGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QueiA9IHZhbHVlO1xuICAgIC8vIGZvcmNlIHJlY3QgdXBkYXRlXG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0ID0gdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0O1xuXG4gICAgdGhpcy5zdGFtaW5hTGFiZWwuZWxlbWVudC50ZXh0ID0gYCR7Y3VycmVudFN0YW1pbmF9LyR7bWF4U3RhbWluYX1gO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVBY3Rpb25zID0gcGxheWVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBY3Rpb25zID0gcGxheWVyUHJveHkubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50J10uc2hvd0F2YWlsYWJsZUFjdGlvbihhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3InO1xuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcFRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1BpcCBUZW1wbGF0ZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5waXBzID0gW107XG59XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2hvd0F2YWlsYWJsZUFjdGlvbiA9IGZ1bmN0aW9uIChhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKSB7XG4gICAgd2hpbGUgKHRoaXMucGlwcy5sZW5ndGggPCBtYXhBY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGlwKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBhdmFpbGFibGVBY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1BpcCA9IHRoaXMucGlwVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdQaXApO1xuICAgIHRoaXMucGlwcy5wdXNoKG5ld1BpcCk7XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCcpO1xuXG5BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwaXBGcm9udCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnUGlwIGZyb250JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkub24oJ3RvZ2dsZVBpcCcsIChzaG93KSA9PiB7XG4gICAgICAgIHRoaXMucGlwRnJvbnQuZW5hYmxlZCA9IHNob3c7XG4gICAgfSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVM6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCddO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0ZXJOYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzY3JpcHRDb21wLmRpc3BsYXlTdGF0dXMoZmxvYXRlck5hbWUsIHRhcmdldFByb3h5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnKTtcblxuLy8gVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsgfTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnNldFdvcmxkUG9zaXRpb24gPSBmdW5jdGlvbiAod29ybGRQb3NpdGlvbiwgY2FtZXJhLCBzY3JlZW4pIHtcbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLndvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uO1xuICAgIHRoaXMuZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgdGhpcy5jYW1lcmFFbnRpdHkgPSBjYW1lcmE7XG4gICAgdGhpcy5zY3JlZW5FbnRpdHkgPSBzY3JlZW47XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH0sIDEwMDApO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UodGhpcy53b3JsZFBvc2l0aW9uLmNsb25lKCkpO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9XG59O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHRoaXMuZGV2aWNlICYmIHRoaXMuY2FtZXJhRW50aXR5ICYmIHRoaXMuc2NyZWVuRW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHdvcmxkUG9zID0gcG9zLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIC8vIGdldCBzY3JlZW4gc3BhY2UgY28tb3JkXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LmNhbWVyYS53b3JsZFRvU2NyZWVuKHdvcmxkUG9zLCBzY3JlZW5Qb3MpO1xuICAgICAgICBjb25zdCBzY3JlZW5Db21wID0gdGhpcy5zY3JlZW5FbnRpdHkuc2NyZWVuO1xuXG4gICAgICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnJlZmVyZW5jZVJlc29sdXRpb24ueCAvIHNjcmVlbkNvbXAucmVzb2x1dGlvbi54O1xuXG4gICAgICAgIGNvbnN0IHggPSAoc2NyZWVuUG9zLnggKiByYXRpb1NjYWxlKTtcbiAgICAgICAgY29uc3QgeSA9ICgtMSAqIHNjcmVlblBvcy55ICogcmF0aW9TY2FsZSkgKyB0aGlzLnNjcmVlbkVudGl0eS5zY3JlZW4ucmVzb2x1dGlvbi55ICogcmF0aW9TY2FsZTtcblxuXG4gICAgICAgIHJldHVybiBuZXcgcGMuVmVjMyh4LCB5LCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG59IiwiZXhwb3J0IGNvbnN0IEZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSAnLi9GbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvcic7XG5pbXBvcnQgeyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCc7XG5cbmNvbnN0IGZsb2F0aW5nU3RhdHVzU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICB0aXRsZTogJ05hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAndGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1RlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2NyZWVuRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTY3JlZW4gRW50aXR5JyB9KTtcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY2FtZXJhRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDYW1lcmEgRW50aXR5JyB9KTtcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZmxvYXRpbmdTdGF0dXNlcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGZsb2F0aW5nU3RhdHVzU2NoZW1hLCB0aXRsZTogJ0Zsb2F0aW5nIFN0YXR1c2VzJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlTdGF0dXMgPSBmdW5jdGlvbiAobmFtZSwgdGFyZ2V0UHJveHksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBzY2hlbWUgPSB0aGlzLmZsb2F0aW5nU3RhdHVzZXMuZmluZCgob3RoZXJTY2hlbWUpID0+IG90aGVyU2NoZW1lLm5hbWUgPT09IG5hbWUpO1xuICAgIGlmIChzY2hlbWUpIHtcbiAgICAgICAgLy8gXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zID0gbmV3IHBjLlZlYzModGFyZ2V0Tm9kZS54LCB0YXJnZXROb2RlLnkgKyB0YXJnZXRQcm94eS5oZWlnaHQsIHRhcmdldE5vZGUueik7XG4gICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IHNjaGVtZS50ZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICBuZXdTdGF0dXMuc2NyaXB0WydUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCddLnNldFdvcmxkUG9zaXRpb24odGFyZ2V0UG9zLFxuICAgICAgICAgICAgdGhpcy5jYW1lcmFFbnRpdHksIHRoaXMuc2NyZWVuRW50aXR5KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3U3RhdHVzKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBmbG9hdGluZyBzdGF0dXM6ICR7bmFtZX1gKTtcbiAgICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUG9ydGFsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQb3J0YWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpwb3J0YWwnLCB0aGlzLnNlbGVjdGVkUG9ydGFsLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRQb3J0YWwoKSB7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uU2NlbmU7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uUG9ydGFsID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uUG9ydGFsO1xuICAgICAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gcG9ydGFsQ29tcG9uZW50LnN0YW5kaW5nUG9pbnQuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9USFJPVUdIX1BPUlRBTCxcbiAgICAgICAgICAgIHN0YW5kaW5nUG9zaXRpb24sIGRlc3RpbmF0aW9uU2NlbmUsIGRlc3RpbmF0aW9uUG9ydGFsKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgUG9ydGFsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQb3J0YWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgUG9ydGFsTWVkaWF0b3IgfSBmcm9tICcuL1BvcnRhbE1lZGlhdG9yJztcblxuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwb3J0YWxJZCcsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnUG9ydGFsIElkJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVzdGluYXRpb25TY2VuZScsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnRGVzdGluYXRpb24gU2NlbmUnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXN0aW5hdGlvblBvcnRhbCcsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnRGVzdGluYXRpb24gUG9ydGFsJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGl0Ym94JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaXRib3gnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzdGFuZGluZ1BvaW50JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTdGFuZGluZyBQb2ludCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qb3J0YWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihQb3J0YWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQb3J0YWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQb3J0YWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5zdGFuZGluZ1BvaW50Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufTtcbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5jb25zdCB7IFB1cmVNVkMgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQ2Fjb2dlbkdhbWUgfSBmcm9tICcuL3ZpZXcvQ2Fjb2dlbkdhbWUnO1xuXG5pbXBvcnQgeyBOYXZpZ2F0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IFRvYXN0TWVzc2FnZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSGl0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgVUlTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24nO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YW1pbmFCYXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb3J0YWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudCc7XG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1haW4gc3RhcnRcIik7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=