(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,d=this._events[s],p=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,a),!0}for(h=1,c=new Array(p-1);h<p;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var u,l=d.length;for(h=0;h<l;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),p){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];d[h].fn.apply(d[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],d=s.length;c<d;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},966:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Xt});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(917);pc.createScript("GameMapComponent").prototype.initialize=function(){},i(203);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"GameMapMediator"}constructor(t){super(s.NAME),this.subscribeNotification([n.i.CHANGE_SCENE_COMPLETE])}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case n.i.CHANGE_SCENE_COMPLETE:this.facade.retrieveProxy(r.u.NAME).vo,pc.Application.getApplication()}}}var c=i(969);const{GameMediator:h}=i(23),{Facade:d}=i(710);function p(t,e){const i=pc.Application.getApplication(),o=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=f(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;A(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(i),r=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=u(t);i.push(n),l(t,e),t.destroy()}return i}(i,o),a=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(g(t,e)),t.destroy();return i}(i,o);console.log("COVER"),console.log(a),d.getInstance(t).registerProxy(new c.h(o,r,a)),d.getInstance(t).registerMediator(new s),d.getInstance(t).sendNotification(n.i.MAP_GRID_CREATED)}function u(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function l(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function f(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function A(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function g(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}const{Proxy:E}=i(710);class m extends E{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(m.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Facade:N}=i(710);function y(t,e){N.getInstance(t).registerProxy(new r.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;N.getInstance(t).registerProxy(new m(e))}}const{Facade:M}=i(710);function C(t,e,...i){const o=pc.Application.getApplication(),r=i[0];console.log("Changing scene "+r);const a=o.root.findByName("Root"),s=o.scenes.find(r);o.scenes.loadSceneHierarchy(s.url,(function(e,i){e?console.error(e):a&&a.destroy(),M.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),M.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r)}))}function v(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var T=i(958);const{Proxy:_}=i(710),{CombatVO:b}=i(201);class P extends _{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t){super(P.NAME,new b(t))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(T.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=v(t);for(;"end_round"===e[0];)e=v(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t))}}var S=i(448);const{Facade:O}=i(710);function x(t,e,...i){const o=i[0],a=O.getInstance(t);a.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),a.retrieveProxy(r.u.NAME).updateGameStateType(S.gameplayModeTypes.COMBAT);const s=a.retrieveProxy(T.b.NAME+o),c=["player"].concat(o).concat(s.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e})),h=a.retrieveProxy(T.b.NAME+"player");for(const t of c)a.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?a.sendNotification(n.i.CHARACTER_LOOK_AT+t,h.currentNode):a.sendNotification(n.i.CHARACTER_LOOK_AT+t,s.currentNode);const d=new P(c);a.registerProxy(d),setTimeout((()=>{a.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:I}=i(710);function w(t,e,...i){const n=I.getInstance(t),o=n.retrieveProxy(r.u.NAME),a=n.retrieveProxy(P.NAME);o.vo.gameplayMode===S.gameplayModeTypes.COMBAT&&a.nextTurn()}const{Facade:R}=i(710);function G(t,e,...i){const o=R.getInstance(t),a=o.retrieveProxy(r.u.NAME),s=o.retrieveProxy(P.NAME);a.vo.gameplayMode===S.gameplayModeTypes.COMBAT&&(s.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:D}=i(710);function L(t,e,...i){setTimeout((()=>{const e=D.getInstance(t),i=e.retrieveProxy(P.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var k=i(434);class H{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class V{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==H.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return H.ERROR}close(t){}exit(t){}}class U extends V{tick(t){for(const e of this.children)e.execute(t);return H.SUCCESS}}class B{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class z{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class F{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new z;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class W{constructor(t){this.id="basicMeleeTree",this.blackboard=new B,this.tree=new F(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class K extends V{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==H.FAILURE)return i}return H.FAILURE}}class j extends V{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),H.SUCCESS}}class Y extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),H.SUCCESS}}class q extends V{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),H.SUCCESS}}class X extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(T.b.NAME+i).availableMovement>0?H.SUCCESS:H.FAILURE}}class $ extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(T.b.NAME+i).currentNode;return e.retrieveProxy(T.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?H.SUCCESS:H.FAILURE}}class Q extends V{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==H.SUCCESS)return i===H.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return H.SUCCESS}}class J extends V{tick(t){const e=this.children[0];if(!e)return H.ERROR;let i=e.execute(t);return i==H.SUCCESS?i=H.FAILURE:i==H.FAILURE&&(i=H.SUCCESS),i}}class Z extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(T.b.NAME+i).isDead?H.SUCCESS:H.FAILURE}}class tt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(T.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(T.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(s.length>0){let t=s.reduce(((t,e)=>et(a,t)<et(a,e)?t:e));const o=k.q.calculatePath(a,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,H.SUCCESS}}function et(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class it extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(T.b.NAME+i).isDead?H.SUCCESS:H.FAILURE}}class nt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(T.b.NAME+i).availableActions>0?H.SUCCESS:H.FAILURE}}class ot extends W{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new U([new K([new Q([new j,new J([new it]),new J([new Z]),new K([new Q([new $,new nt,new j,new Y]),new Q([new X,new j,new tt])])]),new q])])}}const{Facade:rt}=i(710);function at(t,e,...i){const n=i[0],o=rt.getInstance(t),r=(o.retrieveProxy(c.h.NAME),o.retrieveProxy(T.b.NAME+n).currentNode);o.retrieveProxy(T.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(r))),(new ot).runCommands(o,n)}var st=i(710);function ct(t,e,...i){const o=st.Facade.getInstance(t),a=o.retrieveProxy(r.u.NAME),s=i[0];a.currentMode===S.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_NODE+"player",s):a.currentMode===S.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(P.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",s)}const{Facade:ht}=i(710);function dt(t,e,...i){const n=ht.getInstance(t),o=i[0],r=i[1],a=n.retrieveProxy(T.b.NAME+o),s=a.vo,c=k.q.breadthFirstSearch(s.currentNode,s.availableMovement);for(const t of c)t.equals(r)&&pt(n,a,r)}function pt(t,e,i){const o=e.vo,r=k.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function ut(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function lt(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function ft(t,e,...i){const o=i[0],r=st.Facade.getInstance(t),a=r.retrieveProxy(T.b.NAME+o).vo,s=k.q.breadthFirstSearch(a.currentNode,a.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,s)}function At(t,e,...i){const o=st.Facade.getInstance(t),a=i[0],s=i[1];if(o.retrieveProxy(T.b.NAME+a).currentNode=s,o.retrieveProxy(r.u.NAME).currentMode===S.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(P.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,a):o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,a))}}function gt(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function Et(t,e,...i){const o=st.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,s=o.retrieveProxy(r.u.NAME),h=o.retrieveProxy(c.h.NAME),d=o.retrieveProxy(T.b.NAME+a),p=o.retrieveProxy(T.b.NAME+"player"),u=o.retrieveProxy(m.NAME).getWeaponCategory(p.equippedWeapon);if(s.currentMode===S.gameplayModeTypes.EXPLORATION)if("attack"===s.currentAction&&"ranged"===u)Nt(h,p,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else{const t=mt(p,d);t&&o.sendNotification(n.i.NAVIGATE_ALONG_PATH+"player",t)}else if(s.currentMode===S.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(P.NAME);if(!t||"player"!==t.activeParticipant)return;if(p.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===u)Nt(h,p,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(p,d))"attack"===s.currentAction&&"attack"===s.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,p.id,d.id);else{const t=mt(p,d);t&&t.length-1<=p.vo.availableMovement?"attack"===s.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function mt(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=k.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=k.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}function Nt(t,e,i){const n=gt(e),o=gt(i);return!t.rayIntersectsWall(n,o)}function yt(t,e,...i){const o=st.Facade.getInstance(t),a=i[0],s=i[1],c=o.retrieveProxy(r.u.NAME);c.currentAction===a?c.currentAction="none":c.currentAction=a,o.sendNotification(n.i.TOGGLE_BUTTON,s)}var Mt=i(829);function Ct(t,e,...i){const o=st.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(T.b.NAME+r),s=i[1],c=o.retrieveProxy(T.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=Tt(a.skill),d=Tt(c.skill),p=o.retrieveProxy(m.NAME);if(a.availableActions-=1,h===d)o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${h}/${d})`);else if(h>d){const t=vt(h,d),e=p.getDamage(a.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+s),o.sendNotification(n.i.KILL_GAME_CHARACTER,s)):o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`)}else{const t="melee"===p.getWeaponCategory(c.equippedWeapon),e=vt(d,h),i=t?c.equippedWeapon:Mt.j.UNARMED,u=p.getDamage(i,e);a.applyDamage(u),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${u}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+r),o.sendNotification(n.i.KILL_GAME_CHARACTER,r)):o.sendNotification(n.i.DISPLAY_HIT+r)}const u=o.retrieveProxy(P.NAME);u&&"player"!==u.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function vt(t,e){return t-e}function Tt(t){return t+_t()+_t()}function _t(){return Math.round(6*Math.random())}var bt=i(321);const{Facade:Pt}=i(710);function St(t,e,...i){const o=Pt.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(T.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(bt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function Ot(t,e,...i){const n=st.Facade.getInstance(t),o=i[0],r=n.retrieveProxy(T.b.NAME+o);r&&(r.currentNode.occupied=!1);const a=n.retrieveProxy(P.NAME);a&&a.removeCharacterFromCombat(o)}const{Facade:xt}=i(710);function It(t,e,...i){const n=xt.getInstance(t);n.hasMediator(P.NAME)&&n.removeMediator(P.NAME),n.retrieveProxy(r.u.NAME).updateGameStateType(S.gameplayModeTypes.EXPLORATION)}var wt=i(316);class Rt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),H.SUCCESS}}class Gt extends V{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(T.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(T.b.NAME+o).currentNode,c=Math.pow(this.minDistance,2),h=Math.pow(this.maxDistance,2),d=r.availableMovement;r.availableMovement=0;const p=Dt(s,a);if(p>=c&&p<=h)return H.FAILURE;{const t=k.q.breadthFirstSearch(a,d);if(t.length>0){if(p<c){let o=t.reduce(((t,e)=>Dt(s,t)>Dt(s,e)?t:e));const c=k.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Dt(s,t)<Dt(s,e)?t:e));const c=k.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}return H.SUCCESS}return H.FAILURE}}}function Dt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class Lt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}),500)}}class kt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(T.b.NAME+i),r=(o.currentNode,e.retrieveProxy(T.b.NAME+n)),a=(r.currentNode,e.retrieveProxy(c.h.NAME)),s=gt(o),h=gt(r);return a.rayIntersectsWall(s,h)?(console.log("Where'd you ever go?"),H.FAILURE):(console.log("I can see you"),H.SUCCESS)}}class Ht extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(T.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(T.b.NAME+o),h=s.currentNode.connectedNodes,d=e.retrieveProxy(c.h.NAME),p=h.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>Vt(a,t)<Vt(a,e)?t:e));const o=k.q.calculatePath(a,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();const c=gt(s);let h=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*r.height,e.z);if(!d.rayIntersectsWall(i,c)){h=t;break}}o.splice(0,h),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,H.SUCCESS}}function Vt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Ut extends W{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new U([new K([new Q([new j,new J([new it]),new J([new Z]),new K([new Q([new X,new J([new kt]),new Ht]),new Q([new X,new K([new Gt(9,12),new Lt])]),new Q([new nt,new kt,new Rt])])]),new q])])}}function Bt(t,e,...i){const n=st.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(T.b.NAME+o).botBehaviour){case wt.r.BASIC_MELEE:(new ot).runCommands(n,o);break;case wt.r.BASIC_RANGED:(new Ut).runCommands(n,o)}}var zt=i(852);function Ft(t,e,...i){const o=st.Facade.getInstance(t);let r=0,a=0;const s=i[0],h=o.retrieveProxy(T.b.NAME+s),d=h.currentNode;let p=i[1],u=o.retrieveProxy(T.b.NAME+p);const l=u.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+s,u.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+p,h.currentNode),r+=Wt(h.skill),a+=Wt(u.skill);const f=o.retrieveProxy(m.NAME);o.retrieveProxy(c.h.NAME).isInCover(new pc.Vec3(l.x,l.y,l.z),new pc.Vec3(d.x,d.y,d.z))&&(a+=2);const A=o.retrieveMediator(zt.N.NAME),g=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),E=new pc.Vec3(u.currentNode.x,u.currentNode.y+1,u.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+s),A.createProjectile("crossbow_bolt",g,E).then((()=>{if(r>a){const t=o.retrieveProxy(P.NAME);if(t){const e=u.currentNode.connectedNodes,i=[p];for(const n of t.participants){const t=o.retrieveProxy(T.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}p=i[Math.floor(Math.random()*i.length)],u=o.retrieveProxy(T.b.NAME+p)}const e=r-a,i=f.getDamage(h.equippedWeapon,e);u.applyDamage(i),u.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+p),o.sendNotification(n.i.KILL_GAME_CHARACTER,p),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} killed ${p}`)):(o.sendNotification(n.i.DISPLAY_HIT+p),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${p} for ${i}`))}else o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} missed ${p}`);const t=o.retrieveProxy(P.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),500)}))}function Wt(t){return t+Kt()+Kt()}function Kt(){return Math.round(6*Math.random())}const{Facade:jt}=i(710);function Yt(t,e,...i){const o=jt.getInstance(t);if(o.retrieveProxy(r.u.NAME).currentMode===S.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(P.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const a=i[0],s=i[1];o.retrieveProxy(T.b.NAME+a).equippedWeapon=s,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${a} equips ${s}`)}const{Facade:qt}=i(710);class Xt extends qt{static getInstance(t){return qt.instanceMap[t]||(qt.instanceMap[t]=new Xt(t)),qt.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Xt.NAME+"StartUp"}startup(t){this.sendNotification(Xt.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Xt.STARTUP,y),this.registerCommand(n.i.CHANGE_SCENE,C),this.registerCommand(n.i.PARSE_GAMEMAP,p),this.registerCommand(n.i.START_COMBAT,x),this.registerCommand(n.i.NEXT_COMBAT_TURN,w),this.registerCommand(n.i.NEXT_COMBAT_ROUND,G),this.registerCommand(n.i.END_COMBAT_TURN,L),this.registerCommand(n.i.ENEMY_TURN,at),this.registerCommand(n.i.SELECTED_NODE,ct),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,dt),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Bt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,ut),this.registerCommand(n.i.HIDE_WALKABLE_AREA,lt),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,ft),this.registerCommand(n.i.FINISHED_MOVE,At),this.registerCommand(n.i.SELECT_GAME_CHARACTER,Et),this.registerCommand(n.i.SET_PLAYER_ACTION,yt),this.registerCommand(n.i.RESOLVE_ATTACK,Ct),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Ft),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,St),this.registerCommand(n.i.KILL_GAME_CHARACTER,Ot),this.registerCommand(n.i.END_COMBAT,It),this.registerCommand(n.i.EQUIP_WEAPON,Yt)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get SET_PLAYER_ACTION(){return"SET_PLAYER_ACTION"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}get id(){return this.vo.id}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.currentNode=void 0,this.agroArea=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{},this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},23:(t,e,i)=>{i.r(e),i.d(e,{GameMediator:()=>r});var n=i(68);const{Mediator:o}=i(710);class r extends o{static get NAME(){return"GameMediator"}constructor(){console.log("Register mediator - GameMediator");const t=pc.Application.getApplication();super(r.NAME,t),this.subscribeNotification(n.i.APP_INITIALISED)}handleNotification(t,...e){switch(t){case n.i.APP_INITIALISED:}}}},442:(t,e,i)=>{var n=i(710),o=i(966),r=i(958),a=i(321),s=i(316),c=i(829);const h=pc.createScript("GameCharacterComponent");h.attributes.add("characterId",{type:"string",title:"Character Id"}),h.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),h.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),h.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),h.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),h.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),h.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),h.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:s._,default:0}),h.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:c.E,default:"unarmed"}),h.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},h.prototype.postInitialize=function(){this.movementPath=[],this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(a.y.NAME+this.characterId)&&this.facade.removeMediator(a.y.NAME+this.characterId),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const t=this.statsOverrides,e={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:this.advancedSkills,equippedWeapon:this.equippedWeapon,...t,botBehaviour:this.botBehaviour};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),i=[];for(const e of t)if(e.enabled){const t=e.script.GameCharacterComponent.characterId;i.push(t)}e.combatGroup=i}this.facade.registerProxy(new r.b(e)),this.facade.registerMediator(new a.y(this.characterId,this.entity,this.preregisteredNotifications)),this.entity.animation.play("idle.glb",.1)},h.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},h.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},h.prototype.update=function(t){this.moveAlongPath(t)},h.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3,o=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(n.sub2(r,i),n.normalize(),n.mul(o),n.add(i),this.entity.setLocalPosition(n),this.lookAtPoint(e),n.distance(r)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}}},h.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},h.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},h.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},h.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=(i(917),i(442),i(434)),a=i(958);i(448);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode||(i.currentNode=t.findNearestNode(this.viewComponent.getLocalPosition()));break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const r=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(r);break;case n.i.DISPLAY_DEATH+this.id:const s=this.viewComponent.findByName("Hitbox");s&&s.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode||(i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition()));const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){setTimeout((()=>{this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}),500)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},203:(t,e,i)=>{var n=i(710),o=i(966),r=i(68);i(917);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"InputLayerMediator"}constructor(t){super(s.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(r.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(r.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(r.i.INPUT_DRAG_MOUSE,t)}}const c=pc.createScript("GameCamera");c.attributes.add("distance",{type:"number",default:100,title:"Distance"}),c.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),c.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),c.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),c.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(d.NAME)&&this.facade.removeMediator(d.NAME),this.facade.registerMediator(new d(this.entity))},c.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},c.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},c.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},c.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:h}=i(710);class d extends h{static get NAME(){return"GameCameraMediator"}constructor(t){super(d.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE,r.i.INPUT_DRAG_MOUSE,r.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(e[0]);break;case r.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(e[0])}}}const p=pc.createScript("InputLayerComponent");p.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),p.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),p.prototype.window=window,p.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(s.NAME)&&this.facade.removeMediator(s.NAME),this.facade.registerMediator(new s(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{console.log(t),this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()}))),this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},p.prototype.onResize=function(){const t=this.app.graphicsDevice;console.log("size",t.width,t.height),t.width<t.height?this.entity.element.screen.screen.scaleBlend=1:this.entity.element.screen.screen.scaleBlend=0},p.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},p.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},p.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},p.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},p.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},p.prototype.update=function(t){this.processInputQueue()},p.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue)((t=n.entity).tags.has("gameCharacter")?2:t.tags.has("navigation")?1:-1)>i&&(e=n);e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),this.inputQueue=[]}var t},p.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},p.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(966),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(966),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e},i(442);var c=i(710),h=i(958),d=i(969),p=i(917),u=i(448);const l=pc.createScript("AgroGameCharacterComponent");l.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),l.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this)},l.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY),o=n.retrieveProxy(h.b.NAME+e),r=o.vo;if(!r.currentNode){const t=n.retrieveProxy(d.h.NAME);o.currentNode=t.findNearestNode(this.entity.getLocalPosition()),r.agroArea=a.q.breadthFirstSearch(r.currentNode,this.sightRange)}},l.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY),r=o.retrieveProxy(h.b.NAME+i).vo,a=o.retrieveProxy(p.u.NAME).vo,s=o.retrieveProxy(h.b.NAME+i);if(a.gameplayMode===u.gameplayModeTypes.EXPLORATION&&!s.isDead)for(const t of r.agroArea)t.equals(n)&&(this.entity.script.GameCharacterComponent.lookAtPoint(n),o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))};const{Mediator:f}=i(710);class A extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(A.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const g=pc.createScript("ToastMessageComponent");g.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),g.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),g.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(A.NAME)&&this.facade.removeMediator(A.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new A(this.entity))},g.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},g.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)},i(203);const{Mediator:E}=i(710);class m extends E{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(m.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const N=pc.createScript("PlayerCombatPanelComponent");N.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),N.prototype.initialize=function(){},N.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(m.NAME)&&this.facade.removeMediator(m.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new m(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},N.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const y=pc.createScript("HitboxComponent");y.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},y.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},y.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:M}=i(710);class C extends M{static get NAME(){return"ActionPanelMediator"}constructor(t){super(C.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const v=pc.createScript("ActionButtonComponent");v.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),v.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),v.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),v.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},v.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},v.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const T=pc.createScript("ActionPanelComponent");T.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.facade.registerMediator(new C(this.entity))},T.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var _=i(852);const b=pc.createScript("ProjectileCreatorComponent");b.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),b.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.N.NAME)&&this.facade.removeMediator(_.N.NAME),this.facade.registerMediator(new _.N(this.entity))},b.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const P=pc.createScript("ProjectileComponent");P.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),P.prototype.initialize=function(){},P.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},P.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},P.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:S}=i(710);class O extends S{static get NAME(){return"StaminaBarMediator"}constructor(t){super(O.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const x=pc.createScript("StaminaBarComponent");x.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),x.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),x.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(O.NAME)&&this.facade.removeMediator(O.NAME),this.facade.registerMediator(new O(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},x.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:I}=i(710);class w extends I{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(w.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const R=pc.createScript("ActionsRemainingPanelComponent");R.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(w.NAME)&&this.facade.removeMediator(w.NAME),this.facade.registerMediator(new w(this.entity)),this.pips=[]},R.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},R.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const G=pc.createScript("ActionsRemainingPipComponent");G.attributes.add("pipFront",{type:"entity",title:"Pip front"}),G.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Facade:D}=i(710),{PureMVC:L}=i(710);new class{constructor(){console.log("Main start"),L.debug=!0,D.getInstance=t.GameFacade.getInstance,console.log(D),this.facade=D.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clN0YXR1cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmFzZU5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9Qcmlvcml0eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NZW1TZXF1ZW5jZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9HYW1lQ29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvZGF0YS9XZWFwb25UeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQWRqYWNlbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9HYW1lTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9DYWNvZ2VuR2FtZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25CdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJQdXJlTVZDXzEiLCJWaWV3XzEiLCJDb250cm9sbGVyIiwia2V5IiwidGhpcyIsImNvbW1hbmRNYXAiLCJpbnN0YW5jZU1hcCIsIkVycm9yIiwibXVsdGl0b25LZXkiLCJsb2dnZXIiLCJQdXJlTVZDIiwiZGVidWciLCJsb2dDb21tYW5kIiwibG9nTm9uZSIsImluaXRpYWxpemVDb250cm9sbGVyIiwicmVtb3ZlQ29udHJvbGxlciIsImdldEluc3RhbmNlIiwicHJvdG90eXBlIiwicmVnaXN0ZXJDb21tYW5kIiwibm90aWZpY2F0aW9uTmFtZSIsImNvbW1hbmRDbGFzc1JlZiIsInZpZXciLCJyZWdpc3Rlck9ic2VydmVyIiwiZXhlY3V0ZUNvbW1hbmQiLCJoYXNDb21tYW5kIiwidW5kZWZpbmVkIiwicmVtb3ZlQ29tbWFuZCIsInJlbW92ZU9ic2VydmVyIiwiVmlldyIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImNvbW1hbmQiLCJfY29uc29sZUFyZ3MiLCJuYW1lIiwiYXBwbHkiLCJjb25jYXQiLCJDb250cm9sbGVyXzEiLCJNb2RlbF8xIiwiRmFjYWRlIiwibG9nTm90aWZpY2F0aW9uIiwiaW5pdGlhbGl6ZU5vdGlmaWVyIiwiaW5pdGlhbGl6ZUZhY2FkZSIsImhhc0NvcmUiLCJyZW1vdmVDb3JlIiwiTW9kZWwiLCJyZW1vdmVNb2RlbCIsInJlbW92ZVZpZXciLCJpbml0aWFsaXplTW9kZWwiLCJpbml0aWFsaXplVmlldyIsImNvbnRyb2xsZXIiLCJyZWdpc3RlclByb3h5IiwicHJveHkiLCJtb2RlbCIsInJldHJpZXZlUHJveHkiLCJwcm94eU5hbWUiLCJyZW1vdmVQcm94eSIsImhhc1Byb3h5IiwicmVnaXN0ZXJNZWRpYXRvciIsIm1lZGlhdG9yIiwicmV0cmlldmVNZWRpYXRvciIsIm1lZGlhdG9yTmFtZSIsInJlbW92ZU1lZGlhdG9yIiwic2xlZXBNZWRpYXRvciIsImF3YWtlTWVkaWF0b3IiLCJoYXNNZWRpYXRvciIsInNlbmROb3RpZmljYXRpb24iLCJfYSIsIm5vdGlmeU9ic2VydmVycyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiTm90aWZpZXJfMSIsIk1lZGlhdG9yIiwiX3N1cGVyIiwidmlld0NvbXBvbmVudCIsIl90aGlzIiwiY2FsbCIsImxvZ01lZGlhdG9yIiwic2xlZXBpbmciLCJzdWJzY3JpYmVkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXRNZWRpYXRvck5hbWUiLCJzZXRWaWV3Q29tcG9uZW50IiwiZ2V0Vmlld0NvbXBvbmVudCIsIm9uUmVnaXN0ZXIiLCJvblJlbW92ZSIsIm9uU2xlZXAiLCJvbkF3YWtlIiwic3Vic2NyaWJlTm90aWZpY2F0aW9uIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwiYWRkU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmVOb3RpZmljYXRpb24iLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJhY3Rpb24iLCJvbGROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsInNsaWNlIiwiY2hhbmdlZCIsImZvckVhY2giLCJub3RpZmljYXRpb24iLCJpbmRleE9mIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwiTm90aWZpZXIiLCJwcm94eU1hcCIsImdldFByb3h5TmFtZSIsIkZhY2FkZV8xIiwiZmFjYWRlIiwiZ2V0RmFjYWRlIiwiUHJveHkiLCJkYXRhIiwibG9nUHJveHkiLCJzZXREYXRhIiwiZ2V0RGF0YSIsImNvbnNvbGVBcmdzIiwiY29tbWFuZE5hbWUiLCJjb25zb2xlIiwibG9nIiwiRXZlbnRFbWl0dGVyIiwibWVkaWF0b3JNYXAiLCJldmVudEVtaXR0ZXIiLCJvYnNlcnZlck1ldGhvZCIsImNvbnRleHQiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiZW1pdCIsInJlZ2lzdGVyT2JzZXJ2ZXJzIiwib25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImJpbmQiLCJpc1NsZWVwaW5nIiwicmVtb3ZlT2JzZXJ2ZXJzIiwiaW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzEiLCJpbnRlcmVzdCIsImhhbmRsZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18yIiwiTWVkaWF0b3JfMSIsIlByb3h5XzEiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwiVHlwZUVycm9yIiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiaSIsImwiLCJlZSIsImxpc3RlbmVyQ291bnQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwibGVuIiwiaiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwibW9kdWxlIiwiTmF2aWdhdGlvbk5vZGUiLCJ4IiwieSIsInoiLCJjb25uZWN0ZWROb2RlcyIsIm9jY3VwaWVkIiwib3RoZXJOb2RlIiwiZmluZCIsIm5vZGUiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RlZE5vZGVJbmRleCIsImZpbmRJbmRleCIsImVxdWFscyIsInBjIiwiY3JlYXRlU2NyaXB0IiwiaW5pdGlhbGl6ZSIsIkdhbWVNYXBNZWRpYXRvciIsIm1hcEdyaWQiLCJzdXBlciIsIk5BTUUiLCJHYW1lQ29tbWFuZHMiLCJHYW1lU3RhdGVQcm94eSIsInZvIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsIkdhbWVNZWRpYXRvciIsInBhcnNlR2FtZU1hcENvbW1hbmQiLCJhcHAiLCJmbG9vckdyaWQiLCJuYXZpZ2F0aW9uRmxvb3JzIiwicm9vdCIsImZpbmRCeVRhZyIsImNvbXBsZXRlZEdyaWQiLCJuYXZpZ2F0aW9uQ29tcG9uZW50cyIsImZsb29yRW50aXR5IiwibmF2Q29tcCIsInNjcmlwdCIsImNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yIiwic2V0R3JpZCIsIm5hdmlnYXRpb25Db21wIiwiY29ubmVjdGVkQ29tcEVudGl0eSIsImNvbm5lY3RlZENvbXBvbmVudHMiLCJjb25uZWN0ZWROYXZDb21wIiwiam9pblRvQWRqYWNlbnRHcmlkIiwiZ2V0R3JpZCIsImNyZWF0ZU1hcEZsb29yIiwid2FsbHMiLCJ3YWxsc0JvdW5kaW5nQm94ZXMiLCJtYXBXYWxsRW50aXRpZXMiLCJtYXBXYWxsRW50aXR5IiwiYWFiYiIsImNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eSIsImNyZWF0ZUZsb29yVW5kZXJXYWxscyIsImRlc3Ryb3kiLCJjcmVhdGVNYXBXYWxscyIsImNvdmVyIiwiY292ZXJQb2ludHMiLCJjb3ZlckVudGl0aWVzIiwiY292ZXJFbnRpdHkiLCJjcmVhdGVDb3ZlclBvaW50RnJvbUJveCIsImNyZWF0ZU1hcENvdmVyIiwiR2FtZU1hcFByb3h5IiwiYm94RW50aXR5Iiwic2NhbGUiLCJnZXRMb2NhbFNjYWxlIiwiaGFsZkV4dGVudHMiLCJWZWMzIiwiQm91bmRpbmdCb3giLCJnZXRQb3NpdGlvbiIsIndhbGwiLCJ3YWxsUG9zIiwid2FsbFNjYWxlIiwiTWF0aCIsInJvdW5kIiwiY29ybmVyWCIsImNvcm5lcloiLCJtYXRjaGluZ05vZGVJbmRleCIsImVxdWFsc1BvaW50IiwiZGVsZXRlZE5vZGVzIiwiZGVsZXRlZE5vZGUiLCJkaXNjb25uZWN0ZWROb2RlIiwiZ3JpZCIsImZsb29yUG9zaXRpb24iLCJnZXRMb2NhbFBvc2l0aW9uIiwiZmxvb3JTaXplIiwic25hcHBlZFdpZHRoIiwic25hcHBlZEJyZWFkdGgiLCJzbmFwcGVkWCIsInNuYXBwZWRZIiwic25hcHBlZFoiLCJhZGRDb25uZWN0ZWROb2RlIiwiZ3JpZFRvSm9pbiIsImJveCIsImJveFBvcyIsImJveFNjYWxlIiwiY292ZXJQb2ludCIsIldlYXBvbnNQcm94eSIsIndlYXBvbk5hbWUiLCJkYW1hZ2VUaWVyIiwiY2F0ZWdvcnlLZXkiLCJjYXRlZ29yeSIsImRhbWFnZSIsIm1pbiIsInN0YXJ0dXBDb21tYW5kIiwid2VhcG9uc0RhdGEiLCJhc3NldHMiLCJyZXNvdXJjZSIsImNoYW5nZVNjZW5lQ29tbWFuZCIsInNjZW5lTmFtZSIsIm9sZEhpZXJhcmNoeSIsImZpbmRCeU5hbWUiLCJzY2VuZSIsInNjZW5lcyIsImxvYWRTY2VuZUhpZXJhcmNoeSIsInVybCIsImVyciIsInBhcmVudCIsImVycm9yIiwic2h1ZmZsZUFycmF5IiwiYXJyYXkiLCJjdXJyZW50SW5kZXgiLCJ0ZW1wb3JhcnlWYWx1ZSIsInJhbmRvbUluZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJDb21iYXRWTyIsIkNvbWJhdFByb3h5IiwicGFydGljaXBhbnRzIiwicGFydGljaXBhbnRQcm94aWVzIiwiTWFwIiwicGFydGljaXBhbnQiLCJwYXJ0aWNpcGFudFByb3h5IiwiR2FtZUNoYXJhY3RlclByb3h5Iiwic2V0Iiwicm91bmRJbml0aWF0aXZlIiwibmV4dFR1cm5JZCIsInNoaWZ0IiwiYWN0aXZlUGFydGljaXBhbnQiLCJyZXNldENvbWJhdFR1cm5TdGF0ZSIsImlzTlBDIiwic2V0VGltZW91dCIsImluaXRpYXRpdmVzIiwiY2hhcmFjdGVySWQiLCJlbnRyaWVzIiwiaW5pdGlhdGl2ZSIsInNodWZmbGVkSW5pdGlhdGl2ZSIsIm5leHRUdXJuQ2hhcmFjdGVySWQiLCJkZWxldGUiLCJmaWx0ZXIiLCJlIiwic3RhcnRDb21iYXRDb21tYW5kIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCIsInVwZGF0ZUdhbWVTdGF0ZVR5cGUiLCJnYW1lcGxheU1vZGVUeXBlcyIsImluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkiLCJjbGVhblBhcnRpY2lwYW50cyIsImNvbWJhdEdyb3VwIiwiaXRlbSIsInBvcyIsInNlbGYiLCJwbGF5ZXJQcm94eSIsImN1cnJlbnROb2RlIiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsIkJlaGF2aW91clN0YXR1cyIsIkJhc2VOb2RlIiwiY2hpbGRyZW4iLCJpZCIsInMiLCJoZXhEaWdpdHMiLCJzdWJzdHIiLCJqb2luIiwiY3JlYXRlVVVJRCIsInRpY2siLCJfZW50ZXIiLCJibGFja2JvYXJkIiwidHJlZSIsIl9vcGVuIiwic3RhdHVzIiwiX3RpY2siLCJSVU5OSU5HIiwiX2Nsb3NlIiwiX2V4aXQiLCJlbnRlck5vZGUiLCJlbnRlciIsIm9wZW5Ob2RlIiwib3BlbiIsInRpY2tOb2RlIiwiY2xvc2VOb2RlIiwiY2xvc2UiLCJleGl0Tm9kZSIsImV4aXQiLCJFUlJPUiIsIk1hc3Rlck5vZGUiLCJjaGlsZE5vZGUiLCJleGVjdXRlIiwiU1VDQ0VTUyIsIkJsYWNrYm9hcmQiLCJpbml0aWFsaXNlIiwiYmFzZU1lbW9yeSIsInRyZWVNZW1vcnkiLCJ0cmVlU2NvcGUiLCJub2RlTWVtb3J5Iiwib3Blbk5vZGVzIiwibm9kZVNjb3BlIiwibWVtb3J5IiwiZ2V0VHJlZU1lbW9yeSIsImdldE5vZGVNZW1vcnkiLCJnZXRNZW1vcnkiLCJUaWNrIiwibm9kZUNvdW50IiwidGFyZ2V0IiwicG9wIiwiQmVoYXZpb3VyVHJlZSIsImxhc3RPcGVuTm9kZXMiLCJjdXJyT3Blbk5vZGVzIiwic3RhcnQiLCJDaGFyYWN0ZXJDb21tYW5kVHJlZSIsIlByaW9yaXR5IiwiY2hpbGQiLCJGQUlMVVJFIiwiU2V0UGxheWVyQXNUYXJnZXQiLCJNZWxlZUF0dGFja1RhcmdldCIsImF0dGFja2VySWQiLCJkZWZlbmRlcklkIiwiRW5kQ29tYmF0VHVybiIsIkhhc01vdmVtZW50UmVtYWluaW5nIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJJc05leHRUb1BsYXllciIsImNoYXJhY3RlckN1cnJlbnROb2RlIiwic29tZSIsIm4iLCJNZW1TZXF1ZW5jZSIsIkludmVydGVyIiwiSXNUYXJnZXREZWFkIiwidGFyZ2V0SWQiLCJpc0RlYWQiLCJNb3ZlVG93YXJkc1RhcmdldCIsImNoYXJhY3RlclByb3h5IiwicmVzdWx0IiwicmVkdWNlIiwiYSIsImRpc3RhbmNlU3FydCIsInBhdGgiLCJBc3RhciIsInAxIiwicDIiLCJwb3ciLCJJc0RlYWQiLCJIYXNBY3Rpb25zUmVtYWluaW5nIiwiYXZhaWxhYmxlQWN0aW9ucyIsIkJhc2ljTWVsZWVUcmVlIiwiZW5lbXlUdXJuQ29tbWFuZCIsImVuZW15SWQiLCJlbmVteUN1cnJlbnROb2RlIiwicnVuQ29tbWFuZHMiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsInRhcmdldE5vZGUiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJtb3ZlYWJsZU5vZGVzIiwiaGFuZGxlVmFsaWRNb3ZlIiwic2hvd1dhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZU5vZGVzIiwid2Fsa2FibGVUaWxlQXNzZXQiLCJjb250YWluZXIiLCJ0aWxlIiwiaW5zdGFudGlhdGUiLCJzZXRMb2NhbFBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlVGlsZUVudGl0aWVzIiwid2Fsa2FibGVUaWxlRW50aXR5IiwiYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQiLCJlbmRNb3ZlbWVudENvbW1hbmQiLCJlbmROb2RlIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImhlaWdodCIsInNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJnYW1lTWFwUHJveHkiLCJ0YXJnZXRDaGFyYWN0ZXJQcm94eSIsInBsYXllckNoYXJhY3RlclByb3h5Iiwid2VhcG9uQ2F0ZWdvcnkiLCJnZXRXZWFwb25DYXRlZ29yeSIsImVxdWlwcGVkV2VhcG9uIiwiY3VycmVudEFjdGlvbiIsImNhblNlZVRhcmdldCIsInBhdGhUb1RhcmdldCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXIiLCJ0YXJnZXRDdXJycmVudE5vZGUiLCJpc1RhcmdldEFkamFjZW50IiwidW5vY2N1cGllZE5vZGVzIiwicGxheWVyTm9kZSIsInNob3J0ZXN0UGF0aCIsIm90aGVyUGF0aCIsInBsYXllclBvaW50IiwidGFyZ2V0UG9pbnQiLCJyYXlJbnRlcnNlY3RzV2FsbCIsImNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQiLCJhY3Rpb25OYW1lIiwiYnV0dG9uTmFtZSIsInJlc29sdmVBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVyUHJveHkiLCJhdHRhY2tlclJvbGwiLCJyb2xsQXR0YWNrU2tpbGwiLCJza2lsbCIsImRlZmVuZGVyUm9sbCIsIndlYXBvbnNQcm94eSIsImRldGVybWluZURhbWFnZVRpZXIiLCJnZXREYW1hZ2UiLCJhcHBseURhbWFnZSIsImhhc01lbGVlV2VhcG9uIiwid2VhcG9uIiwiV2VhcG9uVHlwZXMiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwicm9sbERpY2UiLCJtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCIsInVzZU1vdmVtZW50IiwiY2hhcmFjdGVyTWVkaWF0b3IiLCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3IiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlIiwidGhlbiIsImtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwiUmFuZ2VBdHRhY2tUYXJnZXQiLCJNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJ0YXJnZXRDdXJyZW50Tm9kZSIsIm1pbkRpc3RhbmNlU3FydCIsIm1heERpc3RhbmNlU3FydCIsIm1vdmVQb2ludHNBdmFpbGFibGUiLCJkaXN0YW5jZVRvVGFyZ2V0IiwiUGlja05leHRBY3Rpb24iLCJDYW5TZWVUYXJnZXQiLCJ0YXJnZXRQcm94eSIsImZyb21Qb3MiLCJ0b1BvcyIsIk1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIiwiZGVsZXRlQ291bnQiLCJwYXRoTm9kZSIsIkJhc2ljUmFuZ2VkVHJlZSIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsImJvdEJlaGF2aW91ciIsIkJvdEJlaGF2aW91clR5cGVzIiwicmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQiLCJhdHRhY2tlclNjb3JlIiwiZGVmZW5kZXJTY29yZSIsImF0dGFja2VyTm9kZSIsImRlZmVuZGVyTm9kZSIsImlzSW5Db3ZlciIsInByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIiwicHJvamVjdGlsZU9yaWdpbiIsInByb2plY3RpbGVUYXJnZXQiLCJjcmVhdGVQcm9qZWN0aWxlIiwibmVpZ2hib3VyaW5nTm9kZXMiLCJwb3NzaWJsZVRhcmdldHMiLCJlcXVpcFdlYXBvbkNvbW1hbmQiLCJHYW1lRmFjYWRlIiwiZ2FtZSIsIlNUQVJUVVAiLCJib3RCZWhhdmlvdXJFbnVtcyIsIk5PTkUiLCJCQVNJQ19NRUxFRSIsIkJBU0lDX1JBTkdFRCIsIndlYXBvbkVudW1zIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJtYXAiLCJHYW1lQ2hhcmFjdGVyVk8iLCJwYXJhbXMiLCJtYXhNb3ZlbWVudCIsIm1heEFjdGlvbnNQZXJUdXJuIiwiY29zdCIsImRhbWFuZ2UiLCJjdXJyZW50U3RhbWluYSIsIm1heCIsIm1heGltdW1TdGFtaW5hIiwibWF4U3RhbWluYSIsImFncm9BcmVhIiwibWF4THVjayIsImN1cnJlbnRMdWNrIiwiYWR2YW5jZWRTa2lsbHMiLCJHYW1lTWFwVk8iLCJ3YWxsQm91bmRpbmdCb3hlcyIsIm5lYXJlc3ROb2RlIiwiZGlzdFNxcnRUb05lYXJlc3ROb2RlIiwiZGlzdFRvTm9kZSIsImZyb20iLCJ0byIsImRpc3RhbmNlIiwiZGlyZWN0aW9uIiwiY2xvbmUiLCJzdWIiLCJub3JtYWxpemUiLCJyYXkiLCJSYXkiLCJtYXBXYWxscyIsImhpdFBvc2l0aW9uIiwiaW50ZXJzZWN0c1JheSIsImF0dGFja2luZ0Zyb20iLCJhZGphY2VudENvdmVyUG9pbnRzIiwiYWRqYWNlbnRQb2ludHMiLCJwb2ludCIsInBvaW50cyIsImdldEFkamFjZW50UG9pbnRzIiwiYWRqYWNlbnRQb2ludCIsImFkamFjZW50Q292ZXJQb2ludCIsIlByaW9yaXR5UXVldWUiLCJwcmlvcml0eSIsIkluZmluaXR5IiwicmFuZ2VMaW1pdCIsImZyb250aWVyIiwic2VhcmNoZWRBcmVhIiwiY2FtZUZyb20iLCJyYW5nZSIsIm5ld0Zyb250aWVyIiwiY3VycmVudCIsIm5leHQiLCJnb2FsIiwiY29zdFNvRmFyIiwiZW1wdHkiLCJuZXdDb3N0IiwiaGV1cmlzdGljIiwicGF0aElzQnJva2VuIiwicHQxIiwicHQyIiwiYWJzIiwiR2FtZVN0YXRlVk8iLCJuZXdTdGF0ZVR5cGUiLCJzZWxlY3RlZEFjdGlvbiIsIkVYUExPUkFUSU9OIiwiQ09NQkFUIiwiRElBTE9HVUUiLCJHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiYXR0cmlidXRlcyIsImFkZCIsInR5cGUiLCJ0aXRsZSIsImRlZmF1bHQiLCJzY2hlbWEiLCJlbnVtIiwicHJlcmVnaXN0ZXJOb3RpZmljYXRpb24iLCJwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwic3RhdHNPdmVycmlkZXMiLCJwcm94eVBhcmFtcyIsImNoYXJhY3RlckhlaWdodCIsImNvbWJhdEdyb3VwTmFtZSIsImNvbXJhZGVFbnRpdGllcyIsImNvbXJhZGVFbnRpdHkiLCJlbmFibGVkIiwiY29tcmFkZUlkIiwiZW50aXR5IiwiYW5pbWF0aW9uIiwicGxheSIsInNldFBhdGgiLCJmaXJlIiwibG9vcCIsInN0b3BNb3ZlbWVudCIsInVwZGF0ZSIsImR0IiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5ld1Bvc2l0aW9uIiwic3BlZWQiLCJjaGFyYWN0ZXJTcGVlZCIsIm5vZGVQb2ludCIsInN1YjIiLCJtdWwiLCJsb29rQXRQb2ludCIsImR4IiwiZHoiLCJhbmdsZVRvRGVzdCIsImF0YW4yIiwiUEkiLCJzZXRFdWxlckFuZ2xlcyIsImFuaW1hdGVEZWF0aCIsImFuaW1hdGVIaXQiLCJhbmltYXRlQXR0YWNrIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJzY3JpcHRLZXkiLCJzY3JpcHRDb21wb25lbnQiLCJoYW5kbGVTdGFydENvbWJhdCIsImZpbmROZWFyZXN0Tm9kZSIsImhhbmRsZU5hdmlnYXRlVG9Ob2RlIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgiLCJoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUiLCJsb29rUG9pbnQiLCJoaXRib3giLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5ld05vZGUiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsIklucHV0TGF5ZXJNZWRpYXRvciIsImhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIiLCJoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uIiwiaGFuZGxlU2Nyb2xsaW5nIiwiY2hhcmFjdGVyRW50aXR5IiwiR2FtZUNhbWVyYSIsIkdhbWVDYW1lcmFNZWRpYXRvciIsInNldENhbWVyYVRhcmdldCIsImNhbWVyYVRhcmdldCIsInJvdGF0aW9uIiwiZ2V0RXVsZXJBbmdsZXMiLCJjYW1lcmFIZWlnaHQiLCJoYW5kbGVEcmFnIiwiZHJhZ011bHRpcGxpZXJYIiwidmVydGljYWxTY3JvbGwiLCJuZXdDYW1lcmFIZWlnaHQiLCJkcmFnTXVsdGlwbGllclkiLCJtYXRoIiwiY2xhbXAiLCJtaW5DYW1lcmFIZWlnaHQiLCJtYXhDYW1lcmFIZWlnaHQiLCJnZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiIsImZvY3VzUG9pbnQiLCJjYW1lcmFQb3NpdGlvbiIsInRhcmdldFgiLCJzaW4iLCJ0YXJnZXRaIiwiY29zIiwiY2FtZXJhVGFyZ2V0UG9zaXRpb24iLCJ0YXJnZXRQb3NpdGlvbiIsImN1cnJlbnRQb3MiLCJ0d2VlblgiLCJ0d2VlblkiLCJ0d2VlbloiLCJsb29rQXQiLCJJbnB1dExheWVyQ29tcG9uZW50Iiwid2luZG93IiwiaW5wdXRRdWV1ZSIsIm1vdXNlIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiY2xpY2tEb3duU3RhcnQiLCJpc0RyYWdnaW5nIiwiaGFuZGxlUGlja2VyUmVzdWx0IiwiRVZFTlRfTU9VU0VNT1ZFIiwib25Nb3VzZU1vdmUiLCJlbGVtZW50IiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJvblJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJncmFwaGljc0RldmljZSIsIndpZHRoIiwic2NyZWVuIiwic2NhbGVCbGVuZCIsIkRhdGUiLCJub3ciLCJjbGlja1N0YXJ0UG9pbnQiLCJWZWMyIiwiZHJhZ1RpbWUiLCJoYW5kbGVSYXljYXN0Q29sbGlzaW9ucyIsImNhbWVyYUVudGl0eSIsImNhbWVyYUNvbXBvbmVudCIsImNhbWVyYSIsInNjcmVlblRvV29ybGQiLCJmYXJDbGlwIiwib3JpZ2luIiwiY29weSIsInBpY2tlZEVudGl0eSIsInNjcmVlblBvcyIsInNjcmVlblBvc2l0aW9uIiwicHJvY2Vzc0lucHV0UXVldWUiLCJoaWdoZXN0UHJpb3JpdHlQaWNrIiwiaGlnaGVzdFByaW9yaXR5IiwicGljayIsInRhZ3MiLCJwaWNrZWRHYW1lQ2hhcmFjdGVyIiwicGlja2VkTmF2aWdhdGlvbiIsImdldE5lYXJlc3ROb2RlIiwib3JpZ2luUG9pbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiQ2Fjb2dlbkdhbWUiLCJLRVkiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiaGFuZGxlUmF5Q2FzdCIsIm5vZGVHcmlkIiwiQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJoYW5kbGVNYXBHcmlkQ3JlYXRlZCIsImhhbmRsZU1vdmVkVG9Ob2RlIiwic2lnaHRSYW5nZSIsImFncm9Ob2RlIiwiVG9hc3RNZXNzYWdlTWVkaWF0b3IiLCJhZGRNZXNzYWdlIiwiVG9hc3RNZXNzYWdlQ29tcG9uZW50IiwibWVzc2FnZVF1ZXVlIiwiY3VycmVudFRpbWVvdXQiLCJtZXNzYWdlIiwic2hvd05leHRNZXNzYWdlIiwibmV4dE1lc3NhZ2UiLCJsYWJlbEVudGl0eSIsInRleHQiLCJtZXNzYWdlVGltZSIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwiSGl0Ym94Q29tcG9uZW50IiwiY2VudGVyIiwiQWN0aW9uUGFuZWxNZWRpYXRvciIsImhhbmRsZUZpcmVDb21tYW5kIiwic2VsZWN0QWN0aW9uIiwiQWN0aW9uQnV0dG9uQ29tcG9uZW50IiwiaGlnaGxpZ2h0RW50aXR5IiwiaGFuZGxlQ2hhbmdlQWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJjb21tYW5kcyIsImNvbW1hbmRBcmdzIiwiQWN0aW9uUGFuZWxDb21wb25lbnQiLCJidXR0b24iLCJhY3Rpb25CdXR0b25zIiwic3RvcFByb3BhZ2F0aW9uIiwiUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQiLCJwcm9qZWN0aWxlTmFtZSIsInByb2plY3RpbGVTY2hlbWUiLCJwcm9qZWN0aWxlVHlwZXMiLCJzY2hlbWUiLCJuZXdQcm9qZWN0aWxlIiwicHJvamVjdGlsZVRlbXBsYXRlIiwic2V0VGFyZ2V0IiwiUHJvamVjdGlsZUNvbXBvbmVudCIsInByb2plY3RpbGVTcGVlZCIsIlN0YW1pbmFCYXJNZWRpYXRvciIsIm5ld1N0YW1pbmEiLCJ1cGRhdGVTdGFtaW5hIiwiU3RhbWluYUJhckNvbXBvbmVudCIsImJhckVudGl0eU1heFdpZHRoIiwiYmFyRW50aXR5IiwibGVycCIsInJlY3QiLCJzdGFtaW5hTGFiZWwiLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciIsIm1heEFjdGlvbnMiLCJzaG93QXZhaWxhYmxlQWN0aW9uIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IiwicGlwcyIsImNyZWF0ZVBpcCIsIm5ld1BpcCIsInBpcFRlbXBsYXRlIiwiQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCIsInNob3ciLCJwaXBGcm9udCIsInN0YXJ0dXAiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSUMsRUFBWSxFQUFRLEtBQ3BCQyxFQUFTLEVBQVEsS0FFakJDLEVBQTRC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YUFBY3l0QixJQUN6QmgyQixLQUFLaTJCLFNBQVN2TixRQUFVc04sTUNQaEMsTUFBUTV6QixPQUFNLEdBQUssRUFBUSxNQUNyQixRQUFFOUIsR0FBWSxFQUFRLEtBK0JmLElBWmIsTUFDSSxjQUNJeUgsUUFBUUMsSUFBSSxjQUNaMUgsRUFBUUMsT0FBUSxFQUNoQixFQUFPSyxZQUFjZ2lCLEVBQVcsV0FBWCxZQUNyQjdhLFFBQVFDLElBQUksR0FFWmhJLEtBQUtzSCxPQUFTLEVBQU8xRyxZQUFZZ2lCLEVBQVcsV0FBWCxLQUNqQzVpQixLQUFLc0gsT0FBTzR1QixRQUFRbDJCLFMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcImNvbnRyb2xsZXIga2V5IGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkXCI7XG52YXIgQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKGtleSkge1xuICAgICAgICB0aGlzLmNvbW1hbmRNYXAgPSB7fTtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ0NvbW1hbmQgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIENvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IENvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdID0gY29tbWFuZENsYXNzUmVmO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5leGVjdXRlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlcihDb250cm9sbGVyLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZC5uYW1lKTtcbiAgICAgICAgY29tbWFuZC5hcHBseSh2b2lkIDAsIFt0aGlzLm11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Q0QkZFMFwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjODcyNEJEXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCJcbiAgICBdO1xuICAgIENvbnRyb2xsZXIuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbGxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vQ29udHJvbGxlclwiKTtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vTW9kZWxcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiRmFjYWRlIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIEZhY2FkZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNhZGUoa2V5KSB7XG4gICAgICAgIGlmIChGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU5vdGlmaWVyKGtleSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZhY2FkZSgpO1xuICAgIH1cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUuaGFzQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgRmFjYWRlLnJlbW92ZUNvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTW9kZWxfMS5Nb2RlbC5yZW1vdmVNb2RlbChrZXkpO1xuICAgICAgICBWaWV3XzEuVmlldy5yZW1vdmVWaWV3KGtleSk7XG4gICAgICAgIENvbnRyb2xsZXJfMS5Db250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlZ2lzdGVyQ29tbWFuZChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlbW92ZUNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yZWdpc3RlclByb3h5KHByb3h5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmV0cmlldmVQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJlbW92ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5oYXNQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck1lZGlhdG9yKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZXRyaWV2ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJlbW92ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc2xlZXBNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmF3YWtlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGFzTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5sb2dnZXIuYXBwbHkodGhpcywgW0ZhY2FkZS5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIChfYSA9IHRoaXMudmlldykubm90aWZ5T2JzZXJ2ZXJzLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbCA9IE1vZGVsXzEuTW9kZWwuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMyRjJFMTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiI0ZGRjMyNVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiXG4gICAgXTtcbiAgICBGYWNhZGUuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gRmFjYWRlO1xufSgpKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjYWRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiTWVkaWF0b3JcIjtcbnZhciBNZWRpYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVkaWF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVkaWF0b3IobWVkaWF0b3JOYW1lLCB2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTWVkaWF0b3IgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBfdGhpcy5tZWRpYXRvck5hbWUgPSBtZWRpYXRvck5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIF90aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcIm5vdGlmaWNhdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0TWVkaWF0b3JOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck5hbWU7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICh2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uU2xlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJzbGVlcFwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vbkF3YWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcImF3YWtlXCIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJpc1NsZWVwaW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbGVlcGluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuYWRkU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS51bnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5jaGFuZ2VTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvbGROb3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25zLnNsaWNlKCk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25OYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk5hbWUuZm9yRWFjaChmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKF90aGlzLCBub3RpZmljYXRpb24pIHx8IGNoYW5nZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbCh0aGlzLCBub3RpZmljYXRpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZCAmJiB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UodGhpcywgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5hZGRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNGNEY2RkVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NTZDMVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiXG4gICAgXTtcbiAgICByZXR1cm4gTWVkaWF0b3I7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lZGlhdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiTW9kZWwgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kZWwoa2V5KSB7XG4gICAgICAgIHRoaXMucHJveHlNYXAgPSB7fTtcbiAgICAgICAgaWYgKE1vZGVsLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgfVxuICAgIE1vZGVsLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBNb2RlbChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5yZW1vdmVNb2RlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHByb3h5LmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgdGhpcy5wcm94eU1hcFtwcm94eS5nZXRQcm94eU5hbWUoKV0gPSBwcm94eTtcbiAgICAgICAgcHJveHkub25SZWdpc3RlcigpO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSkge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcHJveHkub25SZW1vdmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE1vZGVsLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIE1vZGVsO1xufSgpKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL0ZhY2FkZVwiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIm11bHRpdG9uS2V5IGZvciB0aGlzIE5vdGlmaWVyIG5vdCB5ZXQgaW5pdGlhbGl6ZWQhXCI7XG52YXIgTm90aWZpZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpZXIoKSB7XG4gICAgfVxuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZmFjYWRlID0gdGhpcy5nZXRGYWNhZGUoKTtcbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5mYWNhZGUpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuZmFjYWRlKS5zZW5kTm90aWZpY2F0aW9uLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmdldEZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubXVsdGl0b25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGVfMS5GYWNhZGUuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm90aWZpZXI7XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiUHJveHlcIjtcbnZhciBQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJveHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJveHkocHJveHlOYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb3h5TmFtZSA9IHByb3h5TmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ1Byb3h5IDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnNldERhdGEoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0UHJveHlOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU5hbWU7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgUHJveHkuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMxMDI0MTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzI3RDA0Q1wiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiXG4gICAgXTtcbiAgICByZXR1cm4gUHJveHk7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3h5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVyZU1WQygpIHtcbiAgICB9XG4gICAgUHVyZU1WQy5sb2dDb21tYW5kID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kTmFtZSkge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCIgPT4gIFwiICsgY29tbWFuZE5hbWUgKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiOiBhcmdzIFsgXCIgKyBhcmdzICsgXCIgXSAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dNZWRpYXRvciA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dQcm94eSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb25lID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICByZXR1cm4gUHVyZU1WQztcbn0oKSk7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHVyZU1WQy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIlZpZXcgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3KGtleSkge1xuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoVmlldy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfVxuICAgIFZpZXcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IFZpZXcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5yZW1vdmVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuZXZlbnRFbWl0dGVyKS5lbWl0LmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWF0b3IuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbWVkaWF0b3IgZm9yIHJldHJpZXZhbCBieSBuYW1lXG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldID0gbWVkaWF0b3I7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICBtZWRpYXRvci5vblJlZ2lzdGVyKHRoaXMub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gYXdha2VuXG4gICAgICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBtZWRpYXRvciBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBtZWRpYXRvci5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAobWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHNsZXB0XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGZvciBldmVyeSBub3RpZmljYXRpb24gdGhlIG1lZGlhdG9yIGlzIGludGVyZXN0ZWQgaW4uLi5cbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzFbX2ldO1xuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZ2V0IG5vdGlmaWNhdGlvbiBpbnRlcmVzdHMgaWYgYW55XG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgLy8gcmVnaXN0ZXIgbWVkaWF0b3IgYXMgYW4gb2JzZXJ2ZXIgZm9yIGVhY2ggbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMiA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMltfaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIChtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgIH07XG4gICAgVmlldy5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBWaWV3O1xufSgpKTtcbmV4cG9ydHMuVmlldyA9IFZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Db250cm9sbGVyXCIpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXI7XG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlXCIpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGVfMS5GYWNhZGU7XG52YXIgTWVkaWF0b3JfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvclwiKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcl8xLk1lZGlhdG9yO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWxcIik7XG5leHBvcnRzLk1vZGVsID0gTW9kZWxfMS5Nb2RlbDtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyXCIpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyXzEuTm90aWZpZXI7XG52YXIgUHJveHlfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eVwiKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eV8xLlByb3h5O1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9QdXJlTVZDXCIpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQ18xLlB1cmVNVkM7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1ZpZXdcIik7XG5leHBvcnRzLlZpZXcgPSBWaWV3XzEuVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsImV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uTm9kZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0Nvbm5lY3RlZChvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZChub2RlID0+IG5vZGUueCA9PT0gb3RoZXJOb2RlLnhcbiAgICAgICAgICAgICYmIG5vZGUueSA9PT0gb3RoZXJOb2RlLnkgJiYgbm9kZS56ID09PSBvdGhlck5vZGUueikgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyTm9kZS54ICYmIHRoaXMueSA9PT0gb3RoZXJOb2RlLnkgJiYgdGhpcy56ID09PSBvdGhlck5vZGUuejtcbiAgICB9XG5cbiAgICBlcXVhbHNQb2ludCh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gejtcbiAgICB9XG5cbiAgICBhZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQob3RoZXJOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5wdXNoKG90aGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlSW5kZXggPSB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUuZXF1YWxzKG90aGVyTm9kZSkpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnNwbGljZShjb25uZWN0ZWROb2RlSW5kZXgsIDEpO1xuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgR2FtZU1hcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZU1hcENvbXBvbmVudCcpO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZU1hcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcENvbXBvbmVudCB9IGZyb20gJy4vR2FtZU1hcENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNYXBNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXBHcmlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVN0YXRlID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcbiAgICAgICAgICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChhcHApIHtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiY29uc3QgeyBHYW1lTWVkaWF0b3IgfSA9IHJlcXVpcmUoJy4uL3ZpZXcvR2FtZU1lZGlhdG9yJyk7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZSc7XG5pbXBvcnQgeyBHYW1lTWFwTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUdhbWVNYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG5cbiAgICAvLyBHZXQgbmF2aWdhdGlvbiBmbG9vcnNcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZU1hcEZsb29yKGFwcCk7XG4gICAgY29uc3Qgd2FsbHMgPSBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgY292ZXIgPSBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCk7XG5cbiAgICBjb25zb2xlLmxvZygnQ09WRVInKTtcbiAgICBjb25zb2xlLmxvZyhjb3Zlcik7XG5cbiAgICAvLyBSZWdpc3RlciBtZWRpYXRvcnNcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVNYXBQcm94eShmbG9vckdyaWQsIHdhbGxzLCBjb3ZlcikpO1xuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZU1hcE1lZGlhdG9yKCkpO1xuXG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBGbG9vcihhcHApIHtcbiAgICBjb25zdCBuYXZpZ2F0aW9uRmxvb3JzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCduYXZpZ2F0aW9uX2Zsb29yJyk7XG5cbiAgICBsZXQgY29tcGxldGVkR3JpZCA9IFtdO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkNvbXBvbmVudHMgPSBbXTtcbiAgICAvLyBGaXJzdCBwYXJzZSAtIGNyZWF0ZSBub2RlcyBhbmQgY29ubmVjdGlvbnMgZm9yIGluZGl2aWR1YWwgXG4gICAgLy8gbmF2aWdhdGlvbiBjb21wb25lbnRzXG4gICAgZm9yIChjb25zdCBmbG9vckVudGl0eSBvZiBuYXZpZ2F0aW9uRmxvb3JzKSB7XG4gICAgICAgIGNvbnN0IG5hdkNvbXAgPSBmbG9vckVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICAgICAgbmF2aWdhdGlvbkNvbXBvbmVudHMucHVzaChuYXZDb21wKTtcblxuICAgICAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSlcbiAgICAgICAgbmF2Q29tcC5zZXRHcmlkKGZsb29yR3JpZCk7XG4gICAgfVxuXG4gICAgLy8gU2Vjb25kIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wbGV0ZWRHcmlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxzQm91bmRpbmdCb3hlcyA9IFtdO1xuICAgIGNvbnN0IG1hcFdhbGxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2FsbCcpO1xuICAgIGZvciAoY29uc3QgbWFwV2FsbEVudGl0eSBvZiBtYXBXYWxsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgYWFiYiA9IGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShtYXBXYWxsRW50aXR5KTtcbiAgICAgICAgd2FsbHNCb3VuZGluZ0JveGVzLnB1c2goYWFiYik7XG4gICAgICAgIGNyZWF0ZUZsb29yVW5kZXJXYWxscyhtYXBXYWxsRW50aXR5LCBmbG9vckdyaWQpO1xuICAgICAgICBtYXBXYWxsRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2FsbHNCb3VuZGluZ0JveGVzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShib3hFbnRpdHkpIHtcbiAgICBjb25zdCBzY2FsZSA9IGJveEVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICBjb25zdCBhYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KGJveEVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgcmV0dXJuIGFhYmI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZsb29yVW5kZXJXYWxscyh3YWxsLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsUG9zID0gd2FsbC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHdhbGxTY2FsZSA9IHdhbGwuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHdhbGxQb3MueSAtICh3YWxsU2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQod2FsbFBvcy54IC0gKHdhbGxTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQod2FsbFBvcy56IC0gKHdhbGxTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyB3YWxsU2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIHdhbGxTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBsZXQgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBjb3ZlckVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdjb3ZlcicpO1xuICAgIGZvciAoY29uc3QgY292ZXJFbnRpdHkgb2YgY292ZXJFbnRpdGllcykge1xuICAgICAgICBjb3ZlclBvaW50cyA9IGNvdmVyUG9pbnRzLmNvbmNhdChjcmVhdGVDb3ZlclBvaW50RnJvbUJveChjb3ZlckVudGl0eSwgZmxvb3JHcmlkKSk7XG4gICAgICAgIGNvdmVyRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goYm94LCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGJveFBvcyA9IGJveC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJveFNjYWxlID0gYm94LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChib3hQb3MueSAtIChib3hTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZChib3hQb3MueCAtIChib3hTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQoYm94UG9zLnogLSAoYm94U2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgYm94U2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIGJveFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgY292ZXJQb2ludCA9IG5ldyBwYy5WZWMzKHgsIHksIHopO1xuICAgICAgICAgICAgY292ZXJQb2ludHMucHVzaChjb3ZlclBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuXG5leHBvcnQgY2xhc3MgV2VhcG9uc1Byb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIldlYXBvbnNQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKFdlYXBvbnNQcm94eS5OQU1FLCBkYXRhKTtcbiAgICB9XG5cbiAgICBnZXREYW1hZ2Uod2VhcG9uTmFtZSwgZGFtYWdlVGllcikge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlbd2VhcG9uTmFtZV0uZGFtYWdlW01hdGgubWluKGRhbWFnZVRpZXIgLSAxLCA2KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG4gICAgfVxuXG4gICAgZ2V0V2VhcG9uQ2F0ZWdvcnkod2VhcG9uTmFtZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjYXRlZ29yeSwgd2VhcG9uTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5S2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNhdGVnb3J5IGZvciB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXBwLWxldmVsIG1lZGlhdG9ycy9wcm94aWVzL2NvbW1hbmRzIGhlcmVcblxuICAgIC8vIENyZWF0ZSBnYW1lIHN0YXRlIHByb3h5XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lU3RhdGVQcm94eSgpKTtcblxuICAgIC8vIExvYWQgd2VhcG9ucyBkYXRhIGFuZCBjcmVhdGUgcHJveHlcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGlmIChhcHApIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDQxNTYzMSkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgV2VhcG9uc1Byb3h5KHdlYXBvbnNEYXRhKSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTY2VuZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHNjZW5lTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuXG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGhcbiAgICBsZXQgdGVtcG9yYXJ5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gLTE7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcblxuICAgICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcblxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgICAgIHRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTtcbiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgc2h1ZmZsZUFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvU2h1ZmZsZUFycmF5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgQ29tYmF0Vk8gfSA9IHJlcXVpcmUoJy4vQ29tYmF0Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgQ29tYmF0UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ29tYmF0UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzKSB7XG4gICAgICAgIHN1cGVyKENvbWJhdFByb3h5Lk5BTUUsIG5ldyBDb21iYXRWTyhwYXJ0aWNpcGFudHMpKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnZvLnBhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLnNldChwYXJ0aWNpcGFudCwgcGFydGljaXBhbnRQcm94eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0VHVybigpIHtcbiAgICAgICAgY29uc3Qgcm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmU7XG5cbiAgICAgICAgaWYgKHJvdW5kSW5pdGlhdGl2ZSAmJiByb3VuZEluaXRpYXRpdmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFR1cm5JZCA9IHJvdW5kSW5pdGlhdGl2ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IG5leHRUdXJuSWQ7XG5cbiAgICAgICAgICAgIGlmIChuZXh0VHVybklkICE9PSAnZW5kX3JvdW5kJykge1xuICAgICAgICAgICAgICAgIC8vIE5leHQgVHVyblxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFR1cm4gJHtuZXh0VHVybklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZ2V0KG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIHByb3h5LnJlc2V0Q29tYmF0VHVyblN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJveHkuaXNOUEMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVuZCByb3VuZFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEVuZCByb3VuZGApO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0Um91bmQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8gIE5ldyByb3VuZCAgLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnN0IGluaXRpYXRpdmVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2NoYXJhY3RlcklkLCBwcm94eV0gb2YgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2byA9IHByb3h5LnZvO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2by5pbml0aWF0aXZlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbml0aWF0aXZlcy5wdXNoKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbml0aWF0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV2ZXJ5b25lIGlzIG91dCBvZiB0aGUgY29tYmF0IHNvbWVob3csIHByb2JhYmx5IGRlYWRcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGVuZCBvZiByb3VuZCB0b2tlblxuICAgICAgICBpbml0aWF0aXZlcy5wdXNoKCdlbmRfcm91bmQnKTtcblxuICAgICAgICBsZXQgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KGluaXRpYXRpdmVzKTtcbiAgICAgICAgLy8gZW5zdXJlIHJvdW5kIGRvZXNuJ3Qgc3RhcnQgd2l0aCBcImVuZF9yb3VuZFwiXG4gICAgICAgIHdoaWxlIChzaHVmZmxlZEluaXRpYXRpdmVbMF0gPT09IFwiZW5kX3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShzaHVmZmxlZEluaXRpYXRpdmUpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHNodWZmbGVkSW5pdGlhdGl2ZTtcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZDtcbiAgICB9XG5cbiAgICBnZXQgYWN0aXZlUGFydGljaXBhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50O1xuICAgIH1cblxuICAgIHNldCBhY3RpdmVQYXJ0aWNpcGFudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHBhcnRpY2lwYW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgIH1cblxuICAgIHJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcGFydGljY2lwYW50c1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5kZWxldGUoY2hhcmFjdGVySWQpO1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBpbml0aWF0aXZlXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmUuZmlsdGVyKGUgPT4gZSAhPT0gY2hhcmFjdGVySWQpO1xuICAgIH1cblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJTdGFydCBDb21iYXRcIik7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKTtcblxuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQpO1xuXG4gICAgLy8gU2V0dXAgdGhlIGNvbWJhdFxuICAgIGNvbnN0IGRpcnR5UGFydGljaXBhbnRzID0gWydwbGF5ZXInXS5jb25jYXQoaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCkuY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApO1xuICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgY29uc3QgY2xlYW5QYXJ0aWNpcGFudHMgPSBkaXJ0eVBhcnRpY2lwYW50cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09IHBvcztcbiAgICB9KTtcblxuICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgY2xlYW5QYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9NT1ZFTUVOVCArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgcGxheWVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgcGFydGljaXBhbnQsIGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IG5ldyBDb21iYXRQcm94eShjbGVhblBhcnRpY2lwYW50cyk7XG4gICAgLy8gY29uc29sZS5sb2cocGFydGljaXBhbnRzKTtcbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShjb21iYXRQcm94eSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICB9LCAyMDAwKTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRUdXJuKCk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRSb3VuZENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFJvdW5kKCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS52by5uZXh0VHVybkNoYXJhY3RlcklkKTtcblxuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5Lm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuICAgIH0sIDUwMCk7XG59XG4iLCJleHBvcnQgY2xhc3MgQmVoYXZpb3VyU3RhdHVzIHtcbiAgICBzdGF0aWMgZ2V0IFNVQ0NFU1MoKSB7IHJldHVybiAwIH07XG4gICAgc3RhdGljIGdldCBGQUlMVVJFKCkgeyByZXR1cm4gMSB9O1xuICAgIHN0YXRpYyBnZXQgUlVOTklORygpIHsgcmV0dXJuIDIgfTtcbiAgICBzdGF0aWMgZ2V0IEVSUk9SKCkgeyByZXR1cm4gMyB9O1xufSIsImltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IGNyZWF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy9HVUlEJztcblxuZXhwb3J0IGNsYXNzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pZCA9IGNyZWF0ZVVVSUQoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuIHx8IFtdO1xuICAgIH1cblxuICAgIGV4ZWN1dGUodGljaykge1xuICAgICAgICAvKiBFTlRFUiAqL1xuICAgICAgICB0aGlzLl9lbnRlcih0aWNrKTtcblxuICAgICAgICAvKiBPUEVOICovXG4gICAgICAgIGlmICghdGljay5ibGFja2JvYXJkLmdldCgnaXNPcGVuJywgdGljay50cmVlLmlkLCB0aGlzLmlkKSkge1xuICAgICAgICAgICAgdGhpcy5fb3Blbih0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFRJQ0sgKi9cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5fdGljayh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSAqL1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBFWElUICovXG4gICAgICAgIHRoaXMuX2V4aXQodGljayk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG5cbiAgICBfZW50ZXIodGljaykge1xuICAgICAgICB0aWNrLmVudGVyTm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRlcih0aWNrKTtcbiAgICB9XG5cbiAgICBfb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2sub3Blbk5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIHRydWUsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMub3Blbih0aWNrKTtcbiAgICB9XG5cbiAgICBfdGljayh0aWNrKSB7XG4gICAgICAgIHRpY2sudGlja05vZGUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRpY2sodGljayk7XG4gICAgfVxuXG4gICAgX2Nsb3NlKHRpY2spIHtcbiAgICAgICAgdGljay5jbG9zZU5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIGZhbHNlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLmNsb3NlKHRpY2spO1xuICAgIH1cblxuICAgIF9leGl0KHRpY2spIHtcbiAgICAgICAgdGljay5leGl0Tm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGl0KHRpY2spO1xuICAgIH1cblxuICAgIC8vIE92ZXJpZGUgdGhlc2VcbiAgICBlbnRlcih0aWNrKSB7IH1cbiAgICBvcGVuKHRpY2spIHsgfVxuICAgIHRpY2sodGljaykgeyByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkVSUk9SIH1cbiAgICBjbG9zZSh0aWNrKSB7IH1cbiAgICBleGl0KHRpY2spIHsgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVVUlEKCkge1xuICAgIHZhciBzID0gW107XG4gICAgdmFyIGhleERpZ2l0cyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgICBzW2ldID0gaGV4RGlnaXRzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwKSwgMSk7XG4gICAgfVxuICAgIC8vIGJpdHMgMTItMTUgb2YgdGhlIHRpbWVfaGlfYW5kX3ZlcnNpb24gZmllbGQgdG8gMDAxMFxuICAgIHNbMTRdID0gXCI0XCI7XG5cbiAgICAvLyBiaXRzIDYtNyBvZiB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byAwMVxuICAgIHNbMTldID0gaGV4RGlnaXRzLnN1YnN0cigoc1sxOV0gJiAweDMpIHwgMHg4LCAxKTtcblxuICAgIHNbOF0gPSBzWzEzXSA9IHNbMThdID0gc1syM10gPSBcIi1cIjtcblxuICAgIHZhciB1dWlkID0gcy5qb2luKFwiXCIpO1xuICAgIHJldHVybiB1dWlkO1xuXG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWFzdGVyTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZE5vZGUgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGROb2RlLmV4ZWN1dGUodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBCbGFja2JvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy5iYXNlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgZ2xvYmFsIGluZm9ybWF0aW9uXG4gICAgICAgIHRoaXMudHJlZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIHRyZWUgYW5kIG5vZGUgaW5mb3JtYXRpb25cbiAgICB9XG5cbiAgICBnZXRUcmVlTWVtb3J5KHRyZWVTY29wZSkge1xuICAgICAgICBpZiAoIXRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSA9IHtcbiAgICAgICAgICAgICAgICBub2RlTWVtb3J5OiB7fSxcbiAgICAgICAgICAgICAgICBvcGVuTm9kZXM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXROb2RlTWVtb3J5KHRyZWVNZW1vcnksIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0cmVlTWVtb3J5Wydub2RlTWVtb3J5J107XG4gICAgICAgIGlmICghbWVtb3J5Lmhhc093blByb3BlcnR5KG5vZGVTY29wZSkpIHtcbiAgICAgICAgICAgIG1lbW9yeVtub2RlU2NvcGVdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5W25vZGVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIHZhciBtZW1vcnkgPSB0aGlzLmJhc2VNZW1vcnk7XG5cbiAgICAgICAgaWYgKHRyZWVTY29wZSkge1xuICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXRUcmVlTWVtb3J5KHRyZWVTY29wZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldE5vZGVNZW1vcnkobWVtb3J5LCBub2RlU2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeTtcbiAgICB9O1xuXG4gICAgc2V0KGtleSwgdmFsdWUsIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgbWVtb3J5W2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgZ2V0KGtleSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICByZXR1cm4gbWVtb3J5W2tleV07XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBUaWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wZW5Ob2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm5vZGVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZGVidWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZW50ZXJOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQrKztcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG5cbiAgICBvcGVuTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICB0aWNrTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICBjbG9zZU5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wb3AoKTtcbiAgICB9XG5cbiAgICBleGl0Tm9kZShub2RlKSB7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgVGljayB9IGZyb20gXCIuL1RpY2tcIjtcblxuZXhwb3J0IGNsYXNzIEJlaGF2aW91clRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZShpZCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZShpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aWNrKHRhcmdldCwgYmxhY2tib2FyZCkge1xuICAgICAgICAvKiBDUkVBVEUgQSBUSUNLIE9CSkVDVCAqL1xuICAgICAgICBjb25zdCB0aWNrID0gbmV3IFRpY2soKTtcbiAgICAgICAgdGljay50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZCA9IGJsYWNrYm9hcmQ7XG4gICAgICAgIHRpY2sudHJlZSA9IHRoaXM7XG5cbiAgICAgICAgLyogVElDSyBOT0RFICovXG4gICAgICAgIHRoaXMucm9vdC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFIE5PREVTIEZST00gTEFTVCBUSUNLLCBJRiBORUVERUQgKi9cbiAgICAgICAgY29uc3QgbGFzdE9wZW5Ob2RlcyA9IGJsYWNrYm9hcmQuZ2V0KCdvcGVuTm9kZXMnLCB0aGlzLmlkKSB8fCBbXTtcbiAgICAgICAgY29uc3QgY3Vyck9wZW5Ob2RlcyA9IHRpY2sub3Blbk5vZGVzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIGRvZXMgbm90IGNsb3NlIGlmIGl0IGlzIHN0aWxsIG9wZW4gaW4gdGhpcyB0aWNrXG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4obGFzdE9wZW5Ob2Rlcy5sZW5ndGgsIGN1cnJPcGVuTm9kZXMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKGxhc3RPcGVuTm9kZXNbaV0gIT09IGN1cnJPcGVuTm9kZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsb3NlIHRoZSBub2Rlc1xuICAgICAgICBmb3IgKGxldCBpID0gbGFzdE9wZW5Ob2Rlcy5sZW5ndGggLSAxOyBpID49IHN0YXJ0OyBpLS0pIHtcbiAgICAgICAgICAgIGxhc3RPcGVuTm9kZXNbaV0uY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBQT1BVTEFURSBCTEFDS0JPQVJEICovXG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdvcGVuTm9kZXMnLCBjdXJyT3Blbk5vZGVzLCB0aGlzLmlkKTtcbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ25vZGVDb3VudCcsIHRpY2subm9kZUNvdW50LCB0aGlzLmlkKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCbGFja2JvYXJkIH0gZnJvbSAnLi4vY29yZS9CbGFja2JvYXJkJztcbmltcG9ydCB7IEJlaGF2aW91clRyZWUgfSBmcm9tICcuLi9jb3JlL0JlaGF2aW91clRyZWUnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSAnYmFzaWNNZWxlZVRyZWUnO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSBuZXcgQmxhY2tib2FyZCgpO1xuICAgICAgICB0aGlzLnRyZWUgPSBuZXcgQmVoYXZpb3VyVHJlZShpZCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgLy8gT3ZlcnJpZGUgdG8gc2V0IHRyZWVcbiAgICB9XG5cbiAgICBydW5Db21tYW5kcyhmYWNhZGUsIGNoYXJhY3RlcklkKSB7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJmYWNhZGVcIiwgZmFjYWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiY2hhcmFjdGVySWRcIiwgY2hhcmFjdGVySWQsIHRoaXMudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMudHJlZS50aWNrKHRoaXMsIHRoaXMuYmxhY2tib2FyZCk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFByaW9yaXR5IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGNoaWxkLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgU2V0UGxheWVyQXNUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3RhcmdldCcsICdwbGF5ZXInLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBNZWxlZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBFbmRDb21iYXRUdXJuIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBIYXNNb3ZlbWVudFJlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc05leHRUb1BsYXllciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllck5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIGlzIGFscmVhZHkgYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoY2hhcmFjdGVyQ3VycmVudE5vZGUpKTtcblxuICAgICAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWVtU2VxdWVuY2UgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIDAsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGljay5ibGFja2JvYXJkLmdldCgncnVubmluZ0NoaWxkJywgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gY2hpbGQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5jaGlsZHJlbltpXS5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIGksIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxuXG59IiwiXG5pbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uL0JlaGF2aW91clN0YXR1cyc7XG5leHBvcnQgY2xhc3MgSW52ZXJ0ZXIgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG5cbiAgICAgICAgLy8gcHJlc3VtZSBpbnZlcnRlciBoYXMgb25lIGNoaWxkXG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlblswXTtcblxuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkVSUk9SO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXR1cyA9IGNoaWxkLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUylcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpXG4gICAgICAgICAgICBzdGF0dXMgPSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNUYXJnZXREZWFkIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldEN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKTtcbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc0RlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc0FjdGlvbnNSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgTWVsZWVBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IElzTmV4dFRvUGxheWVyIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0JztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljTWVsZWVUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY01lbGVlVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJc05leHRUb1BsYXllcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbGVlQXR0YWNrVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBdKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgbm9kZSA9IGFyZ3NbMF07XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB2by5pZCwgcGF0aCk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhbGthYmxlTm9kZXMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDIzNTk2Nik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB3YWxrYWJsZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB3YWxrYWJsZVRpbGVBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aWxlLnNldExvY2FsUG9zaXRpb24obm9kZS54LCBub2RlLnksIG5vZGUueik7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGthYmxlX3RpbGUnKTtcbiAgICBmb3IgKGNvbnN0IHdhbGthYmxlVGlsZUVudGl0eSBvZiB3YWxrYWJsZVRpbGVFbnRpdGllcykge1xuICAgICAgICB3YWxrYWJsZVRpbGVFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gXCIuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXJcIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgbW92ZWFibGVOb2Rlcyk7XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gXCIuL0dhbWVDb21tYW5kc1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kTW92ZW1lbnRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5kTm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZW5kTm9kZTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIHJldHVybiBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LFxuICAgICAgICBjdXJyZW50Tm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICBjdXJyZW50Tm9kZS56KTtcbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCB3ZWFwb25Qcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvblByb3h5LmdldFdlYXBvbkNhdGVnb3J5KHBsYXllckNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snICYmIHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIFwicGxheWVyXCIsIHBhdGhUb1RhcmdldCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoIWNvbWJhdFByb3h5IHx8IGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAvLyBub3QgeW91ciB0dXJuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyQ2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA8PSAwKSB7XG4gICAgICAgICAgICAvLyBvdXQgb2YgYWN0aW9uc1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJPdXQgb2YgYWN0aW9uc1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNUYXJnZXRBZGphY2VudChwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgICAgICAgICAgICAgIC8vIHBhdGggbGVuZ3RoIGluY2x1ZGVzIGN1cnJlbnQgbm9kZSwgc28gZGVkdWN0IG9uIHRvIHdvcmsgb3V0IGFjdHVhbCBtb3ZlYWJsZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgIGlmIChwYXRoVG9UYXJnZXQgJiYgcGF0aFRvVGFyZ2V0Lmxlbmd0aCAtIDEgPD0gcGxheWVyQ2hhcmFjdGVyUHJveHkudm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3ZWFwb24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCwgcGF0aFRvVGFyZ2V0KTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIHBhdGhUb1RhcmdldC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiQ2Fubm90IHJlYWNoIHRhcmdldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcGxheWVyQ2hhcmFjdGVyUHJveHkuaWQsIHRhcmdldENoYXJhY3RlclByb3h5LmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgdGFyZ2V0Q3VycnJlbnROb2RlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICByZXR1cm4gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHRhcmdldEN1cnJyZW50Tm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBwbGF5ZXJQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkocGxheWVyQ2hhcmFjdGVyUHJveHkpO1xuICAgIGNvbnN0IHRhcmdldFBvaW50ID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG5cbiAgICByZXR1cm4gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChwbGF5ZXJQb2ludCwgdGFyZ2V0UG9pbnQpO1xufVxuXG5mdW5jdGlvbiBpc0luQ292ZXIodGFyZ2V0Q2hhcmFjdGVyUHJveHksIGF0dGFja2luZ0Zyb20pIHtcbiAgICBjb25zdCB0YXJnZXRDdXJycmVudE5vZGUgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIHJldHVybiBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHModGFyZ2V0Q3VycnJlbnROb2RlKSk7XG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICBjb25zdCBidXR0b25OYW1lID0gYXJnc1sxXTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09IGFjdGlvbk5hbWUpIHtcbiAgICAgICAgLy8gRGVzZWxlY3QgYWN0aW9uXG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gYWN0aW9uTmFtZTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTiwgYnV0dG9uTmFtZSk7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvblR5cGVzIH0gZnJvbSAnLi4vZGF0YS9XZWFwb25UeXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgY29uc3QgYXR0YWNrZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyUHJveHkuc2tpbGwpO1xuICAgIGNvbnN0IGRlZmVuZGVyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChkZWZlbmRlclByb3h5LnNraWxsKTtcblxuICAgIGNvbnN0IHdlYXBvbnNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcblxuICAgIC8vIFJlZHVjZSBhY3Rpb25zXG4gICAgYXR0YWNrZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIC09IDE7XG5cbiAgICAvLyBEZXRlcm1pbmUgd2lubmVyXG4gICAgaWYgKGF0dGFja2VyUm9sbCA9PT0gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBBdHRhY2sgdGllZCgke2F0dGFja2VyUm9sbH0vJHtkZWZlbmRlclJvbGx9KWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdHRhY2tlclJvbGwgPiBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyUm9sbCwgZGVmZW5kZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbkNhdGVnb3J5ID0gd2VhcG9uc1Byb3h5LmdldFdlYXBvbkNhdGVnb3J5KGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24pO1xuICAgICAgICAgICAgY29uc3QgaGFzTWVsZWVXZWFwb24gPSB3ZWFwb25DYXRlZ29yeSA9PT0gXCJtZWxlZVwiO1xuXG4gICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihkZWZlbmRlclJvbGwsIGF0dGFja2VyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb24gPSAoaGFzTWVsZWVXZWFwb24pID8gZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA6IFdlYXBvblR5cGVzLlVOQVJNRUQ7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKHdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBhdHRhY2tlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtkZWZlbmRlcklkfSBkYW1hZ2VzICR7YXR0YWNrZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICAgICAgaWYgKGF0dGFja2VyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgYXR0YWNrZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5mdW5jdGlvbiByb2xsQXR0YWNrU2tpbGwoc2tpbGwpIHtcbiAgICByZXR1cm4gc2tpbGwgKyByb2xsRGljZSgpICsgcm9sbERpY2UoKTtcbn1cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0SWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IHBhdGggPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS51c2VNb3ZlbWVudChwYXRoLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cbiAgICBjb25zdCBmaW5pc2hNb3ZlUHJvbWlzZSA9IGNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCk7XG4gICAgZmluaXNoTW92ZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgY2hhcmFjdGVySWQsIHRhcmdldElkKTtcblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuXG5leHBvcnQgZnVuY3Rpb24ga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBpZiAoY2hhcmFjdGVyUHJveHkpIHtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICBjb21iYXRQcm94eS5yZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgaWYgKGZhY2FkZS5oYXNNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKSkge1xuICAgICAgICBmYWNhZGUucmVtb3ZlTWVkaWF0b3IoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWluRGlzdGFuY2UsIG1heERpc3RhbmNlKSB7XG4gICAgICAgIHN1cGVyKFtdKTtcbiAgICAgICAgdGhpcy5taW5EaXN0YW5jZSA9IG1pbkRpc3RhbmNlO1xuICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gbWF4RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG1pbkRpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWluRGlzdGFuY2UsIDIpO1xuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1heERpc3RhbmNlLCAyKTtcblxuICAgICAgICBjb25zdCBtb3ZlUG9pbnRzQXZhaWxhYmxlID0gY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGNoYXJhY3RlckN1cnJlbnROb2RlKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPj0gbWluRGlzdGFuY2VTcXJ0ICYmIGRpc3RhbmNlVG9UYXJnZXQgPD0gbWF4RGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHdpdGhpbiByYW5nZSwgZ2V0IG9uIHdpdGggaXRcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2goY2hhcmFjdGVyQ3VycmVudE5vZGUsIG1vdmVQb2ludHNBdmFpbGFibGUpO1xuICAgICAgICAgICAgaWYgKG1vdmVhYmxlTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0IDwgbWluRGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpID4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGZhciBhd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpICsgTWF0aC5wb3cocDIueiAtIHAxLnosIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFBpY2tOZXh0QWN0aW9uIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgQ2FuU2VlVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICAvLyBMb29rIHRvIHRoZSBjZW50ZXIgb2YgZWFjaCBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZnJvbVBvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpO1xuICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgIGNvbnN0IGNhblNlZVRhcmdldCA9ICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoZnJvbVBvcywgdG9Qb3MpO1xuICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSSBjYW4gc2VlIHlvdScpO1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFdoZXJlJ2QgeW91IGV2ZXIgZ28/YCk7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cblxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlcmUgaXMgYSBub2RlIHRvIG1vdmUgdG8gXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9sbG93IHBhdGggdG8gc2VlIGlmIHRhcmdldCBpcyB2aXNpYmxlIGZyb20gYW55IHBvaW50XG4gICAgICAgICAgICAgICAgbGV0IGRlbGV0ZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoTm9kZSA9IHBhdGhbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBvcyA9IG5ldyBwYy5WZWMzKHBhdGhOb2RlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5vZGUueik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVHJpbSB0byBwb2ludCBvZiB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgcGF0aC5zcGxpY2UoMCwgZGVsZXRlQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSYW5nZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCc7XG5pbXBvcnQgeyBQaWNrTmV4dEFjdGlvbiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbic7XG5pbXBvcnQgeyBDYW5TZWVUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvQ2FuU2VlVGFyZ2V0JztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljUmFuZ2VkVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNSYW5nZWRUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IENhblNlZVRhcmdldCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQoOSwgMTIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBpY2tOZXh0QWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FuU2VlVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZUF0dGFja1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsIlxuaW1wb3J0IHsgQmFzaWNNZWxlZVRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQm90QmVoYXZpb3VyVHlwZXMgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IEJhc2ljUmFuZ2VkVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNSYW5nZWRUcmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmVteVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBlbmVteUlkKTtcblxuICAgIHN3aXRjaCAoZW5lbXlQcm94eS5ib3RCZWhhdmlvdXIpIHtcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRTpcbiAgICAgICAgICAgIGNvbnN0IGJhc2ljTWVsZWVUcmVlID0gbmV3IEJhc2ljTWVsZWVUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfUkFOR0VEOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNSYW5nZWRUcmVlID0gbmV3IEJhc2ljUmFuZ2VkVHJlZSgpO1xuICAgICAgICAgICAgYmFzaWNSYW5nZWRUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIC8vIFNjb3JlcyBmb3IgY29tcGFyaXNzb25cbiAgICBsZXQgYXR0YWNrZXJTY29yZSA9IDA7XG4gICAgbGV0IGRlZmVuZGVyU2NvcmUgPSAwO1xuXG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgYXR0YWNrZXJOb2RlID0gYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBsZXQgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgbGV0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVyTm9kZSA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGF0dGFja2VyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyUHJveHkuc2tpbGwpO1xuICAgIGRlZmVuZGVyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpc0luQ292ZXIgPSBnYW1lTWFwUHJveHkuaXNJbkNvdmVyKFxuICAgICAgICBuZXcgcGMuVmVjMyhkZWZlbmRlck5vZGUueCwgZGVmZW5kZXJOb2RlLnksIGRlZmVuZGVyTm9kZS56KSxcbiAgICAgICAgbmV3IHBjLlZlYzMoYXR0YWNrZXJOb2RlLngsIGF0dGFja2VyTm9kZS55LCBhdHRhY2tlck5vZGUueikpO1xuXG4gICAgaWYgKGlzSW5Db3Zlcikge1xuICAgICAgICBkZWZlbmRlclNjb3JlICs9IDI7XG4gICAgfVxuXG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBraWxsZWQgJHtkZWZlbmRlcklkfWApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGVmZW5kZXIgd2luc1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IG1pc3NlZCAke2RlZmVuZGVySWR9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBXZWFwb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgTXVzdCBjaGFuZ2Ugd2VhcG9uIG9uIHlvdXIgdHVybmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHdlYXBvbiA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uID0gd2VhcG9uO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7Y2hhcmFjdGVySWR9IGVxdWlwcyAke3dlYXBvbn1gKTtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHBhcnNlR2FtZU1hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydHVwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydHVwQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VTY2VuZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0Q29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0Um91bmRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgZW5lbXlUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kJztcbmltcG9ydCB7IHNob3dXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kJztcbmltcG9ydCB7IGVuZE1vdmVtZW50Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IGVuZENvbWJhdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGVxdWlwV2VhcG9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FcXVpcFdlYXBvbkNvbW1hbmQnO1xuXG5leHBvcnQgY2xhc3MgR2FtZUZhY2FkZSBleHRlbmRzIEZhY2FkZSB7XG4gICAgc3RhdGljIGdldEluc3RhbmNlKGtleSkge1xuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBHYW1lRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgS0VZKCkgeyByZXR1cm4gXCJDYWNvZ2VuXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNhY29nZW5GYWNhZGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRVUCgpIHsgcmV0dXJuIEdhbWVGYWNhZGUuTkFNRSArIFwiU3RhcnRVcFwiIH07XG5cbiAgICBzdGFydHVwKGdhbWUpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVGYWNhZGUuU1RBUlRVUCwgZ2FtZSk7XG4gICAgfVxuXG4gICAgc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVGYWNhZGUuU1RBUlRVUCwgc3RhcnR1cENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBjaGFuZ2VTY2VuZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgcGFyc2VHYW1lTWFwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHN0YXJ0Q29tYmF0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBuZXh0Q29tYmF0VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQsIG5leHRDb21iYXRSb3VuZENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLCBlbmRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkVNWV9UVVJOLCBlbmVteVR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIHNlbGVjdGVkTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBLCBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCBlbmRNb3ZlbWVudENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNUX0dBTUVfQ0hBUkFDVEVSLCBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFVF9QTEFZRVJfQUNUSU9OLCBjaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHJlc29sdmVBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGVuZENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBlcXVpcFdlYXBvbkNvbW1hbmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJUeXBlcyB7XG4gICAgc3RhdGljIGdldCBOT05FKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfTUVMRUUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19SQU5HRUQoKSB7IHJldHVybiAyIH07XG5cbn1cblxuZXhwb3J0IGNvbnN0IGJvdEJlaGF2aW91ckVudW1zID0gW1xuICAgIHsgTk9ORTogQm90QmVoYXZpb3VyVHlwZXMuTk9ORSB9LFxuICAgIHsgQkFTSUNfTUVMRUU6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFIH0sXG4gICAgeyBCQVNJQ19SQU5HRUQ6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRCB9LFxuXSIsImV4cG9ydCBjbGFzcyBHYW1lQ29tbWFuZHMge1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FX0NPTVBMRVRFKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVfQ09NUExFVEVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVBQX0lOSVRJQUxJU0VEKCkgeyByZXR1cm4gXCJBUFBfSU5JVElBTElTRURcIiB9O1xuICAgIHN0YXRpYyBnZXQgUEFSU0VfR0FNRU1BUCgpIHsgcmV0dXJuIFwiUEFSU0VfR0FNRU1BUFwiIH07XG4gICAgc3RhdGljIGdldCBNQVBfR1JJRF9DUkVBVEVEKCkgeyByZXR1cm4gXCJNQVBfR1JJRF9DUkVBVEVEXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBDT01CQVRfTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiQ09NQkFUX05BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NBTUVSQV9UQVJHRVQoKSB7IHJldHVybiBcIlNFVF9DQU1FUkFfVEFSR0VUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IElOUFVUX0RSQUdfTU9VU0UoKSB7IHJldHVybiBcIklOUFVUX0RSQUdfTU9VU0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBNT1ZFRF9UT19OT0RFKCkgeyByZXR1cm4gXCJNT1ZFRF9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEZJTklTSEVEX01PVkUoKSB7IHJldHVybiBcIkZJTklTSEVEX01PVkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRfQ09NQkFUKCkgeyByZXR1cm4gXCJTVEFSVF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19UT0FTVF9NRVNTQUdFKCkgeyByZXR1cm4gXCJTSE9XX1RPQVNUX01FU1NBR0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1JPVU5EKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9ST1VORFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVQoKSB7IHJldHVybiBcIkVORF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5FTVlfVFVSTigpIHsgcmV0dXJuIFwiRU5FTVlfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RFRF9OT0RFKCkgeyByZXR1cm4gXCJTRUxFQ1RFRF9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTigpIHsgcmV0dXJuIFwiREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfQUxPTkdfUEFUSCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfQUxPTkdfUEFUSFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiU0hPV19XQUxLQUJMRV9BUkVBXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiSElERV9XQUxLQUJMRV9BUkVBXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBFTkRfTU9WRU1FTlQoKSB7IHJldHVybiBcIkVORF9NT1ZFTUVOVFwiIH07XG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DSEFSQUNURVJfVE9fTk9ERSgpIHsgcmV0dXJuIFwiU0VUX0NIQVJBQ1RFUl9UT19OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJTRUxFQ1RfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRVRfUExBWUVSX0FDVElPTigpIHsgcmV0dXJuIFwiU0VUX1BMQVlFUl9BQ1RJT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVE9HR0xFX0JVVFRPTigpIHsgcmV0dXJuIFwiVE9HR0xFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX1JBTkdFRF9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfUkFOR0VEX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NUQU1JTkEoKSB7IHJldHVybiBcIkNIQU5HRV9TVEFNSU5BXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRVFVSVBfV0VBUE9OKCkgeyByZXR1cm4gXCJFUVVJUF9XRUFQT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX0FDVElPTlwiIH07XG5cblxuXG59XG4iLCJleHBvcnQgY2xhc3MgV2VhcG9uVHlwZXMge1xuICAgIC8vIE1FTEVFXG4gICAgc3RhdGljIGdldCBTV09SRCgpIHsgcmV0dXJuIFwic3dvcmRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVhFKCkgeyByZXR1cm4gXCJheGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgS05JRkUoKSB7IHJldHVybiBcImtuaWZlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQUZGKCkgeyByZXR1cm4gXCJzdGFmZlwiIH07XG4gICAgc3RhdGljIGdldCBIQU1NRVIoKSB7IHJldHVybiBcImhhbW1lclwiIH07XG4gICAgc3RhdGljIGdldCBTUEVBUigpIHsgcmV0dXJuIFwic3BlYXJcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFDRSgpIHsgcmV0dXJuIFwibWFjZVwiIH07XG4gICAgc3RhdGljIGdldCBQT0xFQVJNKCkgeyByZXR1cm4gXCJwb2xlYXJtXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BVUwoKSB7IHJldHVybiBcIm1hdWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgR1JFQVRTV09SRCgpIHsgcmV0dXJuIFwiZ3JlYXRzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBDTFVCKCkgeyByZXR1cm4gXCJjbHViXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVOQVJNRUQoKSB7IHJldHVybiBcInVuYXJtZWRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hJRUxEKCkgeyByZXR1cm4gXCJzaGllbGRcIiB9O1xuXG4gICAgLy8gUkFOR0VEXG4gICAgc3RhdGljIGdldCBGVVNJTCgpIHsgcmV0dXJuIFwiZnVzaWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQk9XKCkgeyByZXR1cm4gXCJib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ1JPU1NCT1coKSB7IHJldHVybiBcImNyb3NzYm93XCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBJU1RPTEVUKCkgeyByZXR1cm4gXCJwaXN0b2xldFwiIH07XG59XG5cbmV4cG9ydCBjb25zdCB3ZWFwb25FbnVtcyA9IE9iamVjdC5lbnRyaWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKFdlYXBvblR5cGVzKSlcbiAgICAuZmlsdGVyKChba2V5LCBkZXNjcmlwdG9yXSkgPT4gdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nKVxuICAgIC5tYXAoKFtrZXldKSA9PiB7XG4gICAgICAgIHJldHVybiB7IFtrZXldOiBXZWFwb25UeXBlc1trZXldIH07XG4gICAgfSk7IiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPSBNYXRoLm1heCgwLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hKTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIHRoaXMuaWQsIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4U3RhbWluYSk7XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnROb2RlO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZU1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlTW92ZW1lbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVBY3Rpb25zO1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVBY3Rpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgdGhpcy5pZCxcbiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucywgdGhpcy5tYXhBY3Rpb25zUGVyVHVybik7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFjdGlvbnNQZXJUdXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICBnZXQgc2tpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNraWxsO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50U3RhbWluYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJWTyB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIHRoaXMuaXNOUEMgPSBwYXJhbXMuaXNOUEM7XG4gICAgICAgIHRoaXMuY29tYmF0R3JvdXAgPSBwYXJhbXMuY29tYmF0R3JvdXAgfHwgW107XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYWdyb0FyZWEgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVHJvaWthIHN0YXRzXG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IHBhcmFtcy5pbml0aWF0aXZlIHx8IDI7XG4gICAgICAgIHRoaXMubWF4TW92ZW1lbnQgPSBwYXJhbXMubWF4TW92ZW1lbnQgfHwgNjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJhbXMuaGVpZ2h0IHx8IDEuODtcbiAgICAgICAgdGhpcy5tYXhBY3Rpb25zUGVyVHVybiA9IDE7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG4gICAgICAgIHRoaXMuc2tpbGwgPSBwYXJhbXMuc2tpbGwgfHwgMTtcblxuICAgICAgICB0aGlzLm1heFN0YW1pbmEgPSBwYXJhbXMubWF4U3RhbWluYSB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGFtaW5hID0gdGhpcy5tYXhTdGFtaW5hO1xuXG4gICAgICAgIHRoaXMubWF4THVjayA9IHBhcmFtcy5tYXhMdWNrIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudEx1Y2sgPSB0aGlzLm1heEx1Y2s7XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNraWxscyA9IHBhcmFtcy5hZHZhbmNlZFNraWxscyB8fCB7fTtcblxuICAgICAgICB0aGlzLmJvdEJlaGF2aW91ciA9IHBhcmFtcy5ib3RCZWhhdmlvdXIgfHwgMDtcblxuICAgICAgICB0aGlzLmVxdWlwcGVkV2VhcG9uID0gcGFyYW1zLmVxdWlwcGVkV2VhcG9uIHx8IFwidW5hcm1lZFwiO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IGdldEFkamFjZW50UG9pbnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvQWRqYWNlbnRQb2ludHMnO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQsIHdhbGxCb3VuZGluZ0JveGVzLCBjb3Zlcikge1xuICAgICAgICBzdXBlcihHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICAgIG1hcEdyaWQ6IG1hcEdyaWQsXG4gICAgICAgICAgICB3YWxsQm91bmRpbmdCb3hlczogd2FsbEJvdW5kaW5nQm94ZXMsXG4gICAgICAgICAgICBjb3ZlcjogY292ZXJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcblxuICAgIH1cblxuICAgIGZpbmROZWFyZXN0Tm9kZSh0YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBtYXBHcmlkID0gdGhpcy52by5tYXBHcmlkO1xuXG4gICAgICAgIGxldCBuZWFyZXN0Tm9kZSA9IG1hcEdyaWRbMF07XG4gICAgICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbWFwR3JpZCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbiAgICB9XG5cbiAgICByYXlJbnRlcnNlY3RzV2FsbChmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2UodG8pO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0by5jbG9uZSgpLnN1Yihmcm9tLmNsb25lKCkpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBjb25zdCByYXkgPSBuZXcgcGMuUmF5KGZyb20sIGRpcmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgbWFwV2FsbHMgPSB0aGlzLnZvLndhbGxCb3VuZGluZ0JveGVzO1xuICAgICAgICBmb3IgKGNvbnN0IHdhbGwgb2YgbWFwV2FsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHdhbGwuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvSGl0ID0gaGl0UG9zaXRpb24uZGlzdGFuY2UoZnJvbSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0hpdCA8IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgY292ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvdmVyO1xuICAgIH1cblxuXG4gICAgaXNJbkNvdmVyKHRhcmdldFBvaW50LCBhdHRhY2tpbmdGcm9tKSB7XG4gICAgICAgIGNvbnN0IGFkamFjZW50Q292ZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRQb2ludHMgPSBnZXRBZGphY2VudFBvaW50cyh0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBhZGphY2VudFBvaW50IG9mIGFkamFjZW50UG9pbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGUgPSB0aGlzLmNvdmVyLmZpbmQoKGNvdmVyUG9pbnQpID0+IGFkamFjZW50UG9pbnQuZXF1YWxzKGNvdmVyUG9pbnQpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGUpIHtcbiAgICAgICAgICAgICAgICBhZGphY2VudENvdmVyUG9pbnRzLnB1c2goYWRqYWNlbnRQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRqYWNlbnRDb3ZlclBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gdGFyZ2V0UG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50Q292ZXJQb2ludCBvZiBhZGphY2VudENvdmVyUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0NvdmVyID0gYWRqYWNlbnRDb3ZlclBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvQ292ZXIgPCBkaXN0YW5jZVRvVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRBZGphY2VudFBvaW50cyhwb2ludCkge1xuICAgIGNvbnN0IHBvaW50cyA9IFtdXG4gICAgLy9Ob3J0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogLSAxKSk7XG4gICAgLy9FYXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCArIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1dlc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54IC0gMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vU291dGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56ICsgMSkpO1xuXG4gICAgcmV0dXJuIHBvaW50cztcbn0iLCJleHBvcnQgY2xhc3MgR2FtZU1hcFZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXBHcmlkID0gW107XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgfVxuXG4gICAgcHVzaCh2YWx1ZSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgbWluID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLmRhdGFbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgICBpZiAoTWF0aC5taW4obWluLCBwcmlvcml0eSkgPT09IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgbWluID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc3BsaWNlKGluZGV4LCAxKVswXS52YWx1ZTtcbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aFxuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3RhciB7XG4gICAgc3RhdGljIGJyZWFkdGhGaXJzdFNlYXJjaChzdGFydCwgcmFuZ2VMaW1pdCkge1xuICAgICAgICBsZXQgZnJvbnRpZXIgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VhcmNoZWRBcmVhID0gW107XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcblxuICAgICAgICBsZXQgcmFuZ2UgPSAwO1xuXG4gICAgICAgIHdoaWxlIChmcm9udGllci5sZW5ndGggPiAwICYmIHJhbmdlIDwgcmFuZ2VMaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRpZXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBmcm9udGllcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjYW1lRnJvbS5oYXMobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGcm9udGllci5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRBcmVhLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb250aWVyID0gbmV3RnJvbnRpZXI7XG5cbiAgICAgICAgICAgIHJhbmdlKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VhcmNoZWRBcmVhO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVBhdGgoc3RhcnQsIGdvYWwpIHtcbiAgICAgICAgY29uc3QgZnJvbnRpZXIgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0LCAwKTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY29zdFNvRmFyID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuICAgICAgICBjb3N0U29GYXIuc2V0KHN0YXJ0LCAwKTtcblxuICAgICAgICB3aGlsZSAoIWZyb250aWVyLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBmcm9udGllci5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29zdCA9IGNvc3RTb0Zhci5nZXQoY3VycmVudCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG5cbiAgICAgICAgd2hpbGUgKCFjdXJyZW50LmVxdWFscyhzdGFydCkgJiYgIXBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgaWYgKGNhbWVGcm9tLmhhcyhjdXJyZW50KSB8fCAhY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2FtZUZyb20uZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aElzQnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3BhdGgucHVzaChzdGFydCk7XG4gICAgICAgICAgICAvLyBwYXRoLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3RTcXVhcmVkKHB0MSwgcHQyKSB7XG4gICAgICAgIHJldHVybiAoKHB0MS54IC0gcHQyLngpICogKHB0MS54IC0gcHQyLngpXG4gICAgICAgICAgICArIChwdDEueSAtIHB0Mi55KSAqIChwdDEueSAtIHB0Mi55KVxuICAgICAgICAgICAgKyAocHQxLnogLSBwdDIueikgKiAocHQxLnogLSBwdDIueikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBoZXVyaXN0aWMoYSwgYikge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoYS54IC0gYi54KSArIE1hdGguYWJzKGEueSAtIGIueSkgKyBNYXRoLmFicyhhLnogLSBiLnopO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVTdGF0ZVZPIH0gPSByZXF1aXJlKCcuL0dhbWVTdGF0ZVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVTdGF0ZVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihHYW1lU3RhdGVQcm94eS5OQU1FLCBuZXcgR2FtZVN0YXRlVk8oKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlR2FtZVN0YXRlVHlwZShuZXdTdGF0ZVR5cGUpIHtcbiAgICAgICAgdGhpcy52by5nYW1lcGxheU1vZGUgPSBuZXdTdGF0ZVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5nYW1lcGxheU1vZGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRBY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50QWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb24gPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZ2FtZXBsYXlNb2RlVHlwZXMgPSB7XG4gICAgRVhQTE9SQVRJT046ICdFWFBMT1JBVElPTicsXG4gICAgQ09NQkFUOiAnQ09NQkFUJyxcbiAgICBESUFMT0dVRTogJ0RJQUxPR1VFJyxcblxufVxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWVwbGF5TW9kZSA9IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQWN0aW9uID0gXCJub25lXCI7XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlZ2lzdGVyIG1lZGlhdG9yIC0gR2FtZU1lZGlhdG9yXCIpO1xuICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICBzdXBlcihHYW1lTWVkaWF0b3IuTkFNRSwgYXBwKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgfVxuXG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eVwiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgYm90QmVoYXZpb3VyRW51bXMgfSBmcm9tICcuLi8uLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IHdlYXBvbkVudW1zIH0gZnJvbSBcIi4uLy4uL2RhdGEvV2VhcG9uVHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuY29uc3Qgc3RhdHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGwnLFxuICAgICAgICB0aXRsZTogJ1NraWxsJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ21heFN0YW1pbmEnLFxuICAgICAgICB0aXRsZTogJ1N0YW1pbmEnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heEx1Y2snLFxuICAgICAgICB0aXRsZTogJ0x1Y2snLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2luaXRpYXRpdmUnLFxuICAgICAgICB0aXRsZTogJ0luaXRpYXRpdmUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMlxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heE1vdmVtZW50JyxcbiAgICAgICAgdGl0bGU6ICdNb3ZlbWVudCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiA2XG4gICAgfVxuXTtcblxuY29uc3QgYWR2YW5jZWRTa2lsbHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsVmFsdWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIFZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9XG5dO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlckhlaWdodFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSGVpZ2h0XCIsXG4gICAgZGVmYXVsdDogMS44XG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImlzTlBDXCIsIHtcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICB0aXRsZTogXCJpcyBOUENcIixcbiAgICBkZWZhdWx0OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YXRzT3ZlcnJpZGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJTdGF0cyBPdmVycmlkZXNcIixcbiAgICBzY2hlbWE6IHN0YXRzU2NoZW1hXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFkdmFuY2VkU2tpbGxzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJBZHZhbmNlZCBTa2lsbHNcIixcbiAgICBzY2hlbWE6IGFkdmFuY2VkU2tpbGxzU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbWJhdEdyb3VwTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDb21iYXQgR3JvdXAgTmFtZVwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImJvdEJlaGF2aW91clwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJCb3QgQmVoYXZpb3VyXCIsXG4gICAgZW51bTogYm90QmVoYXZpb3VyRW51bXMsXG4gICAgZGVmYXVsdDogMFxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImVxdWlwcGVkV2VhcG9uXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkVxdWlwcGVkIFdlYXBvblwiLFxuICAgIGVudW06IHdlYXBvbkVudW1zLFxuICAgIGRlZmF1bHQ6IFwidW5hcm1lZFwiXG59KTtcblxuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG59XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IFtdO1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHNPdmVycmlkZXMgPSB0aGlzLnN0YXRzT3ZlcnJpZGVzO1xuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUEMsXG4gICAgICAgIGhlaWdodDogdGhpcy5jaGFyYWN0ZXJIZWlnaHQsXG4gICAgICAgIGFkdmFuY2VkU2tpbGxzOiB0aGlzLmFkdmFuY2VkU2tpbGxzLFxuICAgICAgICBlcXVpcHBlZFdlYXBvbjogdGhpcy5lcXVpcHBlZFdlYXBvbixcbiAgICAgICAgLi4uc3RhdHNPdmVycmlkZXMsXG4gICAgICAgIGJvdEJlaGF2aW91cjogdGhpcy5ib3RCZWhhdmlvdXJcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuY29tYmF0R3JvdXBOYW1lICYmIHRoaXMuY29tYmF0R3JvdXBOYW1lICE9PSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IGNvbXJhZGVFbnRpdGllcyA9IHRoaXMuYXBwLnJvb3QuZmluZEJ5VGFnKGBjb21iYXRHcm91cDoke3RoaXMuY29tYmF0R3JvdXBOYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IGNvbWJhdEdyb3VwID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY29tcmFkZUVudGl0eSBvZiBjb21yYWRlRW50aXRpZXMpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBkaXNhYmxlZCBlbnRpdGllc1xuICAgICAgICAgICAgaWYgKGNvbXJhZGVFbnRpdHkuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXJhZGVJZCA9IGNvbXJhZGVFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgICAgICAgICAgICAgY29tYmF0R3JvdXAucHVzaChjb21yYWRlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3h5UGFyYW1zLmNvbWJhdEdyb3VwID0gY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJQcm94eShuZXcgR2FtZUNoYXJhY3RlclByb3h5KHByb3h5UGFyYW1zKSk7XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNoYXJhY3Rlck1lZGlhdG9yKHRoaXMuY2hhcmFjdGVySWQsIHRoaXMuZW50aXR5LCB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSk7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xuXG59O1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnNldFBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xuICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aCAmJiB0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NhbmNlbE1vdmUnKTtcbiAgICB9XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBwYXRoO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCd3YWxrLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zdG9wTW92ZW1lbnQgPSBmdW5jdGlvbiAoY3VycmVudE5vZGUpIHtcbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IFtdO1xuICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24oY3VycmVudE5vZGUueCwgY3VycmVudE5vZGUueSwgY3VycmVudE5vZGUueik7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMubW92ZUFsb25nUGF0aChkdCk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLm1vdmVBbG9uZ1BhdGggPSBmdW5jdGlvbiAoZHQpIHtcblxuICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRQYXRoUG9pbnQgPSB0aGlzLm1vdmVtZW50UGF0aFt0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgY29uc3Qgc3BlZWQgPSBuZXcgcGMuVmVjMyhkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQsIGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCwgZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkKTtcbiAgICAgICAgY29uc3Qgbm9kZVBvaW50ID0gbmV3IHBjLlZlYzMobmV4dFBhdGhQb2ludC54LCBuZXh0UGF0aFBvaW50LnksIG5leHRQYXRoUG9pbnQueik7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1YjIobm9kZVBvaW50LCBsb2NhbFBvcyk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuZXdQb3NpdGlvbi5tdWwoc3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5hZGQobG9jYWxQb3MpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuICAgICAgICB0aGlzLmxvb2tBdFBvaW50KG5leHRQYXRoUG9pbnQpO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IG5ld1Bvc2l0aW9uLmRpc3RhbmNlKG5vZGVQb2ludCk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvTmV4dFBhdGggPD0gKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5tb3ZlbWVudFBhdGgucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdmaW5pc2hlZE1vdmUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCd1cGRhdGVDdXJyZW50Tm9kZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlRGVhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnZGllLmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVIaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaGl0LmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVBdHRhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnYXR0YWNrLmdsYicsIDAuMSk7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJNZWRpYXRvcl9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IoaWQsIHZpZXdDb21wb25lbnQsIHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgaWQpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURURcblxuICAgICAgICBdO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmNvbmNhdChwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmZpcmUobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNjcmlwdEtleSBpbiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCwgc2NyaXB0S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbc2NyaXB0S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdGFydENvbWJhdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNldENoYXJhY3RlclRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBsb29rUG9pbnQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChsb29rUG9pbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0Ym94ID0gdGhpcy52aWV3Q29tcG9uZW50LmZpbmRCeU5hbWUoXCJIaXRib3hcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhpdGJveCkge1xuICAgICAgICAgICAgICAgICAgICBoaXRib3guZmlyZSgnc3RvcExpc3RlbmluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZURlYXRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVBdHRhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVDdXJyZW50Tm9kZShuZXdOb2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyB0aGlzLmlkLCBuZXdOb2RlKTtcblxuICAgIH1cblxuICAgIGhhbmRsZUZpbmlzaGVkTW9kZShuZXdOb2RlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgdGhpcy5pZCwgbmV3Tm9kZSk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG4gICAgbG9va0ZvckNoYXJhY3RlcihpZCwgbm9kZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaE5vZGUgb2YgdGhpcy5zZWFyY2hBcmVhKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoTm9kZS5lcXVhbHMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0aGlzLnZpZXdDb21wb25lbnQsIFtpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlU3RhcnRDb21iYXQoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJWTyA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKS52bztcblxuICAgICAgICAvLyB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KG5vZGUpO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4vSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnB1dExheWVyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEVcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOmdhbWVDaGFyYWN0ZXInLCB0aGlzLmhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpuYXZpZ2F0aW9uJywgdGhpcy5oYW5kbGVQaWNrZXJOYXZpZ2F0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyKGNoYXJhY3RlckVudGl0eSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIGNoYXJhY3RlckVudGl0eSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgndmVydGljYWxTY3JvbGwnLCB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UsIHRpdGxlOiAnVmVydGljYWwgU2Nyb2xsJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21pbkNhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWluIENhbWVyYSBIZWlnaHQnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDYW1lcmEucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDYW1lcmFNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5zZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuZW50aXR5LmdldEV1bGVyQW5nbGVzKCkueTtcbiAgICB0aGlzLmNhbWVyYUhlaWdodCA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKS55O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgIHRoaXMucm90YXRpb24gKz0gZGlyZWN0aW9uLnggKiB0aGlzLmRyYWdNdWx0aXBsaWVyWDtcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIGxldCBuZXdDYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYUhlaWdodCAtIChkaXJlY3Rpb24ueSAqIHRoaXMuZHJhZ011bHRpcGxpZXJZKTtcbiAgICAgICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xuICAgIH1cbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24gPSBmdW5jdGlvbiAoZm9jdXNQb2ludCkge1xuICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpXG5cbiAgICBjb25zdCB0YXJnZXRYID0gTWF0aC5zaW4oKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuICAgIGNvbnN0IHRhcmdldFogPSBNYXRoLmNvcygodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoZm9jdXNQb2ludC54ICsgdGFyZ2V0WCwgY2FtZXJhUG9zaXRpb24ueSwgZm9jdXNQb2ludC56ICsgdGFyZ2V0Wik7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuR2FtZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0gdGhpcy5jYW1lcmFUYXJnZXQuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR3ZWVuWCA9ICh0YXJnZXRQb3NpdGlvbi54ICsgY3VycmVudFBvcy54ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5ZID0gKHRoaXMuY2FtZXJhSGVpZ2h0ICsgY3VycmVudFBvcy55ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5aID0gKHRhcmdldFBvc2l0aW9uLnogKyBjdXJyZW50UG9zLnogKiA5KSAvIDEwO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24odHdlZW5YLCB0d2VlblksIHR3ZWVuWik7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkubG9va0F0KGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDYW1lcmEgfSBmcm9tICcuL0dhbWVDYW1lcmEnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNhbWVyYU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNhbWVyYU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLnNldENhbWVyYVRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLmhhbmRsZURyYWcoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW5wdXRMYXllck1lZGlhdG9yIH0gZnJvbSAnLi9JbnB1dExheWVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi4vZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgSW5wdXRMYXllckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW5wdXRMYXllckNvbXBvbmVudCcpO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2FtZXJhRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkNhbWVyYSBFbnRpdHlcIlxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkcmFnVGltZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJEcmFnIFRpbWVcIixcbiAgICBkZWZhdWx0OiAwLjRcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS53aW5kb3cgPSB3aW5kb3c7XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IElucHV0TGF5ZXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMucmF5ID0gbmV3IHBjLlJheSgpO1xuICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgLy8gRHJhZyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5hcHAubW91c2UuZGlzYWJsZUNvbnRleHRNZW51KCk7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IDA7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJlc3VsdCcsIHRoaXMuaGFuZGxlUGlja2VyUmVzdWx0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmFwcC5tb3VzZSkge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgdGhpcy5vbk1vdXNlRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSh0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRvdWNoRXZ0KTtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24odG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ3JhcGhpY3NEZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICBjb25zb2xlLmxvZyhcInNpemVcIiwgZ3JhcGhpY3NEZXZpY2Uud2lkdGgsIGdyYXBoaWNzRGV2aWNlLmhlaWdodCk7XG5cbiAgICAvLyBGbGlwIGJsZW5kXG4gICAgaWYgKGdyYXBoaWNzRGV2aWNlLndpZHRoIDwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuc2NyZWVuLnNjcmVlbi5zY2FsZUJsZW5kID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50LnNjcmVlbi5zY3JlZW4uc2NhbGVCbGVuZCA9IDA7XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnB1dFF1ZXVlID0gW107XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRHYW1lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHBpY2tlZEVudGl0eSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZE5hdmlnYXRpb24gPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIGNvbnN0IG5hdkNvbXAgPSBwaWNrZWRFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgY29uc3QgbmVhcmVzdE5vZGUgPSBuYXZDb21wLmdldE5lYXJlc3ROb2RlKGhpdFBvc2l0aW9uKTtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6bmF2aWdhdGlvbicsIG5lYXJlc3ROb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcblxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50J10uY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lRmFjYWRlIH0gPSByZXF1aXJlKCcuLi9HYW1lRmFjYWRlJyk7XG5cbmV4cG9ydCBjb25zdCBDYWNvZ2VuR2FtZSA9IHBjLmNyZWF0ZVNjcmlwdCgnQ2Fjb2dlbkdhbWUnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkNhY29nZW5HYW1lLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgXCJNYXAxXCIpO1xufTtcblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG5cbn07IiwiaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdOYXZpZ2F0aW9uQ29tcG9uZW50Jyk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb25uZWN0ZWRDb21wb25lbnRzXCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIGFycmF5OiB0cnVlLFxuICAgIHRpdGxlOiBcIkNvbm5lY3RlZCBDb21wb25lbnRzXCJcbn0pO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIDAuMDUsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5maW5kQnlOYW1lKCdQbGFuZScpLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxOYXZpZ2F0aW9uTm9kZT59IG5vZGVHcmlkIC0gQXJyYXkgb2Ygbm9kZXMgcmVwcmVzZW50aW5nIHBvaW50cyBvbiB0aGUgZ3JpZC5cbiAqL1xuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0R3JpZCA9IGZ1bmN0aW9uIChub2RlR3JpZCkge1xuICAgIHRoaXMubm9kZUdyaWQgPSBub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0TmVhcmVzdE5vZGUgPSBmdW5jdGlvbiAodGFyZ2V0UG9pbnQpIHtcbiAgICBsZXQgbmVhcmVzdE5vZGUgPSB0aGlzLm5vZGVHcmlkWzBdO1xuICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm5vZGVHcmlkKSB7XG4gICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xufVxuIiwiZXhwb3J0IGNvbnN0IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic2lnaHRSYW5nZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJTaWdodCBSYW5nZVwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIik7XG5cbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCwgdGhpcy5oYW5kbGVNYXBHcmlkQ3JlYXRlZCwgdGhpcyk7XG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiLCB0aGlzLmhhbmRsZU1vdmVkVG9Ob2RlLCB0aGlzKTtcbn07XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNYXBHcmlkQ3JlYXRlZCA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuXG4gICAgaWYgKCF2by5jdXJyZW50Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICB2by5hZ3JvQXJlYSA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdGhpcy5zaWdodFJhbmdlKTtcblxuICAgIH1cbn1cblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdmVkVG9Ob2RlID0gZnVuY3Rpb24gKGlkLCBub2RlKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBjb25zdCB2byA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpLnZvO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG5cbiAgICAvLyBJZ25vcmUgaWYgdGhlIHBsYXllciBpc24ndCBleHBsb3JpbmdcbiAgICBpZiAoZ2FtZVN0YXRlLmdhbWVwbGF5TW9kZSAhPT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04gfHwgY2hhcmFjdGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGFncm9Ob2RlIG9mIHZvLmFncm9BcmVhKSB7XG4gICAgICAgIGlmIChhZ3JvTm9kZS5lcXVhbHMobm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KG5vZGUpO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFRvYXN0TWVzc2FnZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiVG9hc3RNZXNzYWdlTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydUb2FzdE1lc3NhZ2VDb21wb25lbnQnXS5hZGRNZXNzYWdlKGFyZ3NbMF0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VNZWRpYXRvciB9IGZyb20gXCIuL1RvYXN0TWVzc2FnZU1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBUb2FzdE1lc3NhZ2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCcpO1xuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtZXNzYWdlVGltZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWVzc2FnZSBUaW1lJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFRvYXN0TWVzc2FnZU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zaG93TmV4dE1lc3NhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLnNob3dOZXh0TWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0TWVzc2FnZSA9IHRoaXMubWVzc2FnZVF1ZXVlWzBdO1xuXG4gICAgICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gbmV4dE1lc3NhZ2U7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93TmV4dE1lc3NhZ2UoKTtcbiAgICAgICAgfSwgdGhpcy5tZXNzYWdlVGltZSAqIDEwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gXCJcIjtcblxuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuXG4vLyBwb3N0SW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblNldENhbWVyYVRhcmdldENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQsIHRoaXMuZW50aXR5KTtcbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTixcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOmVuZFR1cm4nLCB0aGlzLmhhbmRsZUVuZFR1cm4sIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUVuZFR1cm4oZXZ0KSB7XG4gICAgICAgIHRoaXMuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIH0gZnJvbSBcIi4vUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50Jyk7XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlbmRUdXJuQnV0dG9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdFbmQgVHVybiBidXR0b24nIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbmRUdXJuQnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5jbGlja0VuZFR1cm4sIHRoaXMpO1xufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsaWNrRW5kVHVybiA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazplbmRUdXJuJyk7XG59XG4iLCJleHBvcnQgY29uc3QgSGl0Ym94Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdIaXRib3hDb21wb25lbnQnKTtcblxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignc3RvcExpc3RlbmluZycsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LnBhcmVudCwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuYWFiYi5jZW50ZXIuY29weSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvblBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIEdhbWVDb21tYW5kcy5UT0dHTEVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZmlyZUNvbW1hbmQnLCB0aGlzLmhhbmRsZUZpcmVDb21tYW5kLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT046XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uUGFuZWxDb21wb25lbnQnXS5zZWxlY3RBY3Rpb24oYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRmlyZUNvbW1hbmQoY29tbWFuZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihjb21tYW5kTmFtZSwgLi4uYXJncyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcblxuY29uc3QgY29tbWFuZFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tYW5kTmFtZScsXG4gICAgICAgIHRpdGxlOiAnQ29tbWFuZCBuYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmRBcmdzJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIGFyZ3VtZW50cycsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLCBhcnJheTogdHJ1ZVxuICAgIH1cbl07XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb21tYW5kcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGNvbW1hbmRTY2hlbWEsIHRpdGxlOiAnQ29tbWFuZCBuYW1lJywgYXJyYXk6IHRydWUgfSk7O1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbignc2VsZWN0OmFjdGlvbicsIHRoaXMuaGFuZGxlQ2hhbmdlQWN0aW9uLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgdGhpcy5jb21tYW5kcykge1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IGNvbW1hbmQuY29tbWFuZE5hbWU7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gY29tbWFuZC5jb21tYW5kQXJncztcbiAgICAgICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2NsaWNrOmZpcmVDb21tYW5kJywgY29tbWFuZE5hbWUsIC4uLmNvbW1hbmRBcmdzKTtcblxuICAgIH1cbn1cblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDaGFuZ2VBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuZW50aXR5Lm5hbWUgPT09IGFjdGlvbikge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBBY3Rpb25QYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uUGFuZWxNZWRpYXRvcic7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0FjdGlvbkJ1dHRvbkNvbXBvbmVudCc7XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb25CdXR0b25zJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdBY3Rpb24gQnV0dG9ucycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufVxuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgYnV0dG9uLmZpcmUoJ3NlbGVjdDphY3Rpb24nLCBhY3Rpb25OYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVUlTdG9wUHJvcGFnYXRpb24gPSBwYy5jcmVhdGVTY3JpcHQoJ1VJU3RvcFByb3BhZ2F0aW9uJyk7XG5cblVJU3RvcFByb3BhZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cblxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciB9IGZyb20gXCIuL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCcpO1xuXG5jb25zdCBwcm9qZWN0aWxlU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb2plY3RpbGVOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZVRlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIFRlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVR5cGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFR5cGVzXCIsXG4gICAgc2NoZW1hOiBwcm9qZWN0aWxlU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuXG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUHJvamVjdGlsZSA9IGZ1bmN0aW9uIChwcm9qZWN0aWxlTmFtZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWxlU2NoZW1lID0gdGhpcy5wcm9qZWN0aWxlVHlwZXMuZmluZChzY2hlbWUgPT4gc2NoZW1lLnByb2plY3RpbGVOYW1lID09PSBwcm9qZWN0aWxlTmFtZSk7XG4gICAgICAgIGlmIChwcm9qZWN0aWxlU2NoZW1lKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0aWxlID0gcHJvamVjdGlsZVNjaGVtZS5wcm9qZWN0aWxlVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1Byb2plY3RpbGUpO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5vbmNlKCdwcm9qZWN0aWxlQXJyaXZlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld1Byb2plY3RpbGUuc2NyaXB0WydQcm9qZWN0aWxlQ29tcG9uZW50J10uc2V0VGFyZ2V0KG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIHByb2plY3RpbGUgXCIke3Byb2plY3RpbGVOYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDb21wb25lbnQnKTtcblxuUHJvamVjdGlsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInByb2plY3RpbGVTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogOFxufSk7XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55LCBvcmlnaW5Qb2ludC56KTtcbiAgICB0aGlzLnRhcmdldFBvaW50ID0gdGFyZ2V0UG9pbnQ7XG4gICAgdGhpcy5sb29rQXRQb2ludCh0aGlzLnRhcmdldFBvaW50KTtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKHRoaXMudGFyZ2V0UG9pbnQuY2xvbmUoKSwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZSh0aGlzLnRhcmdldFBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Byb2plY3RpbGVBcnJpdmVkJyk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vU3RhbWluYUJhckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBTdGFtaW5hQmFyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdGFtaW5hQmFyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhbWluYSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4U3RhbWluYSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlN0YW1pbmFCYXJDb21wb25lbnRcIl0udXBkYXRlU3RhbWluYShuZXdTdGFtaW5hLCBtYXhTdGFtaW5hKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFN0YW1pbmFCYXJNZWRpYXRvciB9IGZyb20gXCIuL1N0YW1pbmFCYXJNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgU3RhbWluYUJhckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU3RhbWluYUJhckNvbXBvbmVudCcpO1xuXG5TdGFtaW5hQmFyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYmFyRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkJhciBFbnRpdHlcIlxufSk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGFtaW5hTGFiZWxcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiU3RhbWluYSBMYWJlbFwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBTdGFtaW5hQmFyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuYmFyRW50aXR5TWF4V2lkdGggPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LndpZHRoO1xufTtcblxuXG5TdGFtaW5hQmFyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVTdGFtaW5hID0gZnVuY3Rpb24gKGN1cnJlbnRTdGFtaW5hLCBtYXhTdGFtaW5hKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYy5tYXRoLmNsYW1wKGN1cnJlbnRTdGFtaW5hIC8gbWF4U3RhbWluYSwgMCwgMSk7XG4gICAgY29uc3Qgd2lkdGggPSBwYy5tYXRoLmxlcnAoMCwgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCwgdmFsdWUpO1xuICAgIC8vIHNldCB0aGUgd2lkdGggb2YgdGhlIGZpbGwgaW1hZ2UgZWxlbWVudFxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGggPSB3aWR0aDtcblxuICAgIC8vIFNldCB0aGUgd2lkdGggb2YgdGhlIGVsZW1lbnQncyByZWN0IChyZWN0LnopIHRvIGJlIHRoZSBzYW1lXG4gICAgLy8gdmFsdWUgYXMgb3VyIDAtMSBwcm9ncmVzcy5cbiAgICAvLyBUaGlzIGlzIHNvIHRoYXQgdGhlIGZpbGwgaW1hZ2Ugd2lsbCBvbmx5IHNob3cgdGhlIHBvcnRpb25cbiAgICAvLyBvZiB0aGUgdGV4dHVyZSB0aGF0IGlzIHZpc2libGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QueiA9IHZhbHVlO1xuICAgIC8vIGZvcmNlIHJlY3QgdXBkYXRlXG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0ID0gdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0O1xuXG4gICAgdGhpcy5zdGFtaW5hTGFiZWwuZWxlbWVudC50ZXh0ID0gYCR7Y3VycmVudFN0YW1pbmF9LyR7bWF4U3RhbWluYX1gO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVBY3Rpb25zID0gcGxheWVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBY3Rpb25zID0gcGxheWVyUHJveHkubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50J10uc2hvd0F2YWlsYWJsZUFjdGlvbihhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3InO1xuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcFRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1BpcCBUZW1wbGF0ZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5waXBzID0gW107XG59XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2hvd0F2YWlsYWJsZUFjdGlvbiA9IGZ1bmN0aW9uIChhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKSB7XG4gICAgd2hpbGUgKHRoaXMucGlwcy5sZW5ndGggPCBtYXhBY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGlwKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBhdmFpbGFibGVBY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1BpcCA9IHRoaXMucGlwVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdQaXApO1xuICAgIHRoaXMucGlwcy5wdXNoKG5ld1BpcCk7XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCcpO1xuXG5BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwaXBGcm9udCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnUGlwIGZyb250JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkub24oJ3RvZ2dsZVBpcCcsIChzaG93KSA9PiB7XG4gICAgICAgIHRoaXMucGlwRnJvbnQuZW5hYmxlZCA9IHNob3c7XG4gICAgfSk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBQdXJlTVZDIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IENhY29nZW5HYW1lIH0gZnJvbSAnLi92aWV3L0NhY29nZW5HYW1lJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEhpdGJveENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvblBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IFVJU3RvcFByb3BhZ2F0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uJztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50JztcbmltcG9ydCB7IFByb2plY3RpbGVDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50JztcblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWFpbiBzdGFydFwiKTtcbiAgICAgICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IEdhbWVGYWNhZGUuZ2V0SW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKEZhY2FkZSk7XG5cbiAgICAgICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zdGFydHVwKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==