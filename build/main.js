(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(542),n=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=o.PureMVC.debug?o.PureMVC.logCommand:o.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=n.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n=this.commandMap[e];n&&(this.logger(t._consoleArgs,e,n.name),n.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(382),n=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(n.Model.removeModel(t),a.View.removeView(t),o.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];this.logger.apply(this,[t._consoleArgs,e].concat(o)),(i=this.view).notifyObservers.apply(i,[e].concat(o))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=o.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=n.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var o=t.call(this)||this;return o.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,o.mediatorName=e||"Mediator",o.viewComponent=i,o.sleeping=!0,o.subscribedNotifications=[],o.notificationSubscriptionChange=null,o}return n(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,o=this.notifications.slice(),n=!1;t instanceof Array?t.forEach((function(t){n=e.call(i,t)||n})):n=e.call(this,t),n&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,o)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(222),n=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return o.Facade.getInstance(this.multitonKey)},t}();e.Notifier=n},413:function(t,e,i){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var o=t.call(this)||this;return o.proxyName=e||"Proxy",o.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&o.setData(i),o}return n(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(729),n=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new o,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var o=0,n=i;o<n.length;o++){var r=n[o];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var o=0,n=i;o<n.length;o++){var r=n[o];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=n},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(382);e.Controller=o.Controller;var n=i(222);e.Facade=n.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var p=i(999);e.View=p.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function o(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,o,r,a){if("function"!=typeof o)throw new TypeError("The listener must be a function");var s=new n(o,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,o,n=[];if(0===this._eventsCount)return n;for(o in t=this._events)e.call(t,o)&&n.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t){var e=i?i+t:t,o=this._events[e];if(!o)return[];if(o.fn)return[o.fn];for(var n=0,r=o.length,a=new Array(r);n<r;n++)a[n]=o[n].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,o=this._events[e];return o?o.fn?1:o.length:0},s.prototype.emit=function(t,e,o,n,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,p=this._events[s],u=arguments.length;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),u){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,e),!0;case 3:return p.fn.call(p.context,e,o),!0;case 4:return p.fn.call(p.context,e,o,n),!0;case 5:return p.fn.call(p.context,e,o,n,r),!0;case 6:return p.fn.call(p.context,e,o,n,r,a),!0}for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];p.fn.apply(p.context,c)}else{var d,l=p.length;for(h=0;h<l;h++)switch(p[h].once&&this.removeListener(t,p[h].fn,void 0,!0),u){case 1:p[h].fn.call(p[h].context);break;case 2:p[h].fn.call(p[h].context,e);break;case 3:p[h].fn.call(p[h].context,e,o);break;case 4:p[h].fn.call(p[h].context,e,o,n);break;default:if(!c)for(d=1,c=new Array(u-1);d<u;d++)c[d-1]=arguments[d];p[h].fn.apply(p[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,o,n){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||n&&!s.once||o&&s.context!==o||a(this,r);else{for(var c=0,h=[],p=s.length;c<p;c++)(s[c].fn!==e||n&&!s[c].once||o&&s[c].context!==o)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},739:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>q});var o=i(68);class n{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(434),a=i(917);pc.createScript("GameMapComponent").prototype.initialize=function(){},i(203);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameMapMediator"}constructor(t){super(c.NAME),this.subscribeNotification([o.i.CHANGE_SCENE_COMPLETE])}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case o.i.CHANGE_SCENE_COMPLETE:this.facade.retrieveProxy(a.u.NAME).vo,pc.Application.getApplication()}}}var h=i(99);const{GameMediator:p}=i(23),{Facade:u}=i(710);function d(t,e){console.log("Parse map");const i=pc.Application.getApplication().root.findByTag("navigation_floor");let n=[];const r=[];for(const t of i){const e=t.script.NavigationComponent;r.push(e);const i=l(t);e.setGrid(i)}for(const t of r)for(const e of t.connectedComponents){const i=e.script.NavigationComponent;f(t.getGrid(),i.getGrid()),n=n.concat(t.getGrid())}u.getInstance(t).registerProxy(new h.h(n)),u.getInstance(t).registerMediator(new c),u.getInstance(t).sendNotification(o.i.MAP_GRID_CREATED)}function l(t){const e=[],i=t.getLocalPosition(),o=t.getLocalScale(),r=Math.round(o.x),a=Math.round(o.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const o=new n(i,c,t);e.push(o)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function f(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}const{Facade:g}=i(710);function y(t,e){g.getInstance(t).registerProxy(new a.u)}const{Facade:m}=i(710);function M(t,e,...i){const n=pc.Application.getApplication(),r=i[0];console.log("Changing scene "+r);const a=n.root.findByName("Root"),s=n.scenes.find(r);n.scenes.loadSceneHierarchy(s.url,(function(e,i){e?console.error(e):a&&a.destroy(),m.getInstance(t).sendNotification(o.i.CHANGE_SCENE_COMPLETE,r),m.getInstance(t).sendNotification(o.i.PARSE_GAMEMAP,r)}))}function E(t){let e=t.length,i=void 0,o=-1;for(;0!==e;)o=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[o],t[o]=i;return t}var N=i(958);const{Proxy:A}=i(710),{CombatVO:v}=i(201);class _ extends A{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t){super(_.NAME,new v(t))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(N.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(o.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(o.i.ENEMY_TURN,e):(console.log("COMBAT PROXY AWAIT"),this.facade.sendNotification(o.i.AWAIT_PLAYER_COMBAT_INPUT,e))}else this.facade.sendNotification(o.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(o.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const o=i.vo;for(let i=0;i<o.initiative;i++)t.push(e)}t.push("end_round");let e=E(t);for(;"end_round"===e[0];)e=E(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}}var C=i(448);const{Facade:T}=i(710);function P(t,e,...i){const n=i[0],r=T.getInstance(t);r.sendNotification(o.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(a.u.NAME).updateGameStateType(C.gameplayModeTypes.COMBAT);const s=r.retrieveProxy(N.b.NAME+n),c=["player"].concat(n).concat(s.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));for(const t of c)r.sendNotification(o.i.END_MOVEMENT+t);const h=new _(c);r.registerProxy(h),r.sendNotification(o.i.NEXT_COMBAT_ROUND)}const{Facade:O}=i(710);function b(t,e,...i){const o=O.getInstance(t),n=o.retrieveProxy(a.u.NAME),r=o.retrieveProxy(_.NAME);n.vo.gameplayMode===C.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:x}=i(710);function S(t,e,...i){const n=x.getInstance(t),r=n.retrieveProxy(a.u.NAME),s=n.retrieveProxy(_.NAME);r.vo.gameplayMode===C.gameplayModeTypes.COMBAT&&(s.nextRound(),n.sendNotification(o.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:w}=i(710);function I(t,e,...i){setTimeout((()=>{const e=w.getInstance(t),i=e.retrieveProxy(_.NAME);e.sendNotification(o.i.HIDE_WALKABLE_AREA),e.sendNotification(o.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}const{Facade:G}=i(710);function R(t,e,...i){const n=i[0],r=G.getInstance(t),a=r.retrieveProxy(h.h.NAME).findNearestNode({x:0,y:0,z:0});a&&r.sendNotification(o.i.NAVIGATE_TO_NODE+n,a)}var D=i(710);function L(t,e,...i){const n=D.Facade.getInstance(t),r=n.retrieveProxy(a.u.NAME),s=i[0];r.currentMode===C.gameplayModeTypes.EXPLORATION?n.sendNotification(o.i.NAVIGATE_TO_NODE+"player",s):r.currentMode===C.gameplayModeTypes.COMBAT&&"player"===n.retrieveProxy(_.NAME).activeParticipant&&(n.sendNotification(o.i.HIDE_WALKABLE_AREA),n.sendNotification(o.i.COMBAT_NAVIGATE_TO_NODE,"player",s))}const{Facade:V}=i(710);function k(t,e,...i){const o=V.getInstance(t),n=i[0],s=i[1],c=o.retrieveProxy(N.b.NAME+n),h=c.vo,p=r.q.breadthFirstSearch(h.currentNode,h.availableMovement);for(const t of p)t.equals(s)&&z(o,c,s);o.retrieveProxy(a.u.NAME),o.retrieveProxy(_.NAME)}function z(t,e,i){const n=e.vo,a=r.q.calculatePath(n.currentNode,i);a&&a.length>0&&(n.availableMovement-=a.length-1,n.currentNode=i,t.sendNotification(o.i.NAVIGATE_ALONG_PATH+n.id,a))}function F(t,e,...i){const o=i[0],n=pc.Application.getApplication(),r=n.assets.get(40235966),a=n.root.findByName("WorldObjects");for(const t of o){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function B(t,e,...i){const o=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of o)t.destroy()}function H(t,e,...i){const n=i[0],a=D.Facade.getInstance(t),s=a.retrieveProxy(N.b.NAME+n).vo,c=r.q.breadthFirstSearch(s.currentNode,s.availableMovement);a.sendNotification(o.i.SHOW_WALKABLE_AREA,c)}function U(t,e,...i){const n=D.Facade.getInstance(t),r=i[0];if(i[1],n.retrieveProxy(a.u.NAME).currentMode===C.gameplayModeTypes.COMBAT){const t=n.retrieveProxy(_.NAME);t&&("player"===t.activeParticipant?(console.log("END MOVEMENT AWAIT"),n.sendNotification(o.i.AWAIT_PLAYER_COMBAT_INPUT,r)):n.sendNotification(o.i.END_COMBAT_TURN))}}const{Facade:K}=i(710);class q extends K{static getInstance(t){return K.instanceMap[t]||(K.instanceMap[t]=new q(t)),K.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return q.NAME+"StartUp"}startup(t){this.sendNotification(q.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(q.STARTUP,y),this.registerCommand(o.i.CHANGE_SCENE,M),this.registerCommand(o.i.PARSE_GAMEMAP,d),this.registerCommand(o.i.START_COMBAT,P),this.registerCommand(o.i.NEXT_COMBAT_TURN,b),this.registerCommand(o.i.NEXT_COMBAT_ROUND,S),this.registerCommand(o.i.END_COMBAT_TURN,I),this.registerCommand(o.i.ENEMY_TURN,R),this.registerCommand(o.i.SELECTED_NODE,L),this.registerCommand(o.i.COMBAT_NAVIGATE_TO_NODE,k),this.registerCommand(o.i.SHOW_WALKABLE_AREA,F),this.registerCommand(o.i.HIDE_WALKABLE_AREA,B),this.registerCommand(o.i.AWAIT_PLAYER_COMBAT_INPUT,H),this.registerCommand(o.i.FINISHED_MOVE,U)}}},68:(t,e,i)=>{i.d(e,{i:()=>o});class o{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>o});class o{constructor(t){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>r});const{Proxy:o}=i(710),{GameCharacterVO:n}=i(940);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(r.NAME+t.id,new n(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>o});class o{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.currentNode=void 0,this.agroArea=void 0,this.roundInitiative=[],this.initiative=2,this.maxMovement=6,this.availableMovement=this.maxMovement}}},99:(t,e,i)=>{i.d(e,{h:()=>a});var o=i(434);const{Proxy:n}=i(710),{GameMapVO:r}=i(438);class a extends n{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t){super(a.NAME),this.setData({mapGrid:t})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],n=o.q.getDistSquared(i,t);for(const r of e){const e=o.q.getDistSquared(r,t);e<n&&(n=e,i=r)}return i}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>o});class o{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>n});class o{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let o=this.data[i].priority;Math.min(e,o)===o&&(e=o,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class n{static breadthFirstSearch(t,e){let i=[];const o=[];i.push(t);const n=new Map;n.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||n.has(r)||(t.push(r),o.push(r),n.set(r,e))}i=t,r++}return o}static calculatePath(t,e){const i=new o;i.push(t,0);const n=new Map,r=new Map;for(n.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let o=0;o<t.connectedNodes.length;o++){const a=t.connectedNodes[o],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let o=s+this.heuristic(a,e);i.push(a,o),n.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)n.has(a)||!a.equals(e)?(a=n.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:o}=i(710),{GameStateVO:n}=i(448);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new n)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>o,GameStateVO:()=>n});const o={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class n{constructor(){this.gameplayMode=o.EXPLORATION}}},23:(t,e,i)=>{i.r(e),i.d(e,{GameMediator:()=>r});var o=i(68);const{Mediator:n}=i(710);class r extends n{static get NAME(){return"GameMediator"}constructor(){console.log("Register mediator - GameMediator");const t=pc.Application.getApplication();super(r.NAME,t),this.subscribeNotification(o.i.APP_INITIALISED)}handleNotification(t,...e){switch(t){case o.i.APP_INITIALISED:}}}},203:(t,e,i)=>{var o=i(710),n=i(739),r=i(68);i(917);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"InputLayerMediator"}constructor(t){super(s.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.CHANGE_SCENE_COMPLETE:}}handlePickerNavigation(t){this.facade.sendNotification(r.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(r.i.INPUT_DRAG_MOUSE,t)}}const c=pc.createScript("GameCamera");c.attributes.add("distance",{type:"number",default:100,title:"Distance"}),c.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),c.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),c.prototype.initialize=function(){this.facade=o.Facade.getInstance(n.GameFacade.KEY),this.facade.hasMediator(p.NAME)&&this.facade.removeMediator(p.NAME),this.facade.registerMediator(new p(this.entity))},c.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},c.prototype.handleDrag=function(t){this.rotation+=t.x*this.dragMultiplierX;let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e},c.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,o=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+o)},c.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),o=(e.x+9*i.x)/10,n=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(o,n,r),this.entity.lookAt(t)}};const{Mediator:h}=i(710);class p extends h{static get NAME(){return"GameCameraMediator"}constructor(t){super(p.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE,r.i.INPUT_DRAG_MOUSE,r.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(e[0]);break;case r.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(e[0])}}}const u=pc.createScript("InputLayerComponent");u.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),u.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),u.prototype.initialize=function(){this.facade=o.Facade.getInstance(n.GameFacade.KEY),this.facade.hasMediator(s.NAME)&&this.facade.removeMediator(s.NAME),this.facade.registerMediator(new s(this.entity)),this.ray=new pc.Ray,this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))},u.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},u.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},u.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},u.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,o=this.cameraEntity.camera;o.screenToWorld(t,e,o.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},u.prototype.handlePickerResult=function(t,e,i){if(t.tags.has("navigation")){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)}}}},e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,i),n.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(739),e=i(68);const{Facade:o}=i(710),{GameFacade:n}=i(739),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=o.getInstance(n.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const o of this.nodeGrid){const n=a.q.getDistSquared(o,t);n<i&&(i=n,e=o)}return e};var c=i(710),h=i(958),p=i(99),u=i(917),d=i(448);const{Mediator:l}=i(710);class f extends l{static get NAME(){return"GameCharacterMediator_"}constructor(t,i,o){super(f.NAME+t),this.id=t;let n=[e.i.CHANGE_SCENE_COMPLETE,e.i.NAVIGATE_TO_NODE+this.id,e.i.NAVIGATE_ALONG_PATH+this.id,e.i.SET_CHARACTER_TO_NODE+this.id,e.i.START_COMBAT];n=n.concat(o),this.subscribeNotification(n),this.viewComponent=i,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){this.viewComponent&&this.viewComponent.fire(t,this.id,...i);for(const e in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,e)){const o=this.viewComponent.script[e];"function"==typeof o.handleNotification&&o.handleNotification(t,this.id,...i)}switch(t){case e.i.START_COMBAT:this.handleStartCombat();break;case e.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(i[0]);break;case e.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(i[0]);break;case e.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(i[0])}}handleNavigateToNode(t){this.facade.retrieveProxy(u.u.NAME).vo;const e=this.facade.retrieveProxy(p.h.NAME),i=this.facade.retrieveProxy(h.b.NAME+this.id).vo;i.currentNode||(i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition()));const o=a.q.calculatePath(i.currentNode,t);o&&o.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}updateCurrentNode(t){this.facade.sendNotification(e.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(e.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,i){for(const o of this.searchArea)o.equals(i)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(i),this.facade.sendNotification(e.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(h.b.NAME+this.id).vo}handleSetCharacterToNode(t){console.log("////////////"),console.log("/// STOP ///"),this.facade.retrieveProxy(h.b.NAME+this.id).vo.currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}const g=pc.createScript("GameCharacterComponent");g.attributes.add("characterId",{type:"string",title:"Character Id"}),g.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),g.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),g.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},g.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(f.NAME+this.characterId)&&this.facade.removeMediator(f.NAME+this.characterId),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e={id:this.characterId,isNPC:this.isNPC},i=this.entity.script.CombatGroupComponent;i&&(e.combatGroup=i.combatGroup),this.facade.registerProxy(new h.b(e)),this.facade.registerMediator(new f(this.characterId,this.entity,this.preregisteredNotifications))},g.prototype.setPath=function(t){this.movementPath=t},g.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z)},g.prototype.update=function(t){this.moveAlongPath(t)},g.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),o=new pc.Vec3,n=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(o.sub2(r,i),o.normalize(),o.mul(n),o.add(i),this.entity.setLocalPosition(o),this.lookAtPoint(e),o.distance(r)<.15){const t=this.movementPath.pop();0===this.movementPath.length&&this.entity.fire("finishedMove",t),this.entity.fire("updateCurrentNode",t)}}},g.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,o=t.z-e.z,n=180*Math.atan2(i,o)/Math.PI;this.entity.setEulerAngles(0,n,0)};const y=pc.createScript("AgroGameCharacterComponent");y.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),y.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this)},y.prototype.handleMapGridCreated=function(e,...i){const o=c.Facade.getInstance(t.GameFacade.KEY),n=o.retrieveProxy(h.b.NAME+e).vo;if(!n.currentNode){const t=o.retrieveProxy(p.h.NAME);n.currentNode=t.findNearestNode(this.entity.getLocalPosition()),n.currentNode.occupied=!0,n.agroArea=a.q.breadthFirstSearch(n.currentNode,this.sightRange)}},y.prototype.handleMovedToNode=function(i,o){const n=c.Facade.getInstance(t.GameFacade.KEY),r=n.retrieveProxy(h.b.NAME+i).vo;if(n.retrieveProxy(u.u.NAME).vo.gameplayMode===d.gameplayModeTypes.EXPLORATION)for(const t of r.agroArea)t.equals(o)&&(this.entity.script.GameCharacterComponent.lookAtPoint(o),n.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",o),n.sendNotification(e.i.START_COMBAT,i))};const{Mediator:m}=i(710);class M extends m{static get NAME(){return"ToastMessageMediator"}constructor(t){super(M.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const E=pc.createScript("ToastMessageComponent");E.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),E.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),E.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(M.NAME)&&this.facade.removeMediator(M.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new M(this.entity))},E.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},E.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)},i(203);const{Mediator:N}=i(710);class A extends N{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(A.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const v=pc.createScript("PlayerCombatPanelComponent");v.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),v.prototype.initialize=function(){},v.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(A.NAME)&&this.facade.removeMediator(A.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new A(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},v.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const _=pc.createScript("CombatGroupComponent");_.attributes.add("combatGroup",{type:"string",title:"Combat Group",array:!0}),_.prototype.initialize=function(){};const{Facade:C}=i(710),{PureMVC:T}=i(710);new class{constructor(){console.log("Main start"),T.debug=!0,C.getInstance=t.GameFacade.getInstance,console.log(C),this.facade=C.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0dhbWVNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0NhY29nZW5HYW1lLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvY29tYmF0R3JvdXAvQ29tYmF0R3JvdXBDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJQdXJlTVZDXzEiLCJWaWV3XzEiLCJDb250cm9sbGVyIiwia2V5IiwidGhpcyIsImNvbW1hbmRNYXAiLCJpbnN0YW5jZU1hcCIsIkVycm9yIiwibXVsdGl0b25LZXkiLCJsb2dnZXIiLCJQdXJlTVZDIiwiZGVidWciLCJsb2dDb21tYW5kIiwibG9nTm9uZSIsImluaXRpYWxpemVDb250cm9sbGVyIiwicmVtb3ZlQ29udHJvbGxlciIsImdldEluc3RhbmNlIiwicHJvdG90eXBlIiwicmVnaXN0ZXJDb21tYW5kIiwibm90aWZpY2F0aW9uTmFtZSIsImNvbW1hbmRDbGFzc1JlZiIsInZpZXciLCJyZWdpc3Rlck9ic2VydmVyIiwiZXhlY3V0ZUNvbW1hbmQiLCJoYXNDb21tYW5kIiwidW5kZWZpbmVkIiwicmVtb3ZlQ29tbWFuZCIsInJlbW92ZU9ic2VydmVyIiwiVmlldyIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImNvbW1hbmQiLCJfY29uc29sZUFyZ3MiLCJuYW1lIiwiYXBwbHkiLCJjb25jYXQiLCJDb250cm9sbGVyXzEiLCJNb2RlbF8xIiwiRmFjYWRlIiwibG9nTm90aWZpY2F0aW9uIiwiaW5pdGlhbGl6ZU5vdGlmaWVyIiwiaW5pdGlhbGl6ZUZhY2FkZSIsImhhc0NvcmUiLCJyZW1vdmVDb3JlIiwiTW9kZWwiLCJyZW1vdmVNb2RlbCIsInJlbW92ZVZpZXciLCJpbml0aWFsaXplTW9kZWwiLCJpbml0aWFsaXplVmlldyIsImNvbnRyb2xsZXIiLCJyZWdpc3RlclByb3h5IiwicHJveHkiLCJtb2RlbCIsInJldHJpZXZlUHJveHkiLCJwcm94eU5hbWUiLCJyZW1vdmVQcm94eSIsImhhc1Byb3h5IiwicmVnaXN0ZXJNZWRpYXRvciIsIm1lZGlhdG9yIiwicmV0cmlldmVNZWRpYXRvciIsIm1lZGlhdG9yTmFtZSIsInJlbW92ZU1lZGlhdG9yIiwic2xlZXBNZWRpYXRvciIsImF3YWtlTWVkaWF0b3IiLCJoYXNNZWRpYXRvciIsInNlbmROb3RpZmljYXRpb24iLCJfYSIsIm5vdGlmeU9ic2VydmVycyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiTm90aWZpZXJfMSIsIk1lZGlhdG9yIiwiX3N1cGVyIiwidmlld0NvbXBvbmVudCIsIl90aGlzIiwiY2FsbCIsImxvZ01lZGlhdG9yIiwic2xlZXBpbmciLCJzdWJzY3JpYmVkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXRNZWRpYXRvck5hbWUiLCJzZXRWaWV3Q29tcG9uZW50IiwiZ2V0Vmlld0NvbXBvbmVudCIsIm9uUmVnaXN0ZXIiLCJvblJlbW92ZSIsIm9uU2xlZXAiLCJvbkF3YWtlIiwic3Vic2NyaWJlTm90aWZpY2F0aW9uIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwiYWRkU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmVOb3RpZmljYXRpb24iLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJhY3Rpb24iLCJvbGROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsInNsaWNlIiwiY2hhbmdlZCIsImZvckVhY2giLCJub3RpZmljYXRpb24iLCJpbmRleE9mIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwiTm90aWZpZXIiLCJwcm94eU1hcCIsImdldFByb3h5TmFtZSIsIkZhY2FkZV8xIiwiZmFjYWRlIiwiZ2V0RmFjYWRlIiwiUHJveHkiLCJkYXRhIiwibG9nUHJveHkiLCJzZXREYXRhIiwiZ2V0RGF0YSIsImNvbnNvbGVBcmdzIiwiY29tbWFuZE5hbWUiLCJjb25zb2xlIiwibG9nIiwiRXZlbnRFbWl0dGVyIiwibWVkaWF0b3JNYXAiLCJldmVudEVtaXR0ZXIiLCJvYnNlcnZlck1ldGhvZCIsImNvbnRleHQiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiZW1pdCIsInJlZ2lzdGVyT2JzZXJ2ZXJzIiwib25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImJpbmQiLCJpc1NsZWVwaW5nIiwicmVtb3ZlT2JzZXJ2ZXJzIiwiaW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzEiLCJpbnRlcmVzdCIsImhhbmRsZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18yIiwiTWVkaWF0b3JfMSIsIlByb3h5XzEiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwiVHlwZUVycm9yIiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiaSIsImwiLCJlZSIsImxpc3RlbmVyQ291bnQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwibGVuIiwiaiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwibW9kdWxlIiwiTmF2aWdhdGlvbk5vZGUiLCJ4IiwieSIsInoiLCJjb25uZWN0ZWROb2RlcyIsIm9jY3VwaWVkIiwib3RoZXJOb2RlIiwiZmluZCIsIm5vZGUiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RlZE5vZGVJbmRleCIsImZpbmRJbmRleCIsImVxdWFscyIsInBjIiwiY3JlYXRlU2NyaXB0IiwiaW5pdGlhbGl6ZSIsIkdhbWVNYXBNZWRpYXRvciIsIm1hcEdyaWQiLCJzdXBlciIsIk5BTUUiLCJHYW1lQ29tbWFuZHMiLCJHYW1lU3RhdGVQcm94eSIsInZvIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsIkdhbWVNZWRpYXRvciIsInBhcnNlR2FtZU1hcENvbW1hbmQiLCJuYXZpZ2F0aW9uRmxvb3JzIiwicm9vdCIsImZpbmRCeVRhZyIsImNvbXBsZXRlZEdyaWQiLCJuYXZpZ2F0aW9uQ29tcG9uZW50cyIsImZsb29yRW50aXR5IiwibmF2Q29tcCIsInNjcmlwdCIsImZsb29yR3JpZCIsImNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yIiwic2V0R3JpZCIsIm5hdmlnYXRpb25Db21wIiwiY29ubmVjdGVkQ29tcEVudGl0eSIsImNvbm5lY3RlZENvbXBvbmVudHMiLCJjb25uZWN0ZWROYXZDb21wIiwiam9pblRvQWRqYWNlbnRHcmlkIiwiZ2V0R3JpZCIsIkdhbWVNYXBQcm94eSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsImdldExvY2FsU2NhbGUiLCJzbmFwcGVkV2lkdGgiLCJNYXRoIiwicm91bmQiLCJzbmFwcGVkQnJlYWR0aCIsInNuYXBwZWRYIiwic25hcHBlZFkiLCJzbmFwcGVkWiIsImVxdWFsc1BvaW50IiwiYWRkQ29ubmVjdGVkTm9kZSIsImdyaWRUb0pvaW4iLCJzdGFydHVwQ29tbWFuZCIsImNoYW5nZVNjZW5lQ29tbWFuZCIsImFwcCIsInNjZW5lTmFtZSIsIm9sZEhpZXJhcmNoeSIsImZpbmRCeU5hbWUiLCJzY2VuZSIsInNjZW5lcyIsImxvYWRTY2VuZUhpZXJhcmNoeSIsInVybCIsImVyciIsInBhcmVudCIsImVycm9yIiwiZGVzdHJveSIsInNodWZmbGVBcnJheSIsImFycmF5IiwiY3VycmVudEluZGV4IiwidGVtcG9yYXJ5VmFsdWUiLCJyYW5kb21JbmRleCIsImZsb29yIiwicmFuZG9tIiwiQ29tYmF0Vk8iLCJDb21iYXRQcm94eSIsInBhcnRpY2lwYW50cyIsInBhcnRpY2lwYW50UHJveGllcyIsIk1hcCIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInNldCIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwic3RhcnRDb21iYXRDb21tYW5kIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCIsInVwZGF0ZUdhbWVTdGF0ZVR5cGUiLCJnYW1lcGxheU1vZGVUeXBlcyIsImluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkiLCJjbGVhblBhcnRpY2lwYW50cyIsImNvbWJhdEdyb3VwIiwiZmlsdGVyIiwiaXRlbSIsInBvcyIsInNlbGYiLCJjb21iYXRQcm94eSIsIm5leHRDb21iYXRUdXJuQ29tbWFuZCIsImdhbWVTdGF0ZSIsImdhbWVwbGF5TW9kZSIsIm5leHRUdXJuIiwibmV4dENvbWJhdFJvdW5kQ29tbWFuZCIsIm5leHRSb3VuZCIsImVuZENvbWJhdFR1cm5Db21tYW5kIiwiZW5lbXlUdXJuQ29tbWFuZCIsImVuZW15SWQiLCJmaW5kTmVhcmVzdE5vZGUiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsImlkIiwidGFyZ2V0Tm9kZSIsImdhbWVDaGFyYWN0ZXJQcm94eSIsIm1vdmVhYmxlTm9kZXMiLCJBc3RhciIsImN1cnJlbnROb2RlIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJoYW5kbGVWYWxpZE1vdmUiLCJjaGFyYWN0ZXJQcm94eSIsInBhdGgiLCJzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlTm9kZXMiLCJ3YWxrYWJsZVRpbGVBc3NldCIsImFzc2V0cyIsImNvbnRhaW5lciIsInRpbGUiLCJyZXNvdXJjZSIsImluc3RhbnRpYXRlIiwic2V0TG9jYWxQb3NpdGlvbiIsImFkZENoaWxkIiwiaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZVRpbGVFbnRpdGllcyIsIndhbGthYmxlVGlsZUVudGl0eSIsImF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIiwiZW5kTW92ZW1lbnRDb21tYW5kIiwiR2FtZUZhY2FkZSIsImdhbWUiLCJTVEFSVFVQIiwiR2FtZUNoYXJhY3RlclZPIiwicGFyYW1zIiwibWF4TW92ZW1lbnQiLCJhZ3JvQXJlYSIsIkdhbWVNYXBWTyIsInRhcmdldFBvaW50IiwibmVhcmVzdE5vZGUiLCJkaXN0U3FydFRvTmVhcmVzdE5vZGUiLCJkaXN0VG9Ob2RlIiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5IiwibWluIiwiSW5maW5pdHkiLCJzdGFydCIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwicG9wIiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsInB0MSIsInB0MiIsImEiLCJhYnMiLCJHYW1lU3RhdGVWTyIsIm5ld1N0YXRlVHlwZSIsIkVYUExPUkFUSU9OIiwiQ09NQkFUIiwiRElBTE9HVUUiLCJJbnB1dExheWVyTWVkaWF0b3IiLCJoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uIiwiaGFuZGxlU2Nyb2xsaW5nIiwiZGlyZWN0aW9uIiwiR2FtZUNhbWVyYSIsImF0dHJpYnV0ZXMiLCJhZGQiLCJ0eXBlIiwiZGVmYXVsdCIsInRpdGxlIiwiR2FtZUNhbWVyYU1lZGlhdG9yIiwiZW50aXR5Iiwic2V0Q2FtZXJhVGFyZ2V0IiwiY2FtZXJhVGFyZ2V0Iiwicm90YXRpb24iLCJnZXRFdWxlckFuZ2xlcyIsImNhbWVyYUhlaWdodCIsImhhbmRsZURyYWciLCJkcmFnTXVsdGlwbGllclgiLCJuZXdDYW1lcmFIZWlnaHQiLCJkcmFnTXVsdGlwbGllclkiLCJtYXRoIiwiY2xhbXAiLCJtaW5DYW1lcmFIZWlnaHQiLCJtYXhDYW1lcmFIZWlnaHQiLCJnZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiIsImZvY3VzUG9pbnQiLCJjYW1lcmFQb3NpdGlvbiIsInRhcmdldFgiLCJzaW4iLCJQSSIsImRpc3RhbmNlIiwidGFyZ2V0WiIsImNvcyIsIlZlYzMiLCJ1cGRhdGUiLCJkdCIsImNhbWVyYVRhcmdldFBvc2l0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJjdXJyZW50UG9zIiwidHdlZW5YIiwidHdlZW5ZIiwidHdlZW5aIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsInJheSIsIlJheSIsIm1vdXNlIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiY2xpY2tEb3duU3RhcnQiLCJpc0RyYWdnaW5nIiwiaGFuZGxlUGlja2VyUmVzdWx0IiwiRVZFTlRfTU9VU0VNT1ZFIiwib25Nb3VzZU1vdmUiLCJlbGVtZW50IiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwiRGF0ZSIsIm5vdyIsImNsaWNrU3RhcnRQb2ludCIsIlZlYzIiLCJmaXJlIiwiZHJhZ1RpbWUiLCJoYW5kbGVSYXljYXN0Q29sbGlzaW9ucyIsImNhbWVyYUVudGl0eSIsImNhbWVyYUNvbXBvbmVudCIsImNhbWVyYSIsInNjcmVlblRvV29ybGQiLCJmYXJDbGlwIiwib3JpZ2luIiwiY29weSIsImdldFBvc2l0aW9uIiwic3ViIiwibm9ybWFsaXplIiwicGlja2VkRW50aXR5IiwiaGl0UG9zaXRpb24iLCJzY3JlZW5Qb3MiLCJ0YWdzIiwiZ2V0TmVhcmVzdE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiQ2Fjb2dlbkdhbWUiLCJLRVkiLCJOYXZpZ2F0aW9uQ29tcG9uZW50Iiwic2NhbGUiLCJoYWxmRXh0ZW50cyIsImFhYmIiLCJCb3VuZGluZ0JveCIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwiaW50ZXJzZWN0c1JheSIsIm5vZGVHcmlkIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwicHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMiLCJ1cGRhdGVDdXJyZW50Tm9kZSIsImhhbmRsZUZpbmlzaGVkTW9kZSIsInNjcmlwdEtleSIsInNjcmlwdENvbXBvbmVudCIsImhhbmRsZVN0YXJ0Q29tYmF0IiwiaGFuZGxlTmF2aWdhdGVUb05vZGUiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aCIsImhhbmRsZVNldENoYXJhY3RlclRvTm9kZSIsImdhbWVNYXBQcm94eSIsImdhbWVDaGFyYWN0ZXJWTyIsInNldFBhdGgiLCJuZXdOb2RlIiwic2VhcmNoTm9kZSIsInNlYXJjaEFyZWEiLCJsb29rQXRQb2ludCIsInN0b3BNb3ZlbWVudCIsIkdhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJwcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwicHJveHlQYXJhbXMiLCJjb21iYXRHcm91cENvbXBvbmVudCIsIm1vdmVBbG9uZ1BhdGgiLCJuZXh0UGF0aFBvaW50IiwibG9jYWxQb3MiLCJuZXdQb3NpdGlvbiIsInNwZWVkIiwiY2hhcmFjdGVyU3BlZWQiLCJub2RlUG9pbnQiLCJzdWIyIiwibXVsIiwicG9pbnQiLCJkeCIsImR6IiwiYW5nbGVUb0Rlc3QiLCJhdGFuMiIsInNldEV1bGVyQW5nbGVzIiwiQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJoYW5kbGVNYXBHcmlkQ3JlYXRlZCIsImhhbmRsZU1vdmVkVG9Ob2RlIiwic2lnaHRSYW5nZSIsImFncm9Ob2RlIiwiVG9hc3RNZXNzYWdlTWVkaWF0b3IiLCJhZGRNZXNzYWdlIiwiVG9hc3RNZXNzYWdlQ29tcG9uZW50IiwibWVzc2FnZVF1ZXVlIiwiY3VycmVudFRpbWVvdXQiLCJtZXNzYWdlIiwic2hvd05leHRNZXNzYWdlIiwibmV4dE1lc3NhZ2UiLCJsYWJlbEVudGl0eSIsInRleHQiLCJtZXNzYWdlVGltZSIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwiQ29tYmF0R3JvdXBDb21wb25lbnQiLCJzdGFydHVwIl0sIm1hcHBpbmdzIjoid0NBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlDLEVBQVksRUFBUSxLQUNwQkMsRUFBUyxFQUFRLEtBRWpCQyxFQUE0QixXQUM1QixTQUFTQSxFQUFXQyxHQUVoQixHQURBQyxLQUFLQyxXQUFhLEdBQ2RILEVBQVdJLFlBQVlILEdBQ3ZCLE1BQU0sSUFBSUksTUFMSCw0REFPWEgsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUtLLE9BQVNULEVBQVVVLFFBQVFDLE1BQVFYLEVBQVVVLFFBQVFFLFdBQWFaLEVBQVVVLFFBQVFHLFFBQ3pGVCxLQUFLVSx1QkFxRFQsT0FuREFaLEVBQVdhLGlCQUFtQixTQUFVWixVQUM3QkMsS0FBS0UsWUFBWUgsSUFFNUJELEVBQVdjLFlBQWMsU0FBVWIsR0FDL0IsT0FBS0EsR0FHQUMsS0FBS0UsWUFBWUgsS0FDbEJDLEtBQUtFLFlBQVlILEdBQU8sSUFBSUQsRUFBV0MsSUFFcENDLEtBQUtFLFlBQVlILElBTGIsTUFPZkQsRUFBV2UsVUFBVUMsZ0JBQWtCLFNBQVVDLEVBQWtCQyxHQUMxRGhCLEtBQUtDLFdBQVdjLElBQ2pCZixLQUFLaUIsS0FBS0MsaUJBQWlCSCxFQUFrQmYsS0FBS21CLGVBQWdCbkIsTUFFdEVBLEtBQUtDLFdBQVdjLEdBQW9CQyxHQUV4Q2xCLEVBQVdlLFVBQVVPLFdBQWEsU0FBVUwsR0FDeEMsWUFBNkNNLElBQXRDckIsS0FBS0MsV0FBV2MsSUFFM0JqQixFQUFXZSxVQUFVUyxjQUFnQixTQUFVUCxHQUN2Q2YsS0FBS29CLFdBQVdMLEtBQ2hCZixLQUFLaUIsS0FBS00sZUFBZVIsRUFBa0JmLEtBQUttQixlQUFnQm5CLGFBQ3pEQSxL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S0FBSytoQixhQUFjL2hCLE9BRzlENmhCLEVBQTJCaGhCLFVBQVVraEIsYUFBZSxTQUFVOVgsR0FDMURqSyxLQUFLd1ksT0FBT29ELEtBQUssa0JDN0JkLE1BQU1vRyxFQUF1QnpWLEdBQUdDLGFBQWEsd0JBRXBEd1YsRUFBcUI5SixXQUFXQyxJQUFJLGNBQWUsQ0FDL0NDLEtBQU0sU0FDTkUsTUFBTyxlQUNQakksT0FBTyxJQUdYMlIsRUFBcUJuaEIsVUFBVTRMLFdBQWEsYUNSNUMsTUFBUXJLLE9BQU0sR0FBSyxFQUFRLE1BQ3JCLFFBQUU5QixHQUFZLEVBQVEsS0F3QmYsSUFaYixNQUNJLGNBQ0l5SCxRQUFRQyxJQUFJLGNBQ1oxSCxFQUFRQyxPQUFRLEVBQ2hCLEVBQU9LLFlBQWN3VSxFQUFXLFdBQVgsWUFDckJyTixRQUFRQyxJQUFJLEdBRVpoSSxLQUFLc0gsT0FBUyxFQUFPMUcsWUFBWXdVLEVBQVcsV0FBWCxLQUNqQ3BWLEtBQUtzSCxPQUFPMmEsUUFBUWppQixTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJjb250cm9sbGVyIGtleSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZFwiO1xudmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29udHJvbGxlcihrZXkpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kTWFwID0ge307XG4gICAgICAgIGlmIChDb250cm9sbGVyLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dDb21tYW5kIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgIH1cbiAgICBDb250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBDb250cm9sbGVyKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSA9IGNvbW1hbmRDbGFzc1JlZjtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZU9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZXhlY3V0ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tbWFuZCA9IHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIoQ29udHJvbGxlci5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQuYXBwbHkodm9pZCAwLCBbdGhpcy5tdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNENEJGRTBcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzg3MjRCRFwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiXG4gICAgXTtcbiAgICBDb250cm9sbGVyLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIENvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2xsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRyb2xsZXJcIik7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL01vZGVsXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIkZhY2FkZSBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBGYWNhZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFjYWRlKGtleSkge1xuICAgICAgICBpZiAoRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVOb3RpZmllcihrZXkpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVGYWNhZGUoKTtcbiAgICB9XG4gICAgRmFjYWRlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLmhhc0NvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEZhY2FkZS5yZW1vdmVDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE1vZGVsXzEuTW9kZWwucmVtb3ZlTW9kZWwoa2V5KTtcbiAgICAgICAgVmlld18xLlZpZXcucmVtb3ZlVmlldyhrZXkpO1xuICAgICAgICBDb250cm9sbGVyXzEuQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyKGtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZWdpc3RlckNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZW1vdmVDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHRoaXMubW9kZWwucmVnaXN0ZXJQcm94eShwcm94eSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJldHJpZXZlUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZW1vdmVQcm94eShwcm94eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuaGFzUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJNZWRpYXRvcihtZWRpYXRvcik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmV0cmlldmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZW1vdmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnNsZWVwTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hd2FrZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lmhhc01lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLmFwcGx5KHRoaXMsIFtGYWNhZGUuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAoX2EgPSB0aGlzLnZpZXcpLm5vdGlmeU9ic2VydmVycy5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlci5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwgPSBNb2RlbF8xLk1vZGVsLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMkYyRTE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiNGRkYzMjVcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIlxuICAgIF07XG4gICAgRmFjYWRlLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIEZhY2FkZTtcbn0oKSk7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2FkZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIk1lZGlhdG9yXCI7XG52YXIgTWVkaWF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lZGlhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lZGlhdG9yKG1lZGlhdG9yTmFtZSwgdmlld0NvbXBvbmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ01lZGlhdG9yIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgX3RoaXMubWVkaWF0b3JOYW1lID0gbWVkaWF0b3JOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICBfdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zID0gW107XG4gICAgICAgIF90aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldE1lZGlhdG9yTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JOYW1lO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnNldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAodmlld0NvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblNsZWVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwic2xlZXBcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25Bd2FrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJhd2FrZVwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwiaXNTbGVlcGluZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xlZXBpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmFkZFN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUudW5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuY2hhbmdlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2xkTm90aWZpY2F0aW9ucyA9IHRoaXMubm90aWZpY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uTmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25OYW1lLmZvckVhY2goZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbChfdGhpcywgbm90aWZpY2F0aW9uKSB8fCBjaGFuZ2VkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwodGhpcywgbm90aWZpY2F0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKHRoaXMsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuYWRkU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRjRGNkZFXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMzNjU2QzFcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIlxuICAgIF07XG4gICAgcmV0dXJuIE1lZGlhdG9yO1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZWRpYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIk1vZGVsIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGVsKGtleSkge1xuICAgICAgICB0aGlzLnByb3h5TWFwID0ge307XG4gICAgICAgIGlmIChNb2RlbC5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgIH1cbiAgICBNb2RlbC5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgTW9kZWwoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucmVtb3ZlTW9kZWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICBwcm94eS5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIHRoaXMucHJveHlNYXBbcHJveHkuZ2V0UHJveHlOYW1lKCldID0gcHJveHk7XG4gICAgICAgIHByb3h5Lm9uUmVnaXN0ZXIoKTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHByb3h5Lm9uUmVtb3ZlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBNb2RlbC5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBNb2RlbDtcbn0oKSk7XG5leHBvcnRzLk1vZGVsID0gTW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9GYWNhZGVcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJtdWx0aXRvbktleSBmb3IgdGhpcyBOb3RpZmllciBub3QgeWV0IGluaXRpYWxpemVkIVwiO1xudmFyIE5vdGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIH1cbiAgICBOb3RpZmllci5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmZhY2FkZSA9IHRoaXMuZ2V0RmFjYWRlKCk7XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZmFjYWRlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZhY2FkZSkuc2VuZE5vdGlmaWNhdGlvbi5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5nZXRGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpdG9uS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlXzEuRmFjYWRlLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vdGlmaWVyO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIlByb3h5XCI7XG52YXIgUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3h5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb3h5KHByb3h5TmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm94eU5hbWUgPSBwcm94eU5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dQcm94eSA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUHJveHkucHJvdG90eXBlLmdldFByb3h5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlOYW1lO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIFByb3h5Ll9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMTAyNDE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMyN0QwNENcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIlxuICAgIF07XG4gICAgcmV0dXJuIFByb3h5O1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLlByb3h5ID0gUHJveHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm94eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1cmVNVkMoKSB7XG4gICAgfVxuICAgIFB1cmVNVkMubG9nQ29tbWFuZCA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZE5hbWUpIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiID0+ICBcIiArIGNvbW1hbmROYW1lICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIjogYXJncyBbIFwiICsgYXJncyArIFwiIF0gJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTWVkaWF0b3IgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nUHJveHkgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm9uZSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncykge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgcmV0dXJuIFB1cmVNVkM7XG59KCkpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1cmVNVkMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJWaWV3IGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlldyhrZXkpIHtcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKFZpZXcuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH1cbiAgICBWaWV3LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBWaWV3KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucmVtb3ZlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24obm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmV2ZW50RW1pdHRlcikuZW1pdC5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWUsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhdG9yLmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG1lZGlhdG9yIGZvciByZXRyaWV2YWwgYnkgbmFtZVxuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSA9IG1lZGlhdG9yO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgbWVkaWF0b3Iub25SZWdpc3Rlcih0aGlzLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIGF3YWtlblxuICAgICAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVkaWF0b3IgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgbWVkaWF0b3Iub25SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKG1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBzbGVwdFxuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBmb3IgZXZlcnkgbm90aWZpY2F0aW9uIHRoZSBtZWRpYXRvciBpcyBpbnRlcmVzdGVkIGluLi4uXG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18xID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18xW19pXTtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmVzdFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGdldCBub3RpZmljYXRpb24gaW50ZXJlc3RzIGlmIGFueVxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIC8vIHJlZ2lzdGVyIG1lZGlhdG9yIGFzIGFuIG9ic2VydmVyIGZvciBlYWNoIG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzJbX2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBmdW5jdGlvbiAobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIFZpZXcuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gVmlldztcbn0oKSk7XG5leHBvcnRzLlZpZXcgPSBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlclwiKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyO1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0ZhY2FkZVwiKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlXzEuRmFjYWRlO1xudmFyIE1lZGlhdG9yXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTWVkaWF0b3JcIik7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3JfMS5NZWRpYXRvcjtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01vZGVsXCIpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsXzEuTW9kZWw7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Ob3RpZmllclwiKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcl8xLk5vdGlmaWVyO1xudmFyIFByb3h5XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHJveHlcIik7XG5leHBvcnRzLlByb3h5ID0gUHJveHlfMS5Qcm94eTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQ1wiKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkNfMS5QdXJlTVZDO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9WaWV3XCIpO1xuZXhwb3J0cy5WaWV3ID0gVmlld18xLlZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCJleHBvcnQgY2xhc3MgTmF2aWdhdGlvbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmQobm9kZSA9PiBub2RlLnggPT09IG90aGVyTm9kZS54XG4gICAgICAgICAgICAmJiBub2RlLnkgPT09IG90aGVyTm9kZS55ICYmIG5vZGUueiA9PT0gb3RoZXJOb2RlLnopICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlck5vZGUueCAmJiB0aGlzLnkgPT09IG90aGVyTm9kZS55ICYmIHRoaXMueiA9PT0gb3RoZXJOb2RlLno7XG4gICAgfVxuXG4gICAgZXF1YWxzUG9pbnQoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSB4ICYmIHRoaXMueSA9PT0geSAmJiB0aGlzLnogPT09IHo7XG4gICAgfVxuXG4gICAgYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKG90aGVyTm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMucHVzaChvdGhlck5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZUluZGV4ID0gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kSW5kZXgobm9kZSA9PiBub2RlLmVxdWFscyhvdGhlck5vZGUpKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5zcGxpY2UoY29ubmVjdGVkTm9kZUluZGV4LCAxKTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEdhbWVNYXBDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVNYXBDb21wb25lbnQnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVNYXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBDb21wb25lbnQgfSBmcm9tICcuL0dhbWVNYXBDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCkge1xuICAgICAgICBzdXBlcihHYW1lTWFwTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEVcbiAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoYXBwKSB7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IHsgR2FtZU1lZGlhdG9yIH0gPSByZXF1aXJlKCcuLi92aWV3L0dhbWVNZWRpYXRvcicpO1xuaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGUnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZU1hcE1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lTWFwL0dhbWVNYXBNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgIC8vIE9uY2UgYSBnYW1lTWFwIHNjZW5lIGlzIGxvYWRlZCwgcGFyc2UgZ2FtZU1hcCBWTywgZ2VuZXJhdGUgbmF2IG1lc2gsIGV0Y1xuICAgIGNvbnNvbGUubG9nKCdQYXJzZSBtYXAnKTtcblxuICAgIC8vIEdldCBuYXZpZ2F0aW9uIGZsb29yc1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgbmF2aWdhdGlvbkZsb29ycyA9IGFwcC5yb290LmZpbmRCeVRhZygnbmF2aWdhdGlvbl9mbG9vcicpO1xuXG4gICAgbGV0IGNvbXBsZXRlZEdyaWQgPSBbXTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25Db21wb25lbnRzID0gW107XG4gICAgLy8gRmlyc3QgcGFyc2UgLSBjcmVhdGUgbm9kZXMgYW5kIGNvbm5lY3Rpb25zIGZvciBpbmRpdmlkdWFsIFxuICAgIC8vIG5hdmlnYXRpb24gY29tcG9uZW50c1xuICAgIGZvciAoY29uc3QgZmxvb3JFbnRpdHkgb2YgbmF2aWdhdGlvbkZsb29ycykge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gZmxvb3JFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgICAgIG5hdmlnYXRpb25Db21wb25lbnRzLnB1c2gobmF2Q29tcCk7XG5cbiAgICAgICAgY29uc3QgZmxvb3JHcmlkID0gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpXG4gICAgICAgIG5hdkNvbXAuc2V0R3JpZChmbG9vckdyaWQpO1xuICAgIH1cblxuICAgIC8vIFNlY29uZCBwYXJzZSAtIHN0aXRjaCB0b2dldGhlciBhZGphY2VudCBub2RlcyBpbiBcbiAgICAvLyBjb25uZWN0ZWQgbmF2aWdhdGlvbiBtZXNoZXNcbiAgICBmb3IgKGNvbnN0IG5hdmlnYXRpb25Db21wIG9mIG5hdmlnYXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29ubmVjdGVkQ29tcEVudGl0eSBvZiBuYXZpZ2F0aW9uQ29tcC5jb25uZWN0ZWRDb21wb25lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0ZWROYXZDb21wID0gY29ubmVjdGVkQ29tcEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcblxuICAgICAgICAgICAgam9pblRvQWRqYWNlbnRHcmlkKG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSwgY29ubmVjdGVkTmF2Q29tcC5nZXRHcmlkKCkpO1xuICAgICAgICAgICAgY29tcGxldGVkR3JpZCA9IGNvbXBsZXRlZEdyaWQuY29uY2F0KG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBtZWRpYXRvcnNcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVNYXBQcm94eShjb21wbGV0ZWRHcmlkKSk7XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lTWFwTWVkaWF0b3IoKSk7XG5cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KSB7XG4gICAgLy8gc25hcCB0byBncmlkXG4gICAgY29uc3QgZ3JpZCA9IFtdO1xuXG4gICAgY29uc3QgZmxvb3JQb3NpdGlvbiA9IGZsb29yRW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBmbG9vclNpemUgPSBmbG9vckVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG5cbiAgICBjb25zdCBzbmFwcGVkV2lkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS54KTtcbiAgICBjb25zdCBzbmFwcGVkQnJlYWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLnopO1xuXG4gICAgY29uc3Qgc25hcHBlZFggPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueCAtIChzbmFwcGVkV2lkdGggLyAyKSk7XG4gICAgY29uc3Qgc25hcHBlZFkgPSBmbG9vclBvc2l0aW9uLnk7XG4gICAgY29uc3Qgc25hcHBlZFogPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueiAtIChzbmFwcGVkQnJlYWR0aCAvIDIpKTtcblxuXG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAvLyBSZWdpc3RlciBhcHAtbGV2ZWwgbWVkaWF0b3JzL3Byb3hpZXMvY29tbWFuZHMgaGVyZVxuXG4gICAgLy8gQ3JlYXRlIGdhbWUgc3RhdGUgcHJveHlcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVTdGF0ZVByb3h5KCkpO1xuXG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU2NlbmVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBzY2VuZU5hbWUgPSBhcmdzWzBdO1xuICAgIGNvbnNvbGUubG9nKGBDaGFuZ2luZyBzY2VuZSAke3NjZW5lTmFtZX1gKTtcblxuICAgIC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgc2NlbmUncyByb290IG9iamVjdFxuICAgIGNvbnN0IG9sZEhpZXJhcmNoeSA9IGFwcC5yb290LmZpbmRCeU5hbWUoJ1Jvb3QnKTtcblxuICAgIC8vIEdldCB0aGUgcGF0aCB0byB0aGUgc2NlbmVcbiAgICBjb25zdCBzY2VuZSA9IGFwcC5zY2VuZXMuZmluZChzY2VuZU5hbWUpO1xuXG4gICAgLy8gTG9hZCB0aGUgc2NlbmVzIGVudGl0eSBoaWVyYXJjaHlcbiAgICBhcHAuc2NlbmVzLmxvYWRTY2VuZUhpZXJhcmNoeShzY2VuZS51cmwsIGZ1bmN0aW9uIChlcnIsIHBhcmVudCkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgaWYgKG9sZEhpZXJhcmNoeSkge1xuICAgICAgICAgICAgICAgIG9sZEhpZXJhcmNoeS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgc2NlbmVOYW1lKTtcblxuICAgIH0pO1xufSIsImV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoXG4gICAgbGV0IHRlbXBvcmFyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGxldCByYW5kb21JbmRleCA9IC0xO1xuXG4gICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGUuLi5cbiAgICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW50Li4uXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcbiAgICAgICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAgICAgLy8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IGFycmF5W2N1cnJlbnRJbmRleF07XG4gICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgICAgIGFycmF5W3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHNodWZmbGVBcnJheSB9IGZyb20gJy4uLy4uL3V0aWxzL1NodWZmbGVBcnJheSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IENvbWJhdFZPIH0gPSByZXF1aXJlKCcuL0NvbWJhdFZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIENvbWJhdFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNvbWJhdFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cykge1xuICAgICAgICBzdXBlcihDb21iYXRQcm94eS5OQU1FLCBuZXcgQ29tYmF0Vk8ocGFydGljaXBhbnRzKSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5zZXQocGFydGljaXBhbnQsIHBhcnRpY2lwYW50UHJveHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFR1cm4oKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlO1xuXG4gICAgICAgIGlmIChyb3VuZEluaXRpYXRpdmUgJiYgcm91bmRJbml0aWF0aXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUdXJuSWQgPSByb3VuZEluaXRpYXRpdmUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSBuZXh0VHVybklkO1xuXG4gICAgICAgICAgICBpZiAobmV4dFR1cm5JZCAhPT0gJ2VuZF9yb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBOZXh0IFR1cm5cbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBUdXJuICR7bmV4dFR1cm5JZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMucGFydGljaXBhbnRQcm94aWVzLmdldChuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICBwcm94eS5yZXNldENvbWJhdFR1cm5TdGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3h5LmlzTlBDKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDT01CQVQgUFJPWFkgQVdBSVQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQgcm91bmRcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBFbmQgcm91bmRgKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFJvdW5kKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vICBOZXcgcm91bmQgIC8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zdCBpbml0aWF0aXZlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtjaGFyYWN0ZXJJZCwgcHJveHldIG9mIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgdm8gPSBwcm94eS52bztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm8uaW5pdGlhdGl2ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhdGl2ZXMucHVzaChjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGVuZCBvZiByb3VuZCB0b2tlblxuICAgICAgICBpbml0aWF0aXZlcy5wdXNoKCdlbmRfcm91bmQnKTtcblxuICAgICAgICBsZXQgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KGluaXRpYXRpdmVzKTtcbiAgICAgICAgLy8gZW5zdXJlIHJvdW5kIGRvZXNuJ3Qgc3RhcnQgd2l0aCBcImVuZF9yb3VuZFwiXG4gICAgICAgIHdoaWxlIChzaHVmZmxlZEluaXRpYXRpdmVbMF0gPT09IFwiZW5kX3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShzaHVmZmxlZEluaXRpYXRpdmUpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHNodWZmbGVkSW5pdGlhdGl2ZTtcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZDtcbiAgICB9XG5cbiAgICBnZXQgYWN0aXZlUGFydGljaXBhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50O1xuICAgIH1cblxuICAgIHNldCBhY3RpdmVQYXJ0aWNpcGFudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gdmFsdWU7XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG4gICAgLy8gU2V0dXAgdGhlIGNvbWJhdFxuICAgIGNvbnN0IGRpcnR5UGFydGljaXBhbnRzID0gWydwbGF5ZXInXS5jb25jYXQoaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCkuY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApO1xuICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzXG4gICAgY29uc3QgY2xlYW5QYXJ0aWNpcGFudHMgPSBkaXJ0eVBhcnRpY2lwYW50cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09IHBvcztcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgY2xlYW5QYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9NT1ZFTUVOVCArIHBhcnRpY2lwYW50KTtcblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KGNsZWFuUGFydGljaXBhbnRzKTtcbiAgICAvLyBjb25zb2xlLmxvZyhwYXJ0aWNpcGFudHMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0VHVybigpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0Um91bmRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRSb3VuZCgpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG5cbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS5uZXh0VHVybkNoYXJhY3RlcklkKTtcbiAgICB9LCA1MDApO1xufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZW15VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBub2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh7IHg6IDAsIHk6IDAsIHo6IDAgfSk7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyBlbmVteUlkLCBub2RlKTtcbiAgICB9XG5cbiAgICAvKnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICB9LCAzMDAwKTsqL1xuXG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eVwiO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZE5vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5vZGUgPSBhcmdzWzBdO1xuXG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgdm8uY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHZvLmlkLCBwYXRoKTtcbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgd2Fsa2FibGVOb2RlcyA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVBc3NldCA9IGFwcC5hc3NldHMuZ2V0KDQwMjM1OTY2KTtcbiAgICBjb25zdCBjb250YWluZXIgPSBhcHAucm9vdC5maW5kQnlOYW1lKFwiV29ybGRPYmplY3RzXCIpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHdhbGthYmxlTm9kZXMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHdhbGthYmxlVGlsZUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIHRpbGUuc2V0TG9jYWxQb3NpdGlvbihub2RlLngsIG5vZGUueSwgbm9kZS56KTtcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRpbGUpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2Fsa2FibGVfdGlsZScpO1xuICAgIGZvciAoY29uc3Qgd2Fsa2FibGVUaWxlRW50aXR5IG9mIHdhbGthYmxlVGlsZUVudGl0aWVzKSB7XG4gICAgICAgIHdhbGthYmxlVGlsZUVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3RhclwiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBtb3ZlYWJsZU5vZGVzKTtcblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSBcIi4vR2FtZUNvbW1hbmRzXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRNb3ZlbWVudENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VORCBNT1ZFTUVOVCBBV0FJVCcpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmVteVR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWROb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kJztcbmltcG9ydCB7IGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kTW92ZW1lbnRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIEdhbWVDb21tYW5kcyB7XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORVwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkVfQ09NUExFVEUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORV9DT01QTEVURVwiIH07XG4gICAgc3RhdGljIGdldCBBUFBfSU5JVElBTElTRUQoKSB7IHJldHVybiBcIkFQUF9JTklUSUFMSVNFRFwiIH07XG4gICAgc3RhdGljIGdldCBQQVJTRV9HQU1FTUFQKCkgeyByZXR1cm4gXCJQQVJTRV9HQU1FTUFQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BUF9HUklEX0NSRUFURUQoKSB7IHJldHVybiBcIk1BUF9HUklEX0NSRUFURURcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENPTUJBVF9OQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJDT01CQVRfTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0FNRVJBX1RBUkdFVCgpIHsgcmV0dXJuIFwiU0VUX0NBTUVSQV9UQVJHRVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgSU5QVVRfRFJBR19NT1VTRSgpIHsgcmV0dXJuIFwiSU5QVVRfRFJBR19NT1VTRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE1PVkVEX1RPX05PREUoKSB7IHJldHVybiBcIk1PVkVEX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgRklOSVNIRURfTU9WRSgpIHsgcmV0dXJuIFwiRklOSVNIRURfTU9WRVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVF9DT01CQVQoKSB7IHJldHVybiBcIlNUQVJUX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX1RPQVNUX01FU1NBR0UoKSB7IHJldHVybiBcIlNIT1dfVE9BU1RfTUVTU0FHRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfUk9VTkQoKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1JPVU5EXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5FTVlfVFVSTigpIHsgcmV0dXJuIFwiRU5FTVlfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RFRF9OT0RFKCkgeyByZXR1cm4gXCJTRUxFQ1RFRF9OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfQUxPTkdfUEFUSCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfQUxPTkdfUEFUSFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiU0hPV19XQUxLQUJMRV9BUkVBXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiSElERV9XQUxLQUJMRV9BUkVBXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBFTkRfTU9WRU1FTlQoKSB7IHJldHVybiBcIkVORF9NT1ZFTUVOVFwiIH07XG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DSEFSQUNURVJfVE9fTk9ERSgpIHsgcmV0dXJuIFwiU0VUX0NIQVJBQ1RFUl9UT19OT0RFXCIgfTtcblxuXG59XG4iLCJleHBvcnQgY2xhc3MgQ29tYmF0Vk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cykge1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5yb3VuZEluaXRpYXRpdmUgPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmVQYXJ0aWNpcGFudCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmRJbml0aWF0aXZlWzBdO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVDaGFyYWN0ZXJWTyB9ID0gcmVxdWlyZSgnLi9HYW1lQ2hhcmFjdGVyVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJQcm94eV9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFyYW1zLmlkLCBuZXcgR2FtZUNoYXJhY3RlclZPKHBhcmFtcykpO1xuICAgIH1cblxuICAgIHJlc2V0Q29tYmF0VHVyblN0YXRlKCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy52by5tYXhNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHBhcmFtcy5pZDtcbiAgICAgICAgdGhpcy5pc05QQyA9IHBhcmFtcy5pc05QQztcbiAgICAgICAgdGhpcy5jb21iYXRHcm91cCA9IHBhcmFtcy5jb21iYXRHcm91cCB8fCBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hZ3JvQXJlYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yb3VuZEluaXRpYXRpdmUgPSBbXTtcblxuICAgICAgICAvLyBUcm9pa2Egc3RhdHNcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlID0gMjtcbiAgICAgICAgdGhpcy5tYXhNb3ZlbWVudCA9IDY7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQpIHtcbiAgICAgICAgc3VwZXIoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgICBtYXBHcmlkOiBtYXBHcmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG5cbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdE5vZGUodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWFwR3JpZCA9IHRoaXMudm8ubWFwR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBtYXBHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG1hcEdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVNYXBWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwR3JpZCA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHB1c2godmFsdWUsIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5kYXRhW2ldLnByaW9yaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGgubWluKG1pbiwgcHJpb3JpdHkpID09PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IHByaW9yaXR5O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSlbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGhcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufSIsImltcG9ydCB7IFByaW9yaXR5UXVldWUgfSBmcm9tICcuL1ByaW9yaXR5UXVldWUnO1xuXG5leHBvcnQgY2xhc3MgQXN0YXIge1xuICAgIHN0YXRpYyBicmVhZHRoRmlyc3RTZWFyY2goc3RhcnQsIHJhbmdlTGltaXQpIHtcbiAgICAgICAgbGV0IGZyb250aWVyID0gW107XG4gICAgICAgIGNvbnN0IHNlYXJjaGVkQXJlYSA9IFtdO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0KTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG5cbiAgICAgICAgbGV0IHJhbmdlID0gMDtcblxuICAgICAgICB3aGlsZSAoZnJvbnRpZXIubGVuZ3RoID4gMCAmJiByYW5nZSA8IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Zyb250aWVyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZnJvbnRpZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY2FtZUZyb20uaGFzKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RnJvbnRpZXIucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkQXJlYS5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udGllciA9IG5ld0Zyb250aWVyO1xuXG4gICAgICAgICAgICByYW5nZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaGVkQXJlYTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgMTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lU3RhdGVWTyB9ID0gcmVxdWlyZSgnLi9HYW1lU3RhdGVWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lU3RhdGVQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlUHJveHkuTkFNRSwgbmV3IEdhbWVTdGF0ZVZPKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUdhbWVTdGF0ZVR5cGUobmV3U3RhdGVUeXBlKSB7XG4gICAgICAgIHRoaXMudm8uZ2FtZXBsYXlNb2RlID0gbmV3U3RhdGVUeXBlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50TW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2FtZXBsYXlNb2RlO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNvbnN0IGdhbWVwbGF5TW9kZVR5cGVzID0ge1xuICAgIEVYUExPUkFUSU9OOiAnRVhQTE9SQVRJT04nLFxuICAgIENPTUJBVDogJ0NPTUJBVCcsXG4gICAgRElBTE9HVUU6ICdESUFMT0dVRScsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXIgbWVkaWF0b3IgLSBHYW1lTWVkaWF0b3JcIik7XG4gICAgICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgIHN1cGVyKEdhbWVNZWRpYXRvci5OQU1FLCBhcHApO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEKTtcbiAgICB9XG5cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRMYXllck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW5wdXRMYXllck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpuYXZpZ2F0aW9uJywgdGhpcy5oYW5kbGVQaWNrZXJOYXZpZ2F0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgbm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2Nyb2xsaW5nKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBkaXJlY3Rpb24pO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEdhbWVDYW1lcmEgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDYW1lcmEnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkaXN0YW5jZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdEaXN0YW5jZScgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclgnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtaW5DYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01pbiBDYW1lcmEgSGVpZ2h0JyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2FtZXJhTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuc2V0Q2FtZXJhVGFyZ2V0ID0gZnVuY3Rpb24gKGNhbWVyYVRhcmdldCkge1xuICAgIHRoaXMuY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLmVudGl0eS5nZXRFdWxlckFuZ2xlcygpLnk7XG4gICAgdGhpcy5jYW1lcmFIZWlnaHQgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCkueTtcbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaGFuZGxlRHJhZyA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnJvdGF0aW9uICs9IGRpcmVjdGlvbi54ICogdGhpcy5kcmFnTXVsdGlwbGllclg7XG5cbiAgICBsZXQgbmV3Q2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFIZWlnaHQgLSAoZGlyZWN0aW9uLnkgKiB0aGlzLmRyYWdNdWx0aXBsaWVyWSk7XG4gICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgdGhpcy5jYW1lcmFIZWlnaHQgPSBuZXdDYW1lcmFIZWlnaHQ7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmdldFRhcmdldENhbWVyYVBvc2l0aW9uID0gZnVuY3Rpb24gKGZvY3VzUG9pbnQpIHtcbiAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKVxuXG4gICAgY29uc3QgdGFyZ2V0WCA9IE1hdGguc2luKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcbiAgICBjb25zdCB0YXJnZXRaID0gTWF0aC5jb3MoKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuXG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKGZvY3VzUG9pbnQueCArIHRhcmdldFgsIGNhbWVyYVBvc2l0aW9uLnksIGZvY3VzUG9pbnQueiArIHRhcmdldFopO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkdhbWVDYW1lcmEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLmNhbWVyYVRhcmdldCkge1xuICAgICAgICBjb25zdCBjYW1lcmFUYXJnZXRQb3NpdGlvbiA9IHRoaXMuY2FtZXJhVGFyZ2V0LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLmdldFRhcmdldENhbWVyYVBvc2l0aW9uKGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0d2VlblggPSAodGFyZ2V0UG9zaXRpb24ueCArIGN1cnJlbnRQb3MueCAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWSA9ICh0aGlzLmNhbWVyYUhlaWdodCArIGN1cnJlbnRQb3MueSAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWiA9ICh0YXJnZXRQb3NpdGlvbi56ICsgY3VycmVudFBvcy56ICogOSkgLyAxMDtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHR3ZWVuWCwgdHdlZW5ZLCB0d2VlblopO1xuXG4gICAgICAgIHRoaXMuZW50aXR5Lmxvb2tBdChjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG4gICAgfVxuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhIH0gZnJvbSAnLi9HYW1lQ2FtZXJhJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDYW1lcmFNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDYW1lcmFNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0UsIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5zZXRDYW1lcmFUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5oYW5kbGVEcmFnKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IElucHV0TGF5ZXJNZWRpYXRvciB9IGZyb20gJy4vSW5wdXRMYXllck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4uL2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IElucHV0TGF5ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0lucHV0TGF5ZXJDb21wb25lbnQnKTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNhbWVyYUVudGl0eVwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJDYW1lcmEgRW50aXR5XCJcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZHJhZ1RpbWVcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiRHJhZyBUaW1lXCIsXG4gICAgZGVmYXVsdDogMC40XG59KTtcblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcblxuICAgIC8qdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMoZXZ0LngsIGV2dC55KTtcbiAgICB9KTsqL1xuXG4gICAgLy8gRHJhZyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5hcHAubW91c2UuZGlzYWJsZUNvbnRleHRNZW51KCk7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IDA7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJlc3VsdCcsIHRoaXMuaGFuZGxlUGlja2VyUmVzdWx0LCB0aGlzKTtcblxuICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IHBjLlZlYzIodGhpcy5jbGlja1N0YXJ0UG9pbnQueCAtIGV2dC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55IC0gZXZ0LnkpO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdzY3JvbGxpbmcnLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuY2xpY2tEb3duU3RhcnQgPCAodGhpcy5kcmFnVGltZSAqIDEwMDApKSB7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrU3RhcnRQb2ludCkge1xuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuZmlyZSgndmFsaWRDbGljaycsIHRoaXMuY2xpY2tTdGFydFBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnModGhpcy5jbGlja1N0YXJ0UG9pbnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBjb25zdCBjYW1lcmFFbnRpdHkgPSB0aGlzLmNhbWVyYUVudGl0eTtcbiAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmE7XG4gICAgY2FtZXJhQ29tcG9uZW50LnNjcmVlblRvV29ybGQoeCwgeSwgY2FtZXJhQ29tcG9uZW50LmZhckNsaXAsIHRoaXMucmF5LmRpcmVjdGlvbik7XG4gICAgdGhpcy5yYXkub3JpZ2luLmNvcHkoY2FtZXJhRW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgIHRoaXMucmF5LmRpcmVjdGlvbi5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5yYXksIHsgeCwgeSB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUGlja2VyUmVzdWx0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcykge1xuICAgIGlmIChwaWNrZWRFbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gcGlja2VkRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6bmF2aWdhdGlvbicsIG5lYXJlc3ROb2RlKTtcbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUZhY2FkZSB9ID0gcmVxdWlyZSgnLi4vR2FtZUZhY2FkZScpO1xuXG5leHBvcnQgY29uc3QgQ2Fjb2dlbkdhbWUgPSBwYy5jcmVhdGVTY3JpcHQoJ0NhY29nZW5HYW1lJyk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIFwiTWFwMVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Q2FzdCA9IGZ1bmN0aW9uIChyYXksIHNjcmVlblBvcykge1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFhYmIuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8TmF2aWdhdGlvbk5vZGU+fSBub2RlR3JpZCAtIEFycmF5IG9mIG5vZGVzIHJlcHJlc2VudGluZyBwb2ludHMgb24gdGhlIGdyaWQuXG4gKi9cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLnNldEdyaWQgPSBmdW5jdGlvbiAobm9kZUdyaWQpIHtcbiAgICB0aGlzLm5vZGVHcmlkID0gbm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldEdyaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldE5lYXJlc3ROb2RlID0gZnVuY3Rpb24gKHRhcmdldFBvaW50KSB7XG4gICAgbGV0IG5lYXJlc3ROb2RlID0gdGhpcy5ub2RlR3JpZFswXTtcbiAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5ub2RlR3JpZCkge1xuICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3JfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGlkLCB2aWV3Q29tcG9uZW50LCBwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgICAgIGxldCBub3RpZmljYXRpb25zID0gW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVFxuICAgICAgICBdO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmNvbmNhdChwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmZpcmUobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNjcmlwdEtleSBpbiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCwgc2NyaXB0S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbc2NyaXB0S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFUOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU3RhcnRDb21iYXQoKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgIH1cblxuICAgIHVwZGF0ZUN1cnJlbnROb2RlKG5ld05vZGUpIHtcbiAgICAgICAgLypjb25zdCBnYW1lQ2hhcmFjdGVyVk8gPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCkudm87XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUgPSBuZXdOb2RlO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUub2NjdXBpZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZygnTW92ZWQgdG8gbm9kZScpO1xuICAgICAgICBjb25zb2xlLmxvZyhuZXdOb2RlKTsqL1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8gU1RPUCAvLy8nKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KG5vZGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHlcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlcklkXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBJZFwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlclNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDRcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiaXNOUENcIiwge1xuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHRpdGxlOiBcImlzIE5QQ1wiLFxuICAgIGRlZmF1bHQ6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xufVxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUENcbiAgICB9O1xuXG4gICAgY29uc3QgY29tYmF0R3JvdXBDb21wb25lbnQgPSB0aGlzLmVudGl0eS5zY3JpcHRbJ0NvbWJhdEdyb3VwQ29tcG9uZW50J107XG4gICAgaWYgKGNvbWJhdEdyb3VwQ29tcG9uZW50KSB7XG4gICAgICAgIHByb3h5UGFyYW1zLmNvbWJhdEdyb3VwID0gY29tYmF0R3JvdXBDb21wb25lbnQuY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJQcm94eShuZXcgR2FtZUNoYXJhY3RlclByb3h5KHByb3h5UGFyYW1zKSk7XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNoYXJhY3Rlck1lZGlhdG9yKHRoaXMuY2hhcmFjdGVySWQsIHRoaXMuZW50aXR5LCB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSk7XG59O1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnNldFBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gcGF0aDtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMubW92ZUFsb25nUGF0aChkdCk7XG59XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubW92ZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChkdCkge1xuXG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dFBhdGhQb2ludCA9IHRoaXMubW92ZW1lbnRQYXRoW3RoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCwgZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkLCBkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQpO1xuICAgICAgICBjb25zdCBub2RlUG9pbnQgPSBuZXcgcGMuVmVjMyhuZXh0UGF0aFBvaW50LngsIG5leHRQYXRoUG9pbnQueSwgbmV4dFBhdGhQb2ludC56KTtcbiAgICAgICAgbmV3UG9zaXRpb24uc3ViMihub2RlUG9pbnQsIGxvY2FsUG9zKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubm9ybWFsaXplKCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm11bChzcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLmFkZChsb2NhbFBvcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihuZXdQb3NpdGlvbik7XG4gICAgICAgIHRoaXMubG9va0F0UG9pbnQobmV4dFBhdGhQb2ludCk7XG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb05leHRQYXRoID0gbmV3UG9zaXRpb24uZGlzdGFuY2Uobm9kZVBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8IDAuMTUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5tb3ZlbWVudFBhdGgucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdmaW5pc2hlZE1vdmUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCd1cGRhdGVDdXJyZW50Tm9kZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufSIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG59O1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTWFwR3JpZENyZWF0ZWQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IHZvID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCkudm87XG5cbiAgICBpZiAoIXZvLmN1cnJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgdm8uY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIHZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICAgICAgdm8uYWdyb0FyZWEgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHRoaXMuc2lnaHRSYW5nZSk7XG5cbiAgICB9XG59XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3ZlZFRvTm9kZSA9IGZ1bmN0aW9uIChpZCwgbm9kZSkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3Qgdm8gPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKS52bztcbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcblxuICAgIC8vIElnbm9yZSBpZiB0aGUgcGxheWVyIGlzbid0IGV4cGxvcmluZ1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZXBsYXlNb2RlICE9PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBhZ3JvTm9kZSBvZiB2by5hZ3JvQXJlYSkge1xuICAgICAgICBpZiAoYWdyb05vZGUuZXF1YWxzKG5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICAgICAgLy8gZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgVG9hc3RNZXNzYWdlTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJUb2FzdE1lc3NhZ2VNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCddLmFkZE1lc3NhZ2UoYXJnc1swXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFRvYXN0TWVzc2FnZU1lZGlhdG9yIH0gZnJvbSBcIi4vVG9hc3RNZXNzYWdlTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFRvYXN0TWVzc2FnZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVG9hc3RNZXNzYWdlQ29tcG9uZW50Jyk7XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21lc3NhZ2VUaW1lJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNZXNzYWdlIFRpbWUnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgVG9hc3RNZXNzYWdlTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn07XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgfVxufVxuXG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvd05leHRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWVbMF07XG5cbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBuZXh0TWVzc2FnZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9LCB0aGlzLm1lc3NhZ2VUaW1lICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBcIlwiO1xuXG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NldENhbWVyYVRhcmdldENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cbi8vIHBvc3RJbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVCwgdGhpcy5lbnRpdHkpO1xufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZW5kVHVybicsIHRoaXMuaGFuZGxlRW5kVHVybiwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRW5kVHVybihldnQpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgfSBmcm9tIFwiLi9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnKTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VuZFR1cm5CdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0VuZCBUdXJuIGJ1dHRvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVuZFR1cm5CdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmNsaWNrRW5kVHVybiwgdGhpcyk7XG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xpY2tFbmRUdXJuID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOmVuZFR1cm4nKTtcbn1cbiIsImV4cG9ydCBjb25zdCBDb21iYXRHcm91cENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQ29tYmF0R3JvdXBDb21wb25lbnQnKTtcblxuQ29tYmF0R3JvdXBDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb21iYXRHcm91cFwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDb21iYXQgR3JvdXBcIixcbiAgICBhcnJheTogdHJ1ZVxufSk7XG5cbkNvbWJhdEdyb3VwQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59OyIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5jb25zdCB7IFB1cmVNVkMgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQ2Fjb2dlbkdhbWUgfSBmcm9tICcuL3ZpZXcvQ2Fjb2dlbkdhbWUnO1xuXG5pbXBvcnQgeyBOYXZpZ2F0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IFRvYXN0TWVzc2FnZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tYmF0R3JvdXBDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9jb21iYXRHcm91cC9Db21iYXRHcm91cENvbXBvbmVudCc7XG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1haW4gc3RhcnRcIik7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=