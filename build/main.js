(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,a),!0}for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var l,p=d.length;for(h=0;h<p;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),u){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d[h].fn.apply(d[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],d=s.length;c<d;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},621:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Pt});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(434),a=i(917);pc.createScript("GameMapComponent").prototype.initialize=function(){},i(203);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameMapMediator"}constructor(t){super(c.NAME),this.subscribeNotification([n.i.CHANGE_SCENE_COMPLETE])}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case n.i.CHANGE_SCENE_COMPLETE:this.facade.retrieveProxy(a.u.NAME).vo,pc.Application.getApplication()}}}var h=i(99);const{GameMediator:d}=i(23),{Facade:u}=i(710);function l(t,e){console.log("Parse map");const i=pc.Application.getApplication().root.findByTag("navigation_floor");let o=[];const r=[];for(const t of i){const e=t.script.NavigationComponent;r.push(e);const i=p(t);e.setGrid(i)}for(const t of r)for(const e of t.connectedComponents){const i=e.script.NavigationComponent;f(t.getGrid(),i.getGrid()),o=o.concat(t.getGrid())}u.getInstance(t).registerProxy(new h.h(o)),u.getInstance(t).registerMediator(new c),u.getInstance(t).sendNotification(n.i.MAP_GRID_CREATED)}function p(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function f(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}const{Proxy:A}=i(710);class g extends A{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(g.NAME,t)}getDamage(t,e){console.log(this.vo);for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}}const{Facade:m}=i(710);function E(t,e){m.getInstance(t).registerProxy(new a.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;m.getInstance(t).registerProxy(new g(e))}}const{Facade:y}=i(710);function N(t,e,...i){const o=pc.Application.getApplication(),r=i[0];console.log("Changing scene "+r);const a=o.root.findByName("Root"),s=o.scenes.find(r);o.scenes.loadSceneHierarchy(s.url,(function(e,i){e?console.error(e):a&&a.destroy(),y.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),y.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r)}))}function M(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var C=i(958);const{Proxy:v}=i(710),{CombatVO:_}=i(201);class T extends v{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t){super(T.NAME,new _(t))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(C.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=M(t);for(;"end_round"===e[0];)e=M(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t))}}var P=i(448);const{Facade:b}=i(710);function O(t,e,...i){const o=i[0],r=b.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(a.u.NAME).updateGameStateType(P.gameplayModeTypes.COMBAT);const s=r.retrieveProxy(C.b.NAME+o),c=["player"].concat(o).concat(s.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e})),h=r.retrieveProxy(C.b.NAME+"player");for(const t of c)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,h.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,s.currentNode);const d=new T(c);r.registerProxy(d),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:S}=i(710);function x(t,e,...i){const n=S.getInstance(t),o=n.retrieveProxy(a.u.NAME),r=n.retrieveProxy(T.NAME);o.vo.gameplayMode===P.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:I}=i(710);function R(t,e,...i){const o=I.getInstance(t),r=o.retrieveProxy(a.u.NAME),s=o.retrieveProxy(T.NAME);r.vo.gameplayMode===P.gameplayModeTypes.COMBAT&&(s.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:w}=i(710);function D(t,e,...i){setTimeout((()=>{const e=w.getInstance(t),i=e.retrieveProxy(T.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}class k{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class L{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==k.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return k.ERROR}close(t){}exit(t){}}class G extends L{tick(t){for(const e of this.children)e.execute(t);return k.SUCCESS}}class V{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class H{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class U{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new H;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class F extends L{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==k.FAILURE)return i}return k.FAILURE}}class B extends L{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),k.SUCCESS}}class z extends L{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),k.SUCCESS}}class Y extends L{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),k.SUCCESS}}class K extends L{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(C.b.NAME+i).availableMovement>0?k.SUCCESS:k.FAILURE}}class W extends L{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(C.b.NAME+i).currentNode;return e.retrieveProxy(C.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?(console.log("Is adjacent"),k.SUCCESS):(console.log("Is not adjacent"),k.FAILURE)}}class q extends L{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==k.SUCCESS)return i===k.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return k.SUCCESS}}class j extends L{tick(t){const e=this.children[0];if(!e)return k.ERROR;let i=e.execute(t);return i==k.SUCCESS?i=k.FAILURE:i==k.FAILURE&&(i=k.SUCCESS),i}}class X extends L{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(C.b.NAME+i).isDead?k.SUCCESS:k.FAILURE}}class Q extends L{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),a=e.retrieveProxy(C.b.NAME+i),s=a.currentNode,c=e.retrieveProxy(C.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(c.length>0){let t=c.reduce(((t,e)=>$(s,t)<$(s,e)?t:e));const o=r.q.calculatePath(s,t);if(o&&o.length>0){const r=a.vo;for(;o.length>r.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),a.currentNode=t}}return a.availableMovement=0,k.SUCCESS}}function $(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class J extends L{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(C.b.NAME+i).isDead?k.SUCCESS:k.FAILURE}}class Z extends class{constructor(t){this.id="basicMeleeTree",this.blackboard=new V,this.tree=new U(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new G([new F([new q([new B,new j([new J]),new j([new X]),new F([new q([new W,new B,new z]),new q([new K,new B,new Q])])]),new Y])])}}const{Facade:tt}=i(710);function et(t,e,...i){const n=i[0],o=tt.getInstance(t),r=(o.retrieveProxy(h.h.NAME),o.retrieveProxy(C.b.NAME+n).currentNode);o.retrieveProxy(C.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(r))),(new Z).runCommands(o,n)}var it=i(710);function nt(t,e,...i){const o=it.Facade.getInstance(t),r=o.retrieveProxy(a.u.NAME),s=i[0];r.currentMode===P.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_NODE+"player",s):r.currentMode===P.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(T.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",s)}const{Facade:ot}=i(710);function rt(t,e,...i){const n=ot.getInstance(t),o=i[0],a=i[1],s=n.retrieveProxy(C.b.NAME+o),c=s.vo,h=r.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(a)&&at(n,s,a)}function at(t,e,i){const o=e.vo,a=r.q.calculatePath(o.currentNode,i);a&&a.length>0&&(o.availableMovement-=a.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,a))}function st(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function ct(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function ht(t,e,...i){const o=i[0],a=it.Facade.getInstance(t),s=a.retrieveProxy(C.b.NAME+o).vo,c=r.q.breadthFirstSearch(s.currentNode,s.availableMovement);a.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function dt(t,e,...i){const o=it.Facade.getInstance(t),r=i[0],s=i[1];if(o.retrieveProxy(C.b.NAME+r).currentNode=s,o.retrieveProxy(a.u.NAME).currentMode===P.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(T.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r))}}function ut(t,e,...i){const o=it.Facade.getInstance(t),r=i[0].script.GameCharacterComponent.characterId,s=o.retrieveProxy(a.u.NAME),c=o.retrieveProxy(C.b.NAME+r),h=o.retrieveProxy(C.b.NAME+"player");if(s.currentMode===P.gameplayModeTypes.EXPLORATION){const t=lt(h,c);t&&o.sendNotification(n.i.NAVIGATE_ALONG_PATH+"player",t)}else if(s.currentMode===P.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(T.NAME);if(!t||"player"!==t.activeParticipant)return;if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(h,c))"attack"===s.currentAction&&"attack"===s.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,h.id,c.id);else{const t=lt(h,c);t&&t.length-1<=h.vo.availableMovement?"attack"===s.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",c.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function lt(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=r.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=r.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}function pt(t,e,...i){const o=it.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(a.u.NAME);s.currentAction===r?s.currentAction="none":s.currentAction=r,o.sendNotification(n.i.DISPLAY_PLAYER_ACTION,s.currentAction)}function ft(t,e,...i){const o=it.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(C.b.NAME+r),s=i[1],c=o.retrieveProxy(C.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=gt(a.skill),d=gt(a.skill),u=o.retrieveProxy(g.NAME);if(h===d)o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${h}/${d})`);else if(h>d){const t=At(h,d),e=u.getDamage("sword",t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+s),o.sendNotification(n.i.KILL_GAME_CHARACTER,s)):o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`)}else{const t=At(d,h),e=u.getDamage("sword",t);a.applyDamage(e),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${e}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+r),o.sendNotification(n.i.KILL_GAME_CHARACTER,r)):o.sendNotification(n.i.DISPLAY_HIT+r)}const l=o.retrieveProxy(T.NAME);l&&"player"!==l.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),3e3)}function At(t,e){return t-e}function gt(t){return t+mt()+mt()}function mt(){return Math.round(6*Math.random())}var Et=i(321);const{Facade:yt}=i(710);function Nt(t,e,...i){const o=yt.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(C.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(Et.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function Mt(t,e,...i){const n=it.Facade.getInstance(t),o=i[0],r=n.retrieveProxy(C.b.NAME+o);r&&(r.currentNode.occupied=!1);const a=n.retrieveProxy(T.NAME);a&&a.removeCharacterFromCombat(o)}const{Facade:Ct}=i(710);function vt(t,e,...i){const n=Ct.getInstance(t);n.hasMediator(T.NAME)&&n.removeMediator(T.NAME),n.retrieveProxy(a.u.NAME).updateGameStateType(P.gameplayModeTypes.EXPLORATION)}function _t(t,e,...i){const n=it.Facade.getInstance(t);console.log("Determine next action");const o=i[0];(new Z).runCommands(n,o)}const{Facade:Tt}=i(710);class Pt extends Tt{static getInstance(t){return Tt.instanceMap[t]||(Tt.instanceMap[t]=new Pt(t)),Tt.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Pt.NAME+"StartUp"}startup(t){this.sendNotification(Pt.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Pt.STARTUP,E),this.registerCommand(n.i.CHANGE_SCENE,N),this.registerCommand(n.i.PARSE_GAMEMAP,l),this.registerCommand(n.i.START_COMBAT,O),this.registerCommand(n.i.NEXT_COMBAT_TURN,x),this.registerCommand(n.i.NEXT_COMBAT_ROUND,R),this.registerCommand(n.i.END_COMBAT_TURN,D),this.registerCommand(n.i.ENEMY_TURN,et),this.registerCommand(n.i.SELECTED_NODE,nt),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,rt),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,_t),this.registerCommand(n.i.SHOW_WALKABLE_AREA,st),this.registerCommand(n.i.HIDE_WALKABLE_AREA,ct),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,ht),this.registerCommand(n.i.FINISHED_MOVE,dt),this.registerCommand(n.i.SELECT_GAME_CHARACTER,ut),this.registerCommand(n.i.SET_PLAYER_ACTION,pt),this.registerCommand(n.i.RESOLVE_ATTACK,ft),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,Nt),this.registerCommand(n.i.KILL_GAME_CHARACTER,Mt),this.registerCommand(n.i.END_COMBAT,vt)}}},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get SET_PLAYER_ACTION(){return"SET_PLAYER_ACTION"}static get DISPLAY_PLAYER_ACTION(){return"DISPLAY_PLAYER_ACTION"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableAction=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died")}get id(){return this.vo.id}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableAction}set availableAction(t){this.vo.availableAction=t}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.currentNode=void 0,this.agroArea=void 0,this.initiative=2,this.maxMovement=6,this.maxActionsPerTurn=1,this.availableAction=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{}}}},99:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t){super(a.NAME),this.setData({mapGrid:t})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},23:(t,e,i)=>{i.r(e),i.d(e,{GameMediator:()=>r});var n=i(68);const{Mediator:o}=i(710);class r extends o{static get NAME(){return"GameMediator"}constructor(){console.log("Register mediator - GameMediator");const t=pc.Application.getApplication();super(r.NAME,t),this.subscribeNotification(n.i.APP_INITIALISED)}handleNotification(t,...e){switch(t){case n.i.APP_INITIALISED:}}}},442:(t,e,i)=>{var n=i(710),o=i(621),r=i(958),a=i(321);const s=pc.createScript("GameCharacterComponent");s.attributes.add("characterId",{type:"string",title:"Character Id"}),s.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),s.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),s.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),s.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),s.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),s.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},s.prototype.postInitialize=function(){this.movementPath=[],this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(a.y.NAME+this.characterId)&&this.facade.removeMediator(a.y.NAME+this.characterId),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const t=this.statsOverrides,e={id:this.characterId,isNPC:this.isNPC,advancedSkills:this.advancedSkills,...t};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),i=[];for(const e of t){const t=e.script.GameCharacterComponent.characterId;i.push(t)}e.combatGroup=i}this.facade.registerProxy(new r.b(e)),this.facade.registerMediator(new a.y(this.characterId,this.entity,this.preregisteredNotifications)),this.entity.animation.play("idle.glb",.1)},s.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},s.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},s.prototype.update=function(t){this.moveAlongPath(t)},s.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3,o=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(n.sub2(r,i),n.normalize(),n.mul(o),n.add(i),this.entity.setLocalPosition(n),this.lookAtPoint(e),n.distance(r)<.15){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}}},s.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},s.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},s.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},s.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(99),r=(i(917),i(442),i(434)),a=i(958);i(448);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode||(i.currentNode=t.findNearestNode(this.viewComponent.getLocalPosition()));break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const r=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(r);break;case n.i.DISPLAY_DEATH+this.id:this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){console.log("NAVIGATING TO NODE");const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode||(i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition()));const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},203:(t,e,i)=>{var n=i(710),o=i(621),r=i(68);i(917);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"InputLayerMediator"}constructor(t){super(s.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(r.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(r.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(r.i.INPUT_DRAG_MOUSE,t)}}const c=pc.createScript("GameCamera");c.attributes.add("distance",{type:"number",default:100,title:"Distance"}),c.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),c.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),c.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),c.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(d.NAME)&&this.facade.removeMediator(d.NAME),this.facade.registerMediator(new d(this.entity))},c.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},c.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},c.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},c.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:h}=i(710);class d extends h{static get NAME(){return"GameCameraMediator"}constructor(t){super(d.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE,r.i.INPUT_DRAG_MOUSE,r.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(e[0]);break;case r.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(e[0])}}}const u=pc.createScript("InputLayerComponent");u.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),u.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),u.prototype.window=window,u.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(s.NAME)&&this.facade.removeMediator(s.NAME),this.facade.registerMediator(new s(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{console.log(t),this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()}))),this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},u.prototype.onResize=function(){const t=this.app.graphicsDevice;console.log("size",t.width,t.height),t.width<t.height?this.entity.element.screen.screen.scaleBlend=1:this.entity.element.screen.screen.scaleBlend=0},u.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},u.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},u.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},u.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},u.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},u.prototype.update=function(t){this.processInputQueue()},u.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue)((t=n.entity).tags.has("gameCharacter")?2:t.tags.has("navigation")?1:-1)>i&&(e=n);e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),this.inputQueue=[]}var t},u.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},u.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(621),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(621),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e},i(442);var c=i(710),h=i(958),d=i(99),u=i(917),l=i(448);const p=pc.createScript("AgroGameCharacterComponent");p.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),p.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this)},p.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY),o=n.retrieveProxy(h.b.NAME+e),r=o.vo;if(!r.currentNode){const t=n.retrieveProxy(d.h.NAME);o.currentNode=t.findNearestNode(this.entity.getLocalPosition()),r.agroArea=a.q.breadthFirstSearch(r.currentNode,this.sightRange)}},p.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY),r=o.retrieveProxy(h.b.NAME+i).vo,a=o.retrieveProxy(u.u.NAME).vo,s=o.retrieveProxy(h.b.NAME+i);if(a.gameplayMode===l.gameplayModeTypes.EXPLORATION&&!s.isDead)for(const t of r.agroArea)t.equals(n)&&(this.entity.script.GameCharacterComponent.lookAtPoint(n),o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))};const{Mediator:f}=i(710);class A extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(A.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const g=pc.createScript("ToastMessageComponent");g.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),g.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),g.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(A.NAME)&&this.facade.removeMediator(A.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new A(this.entity))},g.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},g.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)},i(203);const{Mediator:m}=i(710);class E extends m{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(E.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const y=pc.createScript("PlayerCombatPanelComponent");y.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),y.prototype.initialize=function(){},y.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(E.NAME)&&this.facade.removeMediator(E.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new E(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},y.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const N=pc.createScript("HitboxComponent");N.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.model.enabled=!1},N.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},N.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:M}=i(710);class C extends M{static get NAME(){return"ActionPanelMediator"}constructor(t){super(C.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.DISPLAY_PLAYER_ACTION,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:actionButton",this.handleClickActionButton,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_PLAYER_ACTION:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleClickActionButton(t){this.facade.sendNotification(e.i.SET_PLAYER_ACTION,t)}}const v=pc.createScript("ActionButtonComponent");v.attributes.add("action",{type:"string",title:"Action"}),v.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),v.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),v.attributes.add("iconAsset",{type:"asset",title:"Icon Asset"}),v.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},v.prototype.handleClick=function(t){this.entity.parent.fire("click:actionButton",this.action)},v.prototype.handleChangeAction=function(t){this.highlightEntity.enabled=this.action===t};const _=pc.createScript("ActionPanelComponent");_.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),_.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.facade.registerMediator(new C(this.entity))},_.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};const{Facade:T}=i(710),{PureMVC:P}=i(710);new class{constructor(){console.log("Main start"),P.debug=!0,T.getInstance=t.GameFacade.getInstance,console.log(T),this.facade=T.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clN0YXR1cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmFzZU5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvUHJpb3JpdHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWVtU2VxdWVuY2UuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQ2hhcmFjdGVyQ29tbWFuZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvR2FtZUZhY2FkZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dhbWVDb21tYW5kcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9HYW1lTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0NhY29nZW5HYW1lLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvbkJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJQdXJlTVZDXzEiLCJWaWV3XzEiLCJDb250cm9sbGVyIiwia2V5IiwidGhpcyIsImNvbW1hbmRNYXAiLCJpbnN0YW5jZU1hcCIsIkVycm9yIiwibXVsdGl0b25LZXkiLCJsb2dnZXIiLCJQdXJlTVZDIiwiZGVidWciLCJsb2dDb21tYW5kIiwibG9nTm9uZSIsImluaXRpYWxpemVDb250cm9sbGVyIiwicmVtb3ZlQ29udHJvbGxlciIsImdldEluc3RhbmNlIiwicHJvdG90eXBlIiwicmVnaXN0ZXJDb21tYW5kIiwibm90aWZpY2F0aW9uTmFtZSIsImNvbW1hbmRDbGFzc1JlZiIsInZpZXciLCJyZWdpc3Rlck9ic2VydmVyIiwiZXhlY3V0ZUNvbW1hbmQiLCJoYXNDb21tYW5kIiwidW5kZWZpbmVkIiwicmVtb3ZlQ29tbWFuZCIsInJlbW92ZU9ic2VydmVyIiwiVmlldyIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImNvbW1hbmQiLCJfY29uc29sZUFyZ3MiLCJuYW1lIiwiYXBwbHkiLCJjb25jYXQiLCJDb250cm9sbGVyXzEiLCJNb2RlbF8xIiwiRmFjYWRlIiwibG9nTm90aWZpY2F0aW9uIiwiaW5pdGlhbGl6ZU5vdGlmaWVyIiwiaW5pdGlhbGl6ZUZhY2FkZSIsImhhc0NvcmUiLCJyZW1vdmVDb3JlIiwiTW9kZWwiLCJyZW1vdmVNb2RlbCIsInJlbW92ZVZpZXciLCJpbml0aWFsaXplTW9kZWwiLCJpbml0aWFsaXplVmlldyIsImNvbnRyb2xsZXIiLCJyZWdpc3RlclByb3h5IiwicHJveHkiLCJtb2RlbCIsInJldHJpZXZlUHJveHkiLCJwcm94eU5hbWUiLCJyZW1vdmVQcm94eSIsImhhc1Byb3h5IiwicmVnaXN0ZXJNZWRpYXRvciIsIm1lZGlhdG9yIiwicmV0cmlldmVNZWRpYXRvciIsIm1lZGlhdG9yTmFtZSIsInJlbW92ZU1lZGlhdG9yIiwic2xlZXBNZWRpYXRvciIsImF3YWtlTWVkaWF0b3IiLCJoYXNNZWRpYXRvciIsInNlbmROb3RpZmljYXRpb24iLCJfYSIsIm5vdGlmeU9ic2VydmVycyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiTm90aWZpZXJfMSIsIk1lZGlhdG9yIiwiX3N1cGVyIiwidmlld0NvbXBvbmVudCIsIl90aGlzIiwiY2FsbCIsImxvZ01lZGlhdG9yIiwic2xlZXBpbmciLCJzdWJzY3JpYmVkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXRNZWRpYXRvck5hbWUiLCJzZXRWaWV3Q29tcG9uZW50IiwiZ2V0Vmlld0NvbXBvbmVudCIsIm9uUmVnaXN0ZXIiLCJvblJlbW92ZSIsIm9uU2xlZXAiLCJvbkF3YWtlIiwic3Vic2NyaWJlTm90aWZpY2F0aW9uIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwiYWRkU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmVOb3RpZmljYXRpb24iLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJhY3Rpb24iLCJvbGROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsInNsaWNlIiwiY2hhbmdlZCIsImZvckVhY2giLCJub3RpZmljYXRpb24iLCJpbmRleE9mIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwiTm90aWZpZXIiLCJwcm94eU1hcCIsImdldFByb3h5TmFtZSIsIkZhY2FkZV8xIiwiZmFjYWRlIiwiZ2V0RmFjYWRlIiwiUHJveHkiLCJkYXRhIiwibG9nUHJveHkiLCJzZXREYXRhIiwiZ2V0RGF0YSIsImNvbnNvbGVBcmdzIiwiY29tbWFuZE5hbWUiLCJjb25zb2xlIiwibG9nIiwiRXZlbnRFbWl0dGVyIiwibWVkaWF0b3JNYXAiLCJldmVudEVtaXR0ZXIiLCJvYnNlcnZlck1ldGhvZCIsImNvbnRleHQiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiZW1pdCIsInJlZ2lzdGVyT2JzZXJ2ZXJzIiwib25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImJpbmQiLCJpc1NsZWVwaW5nIiwicmVtb3ZlT2JzZXJ2ZXJzIiwiaW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzEiLCJpbnRlcmVzdCIsImhhbmRsZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18yIiwiTWVkaWF0b3JfMSIsIlByb3h5XzEiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwiVHlwZUVycm9yIiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiaSIsImwiLCJlZSIsImxpc3RlbmVyQ291bnQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwibGVuIiwiaiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwibW9kdWxlIiwiTmF2aWdhdGlvbk5vZGUiLCJ4IiwieSIsInoiLCJjb25uZWN0ZWROb2RlcyIsIm9jY3VwaWVkIiwib3RoZXJOb2RlIiwiZmluZCIsIm5vZGUiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RlZE5vZGVJbmRleCIsImZpbmRJbmRleCIsImVxdWFscyIsInBjIiwiY3JlYXRlU2NyaXB0IiwiaW5pdGlhbGl6ZSIsIkdhbWVNYXBNZWRpYXRvciIsIm1hcEdyaWQiLCJzdXBlciIsIk5BTUUiLCJHYW1lQ29tbWFuZHMiLCJHYW1lU3RhdGVQcm94eSIsInZvIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsIkdhbWVNZWRpYXRvciIsInBhcnNlR2FtZU1hcENvbW1hbmQiLCJuYXZpZ2F0aW9uRmxvb3JzIiwicm9vdCIsImZpbmRCeVRhZyIsImNvbXBsZXRlZEdyaWQiLCJuYXZpZ2F0aW9uQ29tcG9uZW50cyIsImZsb29yRW50aXR5IiwibmF2Q29tcCIsInNjcmlwdCIsImZsb29yR3JpZCIsImNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yIiwic2V0R3JpZCIsIm5hdmlnYXRpb25Db21wIiwiY29ubmVjdGVkQ29tcEVudGl0eSIsImNvbm5lY3RlZENvbXBvbmVudHMiLCJjb25uZWN0ZWROYXZDb21wIiwiam9pblRvQWRqYWNlbnRHcmlkIiwiZ2V0R3JpZCIsIkdhbWVNYXBQcm94eSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsImdldExvY2FsU2NhbGUiLCJzbmFwcGVkV2lkdGgiLCJNYXRoIiwicm91bmQiLCJzbmFwcGVkQnJlYWR0aCIsInNuYXBwZWRYIiwic25hcHBlZFkiLCJzbmFwcGVkWiIsImVxdWFsc1BvaW50IiwiYWRkQ29ubmVjdGVkTm9kZSIsImdyaWRUb0pvaW4iLCJXZWFwb25zUHJveHkiLCJ3ZWFwb25OYW1lIiwiZGFtYWdlVGllciIsImNhdGVnb3J5S2V5IiwiY2F0ZWdvcnkiLCJkYW1hZ2UiLCJtaW4iLCJzdGFydHVwQ29tbWFuZCIsImFwcCIsIndlYXBvbnNEYXRhIiwiYXNzZXRzIiwicmVzb3VyY2UiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJsb2FkU2NlbmVIaWVyYXJjaHkiLCJ1cmwiLCJlcnIiLCJwYXJlbnQiLCJlcnJvciIsImRlc3Ryb3kiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudFByb3hpZXMiLCJNYXAiLCJwYXJ0aWNpcGFudCIsInBhcnRpY2lwYW50UHJveHkiLCJHYW1lQ2hhcmFjdGVyUHJveHkiLCJzZXQiLCJyb3VuZEluaXRpYXRpdmUiLCJuZXh0VHVybklkIiwic2hpZnQiLCJhY3RpdmVQYXJ0aWNpcGFudCIsInJlc2V0Q29tYmF0VHVyblN0YXRlIiwiaXNOUEMiLCJzZXRUaW1lb3V0IiwiaW5pdGlhdGl2ZXMiLCJjaGFyYWN0ZXJJZCIsImVudHJpZXMiLCJpbml0aWF0aXZlIiwic2h1ZmZsZWRJbml0aWF0aXZlIiwibmV4dFR1cm5DaGFyYWN0ZXJJZCIsImRlbGV0ZSIsImZpbHRlciIsImUiLCJzdGFydENvbWJhdENvbW1hbmQiLCJpbnN0aWdhdGluZ0NoYXJhY3RlcklkIiwidXBkYXRlR2FtZVN0YXRlVHlwZSIsImdhbWVwbGF5TW9kZVR5cGVzIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSIsImNsZWFuUGFydGljaXBhbnRzIiwiY29tYmF0R3JvdXAiLCJpdGVtIiwicG9zIiwic2VsZiIsInBsYXllclByb3h5IiwiY3VycmVudE5vZGUiLCJjb21iYXRQcm94eSIsIm5leHRDb21iYXRUdXJuQ29tbWFuZCIsImdhbWVTdGF0ZSIsImdhbWVwbGF5TW9kZSIsIm5leHRUdXJuIiwibmV4dENvbWJhdFJvdW5kQ29tbWFuZCIsIm5leHRSb3VuZCIsImVuZENvbWJhdFR1cm5Db21tYW5kIiwiQmVoYXZpb3VyU3RhdHVzIiwiQmFzZU5vZGUiLCJjaGlsZHJlbiIsImlkIiwicyIsImhleERpZ2l0cyIsInN1YnN0ciIsImpvaW4iLCJjcmVhdGVVVUlEIiwidGljayIsIl9lbnRlciIsImJsYWNrYm9hcmQiLCJ0cmVlIiwiX29wZW4iLCJzdGF0dXMiLCJfdGljayIsIlJVTk5JTkciLCJfY2xvc2UiLCJfZXhpdCIsImVudGVyTm9kZSIsImVudGVyIiwib3Blbk5vZGUiLCJvcGVuIiwidGlja05vZGUiLCJjbG9zZU5vZGUiLCJjbG9zZSIsImV4aXROb2RlIiwiZXhpdCIsIkVSUk9SIiwiTWFzdGVyTm9kZSIsImNoaWxkTm9kZSIsImV4ZWN1dGUiLCJTVUNDRVNTIiwiQmxhY2tib2FyZCIsImluaXRpYWxpc2UiLCJiYXNlTWVtb3J5IiwidHJlZU1lbW9yeSIsInRyZWVTY29wZSIsIm5vZGVNZW1vcnkiLCJvcGVuTm9kZXMiLCJub2RlU2NvcGUiLCJtZW1vcnkiLCJnZXRUcmVlTWVtb3J5IiwiZ2V0Tm9kZU1lbW9yeSIsImdldE1lbW9yeSIsIlRpY2siLCJub2RlQ291bnQiLCJ0YXJnZXQiLCJwb3AiLCJCZWhhdmlvdXJUcmVlIiwibGFzdE9wZW5Ob2RlcyIsImN1cnJPcGVuTm9kZXMiLCJzdGFydCIsIlByaW9yaXR5IiwiY2hpbGQiLCJGQUlMVVJFIiwiU2V0UGxheWVyQXNUYXJnZXQiLCJNZWxlZUF0dGFja1RhcmdldCIsImF0dGFja2VySWQiLCJkZWZlbmRlcklkIiwiRW5kQ29tYmF0VHVybiIsIkhhc01vdmVtZW50UmVtYWluaW5nIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJJc05leHRUb1BsYXllciIsImNoYXJhY3RlckN1cnJlbnROb2RlIiwic29tZSIsIm4iLCJNZW1TZXF1ZW5jZSIsIkludmVydGVyIiwiSXNUYXJnZXREZWFkIiwidGFyZ2V0SWQiLCJpc0RlYWQiLCJNb3ZlVG93YXJkc1RhcmdldCIsImNoYXJhY3RlclByb3h5IiwicmVzdWx0IiwicmVkdWNlIiwiYSIsImRpc3RhbmNlU3FydCIsInBhdGgiLCJBc3RhciIsInAxIiwicDIiLCJwb3ciLCJJc0RlYWQiLCJCYXNpY01lbGVlVHJlZSIsImVuZW15VHVybkNvbW1hbmQiLCJlbmVteUlkIiwiZW5lbXlDdXJyZW50Tm9kZSIsInJ1bkNvbW1hbmRzIiwic2VsZWN0ZWROb2RlQ29tbWFuZCIsImdhbWVTdGF0ZVByb3h5IiwiY3VycmVudE1vZGUiLCJjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQiLCJ0YXJnZXROb2RlIiwiZ2FtZUNoYXJhY3RlclByb3h5IiwibW92ZWFibGVOb2RlcyIsImhhbmRsZVZhbGlkTW92ZSIsInNob3dXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVOb2RlcyIsIndhbGthYmxlVGlsZUFzc2V0IiwiY29udGFpbmVyIiwidGlsZSIsImluc3RhbnRpYXRlIiwic2V0TG9jYWxQb3NpdGlvbiIsImFkZENoaWxkIiwiaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZVRpbGVFbnRpdGllcyIsIndhbGthYmxlVGlsZUVudGl0eSIsImF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIiwiZW5kTW92ZW1lbnRDb21tYW5kIiwiZW5kTm9kZSIsInNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJ0YXJnZXRDaGFyYWN0ZXJQcm94eSIsInBsYXllckNoYXJhY3RlclByb3h5IiwicGF0aFRvVGFyZ2V0IiwibmF2aWdhdGVUb0NoYXJhY3RlciIsInRhcmdldEN1cnJyZW50Tm9kZSIsImlzVGFyZ2V0QWRqYWNlbnQiLCJjdXJyZW50QWN0aW9uIiwidW5vY2N1cGllZE5vZGVzIiwicGxheWVyTm9kZSIsInNob3J0ZXN0UGF0aCIsIm90aGVyUGF0aCIsImNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQiLCJhY3Rpb25OYW1lIiwicmVzb2x2ZUF0dGFja0NvbW1hbmQiLCJhdHRhY2tlclByb3h5IiwiZGVmZW5kZXJQcm94eSIsImF0dGFja2VyUm9sbCIsInJvbGxBdHRhY2tTa2lsbCIsInNraWxsIiwiZGVmZW5kZXJSb2xsIiwid2VhcG9uc1Byb3h5IiwiZGV0ZXJtaW5lRGFtYWdlVGllciIsImdldERhbWFnZSIsImFwcGx5RGFtYWdlIiwiaGlnaERhbWFnZSIsImxvd0RhbWFnZSIsInJvbGxEaWNlIiwibW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQiLCJ1c2VNb3ZlbWVudCIsImNoYXJhY3Rlck1lZGlhdG9yIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZSIsInRoZW4iLCJraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJyZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0IiwiZW5kQ29tYmF0Q29tbWFuZCIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsIkdhbWVDaGFyYWN0ZXJWTyIsInBhcmFtcyIsIm1heE1vdmVtZW50IiwiYXZhaWxhYmxlQWN0aW9uIiwibWF4QWN0aW9uc1BlclR1cm4iLCJjb3N0IiwiZGFtYW5nZSIsImN1cnJlbnRTdGFtaW5hIiwibWF4aW11bVN0YW1pbmEiLCJhZ3JvQXJlYSIsIm1heFN0YW1pbmEiLCJtYXhMdWNrIiwiY3VycmVudEx1Y2siLCJhZHZhbmNlZFNraWxscyIsIkdhbWVNYXBWTyIsInRhcmdldFBvaW50IiwibmVhcmVzdE5vZGUiLCJkaXN0U3FydFRvTmVhcmVzdE5vZGUiLCJkaXN0VG9Ob2RlIiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5IiwiSW5maW5pdHkiLCJyYW5nZUxpbWl0IiwiZnJvbnRpZXIiLCJzZWFyY2hlZEFyZWEiLCJjYW1lRnJvbSIsInJhbmdlIiwibmV3RnJvbnRpZXIiLCJjdXJyZW50IiwibmV4dCIsImdvYWwiLCJjb3N0U29GYXIiLCJlbXB0eSIsIm5ld0Nvc3QiLCJoZXVyaXN0aWMiLCJwYXRoSXNCcm9rZW4iLCJwdDEiLCJwdDIiLCJhYnMiLCJHYW1lU3RhdGVWTyIsIm5ld1N0YXRlVHlwZSIsInNlbGVjdGVkQWN0aW9uIiwiRVhQTE9SQVRJT04iLCJDT01CQVQiLCJESUFMT0dVRSIsIkdhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJhdHRyaWJ1dGVzIiwiYWRkIiwidHlwZSIsInRpdGxlIiwiZGVmYXVsdCIsInNjaGVtYSIsInByZXJlZ2lzdGVyTm90aWZpY2F0aW9uIiwicHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMiLCJwb3N0SW5pdGlhbGl6ZSIsIm1vdmVtZW50UGF0aCIsInN0YXRzT3ZlcnJpZGVzIiwicHJveHlQYXJhbXMiLCJjb21iYXRHcm91cE5hbWUiLCJjb21yYWRlRW50aXRpZXMiLCJjb21yYWRlRW50aXR5IiwiY29tcmFkZUlkIiwiZW50aXR5IiwiYW5pbWF0aW9uIiwicGxheSIsInNldFBhdGgiLCJmaXJlIiwibG9vcCIsInN0b3BNb3ZlbWVudCIsInVwZGF0ZSIsImR0IiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5ld1Bvc2l0aW9uIiwiVmVjMyIsInNwZWVkIiwiY2hhcmFjdGVyU3BlZWQiLCJub2RlUG9pbnQiLCJzdWIyIiwibm9ybWFsaXplIiwibXVsIiwibG9va0F0UG9pbnQiLCJkaXN0YW5jZSIsInBvaW50IiwiZHgiLCJkeiIsImFuZ2xlVG9EZXN0IiwiYXRhbjIiLCJQSSIsInNldEV1bGVyQW5nbGVzIiwiYW5pbWF0ZURlYXRoIiwiYW5pbWF0ZUhpdCIsImFuaW1hdGVBdHRhY2siLCJ1cGRhdGVDdXJyZW50Tm9kZSIsImhhbmRsZUZpbmlzaGVkTW9kZSIsInNjcmlwdEtleSIsInNjcmlwdENvbXBvbmVudCIsImhhbmRsZVN0YXJ0Q29tYmF0IiwiZ2FtZU1hcFByb3h5IiwiZmluZE5lYXJlc3ROb2RlIiwiaGFuZGxlTmF2aWdhdGVUb05vZGUiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aCIsImhhbmRsZVNldENoYXJhY3RlclRvTm9kZSIsImxvb2tQb2ludCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibmV3Tm9kZSIsInNlYXJjaE5vZGUiLCJzZWFyY2hBcmVhIiwiSW5wdXRMYXllck1lZGlhdG9yIiwiaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciIsImhhbmRsZVBpY2tlck5hdmlnYXRpb24iLCJoYW5kbGVTY3JvbGxpbmciLCJjaGFyYWN0ZXJFbnRpdHkiLCJkaXJlY3Rpb24iLCJHYW1lQ2FtZXJhIiwiR2FtZUNhbWVyYU1lZGlhdG9yIiwic2V0Q2FtZXJhVGFyZ2V0IiwiY2FtZXJhVGFyZ2V0Iiwicm90YXRpb24iLCJnZXRFdWxlckFuZ2xlcyIsImNhbWVyYUhlaWdodCIsImhhbmRsZURyYWciLCJkcmFnTXVsdGlwbGllclgiLCJ2ZXJ0aWNhbFNjcm9sbCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsInRhcmdldFoiLCJjb3MiLCJjYW1lcmFUYXJnZXRQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwiY3VycmVudFBvcyIsInR3ZWVuWCIsInR3ZWVuWSIsInR3ZWVuWiIsImxvb2tBdCIsIklucHV0TGF5ZXJDb21wb25lbnQiLCJ3aW5kb3ciLCJyYXkiLCJSYXkiLCJpbnB1dFF1ZXVlIiwibW91c2UiLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJjbGlja0Rvd25TdGFydCIsImlzRHJhZ2dpbmciLCJoYW5kbGVQaWNrZXJSZXN1bHQiLCJFVkVOVF9NT1VTRU1PVkUiLCJvbk1vdXNlTW92ZSIsImVsZW1lbnQiLCJFVkVOVF9NT1VTRURPV04iLCJvbk1vdXNlRG93biIsIkVWRU5UX01PVVNFVVAiLCJvbk1vdXNlVXAiLCJ0b3VjaCIsIkVWRU5UX1RPVUNITU9WRSIsInRvdWNoRXZ0IiwidG91Y2hlcyIsIkVWRU5UX1RPVUNIU1RBUlQiLCJFVkVOVF9UT1VDSEVORCIsIm9uUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdyYXBoaWNzRGV2aWNlIiwid2lkdGgiLCJoZWlnaHQiLCJzY3JlZW4iLCJzY2FsZUJsZW5kIiwiRGF0ZSIsIm5vdyIsImNsaWNrU3RhcnRQb2ludCIsIlZlYzIiLCJkcmFnVGltZSIsImhhbmRsZVJheWNhc3RDb2xsaXNpb25zIiwiY2FtZXJhRW50aXR5IiwiY2FtZXJhQ29tcG9uZW50IiwiY2FtZXJhIiwic2NyZWVuVG9Xb3JsZCIsImZhckNsaXAiLCJvcmlnaW4iLCJjb3B5IiwiZ2V0UG9zaXRpb24iLCJzdWIiLCJwaWNrZWRFbnRpdHkiLCJoaXRQb3NpdGlvbiIsInNjcmVlblBvcyIsInNjcmVlblBvc2l0aW9uIiwicHJvY2Vzc0lucHV0UXVldWUiLCJoaWdoZXN0UHJpb3JpdHlQaWNrIiwiaGlnaGVzdFByaW9yaXR5IiwicGljayIsInRhZ3MiLCJwaWNrZWRHYW1lQ2hhcmFjdGVyIiwicGlja2VkTmF2aWdhdGlvbiIsImdldE5lYXJlc3ROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkNhY29nZW5HYW1lIiwiS0VZIiwiTmF2aWdhdGlvbkNvbXBvbmVudCIsInNjYWxlIiwiaGFsZkV4dGVudHMiLCJhYWJiIiwiQm91bmRpbmdCb3giLCJoYW5kbGVSYXlDYXN0IiwiZW5hYmxlZCIsImludGVyc2VjdHNSYXkiLCJub2RlR3JpZCIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsInNpZ2h0UmFuZ2UiLCJhZ3JvTm9kZSIsIlRvYXN0TWVzc2FnZU1lZGlhdG9yIiwiYWRkTWVzc2FnZSIsIlRvYXN0TWVzc2FnZUNvbXBvbmVudCIsIm1lc3NhZ2VRdWV1ZSIsImN1cnJlbnRUaW1lb3V0IiwibWVzc2FnZSIsInNob3dOZXh0TWVzc2FnZSIsIm5leHRNZXNzYWdlIiwibGFiZWxFbnRpdHkiLCJ0ZXh0IiwibWVzc2FnZVRpbWUiLCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIiwiaGFuZGxlRW5kVHVybiIsIlBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IiwiZW5kVHVybkJ1dHRvbiIsImNsaWNrRW5kVHVybiIsIkhpdGJveENvbXBvbmVudCIsImNlbnRlciIsIkFjdGlvblBhbmVsTWVkaWF0b3IiLCJoYW5kbGVDbGlja0FjdGlvbkJ1dHRvbiIsInNlbGVjdEFjdGlvbiIsIkFjdGlvbkJ1dHRvbkNvbXBvbmVudCIsImhpZ2hsaWdodEVudGl0eSIsImhhbmRsZUNoYW5nZUFjdGlvbiIsImhhbmRsZUNsaWNrIiwiQWN0aW9uUGFuZWxDb21wb25lbnQiLCJidXR0b24iLCJhY3Rpb25CdXR0b25zIiwic3RvcFByb3BhZ2F0aW9uIiwic3RhcnR1cCJdLCJtYXBwaW5ncyI6IndDQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUFZLEVBQVEsS0FDcEJDLEVBQVMsRUFBUSxLQUVqQkMsRUFBNEIsV0FDNUIsU0FBU0EsRUFBV0MsR0FFaEIsR0FEQUMsS0FBS0MsV0FBYSxHQUNkSCxFQUFXSSxZQUFZSCxHQUN2QixNQUFNLElBQUlJLE1BTEgsNERBT1hILEtBQUtJLFlBQWNMLEVBQ25CQyxLQUFLSyxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFRRSxXQUFhWixFQUFVVSxRQUFRRyxRQUN6RlQsS0FBS1UsdUJBcURULE9BbkRBWixFQUFXYSxpQkFBbUIsU0FBVVosVUFDN0JDLEtBQUtFLFlBQVlILElBRTVCRCxFQUFXYyxZQUFjLFNBQVViLEdBQy9CLE9BQUtBLEdBR0FDLEtBQUtFLFlBQVlILEtBQ2xCQyxLQUFLRSxZQUFZSCxHQUFPLElBQUlELEVBQVdDLElBRXBDQyxLQUFLRSxZQUFZSCxJQUxiLE1BT2ZELEVBQVdlLFVBQVVDLGdCQUFrQixTQUFVQyxFQUFrQkMsR0FDMURoQixLQUFLQyxXQUFXYyxJQUNqQmYsS0FBS2lCLEtBQUtDLGlCQUFpQkgsRUFBa0JmLEtBQUttQixlQUFnQm5CLE1BRXRFQSxLQUFLQyxXQUFXYyxHQUFvQkMsR0FFeENsQixFQUFXZSxVQUFVTyxXQUFhLFNBQVVMLEdBQ3hDLFlBQTZDTSxJQUF0Q3JCLEtBQUtDLFdBQVdjLElBRTNCakIsRUFBV2UsVUFBVVMsY0FBZ0IsU0FBVVAsR0FDdkNmLEtBQUtvQixXQUFXTCxLQUNoQmYsS0FBS2lCLEtBQUtNLGVBQWVSLEVBQWtCZixLQUFLbUIsZUFBZ0JuQixhQUN6REEsS0FBS0MsV0FBV2MsS0FHL0JqQixFQUFXZSxVQUFVSCxxQkFBdUIsV0FDeENWLEtBQUtpQixLQUFPcEIsRUFBTzJCLEtBQUtaLFlBQVlaLEtBQUtJLGNBRTdDTixFQUFXZSxVQUFVTSxlQUFpQixTQUFVSixHQUU1QyxJQURBLElBQUlVLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLQyxVQUFVRCxHQUU3QixJQUFJRyxFQUFVN0IsS0FBS0MsV0FBV2MsR0FDekJjLElBR0w3QixLQUFLSyxPQUFPUCxFQUFXZ0MsYUFBY2YsRUFBa0JjLEVBQVFFLE1BQy9ERixFQUFRRyxXQUFNLEVBQVEsQ0FBQ2hDLEtBQUtJLFlBQWFXLEdBQWtCa0IsT0FBT1IsTUFFdEUzQixFQUFXZ0MsYUFBZSxDQUN0QixHQUNBLHNCQUNBLHNCQUNBLHVDQUNBLHNCQUNBLHVCQUVKaEMsRUFBV0ksWUFBYyxHQUNsQkosRUE3RG9CLEdBK0QvQkosRUFBUUksV0FBYUEsRyxjQ2hFckJOLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUl1QyxFQUFlLEVBQVEsS0FDdkJDLEVBQVUsRUFBUSxLQUNsQnZDLEVBQVksRUFBUSxLQUNwQkMsRUFBUyxFQUFRLEtBRWpCdUMsRUFBd0IsV0FDeEIsU0FBU0EsRUFBT3JDLEdBQ1osR0FBSXFDLEVBQU9sQyxZQUFZSCxHQUNuQixNQUFNLElBQUlJLE1BSkgsOERBTVhILEtBQUtLLE9BQVNULEVBQVVVLFFBQVFDLE1BQVFYLEVBQVVVLFFBQVErQixnQkFBa0J6QyxFQUFVVSxRQUFRRyxRQUM5RlQsS0FBS3NDLG1CQUFtQnZDLEdBQ3hCQyxLQUFLdUMsbUJBNkdULE9BM0dBSCxFQUFPeEIsWUFBYyxTQUFVYixHQUMzQixPQUFLQSxHQUdBcUMsRUFBT2xDLFlBQVlILEtBQ3BCcUMsRUFBT2xDLFlBQVlILEdBQU8sSUFBSXFDLEVBQU9yQyxJQUVsQ3FDLEVBQU9sQyxZQUFZSCxJQUxmLE1BT2ZxQyxFQUFPSSxRQUFVLFNBQVV6QyxHQUN2QixZQUFpQ3NCLElBQTFCckIsS0FBS0UsWUFBWUgsSUFFNUJxQyxFQUFPSyxXQUFhLFNBQVUxQyxHQUNyQkMsS0FBS0UsWUFBWUgsS0FHdEJvQyxFQUFRTyxNQUFNQyxZQUFZNUMsR0FDMUJGLEVBQU8yQixLQUFLb0IsV0FBVzdDLEdBQ3ZCbUMsRUFBYXBDLFdBQVdhLGlCQUFpQlosVUFDbENDLEtBQUtFLFlBQVlILEtBRTVCcUMsRUFBT3ZCLFVBQVUwQixpQkFBbUIsV0FDaEN2QyxLQUFLNkMsa0JBQ0w3QyxLQUFLVSx1QkFDTFYsS0FBSzhDLGtCQUVUVixFQUFPdkIsVUFBVUMsZ0JBQWtCLFNBQVVDLEVBQWtCQyxHQUMzRGhCLEtBQUsrQyxXQUFXakMsZ0JBQWdCQyxFQUFrQkMsSUFFdERvQixFQUFPdkIsVUFBVVMsY0FBZ0IsU0FBVVAsR0FDdkNmLEtBQUsrQyxXQUFXekIsY0FBY1AsSUFFbENxQixFQUFPdkIsVUFBVU8sV0FBYSxTQUFVTCxHQUNwQyxPQUFPZixLQUFLK0MsV0FBVzNCLFdBQVdMLElBRXRDcUIsRUFBT3ZCLFVBQVVtQyxjQUFnQixTQUFVQyxHQUN2Q2pELEtBQUtrRCxNQUFNRixjQUFjQyxJQUU3QmIsRUFBT3ZCLFVBQVVzQyxjQUFnQixTQUFVQyxHQUN2QyxPQUFPcEQsS0FBS2tELE1BQU1DLGNBQWNDLElBRXBDaEIsRUFBT3ZCLFVBQVV3QyxZQUFjLFNBQVVELEdBQ3JDLE9BQUlwRCxLQUFLa0QsTUFDRWxELEtBQUtrRCxNQUFNRyxZQUFZRCxHQUUzQixNQUVYaEIsRUFBT3ZCLFVBQVV5QyxTQUFXLFNBQVVGLEdBQ2xDLE9BQU9wRCxLQUFLa0QsTUFBTUksU0FBU0YsSUFFL0JoQixFQUFPdkIsVUFBVTBDLGlCQUFtQixTQUFVQyxHQUMxQ3hELEtBQUtpQixLQUFLc0MsaUJBQWlCQyxJQUUvQnBCLEVBQU92QixVQUFVNEMsaUJBQW1CLFNBQVVDLEdBQzFDLE9BQU8xRCxLQUFLaUIsS0FBS3dDLGlCQUFpQkMsSUFFdEN0QixFQUFPdkIsVUFBVThDLGVBQWlCLFNBQVVELEdBQ3hDLE9BQU8xRCxLQUFLaUIsS0FBSzBDLGVBQWVELElBRXBDdEIsRUFBT3ZCLFVBQVUrQyxjQUFnQixTQUFVRixHQUN2QyxPQUFPMUQsS0FBS2lCLEtBQUsyQyxjQUFjRixJQUVuQ3RCLEVBQU92QixVQUFVZ0QsY0FBZ0IsU0FBVUgsR0FDdkMsT0FBTzFELEtBQUtpQixLQUFLNEMsY0FBY0gsSUFFbkN0QixFQUFPdkIsVUFBVWlELFlBQWMsU0FBVUosR0FDckMsT0FBTzFELEtBQUtpQixLQUFLNkMsWUFBWUosSUFFakN0QixFQUFPdkIsVUFBVWtELGlCQUFtQixTQUFVaEQsR0FFMUMsSUFEQSxJQUlJaUQsRUFKQXZDLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLQyxVQUFVRCxHQUc3QjFCLEtBQUtLLE9BQU8yQixNQUFNaEMsS0FBTSxDQUFDb0MsRUFBT04sYUFBY2YsR0FBa0JrQixPQUFPUixLQUN0RXVDLEVBQUtoRSxLQUFLaUIsTUFBTWdELGdCQUFnQmpDLE1BQU1nQyxFQUFJLENBQUNqRCxHQUFrQmtCLE9BQU9SLEtBRXpFVyxFQUFPdkIsVUFBVXlCLG1CQUFxQixTQUFVdkMsR0FDNUNDLEtBQUtJLFlBQWNMLEdBRXZCcUMsRUFBT3ZCLFVBQVVILHFCQUF1QixXQUNoQ1YsS0FBSytDLGFBR1QvQyxLQUFLK0MsV0FBYWIsRUFBYXBDLFdBQVdjLFlBQVlaLEtBQUtJLGVBRS9EZ0MsRUFBT3ZCLFVBQVVnQyxnQkFBa0IsV0FDM0I3QyxLQUFLa0QsUUFHVGxELEtBQUtrRCxNQUFRZixFQUFRTyxNQUFNOUIsWUFBWVosS0FBS0ksZUFFaERnQyxFQUFPdkIsVUFBVWlDLGVBQWlCLFdBQzFCOUMsS0FBS2lCLE9BR1RqQixLQUFLaUIsS0FBT3BCLEVBQU8yQixLQUFLWixZQUFZWixLQUFLSSxlQUU3Q2dDLEVBQU9OLGFBQWUsQ0FDbEIsR0FDQSxzQkFDQSxzQkFDQSx1Q0FDQSxzQkFDQSx1QkFFSk0sRUFBT2xDLFlBQWMsR0FDZGtDLEVBcEhnQixHQXNIM0IxQyxFQUFRMEMsT0FBU0EsRyxvQkMvSGpCLElBQ1E4QixFQURKQyxFQUFhbkUsTUFBUUEsS0FBS21FLFlBQ3RCRCxFQUFnQixTQUFVRSxFQUFHQyxHQUk3QixPQUhBSCxFQUFnQjFFLE9BQU84RSxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVSixFQUFHQyxHQUFLRCxFQUFFRyxVQUFZRixJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUksS0FBS0osRUFBT0EsRUFBRUssZUFBZUQsS0FBSUwsRUFBRUssR0FBS0osRUFBRUksTUFDcERMLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNNLElBQU8zRSxLQUFLNEUsWUFBY1IsRUFEbkNGLEVBQWNFLEVBQUdDLEdBRWpCRCxFQUFFdkQsVUFBa0IsT0FBTndELEVBQWE3RSxPQUFPcUYsT0FBT1IsSUFBTU0sRUFBRzlELFVBQVl3RCxFQUFFeEQsVUFBVyxJQUFJOEQsS0FHdkZuRixPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJbUYsRUFBYSxFQUFRLEtBQ3JCbEYsRUFBWSxFQUFRLEtBRXBCbUYsRUFBMEIsU0FBVUMsR0FFcEMsU0FBU0QsRUFBU3JCLEVBQWN1QixHQUM1QixJQUFJQyxFQUFRRixFQUFPRyxLQUFLbkYsT0FBU0EsS0FPakMsT0FOQWtGLEVBQU03RSxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFROEUsWUFBY3hGLEVBQVVVLFFBQVFHLFFBQzNGeUUsRUFBTXhCLGFBQWVBLEdBTmxCLFdBT0h3QixFQUFNRCxjQUFnQkEsRUFDdEJDLEVBQU1HLFVBQVcsRUFDakJILEVBQU1JLHdCQUEwQixHQUNoQ0osRUFBTUssK0JBQWlDLEtBQ2hDTCxFQXNGWCxPQS9GQWYsRUFBVVksRUFBVUMsR0FXcEJ4RixPQUFPQyxlQUFlc0YsRUFBU2xFLFVBQVcsZ0JBQWlCLENBQ3ZEMkUsSUFBSyxXQUNELE9BQU94RixLQUFLc0YseUJBRWhCRyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJYLEVBQVNsRSxVQUFVOEUsZ0JBQWtCLFdBQ2pDLE9BQU8zRixLQUFLMEQsY0FFaEJxQixFQUFTbEUsVUFBVStFLGlCQUFtQixTQUFVWCxHQUM1Q2pGLEtBQUtpRixjQUFnQkEsR0FFekJGLEVBQVNsRSxVQUFVZ0YsaUJBQW1CLFdBQ2xDLE9BQU83RixLQUFLaUYsZUFFaEJGLEVBQVNsRSxVQUFVaUYsV0FBYSxTQUFVUCxHQUN0Q3ZGLEtBQUt1RiwrQkFBaUNBLEVBQ3RDdkYsS0FBS0ssT0FBTzBFLEVBQVNqRCxhQUFjOUIsS0FBSzRFLFlBQVk3QyxLQUFNLGFBRTlEZ0QsRUFBU2xFLFVBQVVrRixTQUFXLFdBQzFCL0YsS0FBS3VGLCtCQUFpQyxLQUN0Q3ZGLEtBQUtLLE9BQU8wRSxFQUFTakQsYUFBYzlCLEtBQUs0RSxZQUFZN0MsS0FBTSxXQUU5RGdELEVBQVNsRSxVQUFVbUYsUUFBVSxXQUN6QmhHLEtBQUtxRixVQUFXLEVBQ2hCckYsS0FBS0ssT0FBTzBFLEVBQVNqRCxhQUFjOUIsS0FBSzRFLFlBQVk3QyxLQUFNLFVBRTlEZ0QsRUFBU2xFLFVBQVVvRixRQUFVLFdBQ3pCakcsS0FBS3FGLFVBQVcsRUFDaEJyRixLQUFLSyxPQUFPMEUsRUFBU2pELGFBQWM5QixLQUFLNEUsWUFBWTdDLEtBQU0sVUFFOUR2QyxPQUFPQyxlQUFlc0YsRUFBU2xFLFVBQVcsYUFBYyxDQUNwRDJFLElBQUssV0FDRCxPQUFPeEYsS0FBS3FGLFVBRWhCSSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJYLEVBQVNsRSxVQUFVcUYsc0JBQXdCLFNBQVVuRixHQUNqRGYsS0FBS21HLG1CQUFtQnBGLEVBQWtCZixLQUFLb0csa0JBRW5EckIsRUFBU2xFLFVBQVV3Rix3QkFBMEIsU0FBVXRGLEdBQ25EZixLQUFLbUcsbUJBQW1CcEYsRUFBa0JmLEtBQUtzRyxxQkFFbkR2QixFQUFTbEUsVUFBVXNGLG1CQUFxQixTQUFVcEYsRUFBa0J3RixHQUNoRSxJQUFJckIsRUFBUWxGLEtBQ1J3RyxFQUFtQnhHLEtBQUt5RyxjQUFjQyxRQUN0Q0MsR0FBVSxFQUNWNUYsYUFBNEJ5RCxNQUM1QnpELEVBQWlCNkYsU0FBUSxTQUFVQyxHQUMvQkYsRUFBVUosRUFBT3BCLEtBQUtELEVBQU8yQixJQUFpQkYsS0FJbERBLEVBQVVKLEVBQU9wQixLQUFLbkYsS0FBTWUsR0FFNUI0RixHQUFXM0csS0FBS3VGLGdDQUNoQnZGLEtBQUt1RiwrQkFBK0J2RixLQUFNd0csSUFHbER6QixFQUFTbEUsVUFBVXVGLGdCQUFrQixTQUFVUyxHQUMzQyxPQUFrRCxJQUE5QzdHLEtBQUt5RyxjQUFjSyxRQUFRRCxLQUMzQjdHLEtBQUt5RyxjQUFjTSxLQUFLRixJQUNqQixJQUlmOUIsRUFBU2xFLFVBQVV5RixtQkFBcUIsU0FBVU8sR0FDOUMsSUFBSUcsRUFBUWhILEtBQUt5RyxjQUFjSyxRQUFRRCxHQUN2QyxPQUFlLElBQVhHLElBQ0FoSCxLQUFLeUcsY0FBY1EsT0FBT0QsRUFBTyxJQUMxQixJQUlmakMsRUFBU2pELGFBQWUsQ0FDcEIsR0FDQSxzQkFDQSxzQkFDQSx1Q0FDQSxzQkFDQSx1QkFFR2lELEVBaEdrQixDQWlHM0JELEVBQVdvQyxVQUNieEgsRUFBUXFGLFNBQVdBLEcsWUNuSG5CdkYsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFDSStDLEVBQXVCLFdBQ3ZCLFNBQVNBLEVBQU0zQyxHQUVYLEdBREFDLEtBQUttSCxTQUFXLEdBQ1p6RSxFQUFNeEMsWUFBWUgsR0FDbEIsTUFBTSxJQUFJSSxNQUxILDZEQU9YSCxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBSzZDLGtCQW9DVCxPQWxDQUgsRUFBTTlCLFlBQWMsU0FBVWIsR0FDMUIsT0FBS0EsR0FHQUMsS0FBS0UsWUFBWUgsS0FDbEJDLEtBQUtFLFlBQVlILEdBQU8sSUFBSTJDLEVBQU0zQyxJQUUvQkMsS0FBS0UsWUFBWUgsSUFMYixNQU9mMkMsRUFBTUMsWUFBYyxTQUFVNUMsVUFDbkJDLEtBQUtFLFlBQVlILElBRTVCMkMsRUFBTTdCLFVBQVVtQyxjQUFnQixTQUFVQyxHQUN0Q0EsRUFBTVgsbUJBQW1CdEMsS0FBS0ksYUFDOUJKLEtBQUttSCxTQUFTbEUsRUFBTW1FLGdCQUFrQm5FLEVBQ3RDQSxFQUFNNkMsY0FFVnBELEVBQU03QixVQUFVc0MsY0FBZ0IsU0FBVUMsR0FDdEMsT0FBT3BELEtBQUttSCxTQUFTL0QsSUFFekJWLEVBQU03QixVQUFVeUMsU0FBVyxTQUFVRixHQUNqQyxZQUFvQy9CLElBQTdCckIsS0FBS21ILFNBQVMvRCxJQUV6QlYsRUFBTTdCLFVBQVV3QyxZQUFjLFNBQVVELEdBQ3BDLEdBQUlwRCxLQUFLbUgsU0FBUy9ELEdBQVksQ0FDMUIsSUFBSUgsRUFBUWpELEtBQUttSCxTQUFTL0QsR0FHMUIsT0FGQUgsRUFBTThDLGtCQUNDL0YsS0FBS21ILFNBQVMvRCxHQUNkSCxFQUVYLE9BQU8sTUFFWFAsRUFBTTdCLFVBQVVnQyxnQkFBa0IsYUFDbENILEVBQU14QyxZQUFjLEdBQ2J3QyxFQTNDZSxHQTZDMUJoRCxFQUFRZ0QsTUFBUUEsRyxjQy9DaEJsRCxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUl0RCxJQUFJMEgsRUFBVyxFQUFRLEtBRW5CSCxFQUEwQixXQUMxQixTQUFTQSxLQXNCVCxPQXBCQUEsRUFBU3JHLFVBQVV5QixtQkFBcUIsU0FBVXZDLEdBQzlDQyxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBS3NILE9BQVN0SCxLQUFLdUgsYUFFdkJMLEVBQVNyRyxVQUFVa0QsaUJBQW1CLFNBQVVoRCxHQUU1QyxJQURBLElBSUlpRCxFQUpBdkMsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUtDLFVBQVVDLE9BQVFGLElBQ3BDRCxFQUFLQyxFQUFLLEdBQUtDLFVBQVVELEdBR3pCMUIsS0FBS3NILFNBQ0p0RCxFQUFLaEUsS0FBS3NILFFBQVF2RCxpQkFBaUIvQixNQUFNZ0MsRUFBSSxDQUFDakQsR0FBa0JrQixPQUFPUixLQUdoRnlGLEVBQVNyRyxVQUFVMEcsVUFBWSxXQUMzQixHQUF5QixPQUFyQnZILEtBQUtJLFlBQ0wsTUFBTSxJQUFJRCxNQXBCSCxzREFzQlgsT0FBT2tILEVBQVNqRixPQUFPeEIsWUFBWVosS0FBS0ksY0FFckM4RyxFQXZCa0IsR0F5QjdCeEgsRUFBUXdILFNBQVdBLEcsb0JDL0JuQixJQUNRaEQsRUFESkMsRUFBYW5FLE1BQVFBLEtBQUttRSxZQUN0QkQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0IxRSxPQUFPOEUsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUosRUFBR0MsR0FBS0QsRUFBRUcsVUFBWUYsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlJLEtBQUtKLEVBQU9BLEVBQUVLLGVBQWVELEtBQUlMLEVBQUVLLEdBQUtKLEVBQUVJLE1BQ3BETCxFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTTSxJQUFPM0UsS0FBSzRFLFlBQWNSLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRXZELFVBQWtCLE9BQU53RCxFQUFhN0UsT0FBT3FGLE9BQU9SLElBQU1NLEVBQUc5RCxVQUFZd0QsRUFBRXhELFVBQVcsSUFBSThELEtBR3ZGbkYsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFJdEQsSUFBSW1GLEVBQWEsRUFBUSxLQUNyQmxGLEVBQVksRUFBUSxLQUVwQjRILEVBQXVCLFNBQVV4QyxHQUVqQyxTQUFTd0MsRUFBTXBFLEVBQVdxRSxHQUN0QixJQUFJdkMsRUFBUUYsRUFBT0csS0FBS25GLE9BQVNBLEtBTWpDLE9BTEFrRixFQUFNOUIsVUFBWUEsR0FMZixRQU1IOEIsRUFBTTdFLE9BQVNULEVBQVVVLFFBQVFDLE1BQVFYLEVBQVVVLFFBQVFvSCxTQUFXOUgsRUFBVVUsUUFBUUcsUUFDcEZnSCxHQUNBdkMsRUFBTXlDLFFBQVFGLEdBRVh2QyxFQXlCWCxPQWpDQWYsRUFBVXFELEVBQU94QyxHQVVqQndDLEVBQU0zRyxVQUFVdUcsYUFBZSxXQUMzQixPQUFPcEgsS0FBS29ELFdBRWhCb0UsRUFBTTNHLFVBQVU4RyxRQUFVLFNBQVVGLEdBQ2hDekgsS0FBS3lILEtBQU9BLEdBRWhCRCxFQUFNM0csVUFBVStHLFFBQVUsV0FDdEIsT0FBTzVILEtBQUt5SCxNQUVoQkQsRUFBTTNHLFVBQVVpRixXQUFhLFdBQ3pCOUYsS0FBS0ssT0FBT21ILEVBQU0xRixhQUFjOUIsS0FBSzRFLFlBQVk3QyxLQUFNLGFBRTNEeUYsRUFBTTNHLFVBQVVrRixTQUFXLFdBQ3ZCL0YsS0FBS0ssT0FBT21ILEVBQU0xRixhQUFjOUIsS0FBSzRFLFlBQVk3QyxLQUFNLFdBRTNEeUYsRUFBTTFGLGFBQWUsQ0FDakIsR0FDQSxzQkFDQSxzQkFDQSx1Q0FDQSxzQkFDQSx1QkFFRzBGLEVBbENlLENBbUN4QjFDLEVBQVdvQyxVQUNieEgsRUFBUThILE1BQVFBLEcsWUN4RGhCaEksT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSVcsRUFBeUIsV0FDekIsU0FBU0EsS0E2QlQsT0EzQkFBLEVBQVFFLFdBQWEsU0FBVXFILEVBQWE5RyxFQUFrQitHLEdBQzFERCxFQUFZLEdBQUssWUFBYzlHLEVBQW1CLFFBQVUrRyxFQUFjLFVBQzFFQyxRQUFRQyxJQUFJaEcsTUFBTStGLFFBQVNGLElBRS9CdkgsRUFBUStCLGdCQUFrQixTQUFVd0YsRUFBYTlHLEdBRTdDLElBREEsSUFBSVUsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUtDLFVBQVVDLE9BQVFGLElBQ3BDRCxFQUFLQyxFQUFLLEdBQUtDLFVBQVVELEdBRTdCbUcsRUFBWSxHQUFLLFlBQWM5RyxFQUFtQixZQUFjVSxFQUFPLFlBQ3ZFc0csUUFBUUMsSUFBSWhHLE1BQU0rRixRQUFTRixJQUUvQnZILEVBQVE4RSxZQUFjLFNBQVV5QyxFQUFhOUYsRUFBTXdFLEdBQy9Dc0IsRUFBWSxHQUFLLFlBQWM5RixFQUFPLEtBQU93RSxFQUFTLFVBQ3REd0IsUUFBUUMsSUFBSWhHLE1BQU0rRixRQUFTRixJQUUvQnZILEVBQVFvSCxTQUFXLFNBQVVHLEVBQWE5RixFQUFNd0UsR0FDNUNzQixFQUFZLEdBQUssWUFBYzlGLEVBQU8sS0FBT3dFLEVBQVMsVUFDdER3QixRQUFRQyxJQUFJaEcsTUFBTStGLFFBQVNGLElBRS9CdkgsRUFBUUcsUUFBVSxTQUFVb0gsR0FFeEIsSUFEQSxJQUFJcEcsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUtDLFVBQVVDLE9BQVFGLElBQ3BDRCxFQUFLQyxFQUFLLEdBQUtDLFVBQVVELElBR2pDcEIsRUFBUUMsT0FBUSxFQUNURCxFQTlCaUIsR0FnQzVCWixFQUFRWSxRQUFVQSxHLGNDakNsQmQsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSXNJLEVBQWUsRUFBUSxLQUV2QnpHLEVBQXNCLFdBQ3RCLFNBQVNBLEVBQUt6QixHQUdWLEdBRkFDLEtBQUtrSSxZQUFjLEdBQ25CbEksS0FBS21JLGFBQWUsSUFBSUYsRUFDcEJ6RyxFQUFLdEIsWUFBWUgsR0FDakIsTUFBTSxJQUFJSSxNQU5ILDREQVFYSCxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBSzhDLGlCQTZHVCxPQTNHQXRCLEVBQUtaLFlBQWMsU0FBVWIsR0FDekIsT0FBS0EsR0FHQUMsS0FBS0UsWUFBWUgsS0FDbEJDLEtBQUtFLFlBQVlILEdBQU8sSUFBSXlCLEVBQUt6QixJQUU5QkMsS0FBS0UsWUFBWUgsSUFMYixNQU9meUIsRUFBS29CLFdBQWEsU0FBVTdDLFVBQ2pCQyxLQUFLRSxZQUFZSCxJQUU1QnlCLEVBQUtYLFVBQVVVLGVBQWlCLFNBQVVSLEVBQWtCcUgsRUFBZ0JDLEdBQ3hFckksS0FBS21JLGFBQWFHLGVBQWV2SCxFQUFrQnFILEVBQWdCQyxJQUV2RTdHLEVBQUtYLFVBQVVLLGlCQUFtQixTQUFVSCxFQUFrQnFILEVBQWdCQyxHQUMxRXJJLEtBQUttSSxhQUFhSSxHQUFHeEgsRUFBa0JxSCxFQUFnQkMsSUFFM0Q3RyxFQUFLWCxVQUFVb0QsZ0JBQWtCLFNBQVVsRCxHQUV2QyxJQURBLElBSUlpRCxFQUpBdkMsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUtDLFVBQVVDLE9BQVFGLElBQ3BDRCxFQUFLQyxFQUFLLEdBQUtDLFVBQVVELElBRzVCc0MsRUFBS2hFLEtBQUttSSxjQUFjSyxLQUFLeEcsTUFBTWdDLEVBQUksQ0FBQ2pELEVBQWtCQSxHQUFrQmtCLE9BQU9SLEtBRXhGRCxFQUFLWCxVQUFVMEMsaUJBQW1CLFNBQVVDLEdBQ3BDeEQsS0FBS2tJLFlBQVkxRSxFQUFTbUMscUJBRzlCbkMsRUFBU2xCLG1CQUFtQnRDLEtBQUtJLGFBRWpDSixLQUFLa0ksWUFBWTFFLEVBQVNtQyxtQkFBcUJuQyxFQUMvQ3hELEtBQUt5SSxrQkFBa0JqRixHQUN2QkEsRUFBU3NDLFdBQVc5RixLQUFLMEkseUNBQXlDQyxLQUFLM0ksT0FDdkV3RCxFQUFTeUMsWUFFYnpFLEVBQUtYLFVBQVVnRCxjQUFnQixTQUFVSCxHQUNyQyxJQUFJRixFQUFXeEQsS0FBS2tJLFlBQVl4RSxHQUNoQyxHQUFJRixFQUFVLENBQ1YsSUFBS0EsRUFBU29GLFdBQ1YsT0FBT3BGLEVBRVh4RCxLQUFLeUksa0JBQWtCakYsR0FFdkJBLEVBQVN5QyxVQUViLE9BQU96QyxHQUVYaEMsRUFBS1gsVUFBVTRDLGlCQUFtQixTQUFVQyxHQUN4QyxPQUFPMUQsS0FBS2tJLFlBQVl4RSxJQUU1QmxDLEVBQUtYLFVBQVU4QyxlQUFpQixTQUFVRCxHQUN0QyxJQUFJRixFQUFXeEQsS0FBS2tJLFlBQVl4RSxHQVNoQyxPQVJJRixJQUNBeEQsS0FBSzZJLGdCQUFnQnJGLFVBRWR4RCxLQUFLa0ksWUFBWXhFLEdBQ3hCRixFQUFTd0MsVUFFVHhDLEVBQVN1QyxZQUVOdkMsR0FFWGhDLEVBQUtYLFVBQVUrQyxjQUFnQixTQUFVRixHQUNyQyxJQUFJRixFQUFXeEQsS0FBS2tJLFlBQVl4RSxHQUNoQyxHQUFJRixFQUFVLENBQ1YsR0FBSUEsRUFBU29GLFdBQ1QsT0FBT3BGLEVBRVh4RCxLQUFLNkksZ0JBQWdCckYsR0FFckJBLEVBQVN3QyxVQUViLE9BQU94QyxHQUVYaEMsRUFBS1gsVUFBVWlELFlBQWMsU0FBVUosR0FDbkMsWUFBMENyQyxJQUFuQ3JCLEtBQUtrSSxZQUFZeEUsSUFFNUJsQyxFQUFLWCxVQUFVaUMsZUFBaUIsYUFDaEN0QixFQUFLWCxVQUFVZ0ksZ0JBQWtCLFNBQVVyRixFQUFVc0YsR0FFakQsSUFBSUMsRUFBd0JELEdBQWF0RixFQUFTaUQsY0FDbEQsR0FBSXNDLEVBQXNCbkgsT0FBUyxFQUMvQixJQUFLLElBQUlGLEVBQUssRUFBR3NILEVBQTBCRCxFQUF1QnJILEVBQUtzSCxFQUF3QnBILE9BQVFGLElBQU0sQ0FDekcsSUFBSXVILEVBQVdELEVBQXdCdEgsR0FFdkMxQixLQUFLdUIsZUFBZTBILEVBQVV6RixFQUFTMEYsbUJBQW9CMUYsS0FJdkVoQyxFQUFLWCxVQUFVNEgsa0JBQW9CLFNBQVVqRixFQUFVc0YsR0FFbkQsSUFBSUMsRUFBd0JELEdBQWF0RixFQUFTaUQsY0FFbEQsR0FBSXNDLEVBQXNCbkgsT0FBUyxFQUMvQixJQUFLLElBQUlGLEVBQUssRUFBR3lILEVBQTBCSixFQUF1QnJILEVBQUt5SCxFQUF3QnZILE9BQVFGLElBQU0sQ0FDekcsSUFBSXVILEVBQVdFLEVBQXdCekgsR0FDdkMxQixLQUFLa0IsaUJBQWlCK0gsRUFBVXpGLEVBQVMwRixtQkFBb0IxRixLQUl6RWhDLEVBQUtYLFVBQVU2SCx5Q0FBMkMsU0FBVWxGLEVBQVVnRCxHQUMxRXhHLEtBQUs2SSxnQkFBZ0JyRixFQUFVZ0QsR0FDL0J4RyxLQUFLeUksa0JBQWtCakYsSUFFM0JoQyxFQUFLdEIsWUFBYyxHQUNac0IsRUFySGMsR0F1SHpCOUIsRUFBUThCLEtBQU9BLEcsY0MxSGZoQyxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJdUMsRUFBZSxFQUFRLEtBQzNCeEMsRUFBUUksV0FBYW9DLEVBQWFwQyxXQUNsQyxJQUFJdUgsRUFBVyxFQUFRLEtBQ3ZCM0gsRUFBUTBDLE9BQVNpRixFQUFTakYsT0FDMUIsSUFBSWdILEVBQWEsRUFBUSxLQUN6QjFKLEVBQVFxRixTQUFXcUUsRUFBV3JFLFNBQzlCLElBQUk1QyxFQUFVLEVBQVEsS0FDdEJ6QyxFQUFRZ0QsTUFBUVAsRUFBUU8sTUFDeEIsSUFBSW9DLEVBQWEsRUFBUSxLQUN6QnBGLEVBQVF3SCxTQUFXcEMsRUFBV29DLFNBQzlCLElBQUltQyxFQUFVLEVBQVEsS0FDdEIzSixFQUFROEgsTUFBUTZCLEVBQVE3QixNQUN4QixJQUFJNUgsRUFBWSxFQUFRLEtBQ3hCRixFQUFRWSxRQUFVVixFQUFVVSxRQUM1QixJQUFJVCxFQUFTLEVBQVEsS0FDckJILEVBQVE4QixLQUFPM0IsRUFBTzJCLE0sUUNmdEIsSUFBSThILEVBQU05SixPQUFPcUIsVUFBVTZELGVBQ3ZCNkUsRUFBUyxJQVNiLFNBQVNDLEtBNEJULFNBQVNDLEVBQUdDLEVBQUlyQixFQUFTc0IsR0FDdkIzSixLQUFLMEosR0FBS0EsRUFDVjFKLEtBQUtxSSxRQUFVQSxFQUNmckksS0FBSzJKLEtBQU9BLElBQVEsRUFjdEIsU0FBU0MsRUFBWUMsRUFBU0MsRUFBT0osRUFBSXJCLEVBQVNzQixHQUNoRCxHQUFrQixtQkFBUEQsRUFDVCxNQUFNLElBQUlLLFVBQVUsbUNBR3RCLElBQUlDLEVBQVcsSUFBSVAsRUFBR0MsRUFBSXJCLEdBQVd3QixFQUFTRixHQUMxQ00sRUFBTVYsRUFBU0EsRUFBU08sRUFBUUEsRUFNcEMsT0FKS0QsRUFBUUssUUFBUUQsR0FDWEosRUFBUUssUUFBUUQsR0FBS1AsR0FDMUJHLEVBQVFLLFFBQVFELEdBQU8sQ0FBQ0osRUFBUUssUUFBUUQsR0FBTUQsR0FEaEJILEVBQVFLLFFBQVFELEdBQUtsRCxLQUFLaUQsSUFEbENILEVBQVFLLFFBQVFELEdBQU9ELEVBQVVILEVBQVFNLGdCQUk3RE4sRUFVVCxTQUFTTyxFQUFXUCxFQUFTSSxHQUNJLEtBQXpCSixFQUFRTSxhQUFvQk4sRUFBUUssUUFBVSxJQUFJVixTQUM1Q0ssRUFBUUssUUFBUUQsR0FVOUIsU0FBU2hDLElBQ1BqSSxLQUFLa0ssUUFBVSxJQUFJVixFQUNuQnhKLEtBQUttSyxhQUFlLEVBeEVsQjNLLE9BQU9xRixTQUNUMkUsRUFBTzNJLFVBQVlyQixPQUFPcUYsT0FBTyxPQU01QixJQUFJMkUsR0FBU2pGLFlBQVdnRixHQUFTLElBMkV4Q3RCLEVBQWFwSCxVQUFVd0osV0FBYSxXQUNsQyxJQUNJQyxFQUNBdkksRUFGQXdJLEVBQVEsR0FJWixHQUEwQixJQUF0QnZLLEtBQUttSyxhQUFvQixPQUFPSSxFQUVwQyxJQUFLeEksS0FBU3VJLEVBQVN0SyxLQUFLa0ssUUFDdEJaLEVBQUluRSxLQUFLbUYsRUFBUXZJLElBQU93SSxFQUFNeEQsS0FBS3dDLEVBQVN4SCxFQUFLMkUsTUFBTSxHQUFLM0UsR0FHbEUsT0FBSXZDLE9BQU9nTCxzQkFDRkQsRUFBTXRJLE9BQU96QyxPQUFPZ0wsc0JBQXNCRixJQUc1Q0MsR0FVVHRDLEVBQWFwSCxVQUFVNEosVUFBWSxTQUFtQlgsR0FDcEQsSUFBSUcsRUFBTVYsRUFBU0EsRUFBU08sRUFBUUEsRUFDaENZLEVBQVcxSyxLQUFLa0ssUUFBUUQsR0FFNUIsSUFBS1MsRUFBVSxNQUFPLEdBQ3RCLEdBQUlBLEVBQVNoQixHQUFJLE1BQU8sQ0FBQ2dCLEVBQVNoQixJQUVsQyxJQUFLLElBQUlpQixFQUFJLEVBQUdDLEVBQUlGLEVBQVM5SSxPQUFRaUosRUFBSyxJQUFJckcsTUFBTW9HLEdBQUlELEVBQUlDLEVBQUdELElBQzdERSxFQUFHRixHQUFLRCxFQUFTQyxHQUFHakIsR0FHdEIsT0FBT21CLEdBVVQ1QyxFQUFhcEgsVUFBVWlLLGNBQWdCLFNBQXVCaEIsR0FDNUQsSUFBSUcsRUFBTVYsRUFBU0EsRUFBU08sRUFBUUEsRUFDaENXLEVBQVl6SyxLQUFLa0ssUUFBUUQsR0FFN0IsT0FBS1EsRUFDREEsRUFBVWYsR0FBVyxFQUNsQmUsRUFBVTdJLE9BRk0sR0FZekJxRyxFQUFhcEgsVUFBVTJILEtBQU8sU0FBY3NCLEVBQU9pQixFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUNqRSxJQUFJbEIsRUFBTVYsRUFBU0EsRUFBU08sRUFBUUEsRUFFcEMsSUFBSzlKLEtBQUtrSyxRQUFRRCxHQUFNLE9BQU8sRUFFL0IsSUFFSXhJLEVBQ0FrSixFQUhBRixFQUFZekssS0FBS2tLLFFBQVFELEdBQ3pCbUIsRUFBTXpKLFVBQVVDLE9BSXBCLEdBQUk2SSxFQUFVZixHQUFJLENBR2hCLE9BRkllLEVBQVVkLE1BQU0zSixLQUFLc0ksZUFBZXdCLEVBQU9XLEVBQVVmLFFBQUlySSxHQUFXLEdBRWhFK0osR0FDTixLQUFLLEVBQUcsT0FBT1gsRUFBVWYsR0FBR3ZFLEtBQUtzRixFQUFVcEMsVUFBVSxFQUNyRCxLQUFLLEVBQUcsT0FBT29DLEVBQVVmLEdBQUd2RSxLQUFLc0YsRUFBVXBDLFFBQVMwQyxJQUFLLEVBQ3pELEtBQUssRUFBRyxPQUFPTixFQUFVZixHQUFHdkUsS0FBS3NGLEVBQVVwQyxRQUFTMEMsRUFBSUMsSUFBSyxFQUM3RCxLQUFLLEVBQUcsT0FBT1AsRUFBVWYsR0FBR3ZFLEtBQUtzRixFQUFVcEMsUUFBUzBDLEVBQUlDLEVBQUlDLElBQUssRUFDakUsS0FBSyxFQUFHLE9BQU9SLEVBQVVmLEdBQUd2RSxLQUFLc0YsRUFBVXBDLFFBQVMwQyxFQUFJQyxFQUFJQyxFQUFJQyxJQUFLLEVBQ3JFLEtBQUssRUFBRyxPQUFPVCxFQUFVZixHQUFHdkUsS0FBS3NGLEVBQVVwQyxRQUFTMEMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsSUFBSyxFQUczRSxJQUFLUixFQUFJLEVBQUdsSixFQUFPLElBQUkrQyxNQUFNNEcsRUFBSyxHQUFJVCxFQUFJUyxFQUFLVCxJQUM3Q2xKLEVBQUtrSixFQUFJLEdBQUtoSixVQUFVZ0osR0FHMUJGLEVBQVVmLEdBQUcxSCxNQUFNeUksRUFBVXBDLFFBQVM1RyxPQUNqQyxDQUNMLElBQ0k0SixFQURBekosRUFBUzZJLEVBQVU3SSxPQUd2QixJQUFLK0ksRUFBSSxFQUFHQSxFQUFJL0ksRUFBUStJLElBR3RCLE9BRklGLEVBQVVFLEdBQUdoQixNQUFNM0osS0FBS3NJLGVBQWV3QixFQUFPVyxFQUFVRSxHQUFHakIsUUFBSXJJLEdBQVcsR0FFdEUrSixHQUNOLEtBQUssRUFBR1gsRUFBVUUsR0FBR2pCLEdBQUd2RSxLQUFLc0YsRUFBVUUsR0FBR3RDLFNBQVUsTUFDcEQsS0FBSyxFQUFHb0MsRUFBVUUsR0FBR2pCLEdBQUd2RSxLQUFLc0YsRUFBVUUsR0FBR3RDLFFBQVMwQyxHQUFLLE1BQ3hELEtBQUssRUFBR04sRUFBVUUsR0FBR2pCLEdBQUd2RSxLQUFLc0YsRUFBVUUsR0FBR3RDLFFBQVMwQyxFQUFJQyxHQUFLLE1BQzVELEtBQUssRUFBR1AsRUFBVUUsR0FBR2pCLEdBQUd2RSxLQUFLc0YsRUFBVUUsR0FBR3RDLFFBQVMwQyxFQUFJQyxFQUFJQyxHQUFLLE1BQ2hFLFFBQ0UsSUFBS3hKLEVBQU0sSUFBSzRKLEVBQUksRUFBRzVKLEVBQU8sSUFBSStDLE1BQU00RyxFQUFLLEdBQUlDLEVBQUlELEVBQUtDLElBQ3hENUosRUFBSzRKLEVBQUksR0FBSzFKLFVBQVUwSixHQUcxQlosRUFBVUUsR0FBR2pCLEdBQUcxSCxNQUFNeUksRUFBVUUsR0FBR3RDLFFBQVM1RyxJQUtwRCxPQUFPLEdBWVR3RyxFQUFhcEgsVUFBVTBILEdBQUssU0FBWXVCLEVBQU9KLEVBQUlyQixHQUNqRCxPQUFPdUIsRUFBWTVKLEtBQU04SixFQUFPSixFQUFJckIsR0FBUyxJQVkvQ0osRUFBYXBILFVBQVU4SSxLQUFPLFNBQWNHLEVBQU9KLEVBQUlyQixHQUNyRCxPQUFPdUIsRUFBWTVKLEtBQU04SixFQUFPSixFQUFJckIsR0FBUyxJQWEvQ0osRUFBYXBILFVBQVV5SCxlQUFpQixTQUF3QndCLEVBQU9KLEVBQUlyQixFQUFTc0IsR0FDbEYsSUFBSU0sRUFBTVYsRUFBU0EsRUFBU08sRUFBUUEsRUFFcEMsSUFBSzlKLEtBQUtrSyxRQUFRRCxHQUFNLE9BQU9qSyxLQUMvQixJQUFLMEosRUFFSCxPQURBVSxFQUFXcEssS0FBTWlLLEdBQ1ZqSyxLQUdULElBQUl5SyxFQUFZekssS0FBS2tLLFFBQVFELEdBRTdCLEdBQUlRLEVBQVVmLEdBRVZlLEVBQVVmLEtBQU9BLEdBQ2ZDLElBQVFjLEVBQVVkLE1BQ2xCdEIsR0FBV29DLEVBQVVwQyxVQUFZQSxHQUVuQytCLEVBQVdwSyxLQUFNaUssT0FFZCxDQUNMLElBQUssSUFBSVUsRUFBSSxFQUFHTCxFQUFTLEdBQUkxSSxFQUFTNkksRUFBVTdJLE9BQVErSSxFQUFJL0ksRUFBUStJLEtBRWhFRixFQUFVRSxHQUFHakIsS0FBT0EsR0FDbkJDLElBQVNjLEVBQVVFLEdBQUdoQixNQUN0QnRCLEdBQVdvQyxFQUFVRSxHQUFHdEMsVUFBWUEsSUFFckNpQyxFQUFPdkQsS0FBSzBELEVBQVVFLElBT3RCTCxFQUFPMUksT0FBUTVCLEtBQUtrSyxRQUFRRCxHQUF5QixJQUFsQkssRUFBTzFJLE9BQWUwSSxFQUFPLEdBQUtBLEVBQ3BFRixFQUFXcEssS0FBTWlLLEdBR3hCLE9BQU9qSyxNQVVUaUksRUFBYXBILFVBQVV5SyxtQkFBcUIsU0FBNEJ4QixHQUN0RSxJQUFJRyxFQVVKLE9BUklILEdBQ0ZHLEVBQU1WLEVBQVNBLEVBQVNPLEVBQVFBLEVBQzVCOUosS0FBS2tLLFFBQVFELElBQU1HLEVBQVdwSyxLQUFNaUssS0FFeENqSyxLQUFLa0ssUUFBVSxJQUFJVixFQUNuQnhKLEtBQUttSyxhQUFlLEdBR2ZuSyxNQU1UaUksRUFBYXBILFVBQVUwSyxJQUFNdEQsRUFBYXBILFVBQVV5SCxlQUNwREwsRUFBYXBILFVBQVUrSSxZQUFjM0IsRUFBYXBILFVBQVUwSCxHQUs1RE4sRUFBYXVELFNBQVdqQyxFQUt4QnRCLEVBQWFBLGFBQWVBLEVBTTFCd0QsRUFBTy9MLFFBQVV1SSxHLDREQzlVWixNQUFNeUQsRUFDVCxZQUFZQyxFQUFHQyxFQUFHQyxHQUNkN0wsS0FBSzJMLEVBQUlBLEVBQ1QzTCxLQUFLNEwsRUFBSUEsRUFDVDVMLEtBQUs2TCxFQUFJQSxFQUNUN0wsS0FBSzhMLGVBQWlCLEdBQ3RCOUwsS0FBSytMLFVBQVcsRUFHcEIsWUFBWUMsR0FDUixZQUM2RDNLLElBRHREckIsS0FBSzhMLGVBQWVHLE1BQUtDLEdBQVFBLEVBQUtQLElBQU1LLEVBQVVMLEdBQ3RETyxFQUFLTixJQUFNSSxFQUFVSixHQUFLTSxFQUFLTCxJQUFNRyxFQUFVSCxJQUcxRCxPQUFPRyxHQUNILE9BQU9oTSxLQUFLMkwsSUFBTUssRUFBVUwsR0FBSzNMLEtBQUs0TCxJQUFNSSxFQUFVSixHQUFLNUwsS0FBSzZMLElBQU1HLEVBQVVILEVBR3BGLFlBQVlGLEVBQUdDLEVBQUdDLEdBQ2QsT0FBTzdMLEtBQUsyTCxJQUFNQSxHQUFLM0wsS0FBSzRMLElBQU1BLEdBQUs1TCxLQUFLNkwsSUFBTUEsRUFHdEQsaUJBQWlCRyxHQUNSaE0sS0FBS21NLFlBQVlILElBQ2xCaE0sS0FBSzhMLGVBQWUvRSxLQUFLaUYsR0FJakMsaUJBQWlCQSxHQUNiLE1BQU1JLEVBQXFCcE0sS0FBSzhMLGVBQWVPLFdBQVVILEdBQVFBLEVBQUtJLE9BQU9OLEtBQzdFaE0sS0FBSzhMLGVBQWU3RSxPQUFPbUYsRUFBb0IsSSxzQkM5QnZCRyxHQUFHQyxhQUFhLG9CQUcvQjNMLFVBQVU0TCxXQUFhLGEsT0NFeEMsTUFBTSxTQUFFMUgsR0FBYSxFQUFRLEtBRXRCLE1BQU0ySCxVQUF3QjNILEVBQ2pDLGtCQUFvQixNQUFPLGtCQUUzQixZQUFZNEgsR0FDUkMsTUFBTUYsRUFBZ0JHLE1BQ3RCN00sS0FBS2tHLHNCQUFzQixDQUN2QjRHLEVBQUEsMEJBSVIsV0FBV3ZILEdBQ1BxSCxNQUFNOUcsV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ3BDLE9BQVFWLEdBQ0osS0FBSytMLEVBQUEsd0JBQ2lCOU0sS0FBS3NILE9BQU9uRSxjQUFjNEosRUFBQSxRQUFxQkMsR0FDckRULEdBQUdVLFlBQVlDLG1CLFlDekIzQyxNQUFNLGFBQUVDLEdBQWlCLEVBQVEsS0FNM0IsT0FBRS9LLEdBQVcsRUFBUSxLQUVwQixTQUFTZ0wsRUFBb0JoTixFQUFhVyxHQUU3Q2dILFFBQVFDLElBQUksYUFHWixNQUNNcUYsRUFETWQsR0FBR1UsWUFBWUMsaUJBQ0VJLEtBQUtDLFVBQVUsb0JBRTVDLElBQUlDLEVBQWdCLEdBRXBCLE1BQU1DLEVBQXVCLEdBRzdCLElBQUssTUFBTUMsS0FBZUwsRUFBa0IsQ0FDeEMsTUFBTU0sRUFBVUQsRUFBWUUsT0FBNEIsb0JBQ3hESCxFQUFxQjFHLEtBQUs0RyxHQUUxQixNQUFNRSxFQUFZQyxFQUEyQkosR0FDN0NDLEVBQVFJLFFBQVFGLEdBS3BCLElBQUssTUFBTUcsS0FBa0JQLEVBQ3pCLElBQUssTUFBTVEsS0FBdUJELEVBQWVFLG9CQUFxQixDQUNsRSxNQUFNQyxFQUFtQkYsRUFBb0JMLE9BQTRCLG9CQUV6RVEsRUFBbUJKLEVBQWVLLFVBQVdGLEVBQWlCRSxXQUM5RGIsRUFBZ0JBLEVBQWN2TCxPQUFPK0wsRUFBZUssV0FLNURqTSxFQUFPeEIsWUFBWVIsR0FBYTRDLGNBQWMsSUFBSXNMLEVBQUEsRUFBYWQsSUFDL0RwTCxFQUFPeEIsWUFBWVIsR0FBYW1ELGlCQUFpQixJQUFJbUosR0FFckR0SyxFQUFPeEIsWUFBWVIsR0FBYTJELGlCQUFpQitJLEVBQUEsb0JBSXJELFNBQVNnQixFQUEyQkosR0FFaEMsTUFBTWEsRUFBTyxHQUVQQyxFQUFnQmQsRUFBWWUsbUJBQzVCQyxFQUFZaEIsRUFBWWlCLGdCQUV4QkMsRUFBZUMsS0FBS0MsTUFBTUosRUFBVS9DLEdBQ3BDb0QsRUFBaUJGLEtBQUtDLE1BQU1KLEVBQVU3QyxHQUV0Q21ELEVBQVdILEtBQUtDLE1BQU1OLEVBQWM3QyxFQUFLaUQsRUFBZSxHQUN4REssRUFBV1QsRUFBYzVDLEVBQ3pCc0QsRUFBV0wsS0FBS0MsTUFBTU4sRUFBYzNDLEVBQUtrRCxFQUFpQixHQUloRSxJQUFLLElBQUlsRCxFQUFJcUQsRUFBVXJELEVBQUlxRCxFQUFXSCxFQUFnQmxELElBQ2xELElBQUssSUFBSUYsRUFBSXFELEVBQVVyRCxFQUFJcUQsRUFBV0osRUFBY2pELElBQUssQ0FDckQsTUFBTU8sRUFBTyxJQUFJUixFQUFlQyxFQUFHc0QsRUFBVXBELEdBQzdDMEMsRUFBS3hILEtBQUttRixHQUtsQixJQUFLLE1BQU1BLEtBQVFxQyxFQUNmLElBQUssTUFBTXZDLEtBQWF1QyxHQUNoQnZDLEVBQVVtRCxZQUFZakQsRUFBS1AsRUFBSSxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxJQUMvQ0csRUFBVW1ELFlBQVlqRCxFQUFLUCxFQUFJLEVBQUdPLEVBQUtOLEVBQUdNLEVBQUtMLElBQy9DRyxFQUFVbUQsWUFBWWpELEVBQUtQLEVBQUdPLEVBQUtOLEVBQUdNLEVBQUtMLEVBQUksSUFDL0NHLEVBQVVtRCxZQUFZakQsRUFBS1AsRUFBR08sRUFBS04sRUFBR00sRUFBS0wsRUFBSSxLQUMvQ0ssRUFBS2tELGlCQUFpQnBELEdBS2xDLE9BQU91QyxFQUdYLFNBQVNILEVBQW1CRyxFQUFNYyxHQUU5QixJQUFLLE1BQU1uRCxLQUFRcUMsRUFDZixJQUFLLE1BQU12QyxLQUFhcUQsR0FDaEJyRCxFQUFVbUQsWUFBWWpELEVBQUtQLEVBQUksRUFBR08sRUFBS04sRUFBR00sRUFBS0wsSUFDL0NHLEVBQVVtRCxZQUFZakQsRUFBS1AsRUFBSSxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxJQUMvQ0csRUFBVW1ELFlBQVlqRCxFQUFLUCxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxFQUFJLElBQy9DRyxFQUFVbUQsWUFBWWpELEVBQUtQLEVBQUdPLEVBQUtOLEVBQUdNLEVBQUtMLEVBQUksS0FDL0NLLEVBQUtrRCxpQkFBaUJwRCxHQzlGdEMsTUFBTSxNQUFFeEUsR0FBVSxFQUFRLEtBR25CLE1BQU04SCxVQUFxQjlILEVBQzlCLFNBQ0ksT0FBT3hILEtBQUs0SCxVQUVoQixrQkFBb0IsTUFBTyxlQUUzQixZQUFZSCxHQUNSbUYsTUFBTTBDLEVBQWF6QyxLQUFNcEYsR0FHN0IsVUFBVThILEVBQVlDLEdBQ2xCekgsUUFBUUMsSUFBSWhJLEtBQUtnTixJQUNqQixJQUFLLE1BQU15QyxLQUFlelAsS0FBS2dOLEdBQzNCLEdBQUl4TixPQUFPa0YsZUFBZVMsS0FBS25GLEtBQUtnTixHQUFJeUMsR0FBYyxDQUNsRCxNQUFNQyxFQUFXMVAsS0FBS2dOLEdBQUd5QyxHQUV6QixHQUFJalEsT0FBT2tGLGVBQWVTLEtBQUt1SyxFQUFVSCxHQUNyQyxPQUFPRyxFQUFTSCxHQUFZSSxPQUFPZCxLQUFLZSxJQUFJSixFQUFhLEVBQUcsSUFLeEUsTUFBTSxJQUFJclAsTUFBTSx3QkFBd0JvUCxJQ3ZCaEQsTUFBUW5OLE9BQU0sR0FBSyxFQUFRLEtBRXBCLFNBQVN5TixFQUFlelAsRUFBYVcsR0FJeEMsRUFBT0gsWUFBWVIsR0FBYTRDLGNBQWMsSUFBSStKLEVBQUEsR0FHbEQsTUFBTStDLEVBQU12RCxHQUFHVSxZQUFZQyxpQkFDM0IsR0FBSTRDLEVBQUssQ0FDTCxNQUFNQyxFQUFjRCxFQUFJRSxPQUFPeEssSUFBSSxVQUFVeUssU0FDN0MsRUFBT3JQLFlBQVlSLEdBQWE0QyxjQUFjLElBQUlzTSxFQUFhUyxLQ2R2RSxNQUFRM04sT0FBTSxHQUFLLEVBQVEsS0FHcEIsU0FBUzhOLEVBQW1COVAsRUFBYVcsS0FBcUJVLEdBQ2pFLE1BQU1xTyxFQUFNdkQsR0FBR1UsWUFBWUMsaUJBQ3JCaUQsRUFBWTFPLEVBQUssR0FDdkJzRyxRQUFRQyxJQUFJLGtCQUFrQm1JLEdBRzlCLE1BQU1DLEVBQWVOLEVBQUl4QyxLQUFLK0MsV0FBVyxRQUduQ0MsRUFBUVIsRUFBSVMsT0FBT3RFLEtBQUtrRSxHQUc5QkwsRUFBSVMsT0FBT0MsbUJBQW1CRixFQUFNRyxLQUFLLFNBQVVDLEVBQUtDLEdBQy9DRCxFQUtEM0ksUUFBUTZJLE1BQU1GLEdBSlZOLEdBQ0FBLEVBQWFTLFVBS3JCLEVBQU9qUSxZQUFZUixHQUFhMkQsaUJBQWlCK0ksRUFBQSx3QkFBb0NxRCxHQUNyRixFQUFPdlAsWUFBWVIsR0FBYTJELGlCQUFpQitJLEVBQUEsZ0JBQTRCcUQsTUN4QjlFLFNBQVNXLEVBQWFDLEdBQ3pCLElBQUlDLEVBQWVELEVBQU1uUCxPQUNyQnFQLE9BQWlCNVAsRUFDakI2UCxHQUFlLEVBR25CLEtBQU8sSUFBTUYsR0FHVEUsRUFBY3JDLEtBQUtzQyxNQUFNdEMsS0FBS3VDLFNBQVdKLEdBQ3pDQSxHQUFnQixFQUdoQkMsRUFBaUJGLEVBQU1DLEdBQ3ZCRCxFQUFNQyxHQUFnQkQsRUFBTUcsR0FDNUJILEVBQU1HLEdBQWVELEVBR3pCLE9BQU9GLEUsYUNsQlgsTUFBUXZKLE1BQUssR0FBSyxFQUFRLE1BSXBCLFNBQUU2SixHQUFhLEVBQVEsS0FHdEIsTUFBTUMsVUFBb0IsRUFDN0IsU0FDSSxPQUFPdFIsS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLGNBRTNCLFlBQVkySixHQUNSM0UsTUFBTTBFLEVBQVl6RSxLQUFNLElBQUl3RSxFQUFTRSxJQUd6QyxhQUNJLE1BQU1BLEVBQWV2UixLQUFLZ04sR0FBR3VFLGFBQzdCdlIsS0FBS3dSLG1CQUFxQixJQUFJQyxJQUM5QixJQUFLLE1BQU1DLEtBQWVILEVBQWMsQ0FDcEMsTUFBTUksRUFBbUIzUixLQUFLc0gsT0FBT25FLGNBQWN5TyxFQUFBLE9BQTBCRixHQUM3RTFSLEtBQUt3UixtQkFBbUJLLElBQUlILEVBQWFDLElBSWpELFdBQ0ksTUFBTUcsRUFBa0I5UixLQUFLZ04sR0FBRzhFLGdCQUVoQyxHQUFJQSxHQUFtQkEsRUFBZ0JsUSxPQUFTLEVBQUcsQ0FDL0MsTUFBTW1RLEVBQWFELEVBQWdCRSxRQUduQyxHQUZBaFMsS0FBS2dOLEdBQUdpRixrQkFBb0JGLEVBRVQsY0FBZkEsRUFBNEIsQ0FFNUIvUixLQUFLc0gsT0FBT3ZELGlCQUFpQitJLEVBQUEscUJBQWlDLFFBQVFpRixHQUN0RSxNQUFNOU8sRUFBUWpELEtBQUt3UixtQkFBbUJoTSxJQUFJdU0sR0FDMUM5TyxFQUFNaVAsdUJBRUZqUCxFQUFNa1AsTUFDTm5TLEtBQUtzSCxPQUFPdkQsaUJBQWlCK0ksRUFBQSw4QkFBMENpRixHQUV2RS9SLEtBQUtzSCxPQUFPdkQsaUJBQWlCK0ksRUFBQSw0QkFBd0NpRixRQUl6RS9SLEtBQUtzSCxPQUFPdkQsaUJBQWlCK0ksRUFBQSxxQkFBaUMsYUFDOURzRixZQUFXLEtBQ1BwUyxLQUFLc0gsT0FBT3ZELGlCQUFpQitJLEVBQUEsdUJBQzlCLE1BS2YsWUFDSS9FLFFBQVFDLElBQUkscUJBQ1pELFFBQVFDLElBQUkscUJBQ1pELFFBQVFDLElBQUkscUJBQ1osTUFBTXFLLEVBQWMsR0FDcEIsSUFBSyxNQUFPQyxFQUFhclAsS0FBVWpELEtBQUt3UixtQkFBbUJlLFVBQVcsQ0FDbEUsTUFBTXZGLEVBQUsvSixFQUFNK0osR0FDakIsSUFBSyxJQUFJckMsRUFBSSxFQUFHQSxFQUFJcUMsRUFBR3dGLFdBQVk3SCxJQUMvQjBILEVBQVl0TCxLQUFLdUwsR0FJekIsR0FBMkIsSUFBdkJELEVBQVl6USxPQUdaLFlBREE1QixLQUFLc0gsT0FBT3ZELGlCQUFpQitJLEVBQUEsY0FLakN1RixFQUFZdEwsS0FBSyxhQUVqQixJQUFJMEwsRUFBcUIzQixFQUFhdUIsR0FFdEMsS0FBaUMsY0FBMUJJLEVBQW1CLElBQ3RCQSxFQUFxQjNCLEVBQWEyQixHQUd0Q3pTLEtBQUtnTixHQUFHOEUsZ0JBQWtCVyxFQUc5QiwwQkFDSSxPQUFPelMsS0FBS2dOLEdBQUcwRixvQkFHbkIsd0JBQ0ksT0FBTzFTLEtBQUtnTixHQUFHaUYsa0JBR25CLHNCQUFzQnRTLEdBQ2xCSyxLQUFLZ04sR0FBR2lGLGtCQUFvQnRTLEVBR2hDLDBCQUEwQjJTLEdBRXRCdFMsS0FBS3dSLG1CQUFtQm1CLE9BQU9MLEdBRS9CdFMsS0FBS2dOLEdBQUc4RSxnQkFBa0I5UixLQUFLZ04sR0FBRzhFLGdCQUFnQmMsUUFBT0MsR0FBS0EsSUFBTVAsSyxhQ3BHNUUsTUFBUWxRLE9BQU0sR0FBSyxFQUFRLEtBT3BCLFNBQVMwUSxFQUFtQjFTLEVBQWFXLEtBQXFCVSxHQUNqRSxNQUFNc1IsRUFBeUJ0UixFQUFLLEdBQzlCNkYsRUFBUyxFQUFPMUcsWUFBWVIsR0FDbENrSCxFQUFPdkQsaUJBQWlCK0ksRUFBQSxxQkFBaUMsZ0JBRWxDeEYsRUFBT25FLGNBQWM0SixFQUFBLFFBQzdCaUcsb0JBQW9CLEVBQUFDLGtCQUFBLFFBRW5DLE1BQU1DLEVBQTRCNUwsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCbUIsR0FLM0VJLEVBRm9CLENBQUMsVUFBVWxSLE9BQU84USxHQUF3QjlRLE9BQU9pUixFQUEwQkUsYUFFekRSLFFBQU8sU0FBVVMsRUFBTUMsRUFBS0MsR0FDcEUsT0FBT0EsRUFBS3pNLFFBQVF1TSxJQUFTQyxLQUczQkUsRUFBY2xNLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQixVQUVuRSxJQUFLLE1BQU1GLEtBQWV5QixFQUN0QjdMLEVBQU92RCxpQkFBaUIrSSxFQUFBLGVBQTRCNEUsR0FDaEMsV0FBaEJBLEVBQ0FwSyxFQUFPdkQsaUJBQWlCK0ksRUFBQSxvQkFBaUM0RSxFQUFhOEIsRUFBWUMsYUFFbEZuTSxFQUFPdkQsaUJBQWlCK0ksRUFBQSxvQkFBaUM0RSxFQUFhd0IsRUFBMEJPLGFBS3hHLE1BQU1DLEVBQWMsSUFBSXBDLEVBQVk2QixHQUVwQzdMLEVBQU90RSxjQUFjMFEsR0FFckJ0QixZQUFXLEtBQ1A5SyxFQUFPdkQsaUJBQWlCK0ksRUFBQSx1QkFDekIsS0MxQ1AsTUFBUTFLLE9BQU0sR0FBSyxFQUFRLEtBTXBCLFNBQVN1UixFQUFzQnZULEVBQWFXLEtBQXFCVSxHQUNwRSxNQUFNNkYsRUFBUyxFQUFPMUcsWUFBWVIsR0FFNUJ3VCxFQUFZdE0sRUFBT25FLGNBQWM0SixFQUFBLFFBQ2pDMkcsRUFBY3BNLEVBQU9uRSxjQUFjbU8sRUFBWXpFLE1BRWpEK0csRUFBVTVHLEdBQUc2RyxlQUFpQixFQUFBWixrQkFBQSxRQUM5QlMsRUFBWUksV0NicEIsTUFBUTFSLE9BQU0sR0FBSyxFQUFRLEtBTXBCLFNBQVMyUixFQUF1QjNULEVBQWFXLEtBQXFCVSxHQUNyRSxNQUFNNkYsRUFBUyxFQUFPMUcsWUFBWVIsR0FFNUJ3VCxFQUFZdE0sRUFBT25FLGNBQWM0SixFQUFBLFFBQ2pDMkcsRUFBY3BNLEVBQU9uRSxjQUFjbU8sRUFBWXpFLE1BRWpEK0csRUFBVTVHLEdBQUc2RyxlQUFpQixFQUFBWixrQkFBQSxTQUM5QlMsRUFBWU0sWUFDWjFNLEVBQU92RCxpQkFBaUIrSSxFQUFBLG1CQUErQjRHLEVBQVkxRyxHQUFHMEYsc0JDZDlFLE1BQVF0USxPQUFNLEdBQUssRUFBUSxLQUlwQixTQUFTNlIsRUFBcUI3VCxFQUFhVyxLQUFxQlUsR0FDbkUyUSxZQUFXLEtBQ1AsTUFBTTlLLEVBQVMsRUFBTzFHLFlBQVlSLEdBQzVCc1QsRUFBY3BNLEVBQU9uRSxjQUFjbU8sRUFBWXpFLE1BQ3JEdkYsRUFBT3ZELGlCQUFpQitJLEVBQUEsc0JBQ3hCeEYsRUFBT3ZELGlCQUFpQitJLEVBQUEsbUJBQStCNEcsRUFBWWhCLHVCQUNwRSxLQ1ZBLE1BQU13QixFQUNULHFCQUF1QixPQUFPLEVBQzlCLHFCQUF1QixPQUFPLEVBQzlCLHFCQUF1QixPQUFPLEVBQzlCLG1CQUFxQixPQUFPLEdDRHpCLE1BQU1DLEVBQ1QsWUFBWUMsR0FDUnBVLEtBQUt5TSxXQUFXMkgsR0FHcEIsV0FBV0EsR0FDUHBVLEtBQUtxVSxHQ1ROLFdBR0gsSUFGQSxJQUFJQyxFQUFJLEdBQ0pDLEVBQVksbUJBQ1A1SixFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDcEIySixFQUFFM0osR0FBSzRKLEVBQVVDLE9BQU8zRixLQUFLc0MsTUFBc0IsR0FBaEJ0QyxLQUFLdUMsVUFBa0IsR0FXOUQsT0FSQWtELEVBQUUsSUFBTSxJQUdSQSxFQUFFLElBQU1DLEVBQVVDLE9BQWdCLEVBQVJGLEVBQUUsSUFBYSxFQUFLLEdBRTlDQSxFQUFFLEdBQUtBLEVBQUUsSUFBTUEsRUFBRSxJQUFNQSxFQUFFLElBQU0sSUFFcEJBLEVBQUVHLEtBQUssSURMSkMsR0FDVjFVLEtBQUtvVSxTQUFXQSxHQUFZLEdBR2hDLFFBQVFPLEdBRUozVSxLQUFLNFUsT0FBT0QsR0FHUEEsRUFBS0UsV0FBV3JQLElBQUksU0FBVW1QLEVBQUtHLEtBQUtULEdBQUlyVSxLQUFLcVUsS0FDbERyVSxLQUFLK1UsTUFBTUosR0FJZixNQUFNSyxFQUFTaFYsS0FBS2lWLE1BQU1OLEdBVTFCLE9BUElLLElBQVdkLEVBQWdCZ0IsU0FDM0JsVixLQUFLbVYsT0FBT1IsR0FJaEIzVSxLQUFLb1YsTUFBTVQsR0FFSkssRUFHWCxPQUFPTCxHQUNIQSxFQUFLVSxVQUFVclYsTUFDZkEsS0FBS3NWLE1BQU1YLEdBR2YsTUFBTUEsR0FDRkEsRUFBS1ksU0FBU3ZWLE1BQ2QyVSxFQUFLRSxXQUFXaEQsSUFBSSxVQUFVLEVBQU04QyxFQUFLRyxLQUFLVCxHQUFJclUsS0FBS3FVLElBQ3ZEclUsS0FBS3dWLEtBQUtiLEdBR2QsTUFBTUEsR0FFRixPQURBQSxFQUFLYyxTQUFTelYsTUFDUEEsS0FBSzJVLEtBQUtBLEdBR3JCLE9BQU9BLEdBQ0hBLEVBQUtlLFVBQVUxVixNQUNmMlUsRUFBS0UsV0FBV2hELElBQUksVUFBVSxFQUFPOEMsRUFBS0csS0FBS1QsR0FBSXJVLEtBQUtxVSxJQUN4RHJVLEtBQUsyVixNQUFNaEIsR0FHZixNQUFNQSxHQUNGQSxFQUFLaUIsU0FBUzVWLE1BQ2RBLEtBQUs2VixLQUFLbEIsR0FJZCxNQUFNQSxJQUNOLEtBQUtBLElBQ0wsS0FBS0EsR0FBUSxPQUFPVCxFQUFnQjRCLE1BQ3BDLE1BQU1uQixJQUNOLEtBQUtBLEtFakVGLE1BQU1vQixVQUFtQjVCLEVBQzVCLEtBQUtRLEdBQ0QsSUFBSyxNQUFNcUIsS0FBYWhXLEtBQUtvVSxTQUN6QjRCLEVBQVVDLFFBQVF0QixHQUd0QixPQUFPVCxFQUFnQmdDLFNDVHhCLE1BQU1DLEVBQ1QsY0FDSW5XLEtBQUtvVyxhQUdULGFBQ0lwVyxLQUFLcVcsV0FBYSxHQUNsQnJXLEtBQUtzVyxXQUFhLEdBR3RCLGNBQWNDLEdBT1YsT0FOS3ZXLEtBQUtzVyxXQUFXQyxLQUNqQnZXLEtBQUtzVyxXQUFXQyxHQUFhLENBQ3pCQyxXQUFZLEdBQ1pDLFVBQVcsS0FHWnpXLEtBQUtzVyxXQUFXQyxHQUczQixjQUFjRCxFQUFZSSxHQUN0QixNQUFNQyxFQUFTTCxFQUF1QixXQUt0QyxPQUpLSyxFQUFPalMsZUFBZWdTLEtBQ3ZCQyxFQUFPRCxHQUFhLElBR2pCQyxFQUFPRCxHQUdsQixVQUFVSCxFQUFXRyxHQUNqQixJQUFJQyxFQUFTM1csS0FBS3FXLFdBVWxCLE9BUklFLElBQ0FJLEVBQVMzVyxLQUFLNFcsY0FBY0wsR0FFeEJHLElBQ0FDLEVBQVMzVyxLQUFLNlcsY0FBY0YsRUFBUUQsS0FJckNDLEVBR1gsSUFBSTVXLEVBQUtKLEVBQU80VyxFQUFXRyxHQUNSMVcsS0FBSzhXLFVBQVVQLEVBQVdHLEdBQ2xDM1csR0FBT0osRUFHbEIsSUFBSUksRUFBS3dXLEVBQVdHLEdBRWhCLE9BRGUxVyxLQUFLOFcsVUFBVVAsRUFBV0csR0FDM0IzVyxJQ2xEZixNQUFNZ1gsRUFDVCxjQUNJL1csS0FBS29XLGFBR1QsYUFDSXBXLEtBQUs4VSxVQUFPelQsRUFDWnJCLEtBQUt5VyxVQUFZLEdBQ2pCelcsS0FBS2dYLFVBQVksRUFDakJoWCxLQUFLTyxXQUFRYyxFQUNickIsS0FBS2lYLFlBQVM1VixFQUNkckIsS0FBSzZVLGdCQUFheFQsRUFHdEIsVUFBVTZLLEdBQ05sTSxLQUFLZ1gsWUFDTGhYLEtBQUt5VyxVQUFVMVAsS0FBS21GLEdBR3hCLFNBQVNBLElBSVQsU0FBU0EsSUFJVCxVQUFVQSxHQUNObE0sS0FBS3lXLFVBQVVTLE1BR25CLFNBQVNoTCxLQzdCTixNQUFNaUwsRUFDVCxZQUFZOUMsR0FDUnJVLEtBQUtvVyxXQUFXL0IsR0FHcEIsV0FBV0EsR0FDUHJVLEtBQUtxVSxHQUFLQSxFQUNWclUsS0FBS3NOLFVBQU9qTSxFQUdoQixLQUFLNFYsRUFBUXBDLEdBRVQsTUFBTUYsRUFBTyxJQUFJb0MsRUFDakJwQyxFQUFLc0MsT0FBU0EsRUFDZHRDLEVBQUtFLFdBQWFBLEVBQ2xCRixFQUFLRyxLQUFPOVUsS0FHWkEsS0FBS3NOLEtBQUsySSxRQUFRdEIsR0FHbEIsTUFBTXlDLEVBQWdCdkMsRUFBV3JQLElBQUksWUFBYXhGLEtBQUtxVSxLQUFPLEdBQ3hEZ0QsRUFBZ0IxQyxFQUFLOEIsVUFBVS9QLE1BQU0sR0FHM0MsSUFBSTRRLEVBQVEsRUFDWixJQUFLLElBQUkzTSxFQUFJLEVBQUdBLEVBQUlrRSxLQUFLZSxJQUFJd0gsRUFBY3hWLE9BQVF5VixFQUFjelYsVUFDN0QwVixFQUFRM00sRUFBSSxFQUNSeU0sRUFBY3pNLEtBQU8wTSxFQUFjMU0sSUFGK0JBLEtBUTFFLElBQUssSUFBSUEsRUFBSXlNLEVBQWN4VixPQUFTLEVBQUcrSSxHQUFLMk0sRUFBTzNNLElBQy9DeU0sRUFBY3pNLEdBQUdnTCxNQUFNaEIsR0FJM0JFLEVBQVdoRCxJQUFJLFlBQWF3RixFQUFlclgsS0FBS3FVLElBQ2hEUSxFQUFXaEQsSUFBSSxZQUFhOEMsRUFBS3FDLFVBQVdoWCxLQUFLcVUsS0N2Q2xELE1BQU1rRCxVQUFpQnBELEVBQzFCLEtBQUtRLEdBQ0QsSUFBSyxNQUFNNkMsS0FBU3hYLEtBQUtvVSxTQUFVLENBQy9CLE1BQU1ZLEVBQVN3QyxFQUFNdkIsUUFBUXRCLEdBRTdCLEdBQUlLLElBQVdkLEVBQWdCdUQsUUFDM0IsT0FBT3pDLEVBSWYsT0FBT2QsRUFBZ0J1RCxTQ1Z4QixNQUFNQyxVQUEwQnZELEVBQ25DLEtBQUtRLEdBRUQsT0FEQUEsRUFBS0UsV0FBV2hELElBQUksU0FBVSxTQUFVOEMsRUFBS0csS0FBS1QsSUFBSSxHQUMvQ0gsRUFBZ0JnQyxTQ0Z4QixNQUFNeUIsVUFBMEJ4RCxFQUNuQyxLQUFLUSxHQUNELE1BQU1yTixFQUFTcU4sRUFBS0UsV0FBV3JQLElBQUksVUFBVSxHQUFPLEdBQzlDb1MsRUFBYWpELEVBQUtFLFdBQVdyUCxJQUFJLGNBQWVtUCxFQUFLRyxLQUFLVCxJQUFJLEdBQzlEd0QsRUFBYWxELEVBQUtFLFdBQVdyUCxJQUFJLFNBQVVtUCxFQUFLRyxLQUFLVCxJQUFJLEdBRS9ELE9BREEvTSxFQUFPdkQsaUJBQWlCK0ksRUFBQSxpQkFBNkI4SyxFQUFZQyxHQUMxRDNELEVBQWdCZ0MsU0NOeEIsTUFBTTRCLFVBQXNCM0QsRUFDL0IsS0FBS1EsR0FJRCxPQUhlQSxFQUFLRSxXQUFXclAsSUFBSSxVQUFVLEdBQU8sR0FDN0N6QixpQkFBaUIrSSxFQUFBLG1CQUVqQm9ILEVBQWdCZ0MsU0NMeEIsTUFBTTZCLFVBQTZCNUQsRUFDdEMsS0FBS1EsR0FDRCxNQUFNck4sRUFBU3FOLEVBQUtFLFdBQVdyUCxJQUFJLFVBQVUsR0FBTyxHQUM5QzhNLEVBQWNxQyxFQUFLRSxXQUFXclAsSUFBSSxjQUFlbVAsRUFBS0csS0FBS1QsSUFBSSxHQUtyRSxPQUh1Qi9NLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQlUsR0FHbkQwRixrQkFBb0IsRUFDNUI5RCxFQUFnQmdDLFFBRWhCaEMsRUFBZ0J1RCxTQ1g1QixNQUFNUSxVQUF1QjlELEVBQ2hDLEtBQUtRLEdBQ0QsTUFBTXJOLEVBQVNxTixFQUFLRSxXQUFXclAsSUFBSSxVQUFVLEdBQU8sR0FDOUM4TSxFQUFjcUMsRUFBS0UsV0FBV3JQLElBQUksY0FBZW1QLEVBQUtHLEtBQUtULElBQUksR0FHL0Q2RCxFQURpQjVRLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQlUsR0FDMUJtQixZQVM1QyxPQVBvQm5NLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQixVQUNwQzZCLFlBQ0czSCxlQUdBcU0sTUFBS0MsR0FBS0EsRUFBRTlMLE9BQU80TCxNQUdqRG5RLFFBQVFDLElBQUksZUFDTGtNLEVBQWdCZ0MsVUFFdkJuTyxRQUFRQyxJQUFJLG1CQUNMa00sRUFBZ0J1RCxVQ3JCNUIsTUFBTVksVUFBb0JsRSxFQUM3QixLQUFLUSxHQUNEQSxFQUFLRSxXQUFXaEQsSUFBSSxlQUFnQixFQUFHOEMsRUFBS0csS0FBS1QsR0FBSXJVLEtBQUtxVSxJQUc5RCxLQUFLTSxHQUdELElBQUssSUFBSWhLLEVBRktnSyxFQUFLRSxXQUFXclAsSUFBSSxlQUFnQm1QLEVBQUtHLEtBQUtULEdBQUlyVSxLQUFLcVUsSUFFakQxSixFQUFJM0ssS0FBS29VLFNBQVN4UyxPQUFRK0ksSUFBSyxDQUMvQyxJQUFJcUssRUFBU2hWLEtBQUtvVSxTQUFTekosR0FBR3NMLFFBQVF0QixHQUV0QyxHQUFJSyxJQUFXZCxFQUFnQmdDLFFBSTNCLE9BSElsQixJQUFXZCxFQUFnQmdCLFNBQzNCUCxFQUFLRSxXQUFXaEQsSUFBSSxlQUFnQmxILEVBQUdnSyxFQUFLRyxLQUFLVCxHQUFJclUsS0FBS3FVLElBRXZEVyxFQUlmLE9BQU9kLEVBQWdCZ0MsU0NuQnhCLE1BQU1vQyxVQUFpQm5FLEVBQzFCLEtBQUtRLEdBR0QsTUFBTTZDLEVBQVF4WCxLQUFLb1UsU0FBUyxHQUU1QixJQUFLb0QsRUFDRCxPQUFPdEQsRUFBZ0I0QixNQUczQixJQUFJZCxFQUFTd0MsRUFBTXZCLFFBQVF0QixHQU8zQixPQUxJSyxHQUFVZCxFQUFnQmdDLFFBQzFCbEIsRUFBU2QsRUFBZ0J1RCxRQUNwQnpDLEdBQVVkLEVBQWdCdUQsVUFDL0J6QyxFQUFTZCxFQUFnQmdDLFNBRXRCbEIsR0NoQlIsTUFBTXVELFVBQXFCcEUsRUFDOUIsS0FBS1EsR0FDRCxNQUFNck4sRUFBU3FOLEVBQUtFLFdBQVdyUCxJQUFJLFVBQVUsR0FBTyxHQUM5Q2dULEVBQVc3RCxFQUFLRSxXQUFXclAsSUFBSSxTQUFVbVAsRUFBS0csS0FBS1QsSUFBSSxHQUs3RCxPQUZvQi9NLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQjRHLEdBRW5EQyxPQUNMdkUsRUFBZ0JnQyxRQUVoQmhDLEVBQWdCdUQsU0NUNUIsTUFBTWlCLFVBQTBCdkUsRUFDbkMsS0FBS1EsR0FDRCxNQUFNck4sRUFBU3FOLEVBQUtFLFdBQVdyUCxJQUFJLFVBQVUsR0FBTyxHQUM5QzhNLEVBQWNxQyxFQUFLRSxXQUFXclAsSUFBSSxjQUFlbVAsRUFBS0csS0FBS1QsSUFBSSxHQUMvRG1FLEVBQVc3RCxFQUFLRSxXQUFXclAsSUFBSSxTQUFVbVAsRUFBS0csS0FBS1QsSUFBSSxHQUV2RHNFLEVBQWlCclIsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCVSxHQUNoRTRGLEVBQXVCUyxFQUFlbEYsWUFLdENtRixFQUpjdFIsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCNEcsR0FDN0IvRSxZQUNHM0gsZUFFWDhHLFFBQU8xRyxJQUFTQSxFQUFLSCxXQUtuRCxHQUFJNk0sRUFBT2hYLE9BQVMsRUFBRyxDQUVuQixJQUFJc0ssRUFBTzBNLEVBQU9DLFFBQU8sQ0FBQ0MsRUFBR3pVLElBQU0wVSxFQUFhYixFQUFzQlksR0FBS0MsRUFBYWIsRUFBc0I3VCxHQUFLeVUsRUFBSXpVLElBRXZILE1BQU0yVSxFQUFPQyxFQUFBLGdCQUFvQmYsRUFBc0JoTSxHQUN2RCxHQUFJOE0sR0FBUUEsRUFBS3BYLE9BQVMsRUFBRyxDQUV6QixNQUFNb0wsRUFBSzJMLEVBQWUzTCxHQUMxQixLQUFPZ00sRUFBS3BYLE9BQVNvTCxFQUFHZ0wsbUJBQ3BCZ0IsRUFBS2hILFFBSVQxSyxFQUFPdkQsaUJBQWlCK0ksRUFBQSxzQkFBbUN3RixFQUFhMEcsR0FDeEVMLEVBQWVsRixZQUFjdkgsR0FRckMsT0FGQXlNLEVBQWVYLGtCQUFvQixFQUU1QjlELEVBQWdCZ0MsU0FJL0IsU0FBUzZDLEVBQWFHLEVBQUlDLEdBQ3RCLE9BQU90SyxLQUFLdUssSUFBSUQsRUFBR3hOLEVBQUl1TixFQUFHdk4sRUFBRyxHQUFLa0QsS0FBS3VLLElBQUlELEVBQUd2TixFQUFJc04sRUFBR3ROLEVBQUcsR0M5Q3JELE1BQU15TixVQUFlbEYsRUFDeEIsS0FBS1EsR0FDRCxNQUFNck4sRUFBU3FOLEVBQUtFLFdBQVdyUCxJQUFJLFVBQVUsR0FBTyxHQUM5QzhNLEVBQWNxQyxFQUFLRSxXQUFXclAsSUFBSSxjQUFlbVAsRUFBS0csS0FBS1QsSUFBSSxHQUtyRSxPQUZvQi9NLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQlUsR0FFbkRtRyxPQUNMdkUsRUFBZ0JnQyxRQUVoQmhDLEVBQWdCdUQsU0NENUIsTUFBTTZCLFVDWE4sTUFDSCxZQUFZakYsR0FDUnJVLEtBQUtxVSxHQUFLLGlCQUNWclUsS0FBSzZVLFdBQWEsSUFBSXNCLEVBQ3RCblcsS0FBSzhVLEtBQU8sSUFBSXFDLEVBQWM5QyxHQUU5QnJVLEtBQUtvVyxhQUdULGNBSUEsWUFBWTlPLEVBQVFnTCxHQUNoQnRTLEtBQUs2VSxXQUFXaEQsSUFBSSxTQUFVdkssR0FBUSxHQUFPLEdBQzdDdEgsS0FBSzZVLFdBQVdoRCxJQUFJLGNBQWVTLEVBQWF0UyxLQUFLOFUsS0FBS1QsSUFBSSxHQUU5RHJVLEtBQUs4VSxLQUFLSCxLQUFLM1UsS0FBTUEsS0FBSzZVLGNESjlCLGNBQ0lqSSxNQUFNLGtCQUdWLGFBQ0k1TSxLQUFLOFUsS0FBS3hILEtBQU8sSUFBSXlJLEVBQVcsQ0FDNUIsSUFBSXdCLEVBQ0EsQ0FDSSxJQUFJYyxFQUFZLENBQ1osSUFBSVgsRUFDSixJQUFJWSxFQUFTLENBQUMsSUFBSWUsSUFDbEIsSUFBSWYsRUFBUyxDQUFDLElBQUlDLElBQ2xCLElBQUloQixFQUFTLENBQ1QsSUFBSWMsRUFBWSxDQUNaLElBQUlKLEVBQ0osSUFBSVAsRUFDSixJQUFJQyxJQUVSLElBQUlVLEVBQVksQ0FDWixJQUFJTixFQUNKLElBQUlMLEVBQ0osSUFBSWdCLFFBS2hCLElBQUlaLE9FMUN4QixNQUFRMVYsT0FBTSxJQUFLLEVBQVEsS0FVcEIsU0FBU21YLEdBQWlCblosRUFBYVcsS0FBcUJVLEdBQy9ELE1BQU0rWCxFQUFVL1gsRUFBSyxHQUNmNkYsRUFBUyxHQUFPMUcsWUFBWVIsR0FJNUJxWixHQUhlblMsRUFBT25FLGNBQWNtTCxFQUFBLFFBRXZCaEgsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCNEgsR0FDOUIvRixhQUVoQm5NLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQixVQUNwQzZCLFlBQ0czSCxlQUdBcU0sTUFBS0MsR0FBS0EsRUFBRTlMLE9BQU9tTixNQUU5QixJQUFJSCxHQUNaSSxZQUFZcFMsRUFBUWtTLEcsY0NwQmhDLFNBQVNHLEdBQW9CdlosRUFBYVcsS0FBcUJVLEdBQ2xFLE1BQU02RixFQUFTLEdBQUFsRixPQUFBLFlBQW1CaEMsR0FDNUJ3WixFQUFpQnRTLEVBQU9uRSxjQUFjNEosRUFBQSxRQUN0Q2IsRUFBT3pLLEVBQUssR0FFZG1ZLEVBQWVDLGNBQWdCLEVBQUE1RyxrQkFBQSxZQUMvQjNMLEVBQU92RCxpQkFBaUIrSSxFQUFBLG1CQUFnQyxTQUFVWixHQUMzRDBOLEVBQWVDLGNBQWdCLEVBQUE1RyxrQkFBQSxRQUVBLFdBRGxCM0wsRUFBT25FLGNBQWNtTyxFQUFZekUsTUFDckNvRixtQkFDWjNLLEVBQU92RCxpQkFBaUIrSSxFQUFBLDBCQUFzQyxTQUFVWixHQ2hCcEYsTUFBUTlKLE9BQU0sSUFBSyxFQUFRLEtBUXBCLFNBQVMwWCxHQUE0QjFaLEVBQWFXLEtBQXFCVSxHQUMxRSxNQUFNNkYsRUFBUyxHQUFPMUcsWUFBWVIsR0FDNUJpVSxFQUFLNVMsRUFBSyxHQUNWc1ksRUFBYXRZLEVBQUssR0FFbEJ1WSxFQUFxQjFTLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQnlDLEdBQ3BFckgsRUFBS2dOLEVBQW1CaE4sR0FDeEJpTixFQUFnQmhCLEVBQUEscUJBQXlCak0sRUFBR3lHLFlBQWF6RyxFQUFHZ0wsbUJBRWxFLElBQUssTUFBTTlMLEtBQVErTixFQUNYL04sRUFBS0ksT0FBT3lOLElBQ1pHLEdBQWdCNVMsRUFBUTBTLEVBQW9CRCxHQUt4RCxTQUFTRyxHQUFnQjVTLEVBQVFxUixFQUFnQm9CLEdBQzdDLE1BQU0vTSxFQUFLMkwsRUFBZTNMLEdBQ3BCZ00sRUFBT0MsRUFBQSxnQkFBb0JqTSxFQUFHeUcsWUFBYXNHLEdBQzdDZixHQUFRQSxFQUFLcFgsT0FBUyxJQUN0Qm9MLEVBQUdnTCxtQkFBc0JnQixFQUFLcFgsT0FBUyxFQUN2QytXLEVBQWVsRixZQUFjc0csRUFDN0J6UyxFQUFPdkQsaUJBQWlCK0ksRUFBQSxzQkFDeEJ4RixFQUFPdkQsaUJBQWlCK0ksRUFBQSxzQkFBbUNFLEVBQUdxSCxHQUFJMkUsSUMvQm5FLFNBQVNtQixHQUF3Qi9aLEVBQWFXLEtBQXFCVSxHQUN0RSxNQUFNMlksRUFBZ0IzWSxFQUFLLEdBQ3JCcU8sRUFBTXZELEdBQUdVLFlBQVlDLGlCQUNyQm1OLEVBQW9CdkssRUFBSUUsT0FBT3hLLElBQUksVUFDbkM4VSxFQUFZeEssRUFBSXhDLEtBQUsrQyxXQUFXLGdCQUV0QyxJQUFLLE1BQU1uRSxLQUFRa08sRUFBZSxDQUM5QixNQUFNRyxFQUFPRixFQUFrQnBLLFNBQVN1SyxjQUN4Q0QsRUFBS0UsaUJBQWlCdk8sRUFBS1AsRUFBR08sRUFBS04sRUFBR00sRUFBS0wsR0FDM0N5TyxFQUFVSSxTQUFTSCxJQ1BwQixTQUFTSSxHQUF3QnZhLEVBQWFXLEtBQXFCVSxHQUN0RSxNQUNNbVosRUFETXJPLEdBQUdVLFlBQVlDLGlCQUNNSSxLQUFLQyxVQUFVLGlCQUNoRCxJQUFLLE1BQU1zTixLQUFzQkQsRUFDN0JDLEVBQW1CaEssVUNEcEIsU0FBU2lLLEdBQThCMWEsRUFBYVcsS0FBcUJVLEdBQzVFLE1BQU02USxFQUFjN1EsRUFBSyxHQUNuQjZGLEVBQVMsR0FBQWxGLE9BQUEsWUFBbUJoQyxHQUc1QjRNLEVBRGlCMUYsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCVSxHQUM1Q3RGLEdBQ3BCaU4sRUFBZ0JoQixFQUFBLHFCQUF5QmpNLEVBQUd5RyxZQUFhekcsRUFBR2dMLG1CQUVsRTFRLEVBQU92RCxpQkFBaUIrSSxFQUFBLHFCQUFpQ21OLEdDTnRELFNBQVNjLEdBQW1CM2EsRUFBYVcsS0FBcUJVLEdBQ2pFLE1BQU02RixFQUFTLEdBQUFsRixPQUFBLFlBQW1CaEMsR0FDNUJpVSxFQUFLNVMsRUFBSyxHQUNWdVosRUFBVXZaLEVBQUssR0FNckIsR0FKdUI2RixFQUFPbkUsY0FBY3lPLEVBQUEsT0FBMEJ5QyxHQUN2RFosWUFBY3VILEVBRVgxVCxFQUFPbkUsY0FBYzRKLEVBQUEsUUFDekI4TSxjQUFnQixFQUFBNUcsa0JBQUEsT0FBMEIsQ0FDcEQsTUFBTVMsRUFBY3BNLEVBQU9uRSxjQUFjbU8sRUFBWXpFLE1BRWpENkcsSUFDc0MsV0FBbENBLEVBQVl6QixrQkFDWjNLLEVBQU92RCxpQkFBaUIrSSxFQUFBLDRCQUF3Q3VILEdBRWhFL00sRUFBT3ZELGlCQUFpQitJLEVBQUEsOEJBQTBDdUgsS0NmM0UsU0FBUzRHLEdBQTZCN2EsRUFBYVcsS0FBcUJVLEdBQzNFLE1BQU02RixFQUFTLEdBQUFsRixPQUFBLFlBQW1CaEMsR0FFNUJpVSxFQURzQjVTLEVBQUssR0FDRm1NLE9BQStCLHVCQUFFMEUsWUFDMURzSCxFQUFpQnRTLEVBQU9uRSxjQUFjNEosRUFBQSxRQUN0Q21PLEVBQXVCNVQsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCeUMsR0FDdEU4RyxFQUF1QjdULEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQixVQUU1RSxHQUFJZ0ksRUFBZUMsY0FBZ0IsRUFBQTVHLGtCQUFBLFlBQStCLENBRTlELE1BQU1tSSxFQUFlQyxHQUFvQkYsRUFBc0JELEdBQzNERSxHQUNBOVQsRUFBT3ZELGlCQUFpQitJLEVBQUEsc0JBQW1DLFNBQVVzTyxRQUl0RSxHQUFJeEIsRUFBZUMsY0FBZ0IsRUFBQTVHLGtCQUFBLE9BQTBCLENBQ2hFLE1BQU1TLEVBQWNwTSxFQUFPbkUsY0FBY21PLEVBQVl6RSxNQUNyRCxJQUFLNkcsR0FBaUQsV0FBbENBLEVBQVl6QixrQkFFNUIsT0FHSixHQXlDUixTQUEwQmtKLEVBQXNCRCxHQUM1QyxNQUFNSSxFQUFxQkosRUFBcUJ6SCxZQUVoRCxPQUR1QjBILEVBQXFCMUgsWUFBWTNILGVBQ2xDcU0sTUFBS0MsR0FBS0EsRUFBRTlMLE9BQU9nUCxLQTVDaENDLENBQWlCSixFQUFzQkQsR0FZQSxXQUFqQ3RCLEVBQWU0QixlQUNlLFdBQWpDNUIsRUFBZTRCLGVBQ2ZsVSxFQUFPdkQsaUJBQWlCK0ksRUFBQSxpQkFBNkJxTyxFQUFxQjlHLEdBQUk2RyxFQUFxQjdHLFFBZHhDLENBQy9ELE1BQU0rRyxFQUFlQyxHQUFvQkYsRUFBc0JELEdBRTNERSxHQUFnQkEsRUFBYXhaLE9BQVMsR0FBS3VaLEVBQXFCbk8sR0FBR2dMLGtCQUM5QixXQUFqQzRCLEVBQWU0QixjQUNmbFUsRUFBT3ZELGlCQUFpQitJLEVBQUEsNkJBQXlDLFNBQVVvTyxFQUFxQjdHLEdBQUkrRyxHQUVwRzlULEVBQU92RCxpQkFBaUIrSSxFQUFBLDBCQUFzQyxTQUFVc08sRUFBYXBKLFNBR3pGMUssRUFBT3ZELGlCQUFpQitJLEVBQUEscUJBQWlDLHlCQVV6RSxTQUFTdU8sR0FBb0JGLEVBQXNCRCxHQUMvQyxNQUVNTyxFQUZpQlAsRUFBcUJ6SCxZQUFZM0gsZUFFakI4RyxRQUFPMUcsSUFBU0EsRUFBS0gsV0FDNUQsR0FBSTBQLEVBQWdCN1osT0FBUyxFQUFHLENBQzVCLE1BQU04WixFQUFhUCxFQUFxQjFILFlBRXhDLElBQUlrSSxFQUFlMUMsRUFBQSxnQkFBb0J5QyxFQUFZRCxFQUFnQixJQUVuRSxJQUFLLElBQUk5USxFQUFJLEVBQUdBLEVBQUk4USxFQUFnQjdaLE9BQVErSSxJQUFLLENBQzdDLE1BQU1pUixFQUFZM0MsRUFBQSxnQkFBb0J5QyxFQUFZRCxFQUFnQjlRLElBQzlEaVIsRUFBVWhhLE9BQVMrWixFQUFhL1osU0FDaEMrWixFQUFlQyxHQUl2QixPQUFPRCxHQy9EUixTQUFTRSxHQUEwQnpiLEVBQWFXLEtBQXFCVSxHQUN4RSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCMGIsRUFBYXJhLEVBQUssR0FDbEJtWSxFQUFpQnRTLEVBQU9uRSxjQUFjNEosRUFBQSxRQUV4QzZNLEVBQWU0QixnQkFBa0JNLEVBRWpDbEMsRUFBZTRCLGNBQWdCLE9BRS9CNUIsRUFBZTRCLGNBQWdCTSxFQUduQ3hVLEVBQU92RCxpQkFBaUIrSSxFQUFBLHdCQUFvQzhNLEVBQWU0QixlQ1Z4RSxTQUFTTyxHQUFxQjNiLEVBQWFXLEtBQXFCVSxHQUNuRSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBRTVCd1gsRUFBYW5XLEVBQUssR0FDbEJ1YSxFQUFnQjFVLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQmdHLEdBQy9EQyxFQUFhcFcsRUFBSyxHQUNsQndhLEVBQWdCM1UsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCaUcsR0FFckV2USxFQUFPdkQsaUJBQWlCK0ksRUFBQSxvQkFBaUM4SyxFQUFZcUUsRUFBY3hJLGFBQ25Gbk0sRUFBT3ZELGlCQUFpQitJLEVBQUEsb0JBQWlDK0ssRUFBWW1FLEVBQWN2SSxhQUVuRixNQUFNeUksRUFBZUMsR0FBZ0JILEVBQWNJLE9BQzdDQyxFQUFlRixHQUFnQkgsRUFBY0ksT0FFN0NFLEVBQWVoVixFQUFPbkUsY0FBY21NLEVBQWF6QyxNQUd2RCxHQUFJcVAsSUFBaUJHLEVBQ2pCL1UsRUFBT3ZELGlCQUFpQitJLEVBQUEscUJBQWlDLGVBQWVvUCxLQUFnQkcsV0FFeEYsR0FBSUgsRUFBZUcsRUFBYyxDQUU3QixNQUFNN00sRUFBYStNLEdBQW9CTCxFQUFjRyxHQUMvQzFNLEVBQVMyTSxFQUFhRSxVQUFVLFFBQVNoTixHQUMvQ3lNLEVBQWNRLFlBQVk5TSxHQUUxQnJJLEVBQU92RCxpQkFBaUIrSSxFQUFBLGlCQUE4QjhLLEdBRWxEcUUsRUFBY3hELFFBQ2RuUixFQUFPdkQsaUJBQWlCK0ksRUFBQSxnQkFBNkIrSyxHQUNyRHZRLEVBQU92RCxpQkFBaUIrSSxFQUFBLHNCQUFrQytLLElBRTFEdlEsRUFBT3ZELGlCQUFpQitJLEVBQUEsY0FBMkIrSyxHQUd2RHZRLEVBQU92RCxpQkFBaUIrSSxFQUFBLHFCQUFpQyxHQUFHOEssYUFBc0JDLFNBQWtCbEksU0FFakcsQ0FFSCxNQUFNSCxFQUFhK00sR0FBb0JGLEVBQWNILEdBQy9Ddk0sRUFBUzJNLEVBQWFFLFVBQVUsUUFBU2hOLEdBQy9Dd00sRUFBY1MsWUFBWTlNLEdBQzFCckksRUFBT3ZELGlCQUFpQitJLEVBQUEscUJBQWlDLEdBQUcrSyxhQUFzQkQsU0FBa0JqSSxLQUVwR3JJLEVBQU92RCxpQkFBaUIrSSxFQUFBLGlCQUE4QitLLEdBRWxEbUUsRUFBY3ZELFFBQ2RuUixFQUFPdkQsaUJBQWlCK0ksRUFBQSxnQkFBNkI4SyxHQUNyRHRRLEVBQU92RCxpQkFBaUIrSSxFQUFBLHNCQUFrQzhLLElBRzFEdFEsRUFBT3ZELGlCQUFpQitJLEVBQUEsY0FBMkI4SyxHQU0vRCxNQUFNbEUsRUFBY3BNLEVBQU9uRSxjQUFjbU8sRUFBWXpFLE1BQ2pENkcsR0FBaUQsV0FBbENBLEVBQVl6QixtQkFDM0JHLFlBQVcsS0FDUDlLLEVBQU92RCxpQkFBaUIrSSxFQUFBLDhCQUEwQzhLLEtBRW5FLEtBSVgsU0FBUzJFLEdBQW9CRyxFQUFZQyxHQUNyQyxPQUFPRCxFQUFhQyxFQUd4QixTQUFTUixHQUFnQkMsR0FDckIsT0FBT0EsRUFBUVEsS0FBYUEsS0FHaEMsU0FBU0EsS0FDTCxPQUFPL04sS0FBS0MsTUFBc0IsRUFBaEJELEtBQUt1QyxVLGNDakYzQixNQUFRaFAsT0FBTSxJQUFLLEVBQVEsS0FLcEIsU0FBU3lhLEdBQThCemMsRUFBYVcsS0FBcUJVLEdBQzVFLE1BQU02RixFQUFTLEdBQU8xRyxZQUFZUixHQUM1QmtTLEVBQWM3USxFQUFLLEdBQ25CK1csRUFBVy9XLEVBQUssR0FDaEJ1WCxFQUFPdlgsRUFBSyxHQUVLNkYsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCVSxHQUN2RHdLLFlBQVk5RCxFQUFLcFgsT0FBUyxHQUN6QyxNQUFNbWIsRUFBb0J6VixFQUFPN0QsaUJBQWlCdVosR0FBQSxPQUE2QjFLLEdBQy9FaEwsRUFBT3ZELGlCQUFpQitJLEVBQUEsc0JBRUVpUSxFQUFrQkUsbUNBQW1DakUsR0FDN0RrRSxNQUFLLEtBQ25CNVYsRUFBT3ZELGlCQUFpQitJLEVBQUEsaUJBQTZCd0YsRUFBYWtHLE1DYm5FLFNBQVMyRSxHQUF5Qi9jLEVBQWFXLEtBQXFCVSxHQUN2RSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCa1MsRUFBYzdRLEVBQUssR0FDbkJrWCxFQUFpQnJSLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQlUsR0FDbEVxRyxJQUNBQSxFQUFlbEYsWUFBWTFILFVBQVcsR0FHMUMsTUFBTTJILEVBQWNwTSxFQUFPbkUsY0FBY21PLEVBQVl6RSxNQUNqRDZHLEdBQ0FBLEVBQVkwSiwwQkFBMEI5SyxHQ2Y5QyxNQUFRbFEsT0FBTSxJQUFLLEVBQVEsS0FNcEIsU0FBU2liLEdBQWlCamQsRUFBYVcsS0FBcUJVLEdBQy9ELE1BQU02RixFQUFTLEdBQU8xRyxZQUFZUixHQUM5QmtILEVBQU94RCxZQUFZd04sRUFBWXpFLE9BQy9CdkYsRUFBTzNELGVBQWUyTixFQUFZekUsTUFHZnZGLEVBQU9uRSxjQUFjNEosRUFBQSxRQUM3QmlHLG9CQUFvQixFQUFBQyxrQkFBQSxhQ1RoQyxTQUFTcUssR0FBNEJsZCxFQUFhVyxLQUFxQlUsR0FDMUUsTUFBTTZGLEVBQVMsR0FBQWxGLE9BQUEsWUFBbUJoQyxHQUVsQzJILFFBQVFDLElBQUkseUJBRVosTUFBTXdSLEVBQVUvWCxFQUFLLElBQ0UsSUFBSTZYLEdBQ1pJLFlBQVlwUyxFQUFRa1MsR0NYdkMsTUFBUXBYLE9BQU0sSUFBSyxFQUFRLEtBd0JwQixNQUFNbWIsV0FBbUIsR0FDNUIsbUJBQW1CeGQsR0FJZixPQUhLLEdBQU9HLFlBQVlILEtBQ3BCLEdBQU9HLFlBQVlILEdBQU8sSUFBSXdkLEdBQVd4ZCxJQUV0QyxHQUFPRyxZQUFZSCxHQUc5QixpQkFBbUIsTUFBTyxVQUMxQixrQkFBb0IsTUFBTyxnQkFDM0IscUJBQXVCLE9BQU93ZCxHQUFXMVEsS0FBTyxVQUVoRCxRQUFRMlEsR0FDSnhkLEtBQUsrRCxpQkFBaUJ3WixHQUFXRSxRQUFTRCxHQUc5QyxpQkFBaUJ6YyxLQUFxQlUsR0FDbENtTCxNQUFNN0ksaUJBQWlCaEQsS0FBcUJVLEdBR2hELHVCQUNJbUwsTUFBTWxNLHVCQUNOVixLQUFLYyxnQkFBZ0J5YyxHQUFXRSxRQUFTNU4sR0FDekM3UCxLQUFLYyxnQkFBZ0JnTSxFQUFBLGVBQTJCb0QsR0FDaERsUSxLQUFLYyxnQkFBZ0JnTSxFQUFBLGdCQUE0Qk0sR0FDakRwTixLQUFLYyxnQkFBZ0JnTSxFQUFBLGVBQTJCZ0csR0FDaEQ5UyxLQUFLYyxnQkFBZ0JnTSxFQUFBLG1CQUErQjZHLEdBQ3BEM1QsS0FBS2MsZ0JBQWdCZ00sRUFBQSxvQkFBZ0NpSCxHQUNyRC9ULEtBQUtjLGdCQUFnQmdNLEVBQUEsa0JBQThCbUgsR0FDbkRqVSxLQUFLYyxnQkFBZ0JnTSxFQUFBLGFBQXlCeU0sSUFDOUN2WixLQUFLYyxnQkFBZ0JnTSxFQUFBLGdCQUE0QjZNLElBQ2pEM1osS0FBS2MsZ0JBQWdCZ00sRUFBQSwwQkFBc0NnTixJQUMzRDlaLEtBQUtjLGdCQUFnQmdNLEVBQUEsOEJBQTBDd1EsSUFFL0R0ZCxLQUFLYyxnQkFBZ0JnTSxFQUFBLHFCQUFpQ3FOLElBQ3REbmEsS0FBS2MsZ0JBQWdCZ00sRUFBQSxxQkFBaUM2TixJQUN0RDNhLEtBQUtjLGdCQUFnQmdNLEVBQUEsNEJBQXdDZ08sSUFDN0Q5YSxLQUFLYyxnQkFBZ0JnTSxFQUFBLGdCQUE0QmlPLElBQ2pEL2EsS0FBS2MsZ0JBQWdCZ00sRUFBQSx3QkFBb0NtTyxJQUN6RGpiLEtBQUtjLGdCQUFnQmdNLEVBQUEsb0JBQWdDK08sSUFFckQ3YixLQUFLYyxnQkFBZ0JnTSxFQUFBLGlCQUE2QmlQLElBQ2xEL2IsS0FBS2MsZ0JBQWdCZ00sRUFBQSw2QkFBeUMrUCxJQUU5RDdjLEtBQUtjLGdCQUFnQmdNLEVBQUEsc0JBQWtDcVEsSUFDdkRuZCxLQUFLYyxnQkFBZ0JnTSxFQUFBLGFBQXlCdVEsTyw4QkNyRS9DLE1BQU12USxFQUNULDBCQUE0QixNQUFPLGVBQ25DLG1DQUFxQyxNQUFPLHdCQUM1Qyw2QkFBK0IsTUFBTyxrQkFDdEMsMkJBQTZCLE1BQU8sZ0JBQ3BDLDhCQUFnQyxNQUFPLG1CQUV2Qyw4QkFBZ0MsTUFBTyxtQkFDdkMscUNBQXVDLE1BQU8sMEJBQzlDLCtCQUFpQyxNQUFPLG9CQUN4Qyw4QkFBZ0MsTUFBTyxtQkFFdkMsMkJBQTZCLE1BQU8sZ0JBQ3BDLDJCQUE2QixNQUFPLGdCQUNwQywwQkFBNEIsTUFBTyxlQUNuQyxnQ0FBa0MsTUFBTyxxQkFFekMsOEJBQWdDLE1BQU8sbUJBQ3ZDLCtCQUFpQyxNQUFPLG9CQUV4Qyx3QkFBMEIsTUFBTyxhQUNqQyw2QkFBK0IsTUFBTyxrQkFDdEMsd0JBQTBCLE1BQU8sYUFDakMsMkJBQTZCLE1BQU8sZ0JBQ3BDLHlDQUEyQyxNQUFPLDhCQUVsRCxpQ0FBbUMsTUFBTyxzQkFFMUMsZ0NBQWtDLE1BQU8scUJBQ3pDLGdDQUFrQyxNQUFPLHFCQUd6QywwQkFBNEIsTUFBTyxlQUNuQyx1Q0FBeUMsTUFBTyw0QkFDaEQsbUNBQXFDLE1BQU8sd0JBRTVDLG1DQUFxQyxNQUFPLHdCQUU1QywrQkFBaUMsTUFBTyxvQkFDeEMsbUNBQXFDLE1BQU8sd0JBRTVDLCtCQUFpQyxNQUFPLG9CQUV4Qyw0QkFBOEIsTUFBTyxpQkFDckMsd0NBQTBDLE1BQU8sNkJBRWpELDRCQUE4QixNQUFPLGlCQUNyQywyQkFBNkIsTUFBTyxnQkFDcEMsNEJBQThCLE1BQU8saUJBQ3JDLHlCQUEyQixNQUFPLGNBQ2xDLGlDQUFtQyxNQUFPLHNCQUUxQywrQkFBaUMsTUFBTyx1Qiw2Q0NwRHJDLE1BQU11RSxFQUNULFlBQVlFLEdBQ1J2UixLQUFLdVIsYUFBZUEsRUFDcEJ2UixLQUFLOFIsZ0JBQWtCLEdBQ3ZCOVIsS0FBS2lTLHVCQUFvQjVRLEVBRzdCLDBCQUNJLE9BQU9yQixLQUFLOFIsZ0JBQWdCLE0sMkNDUnBDLE1BQU0sTUFBRXRLLEdBQVUsRUFBUSxNQUVwQixnQkFBRWtXLEdBQW9CLEVBQVEsS0FHN0IsTUFBTTlMLFVBQTJCcEssRUFDcEMsU0FDSSxPQUFPeEgsS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLHNCQUUzQixZQUFZK1YsR0FDUi9RLE1BQU1nRixFQUFtQi9FLEtBQU84USxFQUFPdEosR0FBSSxJQUFJcUosRUFBZ0JDLElBR25FLHVCQUNJM2QsS0FBS2dOLEdBQUdnTCxrQkFBb0JoWSxLQUFLZ04sR0FBRzRRLFlBQ3BDNWQsS0FBS2dOLEdBQUc2USxnQkFBa0I3ZCxLQUFLZ04sR0FBRzhRLGtCQUd0QyxZQUFZQyxHQUNSL2QsS0FBS2dOLEdBQUdnTCxtQkFBcUIrRixFQUdqQyxZQUFZQyxHQUNSaGUsS0FBS2dOLEdBQUdpUixnQkFBa0JELEVBRXRCaGUsS0FBS2dOLEdBQUdpUixlQUFpQixFQUV6QmplLEtBQUtzSCxPQUFPdkQsaUJBQWlCLG1CQUE4Qi9ELEtBQUtxVSxHQUM1RHJVLEtBQUtnTixHQUFHaVIsZUFBZ0JqZSxLQUFLZ04sR0FBR2tSLGdCQUdwQ25XLFFBQVFDLElBQU9oSSxLQUFLcVUsR0FBUixTQUlwQixTQUNJLE9BQU9yVSxLQUFLZ04sR0FBR3FILEdBR25CLGtCQUNJLE9BQU9yVSxLQUFLZ04sR0FBR3lHLFlBR25CLGdCQUFnQjlULEdBQ1JLLEtBQUtnTixHQUFHeUcsY0FDUnpULEtBQUtnTixHQUFHeUcsWUFBWTFILFVBQVcsR0FHbkMvTCxLQUFLZ04sR0FBR3lHLFlBQWM5VCxFQUN0QkssS0FBS2dOLEdBQUd5RyxZQUFZMUgsVUFBVyxFQUduQyxrQkFDSSxPQUFPL0wsS0FBS2dOLEdBQUdvRyxZQUduQixZQUNJLE9BQU9wVCxLQUFLZ04sR0FBR21GLE1BR25CLHdCQUNJLE9BQU9uUyxLQUFLZ04sR0FBR2dMLGtCQUduQixzQkFBc0JyWSxHQUNsQkssS0FBS2dOLEdBQUdnTCxrQkFBb0JyWSxFQUdoQyx1QkFDSSxPQUFPSyxLQUFLZ04sR0FBRzZRLGdCQUduQixvQkFBb0JsZSxHQUNoQkssS0FBS2dOLEdBQUc2USxnQkFBa0JsZSxFQUc5QixZQUNJLE9BQU9LLEtBQUtnTixHQUFHb1AsTUFHbkIscUJBQ0ksT0FBT3BjLEtBQUtnTixHQUFHaVIsZUFHbkIsa0JBQ0ksT0FBT2plLEtBQUtnTixHQUFHaVIsZUFHbkIsYUFDSSxPQUFPamUsS0FBS2dOLEdBQUdpUixnQkFBa0IsSyxvREMzRmxDLE1BQU1QLEVBQ1QsWUFBWUMsR0FDUjNkLEtBQUtxVSxHQUFLc0osRUFBT3RKLEdBQ2pCclUsS0FBS21TLE1BQVF3TCxFQUFPeEwsTUFDcEJuUyxLQUFLb1QsWUFBY3VLLEVBQU92SyxhQUFlLEdBQ3pDcFQsS0FBS3lULGlCQUFjcFMsRUFDbkJyQixLQUFLbWUsY0FBVzljLEVBR2hCckIsS0FBS3dTLFdBQWEsRUFDbEJ4UyxLQUFLNGQsWUFBYyxFQUNuQjVkLEtBQUs4ZCxrQkFBb0IsRUFDekI5ZCxLQUFLNmQsZ0JBQWtCN2QsS0FBSzhkLGtCQUM1QjlkLEtBQUtnWSxrQkFBb0JoWSxLQUFLNGQsWUFFOUI1ZCxLQUFLb2MsTUFBUXVCLEVBQU92QixPQUFTLEVBRTdCcGMsS0FBS29lLFdBQWFULEVBQU9TLFlBQWMsRUFDdkNwZSxLQUFLaWUsZUFBaUJqZSxLQUFLb2UsV0FFM0JwZSxLQUFLcWUsUUFBVVYsRUFBT1UsU0FBVyxFQUNqQ3JlLEtBQUtzZSxZQUFjdGUsS0FBS3FlLFFBRXhCcmUsS0FBS3VlLGVBQWlCWixFQUFPWSxnQkFBa0IsTSwyQ0N2QnZELE1BQU0sTUFBRS9XLEdBQVUsRUFBUSxNQUVwQixVQUFFZ1gsR0FBYyxFQUFRLEtBRXZCLE1BQU1sUSxVQUFxQjlHLEVBQzlCLFNBQ0ksT0FBT3hILEtBQUs0SCxVQUVoQixrQkFBb0IsTUFBTyxlQUUzQixZQUFZK0UsR0FDUkMsTUFBTTBCLEVBQWF6QixNQUVuQjdNLEtBQUsySCxRQUFRLENBQ1RnRixRQUFTQSxJQUlqQixjQUlBLGdCQUFnQjhSLEdBQ1osTUFBTTlSLEVBQVUzTSxLQUFLZ04sR0FBR0wsUUFFeEIsSUFBSStSLEVBQWMvUixFQUFRLEdBQ3RCZ1MsRUFBd0IsbUJBQXFCRCxFQUFhRCxHQUM5RCxJQUFLLE1BQU12UyxLQUFRUyxFQUFTLENBQ3hCLE1BQU1pUyxFQUFhLG1CQUFxQjFTLEVBQU11UyxHQUUxQ0csRUFBYUQsSUFDYkEsRUFBd0JDLEVBQ3hCRixFQUFjeFMsR0FJdEIsT0FBT3dTLEssOENDcENSLE1BQU1GLEVBQ1QsY0FDSXhlLEtBQUsyTSxRQUFVLE0sK0JDRmhCLE1BQU1rUyxFQUNULGNBQ0k3ZSxLQUFLeUgsS0FBTyxHQUdoQixLQUFLOUgsRUFBT21mLEVBQVcsR0FDbkIsT0FBTzllLEtBQUt5SCxLQUFLVixLQUFLLENBQ2xCcEgsTUFBT0EsRUFDUG1mLFNBQVVBLElBSWxCLE1BQ0ksSUFBSTlYLEVBQVEsRUFDUjRJLEVBQU1tUCxJQUNWLElBQUssSUFBSXBVLEVBQUksRUFBR0EsRUFBSTNLLEtBQUt5SCxLQUFLN0YsT0FBUStJLElBQUssQ0FDdkMsSUFBSW1VLEVBQVc5ZSxLQUFLeUgsS0FBS2tELEdBQUdtVSxTQUN4QmpRLEtBQUtlLElBQUlBLEVBQUtrUCxLQUFjQSxJQUM1QmxQLEVBQU1rUCxFQUNOOVgsRUFBUTJELEdBR2hCLE9BQU8zSyxLQUFLeUgsS0FBS1IsT0FBT0QsRUFBTyxHQUFHLEdBQUdySCxNQUd6QyxPQUNJLE9BQU9LLEtBQUt5SCxLQUFLN0YsT0FHckIsUUFDSSxPQUE0QixJQUFyQjVCLEtBQUt5SCxLQUFLN0YsUUM1QmxCLE1BQU1xWCxFQUNULDBCQUEwQjNCLEVBQU8wSCxHQUM3QixJQUFJQyxFQUFXLEdBQ2YsTUFBTUMsRUFBZSxHQUNyQkQsRUFBU2xZLEtBQUt1USxHQUVkLE1BQU02SCxFQUFXLElBQUkxTixJQUNyQjBOLEVBQVN0TixJQUFJeUYsRUFBT0EsR0FFcEIsSUFBSThILEVBQVEsRUFFWixLQUFPSCxFQUFTcmQsT0FBUyxHQUFLd2QsRUFBUUosR0FBWSxDQUM5QyxNQUFNSyxFQUFjLEdBQ3BCLElBQUssTUFBTUMsS0FBV0wsRUFDbEIsSUFBSyxJQUFJdFUsRUFBSSxFQUFHQSxFQUFJMlUsRUFBUXhULGVBQWVsSyxPQUFRK0ksSUFBSyxDQUNwRCxNQUFNNFUsRUFBT0QsRUFBUXhULGVBQWVuQixHQUcvQjRVLEVBQUt4VCxVQUFjb1QsRUFBUzdWLElBQUlpVyxLQUNqQ0YsRUFBWXRZLEtBQUt3WSxHQUNqQkwsRUFBYW5ZLEtBQUt3WSxHQUNsQkosRUFBU3ROLElBQUkwTixFQUFNRCxJQUsvQkwsRUFBV0ksRUFFWEQsSUFHSixPQUFPRixFQUlYLHFCQUFxQjVILEVBQU9rSSxHQUN4QixNQUFNUCxFQUFXLElBQUlKLEVBQ3JCSSxFQUFTbFksS0FBS3VRLEVBQU8sR0FFckIsTUFBTTZILEVBQVcsSUFBSTFOLElBQ2ZnTyxFQUFZLElBQUloTyxJQUt0QixJQUhBME4sRUFBU3ROLElBQUl5RixFQUFPQSxHQUNwQm1JLEVBQVU1TixJQUFJeUYsRUFBTyxJQUViMkgsRUFBU1MsU0FBUyxDQUN0QixNQUFNSixFQUFVTCxFQUFTL0gsTUFFekIsR0FBSW9JLEVBQVFoVCxPQUFPa1QsR0FDZixNQUdKLElBQUssSUFBSTdVLEVBQUksRUFBR0EsRUFBSTJVLEVBQVF4VCxlQUFlbEssT0FBUStJLElBQUssQ0FDcEQsTUFBTTRVLEVBQU9ELEVBQVF4VCxlQUFlbkIsR0FFOUJnVixFQUFVRixFQUFVamEsSUFBSThaLEdBQVcsRUFFekMsSUFBS0MsRUFBS3hULFlBQWMwVCxFQUFVblcsSUFBSWlXLElBQVNJLEVBQVVGLEVBQVVqYSxJQUFJK1osSUFBUSxDQUMzRUUsRUFBVTVOLElBQUkwTixFQUFNSSxHQUNwQixJQUFJYixFQUFXYSxFQUFVM2YsS0FBSzRmLFVBQVVMLEVBQU1DLEdBQzlDUCxFQUFTbFksS0FBS3dZLEVBQU1ULEdBQ3BCSyxFQUFTdE4sSUFBSTBOLEVBQU1ELEtBTS9CLElBQUlBLEVBQVVFLEVBQ1ZLLEdBQWUsRUFDbkIsTUFBTTdHLEVBQU8sR0FJYixJQUhBQSxFQUFLalMsS0FBS3VZLElBR0ZBLEVBQVFoVCxPQUFPZ0wsS0FBV3VJLEdBQzFCVixFQUFTN1YsSUFBSWdXLEtBQWFBLEVBQVFoVCxPQUFPa1QsSUFDekNGLEVBQVVILEVBQVMzWixJQUFJOFosR0FDdkJ0RyxFQUFLalMsS0FBS3VZLElBRVZPLEdBQWUsRUFJdkIsT0FBSUEsT0FDQSxFQUlPN0csRUFJZixzQkFBc0I4RyxFQUFLQyxHQUN2QixPQUFTRCxFQUFJblUsRUFBSW9VLEVBQUlwVSxJQUFNbVUsRUFBSW5VLEVBQUlvVSxFQUFJcFUsSUFDaENtVSxFQUFJbFUsRUFBSW1VLEVBQUluVSxJQUFNa1UsRUFBSWxVLEVBQUltVSxFQUFJblUsSUFDOUJrVSxFQUFJalUsRUFBSWtVLEVBQUlsVSxJQUFNaVUsRUFBSWpVLEVBQUlrVSxFQUFJbFUsR0FHekMsaUJBQWlCaU4sRUFBR3pVLEdBQ2hCLE9BQU93SyxLQUFLbVIsSUFBSWxILEVBQUVuTixFQUFJdEgsRUFBRXNILEdBQUtrRCxLQUFLbVIsSUFBSWxILEVBQUVsTixFQUFJdkgsRUFBRXVILEdBQUtpRCxLQUFLbVIsSUFBSWxILEVBQUVqTixFQUFJeEgsRUFBRXdILE0sK0JDcEc1RSxNQUFNLE1BQUVyRSxHQUFVLEVBQVEsTUFFcEIsWUFBRXlZLEdBQWdCLEVBQVEsS0FHekIsTUFBTWxULFVBQXVCdkYsRUFDaEMsU0FDSSxPQUFPeEgsS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLGlCQUUzQixjQUNJZ0YsTUFBTUcsRUFBZUYsS0FBTSxJQUFJb1QsR0FHbkMsb0JBQW9CQyxHQUNoQmxnQixLQUFLZ04sR0FBRzZHLGFBQWVxTSxFQUczQixrQkFDSSxPQUFPbGdCLEtBQUtnTixHQUFHNkcsYUFHbkIsb0JBQ0ksT0FBTzdULEtBQUtnTixHQUFHbVQsZUFHbkIsa0JBQWtCeGdCLEdBQ2RLLEtBQUtnTixHQUFHbVQsZUFBaUJ4Z0IsSyx3RUM1QjFCLE1BQU1zVCxFQUFvQixDQUM3Qm1OLFlBQWEsY0FDYkMsT0FBUSxTQUNSQyxTQUFVLFlBSVAsTUFBTUwsRUFDVCxjQUNJamdCLEtBQUs2VCxhQUFlWixFQUFrQm1OLFlBQ3RDcGdCLEtBQUttZ0IsZUFBaUIsVSw0RENSOUIsTUFBTSxTQUFFcGIsR0FBYSxFQUFRLEtBRXRCLE1BQU1vSSxVQUFxQnBJLEVBQzlCLGtCQUFvQixNQUFPLGVBRTNCLGNBQ0lnRCxRQUFRQyxJQUFJLG9DQUNaLE1BQU04SCxFQUFNdkQsR0FBR1UsWUFBWUMsaUJBQzNCTixNQUFNTyxFQUFhTixLQUFNaUQsR0FDekI5UCxLQUFLa0csc0JBQXNCLHFCQUkvQixtQkFBbUJuRixLQUFxQlUsR0FDcEMsT0FBUVYsR0FDSixLQUFLLHlCLHNEQ1pWLE1BQU13ZixFQUF5QmhVLEdBQUdDLGFBQWEsMEJBd0N0RCtULEVBQXVCQyxXQUFXQyxJQUFJLGNBQWUsQ0FDakRDLEtBQU0sU0FDTkMsTUFBTyxpQkFHWEosRUFBdUJDLFdBQVdDLElBQUksaUJBQWtCLENBQ3BEQyxLQUFNLFNBQ05DLE1BQU8sa0JBQ1BDLFFBQVMsSUFHYkwsRUFBdUJDLFdBQVdDLElBQUksUUFBUyxDQUMzQ0MsS0FBTSxVQUNOQyxNQUFPLFNBQ1BDLFNBQVMsSUFHYkwsRUFBdUJDLFdBQVdDLElBQUksaUJBQWtCLENBQ3BEQyxLQUFNLE9BQ05DLE1BQU8sa0JBQ1BFLE9BMURnQixDQUNoQixDQUNJOWUsS0FBTSxRQUNONGUsTUFBTyxRQUNQRCxLQUFNLFNBQ05FLFFBQVMsR0FFYixDQUNJN2UsS0FBTSxhQUNONGUsTUFBTyxVQUNQRCxLQUFNLFNBQ05FLFFBQVMsR0FDVixDQUNDN2UsS0FBTSxVQUNONGUsTUFBTyxPQUNQRCxLQUFNLFNBQ05FLFFBQVMsR0FDVixDQUNDN2UsS0FBTSxjQUNONGUsTUFBTyxXQUNQRCxLQUFNLFNBQ05FLFFBQVMsTUF3Q2pCTCxFQUF1QkMsV0FBV0MsSUFBSSxpQkFBa0IsQ0FDcERDLEtBQU0sT0FDTkMsTUFBTyxrQkFDUEUsT0F2Q3lCLENBQ3pCLENBQ0k5ZSxLQUFNLFlBQ040ZSxNQUFPLGFBQ1BELEtBQU0sVUFFVixDQUNJM2UsS0FBTSxhQUNONGUsTUFBTyxjQUNQRCxLQUFNLFdBK0JWM1AsT0FBTyxJQUdYd1AsRUFBdUJDLFdBQVdDLElBQUksa0JBQW1CLENBQ3JEQyxLQUFNLFNBQ05DLE1BQU8sc0JBSVhKLEVBQXVCMWYsVUFBVWlnQix3QkFBMEIsU0FBVWphLEdBQzVEN0csS0FBSytnQiw2QkFDTi9nQixLQUFLK2dCLDJCQUE2QixJQUd0Qy9nQixLQUFLK2dCLDJCQUEyQmhhLEtBQUtGLElBSXpDMFosRUFBdUIxZixVQUFVbWdCLGVBQWlCLFdBQzlDaGhCLEtBQUtpaEIsYUFBZSxHQUNwQmpoQixLQUFLc0gsT0FBUyxFQUFBbEYsT0FBQSxZQUFtQixFQUFBbWIsV0FBQSxLQUM3QnZkLEtBQUtzSCxPQUFPeEQsWUFBWSxTQUE2QjlELEtBQUtzUyxjQUMxRHRTLEtBQUtzSCxPQUFPM0QsZUFBZSxTQUE2QjNELEtBQUtzUyxhQUc1RHRTLEtBQUsrZ0IsNkJBQ04vZ0IsS0FBSytnQiwyQkFBNkIsSUFHdEMsTUFBTUcsRUFBaUJsaEIsS0FBS2toQixlQUN0QkMsRUFBYyxDQUNoQjlNLEdBQUlyVSxLQUFLc1MsWUFDVEgsTUFBT25TLEtBQUttUyxNQUNab00sZUFBZ0J2ZSxLQUFLdWUsa0JBQ2xCMkMsR0FHUCxHQUFJbGhCLEtBQUtvaEIsaUJBQTRDLEtBQXpCcGhCLEtBQUtvaEIsZ0JBQXdCLENBQ3JELE1BQU1DLEVBQWtCcmhCLEtBQUs4UCxJQUFJeEMsS0FBS0MsVUFBVSxlQUFldk4sS0FBS29oQixpQkFFOURoTyxFQUFjLEdBQ3BCLElBQUssTUFBTWtPLEtBQWlCRCxFQUFpQixDQUN6QyxNQUFNRSxFQUFZRCxFQUFjMVQsT0FBK0IsdUJBQUUwRSxZQUNqRWMsRUFBWXJNLEtBQUt3YSxHQUdyQkosRUFBWS9OLFlBQWNBLEVBRzlCcFQsS0FBS3NILE9BQU90RSxjQUFjLElBQUksSUFBbUJtZSxJQUNqRG5oQixLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJLElBQXNCdkQsS0FBS3NTLFlBQWF0UyxLQUFLd2hCLE9BQVF4aEIsS0FBSytnQiw2QkFFM0YvZ0IsS0FBS3doQixPQUFPQyxVQUFVQyxLQUFLLFdBQVksS0FLM0NuQixFQUF1QjFmLFVBQVU4Z0IsUUFBVSxTQUFVM0ksR0FDN0NoWixLQUFLaWhCLGNBQWdCamhCLEtBQUtpaEIsYUFBYXJmLE9BQVMsR0FDaEQ1QixLQUFLd2hCLE9BQU9JLEtBQUssY0FFckI1aEIsS0FBS2loQixhQUFlakksRUFFcEJoWixLQUFLd2hCLE9BQU9DLFVBQVVJLE1BQU8sRUFDN0I3aEIsS0FBS3doQixPQUFPQyxVQUFVQyxLQUFLLFdBQVksS0FHM0NuQixFQUF1QjFmLFVBQVVpaEIsYUFBZSxTQUFVck8sR0FDdER6VCxLQUFLaWhCLGFBQWUsR0FDcEJqaEIsS0FBS3doQixPQUFPL0csaUJBQWlCaEgsRUFBWTlILEVBQUc4SCxFQUFZN0gsRUFBRzZILEVBQVk1SCxHQUV2RTdMLEtBQUt3aEIsT0FBT0MsVUFBVUksTUFBTyxFQUM3QjdoQixLQUFLd2hCLE9BQU9DLFVBQVVDLEtBQUssV0FBWSxLQUczQ25CLEVBQXVCMWYsVUFBVWtoQixPQUFTLFNBQVVDLEdBQ2hEaGlCLEtBQUtpaUIsY0FBY0QsSUFJdkJ6QixFQUF1QjFmLFVBQVVvaEIsY0FBZ0IsU0FBVUQsR0FFdkQsR0FBSWhpQixLQUFLaWhCLGFBQWFyZixPQUFTLEVBQUcsQ0FDOUIsTUFBTXNnQixFQUFnQmxpQixLQUFLaWhCLGFBQWFqaEIsS0FBS2loQixhQUFhcmYsT0FBUyxHQUM3RHVnQixFQUFXbmlCLEtBQUt3aEIsT0FBTy9TLG1CQUN2QjJULEVBQWMsSUFBSTdWLEdBQUc4VixLQUNyQkMsRUFBUSxJQUFJL1YsR0FBRzhWLEtBQUtMLEVBQUtoaUIsS0FBS3VpQixlQUFnQlAsRUFBS2hpQixLQUFLdWlCLGVBQWdCUCxFQUFLaGlCLEtBQUt1aUIsZ0JBQ2xGQyxFQUFZLElBQUlqVyxHQUFHOFYsS0FBS0gsRUFBY3ZXLEVBQUd1VyxFQUFjdFcsRUFBR3NXLEVBQWNyVyxHQVU5RSxHQVRBdVcsRUFBWUssS0FBS0QsRUFBV0wsR0FDNUJDLEVBQVlNLFlBQ1pOLEVBQVlPLElBQUlMLEdBQ2hCRixFQUFZM0IsSUFBSTBCLEdBRWhCbmlCLEtBQUt3aEIsT0FBTy9HLGlCQUFpQjJILEdBQzdCcGlCLEtBQUs0aUIsWUFBWVYsR0FFVUUsRUFBWVMsU0FBU0wsR0FDdkIsSUFBTSxDQUMzQixNQUFNL08sRUFBY3pULEtBQUtpaEIsYUFBYS9KLE1BRUwsSUFBN0JsWCxLQUFLaWhCLGFBQWFyZixTQUNsQjVCLEtBQUt3aEIsT0FBT0ksS0FBSyxlQUFnQm5PLEdBQ2pDelQsS0FBS3doQixPQUFPQyxVQUFVSSxNQUFPLEVBQzdCN2hCLEtBQUt3aEIsT0FBT0MsVUFBVUMsS0FBSyxXQUFZLEtBRTNDMWhCLEtBQUt3aEIsT0FBT0ksS0FBSyxvQkFBcUJuTyxNQUtsRDhNLEVBQXVCMWYsVUFBVStoQixZQUFjLFNBQVVFLEdBQ3JELE1BQU1YLEVBQVduaUIsS0FBS3doQixPQUFPL1MsbUJBRXZCc1UsRUFBS0QsRUFBTW5YLEVBQUl3VyxFQUFTeFcsRUFDeEJxWCxFQUFLRixFQUFNalgsRUFBSXNXLEVBQVN0VyxFQUN4Qm9YLEVBQW1DLElBQXJCcFUsS0FBS3FVLE1BQU1ILEVBQUlDLEdBQVluVSxLQUFLc1UsR0FDcERuakIsS0FBS3doQixPQUFPNEIsZUFBZSxFQUFHSCxFQUFhLElBRy9DMUMsRUFBdUIxZixVQUFVd2lCLGFBQWUsV0FDNUNyakIsS0FBS3doQixPQUFPQyxVQUFVSSxNQUFPLEVBQzdCN2hCLEtBQUt3aEIsT0FBT0MsVUFBVUMsS0FBSyxVQUFXLEtBRzFDbkIsRUFBdUIxZixVQUFVeWlCLFdBQWEsV0FDMUN0akIsS0FBS3doQixPQUFPQyxVQUFVSSxNQUFPLEVBQzdCN2hCLEtBQUt3aEIsT0FBT0MsVUFBVUMsS0FBSyxVQUFXLEtBRzFDbkIsRUFBdUIxZixVQUFVMGlCLGNBQWdCLFdBQzdDdmpCLEtBQUt3aEIsT0FBT0MsVUFBVUksTUFBTyxFQUM3QjdoQixLQUFLd2hCLE9BQU9DLFVBQVVDLEtBQUssYUFBYyxNLDRGQ25NN0MsTUFBTSxTQUFFM2MsR0FBYSxFQUFRLEtBRXRCLE1BQU1pWSxVQUE4QmpZLEVBQ3ZDLGtCQUFvQixNQUFPLHlCQUUzQixZQUFZc1AsRUFBSXBQLEVBQWU4YixHQUMzQm5VLE1BQU1vUSxFQUFzQm5RLEtBQU93SCxHQUNuQ3JVLEtBQUtxVSxHQUFLQSxFQUVWLElBQUk1TixFQUFnQixDQUNoQiwwQkFDQSxxQkFBZ0N6RyxLQUFLcVUsR0FDckMsd0JBQW1DclUsS0FBS3FVLEdBQ3hDLDBCQUFxQ3JVLEtBQUtxVSxHQUMxQyxrQkFBNkJyVSxLQUFLcVUsR0FDbEMsbUJBQThCclUsS0FBS3FVLEdBQ25DLGdCQUEyQnJVLEtBQUtxVSxHQUNoQyxzQkFBaUNyVSxLQUFLcVUsR0FDdEMsaUJBQ0Esc0JBSUo1TixFQUFnQkEsRUFBY3hFLE9BQU84ZSxHQUVyQy9nQixLQUFLa0csc0JBQXNCTyxHQUUzQnpHLEtBQUtpRixjQUFnQkEsRUFDckJqRixLQUFLaUYsY0FBY3NELEdBQUcsb0JBQXFCdkksS0FBS3dqQixrQkFBbUJ4akIsTUFDbkVBLEtBQUtpRixjQUFjc0QsR0FBRyxlQUFnQnZJLEtBQUt5akIsbUJBQW9CempCLE1BR25FLFdBQVd1RixHQUNQcUgsTUFBTTlHLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNoQ3pCLEtBQUtpRixlQUNMakYsS0FBS2lGLGNBQWMyYyxLQUFLN2dCLEVBQWtCZixLQUFLcVUsTUFBTzVTLEdBRzFELElBQUssTUFBTWlpQixLQUFhMWpCLEtBQUtpRixjQUFjMkksT0FDdkMsR0FBSXBPLE9BQU9rRixlQUFlUyxLQUFLbkYsS0FBS2lGLGNBQWMySSxPQUFROFYsR0FBWSxDQUNsRSxNQUFNQyxFQUFrQjNqQixLQUFLaUYsY0FBYzJJLE9BQU84VixHQUVBLG1CQUF2Q0MsRUFBZ0J6YSxvQkFFdkJ5YSxFQUFnQnphLG1CQUFtQm5JLEVBQWtCZixLQUFLcVUsTUFBTzVTLEdBSzdFLE9BQVFWLEdBQ0osS0FBSyxpQkFDRGYsS0FBSzRqQixvQkFDTCxNQUNKLEtBQUsscUJBQ0QsTUFBTUMsRUFBZTdqQixLQUFLc0gsT0FBT25FLGNBQWMsVUFDekM2VyxFQUFxQmhhLEtBQUtzSCxPQUFPbkUsY0FBYyxTQUEwQm5ELEtBQUtxVSxJQUUvRTJGLEVBQW1CdkcsY0FDcEJ1RyxFQUFtQnZHLFlBQWNvUSxFQUFhQyxnQkFBZ0I5akIsS0FBS2lGLGNBQWN3SixxQkFFckYsTUFDSixLQUFLLHFCQUFnQ3pPLEtBQUtxVSxHQUN0Q3JVLEtBQUsrakIscUJBQXFCdGlCLEVBQUssSUFDL0IsTUFDSixLQUFLLHdCQUFtQ3pCLEtBQUtxVSxHQUN6Q3JVLEtBQUtna0Isd0JBQXdCdmlCLEVBQUssSUFDbEMsTUFDSixLQUFLLDBCQUFxQ3pCLEtBQUtxVSxHQUMzQ3JVLEtBQUtpa0IseUJBQXlCeGlCLEVBQUssSUFDbkMsTUFDSixLQUFLLHNCQUFpQ3pCLEtBQUtxVSxHQUN2QyxNQUFNNlAsRUFBWXppQixFQUFLLEdBQ3ZCekIsS0FBS2lGLGNBQWMySSxPQUErQix1QkFBRWdWLFlBQVlzQixHQUNoRSxNQUNKLEtBQUssa0JBQTZCbGtCLEtBQUtxVSxHQUNuQ3JVLEtBQUtpRixjQUFjMkksT0FBK0IsdUJBQUV5VixlQUNwRCxNQUNKLEtBQUssbUJBQThCcmpCLEtBQUtxVSxHQUNwQ3JVLEtBQUtpRixjQUFjMkksT0FBK0IsdUJBQUUyVixnQkFDcEQsTUFDSixLQUFLLGdCQUEyQnZqQixLQUFLcVUsR0FDakNyVSxLQUFLaUYsY0FBYzJJLE9BQStCLHVCQUFFMFYsY0FRaEUscUJBQXFCdkosR0FDakJoUyxRQUFRQyxJQUFJLHNCQUNaLE1BQU02YixFQUFlN2pCLEtBQUtzSCxPQUFPbkUsY0FBYyxVQUN6QzZXLEVBQXFCaGEsS0FBS3NILE9BQU9uRSxjQUFjLFNBQTBCbkQsS0FBS3FVLElBRS9FMkYsRUFBbUJ2RyxjQUNwQnVHLEVBQW1CdkcsWUFBY29RLEVBQWFDLGdCQUFnQjlqQixLQUFLaUYsY0FBY3dKLHFCQUdyRixNQUFNdUssRUFBTyxrQkFBb0JnQixFQUFtQnZHLFlBQWFzRyxHQUM3RGYsR0FBUUEsRUFBS3BYLE9BQVMsSUFDdEI1QixLQUFLaUYsY0FBYzJJLE9BQStCLHVCQUFFK1QsUUFBUTNJLEdBQzVEZ0IsRUFBbUJ2RyxZQUFjc0csR0FJekMsd0JBQXdCZixHQUNwQmhaLEtBQUtpRixjQUFjMkksT0FBK0IsdUJBQUUrVCxRQUFRM0ksR0FHaEUsbUNBQW1DQSxHQUcvQixPQUZBaFosS0FBS2lGLGNBQWMySSxPQUErQix1QkFBRStULFFBQVEzSSxHQUVyRCxJQUFJbUwsU0FBUSxDQUFDQyxFQUFTQyxLQUN6QnJrQixLQUFLaUYsY0FBY3NELEdBQUcsZ0JBQWdCLEtBQ2xDNmIsT0FHSnBrQixLQUFLaUYsY0FBY3NELEdBQUcsY0FBYyxLQUNoQzhiLFVBS1osa0JBQWtCQyxHQUNkdGtCLEtBQUtzSCxPQUFPdkQsaUJBQWlCLGtCQUE2Qi9ELEtBQUtxVSxHQUFJaVEsR0FJdkUsbUJBQW1CQSxHQUNmdGtCLEtBQUtzSCxPQUFPdkQsaUJBQWlCLGtCQUE0Qi9ELEtBQUtxVSxHQUFJaVEsR0FHdEUsaUJBQWlCalEsRUFBSW5JLEdBQ2pCLElBQUssTUFBTXFZLEtBQWN2a0IsS0FBS3drQixXQUN0QkQsRUFBV2pZLE9BQU9KLEtBQ2xCbE0sS0FBS2lGLGNBQWMySSxPQUErQix1QkFBRWdWLFlBQVkxVyxHQUNoRWxNLEtBQUtzSCxPQUFPdkQsaUJBQWlCLGlCQUEyQi9ELEtBQUtpRixjQUFlLENBQUNvUCxLQUt6RixvQkFDNEJyVSxLQUFLc0gsT0FBT25FLGNBQWMsU0FBMEJuRCxLQUFLcVUsSUFBSXJILEdBS3pGLHlCQUF5QmQsR0FDTWxNLEtBQUtzSCxPQUFPbkUsY0FBYyxTQUEwQm5ELEtBQUtxVSxJQUNqRVosWUFBY3ZILEVBQ2pDbE0sS0FBS2lGLGNBQWMySSxPQUErQix1QkFBRWtVLGFBQWE1VixNLG1EQzdKekUsTUFBTSxTQUFFbkgsR0FBYSxFQUFRLEtBRXRCLE1BQU0wZixVQUEyQjFmLEVBQ3BDLGtCQUFvQixNQUFPLHFCQUUzQixZQUFZRSxHQUNSMkgsTUFBTTZYLEVBQW1CNVgsTUFDekI3TSxLQUFLa0csc0JBQXNCLENBQ3ZCNEcsRUFBQSwwQkFFSjlNLEtBQUtpRixjQUFnQkEsRUFDckJqRixLQUFLaUYsY0FBY3NELEdBQUcsdUJBQXdCdkksS0FBSzBrQiwwQkFBMkIxa0IsTUFDOUVBLEtBQUtpRixjQUFjc0QsR0FBRyxvQkFBcUJ2SSxLQUFLMmtCLHVCQUF3QjNrQixNQUN4RUEsS0FBS2lGLGNBQWNzRCxHQUFHLFlBQWF2SSxLQUFLNGtCLGdCQUFpQjVrQixNQUk3RCxXQUFXdUYsR0FDUHFILE1BQU05RyxXQUFXUCxHQUdyQixtQkFBbUJ4RSxLQUFxQlUsR0FDcEMsT0FBUVYsR0FDSixLQUFLK0wsRUFBQSwwQkFLYiwwQkFBMEIrWCxHQUN0QjdrQixLQUFLc0gsT0FBT3ZELGlCQUFpQitJLEVBQUEsd0JBQW9DK1gsR0FHckUsdUJBQXVCM1ksR0FDbkJsTSxLQUFLc0gsT0FBT3ZELGlCQUFpQitJLEVBQUEsZ0JBQTRCWixHQUc3RCxnQkFBZ0I0WSxHQUNaOWtCLEtBQUtzSCxPQUFPdkQsaUJBQWlCK0ksRUFBQSxtQkFBK0JnWSxJQ3pDN0QsTUFBTUMsRUFBYXhZLEdBQUdDLGFBQWEsY0FLMUN1WSxFQUFXdkUsV0FBV0MsSUFBSSxXQUFZLENBQUVDLEtBQU0sU0FBVUUsUUFBUyxJQUFLRCxNQUFPLGFBQzdFb0UsRUFBV3ZFLFdBQVdDLElBQUksa0JBQW1CLENBQUVDLEtBQU0sU0FBVUUsUUFBUyxHQUFLRCxNQUFPLG9CQUNwRm9FLEVBQVd2RSxXQUFXQyxJQUFJLGtCQUFtQixDQUFFQyxLQUFNLFNBQVVFLFFBQVMsR0FBS0QsTUFBTyxvQkFFcEZvRSxFQUFXdkUsV0FBV0MsSUFBSSxpQkFBa0IsQ0FBRUMsS0FBTSxVQUFXRSxTQUFTLEVBQU9ELE1BQU8sb0JBQ3RGb0UsRUFBV3ZFLFdBQVdDLElBQUksa0JBQW1CLENBQUVDLEtBQU0sU0FBVUUsUUFBUyxFQUFHRCxNQUFPLHNCQUNsRm9FLEVBQVd2RSxXQUFXQyxJQUFJLGtCQUFtQixDQUFFQyxLQUFNLFNBQVVFLFFBQVMsSUFBS0QsTUFBTyxzQkFHcEZvRSxFQUFXbGtCLFVBQVU0TCxXQUFhLFdBQzlCek0sS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJtYixFQUFXLFdBQVgsS0FDN0J2ZCxLQUFLc0gsT0FBT3hELFlBQVlraEIsRUFBbUJuWSxPQUMzQzdNLEtBQUtzSCxPQUFPM0QsZUFBZXFoQixFQUFtQm5ZLE1BR2xEN00sS0FBS3NILE9BQU8vRCxpQkFBaUIsSUFBSXloQixFQUFtQmhsQixLQUFLd2hCLFVBSTdEdUQsRUFBV2xrQixVQUFVb2tCLGdCQUFrQixTQUFVQyxHQUM3Q2xsQixLQUFLa2xCLGFBQWVBLEVBQ3BCbGxCLEtBQUttbEIsU0FBV25sQixLQUFLd2hCLE9BQU80RCxpQkFBaUJ4WixFQUM3QzVMLEtBQUtxbEIsYUFBZXJsQixLQUFLd2hCLE9BQU8vUyxtQkFBbUI3QyxHQUd2RG1aLEVBQVdsa0IsVUFBVXlrQixXQUFhLFNBQVVSLEdBR3hDLEdBRkE5a0IsS0FBS21sQixVQUFZTCxFQUFVblosRUFBSTNMLEtBQUt1bEIsZ0JBRWhDdmxCLEtBQUt3bEIsZUFBZ0IsQ0FDckIsSUFBSUMsRUFBa0J6bEIsS0FBS3FsQixhQUFnQlAsRUFBVWxaLEVBQUk1TCxLQUFLMGxCLGdCQUM5REQsRUFBa0JsWixHQUFHb1osS0FBS0MsTUFBTUgsRUFBaUJ6bEIsS0FBSzZsQixnQkFBaUI3bEIsS0FBSzhsQixpQkFDNUU5bEIsS0FBS3FsQixhQUFlSSxJQUk1QlYsRUFBV2xrQixVQUFVa2xCLHdCQUEwQixTQUFVQyxHQUNyRCxNQUFNQyxFQUFpQmptQixLQUFLd2hCLE9BQU8vUyxtQkFFN0J5WCxFQUFVclgsS0FBS3NYLElBQUtubUIsS0FBYSxTQUFJNk8sS0FBS3NVLEdBQUssS0FBT25qQixLQUFLNmlCLFNBQzNEdUQsRUFBVXZYLEtBQUt3WCxJQUFLcm1CLEtBQWEsU0FBSTZPLEtBQUtzVSxHQUFLLEtBQU9uakIsS0FBSzZpQixTQUVqRSxPQUFPLElBQUl0VyxHQUFHOFYsS0FBSzJELEVBQVdyYSxFQUFJdWEsRUFBU0QsRUFBZXJhLEVBQUdvYSxFQUFXbmEsRUFBSXVhLElBSWhGckIsRUFBV2xrQixVQUFVa2hCLE9BQVMsU0FBVUMsR0FDcEMsR0FBSWhpQixLQUFLa2xCLGFBQWMsQ0FDbkIsTUFBTW9CLEVBQXVCdG1CLEtBQUtrbEIsYUFBYXpXLG1CQUN6QzhYLEVBQWlCdm1CLEtBQUsrbEIsd0JBQXdCTyxHQUU5Q0UsRUFBYXhtQixLQUFLd2hCLE9BQU8vUyxtQkFDekJnWSxHQUFVRixFQUFlNWEsRUFBbUIsRUFBZjZhLEVBQVc3YSxHQUFTLEdBQ2pEK2EsR0FBVTFtQixLQUFLcWxCLGFBQThCLEVBQWZtQixFQUFXNWEsR0FBUyxHQUNsRCthLEdBQVVKLEVBQWUxYSxFQUFtQixFQUFmMmEsRUFBVzNhLEdBQVMsR0FFdkQ3TCxLQUFLd2hCLE9BQU8vRyxpQkFBaUJnTSxFQUFRQyxFQUFRQyxHQUU3QzNtQixLQUFLd2hCLE9BQU9vRixPQUFPTixLQzNEM0IsTUFBUXZoQixTQUFRLEdBQUssRUFBUSxLQUV0QixNQUFNaWdCLFVBQTJCLEVBQ3BDLGtCQUFvQixNQUFPLHFCQUUzQixZQUFZL2YsR0FDUjJILE1BQU1vWSxFQUFtQm5ZLE1BQ3pCN00sS0FBS2tHLHNCQUFzQixDQUN2QjRHLEVBQUEsd0JBQW9DQSxFQUFBLG1CQUErQkEsRUFBQSxzQkFFdkU5TSxLQUFLaUYsY0FBZ0JBLEVBSXpCLFdBQVdNLEdBQ1BxSCxNQUFNOUcsV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ3BDLE9BQVFWLEdBQ0osS0FBSytMLEVBQUEsb0JBQ0Q5TSxLQUFLaUYsY0FBYzJJLE9BQW1CLFdBQUVxWCxnQkFBZ0J4akIsRUFBSyxJQUM3RCxNQUNKLEtBQUtxTCxFQUFBLG1CQUNEOU0sS0FBS2lGLGNBQWMySSxPQUFtQixXQUFFMFgsV0FBVzdqQixFQUFLLE1DdEJqRSxNQUFNb2xCLEVBQXNCdGEsR0FBR0MsYUFBYSx1QkFFbkRxYSxFQUFvQnJHLFdBQVdDLElBQUksZUFBZ0IsQ0FDL0NDLEtBQU0sU0FDTkMsTUFBTyxrQkFHWGtHLEVBQW9CckcsV0FBV0MsSUFBSSxXQUFZLENBQzNDQyxLQUFNLFNBQ05DLE1BQU8sWUFDUEMsUUFBUyxLQUdiaUcsRUFBb0JobUIsVUFBVWltQixPQUFTQSxPQUV2Q0QsRUFBb0JobUIsVUFBVTRMLFdBQWEsV0FDdkN6TSxLQUFLc0gsT0FBUyxFQUFBbEYsT0FBQSxZQUFtQm1iLEVBQVcsV0FBWCxLQUM3QnZkLEtBQUtzSCxPQUFPeEQsWUFBWTJnQixFQUFtQjVYLE9BQzNDN00sS0FBS3NILE9BQU8zRCxlQUFlOGdCLEVBQW1CNVgsTUFHbEQ3TSxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJa2hCLEVBQW1CemtCLEtBQUt3aEIsU0FDekR4aEIsS0FBSyttQixJQUFNLElBQUl4YSxHQUFHeWEsSUFDbEJobkIsS0FBS2luQixXQUFhLEdBR2xCam5CLEtBQUs4UCxJQUFJb1gsTUFBTUMscUJBQ2ZubkIsS0FBS29uQixlQUFpQixFQUN0QnBuQixLQUFLcW5CLFlBQWEsRUFFbEJybkIsS0FBSzhQLElBQUl2SCxHQUFHLGdCQUFpQnZJLEtBQUtzbkIsbUJBQW9CdG5CLE1BRWxEQSxLQUFLOFAsSUFBSW9YLFFBQ1RsbkIsS0FBSzhQLElBQUlvWCxNQUFNM2UsR0FBR2dFLEdBQUdnYixnQkFBaUJ2bkIsS0FBS3duQixZQUFheG5CLE1BQ3hEQSxLQUFLd2hCLE9BQU9pRyxRQUFRbGYsR0FBR2dFLEdBQUdtYixnQkFBaUIxbkIsS0FBSzJuQixZQUFhM25CLE1BQzdEQSxLQUFLOFAsSUFBSW9YLE1BQU0zZSxHQUFHZ0UsR0FBR3FiLGNBQWU1bkIsS0FBSzZuQixVQUFXN25CLE1BRXBEQSxLQUFLd2hCLE9BQU83WCxLQUFLLFdBQVcsS0FDeEIzSixLQUFLOFAsSUFBSW9YLE1BQU0zYixJQUFJZ0IsR0FBR2diLGdCQUFpQnZuQixLQUFLd25CLFlBQWF4bkIsTUFDekRBLEtBQUs4UCxJQUFJb1gsTUFBTTNiLElBQUlnQixHQUFHcWIsY0FBZTVuQixLQUFLNm5CLFVBQVc3bkIsVUFLekRBLEtBQUs4UCxJQUFJZ1ksUUFDVDluQixLQUFLOFAsSUFBSWdZLE1BQU12ZixHQUFHZ0UsR0FBR3diLGlCQUFrQkMsSUFDbkNob0IsS0FBS3duQixZQUFZUSxFQUFTQyxRQUFRLE9BR3RDam9CLEtBQUt3aEIsT0FBT2lHLFFBQVFsZixHQUFHZ0UsR0FBRzJiLGtCQUFtQkYsSUFDekNqZ0IsUUFBUUMsSUFBSWdnQixHQUNaaG9CLEtBQUsybkIsWUFBWUssRUFBU0MsUUFBUSxPQUd0Q2pvQixLQUFLd2hCLE9BQU9pRyxRQUFRbGYsR0FBR2dFLEdBQUc0YixnQkFBaUJILElBQ3ZDaG9CLEtBQUs2bkIsZ0JBSWI3bkIsS0FBS29vQixXQUVMcG9CLEtBQUs4bUIsT0FBT3VCLGlCQUFpQixTQUFVcm9CLEtBQUtvb0IsU0FBU3pmLEtBQUszSSxPQUFPLElBSXJFNm1CLEVBQW9CaG1CLFVBQVV1bkIsU0FBVyxXQUNyQyxNQUFNRSxFQUFpQnRvQixLQUFLOFAsSUFBSXdZLGVBQ2hDdmdCLFFBQVFDLElBQUksT0FBUXNnQixFQUFlQyxNQUFPRCxFQUFlRSxRQUdyREYsRUFBZUMsTUFBUUQsRUFBZUUsT0FDdEN4b0IsS0FBS3doQixPQUFPaUcsUUFBUWdCLE9BQU9BLE9BQU9DLFdBQWEsRUFFL0Mxb0IsS0FBS3doQixPQUFPaUcsUUFBUWdCLE9BQU9BLE9BQU9DLFdBQWEsR0FJdkQ3QixFQUFvQmhtQixVQUFVOG1CLFlBQWMsU0FBVTFkLEdBQ2xEakssS0FBS3FuQixZQUFhLEVBQ2xCcm5CLEtBQUtvbkIsZUFBaUJ1QixLQUFLQyxNQUMzQjVvQixLQUFLNm9CLGdCQUFrQixDQUFFbGQsRUFBRzFCLEVBQUkwQixFQUFHQyxFQUFHM0IsRUFBSTJCLElBSTlDaWIsRUFBb0JobUIsVUFBVTJtQixZQUFjLFNBQVV2ZCxHQUNsRCxHQUFJakssS0FBS3FuQixXQUFZLENBQ2pCLE1BQU12QyxFQUFZLElBQUl2WSxHQUFHdWMsS0FBSzlvQixLQUFLNm9CLGdCQUFnQmxkLEVBQUkxQixFQUFJMEIsRUFBRzNMLEtBQUs2b0IsZ0JBQWdCamQsRUFBSTNCLEVBQUkyQixHQUMzRjVMLEtBQUt3aEIsT0FBT0ksS0FBSyxZQUFha0QsR0FDOUI5a0IsS0FBSzZvQixnQkFBa0IsQ0FBRWxkLEVBQUcxQixFQUFJMEIsRUFBR0MsRUFBRzNCLEVBQUkyQixLQUlsRGliLEVBQW9CaG1CLFVBQVVnbkIsVUFBWSxXQUN0QzduQixLQUFLcW5CLFlBQWEsRUFFZHNCLEtBQUtDLE1BQVE1b0IsS0FBS29uQixlQUFrQyxJQUFoQnBuQixLQUFLK29CLFVBQ3JDL29CLEtBQUs2b0IsaUJBRUw3b0IsS0FBS2dwQix3QkFBd0JocEIsS0FBSzZvQixnQkFBZ0JsZCxFQUFHM0wsS0FBSzZvQixnQkFBZ0JqZCxJQUt0RmliLEVBQW9CaG1CLFVBQVVtb0Isd0JBQTBCLFNBQVVyZCxFQUFHQyxHQUNqRSxNQUFNcWQsRUFBZWpwQixLQUFLaXBCLGFBQ3BCQyxFQUFrQmxwQixLQUFLaXBCLGFBQWFFLE9BQzFDRCxFQUFnQkUsY0FBY3pkLEVBQUdDLEVBQUdzZCxFQUFnQkcsUUFBU3JwQixLQUFLK21CLElBQUlqQyxXQUN0RTlrQixLQUFLK21CLElBQUl1QyxPQUFPQyxLQUFLTixFQUFhTyxlQUNsQ3hwQixLQUFLK21CLElBQUlqQyxVQUFVMkUsSUFBSXpwQixLQUFLK21CLElBQUl1QyxRQUFRNUcsWUFFeEMxaUIsS0FBSzhQLElBQUk4UixLQUFLLGlCQUFrQjVoQixLQUFLK21CLElBQUssQ0FBRXBiLElBQUdDLE9BR25EaWIsRUFBb0JobUIsVUFBVXltQixtQkFBcUIsU0FBVW9DLEVBQWNDLEVBQWFDLEdBQ3BGNXBCLEtBQUtpbkIsV0FBV2xnQixLQUFLLENBQ2pCeWEsT0FBUWtJLEVBQ1JDLFlBQWFBLEVBQ2JFLGVBQWdCRCxLQUl4Qi9DLEVBQW9CaG1CLFVBQVVraEIsT0FBUyxTQUFVQyxHQUM3Q2hpQixLQUFLOHBCLHFCQUlUakQsRUFBb0JobUIsVUFBVWlwQixrQkFBb0IsV0FFOUMsR0FBSTlwQixLQUFLaW5CLFdBQVdybEIsT0FBUyxFQUFHLENBQzVCLElBQUltb0IsRUFBc0IvcEIsS0FBS2luQixXQUFXLEdBQ3RDK0MsR0FBbUIsRUFFdkIsSUFBSyxNQUFNQyxLQUFRanFCLEtBQUtpbkIsYUE2Qlh6RixFQTVCd0J5SSxFQUFLekksUUE2Qm5DMEksS0FBSzVnQixJQUFJLGlCQUNULEVBR1BrWSxFQUFPMEksS0FBSzVnQixJQUFJLGNBQ1QsR0FHSCxHQXBDbUIwZ0IsSUFDZkQsRUFBc0JFLEdBSTFCRixFQUFvQnZJLE9BQU8wSSxLQUFLNWdCLElBQUksa0JBQ3BDdEosS0FBS21xQixvQkFBb0JKLEVBQW9CdkksT0FBUXVJLEVBQW9CSixhQUd6RUksRUFBb0J2SSxPQUFPMEksS0FBSzVnQixJQUFJLGVBQ3BDdEosS0FBS29xQixpQkFBaUJMLEVBQW9CdkksT0FBUXVJLEVBQW9CSixhQUcxRTNwQixLQUFLaW5CLFdBQWEsR0FjMUIsSUFBcUJ6RixHQVZyQnFGLEVBQW9CaG1CLFVBQVVzcEIsb0JBQXNCLFNBQVVULEVBQWNDLEdBQ3hFM3BCLEtBQUt3aEIsT0FBT0ksS0FBSyx1QkFBd0I4SCxJQUc3QzdDLEVBQW9CaG1CLFVBQVV1cEIsaUJBQW1CLFNBQVVWLEVBQWNDLEdBQ3JFLE1BQ01qTCxFQURVZ0wsRUFBYTliLE9BQTRCLG9CQUM3QnljLGVBQWVWLEdBQzNDM3BCLEtBQUt3aEIsT0FBT0ksS0FBSyxvQkFBcUJsRCxNQ2xLdEM0TCxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVOXFCLFFBRzNDLElBQUkrTCxFQUFTNmUsRUFBeUJFLEdBQVksQ0FHakQ5cUIsUUFBUyxJQU9WLE9BSEErcUIsRUFBb0JELEdBQVVybEIsS0FBS3NHLEVBQU8vTCxRQUFTK0wsRUFBUUEsRUFBTy9MLFFBQVM2cUIsR0FHcEU5ZSxFQUFPL0wsUUNuQmY2cUIsRUFBb0JubUIsRUFBSSxDQUFDMUUsRUFBU2dyQixLQUNqQyxJQUFJLElBQUkzcUIsS0FBTzJxQixFQUNYSCxFQUFvQkksRUFBRUQsRUFBWTNxQixLQUFTd3FCLEVBQW9CSSxFQUFFanJCLEVBQVNLLElBQzVFUCxPQUFPQyxlQUFlQyxFQUFTSyxFQUFLLENBQUUwRixZQUFZLEVBQU1ELElBQUtrbEIsRUFBVzNxQixNQ0ozRXdxQixFQUFvQkksRUFBSSxDQUFDQyxFQUFLQyxJQUFTcnJCLE9BQU9xQixVQUFVNkQsZUFBZVMsS0FBS3lsQixFQUFLQyxHQ0NqRk4sRUFBb0JPLEVBQUtwckIsSUFDSCxvQkFBWHFyQixRQUEwQkEsT0FBT0MsYUFDMUN4ckIsT0FBT0MsZUFBZUMsRUFBU3FyQixPQUFPQyxZQUFhLENBQUVyckIsTUFBTyxXQUU3REgsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSywyQkNMdkQsTUFBTSxPQUFFeUMsR0FBVyxFQUFRLE1BRW5CbWIsV0FBVSxHQUFLLEVBQVEsS0FFbEIwTixFQUFjMWUsR0FBR0MsYUFBYSxlQUczQ3llLEVBQVlwcUIsVUFBVTRMLFdBQWEsV0FDL0J6TSxLQUFLc0gsT0FBU2xGLEVBQU94QixZQUFZLEVBQVdzcUIsS0FDNUNsckIsS0FBS3NILE9BQU92RCxpQkFBaUIrSSxFQUFBLG1CQUM3QjlNLEtBQUtzSCxPQUFPdkQsaUJBQWlCK0ksRUFBQSxlQUEyQixTQUk1RG1lLEVBQVlwcUIsVUFBVWtoQixPQUFTLFNBQVVDLEssYUNYbEMsTUFBTW1KLEVBQXNCNWUsR0FBR0MsYUFBYSx1QkFFbkQyZSxFQUFvQjNLLFdBQVdDLElBQUksc0JBQXVCLENBQ3REQyxLQUFNLFNBQ04zUCxPQUFPLEVBQ1A0UCxNQUFPLHlCQUdYd0ssRUFBb0J0cUIsVUFBVTRMLFdBQWEsV0FDdkMsTUFBTTJlLEVBQVFwckIsS0FBS3doQixPQUFPN1MsZ0JBQ3BCMGMsRUFBYyxJQUFJOWUsR0FBRzhWLEtBQUsrSSxFQUFNemYsRUFBSSxFQUFHLElBQU15ZixFQUFNdmYsRUFBSSxHQUM3RDdMLEtBQUtzckIsS0FBTyxJQUFJL2UsR0FBR2dmLFlBQVl2ckIsS0FBS3doQixPQUFPZ0ksY0FBZTZCLEdBQzFEcnJCLEtBQUs4UCxJQUFJdkgsR0FBRyxpQkFBa0J2SSxLQUFLd3JCLGNBQWV4ckIsTUFFbERBLEtBQUt3aEIsT0FBT25SLFdBQVcsU0FBU29iLFNBQVUsR0FJOUNOLEVBQW9CdHFCLFVBQVUycUIsY0FBZ0IsU0FBVXpFLEVBQUs2QyxHQUN6RCxNQUFNRCxFQUFjLElBQUlwZCxHQUFHOFYsS0FDWnJpQixLQUFLc3JCLEtBQUtJLGNBQWMzRSxFQUFLNEMsSUFFeEMzcEIsS0FBSzhQLElBQUk4UixLQUFLLGdCQUFpQjVoQixLQUFLd2hCLE9BQVFtSSxFQUFhQyxJQU9qRXVCLEVBQW9CdHFCLFVBQVVrTixRQUFVLFNBQVU0ZCxHQUM5QzNyQixLQUFLMnJCLFNBQVdBLEdBR3BCUixFQUFvQnRxQixVQUFVd04sUUFBVSxXQUNwQyxPQUFPck8sS0FBSzJyQixVQUdoQlIsRUFBb0J0cUIsVUFBVXdwQixlQUFpQixTQUFVNUwsR0FDckQsSUFBSUMsRUFBYzFlLEtBQUsyckIsU0FBUyxHQUM1QmhOLEVBQXdCMUYsRUFBQSxpQkFBcUJ5RixFQUFhRCxHQUM5RCxJQUFLLE1BQU12UyxLQUFRbE0sS0FBSzJyQixTQUFVLENBQzlCLE1BQU0vTSxFQUFhM0YsRUFBQSxpQkFBcUIvTSxFQUFNdVMsR0FFMUNHLEVBQWFELElBQ2JBLEVBQXdCQyxFQUN4QkYsRUFBY3hTLEdBR3RCLE9BQU93UyxHLHVEQ25ESixNQUFNa04sRUFBNkJyZixHQUFHQyxhQUFhLDhCQVUxRG9mLEVBQTJCcEwsV0FBV0MsSUFBSSxhQUFjLENBQ3BEQyxLQUFNLFNBQ05DLE1BQU8sY0FDUEMsUUFBUyxJQUliZ0wsRUFBMkIvcUIsVUFBVTRMLFdBQWEsV0FDOUN6TSxLQUFLd2hCLE9BQU81VCxPQUErQix1QkFBRWtULHdCQUF3QmhVLEVBQUEsb0JBQ3JFOU0sS0FBS3doQixPQUFPNVQsT0FBK0IsdUJBQUVrVCx3QkFBd0JoVSxFQUFBLGdCQUE2QixVQUVsRzlNLEtBQUt3aEIsT0FBT2paLEdBQUd1RSxFQUFBLG1CQUErQjlNLEtBQUs2ckIscUJBQXNCN3JCLE1BQ3pFQSxLQUFLd2hCLE9BQU9qWixHQUFHdUUsRUFBQSxnQkFBNkIsU0FBVTlNLEtBQUs4ckIsa0JBQW1COXJCLE9BR2xGNHJCLEVBQTJCL3FCLFVBQVVnckIscUJBQXVCLFNBQVV4WCxLQUFPNVMsR0FDekUsTUFBTTZGLEVBQVMsRUFBQWxGLE9BQUEsWUFBbUJtYixFQUFXLFdBQVgsS0FDNUI1RSxFQUFpQnJSLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQnlDLEdBQ2hFckgsRUFBSzJMLEVBQWUzTCxHQUUxQixJQUFLQSxFQUFHeUcsWUFBYSxDQUNqQixNQUFNb1EsRUFBZXZjLEVBQU9uRSxjQUFjbUwsRUFBQSxRQUMxQ3FLLEVBQWVsRixZQUFjb1EsRUFBYUMsZ0JBQWdCOWpCLEtBQUt3aEIsT0FBTy9TLG9CQUN0RXpCLEVBQUdtUixTQUFXbEYsRUFBQSxxQkFBeUJqTSxFQUFHeUcsWUFBYXpULEtBQUsrckIsY0FLcEVILEVBQTJCL3FCLFVBQVVpckIsa0JBQW9CLFNBQVV6WCxFQUFJbkksR0FDbkUsTUFBTTVFLEVBQVMsRUFBQWxGLE9BQUEsWUFBbUJtYixFQUFXLFdBQVgsS0FDNUJ2USxFQUFLMUYsRUFBT25FLGNBQWN5TyxFQUFBLE9BQTBCeUMsR0FBSXJILEdBQ3hENEcsRUFBWXRNLEVBQU9uRSxjQUFjNEosRUFBQSxRQUFxQkMsR0FDdEQyTCxFQUFpQnJSLEVBQU9uRSxjQUFjeU8sRUFBQSxPQUEwQnlDLEdBR3RFLEdBQUlULEVBQVVDLGVBQWlCLEVBQUFaLGtCQUFBLGNBQWlDMEYsRUFBZUYsT0FJL0UsSUFBSyxNQUFNdVQsS0FBWWhmLEVBQUdtUixTQUNsQjZOLEVBQVMxZixPQUFPSixLQUNoQmxNLEtBQUt3aEIsT0FBTzVULE9BQStCLHVCQUFFZ1YsWUFBWTFXLEdBRXpENUUsRUFBT3ZELGlCQUFpQitJLEVBQUEsd0JBQXFDLFNBQVVaLEdBQ3ZFNUUsRUFBT3ZELGlCQUFpQitJLEVBQUEsZUFBMkJ1SCxLQ3BEL0QsTUFBTSxTQUFFdFAsR0FBYSxFQUFRLEtBRXRCLE1BQU1rbkIsVUFBNkJsbkIsRUFDdEMsa0JBQW9CLE1BQU8sdUJBRTNCLFlBQVlFLEdBQ1IySCxNQUFNcWYsRUFBcUJwZixNQUMzQjdNLEtBQUtrRyxzQkFBc0IsQ0FDdkI0RyxFQUFBLHVCQUdKOU0sS0FBS2lGLGNBQWdCQSxFQUd6QixXQUFXTSxHQUNQcUgsTUFBTTlHLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUsrTCxFQUFBLHFCQUNEOU0sS0FBS2lGLGNBQWMySSxPQUE4QixzQkFBRXNlLFdBQVd6cUIsRUFBSyxNQ25CNUUsTUFBTTBxQixFQUF3QjVmLEdBQUdDLGFBQWEseUJBRXJEMmYsRUFBc0IzTCxXQUFXQyxJQUFJLGNBQWUsQ0FBRUMsS0FBTSxTQUFVQyxNQUFPLGlCQUM3RXdMLEVBQXNCM0wsV0FBV0MsSUFBSSxjQUFlLENBQUVDLEtBQU0sU0FBVUUsUUFBUyxFQUFHRCxNQUFPLGlCQUd6RndMLEVBQXNCdHJCLFVBQVU0TCxXQUFhLFdBQ3pDek0sS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJtYixFQUFXLFdBQVgsS0FDN0J2ZCxLQUFLc0gsT0FBT3hELFlBQVltb0IsRUFBcUJwZixPQUM3QzdNLEtBQUtzSCxPQUFPM0QsZUFBZXNvQixFQUFxQnBmLE1BR3BEN00sS0FBS29zQixhQUFlLEdBQ3BCcHNCLEtBQUtxc0Isb0JBQWlCaHJCLEVBRXRCckIsS0FBS3NILE9BQU8vRCxpQkFBaUIsSUFBSTBvQixFQUFxQmpzQixLQUFLd2hCLFVBRy9EMkssRUFBc0J0ckIsVUFBVXFyQixXQUFhLFNBQVVJLEdBQ2xCLElBQTdCdHNCLEtBQUtvc0IsYUFBYXhxQixRQUNsQjVCLEtBQUtvc0IsYUFBYXJsQixLQUFLdWxCLEdBQ3ZCdHNCLEtBQUt1c0IsbUJBRUx2c0IsS0FBS29zQixhQUFhcmxCLEtBQUt1bEIsSUFLL0JILEVBQXNCdHJCLFVBQVUwckIsZ0JBQWtCLFdBQzlDLEdBQUl2c0IsS0FBS29zQixhQUFheHFCLE9BQVMsRUFBRyxDQUM5QixNQUFNNHFCLEVBQWN4c0IsS0FBS29zQixhQUFhLEdBRXRDcHNCLEtBQUt5c0IsWUFBWWhGLFFBQVFpRixLQUFPRixFQUVoQ3BhLFlBQVcsS0FDUHBTLEtBQUtvc0IsYUFBYXBhLFFBQ2xCaFMsS0FBS3VzQixvQkFDYSxJQUFuQnZzQixLQUFLMnNCLGtCQUVSM3NCLEtBQUt5c0IsWUFBWWhGLFFBQVFpRixLQUFPLElDM0NBbmdCLEdBQUdDLGFBQWEsNEJBTS9CM0wsVUFBVW1nQixlQUFpQixXQUNqQyxFQUFBNWUsT0FBQSxZQUFtQm1iLEVBQVcsV0FBWCxLQUMzQnhaLGlCQUFpQitJLEVBQUEsb0JBQWdDOU0sS0FBS3doQixTLE9DSGpFLE1BQVF6YyxTQUFRLEdBQUssRUFBUSxLQUV0QixNQUFNNm5CLFVBQWtDLEVBQzNDLGtCQUFvQixNQUFPLDRCQUUzQixZQUFZM25CLEdBQ1IySCxNQUFNZ2dCLEVBQTBCL2YsTUFDaEM3TSxLQUFLa0csc0JBQXNCLENBQ3ZCNEcsRUFBQSx3QkFDQUEsRUFBQSw0QkFDQUEsRUFBQSxvQkFHSjlNLEtBQUtpRixjQUFnQkEsRUFFckJqRixLQUFLaUYsY0FBY3NELEdBQUcsZ0JBQWlCdkksS0FBSzZzQixjQUFlN3NCLE1BRy9ELFdBQVd1RixHQUNQcUgsTUFBTTlHLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUsrTCxFQUFBLHdCQUNEOU0sS0FBS2lGLGNBQWN3bUIsU0FBVSxFQUM3QixNQUNKLEtBQUszZSxFQUFBLDRCQUNEOU0sS0FBS2lGLGNBQWN3bUIsU0FBVSxFQUM3QixNQUNKLEtBQUszZSxFQUFBLGtCQUNEOU0sS0FBS2lGLGNBQWN3bUIsU0FBVSxHQUt6QyxjQUFjeGhCLEdBQ1ZqSyxLQUFLK0QsaUJBQWlCK0ksRUFBQSxvQkN0Q3ZCLE1BQU1nZ0IsRUFBNkJ2Z0IsR0FBR0MsYUFBYSw4QkFFMURzZ0IsRUFBMkJ0TSxXQUFXQyxJQUFJLGdCQUFpQixDQUFFQyxLQUFNLFNBQVVDLE1BQU8sb0JBR3BGbU0sRUFBMkJqc0IsVUFBVTRMLFdBQWEsYUFJbERxZ0IsRUFBMkJqc0IsVUFBVTRMLFdBQWEsV0FFOUN6TSxLQUFLc0gsT0FBUyxFQUFBbEYsT0FBQSxZQUFtQm1iLEVBQVcsV0FBWCxLQUM3QnZkLEtBQUtzSCxPQUFPeEQsWUFBWThvQixFQUEwQi9mLE9BQ2xEN00sS0FBS3NILE9BQU8zRCxlQUFlaXBCLEVBQTBCL2YsTUFHekQ3TSxLQUFLb3NCLGFBQWUsR0FDcEJwc0IsS0FBS3FzQixvQkFBaUJockIsRUFFdEJyQixLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJcXBCLEVBQTBCNXNCLEtBQUt3aEIsU0FFaEV4aEIsS0FBSytzQixjQUFjdEYsUUFBUWxmLEdBQUcsUUFBU3ZJLEtBQUtndEIsYUFBY2h0QixPQUc5RDhzQixFQUEyQmpzQixVQUFVbXNCLGFBQWUsU0FBVS9pQixHQUMxRGpLLEtBQUt3aEIsT0FBT0ksS0FBSyxrQkM3QmQsTUFBTXFMLEVBQWtCMWdCLEdBQUdDLGFBQWEsbUJBRy9DeWdCLEVBQWdCcHNCLFVBQVU0TCxXQUFhLFdBQ25DLE1BQU0yZSxFQUFRcHJCLEtBQUt3aEIsT0FBTzdTLGdCQUNwQjBjLEVBQWMsSUFBSTllLEdBQUc4VixLQUFLK0ksRUFBTXpmLEVBQUksRUFBR3lmLEVBQU14ZixFQUFJLEVBQUd3ZixFQUFNdmYsRUFBSSxHQUNwRTdMLEtBQUtzckIsS0FBTyxJQUFJL2UsR0FBR2dmLFlBQVl2ckIsS0FBS3doQixPQUFPZ0ksY0FBZTZCLEdBQzFEcnJCLEtBQUs4UCxJQUFJdkgsR0FBRyxpQkFBa0J2SSxLQUFLd3JCLGNBQWV4ckIsTUFFbERBLEtBQUt3aEIsT0FBT3RlLE1BQU11b0IsU0FBVSxHQUloQ3dCLEVBQWdCcHNCLFVBQVUycUIsY0FBZ0IsU0FBVXpFLEVBQUs2QyxHQUNyRCxNQUFNRCxFQUFjLElBQUlwZCxHQUFHOFYsS0FDWnJpQixLQUFLc3JCLEtBQUtJLGNBQWMzRSxFQUFLNEMsSUFFeEMzcEIsS0FBSzhQLElBQUk4UixLQUFLLGdCQUFpQjVoQixLQUFLd2hCLE9BQU83USxPQUFRZ1osRUFBYUMsSUFJeEVxRCxFQUFnQnBzQixVQUFVa2hCLE9BQVMsU0FBVUMsR0FDekNoaUIsS0FBS3NyQixLQUFLNEIsT0FBTzNELEtBQUt2cEIsS0FBS3doQixPQUFPZ0ksZ0JDcEJ0QyxNQUFRemtCLFNBQVEsR0FBSyxFQUFRLEtBRXRCLE1BQU1vb0IsVUFBNEIsRUFDckMsa0JBQW9CLE1BQU8sc0JBRTNCLFlBQVlsb0IsR0FDUjJILE1BQU11Z0IsRUFBb0J0Z0IsTUFDMUI3TSxLQUFLa0csc0JBQXNCLENBQ3ZCNEcsRUFBQSxvQkFBZ0NBLEVBQUEsd0JBQ2hDQSxFQUFBLHNCQUVKOU0sS0FBS2lGLGNBQWdCQSxFQUVyQmpGLEtBQUtpRixjQUFjc0QsR0FBRyxxQkFBc0J2SSxLQUFLb3RCLHdCQUF5QnB0QixNQUk5RSxXQUFXdUYsR0FDUHFILE1BQU05RyxXQUFXUCxHQUdyQixtQkFBbUJ4RSxLQUFxQlUsR0FDcEMsT0FBUVYsR0FDSixLQUFLK0wsRUFBQSx3QkFDRCxNQUFNZ1AsRUFBYXJhLEVBQUssR0FDeEJ6QixLQUFLaUYsY0FBYzJJLE9BQTZCLHFCQUFFeWYsYUFBYXZSLEdBQy9ELE1BQ0osS0FBS2hQLEVBQUEsc0JBT2Isd0JBQXdCZ1AsR0FFcEI5YixLQUFLc0gsT0FBT3ZELGlCQUFpQitJLEVBQUEsb0JBQWdDZ1AsSUN0QzlELE1BQU13UixFQUF3Qi9nQixHQUFHQyxhQUFhLHlCQUdyRDhnQixFQUFzQjlNLFdBQVdDLElBQUksU0FBVSxDQUFFQyxLQUFNLFNBQVVDLE1BQU8sV0FDeEUyTSxFQUFzQjlNLFdBQVdDLElBQUksa0JBQW1CLENBQUVDLEtBQU0sU0FBVUMsTUFBTyxxQkFDakYyTSxFQUFzQjlNLFdBQVdDLElBQUksYUFBYyxDQUFFQyxLQUFNLFNBQVVDLE1BQU8sZ0JBQzVFMk0sRUFBc0I5TSxXQUFXQyxJQUFJLFlBQWEsQ0FBRUMsS0FBTSxRQUFTQyxNQUFPLGVBRzFFMk0sRUFBc0J6c0IsVUFBVTRMLFdBQWEsV0FDekN6TSxLQUFLdXRCLGdCQUFnQjlCLFNBQVUsRUFDL0J6ckIsS0FBS3doQixPQUFPalosR0FBRyxnQkFBaUJ2SSxLQUFLd3RCLG1CQUFvQnh0QixNQUN6REEsS0FBS3doQixPQUFPaUcsUUFBUWxmLEdBQUcsUUFBU3ZJLEtBQUt5dEIsWUFBYXp0QixPQUd0RHN0QixFQUFzQnpzQixVQUFVNHNCLFlBQWMsU0FBVXhqQixHQUNwRGpLLEtBQUt3aEIsT0FBTzdRLE9BQU9pUixLQUFLLHFCQUFzQjVoQixLQUFLdUcsU0FHdkQrbUIsRUFBc0J6c0IsVUFBVTJzQixtQkFBcUIsU0FBVWpuQixHQUMzRHZHLEtBQUt1dEIsZ0JBQWdCOUIsUUFBV3pyQixLQUFLdUcsU0FBV0EsR0NwQjdDLE1BQU1tbkIsRUFBdUJuaEIsR0FBR0MsYUFBYSx3QkFNcERraEIsRUFBcUJsTixXQUFXQyxJQUFJLGdCQUFpQixDQUFFQyxLQUFNLFNBQVVDLE1BQU8saUJBQWtCNVAsT0FBTyxJQUd2RzJjLEVBQXFCN3NCLFVBQVU0TCxXQUFhLFdBQ3hDek0sS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJtYixFQUFXLFdBQVgsS0FDN0J2ZCxLQUFLc0gsT0FBT3hELFlBQVlxcEIsRUFBb0J0Z0IsT0FDNUM3TSxLQUFLc0gsT0FBTzNELGVBQWV3cEIsRUFBb0J0Z0IsTUFHbkQ3TSxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJNHBCLEVBQW9CbnRCLEtBQUt3aEIsVUFHOURrTSxFQUFxQjdzQixVQUFVd3NCLGFBQWUsU0FBVXZSLEdBQ3BELElBQUssTUFBTTZSLEtBQVUzdEIsS0FBSzR0QixjQUN0QkQsRUFBTy9MLEtBQUssZ0JBQWlCOUYsSUNwQkp2UCxHQUFHQyxhQUFhLHFCQUUvQjNMLFVBQVU0TCxXQUFhLFdBQ3JDek0sS0FBS3doQixPQUFPaUcsUUFBUWxmLEdBQUdnRSxHQUFHbWIsaUJBQWtCemQsSUFDeENBLEVBQUk0akIscUJBR1I3dEIsS0FBS3doQixPQUFPaUcsUUFBUWxmLEdBQUdnRSxHQUFHbWIsaUJBQWtCemQsSUFDeENBLEVBQUk0akIscUJBR1I3dEIsS0FBS3doQixPQUFPaUcsUUFBUWxmLEdBQUdnRSxHQUFHMmIsa0JBQW1CamUsSUFDekNBLEVBQUk0akIscUJBR1I3dEIsS0FBS3doQixPQUFPaUcsUUFBUWxmLEdBQUdnRSxHQUFHd2IsaUJBQWtCOWQsSUFDeENBLEVBQUk0akIscUJBR1I3dEIsS0FBS3doQixPQUFPaUcsUUFBUWxmLEdBQUdnRSxHQUFHNGIsZ0JBQWlCbGUsSUFDdkNBLEVBQUk0akIsc0JDcEJaLE1BQVF6ckIsT0FBTSxHQUFLLEVBQVEsTUFDckIsUUFBRTlCLEdBQVksRUFBUSxLQTBCZixJQVpiLE1BQ0ksY0FDSXlILFFBQVFDLElBQUksY0FDWjFILEVBQVFDLE9BQVEsRUFDaEIsRUFBT0ssWUFBYzJjLEVBQVcsV0FBWCxZQUNyQnhWLFFBQVFDLElBQUksR0FFWmhJLEtBQUtzSCxPQUFTLEVBQU8xRyxZQUFZMmMsRUFBVyxXQUFYLEtBQ2pDdmQsS0FBS3NILE9BQU93bUIsUUFBUTl0QixTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJjb250cm9sbGVyIGtleSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZFwiO1xudmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29udHJvbGxlcihrZXkpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kTWFwID0ge307XG4gICAgICAgIGlmIChDb250cm9sbGVyLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dDb21tYW5kIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgIH1cbiAgICBDb250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBDb250cm9sbGVyKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSA9IGNvbW1hbmRDbGFzc1JlZjtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZU9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZXhlY3V0ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tbWFuZCA9IHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIoQ29udHJvbGxlci5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQuYXBwbHkodm9pZCAwLCBbdGhpcy5tdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNENEJGRTBcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzg3MjRCRFwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiXG4gICAgXTtcbiAgICBDb250cm9sbGVyLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIENvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2xsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRyb2xsZXJcIik7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL01vZGVsXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIkZhY2FkZSBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBGYWNhZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFjYWRlKGtleSkge1xuICAgICAgICBpZiAoRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVOb3RpZmllcihrZXkpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVGYWNhZGUoKTtcbiAgICB9XG4gICAgRmFjYWRlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLmhhc0NvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEZhY2FkZS5yZW1vdmVDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE1vZGVsXzEuTW9kZWwucmVtb3ZlTW9kZWwoa2V5KTtcbiAgICAgICAgVmlld18xLlZpZXcucmVtb3ZlVmlldyhrZXkpO1xuICAgICAgICBDb250cm9sbGVyXzEuQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyKGtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZWdpc3RlckNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZW1vdmVDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHRoaXMubW9kZWwucmVnaXN0ZXJQcm94eShwcm94eSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJldHJpZXZlUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZW1vdmVQcm94eShwcm94eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuaGFzUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJNZWRpYXRvcihtZWRpYXRvcik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmV0cmlldmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZW1vdmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnNsZWVwTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hd2FrZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lmhhc01lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLmFwcGx5KHRoaXMsIFtGYWNhZGUuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAoX2EgPSB0aGlzLnZpZXcpLm5vdGlmeU9ic2VydmVycy5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlci5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwgPSBNb2RlbF8xLk1vZGVsLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMkYyRTE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiNGRkYzMjVcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIlxuICAgIF07XG4gICAgRmFjYWRlLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIEZhY2FkZTtcbn0oKSk7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2FkZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIk1lZGlhdG9yXCI7XG52YXIgTWVkaWF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lZGlhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lZGlhdG9yKG1lZGlhdG9yTmFtZSwgdmlld0NvbXBvbmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ01lZGlhdG9yIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgX3RoaXMubWVkaWF0b3JOYW1lID0gbWVkaWF0b3JOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICBfdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zID0gW107XG4gICAgICAgIF90aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldE1lZGlhdG9yTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JOYW1lO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnNldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAodmlld0NvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblNsZWVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwic2xlZXBcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25Bd2FrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJhd2FrZVwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwiaXNTbGVlcGluZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xlZXBpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmFkZFN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUudW5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuY2hhbmdlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2xkTm90aWZpY2F0aW9ucyA9IHRoaXMubm90aWZpY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uTmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25OYW1lLmZvckVhY2goZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbChfdGhpcywgbm90aWZpY2F0aW9uKSB8fCBjaGFuZ2VkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwodGhpcywgbm90aWZpY2F0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKHRoaXMsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuYWRkU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRjRGNkZFXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMzNjU2QzFcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIlxuICAgIF07XG4gICAgcmV0dXJuIE1lZGlhdG9yO1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZWRpYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIk1vZGVsIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGVsKGtleSkge1xuICAgICAgICB0aGlzLnByb3h5TWFwID0ge307XG4gICAgICAgIGlmIChNb2RlbC5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgIH1cbiAgICBNb2RlbC5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgTW9kZWwoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucmVtb3ZlTW9kZWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICBwcm94eS5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIHRoaXMucHJveHlNYXBbcHJveHkuZ2V0UHJveHlOYW1lKCldID0gcHJveHk7XG4gICAgICAgIHByb3h5Lm9uUmVnaXN0ZXIoKTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHByb3h5Lm9uUmVtb3ZlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBNb2RlbC5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBNb2RlbDtcbn0oKSk7XG5leHBvcnRzLk1vZGVsID0gTW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9GYWNhZGVcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJtdWx0aXRvbktleSBmb3IgdGhpcyBOb3RpZmllciBub3QgeWV0IGluaXRpYWxpemVkIVwiO1xudmFyIE5vdGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIH1cbiAgICBOb3RpZmllci5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmZhY2FkZSA9IHRoaXMuZ2V0RmFjYWRlKCk7XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZmFjYWRlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZhY2FkZSkuc2VuZE5vdGlmaWNhdGlvbi5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5nZXRGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpdG9uS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlXzEuRmFjYWRlLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vdGlmaWVyO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIlByb3h5XCI7XG52YXIgUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3h5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb3h5KHByb3h5TmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm94eU5hbWUgPSBwcm94eU5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dQcm94eSA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUHJveHkucHJvdG90eXBlLmdldFByb3h5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlOYW1lO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIFByb3h5Ll9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMTAyNDE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMyN0QwNENcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIlxuICAgIF07XG4gICAgcmV0dXJuIFByb3h5O1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLlByb3h5ID0gUHJveHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm94eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1cmVNVkMoKSB7XG4gICAgfVxuICAgIFB1cmVNVkMubG9nQ29tbWFuZCA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZE5hbWUpIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiID0+ICBcIiArIGNvbW1hbmROYW1lICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIjogYXJncyBbIFwiICsgYXJncyArIFwiIF0gJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTWVkaWF0b3IgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nUHJveHkgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm9uZSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncykge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgcmV0dXJuIFB1cmVNVkM7XG59KCkpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1cmVNVkMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJWaWV3IGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlldyhrZXkpIHtcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKFZpZXcuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH1cbiAgICBWaWV3LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBWaWV3KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucmVtb3ZlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24obm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmV2ZW50RW1pdHRlcikuZW1pdC5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWUsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhdG9yLmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG1lZGlhdG9yIGZvciByZXRyaWV2YWwgYnkgbmFtZVxuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSA9IG1lZGlhdG9yO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgbWVkaWF0b3Iub25SZWdpc3Rlcih0aGlzLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIGF3YWtlblxuICAgICAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVkaWF0b3IgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgbWVkaWF0b3Iub25SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKG1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBzbGVwdFxuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBmb3IgZXZlcnkgbm90aWZpY2F0aW9uIHRoZSBtZWRpYXRvciBpcyBpbnRlcmVzdGVkIGluLi4uXG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18xID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18xW19pXTtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmVzdFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGdldCBub3RpZmljYXRpb24gaW50ZXJlc3RzIGlmIGFueVxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIC8vIHJlZ2lzdGVyIG1lZGlhdG9yIGFzIGFuIG9ic2VydmVyIGZvciBlYWNoIG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzJbX2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBmdW5jdGlvbiAobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIFZpZXcuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gVmlldztcbn0oKSk7XG5leHBvcnRzLlZpZXcgPSBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlclwiKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyO1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0ZhY2FkZVwiKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlXzEuRmFjYWRlO1xudmFyIE1lZGlhdG9yXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTWVkaWF0b3JcIik7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3JfMS5NZWRpYXRvcjtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01vZGVsXCIpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsXzEuTW9kZWw7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Ob3RpZmllclwiKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcl8xLk5vdGlmaWVyO1xudmFyIFByb3h5XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHJveHlcIik7XG5leHBvcnRzLlByb3h5ID0gUHJveHlfMS5Qcm94eTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQ1wiKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkNfMS5QdXJlTVZDO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9WaWV3XCIpO1xuZXhwb3J0cy5WaWV3ID0gVmlld18xLlZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCJleHBvcnQgY2xhc3MgTmF2aWdhdGlvbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmQobm9kZSA9PiBub2RlLnggPT09IG90aGVyTm9kZS54XG4gICAgICAgICAgICAmJiBub2RlLnkgPT09IG90aGVyTm9kZS55ICYmIG5vZGUueiA9PT0gb3RoZXJOb2RlLnopICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlck5vZGUueCAmJiB0aGlzLnkgPT09IG90aGVyTm9kZS55ICYmIHRoaXMueiA9PT0gb3RoZXJOb2RlLno7XG4gICAgfVxuXG4gICAgZXF1YWxzUG9pbnQoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSB4ICYmIHRoaXMueSA9PT0geSAmJiB0aGlzLnogPT09IHo7XG4gICAgfVxuXG4gICAgYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKG90aGVyTm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMucHVzaChvdGhlck5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZUluZGV4ID0gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kSW5kZXgobm9kZSA9PiBub2RlLmVxdWFscyhvdGhlck5vZGUpKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5zcGxpY2UoY29ubmVjdGVkTm9kZUluZGV4LCAxKTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEdhbWVNYXBDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVNYXBDb21wb25lbnQnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVNYXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBDb21wb25lbnQgfSBmcm9tICcuL0dhbWVNYXBDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCkge1xuICAgICAgICBzdXBlcihHYW1lTWFwTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEVcbiAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoYXBwKSB7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IHsgR2FtZU1lZGlhdG9yIH0gPSByZXF1aXJlKCcuLi92aWV3L0dhbWVNZWRpYXRvcicpO1xuaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGUnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZU1hcE1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lTWFwL0dhbWVNYXBNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgIC8vIE9uY2UgYSBnYW1lTWFwIHNjZW5lIGlzIGxvYWRlZCwgcGFyc2UgZ2FtZU1hcCBWTywgZ2VuZXJhdGUgbmF2IG1lc2gsIGV0Y1xuICAgIGNvbnNvbGUubG9nKCdQYXJzZSBtYXAnKTtcblxuICAgIC8vIEdldCBuYXZpZ2F0aW9uIGZsb29yc1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgbmF2aWdhdGlvbkZsb29ycyA9IGFwcC5yb290LmZpbmRCeVRhZygnbmF2aWdhdGlvbl9mbG9vcicpO1xuXG4gICAgbGV0IGNvbXBsZXRlZEdyaWQgPSBbXTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25Db21wb25lbnRzID0gW107XG4gICAgLy8gRmlyc3QgcGFyc2UgLSBjcmVhdGUgbm9kZXMgYW5kIGNvbm5lY3Rpb25zIGZvciBpbmRpdmlkdWFsIFxuICAgIC8vIG5hdmlnYXRpb24gY29tcG9uZW50c1xuICAgIGZvciAoY29uc3QgZmxvb3JFbnRpdHkgb2YgbmF2aWdhdGlvbkZsb29ycykge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gZmxvb3JFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgICAgIG5hdmlnYXRpb25Db21wb25lbnRzLnB1c2gobmF2Q29tcCk7XG5cbiAgICAgICAgY29uc3QgZmxvb3JHcmlkID0gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpXG4gICAgICAgIG5hdkNvbXAuc2V0R3JpZChmbG9vckdyaWQpO1xuICAgIH1cblxuICAgIC8vIFNlY29uZCBwYXJzZSAtIHN0aXRjaCB0b2dldGhlciBhZGphY2VudCBub2RlcyBpbiBcbiAgICAvLyBjb25uZWN0ZWQgbmF2aWdhdGlvbiBtZXNoZXNcbiAgICBmb3IgKGNvbnN0IG5hdmlnYXRpb25Db21wIG9mIG5hdmlnYXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29ubmVjdGVkQ29tcEVudGl0eSBvZiBuYXZpZ2F0aW9uQ29tcC5jb25uZWN0ZWRDb21wb25lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0ZWROYXZDb21wID0gY29ubmVjdGVkQ29tcEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcblxuICAgICAgICAgICAgam9pblRvQWRqYWNlbnRHcmlkKG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSwgY29ubmVjdGVkTmF2Q29tcC5nZXRHcmlkKCkpO1xuICAgICAgICAgICAgY29tcGxldGVkR3JpZCA9IGNvbXBsZXRlZEdyaWQuY29uY2F0KG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBtZWRpYXRvcnNcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVNYXBQcm94eShjb21wbGV0ZWRHcmlkKSk7XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lTWFwTWVkaWF0b3IoKSk7XG5cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KSB7XG4gICAgLy8gc25hcCB0byBncmlkXG4gICAgY29uc3QgZ3JpZCA9IFtdO1xuXG4gICAgY29uc3QgZmxvb3JQb3NpdGlvbiA9IGZsb29yRW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBmbG9vclNpemUgPSBmbG9vckVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG5cbiAgICBjb25zdCBzbmFwcGVkV2lkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS54KTtcbiAgICBjb25zdCBzbmFwcGVkQnJlYWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLnopO1xuXG4gICAgY29uc3Qgc25hcHBlZFggPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueCAtIChzbmFwcGVkV2lkdGggLyAyKSk7XG4gICAgY29uc3Qgc25hcHBlZFkgPSBmbG9vclBvc2l0aW9uLnk7XG4gICAgY29uc3Qgc25hcHBlZFogPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueiAtIChzbmFwcGVkQnJlYWR0aCAvIDIpKTtcblxuXG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cblxuZXhwb3J0IGNsYXNzIFdlYXBvbnNQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJXZWFwb25zUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihXZWFwb25zUHJveHkuTkFNRSwgZGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0RGFtYWdlKHdlYXBvbk5hbWUsIGRhbWFnZVRpZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy52byk7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXBwLWxldmVsIG1lZGlhdG9ycy9wcm94aWVzL2NvbW1hbmRzIGhlcmVcblxuICAgIC8vIENyZWF0ZSBnYW1lIHN0YXRlIHByb3h5XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lU3RhdGVQcm94eSgpKTtcblxuICAgIC8vIExvYWQgd2VhcG9ucyBkYXRhIGFuZCBjcmVhdGUgcHJveHlcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGlmIChhcHApIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDQxNTYzMSkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgV2VhcG9uc1Byb3h5KHdlYXBvbnNEYXRhKSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTY2VuZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHNjZW5lTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuXG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGhcbiAgICBsZXQgdGVtcG9yYXJ5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gLTE7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcblxuICAgICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcblxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgICAgIHRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTtcbiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgc2h1ZmZsZUFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvU2h1ZmZsZUFycmF5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgQ29tYmF0Vk8gfSA9IHJlcXVpcmUoJy4vQ29tYmF0Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgQ29tYmF0UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ29tYmF0UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzKSB7XG4gICAgICAgIHN1cGVyKENvbWJhdFByb3h5Lk5BTUUsIG5ldyBDb21iYXRWTyhwYXJ0aWNpcGFudHMpKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnZvLnBhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLnNldChwYXJ0aWNpcGFudCwgcGFydGljaXBhbnRQcm94eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0VHVybigpIHtcbiAgICAgICAgY29uc3Qgcm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmU7XG5cbiAgICAgICAgaWYgKHJvdW5kSW5pdGlhdGl2ZSAmJiByb3VuZEluaXRpYXRpdmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFR1cm5JZCA9IHJvdW5kSW5pdGlhdGl2ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IG5leHRUdXJuSWQ7XG5cbiAgICAgICAgICAgIGlmIChuZXh0VHVybklkICE9PSAnZW5kX3JvdW5kJykge1xuICAgICAgICAgICAgICAgIC8vIE5leHQgVHVyblxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFR1cm4gJHtuZXh0VHVybklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZ2V0KG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIHByb3h5LnJlc2V0Q29tYmF0VHVyblN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJveHkuaXNOUEMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVuZCByb3VuZFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEVuZCByb3VuZGApO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0Um91bmQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8gIE5ldyByb3VuZCAgLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnN0IGluaXRpYXRpdmVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2NoYXJhY3RlcklkLCBwcm94eV0gb2YgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2byA9IHByb3h5LnZvO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2by5pbml0aWF0aXZlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbml0aWF0aXZlcy5wdXNoKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbml0aWF0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV2ZXJ5b25lIGlzIG91dCBvZiB0aGUgY29tYmF0IHNvbWVob3csIHByb2JhYmx5IGRlYWRcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGVuZCBvZiByb3VuZCB0b2tlblxuICAgICAgICBpbml0aWF0aXZlcy5wdXNoKCdlbmRfcm91bmQnKTtcblxuICAgICAgICBsZXQgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KGluaXRpYXRpdmVzKTtcbiAgICAgICAgLy8gZW5zdXJlIHJvdW5kIGRvZXNuJ3Qgc3RhcnQgd2l0aCBcImVuZF9yb3VuZFwiXG4gICAgICAgIHdoaWxlIChzaHVmZmxlZEluaXRpYXRpdmVbMF0gPT09IFwiZW5kX3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShzaHVmZmxlZEluaXRpYXRpdmUpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHNodWZmbGVkSW5pdGlhdGl2ZTtcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZDtcbiAgICB9XG5cbiAgICBnZXQgYWN0aXZlUGFydGljaXBhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50O1xuICAgIH1cblxuICAgIHNldCBhY3RpdmVQYXJ0aWNpcGFudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdChjaGFyYWN0ZXJJZCkge1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBwYXJ0aWNjaXBhbnRzXG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmRlbGV0ZShjaGFyYWN0ZXJJZCk7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGluaXRpYXRpdmVcbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZS5maWx0ZXIoZSA9PiBlICE9PSBjaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG5cbiAgICAvLyBTZXR1cCB0aGUgY29tYmF0XG4gICAgY29uc3QgZGlydHlQYXJ0aWNpcGFudHMgPSBbJ3BsYXllciddLmNvbmNhdChpbnN0aWdhdGluZ0NoYXJhY3RlcklkKS5jb25jYXQoaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jb21iYXRHcm91cCk7XG4gICAgLy8gcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICBjb25zdCBjbGVhblBhcnRpY2lwYW50cyA9IGRpcnR5UGFydGljaXBhbnRzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT0gcG9zO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBjbGVhblBhcnRpY2lwYW50cykge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX01PVkVNRU5UICsgcGFydGljaXBhbnQpO1xuICAgICAgICBpZiAocGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KGNsZWFuUGFydGljaXBhbnRzKTtcbiAgICAvLyBjb25zb2xlLmxvZyhwYXJ0aWNpcGFudHMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgIH0sIDIwMDApO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgfSwgNTAwKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBCZWhhdmlvdXJTdGF0dXMge1xuICAgIHN0YXRpYyBnZXQgU1VDQ0VTUygpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEZBSUxVUkUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBSVU5OSU5HKCkgeyByZXR1cm4gMiB9O1xuICAgIHN0YXRpYyBnZXQgRVJST1IoKSB7IHJldHVybiAzIH07XG59IiwiaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmlkID0gY3JlYXRlVVVJRCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgW107XG4gICAgfVxuXG4gICAgZXhlY3V0ZSh0aWNrKSB7XG4gICAgICAgIC8qIEVOVEVSICovXG4gICAgICAgIHRoaXMuX2VudGVyKHRpY2spO1xuXG4gICAgICAgIC8qIE9QRU4gKi9cbiAgICAgICAgaWYgKCF0aWNrLmJsYWNrYm9hcmQuZ2V0KCdpc09wZW4nLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9vcGVuKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVElDSyAqL1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLl90aWNrKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFICovXG4gICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIEVYSVQgKi9cbiAgICAgICAgdGhpcy5fZXhpdCh0aWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIF9lbnRlcih0aWNrKSB7XG4gICAgICAgIHRpY2suZW50ZXJOb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmVudGVyKHRpY2spO1xuICAgIH1cblxuICAgIF9vcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5vcGVuTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgdHJ1ZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5vcGVuKHRpY2spO1xuICAgIH1cblxuICAgIF90aWNrKHRpY2spIHtcbiAgICAgICAgdGljay50aWNrTm9kZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGljayh0aWNrKTtcbiAgICB9XG5cbiAgICBfY2xvc2UodGljaykge1xuICAgICAgICB0aWNrLmNsb3NlTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgZmFsc2UsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuY2xvc2UodGljayk7XG4gICAgfVxuXG4gICAgX2V4aXQodGljaykge1xuICAgICAgICB0aWNrLmV4aXROb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4aXQodGljayk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcmlkZSB0aGVzZVxuICAgIGVudGVyKHRpY2spIHsgfVxuICAgIG9wZW4odGljaykgeyB9XG4gICAgdGljayh0aWNrKSB7IHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1IgfVxuICAgIGNsb3NlKHRpY2spIHsgfVxuICAgIGV4aXQodGljaykgeyB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgdmFyIHMgPSBbXTtcbiAgICB2YXIgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxNF0gPSBcIjRcIjtcblxuICAgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpO1xuXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgdmFyIHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG5cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNYXN0ZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUuZXhlY3V0ZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEJsYWNrYm9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLmJhc2VNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSBnbG9iYWwgaW5mb3JtYXRpb25cbiAgICAgICAgdGhpcy50cmVlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgdHJlZSBhbmQgbm9kZSBpbmZvcm1hdGlvblxuICAgIH1cblxuICAgIGdldFRyZWVNZW1vcnkodHJlZVNjb3BlKSB7XG4gICAgICAgIGlmICghdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0pIHtcbiAgICAgICAgICAgIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdID0ge1xuICAgICAgICAgICAgICAgIG5vZGVNZW1vcnk6IHt9LFxuICAgICAgICAgICAgICAgIG9wZW5Ob2RlczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE5vZGVNZW1vcnkodHJlZU1lbW9yeSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRyZWVNZW1vcnlbJ25vZGVNZW1vcnknXTtcbiAgICAgICAgaWYgKCFtZW1vcnkuaGFzT3duUHJvcGVydHkobm9kZVNjb3BlKSkge1xuICAgICAgICAgICAgbWVtb3J5W25vZGVTY29wZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnlbbm9kZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgdmFyIG1lbW9yeSA9IHRoaXMuYmFzZU1lbW9yeTtcblxuICAgICAgICBpZiAodHJlZVNjb3BlKSB7XG4gICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldFRyZWVNZW1vcnkodHJlZVNjb3BlKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVTY29wZSkge1xuICAgICAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0Tm9kZU1lbW9yeShtZW1vcnksIG5vZGVTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5O1xuICAgIH07XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICBtZW1vcnlba2V5XSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQoa2V5LCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIHJldHVybiBtZW1vcnlba2V5XTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFRpY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzID0gW107XG4gICAgICAgIHRoaXMubm9kZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlbnRlck5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm5vZGVDb3VudCsrO1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cblxuICAgIG9wZW5Ob2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIHRpY2tOb2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIGNsb3NlTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnBvcCgpO1xuICAgIH1cblxuICAgIGV4aXROb2RlKG5vZGUpIHtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBUaWNrIH0gZnJvbSBcIi4vVGlja1wiO1xuXG5leHBvcnQgY2xhc3MgQmVoYXZpb3VyVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKGlkKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yb290ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRpY2sodGFyZ2V0LCBibGFja2JvYXJkKSB7XG4gICAgICAgIC8qIENSRUFURSBBIFRJQ0sgT0JKRUNUICovXG4gICAgICAgIGNvbnN0IHRpY2sgPSBuZXcgVGljaygpO1xuICAgICAgICB0aWNrLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGljay5ibGFja2JvYXJkID0gYmxhY2tib2FyZDtcbiAgICAgICAgdGljay50cmVlID0gdGhpcztcblxuICAgICAgICAvKiBUSUNLIE5PREUgKi9cbiAgICAgICAgdGhpcy5yb290LmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgTk9ERVMgRlJPTSBMQVNUIFRJQ0ssIElGIE5FRURFRCAqL1xuICAgICAgICBjb25zdCBsYXN0T3Blbk5vZGVzID0gYmxhY2tib2FyZC5nZXQoJ29wZW5Ob2RlcycsIHRoaXMuaWQpIHx8IFtdO1xuICAgICAgICBjb25zdCBjdXJyT3Blbk5vZGVzID0gdGljay5vcGVuTm9kZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgLy8gZG9lcyBub3QgY2xvc2UgaWYgaXQgaXMgc3RpbGwgb3BlbiBpbiB0aGlzIHRpY2tcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihsYXN0T3Blbk5vZGVzLmxlbmd0aCwgY3Vyck9wZW5Ob2Rlcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBpZiAobGFzdE9wZW5Ob2Rlc1tpXSAhPT0gY3Vyck9wZW5Ob2Rlc1tpXSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vZGVzXG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0T3Blbk5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgbGFzdE9wZW5Ob2Rlc1tpXS5jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFBPUFVMQVRFIEJMQUNLQk9BUkQgKi9cbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ29wZW5Ob2RlcycsIGN1cnJPcGVuTm9kZXMsIHRoaXMuaWQpO1xuICAgICAgICBibGFja2JvYXJkLnNldCgnbm9kZUNvdW50JywgdGljay5ub2RlQ291bnQsIHRoaXMuaWQpO1xuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBQcmlvcml0eSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFNldFBsYXllckFzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCd0YXJnZXQnLCAncGxheWVyJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgTWVsZWVBdHRhY2tUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGF0dGFja2VySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkZWZlbmRlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgRW5kQ29tYmF0VHVybiBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzTW92ZW1lbnRSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNOZXh0VG9QbGF5ZXIgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJOb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGNoYXJhY3RlckN1cnJlbnROb2RlKSk7XG5cbiAgICAgICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSXMgYWRqYWNlbnRcIik7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIklzIG5vdCBhZGphY2VudFwiKTtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1lbVNlcXVlbmNlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIG9wZW4odGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdydW5uaW5nQ2hpbGQnLCAwLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgIH1cblxuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3J1bm5pbmdDaGlsZCcsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuY2hpbGRyZW5baV0uZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdydW5uaW5nQ2hpbGQnLCBpLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cblxufSIsIlxuaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi9CZWhhdmlvdXJTdGF0dXMnO1xuZXhwb3J0IGNsYXNzIEludmVydGVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuXG4gICAgICAgIC8vIHByZXN1bWUgaW52ZXJ0ZXIgaGFzIG9uZSBjaGlsZFxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIGlmIChzdGF0dXMgPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpXG4gICAgICAgICAgICBzdGF0dXMgPSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzVGFyZ2V0RGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3VycmVudE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cblxuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzRGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgTWVsZWVBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IElzTmV4dFRvUGxheWVyIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0JztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNNZWxlZVRyZWUgZXh0ZW5kcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2Jhc2ljTWVsZWVUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IElzTmV4dFRvUGxheWVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVsZWVBdHRhY2tUYXJnZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmxhY2tib2FyZCB9IGZyb20gJy4uL2NvcmUvQmxhY2tib2FyZCc7XG5pbXBvcnQgeyBCZWhhdmlvdXJUcmVlIH0gZnJvbSAnLi4vY29yZS9CZWhhdmlvdXJUcmVlJztcblxuZXhwb3J0IGNsYXNzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmlkID0gJ2Jhc2ljTWVsZWVUcmVlJztcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gbmV3IEJsYWNrYm9hcmQoKTtcbiAgICAgICAgdGhpcy50cmVlID0gbmV3IEJlaGF2aW91clRyZWUoaWQpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIC8vIE92ZXJyaWRlIHRvIHNldCB0cmVlXG4gICAgfVxuXG4gICAgcnVuQ29tbWFuZHMoZmFjYWRlLCBjaGFyYWN0ZXJJZCkge1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiZmFjYWRlXCIsIGZhY2FkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImNoYXJhY3RlcklkXCIsIGNoYXJhY3RlcklkLCB0aGlzLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRyZWUudGljayh0aGlzLCB0aGlzLmJsYWNrYm9hcmQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgbm9kZSA9IGFyZ3NbMF07XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB2by5pZCwgcGF0aCk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhbGthYmxlTm9kZXMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDIzNTk2Nik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB3YWxrYWJsZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB3YWxrYWJsZVRpbGVBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aWxlLnNldExvY2FsUG9zaXRpb24obm9kZS54LCBub2RlLnksIG5vZGUueik7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGthYmxlX3RpbGUnKTtcbiAgICBmb3IgKGNvbnN0IHdhbGthYmxlVGlsZUVudGl0eSBvZiB3YWxrYWJsZVRpbGVFbnRpdGllcykge1xuICAgICAgICB3YWxrYWJsZVRpbGVFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gXCIuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXJcIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgbW92ZWFibGVOb2Rlcyk7XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gXCIuL0dhbWVDb21tYW5kc1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kTW92ZW1lbnRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5kTm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZW5kTm9kZTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcblxuICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgXCJwbGF5ZXJcIiwgcGF0aFRvVGFyZ2V0KTtcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKCFjb21iYXRQcm94eSB8fCBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgLy8gbm90IHlvdXIgdHVyblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgIC8vIHBhdGggbGVuZ3RoIGluY2x1ZGVzIGN1cnJlbnQgbm9kZSwgc28gZGVkdWN0IG9uIHRvIHdvcmsgb3V0IGFjdHVhbCBtb3ZlYWJsZSBkaXN0YW5jZVxuICAgICAgICAgICAgaWYgKHBhdGhUb1RhcmdldCAmJiBwYXRoVG9UYXJnZXQubGVuZ3RoIC0gMSA8PSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS52by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmlkLCBwYXRoVG9UYXJnZXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgXCJwbGF5ZXJcIiwgcGF0aFRvVGFyZ2V0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJDYW5ub3QgcmVhY2ggdGFyZ2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgdGFyZ2V0Q3VycnJlbnROb2RlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICByZXR1cm4gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHRhcmdldEN1cnJyZW50Tm9kZSkpO1xufSIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSBhY3Rpb25OYW1lKSB7XG4gICAgICAgIC8vIERlc2VsZWN0IGFjdGlvblxuICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJub25lXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IGFjdGlvbk5hbWU7XG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfUExBWUVSX0FDVElPTiwgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbik7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgY29uc3QgZGVmZW5kZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdpbm5lclxuICAgIGlmIChhdHRhY2tlclJvbGwgPT09IGRlZmVuZGVyUm9sbCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKFwic3dvcmRcIiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGRlZmVuZGVyUm9sbCwgYXR0YWNrZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoXCJzd29yZFwiLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2RlZmVuZGVySWR9IGRhbWFnZXMgJHthdHRhY2tlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBhdHRhY2tlcklkKTtcblxuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXRJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgcGF0aCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LnVzZU1vdmVtZW50KHBhdGgubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgY2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuICAgIGNvbnN0IGZpbmlzaE1vdmVQcm9taXNlID0gY2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKTtcbiAgICBmaW5pc2hNb3ZlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBjaGFyYWN0ZXJJZCwgdGFyZ2V0SWQpO1xuXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgIGNvbWJhdFByb3h5LnJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBpZiAoZmFjYWRlLmhhc01lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIGZhY2FkZS5yZW1vdmVNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKTtcbiAgICB9XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xufVxuIiwiXG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc29sZS5sb2coXCJEZXRlcm1pbmUgbmV4dCBhY3Rpb25cIik7XG5cbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBiYXNpY01lbGVlVHJlZSA9IG5ldyBCYXNpY01lbGVlVHJlZSgpO1xuICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBwYXJzZUdhbWVNYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnR1cENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlU2NlbmVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZVNjZW5lQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydENvbWJhdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kJztcbmltcG9ydCB7IGVuZENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IGVuZW15VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5lbXlUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZE5vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TaG93V2Fsa2FibGVBcmVhQ29tbWFuZCc7XG5pbXBvcnQgeyBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCc7XG5pbXBvcnQgeyBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCc7XG5pbXBvcnQgeyBlbmRNb3ZlbWVudENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZUF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIGNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGVuZENvbWJhdENvbW1hbmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBHYW1lQ29tbWFuZHMge1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FX0NPTVBMRVRFKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVfQ09NUExFVEVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVBQX0lOSVRJQUxJU0VEKCkgeyByZXR1cm4gXCJBUFBfSU5JVElBTElTRURcIiB9O1xuICAgIHN0YXRpYyBnZXQgUEFSU0VfR0FNRU1BUCgpIHsgcmV0dXJuIFwiUEFSU0VfR0FNRU1BUFwiIH07XG4gICAgc3RhdGljIGdldCBNQVBfR1JJRF9DUkVBVEVEKCkgeyByZXR1cm4gXCJNQVBfR1JJRF9DUkVBVEVEXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBDT01CQVRfTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiQ09NQkFUX05BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NBTUVSQV9UQVJHRVQoKSB7IHJldHVybiBcIlNFVF9DQU1FUkFfVEFSR0VUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IElOUFVUX0RSQUdfTU9VU0UoKSB7IHJldHVybiBcIklOUFVUX0RSQUdfTU9VU0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBNT1ZFRF9UT19OT0RFKCkgeyByZXR1cm4gXCJNT1ZFRF9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEZJTklTSEVEX01PVkUoKSB7IHJldHVybiBcIkZJTklTSEVEX01PVkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRfQ09NQkFUKCkgeyByZXR1cm4gXCJTVEFSVF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19UT0FTVF9NRVNTQUdFKCkgeyByZXR1cm4gXCJTSE9XX1RPQVNUX01FU1NBR0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1JPVU5EKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9ST1VORFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVQoKSB7IHJldHVybiBcIkVORF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5FTVlfVFVSTigpIHsgcmV0dXJuIFwiRU5FTVlfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RFRF9OT0RFKCkgeyByZXR1cm4gXCJTRUxFQ1RFRF9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTigpIHsgcmV0dXJuIFwiREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfQUxPTkdfUEFUSCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfQUxPTkdfUEFUSFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiU0hPV19XQUxLQUJMRV9BUkVBXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiSElERV9XQUxLQUJMRV9BUkVBXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBFTkRfTU9WRU1FTlQoKSB7IHJldHVybiBcIkVORF9NT1ZFTUVOVFwiIH07XG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DSEFSQUNURVJfVE9fTk9ERSgpIHsgcmV0dXJuIFwiU0VUX0NIQVJBQ1RFUl9UT19OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJTRUxFQ1RfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRVRfUExBWUVSX0FDVElPTigpIHsgcmV0dXJuIFwiU0VUX1BMQVlFUl9BQ1RJT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJESVNQTEFZX1BMQVlFUl9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBVU0VfUExBWUVSX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX1BMQVlFUl9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBSRVNPTFZFX0FUVEFDSygpIHsgcmV0dXJuIFwiUkVTT0xWRV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0soKSB7IHJldHVybiBcIk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVVBEQVRFX1NUQU1JTkEoKSB7IHJldHVybiBcIlVQREFURV9TVEFNSU5BXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfREVBVEgoKSB7IHJldHVybiBcIkRJU1BMQVlfREVBVEhcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9BVFRBQ0soKSB7IHJldHVybiBcIkRJU1BMQVlfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfSElUKCkgeyByZXR1cm4gXCJESVNQTEFZX0hJVFwiIH07XG4gICAgc3RhdGljIGdldCBLSUxMX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJLSUxMX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgQ0hBUkFDVEVSX0xPT0tfQVQoKSB7IHJldHVybiBcIkNIQVJBQ1RFUl9MT09LX0FUXCIgfTtcblxuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBDb21iYXRWTyB7XG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzKSB7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnJvdW5kSW5pdGlhdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZEluaXRpYXRpdmVbMF07XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUNoYXJhY3RlclZPIH0gPSByZXF1aXJlKCcuL0dhbWVDaGFyYWN0ZXJWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3RlclByb3h5X1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJhbXMuaWQsIG5ldyBHYW1lQ2hhcmFjdGVyVk8ocGFyYW1zKSk7XG4gICAgfVxuXG4gICAgcmVzZXRDb21iYXRUdXJuU3RhdGUoKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLnZvLm1heE1vdmVtZW50O1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbiA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG5cbiAgICAgICAgaWYgKHRoaXMudm8uY3VycmVudFN0YW1pbmEgPiAwKSB7XG4gICAgICAgICAgICAvLyBBbGl2ZVxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVBEQVRFX1NUQU1JTkEgKyB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4aW11bVN0YW1pbmEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVhZFxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5pZH0gZGllZGApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnROb2RlO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZU1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlTW92ZW1lbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVBY3Rpb247XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZUFjdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBza2lsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2tpbGw7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTdGFtaW5hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEx1Y2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIGdldCBpc0RlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIDw9IDA7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHBhcmFtcy5pZDtcbiAgICAgICAgdGhpcy5pc05QQyA9IHBhcmFtcy5pc05QQztcbiAgICAgICAgdGhpcy5jb21iYXRHcm91cCA9IHBhcmFtcy5jb21iYXRHcm91cCB8fCBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hZ3JvQXJlYSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUcm9pa2Egc3RhdHNcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlID0gMjtcbiAgICAgICAgdGhpcy5tYXhNb3ZlbWVudCA9IDY7XG4gICAgICAgIHRoaXMubWF4QWN0aW9uc1BlclR1cm4gPSAxO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbiA9IHRoaXMubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG4gICAgICAgIHRoaXMuc2tpbGwgPSBwYXJhbXMuc2tpbGwgfHwgMTtcblxuICAgICAgICB0aGlzLm1heFN0YW1pbmEgPSBwYXJhbXMubWF4U3RhbWluYSB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGFtaW5hID0gdGhpcy5tYXhTdGFtaW5hO1xuXG4gICAgICAgIHRoaXMubWF4THVjayA9IHBhcmFtcy5tYXhMdWNrIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudEx1Y2sgPSB0aGlzLm1heEx1Y2s7XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNraWxscyA9IHBhcmFtcy5hZHZhbmNlZFNraWxscyB8fCB7fTtcblxuXG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQpIHtcbiAgICAgICAgc3VwZXIoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgICBtYXBHcmlkOiBtYXBHcmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG5cbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdE5vZGUodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWFwR3JpZCA9IHRoaXMudm8ubWFwR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBtYXBHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG1hcEdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVNYXBWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwR3JpZCA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHB1c2godmFsdWUsIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5kYXRhW2ldLnByaW9yaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGgubWluKG1pbiwgcHJpb3JpdHkpID09PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IHByaW9yaXR5O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSlbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGhcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufSIsImltcG9ydCB7IFByaW9yaXR5UXVldWUgfSBmcm9tICcuL1ByaW9yaXR5UXVldWUnO1xuXG5leHBvcnQgY2xhc3MgQXN0YXIge1xuICAgIHN0YXRpYyBicmVhZHRoRmlyc3RTZWFyY2goc3RhcnQsIHJhbmdlTGltaXQpIHtcbiAgICAgICAgbGV0IGZyb250aWVyID0gW107XG4gICAgICAgIGNvbnN0IHNlYXJjaGVkQXJlYSA9IFtdO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0KTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG5cbiAgICAgICAgbGV0IHJhbmdlID0gMDtcblxuICAgICAgICB3aGlsZSAoZnJvbnRpZXIubGVuZ3RoID4gMCAmJiByYW5nZSA8IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Zyb250aWVyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZnJvbnRpZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY2FtZUZyb20uaGFzKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RnJvbnRpZXIucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkQXJlYS5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udGllciA9IG5ld0Zyb250aWVyO1xuXG4gICAgICAgICAgICByYW5nZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaGVkQXJlYTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgMTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lU3RhdGVWTyB9ID0gcmVxdWlyZSgnLi9HYW1lU3RhdGVWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lU3RhdGVQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlUHJveHkuTkFNRSwgbmV3IEdhbWVTdGF0ZVZPKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUdhbWVTdGF0ZVR5cGUobmV3U3RhdGVUeXBlKSB7XG4gICAgICAgIHRoaXMudm8uZ2FtZXBsYXlNb2RlID0gbmV3U3RhdGVUeXBlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50TW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2FtZXBsYXlNb2RlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50QWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5zZWxlY3RlZEFjdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudEFjdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uID0gdmFsdWU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGdhbWVwbGF5TW9kZVR5cGVzID0ge1xuICAgIEVYUExPUkFUSU9OOiAnRVhQTE9SQVRJT04nLFxuICAgIENPTUJBVDogJ0NPTUJBVCcsXG4gICAgRElBTE9HVUU6ICdESUFMT0dVRScsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IFwibm9uZVwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlciBtZWRpYXRvciAtIEdhbWVNZWRpYXRvclwiKTtcbiAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgc3VwZXIoR2FtZU1lZGlhdG9yLk5BTUUsIGFwcCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIH1cblxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHlcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuY29uc3Qgc3RhdHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGwnLFxuICAgICAgICB0aXRsZTogJ1NraWxsJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ21heFN0YW1pbmEnLFxuICAgICAgICB0aXRsZTogJ1N0YW1pbmEnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heEx1Y2snLFxuICAgICAgICB0aXRsZTogJ0x1Y2snLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heE1vdmVtZW50JyxcbiAgICAgICAgdGl0bGU6ICdNb3ZlbWVudCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiA2XG4gICAgfVxuXTtcblxuY29uc3QgYWR2YW5jZWRTa2lsbHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsVmFsdWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIFZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9XG5dO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJpc05QQ1wiLCB7XG4gICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgdGl0bGU6IFwiaXMgTlBDXCIsXG4gICAgZGVmYXVsdDogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGF0c092ZXJyaWRlc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiU3RhdHMgT3ZlcnJpZGVzXCIsXG4gICAgc2NoZW1hOiBzdGF0c1NjaGVtYVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhZHZhbmNlZFNraWxsc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiQWR2YW5jZWQgU2tpbGxzXCIsXG4gICAgc2NoZW1hOiBhZHZhbmNlZFNraWxsc1NjaGVtYSxcbiAgICBhcnJheTogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb21iYXRHcm91cE5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ29tYmF0IEdyb3VwIE5hbWVcIlxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0c092ZXJyaWRlcyA9IHRoaXMuc3RhdHNPdmVycmlkZXM7XG4gICAgY29uc3QgcHJveHlQYXJhbXMgPSB7XG4gICAgICAgIGlkOiB0aGlzLmNoYXJhY3RlcklkLFxuICAgICAgICBpc05QQzogdGhpcy5pc05QQyxcbiAgICAgICAgYWR2YW5jZWRTa2lsbHM6IHRoaXMuYWR2YW5jZWRTa2lsbHMsXG4gICAgICAgIC4uLnN0YXRzT3ZlcnJpZGVzXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgY29tYmF0R3JvdXAucHVzaChjb21yYWRlSWQpO1xuXG4gICAgICAgIH1cbiAgICAgICAgcHJveHlQYXJhbXMuY29tYmF0R3JvdXAgPSBjb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpKTtcbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG5cbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoICYmIHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2FuY2VsTW92ZScpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IHBhdGg7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ3dhbGsuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkLCBkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQsIGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCk7XG4gICAgICAgIGNvbnN0IG5vZGVQb2ludCA9IG5ldyBwYy5WZWMzKG5leHRQYXRoUG9pbnQueCwgbmV4dFBhdGhQb2ludC55LCBuZXh0UGF0aFBvaW50LnopO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKG5vZGVQb2ludCwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5sb29rQXRQb2ludChuZXh0UGF0aFBvaW50KTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDwgMC4xNSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLm1vdmVtZW50UGF0aC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2ZpbmlzaGVkTW92ZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3VwZGF0ZUN1cnJlbnROb2RlJywgY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVEZWF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdkaWUuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdoaXQuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUF0dGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdhdHRhY2suZ2xiJywgMC4xKTtcbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yX1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdmlld0NvbXBvbmVudCwgcHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRFxuXG4gICAgICAgIF07XG5cbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuY29uY2F0KHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy52aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZmlyZShub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0S2V5IGluIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0LCBzY3JpcHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtzY3JpcHRLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICAgICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tQb2ludCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KGxvb2tQb2ludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZURlYXRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVBdHRhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk5BVklHQVRJTkcgVE8gTk9ERVwiKTtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBpZiAoIWdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VycmVudE5vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQobm9kZSk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIklucHV0TGF5ZXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHRoaXMuaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOm5hdmlnYXRpb24nLCB0aGlzLmhhbmRsZVBpY2tlck5hdmlnYXRpb24sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3Njcm9sbGluZycsIHRoaXMuaGFuZGxlU2Nyb2xsaW5nLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIoY2hhcmFjdGVyRW50aXR5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgY2hhcmFjdGVyRW50aXR5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgbm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2Nyb2xsaW5nKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBkaXJlY3Rpb24pO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEdhbWVDYW1lcmEgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDYW1lcmEnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkaXN0YW5jZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdEaXN0YW5jZScgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclgnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCd2ZXJ0aWNhbFNjcm9sbCcsIHsgdHlwZTogJ2Jvb2xlYW4nLCBkZWZhdWx0OiBmYWxzZSwgdGl0bGU6ICdWZXJ0aWNhbCBTY3JvbGwnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWluQ2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNaW4gQ2FtZXJhIEhlaWdodCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtYXhDYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnTWF4IENhbWVyYSBIZWlnaHQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNhbWVyYU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLnNldENhbWVyYVRhcmdldCA9IGZ1bmN0aW9uIChjYW1lcmFUYXJnZXQpIHtcbiAgICB0aGlzLmNhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5lbnRpdHkuZ2V0RXVsZXJBbmdsZXMoKS55O1xuICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpLnk7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmhhbmRsZURyYWcgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbiArPSBkaXJlY3Rpb24ueCAqIHRoaXMuZHJhZ011bHRpcGxpZXJYO1xuXG4gICAgaWYgKHRoaXMudmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgbGV0IG5ld0NhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhSGVpZ2h0IC0gKGRpcmVjdGlvbi55ICogdGhpcy5kcmFnTXVsdGlwbGllclkpO1xuICAgICAgICBuZXdDYW1lcmFIZWlnaHQgPSBwYy5tYXRoLmNsYW1wKG5ld0NhbWVyYUhlaWdodCwgdGhpcy5taW5DYW1lcmFIZWlnaHQsIHRoaXMubWF4Q2FtZXJhSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jYW1lcmFIZWlnaHQgPSBuZXdDYW1lcmFIZWlnaHQ7XG4gICAgfVxufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uIChmb2N1c1BvaW50KSB7XG4gICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKClcblxuICAgIGNvbnN0IHRhcmdldFggPSBNYXRoLnNpbigodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG4gICAgY29uc3QgdGFyZ2V0WiA9IE1hdGguY29zKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyhmb2N1c1BvaW50LnggKyB0YXJnZXRYLCBjYW1lcmFQb3NpdGlvbi55LCBmb2N1c1BvaW50LnogKyB0YXJnZXRaKTtcbn1cblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy5jYW1lcmFUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhVGFyZ2V0UG9zaXRpb24gPSB0aGlzLmNhbWVyYVRhcmdldC5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGhpcy5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdHdlZW5YID0gKHRhcmdldFBvc2l0aW9uLnggKyBjdXJyZW50UG9zLnggKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblkgPSAodGhpcy5jYW1lcmFIZWlnaHQgKyBjdXJyZW50UG9zLnkgKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblogPSAodGFyZ2V0UG9zaXRpb24ueiArIGN1cnJlbnRQb3MueiAqIDkpIC8gMTA7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0d2VlblgsIHR3ZWVuWSwgdHdlZW5aKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5sb29rQXQoY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuICAgIH1cblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYSB9IGZyb20gJy4vR2FtZUNhbWVyYSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2FtZXJhTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2FtZXJhTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVRcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uc2V0Q2FtZXJhVGFyZ2V0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uaGFuZGxlRHJhZyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnB1dExheWVyTWVkaWF0b3IgfSBmcm9tICcuL0lucHV0TGF5ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuLi9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbmV4cG9ydCBjb25zdCBJbnB1dExheWVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnB1dExheWVyQ29tcG9uZW50Jyk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjYW1lcmFFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQ2FtZXJhIEVudGl0eVwiXG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRyYWdUaW1lXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkRyYWcgVGltZVwiLFxuICAgIGRlZmF1bHQ6IDAuNFxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLndpbmRvdyA9IHdpbmRvdztcblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgSW5wdXRMYXllck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG4gICAgdGhpcy5yYXkgPSBuZXcgcGMuUmF5KCk7XG4gICAgdGhpcy5pbnB1dFF1ZXVlID0gW107XG5cbiAgICAvLyBEcmFnIHByb3BlcnRpZXNcbiAgICB0aGlzLmFwcC5tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcbiAgICB0aGlzLmNsaWNrRG93blN0YXJ0ID0gMDtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5oYW5kbGVQaWNrZXJSZXN1bHQsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuYXBwLm1vdXNlKSB7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCB0aGlzLm9uTW91c2VEb3duLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5Lm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBwLnRvdWNoKSB7XG4gICAgICAgIHRoaXMuYXBwLnRvdWNoLm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIU1RBUlQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2codG91Y2hFdnQpO1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlRG93bih0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSEVORCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VVcCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcblxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBncmFwaGljc0RldmljZSA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlO1xuICAgIGNvbnNvbGUubG9nKFwic2l6ZVwiLCBncmFwaGljc0RldmljZS53aWR0aCwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KTtcblxuICAgIC8vIEZsaXAgYmxlbmRcbiAgICBpZiAoZ3JhcGhpY3NEZXZpY2Uud2lkdGggPCBncmFwaGljc0RldmljZS5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5zY3JlZW4uc2NyZWVuLnNjYWxlQmxlbmQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuc2NyZWVuLnNjcmVlbi5zY2FsZUJsZW5kID0gMDtcbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IHBjLlZlYzIodGhpcy5jbGlja1N0YXJ0UG9pbnQueCAtIGV2dC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55IC0gZXZ0LnkpO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdzY3JvbGxpbmcnLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuY2xpY2tEb3duU3RhcnQgPCAodGhpcy5kcmFnVGltZSAqIDEwMDApKSB7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrU3RhcnRQb2ludCkge1xuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuZmlyZSgndmFsaWRDbGljaycsIHRoaXMuY2xpY2tTdGFydFBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnModGhpcy5jbGlja1N0YXJ0UG9pbnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBjb25zdCBjYW1lcmFFbnRpdHkgPSB0aGlzLmNhbWVyYUVudGl0eTtcbiAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmE7XG4gICAgY2FtZXJhQ29tcG9uZW50LnNjcmVlblRvV29ybGQoeCwgeSwgY2FtZXJhQ29tcG9uZW50LmZhckNsaXAsIHRoaXMucmF5LmRpcmVjdGlvbik7XG4gICAgdGhpcy5yYXkub3JpZ2luLmNvcHkoY2FtZXJhRW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgIHRoaXMucmF5LmRpcmVjdGlvbi5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5yYXksIHsgeCwgeSB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUGlja2VyUmVzdWx0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcykge1xuICAgIHRoaXMuaW5wdXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgZW50aXR5OiBwaWNrZWRFbnRpdHksXG4gICAgICAgIGhpdFBvc2l0aW9uOiBoaXRQb3NpdGlvbixcbiAgICAgICAgc2NyZWVuUG9zaXRpb246IHNjcmVlblBvc1xuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLnByb2Nlc3NJbnB1dFF1ZXVlKCk7XG59XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc0lucHV0UXVldWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5pbnB1dFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGhpZ2hlc3RQcmlvcml0eVBpY2sgPSB0aGlzLmlucHV0UXVldWVbMF07XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHkgPSAtMTtcbiAgICAgICAgLy8gRmluZCBoaWdoZXN0IHByaW9yaXR5XG4gICAgICAgIGZvciAoY29uc3QgcGljayBvZiB0aGlzLmlucHV0UXVldWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpY2tQcmlvcml0eSA9IGdldFByaW9yaXR5KHBpY2suZW50aXR5KVxuICAgICAgICAgICAgaWYgKHBpY2tQcmlvcml0eSA+IGhpZ2hlc3RQcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVBpY2sgPSBwaWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdnYW1lQ2hhcmFjdGVyJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkR2FtZUNoYXJhY3RlcihoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnbmF2aWdhdGlvbicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZE5hdmlnYXRpb24oaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZEdhbWVDaGFyYWN0ZXIgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgcGlja2VkRW50aXR5KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpuYXZpZ2F0aW9uJywgbmVhcmVzdE5vZGUpO1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0eShlbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCdnYW1lQ2hhcmFjdGVyJykpIHtcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgfVxuXG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnbmF2aWdhdGlvbicpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUZhY2FkZSB9ID0gcmVxdWlyZSgnLi4vR2FtZUZhY2FkZScpO1xuXG5leHBvcnQgY29uc3QgQ2Fjb2dlbkdhbWUgPSBwYy5jcmVhdGVTY3JpcHQoJ0NhY29nZW5HYW1lJyk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIFwiTWFwMVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Q2FzdCA9IGZ1bmN0aW9uIChyYXksIHNjcmVlblBvcykge1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFhYmIuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8TmF2aWdhdGlvbk5vZGU+fSBub2RlR3JpZCAtIEFycmF5IG9mIG5vZGVzIHJlcHJlc2VudGluZyBwb2ludHMgb24gdGhlIGdyaWQuXG4gKi9cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLnNldEdyaWQgPSBmdW5jdGlvbiAobm9kZUdyaWQpIHtcbiAgICB0aGlzLm5vZGVHcmlkID0gbm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldEdyaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldE5lYXJlc3ROb2RlID0gZnVuY3Rpb24gKHRhcmdldFBvaW50KSB7XG4gICAgbGV0IG5lYXJlc3ROb2RlID0gdGhpcy5ub2RlR3JpZFswXTtcbiAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5ub2RlR3JpZCkge1xuICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbn1cbiIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG59O1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTWFwR3JpZENyZWF0ZWQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcblxuICAgIGlmICghdm8uY3VycmVudE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgdm8uYWdyb0FyZWEgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHRoaXMuc2lnaHRSYW5nZSk7XG5cbiAgICB9XG59XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3ZlZFRvTm9kZSA9IGZ1bmN0aW9uIChpZCwgbm9kZSkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3Qgdm8gPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKS52bztcbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuXG4gICAgLy8gSWdub3JlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgZXhwbG9yaW5nXG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgIT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OIHx8IGNoYXJhY3RlclByb3h5LmlzRGVhZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBhZ3JvTm9kZSBvZiB2by5hZ3JvQXJlYSkge1xuICAgICAgICBpZiAoYWdyb05vZGUuZXF1YWxzKG5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IFNldENhbWVyYVRhcmdldENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VULCB0aGlzLmVudGl0eSk7XG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazplbmRUdXJuJywgdGhpcy5oYW5kbGVFbmRUdXJuLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVFbmRUdXJuKGV2dCkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciB9IGZyb20gXCIuL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCcpO1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZW5kVHVybkJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRW5kIFR1cm4gYnV0dG9uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW5kVHVybkJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xpY2tFbmRUdXJuLCB0aGlzKTtcbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGlja0VuZFR1cm4gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6ZW5kVHVybicpO1xufVxuIiwiZXhwb3J0IGNvbnN0IEhpdGJveENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSGl0Ym94Q29tcG9uZW50Jyk7XG5cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIHNjYWxlLnkgLyAyLCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkubW9kZWwuZW5hYmxlZCA9IGZhbHNlO1xuXG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Q2FzdCA9IGZ1bmN0aW9uIChyYXksIHNjcmVlblBvcykge1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFhYmIuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmVudGl0eS5wYXJlbnQsIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLmFhYmIuY2VudGVyLmNvcHkodGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEFjdGlvblBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25QYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNFVF9QTEFZRVJfQUNUSU9OLCBHYW1lQ29tbWFuZHMuRElTUExBWV9QTEFZRVJfQUNUSU9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6YWN0aW9uQnV0dG9uJywgdGhpcy5oYW5kbGVDbGlja0FjdGlvbkJ1dHRvbiwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX1BMQVlFUl9BQ1RJT046XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uUGFuZWxDb21wb25lbnQnXS5zZWxlY3RBY3Rpb24oYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBoYW5kbGVDbGlja0FjdGlvbkJ1dHRvbihhY3Rpb25OYW1lKSB7XG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvblBhbmVsQ29tcG9uZW50J10uc2VsZWN0QWN0aW9uKGFjdGlvbk5hbWUpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgYWN0aW9uTmFtZSlcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbicsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnQWN0aW9uJyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uQXNzZXQnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnSWNvbiBBc3NldCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdzZWxlY3Q6YWN0aW9uJywgdGhpcy5oYW5kbGVDaGFuZ2VBY3Rpb24sIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LnBhcmVudC5maXJlKCdjbGljazphY3Rpb25CdXR0b24nLCB0aGlzLmFjdGlvbik7XG59XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSAodGhpcy5hY3Rpb24gPT09IGFjdGlvbik7XG59IiwiZXhwb3J0IGNvbnN0IEFjdGlvblBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25QYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25QYW5lbE1lZGlhdG9yJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vQWN0aW9uQnV0dG9uQ29tcG9uZW50JztcblxuQWN0aW9uUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbkJ1dHRvbnMnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0FjdGlvbiBCdXR0b25zJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25QYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZWxlY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBidXR0b24uZmlyZSgnc2VsZWN0OmFjdGlvbicsIGFjdGlvbk5hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBVSVN0b3BQcm9wYWdhdGlvbiA9IHBjLmNyZWF0ZVNjcmlwdCgnVUlTdG9wUHJvcGFnYXRpb24nKTtcblxuVUlTdG9wUHJvcGFnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuXG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBQdXJlTVZDIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IENhY29nZW5HYW1lIH0gZnJvbSAnLi92aWV3L0NhY29nZW5HYW1lJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEhpdGJveENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvblBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IFVJU3RvcFByb3BhZ2F0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uJztcblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWFpbiBzdGFydFwiKTtcbiAgICAgICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IEdhbWVGYWNhZGUuZ2V0SW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKEZhY2FkZSk7XG5cbiAgICAgICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zdGFydHVwKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==