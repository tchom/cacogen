(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),s=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=s},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),s=i(542),r=i(999),a=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=s.PureMVC.debug?s.PureMVC.logNotification:s.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),r.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=r.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=a},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),r=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=r.PureMVC.debug?r.PureMVC.logMediator:r.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(s.Notifier);e.Mediator=a},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),r=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=r.PureMVC.debug?r.PureMVC.logProxy:r.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(s.Notifier);e.Proxy=a},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var s=o[n];this.removeObserver(s,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var s=o[n];this.registerObserver(s,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var s=i(651);e.Mediator=s.Mediator;var r=i(433);e.Model=r.Model;var a=i(117);e.Notifier=a.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,n,s,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,s||t,r),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function r(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,r=new Array(s);o<s;o++)r[o]=n[o].fn;return r},a.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,s,r){var a=i?i+t:t;if(!this._events[a])return!1;var c,h,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,s),!0;case 6:return d.fn.call(d.context,e,n,o,s,r),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,n,o){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return r(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||r(this,s);else{for(var c=0,h=[],d=a.length;c<d;c++)(a[c].fn!==e||o&&!a[c].once||n&&a[c].context!==n)&&h.push(a[c]);h.length?this._events[s]=1===h.length?h[0]:h:r(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&r(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},298:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Se});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var s=i(969),r=i(434);const{Facade:a}=i(710);function c(t,e,...i){const c=a.getInstance(t),y=pc.Application.getApplication(),g=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(y),m=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(y,g),A=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(y,g),f=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(y),N=function(t){const e=[];for(const i of t)E(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=r.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);r.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(g);c.hasProxy(s.h.NAME)&&c.removeProxy(s.h.NAME),c.registerProxy(new s.h(g,m,A,f,N)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),s=Math.round(i.x-.5*n.x),r=Math.round(i.z-.5*n.z);for(let t=s;t<s+n.x;t++)for(let i=r;i<r+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),s=Math.round(n.x),r=Math.round(n.z),a=Math.round(i.x-s/2),c=i.y,h=Math.round(i.z-r/2);for(let t=h;t<h+r;t++)for(let i=a;i<a+s;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),s=Math.round(n.y-.5*o.y),r=Math.round(n.x-.5*o.x),a=Math.round(n.z-.5*o.z);for(let t=r;t<r+o.x;t++)for(let n=a;n<a+o.z;n++){const o=new pc.Vec3(t,s,n);i.push(o);const r=e.findIndex((e=>e.equalsPoint(t,s,n)));if(r>-1){const t=e.splice(r,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function E(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),s=new pc.Vec3(t.x+1,t.y,t.z),r=new pc.Vec3(t.x+1,t.y,t.z+1),a=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(s))))&&(e.some((t=>t.equals(r)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(s))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(h)))))}var y=i(917);const{Proxy:g}=i(710);class m extends g{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(m.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:A}=i(710),{StoryVO:f}=i(553);class N extends A{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],s=t.assets.get(o).resource;i.set(n,s)}super(N.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Proxy:T}=i(710),{InventoryVO:C}=i(713);class _ extends T{get vo(){return this.getData()}static get NAME(){return"InventoryProxy"}constructor(){super(_.NAME,new C)}get inventoryItems(){return this.vo.inventoryItems}set inventoryItems(t){this.vo.inventoryItems=t}get equipmentSlots(){return this.vo.equipmentSlots}reorderInventoryItem(t,e){const i=this.inventoryItems.findIndex((e=>e.uuid===t)),n=this.inventoryItems.splice(i,1);let o=0,s=0;for(let t=0;t<this.inventoryItems.length;t++){const i=this.inventoryItems[t];e>=o&&e<o+i.size&&(s=t),o+=i.size}if(e>=o&&(s=this.inventoryItems.length),"[object Array]"!==Object.prototype.toString.call(this.inventoryItems))throw new Error("Please provide a valid array");if(!n.length)throw new Error("There is no item in the array at index "+i);this.inventoryItems.splice(s,0,n[0])}attemptToEquipItemToSlot(t,e){if(("1hand"===t||"2hand"===t)&&"weapon"===e.type){const i=this.equipmentSlots.get(t);if(i&&"2hand"===i.equipSlot&&(this.equipmentSlots.delete("1hand"),this.equipmentSlots.delete("2hand")),"1hand"===e.equipSlot){if(this.equipmentSlots.set(t,e),"1hand"===t){const t=this.equipmentSlots.get("2hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("2hand")}else if("2hand"===t){const t=this.equipmentSlots.get("1hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("1hand")}}else this.equipmentSlots.set("1hand",e),this.equipmentSlots.set("2hand",e);return!0}return!1}addInventoryItem(t){this.inventoryItems.push(t)}}const{Proxy:M}=i(710);class v extends M{get vo(){return this.getData()}static get NAME(){return"ItemsProxy"}constructor(t){super(v.NAME,t)}getItemData(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(console.log(i),Object.hasOwnProperty.call(i,t))return{id:t,type:e,...this.vo[e][t]}}throw new Error("Cannot find data for item:: "+t)}}const{Facade:I}=i(710);function S(t,e){I.getInstance(t).registerProxy(new y.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;I.getInstance(t).registerProxy(new m(e));const o=i.assets.get(40814027).resource;I.getInstance(t).registerProxy(new v(o)),I.getInstance(t).registerProxy(new N),I.getInstance(t).registerProxy(new _),I.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"sword"),I.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"pistolet"),I.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"fusil"),I.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"chainmail"),I.getInstance(t).sendNotification(n.i.EQUIP_ITEM_TO_SLOT,"unarmed","1hand"),I.getInstance(t).sendNotification(n.i.EQUIP_ITEM_TO_SLOT,"unarmed","2hand")}}const{Facade:P}=i(710);function b(t,e,...i){const o=pc.Application.getApplication(),s=i[0],r=i[1];console.log("Changing scene "+s);const a=o.root.findByName("Root"),c=o.scenes.find(s);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):a&&a.destroy(),P.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,s),P.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,s),P.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,r)}))}function O(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var x=i(958);const{Proxy:L}=i(710),{CombatVO:D}=i(201);class w extends L{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(w.NAME,new D(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(x.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=O(t);for(;"end_round"===e[0];)e=O(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var R=i(448);const{Facade:G}=i(710);function k(t,e,...i){const o=i[0],s=G.getInstance(t);s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),s.retrieveProxy(y.u.NAME).updateGameStateType(R.gameplayModeTypes.COMBAT);const r=s.retrieveProxy(x.b.NAME+o);s.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",r);const a=new Map,c=["player"];a.set("player_team",c);const h=[o].concat(r.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));a.set("opposing_team",h);const d=c.concat(h),l=s.retrieveProxy(x.b.NAME+"player");for(const t of d)s.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?s.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):s.sendNotification(n.i.CHARACTER_LOOK_AT+t,r.currentNode);const p=new w(d,a);s.registerProxy(p),setTimeout((()=>{s.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:U}=i(710);function H(t,e,...i){const n=U.getInstance(t),o=n.retrieveProxy(y.u.NAME),s=n.retrieveProxy(w.NAME);o.vo.gameplayMode===R.gameplayModeTypes.COMBAT&&s.nextTurn()}const{Facade:V}=i(710);function F(t,e,...i){const o=V.getInstance(t),s=o.retrieveProxy(y.u.NAME),r=o.retrieveProxy(w.NAME);s.vo.gameplayMode===R.gameplayModeTypes.COMBAT&&(r.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,r.vo.nextTurnCharacterId))}const{Facade:B}=i(710);function z(t,e,...i){setTimeout((()=>{const e=B.getInstance(t),i=e.retrieveProxy(w.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}class q{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}var Y=i(217);class W{constructor(t){this.initialize(t)}initialize(t){this.id=(0,Y.L)(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==q.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return q.ERROR}close(t){}exit(t){}}class K extends W{tick(t){for(const e of this.children)e.execute(t);return q.SUCCESS}}class j{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class Q{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class ${constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new Q;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let s=0;for(let t=0;t<Math.min(n.length,o.length)&&(s=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=s;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class X{constructor(t){this.id="basicMeleeTree",this.blackboard=new j,this.tree=new $(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class J extends W{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==q.FAILURE)return i}return q.FAILURE}}class Z extends W{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),q.SUCCESS}}class tt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),q.SUCCESS}}class et extends W{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),q.SUCCESS}}class it extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).availableMovement>0?q.SUCCESS:q.FAILURE}}class nt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(x.b.NAME+i).currentNode;return e.retrieveProxy(x.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?q.SUCCESS:q.FAILURE}}class ot extends W{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==q.SUCCESS)return i===q.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return q.SUCCESS}}class st extends W{tick(t){const e=this.children[0];if(!e)return q.ERROR;let i=e.execute(t);return i==q.SUCCESS?i=q.FAILURE:i==q.FAILURE&&(i=q.SUCCESS),i}}class rt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).isDead?q.SUCCESS:q.FAILURE}}class at extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),s=e.retrieveProxy(x.b.NAME+i),a=s.currentNode,c=e.retrieveProxy(x.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(c.length>0){let t=c.reduce(((t,e)=>ct(a,t)<ct(a,e)?t:e));const o=r.q.calculatePath(a,t);if(o&&o.length>0){const r=s.vo;for(;o.length>r.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),s.currentNode=t}}return s.availableMovement=0,q.SUCCESS}}function ct(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class ht extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).isDead?q.SUCCESS:q.FAILURE}}class dt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).availableActions>0?q.SUCCESS:q.FAILURE}}class lt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).availableMovement=0,q.SUCCESS}}class pt extends X{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new K([new J([new ot([new Z,new st([new ht]),new st([new rt]),new J([new ot([new nt,new dt,new Z,new tt,new lt]),new ot([new it,new Z,new at])])]),new et])])}}const{Facade:ut}=i(710);function Et(t,e,...i){const n=i[0],o=ut.getInstance(t),r=(o.retrieveProxy(s.h.NAME),o.retrieveProxy(x.b.NAME+n).currentNode);o.retrieveProxy(x.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(r))),(new pt).runCommands(o,n)}var yt=i(710);function gt(t,e,...i){const o=yt.Facade.getInstance(t),r=o.retrieveProxy(y.u.NAME),a=o.retrieveProxy(s.h.NAME),c=i[0];a.hasValidNode(c)&&(r.currentMode===R.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):r.currentMode===R.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(w.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:mt}=i(710);function At(t,e,...i){const n=mt.getInstance(t),o=i[0],s=i[1],a=n.retrieveProxy(x.b.NAME+o),c=a.vo,h=r.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(s)&&ft(n,a,s)}function ft(t,e,i){const o=e.vo,s=r.q.calculatePath(o.currentNode,i);s&&s.length>0&&(o.availableMovement-=s.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,s))}function Nt(t,e,...i){const n=i[0],o=pc.Application.getApplication(),s=o.assets.get(40235966),r=o.root.findByName("WorldObjects");for(const t of n){const e=s.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),r.addChild(e)}}function Tt(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function Ct(t,e,...i){const o=i[0],s=yt.Facade.getInstance(t),a=s.retrieveProxy(x.b.NAME+o).vo,c=r.q.breadthFirstSearch(a.currentNode,a.availableMovement);s.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function _t(t,e,...i){const o=yt.Facade.getInstance(t),s=i[0],r=i[1];if(o.retrieveProxy(x.b.NAME+s).currentNode=r,o.retrieveProxy(y.u.NAME).currentMode===R.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(w.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,s):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),500))}}function Mt(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function vt(t,e,...i){const o=yt.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(y.u.NAME),h=o.retrieveProxy(s.h.NAME),d=o.retrieveProxy(x.b.NAME+a),l=o.retrieveProxy(x.b.NAME+"player"),p=o.retrieveProxy(m.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===R.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?It(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,a):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,a);else if(c.currentMode===R.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(w.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)It(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=r.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=r.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function It(t,e,i){const n=Mt(e),o=Mt(i);return!t.rayIntersectsWall(n,o)}var St=i(829);function Pt(t,e,...i){const o=yt.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(x.b.NAME+s),a=i[1],c=o.retrieveProxy(x.b.NAME+a);o.sendNotification(n.i.CHARACTER_LOOK_AT+s,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,r.currentNode);const h=o.retrieveProxy(m.NAME),d=r.equippedWeapon+"Fighting",l=c.equippedWeapon+"Fighting",p=r.getSkillTotal(d),u=r.getSkillTotal(l),E=Ot(p),y=Ot(u);if(r.availableActions-=1,E===y)o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.DISPLAY_ATTACK+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${E}/${y})`);else if(E>y){const t=bt(E,y),e=h.getDamage(r.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+s),c.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,a):(o.sendNotification(n.i.DISPLAY_HIT+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${a} for ${e}`))}else{const t="melee"===h.getWeaponCategory(c.equippedWeapon),e=bt(y,E),i=t?c.equippedWeapon:St.j.UNARMED,d=h.getDamage(i,e);r.applyDamage(d),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${a} damages ${s} for ${d}`),o.sendNotification(n.i.DISPLAY_ATTACK+a),r.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,s):o.sendNotification(n.i.DISPLAY_HIT+s)}const g=o.retrieveProxy(w.NAME);g&&"player"!==g.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),1500)}function bt(t,e){return t-e}function Ot(t){return t+xt()+xt()}function xt(){return Math.round(6*Math.random())}var Lt=i(321);const{Facade:Dt}=i(710);function wt(t,e,...i){const o=Dt.getInstance(t),s=i[0],r=i[1],a=i[2];o.retrieveProxy(x.b.NAME+s).useMovement(a.length-1);const c=o.retrieveMediator(Lt.y.NAME+s);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(a).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,s,r)}))}function Rt(t,e,...i){const o=yt.Facade.getInstance(t),s=i[0];console.log("Kill character:: "+s);const r=o.retrieveProxy(x.b.NAME+s);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",r),o.sendNotification(n.i.DISPLAY_DEATH+s),r&&(r.currentNode.occupied=!1);const a=o.retrieveProxy(w.NAME);a&&a.removeCharacterFromCombat(s)}const{Facade:Gt}=i(710);function kt(t,e,...i){const o=i[0],s=Gt.getInstance(t);s.hasMediator(w.NAME)&&s.removeMediator(w.NAME),s.sendNotification(n.i.HIDE_WALKABLE_AREA);const r=s.retrieveProxy(y.u.NAME);"player_team"===o?(r.updateGameStateType(R.gameplayModeTypes.GAME_OVER),s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(r.updateGameStateType(R.gameplayModeTypes.EXPLORATION),s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}var Ut=i(316);class Ht extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),q.SUCCESS}}class Vt extends W{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),s=e.retrieveProxy(x.b.NAME+i),a=s.currentNode,c=e.retrieveProxy(x.b.NAME+o).currentNode,h=Math.pow(this.minDistance,2),d=Math.pow(this.maxDistance,2),l=s.availableMovement;s.availableMovement=0;const p=Ft(c,a);if(p>=h&&p<=d)return q.FAILURE;{const t=r.q.breadthFirstSearch(a,l);if(t.length>0){if(p<h){let o=t.reduce(((t,e)=>Ft(c,t)>Ft(c,e)?t:e));const h=r.q.calculatePath(a,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),s.currentNode=o)}else{let o=t.reduce(((t,e)=>Ft(c,t)<Ft(c,e)?t:e));const h=r.q.calculatePath(a,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),s.currentNode=o)}return q.SUCCESS}return q.FAILURE}}}function Ft(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class Bt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}class zt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(x.b.NAME+i),r=(o.currentNode,e.retrieveProxy(x.b.NAME+n)),a=(r.currentNode,e.retrieveProxy(s.h.NAME)),c=Mt(o),h=Mt(r);return a.rayIntersectsWall(c,h)?q.FAILURE:q.SUCCESS}}class qt extends W{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),a=e.retrieveProxy(x.b.NAME+i),c=a.currentNode,h=e.retrieveProxy(x.b.NAME+o),d=h.currentNode.connectedNodes,l=e.retrieveProxy(s.h.NAME),p=d.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>Yt(c,t)<Yt(c,e)?t:e));const o=r.q.calculatePath(c,t);if(o&&o.length>0){const s=a.vo;for(;o.length>s.availableMovement;)o.shift();const r=Mt(h);let c=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*a.height,e.z);if(!l.rayIntersectsWall(i,r)){c=t;break}}o.splice(0,c),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),a.currentNode=t}}return a.availableMovement=0,q.SUCCESS}}function Yt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Wt extends X{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new K([new J([new ot([new Z,new st([new ht]),new st([new rt]),new J([new ot([new it,new st([new zt]),new qt]),new ot([new it,new J([new Vt(9,12),new Bt])]),new ot([new dt,new zt,new Ht])])]),new et])])}}function Kt(t,e,...i){const n=yt.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(x.b.NAME+o).botBehaviour){case Ut.r.BASIC_MELEE:(new pt).runCommands(n,o);break;case Ut.r.BASIC_RANGED:(new Wt).runCommands(n,o)}}var jt=i(852);function Qt(t,e,...i){const o=yt.Facade.getInstance(t);let r=0,a=0;const c=i[0],h=o.retrieveProxy(x.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(x.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode);const E=h.equippedWeapon+"Fighting",y=h.getSkillTotal(E);r+=$t(y),a+=$t(p.skill);const g=o.retrieveProxy(m.NAME);o.retrieveProxy(s.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(a+=2);const A=o.retrieveMediator(jt.N.NAME),f=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),N=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),A.createProjectile("crossbow_bolt",f,N).then((()=>{if(r>a){const t=o.retrieveProxy(w.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(x.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(x.b.NAME+l)}const e=r-a,i=g.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,l):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(w.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function $t(t){return t+Xt()+Xt()}function Xt(){return Math.round(6*Math.random())}const{Facade:Jt}=i(710);function Zt(t,e,...i){const o=Jt.getInstance(t);if(o.retrieveProxy(y.u.NAME).currentMode===R.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(w.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const s=i[0],r=i[1],a=o.retrieveProxy(x.b.NAME+s);a&&(a.equippedWeapon=r,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} equips ${r}`))}function te(t,e,...i){const o=yt.Facade.getInstance(t),r=i[0],a=i[1],c=i[2],h=o.retrieveProxy(s.h.NAME).findNearestNode(r);o.retrieveMediator(Lt.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,a,c)}))}const{Facade:ee}=i(710);function ie(t,e,...i){const n=ee.getInstance(t),o=i[0],r=pc.Application.getApplication(),a=r.assets.get(40523336),c=r.root.findByName("WorldObjects"),h=a.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(s.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:ne}=i(710);function oe(t,e,...i){const o=ne.getInstance(t),s=i[0],a=o.retrieveProxy(x.b.NAME+"player"),c=o.retrieveProxy(x.b.NAME+s),h=o.retrieveMediator(Lt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=r.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=r.q.calculatePath(n,t[i]);(!e||o&&o.length<e.length)&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_DIALOGUE,s)}))}const{Facade:se}=i(710);function re(t,e,...i){const o=se.getInstance(t),s=o.retrieveProxy(y.u.NAME),r=i[0],a=o.retrieveProxy(N.NAME),c=o.retrieveProxy(x.b.NAME+"player"),h=o.retrieveProxy(x.b.NAME+r),d=h.dialogueTree;a.startDialogueTree(d),s.updateGameStateType(R.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=a.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function ae(t,e,...i){const o=yt.Facade.getInstance(t),s=o.retrieveProxy(N.NAME),r=s.continueCurrentNodeStep();if(r){if(r.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),r.notifications)for(const t of r.notifications)o.sendNotification(t.name,...t.args);o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:r})}else o.sendNotification(n.i.END_DIALOGUE)}function ce(t,e,...i){const o=yt.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(N.NAME),a=r.selectChoice(s);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:a.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:c}),a.test?o.sendNotification(n.i.RESOLVE_DIALOGUE_SKILL_TEST,a.test):a.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,a.goto)}function he(t,e,...i){const o=yt.Facade.getInstance(t),s=o.retrieveProxy(N.NAME),r=i[0];s.goToNode(r);const a=s.getCurrentNodeStep();if(a){if(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:a}),console.log("*****"),console.log(a),a.notifications)for(const t of a.notifications)console.log("SHOOT COMMAND: "+t.name),o.sendNotification(t.name,...t.args)}else o.sendNotification(n.i.END_DIALOGUE)}const{Facade:de}=i(710);function le(t,e,...i){const o=de.getInstance(t);o.retrieveProxy(y.u.NAME).updateGameStateType(R.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:pe}=i(710);function ue(t,e,...i){const o=pe.getInstance(t),s=i[0],a=o.retrieveProxy(x.b.NAME+"player"),c=o.retrieveProxy(x.b.NAME+s),h=o.retrieveMediator(Lt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=r.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=r.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,s),o.sendNotification(n.i.RESOLVE_ATTACK,"player",s)}))}const{Facade:Ee}=i(710);function ye(t,e,...i){const n=Ee.getInstance(t),o=i[0];n.retrieveProxy(y.u.NAME).currentAction=o}function ge(t,e,...i){const o=yt.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(x.b.NAME+"player").getSkillTotal(s.skill),a=me(),c=me(),h=r>=a+c;o.sendNotification(n.i.DISPLAY_DIALOGUE_SKILL_TEST,s.skill,r,a,c,h),h?(console.log(`Succeeded ${s.skill} with a ${r} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.success.goto)):(console.log(`Failed ${s.skill} with a ${r} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.failure.goto))}function me(){return Math.round(6*Math.random())}const{Facade:Ae}=i(710);function fe(t,e,...i){const o=Ae.getInstance(t),s=o.retrieveProxy(_.NAME);o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}const{Facade:Ne}=i(710);function Te(t,e,...i){const o=Ne.getInstance(t),s=o.retrieveProxy(_.NAME),r=i[0],a=i[1];s.reorderInventoryItem(r,a),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}var Ce=i(340);function _e(t,e,...i){const o=yt.Facade.getInstance(t),s=o.retrieveProxy(_.NAME),r=i[0],a=i[1],c=s.inventoryItems.find((t=>t.id===r));if(c)s.attemptToEquipItemToSlot(a,c)&&"weapon"===c.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id);else{const t=o.retrieveProxy(v.NAME),e=o.retrieveProxy(_.NAME),i=new Ce.R(t.getItemData(r));e.attemptToEquipItemToSlot(a,i)&&"weapon"===i.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",i.id)}o.sendNotification(n.i.DISPLAY_EQUIPPED_SLOT,s.equipmentSlots),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}const{Facade:Me}=i(710);function ve(t,e,...i){const n=i[0],o=Me.getInstance(t),s=o.retrieveProxy(v.NAME),r=o.retrieveProxy(_.NAME),a=new Ce.R(s.getItemData(n));r.addInventoryItem(a)}const{Facade:Ie}=i(710);class Se extends Ie{static getInstance(t){return Ie.instanceMap[t]||(Ie.instanceMap[t]=new Se(t)),Ie.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Se.NAME+"StartUp"}startup(t){this.sendNotification(Se.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Se.STARTUP,S),this.registerCommand(n.i.CHANGE_SCENE,b),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,k),this.registerCommand(n.i.NEXT_COMBAT_TURN,H),this.registerCommand(n.i.NEXT_COMBAT_ROUND,F),this.registerCommand(n.i.END_COMBAT_TURN,z),this.registerCommand(n.i.ENEMY_TURN,Et),this.registerCommand(n.i.SELECTED_NODE,gt),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,At),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Kt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,Nt),this.registerCommand(n.i.HIDE_WALKABLE_AREA,Tt),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,Ct),this.registerCommand(n.i.FINISHED_MOVE,_t),this.registerCommand(n.i.SELECT_GAME_CHARACTER,vt),this.registerCommand(n.i.RESOLVE_ATTACK,Pt),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Qt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,wt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,ue),this.registerCommand(n.i.KILL_GAME_CHARACTER,Rt),this.registerCommand(n.i.END_COMBAT,kt),this.registerCommand(n.i.EQUIP_WEAPON,Zt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,te),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,ie),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,oe),this.registerCommand(n.i.START_DIALOGUE,re),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,ae),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,ce),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,he),this.registerCommand(n.i.END_DIALOGUE,le),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,ye),this.registerCommand(n.i.RESOLVE_DIALOGUE_SKILL_TEST,ge),this.registerCommand(n.i.CLICK_INVENTORY_BUTTON,fe),this.registerCommand(n.i.REORDER_INVETORY_ITEM,Te),this.registerCommand(n.i.EQUIP_ITEM_TO_SLOT,_e),this.registerCommand(n.i.ADD_ITEM_TO_INVENTORY,ve)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get DISPLAY_DIALOGUE_SKILL_TEST(){return"DISPLAY_DIALOGUE_SKILL_TEST"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get RESOLVE_DIALOGUE_SKILL_TEST(){return"RESOLVE_DIALOGUE_SKILL_TEST"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}static get CLICK_INVENTORY_BUTTON(){return"CLICK_INVENTORY_BUTTON"}static get DISPLAY_INVENTORY_PANEL(){return"DISPLAY_INVENTORY_PANEL"}static get REORDER_INVETORY_ITEM(){return"REORDER_INVETORY_ITEM"}static get EQUIP_ITEM_TO_SLOT(){return"EQUIP_ITEM_TO_SLOT"}static get ADD_ITEM_TO_INVENTORY(){return"ADD_ITEM_TO_INVENTORY"}static get DISPLAY_EQUIPPED_SLOT(){return"DISPLAY_EQUIPPED_SLOT"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>r});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:s}=i(940);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(r.NAME+t.id,new s(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}getSkillTotal(t){return this.vo.advancedSkills.has(t)?this.skill+this.vo.advancedSkills.get(t):this.skill}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||new Map,this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>r});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:s}=i(438);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(r.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const s of e){const e=n.q.getDistSquared(s,t);e<o&&(o=e,i=s)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const s of e){const e=n.q.getDistSquared(s,t);e<o&&(o=e,i=s)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),s=this.vo.wallBoundingBoxes;for(const e of s){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let s=0;for(;i.length>0&&s<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const s=e.connectedNodes[i];s.occupied||o.has(s)||(t.push(s),n.push(s),o.set(s,e))}i=t,s++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,s=new Map;for(o.set(t,t),s.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const r=t.connectedNodes[n],a=s.get(t)+1;if(!r.occupied&&(!s.has(r)||a<s.get(r))){s.set(r,a);let n=a+this.heuristic(r,e);i.push(r,n),o.set(r,t)}}}let r=e,a=!1;const c=[];for(c.push(r);!r.equals(t)&&!a;)o.has(r)||!r.equals(e)?(r=o.get(r),c.push(r)):a=!0;return a?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,s=new Map;for(o.set(t,t),s.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const r=t.connectedNodes[n],a=this.getDistSquared(r,t),c=s.get(t)+a;if(!r.occupied&&(!s.has(r)||c<s.get(r))){s.set(r,c);let n=c+this.heuristic(r,e);i.push(r,n),o.set(r,t)}}}let r=e,a=!1;const c=[];for(c.push(r);!r.equals(t)&&!a;)o.has(r)||!r.equals(e)?(r=o.get(r),c.push(r)):a=!0;return a?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,s=n-e,r=Math.abs(o),a=Math.abs(s);const c=o>0?1:-1,h=s>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<r||e<a;)(.5+t)/r<(.5+e)/a?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>s});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class s extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(s.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},713:(t,e,i)=>{i.r(e),i.d(e,{InventoryVO:()=>o});var n=i(340);class o{constructor(){this.inventoryItems=[],this.equipmentSlots=new Map}addItem(t){this.inventoryItems.push(new n.R(t))}}},340:(t,e,i)=>{i.d(e,{R:()=>o});var n=i(217);class o{constructor(t){this.uuid=(0,n.L)(),this.id=t.id,this.icon=t.icon,this.name=t.name,this.description=t.description,this.type=t.type,this.size=t.size??1,this.equipSlot=t.equipSlot??"none"}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},217:(t,e,i)=>{function n(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}i.d(e,{L:()=>n})},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),s=i(434),r=i(958);const{Mediator:a}=i(710);class c extends a{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(r.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const s=this.viewComponent.findByName("Hitbox");s&&s.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=s.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,a=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=s.q.calculateWaypointsPath(a,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let s=!0;for(;o.length>1&&s;)e.hasValidLine(o[o.length-2],n)?o.pop():s=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=s.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(r.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(r.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(298),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(298),s=pc.createScript("CacogenGame");s.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},s.prototype.update=function(t){};var r=i(434);const a=pc.createScript("NavigationComponent");a.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),a.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},a.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},a.prototype.setGrid=function(t){this.nodeGrid=t},a.prototype.getGrid=function(){return this.nodeGrid},a.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=r.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=r.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const E=pc.createScript("GameCharacterComponent");function y(t){const e=new Map;for(const i of t)e.set(i.skillName,i.skillValue);return e}E.attributes.add("characterId",{type:"string",title:"Character Id"}),E.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),E.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),E.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),E.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),E.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"number"}],array:!0}),E.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),E.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),E.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),E.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),E.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},E.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:y(this.advancedSkills),equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1)},E.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},E.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},E.prototype.update=function(t){this.moveAlongPath(t)},E.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},E.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},E.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},E.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},E.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var g=i(917),m=i(448);const A=pc.createScript("AgroGameCharacterComponent");A.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),A.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},A.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},A.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(g.u.NAME).vo.gameplayMode!==m.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const s=this.characterProxy.currentNode,r=new pc.Vec3(s.x,s.y,s.z),a=new pc.Vec3(n.x,n.y,n.z);if(r.distance(a)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);r.y+=this.characterProxy.height,t.rayIntersectsWall(r,a)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:f}=i(710);class N extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const T=pc.createScript("ToastMessageComponent");T.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),T.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},T.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},T.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:C}=i(710);class _ extends C{static get NAME(){return"InputLayerMediator"}constructor(t){super(_.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const M=pc.createScript("GameCamera");M.attributes.add("distance",{type:"number",default:100,title:"Distance"}),M.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),M.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),M.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),M.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(I.NAME)&&this.facade.removeMediator(I.NAME),this.facade.registerMediator(new I(this.entity))},M.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},M.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},M.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},M.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,s=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,s),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class I extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(I.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const S=pc.createScript("InputLayerComponent");S.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),S.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),S.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.NAME)&&this.facade.removeMediator(_.NAME),this.facade.registerMediator(new _(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},S.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},S.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},S.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},S.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},S.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},S.prototype.update=function(t){this.processInputQueue()},S.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},S.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},S.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},S.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:P}=i(710);class b extends P{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(b.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const O=pc.createScript("PlayerCombatPanelComponent");O.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),O.prototype.initialize=function(){},O.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(b.NAME)&&this.facade.removeMediator(b.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new b(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},O.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:L}=i(710);class D extends L{static get NAME(){return"ActionPanelMediator"}constructor(t){super(D.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const w=pc.createScript("ActionButtonComponent");w.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),w.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),w.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),w.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},w.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},w.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(D.NAME)&&this.facade.removeMediator(D.NAME),this.facade.registerMediator(new D(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var G=i(852);const k=pc.createScript("ProjectileCreatorComponent");k.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),k.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(G.N.NAME)&&this.facade.removeMediator(G.N.NAME),this.facade.registerMediator(new G.N(this.entity))},k.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const s=this.projectileTypes.find((e=>e.projectileName===t));if(!s)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=s.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const U=pc.createScript("ProjectileComponent");U.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),U.prototype.initialize=function(){},U.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},U.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},U.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:H}=i(710);class V extends H{static get NAME(){return"StaminaBarMediator"}constructor(t){super(V.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const F=pc.createScript("StaminaBarComponent");F.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),F.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),F.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(V.NAME)&&this.facade.removeMediator(V.NAME),this.facade.registerMediator(new V(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},F.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:B}=i(710);class z extends B{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(z.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const q=pc.createScript("ActionsRemainingPanelComponent");q.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(z.NAME)&&this.facade.removeMediator(z.NAME),this.facade.registerMediator(new z(this.entity)),this.pips=[]},q.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},q.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const Y=pc.createScript("ActionsRemainingPipComponent");Y.attributes.add("pipFront",{type:"entity",title:"Pip front"}),Y.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:W}=i(710);class K extends W{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,s=i.x/o,r=(this.device.height-i.y)/o;return new pc.Vec3(s,r,0)}};const Q=pc.createScript("FloatingStatusCreatorComponent");Q.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),Q.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),Q.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),Q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},Q.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:$}=i(710);class X extends ${static get NAME(){return"PortalMediator"}constructor(t){super(X.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(g.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,s=i.standingPoint.getPosition();t.currentMode===m.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,s,n,o)}}const J=pc.createScript("PortalComponent");J.attributes.add("portalId",{type:"string",title:"Portal Id"}),J.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),J.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),J.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),J.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),J.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(X.NAME)&&this.facade.removeMediator(X.NAME),this.facade.registerMediator(new X(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:Z}=i(710);class tt extends Z{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(tt.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.DISPLAY_DIALOGUE_SKILL_TEST,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1;break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.DISPLAY_DIALOGUE_SKILL_TEST:this.viewComponent.script.DialoguePanelComponent.createSkillTest(...i);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const et=pc.createScript("DialoguePanelComponent");et.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),et.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),et.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),et.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),et.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),et.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),et.attributes.add("skillTestEntryTemplate",{type:"asset",title:"Skill Test Entry Asset"}),et.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(tt.NAME)&&this.facade.removeMediator(tt.NAME),this.facade.registerMediator(new tt(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},et.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},et.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createSkillTest=function(t,e,i,n,o){const s=this.skillTestEntryTemplate.resource.instantiate();s.script.DialogueSkillTestComponent.setup(t,e,i,n,o),this.feedEntity.addChild(s),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},et.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},et.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},et.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},et.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const it=pc.createScript("DialogueChoiceComponent");it.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),it.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),it.prototype.initialize=function(){},it.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},it.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const nt=pc.createScript("DefaultAnimationComponent");nt.attributes.add("animationName",{type:"string",title:"Animation Name"}),nt.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const ot=pc.createScript("DialogueTextComponent");ot.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),ot.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),ot.attributes.add("textContainer",{type:"entity",title:"Text Container"}),ot.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),ot.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),ot.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),ot.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),ot.prototype.initialize=function(){},ot.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},ot.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},ot.prototype.postInitialize=function(){this.setHeight()},ot.prototype.update=function(t){};const{Mediator:st}=i(710);class rt extends st{static get NAME(){return"AttackButtonMediator"}constructor(t){super(rt.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const at=pc.createScript("AttackButtonComponent");at.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),at.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(rt.NAME)&&this.facade.removeMediator(rt.NAME),this.facade.registerMediator(new rt(this.entity)),this.entity.element.on("click",this.handleClick,this)},at.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},at.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const{Mediator:ct}=i(710);class ht extends ct{static get NAME(){return"UseItemButtonMediator"}constructor(t,i){super(ht.NAME+i),this.equipmentSlotKey=i,this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED,e.i.DISPLAY_EQUIPPED_SLOT]),this.viewComponent=t,this.viewComponent.on("click:useItem",this.handleUseItem,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!0):this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!1);break;case e.i.DISPLAY_EQUIPPED_SLOT:const t=i[0].get(this.equipmentSlotKey);t&&t.icon?this.viewComponent.script.UseItemButtonComponent.setIcon(t.icon):this.viewComponent.script.UseItemButtonComponent.setDefaultIcon()}}handleUseItem(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const dt=pc.createScript("UseItemButtonComponent");dt.attributes.add("equipmentSlotKey",{type:"string",title:"Equipment Slot Key"}),dt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),dt.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),dt.attributes.add("defaultIcon",{type:"asset",title:"Default Icon"}),dt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(ht.NAME+this.equipmentSlotKey)&&this.facade.removeMediator(ht.NAME+this.equipmentSlotKey),this.facade.registerMediator(new ht(this.entity,this.equipmentSlotKey)),this.entity.element.on("click",this.handleClick,this)},dt.prototype.setIcon=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},dt.prototype.setDefaultIcon=function(){this.iconEntity.element.spriteAsset=this.defaultIcon},dt.prototype.handleClick=function(t){this.entity.fire("click:useItem",!this.highlightEntity.enabled)},dt.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const lt=pc.createScript("VehicleComponent");function pt(t,e){return t.length()<e?t:t.normalize().scale(e)}lt.attributes.add("mass",{type:"number",title:"Mass",default:3}),lt.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),lt.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),lt.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),lt.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},lt.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=pt(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=pt(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},lt.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},lt.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const ut=pc.createScript("ScreenResizeComponent");ut.prototype.window=window,ut.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},ut.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const Et=pc.createScript("DialogueSkillTestComponent");Et.attributes.add("skillNameLabel",{type:"entity",title:"Skill Name Label"}),Et.attributes.add("skillValueLabel",{type:"entity",title:"Skill Value Label"}),Et.attributes.add("die1Label",{type:"entity",title:"Die 1 Label"}),Et.attributes.add("die2Label",{type:"entity",title:"Die 2 Label"}),Et.attributes.add("successLabel",{type:"entity",title:"Success Label"}),Et.attributes.add("failureLabel",{type:"entity",title:"Failure Label"}),Et.prototype.initialize=function(){},Et.prototype.setup=function(t,e,i,n,o){this.skillNameLabel.element.text=t,this.skillValueLabel.element.text=e,this.die1Label.element.text=i,this.die2Label.element.text=n,this.successLabel.enabled=o,this.failureLabel.enabled=!o};const yt=pc.createScript("InventoryItemComponent");yt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),yt.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),yt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),yt.attributes.add("expandedEntity",{type:"entity",title:"Expanded Entity"}),yt.prototype.setup=function(t){this.icon=t.icon;const e=this.app.assets.get(this.icon);this.iconEntity.element.spriteAsset=e,this.size=t.size,this.labelEntity.element.text=t.name,this.entity.element.height=this.slotHeight*this.size,this.expandedEntity.element.height=this.slotHeight*this.size,this.itemData=t},yt.prototype.collapse=function(){this.expandedEntity.enabled=!1},yt.prototype.expand=function(){this.expandedEntity.enabled=!0},yt.prototype.postInitialize=function(){new pc.ElementDragHelper(this.entity.element,null).on("drag:start",this.onDragStart,this)},yt.prototype.onDragStart=function(){this.entity.parent.fire("drag:start",this.entity,this.size)};const{Mediator:gt}=i(710);class mt extends gt{static get NAME(){return"InventoryPanelMediator"}constructor(t){super(mt.NAME),this.subscribeNotification([e.i.DISPLAY_INVENTORY_PANEL]),this.viewComponent=t,this.viewComponent.on("reorderItem",this.handeReorderItem,this),this.viewComponent.on("equipItem",this.handleEquipItem,this),this.viewComponent.enabled=!1}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_INVENTORY_PANEL:const t=i[0],n=i[1];this.viewComponent.script.InventoryPanelComponent.displayItems(t,n),this.viewComponent.enabled=!0}}handeReorderItem(t,i){this.facade.sendNotification(e.i.REORDER_INVETORY_ITEM,t,i)}handleEquipItem(t,i){this.facade.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,t,i)}}const At=pc.createScript("InventoryPanelComponent");function ft(t,e){return t.x>e.x1&&t.x<e.x2&&t.y>e.y1&&t.y<e.y2}At.attributes.add("slotContainer",{type:"entity",title:"Slot Container"}),At.attributes.add("topSlotPosition",{type:"entity",title:"Top Slot Position"}),At.attributes.add("separatorHighlight",{type:"entity",title:"Separator Highlight"}),At.attributes.add("closeButton",{type:"entity",title:"Close Button"}),At.attributes.add("itemAsset",{type:"asset",title:"Item Asset"}),At.attributes.add("dragIcon",{type:"entity",title:"Drag Icon"}),At.attributes.add("slotWidth",{type:"number",title:"Slot Width",default:320}),At.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),At.attributes.add("maxSlots",{type:"number",title:"Max Slots",default:12}),At.attributes.add("equipmentSlots",{type:"json",schema:[{name:"key",title:"Equipment Slot Key",type:"string"},{name:"entity",title:"Equipment Slot Entity",type:"entity"}],array:!0,title:"Equipment Slots"}),At.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(mt.NAME)&&this.facade.removeMediator(mt.NAME),this.facade.registerMediator(new mt(this.entity)),this.entity.on("drag:start",this.handleDragStart,this),this.closeButton.element.on("click",this.handleClose,this),this.separatorHighlight.enabled=!1,this.inventoryItemEntities=[]},At.prototype.handleDragStart=function(t,e){t.reparent(this.entity),this.dragIcon.reparent(this.entity),this.entity.element.on(pc.EVENT_MOUSEMOVE,(i=>{this.handleMouseMove(t,e,i)}),this),this.entity.element.on(pc.EVENT_MOUSEUP,(i=>{this.handleMouseUp(t,e,i)}),this)},At.prototype.localPositionFromMouseEvent=function(t){const e=new pc.Vec3(t.x,t.y,0),i=this.app.graphicsDevice.maxPixelRatio;e.x*=i,e.y*=i;const n=this.entity.element.screen.screen,o=this.app.graphicsDevice,s=n.scale,r=e.x/s,a=(o.height-e.y)/s;return new pc.Vec3(r,a,0)},At.prototype.handleMouseMove=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.setLocalPosition(n),this.displayPotentialList(t,e,n)},At.prototype.handleMouseUp=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.enabled=!1,t.script.InventoryItemComponent.expand(),this.entity.element.off(pc.EVENT_MOUSEMOVE),this.entity.element.off(pc.EVENT_MOUSEUP);const o=this.topSlotPosition.getLocalPosition();if(ft(n,{x1:o.x,y1:o.y-this.maxSlots*this.slotHeight,x2:o.x+this.slotWidth,y2:o.y})){const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},n=this.localPositionFromMouseEvent(i),s=Math.max(0,Math.floor((o.y-n.y)/this.slotHeight)),r=t.script.InventoryItemComponent.itemData;this.entity.fire("reorderItem",r.uuid,s)}else this.checkDropOnEquipmentSlot(t,i)},At.prototype.checkDropOnEquipmentSlot=function(t,e){for(const i of this.equipmentSlots){const n=i.key,o=i.entity.element.screenCorners,s=this.app.graphicsDevice.height;if(ft({x:e.x,y:s-e.y},{x1:o[0].x,y1:o[0].y,x2:o[2].x,y2:o[2].y})){const e=t.script.InventoryItemComponent.itemData;this.entity.fire("equipItem",e.id,n)}}},At.prototype.handleItemMove=function(t,e){this.isInBounds(e)?(t.script.InventoryItemComponent.expand(),this.separatorHighlight.enabled=!0):(t.script.InventoryItemComponent.collapse(),this.separatorHighlight.enabled=!1),this.setHighlightPosition(e)},At.prototype.handleClose=function(){return this.entity.enabled=!1},At.prototype.displayItems=function(t,e){console.log(t),console.log(e),this.clearPanel();const i=this.topSlotPosition.getLocalPosition();let n=0;for(let e=0;e<t.length;e++){const o=t[e];n+=o.size;const s=this.itemAsset.resource.instantiate();s.script.InventoryItemComponent.setup(o),s.setLocalPosition(i.x,i.y-n*this.slotHeight,0),this.inventoryItemEntities.push(s),this.entity.addChild(s)}for(const t of this.equipmentSlots){const i=t.key,n=t.entity;if(e.has(i)){const t=e.get(i);n.script.InventoryEquippedSlotComponent.setup(t.icon)}else n.script.InventoryEquippedSlotComponent.clear()}},At.prototype.displayPotentialList=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();if(ft(i,{x1:n.x,y1:n.y-this.maxSlots*this.slotHeight,x2:n.x+this.slotWidth,y2:n.y})){t.script.InventoryItemComponent.expand(),this.dragIcon.enabled=!1;const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},o=this.localPositionFromMouseEvent(i),s=Math.max(0,Math.floor((n.y-o.y)/this.slotHeight));this.reorderListWithGap(t,t.script.InventoryItemComponent.size,s)}else this.separatorHighlight.enabled=!1,t.script.InventoryItemComponent.collapse(),this.dragIcon.enabled=!0},At.prototype.reorderListWithGap=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();let o=0;for(let s=0;s<this.inventoryItemEntities.length;s++){const r=this.inventoryItemEntities[s];t!==r&&(i>=o&&i<o+r.script.InventoryItemComponent.size&&(o+=e),o+=r.script.InventoryItemComponent.size,r.setLocalPosition(n.x,n.y-o*this.slotHeight,0))}},At.prototype.clearPanel=function(){for(;this.inventoryItemEntities.length>0;)this.inventoryItemEntities.pop().destroy()};const Nt=pc.createScript("InventoryDragIconComponent");Nt.prototype.initialize=function(){},Nt.prototype.setup=function(t,e){};const Tt=pc.createScript("InventoryEquippedSlotComponent");Tt.attributes.add("defaultAsset",{type:"asset",title:"Default Asset"}),Tt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),Tt.prototype.initialize=function(){},Tt.prototype.setup=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},Tt.prototype.clear=function(){this.iconEntity.element.spriteAsset=this.defaultAsset};const{Facade:Ct}=i(710),{PureMVC:_t}=i(710);new class{constructor(){_t.debug=!0,Ct.getInstance=t.GameFacade.getInstance,console.log(Ct),this.facade=Ct.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvU2h1ZmZsZUFycmF5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyU3RhdHVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CYXNlTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9Qcmlvcml0eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NZW1TZXF1ZW5jZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9BZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0RGlhbG9ndWVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQWRkSXRlbXRvSW52ZW50b3J5Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9HYW1lQ29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvZGF0YS9XZWFwb25UeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQWRqYWNlbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9pdGVtcy9JbnZlbnRvcnlJdGVtLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL3N0b3J5UHJveHkvU3RvcnlWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9HVUlELmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9DYWNvZ2VuR2FtZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmEuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcG9ydGFsL1BvcnRhbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvZGVmYXVsdEFuaW0vRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVUZXh0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbk1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbk1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvdXNlSXRlbUJ1dHRvbi9Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvdmVoaWNsZS9WZWhpY2xlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5UGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeVBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJQdXJlTVZDXzEiLCJWaWV3XzEiLCJDb250cm9sbGVyIiwia2V5IiwidGhpcyIsImNvbW1hbmRNYXAiLCJpbnN0YW5jZU1hcCIsIkVycm9yIiwibXVsdGl0b25LZXkiLCJsb2dnZXIiLCJQdXJlTVZDIiwiZGVidWciLCJsb2dDb21tYW5kIiwibG9nTm9uZSIsImluaXRpYWxpemVDb250cm9sbGVyIiwicmVtb3ZlQ29udHJvbGxlciIsImdldEluc3RhbmNlIiwicHJvdG90eXBlIiwicmVnaXN0ZXJDb21tYW5kIiwibm90aWZpY2F0aW9uTmFtZSIsImNvbW1hbmRDbGFzc1JlZiIsInZpZXciLCJyZWdpc3Rlck9ic2VydmVyIiwiZXhlY3V0ZUNvbW1hbmQiLCJoYXNDb21tYW5kIiwidW5kZWZpbmVkIiwicmVtb3ZlQ29tbWFuZCIsInJlbW92ZU9ic2VydmVyIiwiVmlldyIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImNvbW1hbmQiLCJfY29uc29sZUFyZ3MiLCJuYW1lIiwiYXBwbHkiLCJjb25jYXQiLCJDb250cm9sbGVyXzEiLCJNb2RlbF8xIiwiRmFjYWRlIiwibG9nTm90aWZpY2F0aW9uIiwiaW5pdGlhbGl6ZU5vdGlmaWVyIiwiaW5pdGlhbGl6ZUZhY2FkZSIsImhhc0NvcmUiLCJyZW1vdmVDb3JlIiwiTW9kZWwiLCJyZW1vdmVNb2RlbCIsInJlbW92ZVZpZXciLCJpbml0aWFsaXplTW9kZWwiLCJpbml0aWFsaXplVmlldyIsImNvbnRyb2xsZXIiLCJyZWdpc3RlclByb3h5IiwicHJveHkiLCJtb2RlbCIsInJldHJpZXZlUHJveHkiLCJwcm94eU5hbWUiLCJyZW1vdmVQcm94eSIsImhhc1Byb3h5IiwicmVnaXN0ZXJNZWRpYXRvciIsIm1lZGlhdG9yIiwicmV0cmlldmVNZWRpYXRvciIsIm1lZGlhdG9yTmFtZSIsInJlbW92ZU1lZGlhdG9yIiwic2xlZXBNZWRpYXRvciIsImF3YWtlTWVkaWF0b3IiLCJoYXNNZWRpYXRvciIsInNlbmROb3RpZmljYXRpb24iLCJfYSIsIm5vdGlmeU9ic2VydmVycyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiTm90aWZpZXJfMSIsIk1lZGlhdG9yIiwiX3N1cGVyIiwidmlld0NvbXBvbmVudCIsIl90aGlzIiwiY2FsbCIsImxvZ01lZGlhdG9yIiwic2xlZXBpbmciLCJzdWJzY3JpYmVkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXRNZWRpYXRvck5hbWUiLCJzZXRWaWV3Q29tcG9uZW50IiwiZ2V0Vmlld0NvbXBvbmVudCIsIm9uUmVnaXN0ZXIiLCJvblJlbW92ZSIsIm9uU2xlZXAiLCJvbkF3YWtlIiwic3Vic2NyaWJlTm90aWZpY2F0aW9uIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwiYWRkU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmVOb3RpZmljYXRpb24iLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJhY3Rpb24iLCJvbGROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsInNsaWNlIiwiY2hhbmdlZCIsImZvckVhY2giLCJub3RpZmljYXRpb24iLCJpbmRleE9mIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwiTm90aWZpZXIiLCJwcm94eU1hcCIsImdldFByb3h5TmFtZSIsIkZhY2FkZV8xIiwiZmFjYWRlIiwiZ2V0RmFjYWRlIiwiUHJveHkiLCJkYXRhIiwibG9nUHJveHkiLCJzZXREYXRhIiwiZ2V0RGF0YSIsImNvbnNvbGVBcmdzIiwiY29tbWFuZE5hbWUiLCJjb25zb2xlIiwibG9nIiwiRXZlbnRFbWl0dGVyIiwibWVkaWF0b3JNYXAiLCJldmVudEVtaXR0ZXIiLCJvYnNlcnZlck1ldGhvZCIsImNvbnRleHQiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiZW1pdCIsInJlZ2lzdGVyT2JzZXJ2ZXJzIiwib25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImJpbmQiLCJpc1NsZWVwaW5nIiwicmVtb3ZlT2JzZXJ2ZXJzIiwiaW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzEiLCJpbnRlcmVzdCIsImhhbmRsZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18yIiwiTWVkaWF0b3JfMSIsIlByb3h5XzEiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwiVHlwZUVycm9yIiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiaSIsImwiLCJlZSIsImxpc3RlbmVyQ291bnQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwibGVuIiwiaiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwibW9kdWxlIiwiTmF2aWdhdGlvbk5vZGUiLCJ4IiwieSIsInoiLCJjb25uZWN0ZWROb2RlcyIsIm9jY3VwaWVkIiwib3RoZXJOb2RlIiwic29tZSIsIm5vZGUiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RlZE5vZGVJbmRleCIsImZpbmRJbmRleCIsImVxdWFscyIsInBhcnNlR2FtZU1hcENvbW1hbmQiLCJhcHAiLCJwYyIsIkFwcGxpY2F0aW9uIiwiZ2V0QXBwbGljYXRpb24iLCJmbG9vckdyaWQiLCJuYXZpZ2F0aW9uRmxvb3JzIiwicm9vdCIsImZpbmRCeVRhZyIsImNvbXBsZXRlZEdyaWQiLCJuYXZpZ2F0aW9uQ29tcG9uZW50cyIsImZsb29yRW50aXR5IiwibmF2Q29tcCIsInNjcmlwdCIsImNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yIiwic2V0R3JpZCIsIm5hdmlnYXRpb25Db21wIiwiY29ubmVjdGVkQ29tcEVudGl0eSIsImNvbm5lY3RlZENvbXBvbmVudHMiLCJjb25uZWN0ZWROYXZDb21wIiwiam9pblRvQWRqYWNlbnRHcmlkIiwiZ2V0R3JpZCIsImNyZWF0ZU1hcEZsb29yIiwid2FsbHMiLCJ3YWxsc0JvdW5kaW5nQm94ZXMiLCJtYXBXYWxsRW50aXRpZXMiLCJtYXBXYWxsRW50aXR5IiwiYWFiYiIsImNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eSIsImNyZWF0ZUZsb29yVW5kZXJXYWxscyIsImRlc3Ryb3kiLCJjcmVhdGVNYXBXYWxscyIsImNvdmVyIiwiY292ZXJQb2ludHMiLCJjb3ZlckVudGl0aWVzIiwiY292ZXJFbnRpdHkiLCJjcmVhdGVDb3ZlclBvaW50RnJvbUJveCIsImNyZWF0ZU1hcENvdmVyIiwicG9ydGFscyIsIk1hcCIsInBvcnRhbEVudGl0aWVzIiwicG9ydGFsRW50aXR5IiwicG9ydGFsQ29tcG9uZW50IiwicG9ydGFsSWQiLCJwb3J0YWwiLCJkZXN0aW5hdGlvblNjZW5lIiwiZGVzdGluYXRpb25Qb3J0YWwiLCJzdGFuZGluZ1BvaW50IiwiZ2V0UG9zaXRpb24iLCJoaXRib3hQb2ludCIsImhpdGJveCIsInNldCIsImNyZWF0ZVBvcnRhbHMiLCJ3YXlwb2ludHNNYXAiLCJ3YXlwb2ludHMiLCJmbG9vck5vZGUiLCJpc1dheXBvaW50Iiwid2F5cG9pbnQiLCJvdGhlcldheXBvaW50IiwibGluZSIsIkFzdGFyIiwiYWRkQ29ubmVjdGVkTm9kZSIsImNyZWF0ZVdheXBvaW50c01hcCIsIkdhbWVNYXBQcm94eSIsIkdhbWVDb21tYW5kcyIsImJveEVudGl0eSIsInNjYWxlIiwiZ2V0TG9jYWxTY2FsZSIsImhhbGZFeHRlbnRzIiwiVmVjMyIsIkJvdW5kaW5nQm94Iiwid2FsbCIsIndhbGxQb3MiLCJ3YWxsU2NhbGUiLCJNYXRoIiwicm91bmQiLCJjb3JuZXJYIiwiY29ybmVyWiIsIm1hdGNoaW5nTm9kZUluZGV4IiwiZXF1YWxzUG9pbnQiLCJkZWxldGVkTm9kZXMiLCJkZWxldGVkTm9kZSIsImRpc2Nvbm5lY3RlZE5vZGUiLCJncmlkIiwiZmxvb3JQb3NpdGlvbiIsImdldExvY2FsUG9zaXRpb24iLCJmbG9vclNpemUiLCJzbmFwcGVkV2lkdGgiLCJzbmFwcGVkQnJlYWR0aCIsInNuYXBwZWRYIiwic25hcHBlZFkiLCJzbmFwcGVkWiIsImdyaWRUb0pvaW4iLCJib3giLCJib3hQb3MiLCJib3hTY2FsZSIsImNvdmVyUG9pbnQiLCJmbG9vck1hcCIsIm5vcnRod2VzdCIsIm5vcnRoIiwibm9ydGhlYXN0IiwiZWFzdCIsInNvdXRoZWFzdCIsInNvdXRoIiwic291dGh3ZXN0Iiwid2VzdCIsIm4iLCJXZWFwb25zUHJveHkiLCJzdXBlciIsIk5BTUUiLCJ3ZWFwb25OYW1lIiwiZGFtYWdlVGllciIsImNhdGVnb3J5S2V5Iiwidm8iLCJjYXRlZ29yeSIsImRhbWFnZSIsIm1pbiIsIlN0b3J5Vk8iLCJTdG9yeVByb3h5Iiwic3RvcnlUcmVlcyIsImFzc2V0cyIsInJlc291cmNlIiwidHJlZXMiLCJzdG9yeVRyZWVNYXAiLCJ0cmVlS2V5Iiwic3RvcnlUcmVlQXNzZXRJZCIsInN0b3J5VHJlZSIsImN1cnJlbnRUcmVlIiwiY3VycmVudE5vZGUiLCJjdXJyZW50U3RlcEluZGV4IiwiY3VycmVudENvbmRpdGlvbnMiLCJ0cmVlSWQiLCJ0cmVlIiwibm9kZUlkIiwibm9kZXMiLCJzdGVwSW5kZXgiLCJzdGVwcyIsImdldFRyZWUiLCJnZXROb2RlIiwidmFsaWRTdGVwIiwiZ2V0VmFsaWRTdGVwIiwib25jZUNvbmRpdGlvbiIsImdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAiLCJhZGRDb25kaXRpb24iLCJuZXh0VmFsaWRTdGVwIiwiZ2V0U3RlcCIsInRlc3RDb25kaXRpb25zIiwiY29uZGl0aW9ucyIsImdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCIsImNob2ljZUluZGV4IiwiZ2V0Q3VycmVudE5vZGVTdGVwIiwiY2hvaWNlcyIsImNvbmRpdGlvbiIsInN1Y2Nlc3MiLCJvckRlbGltaXRlcmVkIiwib3JDb25kaXRpb25zIiwic3BsaXQiLCJvclN1Y2Nlc3MiLCJvcHRpb25hbENvbmRpdGlvbiIsImNoZWNrQ29uZGl0aW9uIiwic3RhcnRzV2l0aCIsInN0cmlwcGVkU3RyaW5nIiwicmVtb3ZlQ29uZGl0aW9uIiwiSW52ZW50b3J5Vk8iLCJJbnZlbnRvcnlQcm94eSIsImludmVudG9yeUl0ZW1zIiwiZXF1aXBtZW50U2xvdHMiLCJpdGVtVVVJRCIsInNsb3RJbmRleCIsIm9yaWdpbmFsSW5kZXgiLCJpdGVtIiwidXVpZCIsIm9yaWdpbmFsSXRlbSIsInJ1bm5pbmdJbmRleFRvdGFsIiwibmV3SW5kZXgiLCJzaXplIiwidG9TdHJpbmciLCJzbG90S2V5IiwiaXRlbURhdGEiLCJ0eXBlIiwiZXhpc3RpbmdJdGVtIiwiZXF1aXBTbG90IiwiZGVsZXRlIiwib3RoZXJTbG90IiwiaW52ZW50b3J5SXRlbURhdGEiLCJJdGVtc1Byb3h5IiwiaXRlbUlkIiwiaWQiLCJzdGFydHVwQ29tbWFuZCIsIkdhbWVTdGF0ZVByb3h5Iiwid2VhcG9uc0RhdGEiLCJpdGVtc0RhdGEiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJmaW5kIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJ0ZWFtcyIsInBhcnRpY2lwYW50UHJveGllcyIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZmlsdGVyIiwiZSIsInRlYW0iLCJjaGFyYWN0ZXJJbmRleCIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwicGxheWVyVGVhbSIsIm9wcG9zaW5nVGVhbSIsImNvbWJhdEdyb3VwIiwicG9zIiwic2VsZiIsInBsYXllclByb3h5IiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsIkJlaGF2aW91clN0YXR1cyIsIkJhc2VOb2RlIiwiY2hpbGRyZW4iLCJpbml0aWFsaXplIiwidGljayIsIl9lbnRlciIsImJsYWNrYm9hcmQiLCJfb3BlbiIsInN0YXR1cyIsIl90aWNrIiwiUlVOTklORyIsIl9jbG9zZSIsIl9leGl0IiwiZW50ZXJOb2RlIiwiZW50ZXIiLCJvcGVuTm9kZSIsIm9wZW4iLCJ0aWNrTm9kZSIsImNsb3NlTm9kZSIsImNsb3NlIiwiZXhpdE5vZGUiLCJleGl0IiwiRVJST1IiLCJNYXN0ZXJOb2RlIiwiY2hpbGROb2RlIiwiZXhlY3V0ZSIsIlNVQ0NFU1MiLCJCbGFja2JvYXJkIiwiaW5pdGlhbGlzZSIsImJhc2VNZW1vcnkiLCJ0cmVlTWVtb3J5IiwidHJlZVNjb3BlIiwibm9kZU1lbW9yeSIsIm9wZW5Ob2RlcyIsIm5vZGVTY29wZSIsIm1lbW9yeSIsImdldFRyZWVNZW1vcnkiLCJnZXROb2RlTWVtb3J5IiwiZ2V0TWVtb3J5IiwiVGljayIsIm5vZGVDb3VudCIsInRhcmdldCIsInBvcCIsIkJlaGF2aW91clRyZWUiLCJsYXN0T3Blbk5vZGVzIiwiY3Vyck9wZW5Ob2RlcyIsInN0YXJ0IiwiQ2hhcmFjdGVyQ29tbWFuZFRyZWUiLCJQcmlvcml0eSIsImNoaWxkIiwiRkFJTFVSRSIsIlNldFBsYXllckFzVGFyZ2V0IiwiTWVsZWVBdHRhY2tUYXJnZXQiLCJhdHRhY2tlcklkIiwiZGVmZW5kZXJJZCIsIkVuZENvbWJhdFR1cm4iLCJIYXNNb3ZlbWVudFJlbWFpbmluZyIsImF2YWlsYWJsZU1vdmVtZW50IiwiSXNOZXh0VG9QbGF5ZXIiLCJjaGFyYWN0ZXJDdXJyZW50Tm9kZSIsIk1lbVNlcXVlbmNlIiwiSW52ZXJ0ZXIiLCJJc1RhcmdldERlYWQiLCJ0YXJnZXRJZCIsImlzRGVhZCIsIk1vdmVUb3dhcmRzVGFyZ2V0IiwiY2hhcmFjdGVyUHJveHkiLCJyZXN1bHQiLCJyZWR1Y2UiLCJhIiwiZGlzdGFuY2VTcXJ0IiwicGF0aCIsInAxIiwicDIiLCJwb3ciLCJJc0RlYWQiLCJIYXNBY3Rpb25zUmVtYWluaW5nIiwiYXZhaWxhYmxlQWN0aW9ucyIsIlJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyIsIkJhc2ljTWVsZWVUcmVlIiwiZW5lbXlUdXJuQ29tbWFuZCIsImVuZW15SWQiLCJlbmVteUN1cnJlbnROb2RlIiwicnVuQ29tbWFuZHMiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJnYW1lTWFwUHJveHkiLCJoYXNWYWxpZE5vZGUiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsInRhcmdldE5vZGUiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJtb3ZlYWJsZU5vZGVzIiwiaGFuZGxlVmFsaWRNb3ZlIiwic2hvd1dhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZU5vZGVzIiwid2Fsa2FibGVUaWxlQXNzZXQiLCJjb250YWluZXIiLCJ0aWxlIiwiaW5zdGFudGlhdGUiLCJzZXRMb2NhbFBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlVGlsZUVudGl0aWVzIiwid2Fsa2FibGVUaWxlRW50aXR5IiwiYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQiLCJlbmRNb3ZlbWVudENvbW1hbmQiLCJlbmROb2RlIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImhlaWdodCIsInNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJ0YXJnZXRDaGFyYWN0ZXJQcm94eSIsInBsYXllckNoYXJhY3RlclByb3h5Iiwid2VhcG9uQ2F0ZWdvcnkiLCJnZXRXZWFwb25DYXRlZ29yeSIsImVxdWlwcGVkV2VhcG9uIiwiY3VycmVudEFjdGlvbiIsImNhblNlZVRhcmdldCIsInRhcmdldEN1cnJyZW50Tm9kZSIsImlzVGFyZ2V0QWRqYWNlbnQiLCJwYXRoVG9UYXJnZXQiLCJ1bm9jY3VwaWVkTm9kZXMiLCJwbGF5ZXJOb2RlIiwic2hvcnRlc3RQYXRoIiwib3RoZXJQYXRoIiwibmF2aWdhdGVUb0NoYXJhY3RlciIsInBsYXllclBvaW50IiwidGFyZ2V0UG9pbnQiLCJyYXlJbnRlcnNlY3RzV2FsbCIsInJlc29sdmVBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVyUHJveHkiLCJ3ZWFwb25zUHJveHkiLCJhdHRhY2tlcldlYXBvblNraWxsIiwiZGVmZW5kZXJXZWFwb25Ta2lsbCIsImF0dGFja2VyU2tpbGxUb3RhbCIsImdldFNraWxsVG90YWwiLCJkZWZlbmRlclNraWxsVG90YWwiLCJhdHRhY2tlclJvbGwiLCJyb2xsQXR0YWNrU2tpbGwiLCJkZWZlbmRlclJvbGwiLCJkZXRlcm1pbmVEYW1hZ2VUaWVyIiwiZ2V0RGFtYWdlIiwiYXBwbHlEYW1hZ2UiLCJoYXNNZWxlZVdlYXBvbiIsIndlYXBvbiIsIldlYXBvblR5cGVzIiwiaGlnaERhbWFnZSIsImxvd0RhbWFnZSIsInNraWxsIiwicm9sbERpY2UiLCJtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCIsInVzZU1vdmVtZW50IiwiY2hhcmFjdGVyTWVkaWF0b3IiLCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3IiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlIiwidGhlbiIsImtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwibG9zaW5nVGVhbSIsIlJhbmdlQXR0YWNrVGFyZ2V0IiwiTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwidGFyZ2V0Q3VycmVudE5vZGUiLCJtaW5EaXN0YW5jZVNxcnQiLCJtYXhEaXN0YW5jZVNxcnQiLCJtb3ZlUG9pbnRzQXZhaWxhYmxlIiwiZGlzdGFuY2VUb1RhcmdldCIsIlBpY2tOZXh0QWN0aW9uIiwiQ2FuU2VlVGFyZ2V0IiwidGFyZ2V0UHJveHkiLCJmcm9tUG9zIiwidG9Qb3MiLCJNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSIsImRlbGV0ZUNvdW50IiwicGF0aE5vZGUiLCJCYXNpY1JhbmdlZFRyZWUiLCJkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQiLCJib3RCZWhhdmlvdXIiLCJCb3RCZWhhdmlvdXJUeXBlcyIsInJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJTY29yZSIsImRlZmVuZGVyU2NvcmUiLCJhdHRhY2tlck5vZGUiLCJkZWZlbmRlck5vZGUiLCJpc0luQ292ZXIiLCJwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIiwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsInByb2plY3RpbGVPcmlnaW4iLCJwcm9qZWN0aWxlVGFyZ2V0IiwiY3JlYXRlUHJvamVjdGlsZSIsIm5laWdoYm91cmluZ05vZGVzIiwicG9zc2libGVUYXJnZXRzIiwiZXF1aXBXZWFwb25Db21tYW5kIiwibmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCIsInN0YW5kaW5nUG9zaXRpb24iLCJzdGFuZGluZ05vZGUiLCJmaW5kTmVhcmVzdE5vZGUiLCJtb3ZlVG9Ob2RlV2l0aFByb21pc2UiLCJhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQiLCJwbGF5ZXJDaGFyYWN0ZXJBc3NldCIsInBsYXllckVudGl0eSIsInJldHJpZXZlUG9ydGFsIiwibmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kIiwidGFyZ2V0Q2hhcmFjdGVySWQiLCJwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciIsInN0YXJ0RGlhbG9ndWVDb21tYW5kIiwiZ2FtZXN0YXRlUHJveHkiLCJzdG9yeVByb3h5IiwiZGlhbG9ndWVUcmVlIiwic3RhcnREaWFsb2d1ZVRyZWUiLCJvcGVuaW5nU3RlcCIsInN0ZXAiLCJjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQiLCJuZXh0U3RlcCIsImNvbnRpbnVlQ3VycmVudE5vZGVTdGVwIiwic2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kIiwic2VsZWN0ZWRDaG9pY2UiLCJzZWxlY3RDaG9pY2UiLCJyZXNwb25zZSIsInRpdGxlIiwidGV4dCIsInRpdGxlQ29sb3VyIiwidGVzdCIsImdvdG8iLCJnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCIsIm5ld05vZGUiLCJnb1RvTm9kZSIsImN1cnJlbnRTdGVwIiwiZW5kRGlhbG9ndWVDb21tYW5kIiwibmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQiLCJjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQiLCJuZXdBY3Rpb24iLCJyZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kIiwicGxheWVyU2tpbGwiLCJkaWUxIiwiZGllMiIsImZhaWx1cmUiLCJjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQiLCJpbnZlbnRvcnlQcm94eSIsInJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCIsInJlb3JkZXJJbnZlbnRvcnlJdGVtIiwiZXF1aXBJdGVtVG9TbG90Q29tbWFuZCIsImVxdWlwbWVudEtleSIsIml0ZW1JbkludmVudG9yeSIsImF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdCIsIml0ZW1zUHJveHkiLCJpbnZlbnRvcnlJdGVtIiwiSW52ZW50b3J5SXRlbSIsImdldEl0ZW1EYXRhIiwiYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZCIsImFkZEludmVudG9yeUl0ZW0iLCJHYW1lRmFjYWRlIiwiZ2FtZSIsIlNUQVJUVVAiLCJib3RCZWhhdmlvdXJFbnVtcyIsIk5PTkUiLCJCQVNJQ19NRUxFRSIsIkJBU0lDX1JBTkdFRCIsIndlYXBvbkVudW1zIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJtYXAiLCJHYW1lQ2hhcmFjdGVyVk8iLCJwYXJhbXMiLCJtYXhNb3ZlbWVudCIsIm1heEFjdGlvbnNQZXJUdXJuIiwiY29zdCIsImRhbWFuZ2UiLCJjdXJyZW50U3RhbWluYSIsIm1heCIsIm1heGltdW1TdGFtaW5hIiwibWF4U3RhbWluYSIsInNraWxsS2V5IiwiYWR2YW5jZWRTa2lsbHMiLCJtYXhMdWNrIiwiY3VycmVudEx1Y2siLCJHYW1lTWFwVk8iLCJtYXBHcmlkIiwid2FsbEJvdW5kaW5nQm94ZXMiLCJuYXZHcmlkIiwibmF2aWdhdGlvbkdyaWQiLCJuZWFyZXN0Tm9kZSIsImRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSIsImRpc3RUb05vZGUiLCJmcm9tIiwidG8iLCJkaXN0YW5jZSIsImRpcmVjdGlvbiIsImNsb25lIiwic3ViIiwibm9ybWFsaXplIiwicmF5IiwiUmF5IiwibWFwV2FsbHMiLCJoaXRQb3NpdGlvbiIsImludGVyc2VjdHNSYXkiLCJhdHRhY2tpbmdGcm9tIiwiYWRqYWNlbnRDb3ZlclBvaW50cyIsImFkamFjZW50UG9pbnRzIiwicG9pbnQiLCJwb2ludHMiLCJnZXRBZGphY2VudFBvaW50cyIsImFkamFjZW50UG9pbnQiLCJhZGphY2VudENvdmVyUG9pbnQiLCJub2RlQSIsIm5vZGVCIiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5IiwiSW5maW5pdHkiLCJyYW5nZUxpbWl0IiwiZnJvbnRpZXIiLCJzZWFyY2hlZEFyZWEiLCJjYW1lRnJvbSIsInJhbmdlIiwibmV3RnJvbnRpZXIiLCJjdXJyZW50IiwibmV4dCIsImdvYWwiLCJjb3N0U29GYXIiLCJlbXB0eSIsIm5ld0Nvc3QiLCJoZXVyaXN0aWMiLCJwYXRoSXNCcm9rZW4iLCJkaXN0VmFsdWUiLCJnZXREaXN0U3F1YXJlZCIsInB0MSIsInB0MiIsImFicyIsIngwIiwiejAiLCJ4MSIsInoxIiwiZHgiLCJkeSIsIm54IiwibnkiLCJzaWduX3giLCJzaWduX3kiLCJpeCIsIml5IiwiaXNWYWxpZExpbmUiLCJHYW1lU3RhdGVWTyIsIm5ld1N0YXRlVHlwZSIsInNlbGVjdGVkQWN0aW9uIiwiRVhQTE9SQVRJT04iLCJDT01CQVQiLCJESUFMT0dVRSIsIkdBTUVfT1ZFUiIsImljb24iLCJkZXNjcmlwdGlvbiIsImNyZWF0ZVVVSUQiLCJzIiwiaGV4RGlnaXRzIiwic3Vic3RyIiwiam9pbiIsInByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJmaXJlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwibG9va0F0UG9pbnQiLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlQXR0YWNrIiwiYW5pbWF0ZUhpdCIsInNldFBhdGgiLCJuZWFyZXN0V2F5cG9pbnQiLCJmaW5kTmVhcmVzdFdheXBvaW50IiwibmVhcmVzdFRhcmdldFdheXBvaW50IiwiaGFzVmFsaWRMaW5lIiwiaGFzTGluZVRvUG9pbnQiLCJ1bnNoaWZ0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsIm9yaWdpblBvaW50IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkNhY29nZW5HYW1lIiwiY3JlYXRlU2NyaXB0IiwiS0VZIiwidXBkYXRlIiwiZHQiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiYXR0cmlidXRlcyIsImFkZCIsImVudGl0eSIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwic2NyZWVuUG9zIiwibm9kZUdyaWQiLCJnZXROZWFyZXN0Tm9kZSIsIkdhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwIiwiYWR2YW5jZWRTa2lsbHNTY2hlbWEiLCJza2lsbE9iamVjdCIsInNraWxsTmFtZSIsInNraWxsVmFsdWUiLCJkZWZhdWx0Iiwic2NoZW1hIiwiZW51bSIsInByZXJlZ2lzdGVyTm90aWZpY2F0aW9uIiwicG9zdEluaXRpYWxpemUiLCJtb3ZlbWVudFBhdGgiLCJzdGF0c092ZXJyaWRlcyIsInByb3h5UGFyYW1zIiwiY2hhcmFjdGVySGVpZ2h0IiwiZGlhbG9ndWVUcmVlTmFtZSIsImNvbWJhdEdyb3VwTmFtZSIsImNvbXJhZGVFbnRpdGllcyIsImNvbXJhZGVFbnRpdHkiLCJjb21yYWRlSWQiLCJ2ZWhpY2xlIiwiYW5pbWF0aW9uIiwicGxheSIsImxvb3AiLCJtb3ZlQWxvbmdQYXRoIiwibmV4dFBhdGhQb2ludCIsImxvY2FsUG9zIiwibm9kZVBvaW50IiwiY2hhcmFjdGVyU3BlZWQiLCJzZWVrIiwiYXJyaXZlIiwicHJvY2Vzc1ZlbG9jaXR5IiwiZHoiLCJhbmdsZVRvRGVzdCIsImF0YW4yIiwiUEkiLCJzZXRFdWxlckFuZ2xlcyIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsImNoYXJhY3RlclBvaW50Iiwic2lnaHRSYW5nZSIsIlRvYXN0TWVzc2FnZU1lZGlhdG9yIiwiYWRkTWVzc2FnZSIsIlRvYXN0TWVzc2FnZUNvbXBvbmVudCIsIm1lc3NhZ2VRdWV1ZSIsImN1cnJlbnRUaW1lb3V0IiwibWVzc2FnZSIsInNob3dOZXh0TWVzc2FnZSIsIm5leHRNZXNzYWdlIiwibGFiZWxFbnRpdHkiLCJlbGVtZW50IiwibWVzc2FnZVRpbWUiLCJJbnB1dExheWVyTWVkaWF0b3IiLCJoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyIiwiaGFuZGxlUGlja2VyTmF2aWdhdGlvbiIsImhhbmRsZVNjcm9sbGluZyIsImNoYXJhY3RlckVudGl0eSIsIkdhbWVDYW1lcmEiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsInZlcnRpY2FsU2Nyb2xsIiwibmV3Q2FtZXJhSGVpZ2h0IiwiZHJhZ011bHRpcGxpZXJZIiwibWF0aCIsImNsYW1wIiwibWluQ2FtZXJhSGVpZ2h0IiwibWF4Q2FtZXJhSGVpZ2h0IiwiZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24iLCJmb2N1c1BvaW50IiwiY2FtZXJhUG9zaXRpb24iLCJ0YXJnZXRYIiwic2luIiwidGFyZ2V0WiIsImNvcyIsImNhbWVyYVRhcmdldFBvc2l0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJjdXJyZW50UG9zIiwidHdlZW5YIiwidHdlZW5ZIiwidHdlZW5aIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsImlucHV0UXVldWUiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNsaWNrRG93blN0YXJ0IiwiaXNEcmFnZ2luZyIsImhhbmRsZVBpY2tlclJlc3VsdCIsIkVWRU5UX01PVVNFTU9WRSIsIm9uTW91c2VNb3ZlIiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJwaWNrZWRFbnRpdHkiLCJzY3JlZW5Qb3NpdGlvbiIsInByb2Nlc3NJbnB1dFF1ZXVlIiwiaGlnaGVzdFByaW9yaXR5UGljayIsImhpZ2hlc3RQcmlvcml0eSIsInBpY2siLCJwaWNrUHJpb3JpdHkiLCJ0YWdzIiwicGlja2VkR2FtZUNoYXJhY3RlciIsInBpY2tlZE5hdmlnYXRpb24iLCJwaWNrZWRQb3J0YWwiLCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIiwiaGFuZGxlRW5kVHVybiIsIlBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IiwiZW5kVHVybkJ1dHRvbiIsImNsaWNrRW5kVHVybiIsIkhpdGJveENvbXBvbmVudCIsImNlbnRlciIsIkFjdGlvblBhbmVsTWVkaWF0b3IiLCJoYW5kbGVGaXJlQ29tbWFuZCIsImFjdGlvbk5hbWUiLCJzZWxlY3RBY3Rpb24iLCJBY3Rpb25CdXR0b25Db21wb25lbnQiLCJoaWdobGlnaHRFbnRpdHkiLCJoYW5kbGVDaGFuZ2VBY3Rpb24iLCJoYW5kbGVDbGljayIsImNvbW1hbmRzIiwiY29tbWFuZEFyZ3MiLCJBY3Rpb25QYW5lbENvbXBvbmVudCIsImJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCIsInByb2plY3RpbGVOYW1lIiwicHJvamVjdGlsZVNjaGVtZSIsInByb2plY3RpbGVUeXBlcyIsInNjaGVtZSIsIm5ld1Byb2plY3RpbGUiLCJwcm9qZWN0aWxlVGVtcGxhdGUiLCJzZXRUYXJnZXQiLCJQcm9qZWN0aWxlQ29tcG9uZW50IiwibmV3UG9zaXRpb24iLCJzcGVlZCIsInByb2plY3RpbGVTcGVlZCIsInN1YjIiLCJtdWwiLCJTdGFtaW5hQmFyTWVkaWF0b3IiLCJuZXdTdGFtaW5hIiwidXBkYXRlU3RhbWluYSIsIlN0YW1pbmFCYXJDb21wb25lbnQiLCJiYXJFbnRpdHlNYXhXaWR0aCIsImJhckVudGl0eSIsIndpZHRoIiwibGVycCIsInJlY3QiLCJzdGFtaW5hTGFiZWwiLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciIsIm1heEFjdGlvbnMiLCJzaG93QXZhaWxhYmxlQWN0aW9uIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IiwicGlwcyIsImNyZWF0ZVBpcCIsIm5ld1BpcCIsInBpcFRlbXBsYXRlIiwiQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCIsInNob3ciLCJwaXBGcm9udCIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIiwic2NyaXB0Q29tcCIsImZsb2F0ZXJOYW1lIiwiZGlzcGxheVN0YXR1cyIsIlRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50Iiwic2V0V29ybGRQb3NpdGlvbiIsIndvcmxkUG9zaXRpb24iLCJzY3JlZW4iLCJkZXZpY2UiLCJncmFwaGljc0RldmljZSIsInNjcmVlbkVudGl0eSIsInBvc3RVcGRhdGUiLCJwb3NpdGlvbiIsIndvcmxkU3BhY2VUb1NjcmVlblNwYWNlIiwid29ybGRQb3MiLCJ3b3JsZFRvU2NyZWVuIiwicGl4ZWxSYXRpbyIsIm1heFBpeGVsUmF0aW8iLCJyYXRpb1NjYWxlIiwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IiwiZmxvYXRpbmdTdGF0dXNlcyIsIm90aGVyU2NoZW1lIiwidGFyZ2V0UG9zIiwibmV3U3RhdHVzIiwidGVtcGxhdGUiLCJQb3J0YWxNZWRpYXRvciIsInNlbGVjdGVkUG9ydGFsIiwiUG9ydGFsQ29tcG9uZW50IiwiRGlhbG9ndWVQYW5lbE1lZGlhdG9yIiwiaGFuZGxlQ2xpY2tDb250aW51ZSIsImhhbmRsZUNsaWNrQ2hvaWNlIiwiY2xlYXJQYW5lbCIsImNyZWF0ZVN0ZXAiLCJjcmVhdGVTa2lsbFRlc3QiLCJjbGVhckRpYWxvZ3VlQ2hvaWNlcyIsInNldENvbnRpbnVlQnV0dG9uIiwiRGlhbG9ndWVQYW5lbENvbXBvbmVudCIsImNvbnRpbnVlQnV0dG9uRW50aXR5Iiwic3RlcERhdGEiLCJjcmVhdGVUZXh0IiwiY2hvaWNlIiwiY3JlYXRlQ2hvaWNlIiwibmV3VGV4dCIsInRleHRFbnRyeVRlbXBsYXRlIiwic2V0dXAiLCJmZWVkRW50aXR5IiwicmVzaXplVG9Db250ZW50cyIsInNjcm9sbGJhclZpZXdFbnRpdHkiLCJzY3JvbGxiYXIiLCJuZXdDaG9pY2UiLCJjaG9pY2VFbnRyeVRlbXBsYXRlIiwiaGFuZGxlU2VsZWN0Q2hvaWNlIiwid2FzU3VjY2VzcyIsIm5ld1NraWxsVGVzdCIsInNraWxsVGVzdEVudHJ5VGVtcGxhdGUiLCJzcGFjaW5nVmVydGljYWwiLCJsYXlvdXRncm91cCIsInNwYWNpbmciLCJmZWVkQ2hpbGQiLCJjb250ZW50RW50aXR5IiwiY29udGVudEhlaWdodCIsIkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50IiwibGFiZWwiLCJpbmRleEVudGl0eSIsIkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQiLCJhbmltYXRpb25OYW1lIiwiRGlhbG9ndWVUZXh0Q29tcG9uZW50IiwidGl0bGVFbnRpdHkiLCJjb2xvciIsImZyb21TdHJpbmciLCJ0aHVtYm5haWwiLCJ0ZXh0Q29udGFpbmVyIiwid2l0aEltYWdlV2lkdGgiLCJ3aXRob3V0SW1hZ2VXaWR0aCIsInRodW1ibmFpbENvbnRhaW5lciIsImVuYWJsZSIsImJvZHlFbnRpdHkiLCJzZXRIZWlnaHQiLCJtaW5IZWlnaHQiLCJ0ZXh0Q2hpbGQiLCJBdHRhY2tCdXR0b25NZWRpYXRvciIsImhhbmRsZVRvZ2dsZUF0dGFjayIsInRvZ2dsZUhpZ2hsaWdodCIsImF0dGFja0VuYWJsZWQiLCJBdHRhY2tCdXR0b25Db21wb25lbnQiLCJpc0VuYWJsZWQiLCJVc2VJdGVtQnV0dG9uTWVkaWF0b3IiLCJlcXVpcG1lbnRTbG90S2V5IiwiaGFuZGxlVXNlSXRlbSIsImVxdWlwcGVkRGF0YSIsInNldEljb24iLCJzZXREZWZhdWx0SWNvbiIsIlVzZUl0ZW1CdXR0b25Db21wb25lbnQiLCJhc3NldElkIiwiaWNvbkFzc2V0IiwiaWNvbkVudGl0eSIsInNwcml0ZUFzc2V0IiwiZGVmYXVsdEljb24iLCJWZWhpY2xlQ29tcG9uZW50IiwiY2xhbXBWZWMzIiwidmVjMyIsIm1heFZhbHVlIiwidmVsb2NpdHkiLCJzdGVlcmluZ0ZvcmNlIiwibWF4U3BlZWQiLCJ5Um90YXRpb24iLCJkZXNpcmVkVmVsb2NpdHkiLCJmb3JjZSIsImFycml2YWxUaHJlc2hvbGQiLCJhcnJpdmVUaHJlc2hvbGQiLCJTY3JlZW5SZXNpemVDb21wb25lbnQiLCJ3aW5kb3ciLCJvblJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzY2FsZUJsZW5kIiwicmVmZXJlbmNlUmVzb2x1dGlvbiIsIkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50Iiwic2tpbGxOYW1lTGFiZWwiLCJza2lsbFZhbHVlTGFiZWwiLCJkaWUxTGFiZWwiLCJkaWUyTGFiZWwiLCJzdWNjZXNzTGFiZWwiLCJmYWlsdXJlTGFiZWwiLCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50Iiwic2xvdEhlaWdodCIsImV4cGFuZGVkRW50aXR5IiwiY29sbGFwc2UiLCJleHBhbmQiLCJFbGVtZW50RHJhZ0hlbHBlciIsIm9uRHJhZ1N0YXJ0IiwiSW52ZW50b3J5UGFuZWxNZWRpYXRvciIsImhhbmRlUmVvcmRlckl0ZW0iLCJoYW5kbGVFcXVpcEl0ZW0iLCJpdGVtcyIsImVxdWlwcGVkTWFwIiwiZGlzcGxheUl0ZW1zIiwiSW52ZW50b3J5UGFuZWxDb21wb25lbnQiLCJpc0luQm91bmRzIiwiYm91bmRzIiwieDIiLCJ5MSIsInkyIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiY2xvc2VCdXR0b24iLCJoYW5kbGVDbG9zZSIsInNlcGFyYXRvckhpZ2hsaWdodCIsImludmVudG9yeUl0ZW1FbnRpdGllcyIsImRyYWdFbnRpdHkiLCJyZXBhcmVudCIsImRyYWdJY29uIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VVcCIsImxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCIsInNjcmVlbkNvbXAiLCJkaXNwbGF5UG90ZW50aWFsTGlzdCIsImRyYWdQb3MiLCJ0b3BTbG90UG9zaXRpb24iLCJtYXhTbG90cyIsInNsb3RXaWR0aCIsInNjcmVlbkhlaWdodCIsImNvcm5lclNjcmVlblBvcyIsInNjcmVlbkNvcm5lcnMiLCJjb3JuZXJQb3MiLCJjaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QiLCJkcmFnZ2luZ0VudGl0eSIsIm1vdXNlRXZlbnQiLCJlcXVpcFNsb3RLZXkiLCJjb3JuZXJzIiwiaGFuZGxlSXRlbU1vdmUiLCJzZXRIaWdobGlnaHRQb3NpdGlvbiIsInJ1bm5pbmdJbmRleCIsIm5ld0l0ZW1Db21wb25lbnQiLCJpdGVtQXNzZXQiLCJlcXVpcFNsb3RFbnRpdHkiLCJlcXVpcHBlZEl0ZW0iLCJjbGVhciIsInJlb3JkZXJMaXN0V2l0aEdhcCIsImdhcEluZGV4IiwiaW52ZW50b3J5SXRlbUVudGl0eSIsIkludmVudG9yeURyYWdJY29uQ29tcG9uZW50IiwiSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50IiwiaWNvbkFzc2V0SWQiLCJhc3NldCIsImRlZmF1bHRBc3NldCIsInN0YXJ0dXAiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSUMsRUFBWSxFQUFRLEtBQ3BCQyxFQUFTLEVBQVEsS0FFakJDLEVBQTRCLFdBQzVCLFNBQVNBLEVBQVdDLEdBRWhCLEdBREFDLEtBQUtDLFdBQWEsR0FDZEgsRUFBV0ksWUFBWUgsR0FDdkIsTUFBTSxJQUFJSSxNQUxILDREQU9YSCxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBS0ssT0FBU1QsRUFBVVUsUUFBUUMsTUFBUVgsRUFBVVUsUUFBUUUsV0FBYVosRUFBVVUsUUFBUUcsUUFDekZULEtBQUtVLHVCQXFEVCxPQW5EQVosRUFBV2EsaUJBQW1CLFNBQVVaLFVBQzdCQyxLQUFLRSxZQUFZSCxJQUU1QkQsRUFBV2MsWUFBYyxTQUFVYixHQUMvQixPQUFLQSxHQUdBQyxLQUFLRSxZQUFZSCxLQUNsQkMsS0FBS0UsWUFBWUgsR0FBTyxJQUFJRCxFQUFXQyxJQUVwQ0MsS0FBS0UsWUFBWUgsSUFMYixNQU9mRCxFQUFXZSxVQUFVQyxnQkFBa0IsU0FBVUMsRUFBa0JDLEdBQzFEaEIsS0FBS0MsV0FBV2MsSUFDakJmLEtBQUtpQixLQUFLQyxpQkFBaUJILEVBQWtCZixLQUFLbUIsZUFBZ0JuQixNQUV0RUEsS0FBS0MsV0FBV2MsR0FBb0JDLEdBRXhDbEIsRUFBV2UsVUFBVU8sV0FBYSxTQUFVTCxHQUN4QyxZQUE2Q00sSUFBdENyQixLQUFLQyxXQUFXYyxJQUUzQmpCLEVBQVdlLFVBQVVTLGNBQWdCLFNBQVVQLEdBQ3ZDZixLQUFLb0IsV0FBV0wsS0FDaEJmLEtBQUtpQixLQUFLTSxlQUFlUixFQUFrQmYsS0FBS21CLGVBQWdCbkIsYUFDekRBLEtBQUtDLFdBQVdjLEtBRy9CakIsRUFBV2UsVUFBVUgscUJBQXVCLFdBQ3hDVixLQUFLaUIsS0FBT3BCLEVBQU8yQixLQUFLWixZQUFZWixLQUFLSSxjQUU3Q04sRUFBV2UsVUFBVU0sZUFBaUIsU0FBVUosR0FFNUMsSUFEQSxJQUFJVSxFQUFPLEdBQ0ZDLEVBQUssRUFBR0EsRUFBS0MsVUFBVUMsT0FBUUYsSUFDcENELEVBQUtDLEVBQUssR0FBS0MsVUFBVUQsR0FFN0IsSUFBSUcsRUFBVTdCLEtBQUtDLFdBQVdjLEdBQ3pCYyxJQUdMN0IsS0FBS0ssT0FBT1AsRUFBV2dDLGFBQWNmLEVBQWtCYyxFQUFRRSxNQUMvREYsRUFBUUcsV0FBTSxFQUFRLENBQUNoQyxLQUFLSSxZQUFhVyxHQUFrQmtCLE9BQU9SLE1BRXRFM0IsRUFBV2dDLGFBQWUsQ0FDdEIsR0FDQSxzQkFDQSxzQkFDQSx1Q0FDQSxzQkFDQSx1QkFFSmhDLEVBQVdJLFlBQWMsR0FDbEJKLEVBN0RvQixHQStEL0JKLEVBQVFJLFdBQWFBLEcsY0NoRXJCTixPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJdUMsRUFBZSxFQUFRLEtBQ3ZCQyxFQUFVLEVBQVEsS0FDbEJ2QyxFQUFZLEVBQVEsS0FDcEJDLEVBQVMsRUFBUSxLQUVqQnVDLEVBQXdCLFdBQ3hCLFNBQVNBLEVBQU9yQyxHQUNaLEdBQUlxQyxFQUFPbEMsWUFBWUgsR0FDbkIsTUFBTSxJQUFJSSxNQUpILDhEQU1YSCxLQUFLSyxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFRK0IsZ0JBQWtCekMsRUFBVVUsUUFBUUcsUUFDOUZULEtBQUtzQyxtQkFBbUJ2QyxHQUN4QkMsS0FBS3VDLG1CQTZHVCxPQTNHQUgsRUFBT3hCLFlBQWMsU0FBVWIsR0FDM0IsT0FBS0EsR0FHQXFDLEVBQU9sQyxZQUFZSCxLQUNwQnFDLEVBQU9sQyxZQUFZSCxHQUFPLElBQUlxQyxFQUFPckMsSUFFbENxQyxFQUFPbEMsWUFBWUgsSUFMZixNQU9mcUMsRUFBT0ksUUFBVSxTQUFVekMsR0FDdkIsWUFBaUNzQixJQUExQnJCLEtBQUtFLFlBQVlILElBRTVCcUMsRUFBT0ssV0FBYSxTQUFVMUMsR0FDckJDLEtBQUtFLFlBQVlILEtBR3RCb0MsRUFBUU8sTUFBTUMsWUFBWTVDLEdBQzFCRixFQUFPMkIsS0FBS29CLFdBQVc3QyxHQUN2Qm1DLEVBQWFwQyxXQUFXYSxpQkFBaUJaLFVBQ2xDQyxLQUFLRSxZQUFZSCxLQUU1QnFDLEVBQU92QixVQUFVMEIsaUJBQW1CLFdBQ2hDdkMsS0FBSzZDLGtCQUNMN0MsS0FBS1UsdUJBQ0xWLEtBQUs4QyxrQkFFVFYsRUFBT3ZCLFVBQVVDLGdCQUFrQixTQUFVQyxFQUFrQkMsR0FDM0RoQixLQUFLK0MsV0FBV2pDLGdCQUFnQkMsRUFBa0JDLElBRXREb0IsRUFBT3ZCLFVBQVVTLGNBQWdCLFNBQVVQLEdBQ3ZDZixLQUFLK0MsV0FBV3pCLGNBQWNQLElBRWxDcUIsRUFBT3ZCLFVBQVVPLFdBQWEsU0FBVUwsR0FDcEMsT0FBT2YsS0FBSytDLFdBQVczQixXQUFXTCxJQUV0Q3FCLEVBQU92QixVQUFVbUMsY0FBZ0IsU0FBVUMsR0FDdkNqRCxLQUFLa0QsTUFBTUYsY0FBY0MsSUFFN0JiLEVBQU92QixVQUFVc0MsY0FBZ0IsU0FBVUMsR0FDdkMsT0FBT3BELEtBQUtrRCxNQUFNQyxjQUFjQyxJQUVwQ2hCLEVBQU92QixVQUFVd0MsWUFBYyxTQUFVRCxHQUNyQyxPQUFJcEQsS0FBS2tELE1BQ0VsRCxLQUFLa0QsTUFBTUcsWUFBWUQsR0FFM0IsTUFFWGhCLEVBQU92QixVQUFVeUMsU0FBVyxTQUFVRixHQUNsQyxPQUFPcEQsS0FBS2tELE1BQU1JLFNBQVNGLElBRS9CaEIsRUFBT3ZCLFVBQVUwQyxpQkFBbUIsU0FBVUMsR0FDMUN4RCxLQUFLaUIsS0FBS3NDLGlCQUFpQkMsSUFFL0JwQixFQUFPdkIsVUFBVTRDLGlCQUFtQixTQUFVQyxHQUMxQyxPQUFPMUQsS0FBS2lCLEtBQUt3QyxpQkFBaUJDLElBRXRDdEIsRUFBT3ZCLFVBQVU4QyxlQUFpQixTQUFVRCxHQUN4QyxPQUFPMUQsS0FBS2lCLEtBQUswQyxlQUFlRCxJQUVwQ3RCLEVBQU92QixVQUFVK0MsY0FBZ0IsU0FBVUYsR0FDdkMsT0FBTzFELEtBQUtpQixLQUFLMkMsY0FBY0YsSUFFbkN0QixFQUFPdkIsVUFBVWdELGNBQWdCLFNBQVVILEdBQ3ZDLE9BQU8xRCxLQUFLaUIsS0FBSzRDLGNBQWNILElBRW5DdEIsRUFBT3ZCLFVBQVVpRCxZQUFjLFNBQVVKLEdBQ3JDLE9BQU8xRCxLQUFLaUIsS0FBSzZDLFlBQVlKLElBRWpDdEIsRUFBT3ZCLFVBQVVrRCxpQkFBbUIsU0FBVWhELEdBRTFDLElBREEsSUFJSWlELEVBSkF2QyxFQUFPLEdBQ0ZDLEVBQUssRUFBR0EsRUFBS0MsVUFBVUMsT0FBUUYsSUFDcENELEVBQUtDLEVBQUssR0FBS0MsVUFBVUQsR0FHN0IxQixLQUFLSyxPQUFPMkIsTUFBTWhDLEtBQU0sQ0FBQ29DLEVBQU9OLGFBQWNmLEdBQWtCa0IsT0FBT1IsS0FDdEV1QyxFQUFLaEUsS0FBS2lCLE1BQU1nRCxnQkFBZ0JqQyxNQUFNZ0MsRUFBSSxDQUFDakQsR0FBa0JrQixPQUFPUixLQUV6RVcsRUFBT3ZCLFVBQVV5QixtQkFBcUIsU0FBVXZDLEdBQzVDQyxLQUFLSSxZQUFjTCxHQUV2QnFDLEVBQU92QixVQUFVSCxxQkFBdUIsV0FDaENWLEtBQUsrQyxhQUdUL0MsS0FBSytDLFdBQWFiLEVBQWFwQyxXQUFXYyxZQUFZWixLQUFLSSxlQUUvRGdDLEVBQU92QixVQUFVZ0MsZ0JBQWtCLFdBQzNCN0MsS0FBS2tELFFBR1RsRCxLQUFLa0QsTUFBUWYsRUFBUU8sTUFBTTlCLFlBQVlaLEtBQUtJLGVBRWhEZ0MsRUFBT3ZCLFVBQVVpQyxlQUFpQixXQUMxQjlDLEtBQUtpQixPQUdUakIsS0FBS2lCLEtBQU9wQixFQUFPMkIsS0FBS1osWUFBWVosS0FBS0ksZUFFN0NnQyxFQUFPTixhQUFlLENBQ2xCLEdBQ0Esc0JBQ0Esc0JBQ0EsdUNBQ0Esc0JBQ0EsdUJBRUpNLEVBQU9sQyxZQUFjLEdBQ2RrQyxFQXBIZ0IsR0FzSDNCMUMsRUFBUTBDLE9BQVNBLEcsb0JDL0hqQixJQUNROEIsRUFESkMsRUFBYW5FLE1BQVFBLEtBQUttRSxZQUN0QkQsRUFBZ0IsU0FBVUUsRUFBR0MsR0FJN0IsT0FIQUgsRUFBZ0IxRSxPQUFPOEUsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUosRUFBR0MsR0FBS0QsRUFBRUcsVUFBWUYsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlJLEtBQUtKLEVBQU9BLEVBQUVLLGVBQWVELEtBQUlMLEVBQUVLLEdBQUtKLEVBQUVJLE1BQ3BETCxFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTTSxJQUFPM0UsS0FBSzRFLFlBQWNSLEVBRG5DRixFQUFjRSxFQUFHQyxHQUVqQkQsRUFBRXZELFVBQWtCLE9BQU53RCxFQUFhN0UsT0FBT3FGLE9BQU9SLElBQU1NLEVBQUc5RCxVQUFZd0QsRUFBRXhELFVBQVcsSUFBSThELEtBR3ZGbkYsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSW1GLEVBQWEsRUFBUSxLQUNyQmxGLEVBQVksRUFBUSxLQUVwQm1GLEVBQTBCLFNBQVVDLEdBRXBDLFNBQVNELEVBQVNyQixFQUFjdUIsR0FDNUIsSUFBSUMsRUFBUUYsRUFBT0csS0FBS25GLE9BQVNBLEtBT2pDLE9BTkFrRixFQUFNN0UsT0FBU1QsRUFBVVUsUUFBUUMsTUFBUVgsRUFBVVUsUUFBUThFLFlBQWN4RixFQUFVVSxRQUFRRyxRQUMzRnlFLEVBQU14QixhQUFlQSxHQU5sQixXQU9Id0IsRUFBTUQsY0FBZ0JBLEVBQ3RCQyxFQUFNRyxVQUFXLEVBQ2pCSCxFQUFNSSx3QkFBMEIsR0FDaENKLEVBQU1LLCtCQUFpQyxLQUNoQ0wsRUFzRlgsT0EvRkFmLEVBQVVZLEVBQVVDLEdBV3BCeEYsT0FBT0MsZUFBZXNGLEVBQVNsRSxVQUFXLGdCQUFpQixDQUN2RDJFLElBQUssV0FDRCxPQUFPeEYsS0FBS3NGLHlCQUVoQkcsWUFBWSxFQUNaQyxjQUFjLElBRWxCWCxFQUFTbEUsVUFBVThFLGdCQUFrQixXQUNqQyxPQUFPM0YsS0FBSzBELGNBRWhCcUIsRUFBU2xFLFVBQVUrRSxpQkFBbUIsU0FBVVgsR0FDNUNqRixLQUFLaUYsY0FBZ0JBLEdBRXpCRixFQUFTbEUsVUFBVWdGLGlCQUFtQixXQUNsQyxPQUFPN0YsS0FBS2lGLGVBRWhCRixFQUFTbEUsVUFBVWlGLFdBQWEsU0FBVVAsR0FDdEN2RixLQUFLdUYsK0JBQWlDQSxFQUN0Q3ZGLEtBQUtLLE9BQU8wRSxFQUFTakQsYUFBYzlCLEtBQUs0RSxZQUFZN0MsS0FBTSxhQUU5RGdELEVBQVNsRSxVQUFVa0YsU0FBVyxXQUMxQi9GLEtBQUt1RiwrQkFBaUMsS0FDdEN2RixLQUFLSyxPQUFPMEUsRUFBU2pELGFBQWM5QixLQUFLNEUsWUFBWTdDLEtBQU0sV0FFOURnRCxFQUFTbEUsVUFBVW1GLFFBQVUsV0FDekJoRyxLQUFLcUYsVUFBVyxFQUNoQnJGLEtBQUtLLE9BQU8wRSxFQUFTakQsYUFBYzlCLEtBQUs0RSxZQUFZN0MsS0FBTSxVQUU5RGdELEVBQVNsRSxVQUFVb0YsUUFBVSxXQUN6QmpHLEtBQUtxRixVQUFXLEVBQ2hCckYsS0FBS0ssT0FBTzBFLEVBQVNqRCxhQUFjOUIsS0FBSzRFLFlBQVk3QyxLQUFNLFVBRTlEdkMsT0FBT0MsZUFBZXNGLEVBQVNsRSxVQUFXLGFBQWMsQ0FDcEQyRSxJQUFLLFdBQ0QsT0FBT3hGLEtBQUtxRixVQUVoQkksWUFBWSxFQUNaQyxjQUFjLElBRWxCWCxFQUFTbEUsVUFBVXFGLHNCQUF3QixTQUFVbkYsR0FDakRmLEtBQUttRyxtQkFBbUJwRixFQUFrQmYsS0FBS29HLGtCQUVuRHJCLEVBQVNsRSxVQUFVd0Ysd0JBQTBCLFNBQVV0RixHQUNuRGYsS0FBS21HLG1CQUFtQnBGLEVBQWtCZixLQUFLc0cscUJBRW5EdkIsRUFBU2xFLFVBQVVzRixtQkFBcUIsU0FBVXBGLEVBQWtCd0YsR0FDaEUsSUFBSXJCLEVBQVFsRixLQUNSd0csRUFBbUJ4RyxLQUFLeUcsY0FBY0MsUUFDdENDLEdBQVUsRUFDVjVGLGFBQTRCeUQsTUFDNUJ6RCxFQUFpQjZGLFNBQVEsU0FBVUMsR0FDL0JGLEVBQVVKLEVBQU9wQixLQUFLRCxFQUFPMkIsSUFBaUJGLEtBSWxEQSxFQUFVSixFQUFPcEIsS0FBS25GLEtBQU1lLEdBRTVCNEYsR0FBVzNHLEtBQUt1RixnQ0FDaEJ2RixLQUFLdUYsK0JBQStCdkYsS0FBTXdHLElBR2xEekIsRUFBU2xFLFVBQVV1RixnQkFBa0IsU0FBVVMsR0FDM0MsT0FBa0QsSUFBOUM3RyxLQUFLeUcsY0FBY0ssUUFBUUQsS0FDM0I3RyxLQUFLeUcsY0FBY00sS0FBS0YsSUFDakIsSUFJZjlCLEVBQVNsRSxVQUFVeUYsbUJBQXFCLFNBQVVPLEdBQzlDLElBQUlHLEVBQVFoSCxLQUFLeUcsY0FBY0ssUUFBUUQsR0FDdkMsT0FBZSxJQUFYRyxJQUNBaEgsS0FBS3lHLGNBQWNRLE9BQU9ELEVBQU8sSUFDMUIsSUFJZmpDLEVBQVNqRCxhQUFlLENBQ3BCLEdBQ0Esc0JBQ0Esc0JBQ0EsdUNBQ0Esc0JBQ0EsdUJBRUdpRCxFQWhHa0IsQ0FpRzNCRCxFQUFXb0MsVUFDYnhILEVBQVFxRixTQUFXQSxHLFlDbkhuQnZGLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQ0krQyxFQUF1QixXQUN2QixTQUFTQSxFQUFNM0MsR0FFWCxHQURBQyxLQUFLbUgsU0FBVyxHQUNaekUsRUFBTXhDLFlBQVlILEdBQ2xCLE1BQU0sSUFBSUksTUFMSCw2REFPWEgsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUs2QyxrQkFvQ1QsT0FsQ0FILEVBQU05QixZQUFjLFNBQVViLEdBQzFCLE9BQUtBLEdBR0FDLEtBQUtFLFlBQVlILEtBQ2xCQyxLQUFLRSxZQUFZSCxHQUFPLElBQUkyQyxFQUFNM0MsSUFFL0JDLEtBQUtFLFlBQVlILElBTGIsTUFPZjJDLEVBQU1DLFlBQWMsU0FBVTVDLFVBQ25CQyxLQUFLRSxZQUFZSCxJQUU1QjJDLEVBQU03QixVQUFVbUMsY0FBZ0IsU0FBVUMsR0FDdENBLEVBQU1YLG1CQUFtQnRDLEtBQUtJLGFBQzlCSixLQUFLbUgsU0FBU2xFLEVBQU1tRSxnQkFBa0JuRSxFQUN0Q0EsRUFBTTZDLGNBRVZwRCxFQUFNN0IsVUFBVXNDLGNBQWdCLFNBQVVDLEdBQ3RDLE9BQU9wRCxLQUFLbUgsU0FBUy9ELElBRXpCVixFQUFNN0IsVUFBVXlDLFNBQVcsU0FBVUYsR0FDakMsWUFBb0MvQixJQUE3QnJCLEtBQUttSCxTQUFTL0QsSUFFekJWLEVBQU03QixVQUFVd0MsWUFBYyxTQUFVRCxHQUNwQyxHQUFJcEQsS0FBS21ILFNBQVMvRCxHQUFZLENBQzFCLElBQUlILEVBQVFqRCxLQUFLbUgsU0FBUy9ELEdBRzFCLE9BRkFILEVBQU04QyxrQkFDQy9GLEtBQUttSCxTQUFTL0QsR0FDZEgsRUFFWCxPQUFPLE1BRVhQLEVBQU03QixVQUFVZ0MsZ0JBQWtCLGFBQ2xDSCxFQUFNeEMsWUFBYyxHQUNid0MsRUEzQ2UsR0E2QzFCaEQsRUFBUWdELE1BQVFBLEcsY0MvQ2hCbEQsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFJdEQsSUFBSTBILEVBQVcsRUFBUSxLQUVuQkgsRUFBMEIsV0FDMUIsU0FBU0EsS0FzQlQsT0FwQkFBLEVBQVNyRyxVQUFVeUIsbUJBQXFCLFNBQVV2QyxHQUM5Q0MsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUtzSCxPQUFTdEgsS0FBS3VILGFBRXZCTCxFQUFTckcsVUFBVWtELGlCQUFtQixTQUFVaEQsR0FFNUMsSUFEQSxJQUlJaUQsRUFKQXZDLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLQyxVQUFVRCxHQUd6QjFCLEtBQUtzSCxTQUNKdEQsRUFBS2hFLEtBQUtzSCxRQUFRdkQsaUJBQWlCL0IsTUFBTWdDLEVBQUksQ0FBQ2pELEdBQWtCa0IsT0FBT1IsS0FHaEZ5RixFQUFTckcsVUFBVTBHLFVBQVksV0FDM0IsR0FBeUIsT0FBckJ2SCxLQUFLSSxZQUNMLE1BQU0sSUFBSUQsTUFwQkgsc0RBc0JYLE9BQU9rSCxFQUFTakYsT0FBT3hCLFlBQVlaLEtBQUtJLGNBRXJDOEcsRUF2QmtCLEdBeUI3QnhILEVBQVF3SCxTQUFXQSxHLG9CQy9CbkIsSUFDUWhELEVBREpDLEVBQWFuRSxNQUFRQSxLQUFLbUUsWUFDdEJELEVBQWdCLFNBQVVFLEVBQUdDLEdBSTdCLE9BSEFILEVBQWdCMUUsT0FBTzhFLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVKLEVBQUdDLEdBQUtELEVBQUVHLFVBQVlGLElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSSxLQUFLSixFQUFPQSxFQUFFSyxlQUFlRCxLQUFJTCxFQUFFSyxHQUFLSixFQUFFSSxNQUNwREwsRUFBR0MsSUFFckIsU0FBVUQsRUFBR0MsR0FFaEIsU0FBU00sSUFBTzNFLEtBQUs0RSxZQUFjUixFQURuQ0YsRUFBY0UsRUFBR0MsR0FFakJELEVBQUV2RCxVQUFrQixPQUFOd0QsRUFBYTdFLE9BQU9xRixPQUFPUixJQUFNTSxFQUFHOUQsVUFBWXdELEVBQUV4RCxVQUFXLElBQUk4RCxLQUd2Rm5GLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBSXRELElBQUltRixFQUFhLEVBQVEsS0FDckJsRixFQUFZLEVBQVEsS0FFcEI0SCxFQUF1QixTQUFVeEMsR0FFakMsU0FBU3dDLEVBQU1wRSxFQUFXcUUsR0FDdEIsSUFBSXZDLEVBQVFGLEVBQU9HLEtBQUtuRixPQUFTQSxLQU1qQyxPQUxBa0YsRUFBTTlCLFVBQVlBLEdBTGYsUUFNSDhCLEVBQU03RSxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFRb0gsU0FBVzlILEVBQVVVLFFBQVFHLFFBQ3BGZ0gsR0FDQXZDLEVBQU15QyxRQUFRRixHQUVYdkMsRUF5QlgsT0FqQ0FmLEVBQVVxRCxFQUFPeEMsR0FVakJ3QyxFQUFNM0csVUFBVXVHLGFBQWUsV0FDM0IsT0FBT3BILEtBQUtvRCxXQUVoQm9FLEVBQU0zRyxVQUFVOEcsUUFBVSxTQUFVRixHQUNoQ3pILEtBQUt5SCxLQUFPQSxHQUVoQkQsRUFBTTNHLFVBQVUrRyxRQUFVLFdBQ3RCLE9BQU81SCxLQUFLeUgsTUFFaEJELEVBQU0zRyxVQUFVaUYsV0FBYSxXQUN6QjlGLEtBQUtLLE9BQU9tSCxFQUFNMUYsYUFBYzlCLEtBQUs0RSxZQUFZN0MsS0FBTSxhQUUzRHlGLEVBQU0zRyxVQUFVa0YsU0FBVyxXQUN2Qi9GLEtBQUtLLE9BQU9tSCxFQUFNMUYsYUFBYzlCLEtBQUs0RSxZQUFZN0MsS0FBTSxXQUUzRHlGLEVBQU0xRixhQUFlLENBQ2pCLEdBQ0Esc0JBQ0Esc0JBQ0EsdUNBQ0Esc0JBQ0EsdUJBRUcwRixFQWxDZSxDQW1DeEIxQyxFQUFXb0MsVUFDYnhILEVBQVE4SCxNQUFRQSxHLFlDeERoQmhJLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlXLEVBQXlCLFdBQ3pCLFNBQVNBLEtBNkJULE9BM0JBQSxFQUFRRSxXQUFhLFNBQVVxSCxFQUFhOUcsRUFBa0IrRyxHQUMxREQsRUFBWSxHQUFLLFlBQWM5RyxFQUFtQixRQUFVK0csRUFBYyxVQUMxRUMsUUFBUUMsSUFBSWhHLE1BQU0rRixRQUFTRixJQUUvQnZILEVBQVErQixnQkFBa0IsU0FBVXdGLEVBQWE5RyxHQUU3QyxJQURBLElBQUlVLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLQyxVQUFVRCxHQUU3Qm1HLEVBQVksR0FBSyxZQUFjOUcsRUFBbUIsWUFBY1UsRUFBTyxZQUN2RXNHLFFBQVFDLElBQUloRyxNQUFNK0YsUUFBU0YsSUFFL0J2SCxFQUFROEUsWUFBYyxTQUFVeUMsRUFBYTlGLEVBQU13RSxHQUMvQ3NCLEVBQVksR0FBSyxZQUFjOUYsRUFBTyxLQUFPd0UsRUFBUyxVQUN0RHdCLFFBQVFDLElBQUloRyxNQUFNK0YsUUFBU0YsSUFFL0J2SCxFQUFRb0gsU0FBVyxTQUFVRyxFQUFhOUYsRUFBTXdFLEdBQzVDc0IsRUFBWSxHQUFLLFlBQWM5RixFQUFPLEtBQU93RSxFQUFTLFVBQ3REd0IsUUFBUUMsSUFBSWhHLE1BQU0rRixRQUFTRixJQUUvQnZILEVBQVFHLFFBQVUsU0FBVW9ILEdBRXhCLElBREEsSUFBSXBHLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLQyxVQUFVRCxJQUdqQ3BCLEVBQVFDLE9BQVEsRUFDVEQsRUE5QmlCLEdBZ0M1QlosRUFBUVksUUFBVUEsRyxjQ2pDbEJkLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlzSSxFQUFlLEVBQVEsS0FFdkJ6RyxFQUFzQixXQUN0QixTQUFTQSxFQUFLekIsR0FHVixHQUZBQyxLQUFLa0ksWUFBYyxHQUNuQmxJLEtBQUttSSxhQUFlLElBQUlGLEVBQ3BCekcsRUFBS3RCLFlBQVlILEdBQ2pCLE1BQU0sSUFBSUksTUFOSCw0REFRWEgsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUs4QyxpQkE2R1QsT0EzR0F0QixFQUFLWixZQUFjLFNBQVViLEdBQ3pCLE9BQUtBLEdBR0FDLEtBQUtFLFlBQVlILEtBQ2xCQyxLQUFLRSxZQUFZSCxHQUFPLElBQUl5QixFQUFLekIsSUFFOUJDLEtBQUtFLFlBQVlILElBTGIsTUFPZnlCLEVBQUtvQixXQUFhLFNBQVU3QyxVQUNqQkMsS0FBS0UsWUFBWUgsSUFFNUJ5QixFQUFLWCxVQUFVVSxlQUFpQixTQUFVUixFQUFrQnFILEVBQWdCQyxHQUN4RXJJLEtBQUttSSxhQUFhRyxlQUFldkgsRUFBa0JxSCxFQUFnQkMsSUFFdkU3RyxFQUFLWCxVQUFVSyxpQkFBbUIsU0FBVUgsRUFBa0JxSCxFQUFnQkMsR0FDMUVySSxLQUFLbUksYUFBYUksR0FBR3hILEVBQWtCcUgsRUFBZ0JDLElBRTNEN0csRUFBS1gsVUFBVW9ELGdCQUFrQixTQUFVbEQsR0FFdkMsSUFEQSxJQUlJaUQsRUFKQXZDLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLQyxVQUFVQyxPQUFRRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLQyxVQUFVRCxJQUc1QnNDLEVBQUtoRSxLQUFLbUksY0FBY0ssS0FBS3hHLE1BQU1nQyxFQUFJLENBQUNqRCxFQUFrQkEsR0FBa0JrQixPQUFPUixLQUV4RkQsRUFBS1gsVUFBVTBDLGlCQUFtQixTQUFVQyxHQUNwQ3hELEtBQUtrSSxZQUFZMUUsRUFBU21DLHFCQUc5Qm5DLEVBQVNsQixtQkFBbUJ0QyxLQUFLSSxhQUVqQ0osS0FBS2tJLFlBQVkxRSxFQUFTbUMsbUJBQXFCbkMsRUFDL0N4RCxLQUFLeUksa0JBQWtCakYsR0FDdkJBLEVBQVNzQyxXQUFXOUYsS0FBSzBJLHlDQUF5Q0MsS0FBSzNJLE9BQ3ZFd0QsRUFBU3lDLFlBRWJ6RSxFQUFLWCxVQUFVZ0QsY0FBZ0IsU0FBVUgsR0FDckMsSUFBSUYsRUFBV3hELEtBQUtrSSxZQUFZeEUsR0FDaEMsR0FBSUYsRUFBVSxDQUNWLElBQUtBLEVBQVNvRixXQUNWLE9BQU9wRixFQUVYeEQsS0FBS3lJLGtCQUFrQmpGLEdBRXZCQSxFQUFTeUMsVUFFYixPQUFPekMsR0FFWGhDLEVBQUtYLFVBQVU0QyxpQkFBbUIsU0FBVUMsR0FDeEMsT0FBTzFELEtBQUtrSSxZQUFZeEUsSUFFNUJsQyxFQUFLWCxVQUFVOEMsZUFBaUIsU0FBVUQsR0FDdEMsSUFBSUYsRUFBV3hELEtBQUtrSSxZQUFZeEUsR0FTaEMsT0FSSUYsSUFDQXhELEtBQUs2SSxnQkFBZ0JyRixVQUVkeEQsS0FBS2tJLFlBQVl4RSxHQUN4QkYsRUFBU3dDLFVBRVR4QyxFQUFTdUMsWUFFTnZDLEdBRVhoQyxFQUFLWCxVQUFVK0MsY0FBZ0IsU0FBVUYsR0FDckMsSUFBSUYsRUFBV3hELEtBQUtrSSxZQUFZeEUsR0FDaEMsR0FBSUYsRUFBVSxDQUNWLEdBQUlBLEVBQVNvRixXQUNULE9BQU9wRixFQUVYeEQsS0FBSzZJLGdCQUFnQnJGLEdBRXJCQSxFQUFTd0MsVUFFYixPQUFPeEMsR0FFWGhDLEVBQUtYLFVBQVVpRCxZQUFjLFNBQVVKLEdBQ25DLFlBQTBDckMsSUFBbkNyQixLQUFLa0ksWUFBWXhFLElBRTVCbEMsRUFBS1gsVUFBVWlDLGVBQWlCLGFBQ2hDdEIsRUFBS1gsVUFBVWdJLGdCQUFrQixTQUFVckYsRUFBVXNGLEdBRWpELElBQUlDLEVBQXdCRCxHQUFhdEYsRUFBU2lELGNBQ2xELEdBQUlzQyxFQUFzQm5ILE9BQVMsRUFDL0IsSUFBSyxJQUFJRixFQUFLLEVBQUdzSCxFQUEwQkQsRUFBdUJySCxFQUFLc0gsRUFBd0JwSCxPQUFRRixJQUFNLENBQ3pHLElBQUl1SCxFQUFXRCxFQUF3QnRILEdBRXZDMUIsS0FBS3VCLGVBQWUwSCxFQUFVekYsRUFBUzBGLG1CQUFvQjFGLEtBSXZFaEMsRUFBS1gsVUFBVTRILGtCQUFvQixTQUFVakYsRUFBVXNGLEdBRW5ELElBQUlDLEVBQXdCRCxHQUFhdEYsRUFBU2lELGNBRWxELEdBQUlzQyxFQUFzQm5ILE9BQVMsRUFDL0IsSUFBSyxJQUFJRixFQUFLLEVBQUd5SCxFQUEwQkosRUFBdUJySCxFQUFLeUgsRUFBd0J2SCxPQUFRRixJQUFNLENBQ3pHLElBQUl1SCxFQUFXRSxFQUF3QnpILEdBQ3ZDMUIsS0FBS2tCLGlCQUFpQitILEVBQVV6RixFQUFTMEYsbUJBQW9CMUYsS0FJekVoQyxFQUFLWCxVQUFVNkgseUNBQTJDLFNBQVVsRixFQUFVZ0QsR0FDMUV4RyxLQUFLNkksZ0JBQWdCckYsRUFBVWdELEdBQy9CeEcsS0FBS3lJLGtCQUFrQmpGLElBRTNCaEMsRUFBS3RCLFlBQWMsR0FDWnNCLEVBckhjLEdBdUh6QjlCLEVBQVE4QixLQUFPQSxHLGNDMUhmaEMsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSXVDLEVBQWUsRUFBUSxLQUMzQnhDLEVBQVFJLFdBQWFvQyxFQUFhcEMsV0FDbEMsSUFBSXVILEVBQVcsRUFBUSxLQUN2QjNILEVBQVEwQyxPQUFTaUYsRUFBU2pGLE9BQzFCLElBQUlnSCxFQUFhLEVBQVEsS0FDekIxSixFQUFRcUYsU0FBV3FFLEVBQVdyRSxTQUM5QixJQUFJNUMsRUFBVSxFQUFRLEtBQ3RCekMsRUFBUWdELE1BQVFQLEVBQVFPLE1BQ3hCLElBQUlvQyxFQUFhLEVBQVEsS0FDekJwRixFQUFRd0gsU0FBV3BDLEVBQVdvQyxTQUM5QixJQUFJbUMsRUFBVSxFQUFRLEtBQ3RCM0osRUFBUThILE1BQVE2QixFQUFRN0IsTUFDeEIsSUFBSTVILEVBQVksRUFBUSxLQUN4QkYsRUFBUVksUUFBVVYsRUFBVVUsUUFDNUIsSUFBSVQsRUFBUyxFQUFRLEtBQ3JCSCxFQUFROEIsS0FBTzNCLEVBQU8yQixNLFFDZnRCLElBQUk4SCxFQUFNOUosT0FBT3FCLFVBQVU2RCxlQUN2QjZFLEVBQVMsSUFTYixTQUFTQyxLQTRCVCxTQUFTQyxFQUFHQyxFQUFJckIsRUFBU3NCLEdBQ3ZCM0osS0FBSzBKLEdBQUtBLEVBQ1YxSixLQUFLcUksUUFBVUEsRUFDZnJJLEtBQUsySixLQUFPQSxJQUFRLEVBY3RCLFNBQVNDLEVBQVlDLEVBQVNDLEVBQU9KLEVBQUlyQixFQUFTc0IsR0FDaEQsR0FBa0IsbUJBQVBELEVBQ1QsTUFBTSxJQUFJSyxVQUFVLG1DQUd0QixJQUFJQyxFQUFXLElBQUlQLEVBQUdDLEVBQUlyQixHQUFXd0IsRUFBU0YsR0FDMUNNLEVBQU1WLEVBQVNBLEVBQVNPLEVBQVFBLEVBTXBDLE9BSktELEVBQVFLLFFBQVFELEdBQ1hKLEVBQVFLLFFBQVFELEdBQUtQLEdBQzFCRyxFQUFRSyxRQUFRRCxHQUFPLENBQUNKLEVBQVFLLFFBQVFELEdBQU1ELEdBRGhCSCxFQUFRSyxRQUFRRCxHQUFLbEQsS0FBS2lELElBRGxDSCxFQUFRSyxRQUFRRCxHQUFPRCxFQUFVSCxFQUFRTSxnQkFJN0ROLEVBVVQsU0FBU08sRUFBV1AsRUFBU0ksR0FDSSxLQUF6QkosRUFBUU0sYUFBb0JOLEVBQVFLLFFBQVUsSUFBSVYsU0FDNUNLLEVBQVFLLFFBQVFELEdBVTlCLFNBQVNoQyxJQUNQakksS0FBS2tLLFFBQVUsSUFBSVYsRUFDbkJ4SixLQUFLbUssYUFBZSxFQXhFbEIzSyxPQUFPcUYsU0FDVDJFLEVBQU8zSSxVQUFZckIsT0FBT3FGLE9BQU8sT0FNNUIsSUFBSTJFLEdBQVNqRixZQUFXZ0YsR0FBUyxJQTJFeEN0QixFQUFhcEgsVUFBVXdKLFdBQWEsV0FDbEMsSUFDSUMsRUFDQXZJLEVBRkF3SSxFQUFRLEdBSVosR0FBMEIsSUFBdEJ2SyxLQUFLbUssYUFBb0IsT0FBT0ksRUFFcEMsSUFBS3hJLEtBQVN1SSxFQUFTdEssS0FBS2tLLFFBQ3RCWixFQUFJbkUsS0FBS21GLEVBQVF2SSxJQUFPd0ksRUFBTXhELEtBQUt3QyxFQUFTeEgsRUFBSzJFLE1BQU0sR0FBSzNFLEdBR2xFLE9BQUl2QyxPQUFPZ0wsc0JBQ0ZELEVBQU10SSxPQUFPekMsT0FBT2dMLHNCQUFzQkYsSUFHNUNDLEdBVVR0QyxFQUFhcEgsVUFBVTRKLFVBQVksU0FBbUJYLEdBQ3BELElBQUlHLEVBQU1WLEVBQVNBLEVBQVNPLEVBQVFBLEVBQ2hDWSxFQUFXMUssS0FBS2tLLFFBQVFELEdBRTVCLElBQUtTLEVBQVUsTUFBTyxHQUN0QixHQUFJQSxFQUFTaEIsR0FBSSxNQUFPLENBQUNnQixFQUFTaEIsSUFFbEMsSUFBSyxJQUFJaUIsRUFBSSxFQUFHQyxFQUFJRixFQUFTOUksT0FBUWlKLEVBQUssSUFBSXJHLE1BQU1vRyxHQUFJRCxFQUFJQyxFQUFHRCxJQUM3REUsRUFBR0YsR0FBS0QsRUFBU0MsR0FBR2pCLEdBR3RCLE9BQU9tQixHQVVUNUMsRUFBYXBILFVBQVVpSyxjQUFnQixTQUF1QmhCLEdBQzVELElBQUlHLEVBQU1WLEVBQVNBLEVBQVNPLEVBQVFBLEVBQ2hDVyxFQUFZekssS0FBS2tLLFFBQVFELEdBRTdCLE9BQUtRLEVBQ0RBLEVBQVVmLEdBQVcsRUFDbEJlLEVBQVU3SSxPQUZNLEdBWXpCcUcsRUFBYXBILFVBQVUySCxLQUFPLFNBQWNzQixFQUFPaUIsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsR0FDakUsSUFBSWxCLEVBQU1WLEVBQVNBLEVBQVNPLEVBQVFBLEVBRXBDLElBQUs5SixLQUFLa0ssUUFBUUQsR0FBTSxPQUFPLEVBRS9CLElBRUl4SSxFQUNBa0osRUFIQUYsRUFBWXpLLEtBQUtrSyxRQUFRRCxHQUN6Qm1CLEVBQU16SixVQUFVQyxPQUlwQixHQUFJNkksRUFBVWYsR0FBSSxDQUdoQixPQUZJZSxFQUFVZCxNQUFNM0osS0FBS3NJLGVBQWV3QixFQUFPVyxFQUFVZixRQUFJckksR0FBVyxHQUVoRStKLEdBQ04sS0FBSyxFQUFHLE9BQU9YLEVBQVVmLEdBQUd2RSxLQUFLc0YsRUFBVXBDLFVBQVUsRUFDckQsS0FBSyxFQUFHLE9BQU9vQyxFQUFVZixHQUFHdkUsS0FBS3NGLEVBQVVwQyxRQUFTMEMsSUFBSyxFQUN6RCxLQUFLLEVBQUcsT0FBT04sRUFBVWYsR0FBR3ZFLEtBQUtzRixFQUFVcEMsUUFBUzBDLEVBQUlDLElBQUssRUFDN0QsS0FBSyxFQUFHLE9BQU9QLEVBQVVmLEdBQUd2RSxLQUFLc0YsRUFBVXBDLFFBQVMwQyxFQUFJQyxFQUFJQyxJQUFLLEVBQ2pFLEtBQUssRUFBRyxPQUFPUixFQUFVZixHQUFHdkUsS0FBS3NGLEVBQVVwQyxRQUFTMEMsRUFBSUMsRUFBSUMsRUFBSUMsSUFBSyxFQUNyRSxLQUFLLEVBQUcsT0FBT1QsRUFBVWYsR0FBR3ZFLEtBQUtzRixFQUFVcEMsUUFBUzBDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLElBQUssRUFHM0UsSUFBS1IsRUFBSSxFQUFHbEosRUFBTyxJQUFJK0MsTUFBTTRHLEVBQUssR0FBSVQsRUFBSVMsRUFBS1QsSUFDN0NsSixFQUFLa0osRUFBSSxHQUFLaEosVUFBVWdKLEdBRzFCRixFQUFVZixHQUFHMUgsTUFBTXlJLEVBQVVwQyxRQUFTNUcsT0FDakMsQ0FDTCxJQUNJNEosRUFEQXpKLEVBQVM2SSxFQUFVN0ksT0FHdkIsSUFBSytJLEVBQUksRUFBR0EsRUFBSS9JLEVBQVErSSxJQUd0QixPQUZJRixFQUFVRSxHQUFHaEIsTUFBTTNKLEtBQUtzSSxlQUFld0IsRUFBT1csRUFBVUUsR0FBR2pCLFFBQUlySSxHQUFXLEdBRXRFK0osR0FDTixLQUFLLEVBQUdYLEVBQVVFLEdBQUdqQixHQUFHdkUsS0FBS3NGLEVBQVVFLEdBQUd0QyxTQUFVLE1BQ3BELEtBQUssRUFBR29DLEVBQVVFLEdBQUdqQixHQUFHdkUsS0FBS3NGLEVBQVVFLEdBQUd0QyxRQUFTMEMsR0FBSyxNQUN4RCxLQUFLLEVBQUdOLEVBQVVFLEdBQUdqQixHQUFHdkUsS0FBS3NGLEVBQVVFLEdBQUd0QyxRQUFTMEMsRUFBSUMsR0FBSyxNQUM1RCxLQUFLLEVBQUdQLEVBQVVFLEdBQUdqQixHQUFHdkUsS0FBS3NGLEVBQVVFLEdBQUd0QyxRQUFTMEMsRUFBSUMsRUFBSUMsR0FBSyxNQUNoRSxRQUNFLElBQUt4SixFQUFNLElBQUs0SixFQUFJLEVBQUc1SixFQUFPLElBQUkrQyxNQUFNNEcsRUFBSyxHQUFJQyxFQUFJRCxFQUFLQyxJQUN4RDVKLEVBQUs0SixFQUFJLEdBQUsxSixVQUFVMEosR0FHMUJaLEVBQVVFLEdBQUdqQixHQUFHMUgsTUFBTXlJLEVBQVVFLEdBQUd0QyxRQUFTNUcsSUFLcEQsT0FBTyxHQVlUd0csRUFBYXBILFVBQVUwSCxHQUFLLFNBQVl1QixFQUFPSixFQUFJckIsR0FDakQsT0FBT3VCLEVBQVk1SixLQUFNOEosRUFBT0osRUFBSXJCLEdBQVMsSUFZL0NKLEVBQWFwSCxVQUFVOEksS0FBTyxTQUFjRyxFQUFPSixFQUFJckIsR0FDckQsT0FBT3VCLEVBQVk1SixLQUFNOEosRUFBT0osRUFBSXJCLEdBQVMsSUFhL0NKLEVBQWFwSCxVQUFVeUgsZUFBaUIsU0FBd0J3QixFQUFPSixFQUFJckIsRUFBU3NCLEdBQ2xGLElBQUlNLEVBQU1WLEVBQVNBLEVBQVNPLEVBQVFBLEVBRXBDLElBQUs5SixLQUFLa0ssUUFBUUQsR0FBTSxPQUFPakssS0FDL0IsSUFBSzBKLEVBRUgsT0FEQVUsRUFBV3BLLEtBQU1pSyxHQUNWakssS0FHVCxJQUFJeUssRUFBWXpLLEtBQUtrSyxRQUFRRCxHQUU3QixHQUFJUSxFQUFVZixHQUVWZSxFQUFVZixLQUFPQSxHQUNmQyxJQUFRYyxFQUFVZCxNQUNsQnRCLEdBQVdvQyxFQUFVcEMsVUFBWUEsR0FFbkMrQixFQUFXcEssS0FBTWlLLE9BRWQsQ0FDTCxJQUFLLElBQUlVLEVBQUksRUFBR0wsRUFBUyxHQUFJMUksRUFBUzZJLEVBQVU3SSxPQUFRK0ksRUFBSS9JLEVBQVErSSxLQUVoRUYsRUFBVUUsR0FBR2pCLEtBQU9BLEdBQ25CQyxJQUFTYyxFQUFVRSxHQUFHaEIsTUFDdEJ0QixHQUFXb0MsRUFBVUUsR0FBR3RDLFVBQVlBLElBRXJDaUMsRUFBT3ZELEtBQUswRCxFQUFVRSxJQU90QkwsRUFBTzFJLE9BQVE1QixLQUFLa0ssUUFBUUQsR0FBeUIsSUFBbEJLLEVBQU8xSSxPQUFlMEksRUFBTyxHQUFLQSxFQUNwRUYsRUFBV3BLLEtBQU1pSyxHQUd4QixPQUFPakssTUFVVGlJLEVBQWFwSCxVQUFVeUssbUJBQXFCLFNBQTRCeEIsR0FDdEUsSUFBSUcsRUFVSixPQVJJSCxHQUNGRyxFQUFNVixFQUFTQSxFQUFTTyxFQUFRQSxFQUM1QjlKLEtBQUtrSyxRQUFRRCxJQUFNRyxFQUFXcEssS0FBTWlLLEtBRXhDakssS0FBS2tLLFFBQVUsSUFBSVYsRUFDbkJ4SixLQUFLbUssYUFBZSxHQUdmbkssTUFNVGlJLEVBQWFwSCxVQUFVMEssSUFBTXRELEVBQWFwSCxVQUFVeUgsZUFDcERMLEVBQWFwSCxVQUFVK0ksWUFBYzNCLEVBQWFwSCxVQUFVMEgsR0FLNUROLEVBQWF1RCxTQUFXakMsRUFLeEJ0QixFQUFhQSxhQUFlQSxFQU0xQndELEVBQU8vTCxRQUFVdUksRyw0REM5VVosTUFBTXlELEVBQ1QsWUFBWUMsRUFBR0MsRUFBR0MsR0FDZDdMLEtBQUsyTCxFQUFJQSxFQUNUM0wsS0FBSzRMLEVBQUlBLEVBQ1Q1TCxLQUFLNkwsRUFBSUEsRUFDVDdMLEtBQUs4TCxlQUFpQixHQUN0QjlMLEtBQUsrTCxVQUFXLEVBR3BCLFlBQVlDLEdBQ1IsT0FBT2hNLEtBQUs4TCxlQUFlRyxNQUFLQyxHQUFRQSxFQUFLUCxJQUFNSyxFQUFVTCxHQUN0RE8sRUFBS04sSUFBTUksRUFBVUosR0FBS00sRUFBS0wsSUFBTUcsRUFBVUgsSUFHMUQsT0FBT0csR0FDSCxPQUFPaE0sS0FBSzJMLElBQU1LLEVBQVVMLEdBQUszTCxLQUFLNEwsSUFBTUksRUFBVUosR0FBSzVMLEtBQUs2TCxJQUFNRyxFQUFVSCxFQUdwRixZQUFZRixFQUFHQyxFQUFHQyxHQUNkLE9BQU83TCxLQUFLMkwsSUFBTUEsR0FBSzNMLEtBQUs0TCxJQUFNQSxHQUFLNUwsS0FBSzZMLElBQU1BLEVBR3RELGlCQUFpQkcsR0FDUmhNLEtBQUttTSxZQUFZSCxJQUNsQmhNLEtBQUs4TCxlQUFlL0UsS0FBS2lGLEdBSWpDLGlCQUFpQkEsR0FDYixNQUFNSSxFQUFxQnBNLEtBQUs4TCxlQUFlTyxXQUFVSCxHQUFRQSxFQUFLSSxPQUFPTixLQUM3RWhNLEtBQUs4TCxlQUFlN0UsT0FBT21GLEVBQW9CLEksc0JDMUJ2RCxNQUFNLE9BQUVoSyxHQUFXLEVBQVEsS0FFcEIsU0FBU21LLEVBQW9Cbk0sRUFBYVcsS0FBcUJVLEdBQ2xFLE1BQU02RixFQUFTbEYsRUFBT3hCLFlBQVlSLEdBRzVCb00sRUFBTUMsR0FBR0MsWUFBWUMsaUJBQ3JCQyxFQW1CVixTQUF3QkosR0FDcEIsTUFBTUssRUFBbUJMLEVBQUlNLEtBQUtDLFVBQVUsb0JBRTVDLElBQUlDLEVBQWdCLEdBRXBCLE1BQU1DLEVBQXVCLEdBRzdCLElBQUssTUFBTUMsS0FBZUwsRUFBa0IsQ0FDeEMsTUFBTU0sRUFBVUQsRUFBWUUsT0FBNEIsb0JBQ3hESCxFQUFxQmxHLEtBQUtvRyxHQUUxQixNQUFNUCxFQUFZUyxFQUEyQkgsR0FDN0NDLEVBQVFHLFFBQVFWLEdBS3BCLElBQUssTUFBTVcsS0FBa0JOLEVBQ3pCLElBQUssTUFBTU8sS0FBdUJELEVBQWVFLG9CQUFxQixDQUNsRSxNQUFNQyxFQUFtQkYsRUFBb0JKLE9BQTRCLG9CQUV6RU8sRUFBbUJKLEVBQWVLLFVBQVdGLEVBQWlCRSxXQUM5RFosRUFBZ0JBLEVBQWMvSyxPQUFPc0wsRUFBZUssV0FJNUQsT0FBT1osRUE5Q1dhLENBQWVyQixHQUMzQnNCLEVBZ0RWLFNBQXdCdEIsRUFBS0ksR0FDekIsTUFBTW1CLEVBQXFCLEdBQ3JCQyxFQUFrQnhCLEVBQUlNLEtBQUtDLFVBQVUsUUFDM0MsSUFBSyxNQUFNa0IsS0FBaUJELEVBQWlCLENBQ3pDLE1BQU1FLEVBQU9DLEVBQTRCRixHQUN6Q0YsRUFBbUJoSCxLQUFLbUgsR0FDeEJFLEVBQXNCSCxFQUFlckIsR0FDckNxQixFQUFjSSxVQUdsQixPQUFPTixFQTFET08sQ0FBZTlCLEVBQUtJLEdBQzVCMkIsRUE4SVYsU0FBd0IvQixFQUFLSSxHQUN6QixJQUFJNEIsRUFBYyxHQUNsQixNQUFNQyxFQUFnQmpDLEVBQUlNLEtBQUtDLFVBQVUsU0FDekMsSUFBSyxNQUFNMkIsS0FBZUQsRUFDdEJELEVBQWNBLEVBQVl2TSxPQUFPME0sRUFBd0JELEVBQWE5QixJQUN0RThCLEVBQVlMLFVBR2hCLE9BQU9HLEVBdEpPSSxDQUFlcEMsRUFBS0ksR0FDNUJpQyxFQXlMVixTQUF1QnJDLEdBQ25CLE1BQU1xQyxFQUFVLElBQUlDLElBQ2RDLEVBQWlCdkMsRUFBSU0sS0FBS0MsVUFBVSxVQUMxQyxJQUFLLE1BQU1pQyxLQUFnQkQsRUFBZ0IsQ0FDdkMsTUFBTUUsRUFBa0JELEVBQWE1QixPQUF3QixnQkFDdkQ4QixFQUFXRCxFQUFnQkMsU0FNM0JDLEVBQVMsQ0FDWEQsU0FBVUEsRUFDVkUsaUJBUHFCSCxFQUFnQkcsaUJBUXJDQyxrQkFQc0JKLEVBQWdCSSxrQkFRdENDLGNBUGtCTCxFQUFnQkssY0FBY0MsY0FRaERDLFlBUGdCUCxFQUFnQlEsT0FBT0YsZUFVM0NWLEVBQVFhLElBQUlSLEVBQVVDLEdBRzFCLE9BQU9OLEVBL01TYyxDQUFjbkQsR0FHeEJvRCxFQWdOVixTQUE0QmhELEdBQ3hCLE1BQU1pRCxFQUFZLEdBQ2xCLElBQUssTUFBTUMsS0FBYWxELEVBR2hCbUQsRUFBV0QsRUFBV2xELElBQ3RCaUQsRUFBVTlJLEtBQUssSUFBSTJFLEVBQWVvRSxFQUFVbkUsRUFBR21FLEVBQVVsRSxFQUFHa0UsRUFBVWpFLElBSTlFLElBQUssTUFBTW1FLEtBQVlILEVBQ25CLElBQUssTUFBTUksS0FBaUJKLEVBQ3hCLElBQUtHLEVBQVMxRCxPQUFPMkQsS0FBbUJBLEVBQWM5RCxZQUFZNkQsR0FBVyxDQUN6RSxNQUFNRSxFQUFPQyxFQUFBLHlCQUE2QkgsRUFBU3JFLEVBQUdxRSxFQUFTbkUsRUFBR29FLEVBQWN0RSxFQUFHc0UsRUFBY3BFLEdBQzdGc0UsRUFBQSxpQkFBcUJELEVBQU10RCxLQUMzQm9ELEVBQVNJLGlCQUFpQkgsR0FDMUJBLEVBQWNHLGlCQUFpQkosSUFNL0MsT0FBT0gsRUF0T2NRLENBQW1CekQsR0FJcEN0RixFQUFPaEUsU0FBU2dOLEVBQUEsU0FFaEJoSixFQUFPakUsWUFBWWlOLEVBQUEsUUFHdkJoSixFQUFPdEUsY0FBYyxJQUFJc04sRUFBQSxFQUFhMUQsRUFBV2tCLEVBQU9TLEVBQU9NLEVBQVNlLElBQ3hFdEksRUFBT3ZELGlCQUFpQndNLEVBQUEsb0JBK0M1QixTQUFTcEMsRUFBNEJxQyxHQUNqQyxNQUFNQyxFQUFRRCxFQUFVRSxnQkFDbEJDLEVBQWMsSUFBSWxFLEdBQUdtRSxLQUFLSCxFQUFNOUUsRUFBSSxFQUFHOEUsRUFBTTdFLEVBQUksRUFBRzZFLEVBQU01RSxFQUFJLEdBRXBFLE9BRGEsSUFBSVksR0FBR29FLFlBQVlMLEVBQVVqQixjQUFlb0IsR0FJN0QsU0FBU3ZDLEVBQXNCMEMsRUFBTWxFLEdBQ2pDLE1BQU1tRSxFQUFVRCxFQUFLdkIsY0FDZnlCLEVBQVlGLEVBQUtKLGdCQUNqQjlFLEVBQUlxRixLQUFLQyxNQUFNSCxFQUFRbkYsRUFBbUIsR0FBZG9GLEVBQVVwRixHQUV0Q3VGLEVBQVVGLEtBQUtDLE1BQU1ILEVBQVFwRixFQUFtQixHQUFkcUYsRUFBVXJGLEdBQzVDeUYsRUFBVUgsS0FBS0MsTUFBTUgsRUFBUWxGLEVBQW1CLEdBQWRtRixFQUFVbkYsR0FFbEQsSUFBSyxJQUFJRixFQUFJd0YsRUFBU3hGLEVBQUl3RixFQUFVSCxFQUFVckYsRUFBR0EsSUFDN0MsSUFBSyxJQUFJRSxFQUFJdUYsRUFBU3ZGLEVBQUl1RixFQUFVSixFQUFVbkYsRUFBR0EsSUFBSyxDQUNsRCxNQUFNd0YsRUFBb0J6RSxFQUFVUCxXQUFXSCxHQUFTQSxFQUFLb0YsWUFBWTNGLEVBQUdDLEVBQUdDLEtBQy9FLEdBQUl3RixHQUFxQixFQUFHLENBQ3hCLE1BQU1FLEVBQWUzRSxFQUFVM0YsT0FBT29LLEVBQW1CLEdBRXpELElBQUssTUFBTUcsS0FBZUQsRUFDdEIsSUFBSyxNQUFNckYsS0FBUXNGLEVBQVkxRixlQUMzQkksRUFBS3VGLGlCQUFpQkQsS0FROUMsU0FBU25FLEVBQTJCSCxHQUVoQyxNQUFNd0UsRUFBTyxHQUVQQyxFQUFnQnpFLEVBQVkwRSxtQkFDNUJDLEVBQVkzRSxFQUFZd0QsZ0JBRXhCb0IsRUFBZWIsS0FBS0MsTUFBTVcsRUFBVWxHLEdBQ3BDb0csRUFBaUJkLEtBQUtDLE1BQU1XLEVBQVVoRyxHQUV0Q21HLEVBQVdmLEtBQUtDLE1BQU1TLEVBQWNoRyxFQUFLbUcsRUFBZSxHQUN4REcsRUFBV04sRUFBYy9GLEVBQ3pCc0csRUFBV2pCLEtBQUtDLE1BQU1TLEVBQWM5RixFQUFLa0csRUFBaUIsR0FFaEUsSUFBSyxJQUFJbEcsRUFBSXFHLEVBQVVyRyxFQUFJcUcsRUFBV0gsRUFBZ0JsRyxJQUNsRCxJQUFLLElBQUlGLEVBQUlxRyxFQUFVckcsRUFBSXFHLEVBQVdGLEVBQWNuRyxJQUFLLENBQ3JELE1BQU1PLEVBQU8sSUFBSVIsRUFBZUMsRUFBR3NHLEVBQVVwRyxHQUM3QzZGLEVBQUszSyxLQUFLbUYsR0FLbEIsSUFBSyxNQUFNQSxLQUFRd0YsRUFDZixJQUFLLE1BQU0xRixLQUFhMEYsR0FDaEIxRixFQUFVc0YsWUFBWXBGLEVBQUtQLEVBQUksRUFBR08sRUFBS04sRUFBR00sRUFBS0wsSUFDL0NHLEVBQVVzRixZQUFZcEYsRUFBS1AsRUFBSSxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxJQUMvQ0csRUFBVXNGLFlBQVlwRixFQUFLUCxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxFQUFJLElBQy9DRyxFQUFVc0YsWUFBWXBGLEVBQUtQLEVBQUdPLEVBQUtOLEVBQUdNLEVBQUtMLEVBQUksS0FDL0NLLEVBQUtrRSxpQkFBaUJwRSxHQUtsQyxPQUFPMEYsRUFHWCxTQUFTL0QsRUFBbUIrRCxFQUFNUyxHQUU5QixJQUFLLE1BQU1qRyxLQUFRd0YsRUFDZixJQUFLLE1BQU0xRixLQUFhbUcsR0FDaEJuRyxFQUFVc0YsWUFBWXBGLEVBQUtQLEVBQUksRUFBR08sRUFBS04sRUFBR00sRUFBS0wsSUFDL0NHLEVBQVVzRixZQUFZcEYsRUFBS1AsRUFBSSxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxJQUMvQ0csRUFBVXNGLFlBQVlwRixFQUFLUCxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxFQUFJLElBQy9DRyxFQUFVc0YsWUFBWXBGLEVBQUtQLEVBQUdPLEVBQUtOLEVBQUdNLEVBQUtMLEVBQUksS0FDL0NLLEVBQUtrRSxpQkFBaUJwRSxHQWtCdEMsU0FBUzJDLEVBQXdCeUQsRUFBS3hGLEdBQ2xDLE1BQU00QixFQUFjLEdBQ2Q2RCxFQUFTRCxFQUFJN0MsY0FDYitDLEVBQVdGLEVBQUkxQixnQkFDZjlFLEVBQUlxRixLQUFLQyxNQUFNbUIsRUFBT3pHLEVBQWtCLEdBQWIwRyxFQUFTMUcsR0FFcEN1RixFQUFVRixLQUFLQyxNQUFNbUIsRUFBTzFHLEVBQWtCLEdBQWIyRyxFQUFTM0csR0FDMUN5RixFQUFVSCxLQUFLQyxNQUFNbUIsRUFBT3hHLEVBQWtCLEdBQWJ5RyxFQUFTekcsR0FFaEQsSUFBSyxJQUFJRixFQUFJd0YsRUFBU3hGLEVBQUl3RixFQUFVbUIsRUFBUzNHLEVBQUdBLElBQzVDLElBQUssSUFBSUUsRUFBSXVGLEVBQVN2RixFQUFJdUYsRUFBVWtCLEVBQVN6RyxFQUFHQSxJQUFLLENBQ2pELE1BQU0wRyxFQUFhLElBQUk5RixHQUFHbUUsS0FBS2pGLEVBQUdDLEVBQUdDLEdBQ3JDMkMsRUFBWXpILEtBQUt3TCxHQUNqQixNQUFNbEIsRUFBb0J6RSxFQUFVUCxXQUFXSCxHQUFTQSxFQUFLb0YsWUFBWTNGLEVBQUdDLEVBQUdDLEtBQy9FLEdBQUl3RixHQUFxQixFQUFHLENBQ3hCLE1BQU1FLEVBQWUzRSxFQUFVM0YsT0FBT29LLEVBQW1CLEdBRXpELElBQUssTUFBTUcsS0FBZUQsRUFDdEIsSUFBSyxNQUFNckYsS0FBUXNGLEVBQVkxRixlQUMzQkksRUFBS3VGLGlCQUFpQkQsSUFTMUMsT0FBT2hELEVBdURYLFNBQVN1QixFQUFXRCxFQUFXMEMsR0FFM0IsTUFBTUMsRUFBWSxJQUFJaEcsR0FBR21FLEtBQUtkLEVBQVVuRSxFQUFJLEVBQUdtRSxFQUFVbEUsRUFBR2tFLEVBQVVqRSxFQUFJLEdBQ3BFNkcsRUFBUSxJQUFJakcsR0FBR21FLEtBQUtkLEVBQVVuRSxFQUFHbUUsRUFBVWxFLEVBQUdrRSxFQUFVakUsRUFBSSxHQUM1RDhHLEVBQVksSUFBSWxHLEdBQUdtRSxLQUFLZCxFQUFVbkUsRUFBSSxFQUFHbUUsRUFBVWxFLEVBQUdrRSxFQUFVakUsRUFBSSxHQUNwRStHLEVBQU8sSUFBSW5HLEdBQUdtRSxLQUFLZCxFQUFVbkUsRUFBSSxFQUFHbUUsRUFBVWxFLEVBQUdrRSxFQUFVakUsR0FDM0RnSCxFQUFZLElBQUlwRyxHQUFHbUUsS0FBS2QsRUFBVW5FLEVBQUksRUFBR21FLEVBQVVsRSxFQUFHa0UsRUFBVWpFLEVBQUksR0FDcEVpSCxFQUFRLElBQUlyRyxHQUFHbUUsS0FBS2QsRUFBVW5FLEVBQUdtRSxFQUFVbEUsRUFBR2tFLEVBQVVqRSxFQUFJLEdBQzVEa0gsRUFBWSxJQUFJdEcsR0FBR21FLEtBQUtkLEVBQVVuRSxFQUFJLEVBQUdtRSxFQUFVbEUsRUFBR2tFLEVBQVVqRSxFQUFJLEdBQ3BFbUgsRUFBTyxJQUFJdkcsR0FBR21FLEtBQUtkLEVBQVVuRSxFQUFJLEVBQUdtRSxFQUFVbEUsRUFBR2tFLEVBQVVqRSxHQUdqRSxTQUFLMkcsRUFBU3ZHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBT21HLE9BQ3pCM0MsRUFBVWhFLGVBQWVHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBT29HLE9BQ3pDNUMsRUFBVWhFLGVBQWVHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBTzBHLFFBTWxEUixFQUFTdkcsTUFBS2dILEdBQUtBLEVBQUUzRyxPQUFPcUcsT0FDekI3QyxFQUFVaEUsZUFBZUcsTUFBS2dILEdBQUtBLEVBQUUzRyxPQUFPb0csT0FDekM1QyxFQUFVaEUsZUFBZUcsTUFBS2dILEdBQUtBLEVBQUUzRyxPQUFPc0csUUFNbERKLEVBQVN2RyxNQUFLZ0gsR0FBS0EsRUFBRTNHLE9BQU91RyxPQUN6Qi9DLEVBQVVoRSxlQUFlRyxNQUFLZ0gsR0FBS0EsRUFBRTNHLE9BQU93RyxPQUN6Q2hELEVBQVVoRSxlQUFlRyxNQUFLZ0gsR0FBS0EsRUFBRTNHLE9BQU9zRyxRQU1sREosRUFBU3ZHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBT3lHLE9BQ3pCakQsRUFBVWhFLGVBQWVHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBT3dHLE9BQ3pDaEQsRUFBVWhFLGVBQWVHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBTzBHLE8sYUNoUzNELE1BQU0sTUFBRXhMLEdBQVUsRUFBUSxLQUduQixNQUFNMEwsVUFBcUIxTCxFQUM5QixTQUNJLE9BQU94SCxLQUFLNEgsVUFFaEIsa0JBQW9CLE1BQU8sZUFFM0IsWUFBWUgsR0FDUjBMLE1BQU1ELEVBQWFFLEtBQU0zTCxHQUc3QixVQUFVNEwsRUFBWUMsR0FDbEIsSUFBSyxNQUFNQyxLQUFldlQsS0FBS3dULEdBQzNCLEdBQUloVSxPQUFPa0YsZUFBZVMsS0FBS25GLEtBQUt3VCxHQUFJRCxHQUFjLENBQ2xELE1BQU1FLEVBQVd6VCxLQUFLd1QsR0FBR0QsR0FFekIsR0FBSS9ULE9BQU9rRixlQUFlUyxLQUFLc08sRUFBVUosR0FDckMsT0FBT0ksRUFBU0osR0FBWUssT0FBT3pDLEtBQUswQyxJQUFJTCxFQUFhLEVBQUcsSUFLeEUsTUFBTSxJQUFJblQsTUFBTSx3QkFBd0JrVCxHQUc1QyxrQkFBa0JBLEdBQ2QsSUFBSyxNQUFNRSxLQUFldlQsS0FBS3dULEdBQzNCLEdBQUloVSxPQUFPa0YsZUFBZVMsS0FBS25GLEtBQUt3VCxHQUFJRCxHQUFjLENBQ2xELE1BQU1FLEVBQVd6VCxLQUFLd1QsR0FBR0QsR0FDekIsR0FBSS9ULE9BQU9rRixlQUFlUyxLQUFLc08sRUFBVUosR0FDckMsT0FBT0UsRUFLbkIsTUFBTSxJQUFJcFQsTUFBTSxnQ0FBZ0NrVCxJQ3JDeEQsTUFBUTdMLE1BQUssR0FBSyxFQUFRLE1BRXBCLFFBQUVvTSxHQUFZLEVBQVEsS0FHckIsTUFBTUMsVUFBbUIsRUFDNUIsU0FDSSxPQUFPN1QsS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLGFBRTNCLGNBQ0ksTUFBTTRFLEVBQU1DLEdBQUdDLFlBQVlDLGlCQUVyQm1ILEVBRGF0SCxFQUFJdUgsT0FBT3ZPLElBQUksVUFBVXdPLFNBQ2RDLE1BQ3hCQyxFQUFlLElBQUlwRixJQUV6QixJQUFLLE1BQU1xRixLQUFXTCxFQUNsQixHQUFJdFUsT0FBT2tGLGVBQWVTLEtBQUsyTyxFQUFZSyxHQUFVLENBQ2pELE1BQU1DLEVBQW1CTixFQUFXSyxHQUM5QkUsRUFBWTdILEVBQUl1SCxPQUFPdk8sSUFBSTRPLEdBQWtCSixTQUVuREUsRUFBYXhFLElBQUl5RSxFQUFTRSxHQUlsQ2xCLE1BQU1VLEVBQVdULEtBQU1jLEdBR3ZCbFUsS0FBS3NVLGlCQUFjalQsRUFDbkJyQixLQUFLdVUsaUJBQWNsVCxFQUNuQnJCLEtBQUt3VSxpQkFBbUIsRUFDeEJ4VSxLQUFLeVUsa0JBQW9CLEdBRzdCLFFBQVFDLEdBQ0osT0FBSTFVLEtBQUt3VCxHQUFHbEssSUFBSW9MLEdBQ0wxVSxLQUFLd1QsR0FBR2hPLElBQUlrUCxRQUVuQixFQUlSLFFBQVFDLEVBQU1DLEdBQ1YsTUFBTUMsRUFBUUYsRUFBS0UsTUFDbkIsT0FBSXJWLE9BQU9rRixlQUFlUyxLQUFLMFAsRUFBT0QsR0FDM0JDLEVBQU1ELFFBRWIsRUFJUixRQUFRMUksRUFBTTRJLEdBQ1YsTUFBTUMsRUFBUTdJLEVBQUs2SSxNQUNuQixPQUFJRCxFQUFZQyxFQUFNblQsT0FDWG1ULEVBQU1ELFFBRWIsRUFJUixTQUFTRixHQUNMNVUsS0FBS3VVLFlBQWNLLEVBQ25CNVUsS0FBS3dVLGlCQUFtQixFQUc1QixrQkFBa0JFLEdBQ2QxVSxLQUFLc1UsWUFBY0ksRUFDbkIxVSxLQUFLdVUsWUFBYyxRQUNuQnZVLEtBQUt3VSxpQkFBbUIsRUFFeEIsTUFBTUcsRUFBTzNVLEtBQUtnVixRQUFRaFYsS0FBS3NVLGFBQy9CLElBQUtLLEVBQ0QsTUFBTXhVLE1BQU0sK0JBQStCSCxLQUFLc1UseUJBQzdDLElBQUt0VSxLQUFLaVYsUUFBUU4sRUFBTTNVLEtBQUt1VSxhQUNoQyxNQUFNcFUsTUFBTSxxREFBcUR1VSxHQUdyRSxPQUFPQyxFQUdYLHFCQUNJLE1BQU1BLEVBQU8zVSxLQUFLZ1YsUUFBUWhWLEtBQUtzVSxhQUN6QkMsRUFBY3ZVLEtBQUtpVixRQUFRTixFQUFNM1UsS0FBS3VVLGFBQ3RDVyxFQUFZbFYsS0FBS21WLGFBQWFaLEVBQWF2VSxLQUFLd1Usa0JBQ3RELEdBQUlVLEdBQWFBLEVBQVV2TCxLQUFNLENBQzdCLE1BQU15TCxFQUFnQnBWLEtBQUtxViwwQkFBMEJyVixLQUFLc1UsWUFBYXRVLEtBQUt1VSxZQUFhdlUsS0FBS3dVLGtCQUM5RnhVLEtBQUtzVixhQUFhRixHQUV0QixPQUFPRixFQUlYLDBCQUNJLE1BQU1QLEVBQU8zVSxLQUFLZ1YsUUFBUWhWLEtBQUtzVSxhQUN6QkMsRUFBY3ZVLEtBQUtpVixRQUFRTixFQUFNM1UsS0FBS3VVLGFBRTVDdlUsS0FBS3dVLG1CQUVMLE1BQU1VLEVBQVlsVixLQUFLbVYsYUFBYVosRUFBYXZVLEtBQUt3VSxrQkFDdEQsR0FBSVUsR0FBYUEsRUFBVXZMLEtBQU0sQ0FDN0IsTUFBTXlMLEVBQWdCcFYsS0FBS3FWLDBCQUEwQnJWLEtBQUtzVSxZQUFhdFUsS0FBS3VVLFlBQWF2VSxLQUFLd1Usa0JBQzlGeFUsS0FBS3NWLGFBQWFGLEdBRXRCLE9BQU9GLEVBR1gsYUFBYWhKLEVBQU00SSxHQUNmLElBQUlTLEVBQWdCdlYsS0FBS3dWLFFBQVF0SixFQUFNNEksR0FHdkMsR0FBSVMsRUFBZSxDQUNmLElBQUlFLEVBQWlCLEdBS3JCLEdBSklGLEVBQWNHLGFBQ2RELEVBQWlCQSxFQUFleFQsT0FBT3NULEVBQWNHLGFBR3JESCxFQUFjNUwsS0FBTSxDQUNwQixNQUFNeUwsRUFBZ0JwVixLQUFLMlYsa0NBQWtDM1YsS0FBS3NVLFlBQWF0VSxLQUFLdVUsWUFBYU8sR0FDakdXLEVBQWlCQSxFQUFleFQsT0FBT21ULEdBQ3ZDck4sUUFBUUMsSUFBSSxtQkFDWkQsUUFBUUMsSUFBSXlOLEdBR2hCLE9BQUl6VixLQUFLeVYsZUFBZUEsR0FDYkYsR0FFUHZWLEtBQUt3VSxpQkFBbUJNLEVBQVksRUFDN0I5VSxLQUFLbVYsYUFBYWpKLEVBQU1sTSxLQUFLd1UsbUJBSXhDLE9BQU9lLEVBSWYsMEJBQTBCYixFQUFRRSxFQUFRRSxHQUN0QyxNQUFPLEdBQUdKLElBQVNFLElBQVNFLElBR2hDLGtDQUFrQ0osRUFBUUUsRUFBUUUsR0FDOUMsTUFBTyxJQUFJSixJQUFTRSxJQUFTRSxJQUdqQyxhQUFhYyxHQUdULE9BRm9CNVYsS0FBSzZWLHFCQUNVQyxRQUFRRixHQUkvQyxhQUFhRyxJQUMwQyxJQUEvQy9WLEtBQUt5VSxrQkFBa0IzTixRQUFRaVAsSUFDL0IvVixLQUFLeVUsa0JBQWtCMU4sS0FBS2dQLEdBSXBDLGdCQUFnQkEsR0FDWixNQUFNL08sRUFBUWhILEtBQUt5VSxrQkFBa0IzTixRQUFRaVAsR0FDekMvTyxHQUFTLEdBQ1RoSCxLQUFLeVUsa0JBQWtCeE4sT0FBT0QsRUFBTyxHQUk3QyxlQUFlME8sR0FDWCxJQUFJTSxHQUFVLEVBRWQsSUFBSyxNQUFNRCxLQUFhTCxFQUFZLENBRWhDLE1BQU1PLEVBQWdCLEtBQ2hCQyxFQUFlSCxFQUFVSSxNQUFNRixHQUVyQyxHQUFJQyxFQUFhdFUsT0FBUyxFQUFHLENBRXpCLElBQUl3VSxHQUFZLEVBQ2hCLElBQUssTUFBTUMsS0FBcUJILEVBQ3hCbFcsS0FBS3NXLGVBQWVELEtBQ3BCRCxHQUFZLEdBR2hCSixJQUNBQSxFQUFVSSxRQUdWSixJQUNBQSxFQUFVaFcsS0FBS3NXLGVBQWVQLElBSzFDLE9BQU9DLEVBR1gsZUFBZUQsR0FDWCxJQUFJQyxHQUFVLEVBR2QsR0FBSUQsRUFBVVEsV0FBVyxLQUFNLENBQzNCLE1BQU1DLEVBQWlCVCxFQUFVclAsTUFBTSxFQUFHcVAsRUFBVW5VLFFBRWhENUIsS0FBS3lVLGtCQUFrQjNOLFFBQVEwUCxJQUFtQixJQUNsRFIsR0FBVSxRQUVYLEdBQUlELEVBQVVRLFdBQVcsS0FBTSxDQUNsQyxNQUFNQyxFQUFpQlQsRUFBVXJQLE1BQU0sRUFBR3FQLEVBQVVuVSxRQUNwRDVCLEtBQUtzVixhQUFha0IsR0FDbEJSLEdBQVUsT0FDUCxHQUFJRCxFQUFVUSxXQUFXLEtBQU0sQ0FDbEMsTUFBTUMsRUFBaUJULEVBQVVyUCxNQUFNLEVBQUdxUCxFQUFVblUsUUFDcEQ1QixLQUFLeVcsZ0JBQWdCRCxHQUNyQlIsR0FBVSxPQUV5QyxJQUEvQ2hXLEtBQUt5VSxrQkFBa0IzTixRQUFRaVAsS0FDL0JDLEdBQVUsR0FJbEIsT0FBT0EsR0N4TmYsTUFBUXhPLE1BQUssR0FBSyxFQUFRLE1BRXBCLFlBQUVrUCxHQUFnQixFQUFRLEtBR3pCLE1BQU1DLFVBQXVCLEVBQ2hDLFNBQ0ksT0FBTzNXLEtBQUs0SCxVQUVoQixrQkFBb0IsTUFBTyxpQkFFM0IsY0FDSXVMLE1BQU13RCxFQUFldkQsS0FBTSxJQUFJc0QsR0FHbkMscUJBQ0ksT0FBTzFXLEtBQUt3VCxHQUFHb0QsZUFHbkIsbUJBQW1CalgsR0FDZkssS0FBS3dULEdBQUdvRCxlQUFpQmpYLEVBRzdCLHFCQUNJLE9BQU9LLEtBQUt3VCxHQUFHcUQsZUFJbkIscUJBQXFCQyxFQUFVQyxHQUUzQixNQUFNQyxFQUFnQmhYLEtBQUs0VyxlQUFldkssV0FBVTRLLEdBQVFBLEVBQUtDLE9BQVNKLElBQ3BFSyxFQUFlblgsS0FBSzRXLGVBQWUzUCxPQUFPK1AsRUFBZSxHQUMvRCxJQUFJSSxFQUFvQixFQUNwQkMsRUFBVyxFQUNmLElBQUssSUFBSTFNLEVBQUksRUFBR0EsRUFBSTNLLEtBQUs0VyxlQUFlaFYsT0FBUStJLElBQUssQ0FDakQsTUFBTXNNLEVBQU9qWCxLQUFLNFcsZUFBZWpNLEdBRzdCb00sR0FBYUssR0FBcUJMLEVBQVlLLEVBQW9CSCxFQUFLSyxPQUN2RUQsRUFBVzFNLEdBR2Z5TSxHQUFxQkgsRUFBS0ssS0FROUIsR0FMSVAsR0FBYUssSUFDYkMsRUFBV3JYLEtBQUs0VyxlQUFlaFYsUUFJeUIsbUJBQXhEcEMsT0FBT3FCLFVBQVUwVyxTQUFTcFMsS0FBS25GLEtBQUs0VyxnQkFDcEMsTUFBTSxJQUFJelcsTUFBTSxnQ0FNcEIsSUFBS2dYLEVBQWF2VixPQUNkLE1BQU0sSUFBSXpCLE1BQU0sMENBQTRDNlcsR0FJaEVoWCxLQUFLNFcsZUFBZTNQLE9BQU9vUSxFQUFVLEVBQUdGLEVBQWEsSUFHekQseUJBQXlCSyxFQUFTQyxHQUU5QixJQUFpQixVQUFaRCxHQUFtQyxVQUFaQSxJQUEwQyxXQUFsQkMsRUFBU0MsS0FBbUIsQ0FDNUUsTUFBTUMsRUFBZTNYLEtBQUs2VyxlQUFlclIsSUFBSWdTLEdBUTdDLEdBTElHLEdBQTJDLFVBQTNCQSxFQUFhQyxZQUM3QjVYLEtBQUs2VyxlQUFlZ0IsT0FBTyxTQUMzQjdYLEtBQUs2VyxlQUFlZ0IsT0FBTyxVQUdKLFVBQXZCSixFQUFTRyxXQUdULEdBRkE1WCxLQUFLNlcsZUFBZW5ILElBQUk4SCxFQUFTQyxHQUVqQixVQUFaRCxFQUFxQixDQUNyQixNQUFNTSxFQUFZOVgsS0FBSzZXLGVBQWVyUixJQUFJLFNBQ3RDc1MsR0FBYUEsRUFBVVosT0FBU08sRUFBU1AsTUFDekNsWCxLQUFLNlcsZUFBZWdCLE9BQU8sY0FFNUIsR0FBZ0IsVUFBWkwsRUFBcUIsQ0FDNUIsTUFBTU0sRUFBWTlYLEtBQUs2VyxlQUFlclIsSUFBSSxTQUN0Q3NTLEdBQWFBLEVBQVVaLE9BQVNPLEVBQVNQLE1BQ3pDbFgsS0FBSzZXLGVBQWVnQixPQUFPLGVBTW5DN1gsS0FBSzZXLGVBQWVuSCxJQUFJLFFBQVMrSCxHQUNqQ3pYLEtBQUs2VyxlQUFlbkgsSUFBSSxRQUFTK0gsR0FJckMsT0FBTyxFQUdYLE9BQU8sRUFHWCxpQkFBaUJNLEdBQ2IvWCxLQUFLNFcsZUFBZTdQLEtBQUtnUixJQ3pHakMsTUFBUXZRLE1BQUssR0FBSyxFQUFRLEtBR25CLE1BQU13USxVQUFtQixFQUM1QixTQUNJLE9BQU9oWSxLQUFLNEgsVUFFaEIsa0JBQW9CLE1BQU8sYUFFM0IsWUFBWUgsR0FDUjBMLE1BQU02RSxFQUFXNUUsS0FBTTNMLEdBRzNCLFlBQVl3USxHQUNSLElBQUssTUFBTTFFLEtBQWV2VCxLQUFLd1QsR0FDM0IsR0FBSWhVLE9BQU9rRixlQUFlUyxLQUFLbkYsS0FBS3dULEdBQUlELEdBQWMsQ0FDbEQsTUFBTUUsRUFBV3pULEtBQUt3VCxHQUFHRCxHQUV6QixHQURBeEwsUUFBUUMsSUFBSXlMLEdBQ1JqVSxPQUFPa0YsZUFBZVMsS0FBS3NPLEVBQVV3RSxHQUVyQyxNQUFPLENBQ0hDLEdBQUlELEVBQ0pQLEtBQU1uRSxLQUNIdlQsS0FBS3dULEdBQUdELEdBQWEwRSxJQU14QyxNQUFNLElBQUk5WCxNQUFNLCtCQUErQjhYLElDdkJ2RCxNQUFRN1YsT0FBTSxHQUFLLEVBQVEsS0FFcEIsU0FBUytWLEVBQWUvWCxFQUFhVyxHQUl4QyxFQUFPSCxZQUFZUixHQUFhNEMsY0FBYyxJQUFJb1YsRUFBQSxHQUdsRCxNQUFNNUwsRUFBTUMsR0FBR0MsWUFBWUMsaUJBQzNCLEdBQUlILEVBQUssQ0FDTCxNQUFNNkwsRUFBYzdMLEVBQUl1SCxPQUFPdk8sSUFBSSxVQUFVd08sU0FDN0MsRUFBT3BULFlBQVlSLEdBQWE0QyxjQUFjLElBQUlrUSxFQUFhbUYsSUFDL0QsTUFBTUMsRUFBWTlMLEVBQUl1SCxPQUFPdk8sSUFBSSxVQUFVd08sU0FDM0MsRUFBT3BULFlBQVlSLEdBQWE0QyxjQUFjLElBQUlnVixFQUFXTSxJQUM3RCxFQUFPMVgsWUFBWVIsR0FBYTRDLGNBQWMsSUFBSTZRLEdBQ2xELEVBQU9qVCxZQUFZUixHQUFhNEMsY0FBYyxJQUFJMlQsR0FHbEQsRUFBTy9WLFlBQVlSLEdBQWEyRCxpQkFBaUJ3TSxFQUFBLHdCQUFvQyxTQUNyRixFQUFPM1AsWUFBWVIsR0FBYTJELGlCQUFpQndNLEVBQUEsd0JBQW9DLFlBQ3JGLEVBQU8zUCxZQUFZUixHQUFhMkQsaUJBQWlCd00sRUFBQSx3QkFBb0MsU0FDckYsRUFBTzNQLFlBQVlSLEdBQWEyRCxpQkFBaUJ3TSxFQUFBLHdCQUFvQyxhQUNyRixFQUFPM1AsWUFBWVIsR0FBYTJELGlCQUFpQndNLEVBQUEscUJBQWlDLFVBQVcsU0FDN0YsRUFBTzNQLFlBQVlSLEdBQWEyRCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxVQUFXLFVDOUJyRyxNQUFRbk8sT0FBTSxHQUFLLEVBQVEsS0FHcEIsU0FBU21XLEVBQW1CblksRUFBYVcsS0FBcUJVLEdBQ2pFLE1BQU0rSyxFQUFNQyxHQUFHQyxZQUFZQyxpQkFDckI2TCxFQUFZL1csRUFBSyxHQUNqQnlOLEVBQVd6TixFQUFLLEdBQ3RCc0csUUFBUUMsSUFBSSxrQkFBa0J3USxHQUc5QixNQUFNQyxFQUFlak0sRUFBSU0sS0FBSzRMLFdBQVcsUUFHbkNDLEVBQVFuTSxFQUFJb00sT0FBT0MsS0FBS0wsR0FHOUJoTSxFQUFJb00sT0FBT0UsbUJBQW1CSCxFQUFNSSxLQUFLLFNBQVVDLEVBQUtDLEdBQy9DRCxFQUtEalIsUUFBUW1SLE1BQU1GLEdBSlZQLEdBQ0FBLEVBQWFwSyxVQUtyQixFQUFPek4sWUFBWVIsR0FBYTJELGlCQUFpQndNLEVBQUEsd0JBQW9DaUksR0FDckYsRUFBTzVYLFlBQVlSLEdBQWEyRCxpQkFBaUJ3TSxFQUFBLGdCQUE0QmlJLEdBQzdFLEVBQU81WCxZQUFZUixHQUFhMkQsaUJBQWlCd00sRUFBQSw4QkFBMENyQixNQzFCNUYsU0FBU2lLLEVBQWFDLEdBQ3pCLElBQUlDLEVBQWVELEVBQU14WCxPQUNyQjBYLE9BQWlCalksRUFDakJrWSxHQUFlLEVBR25CLEtBQU8sSUFBTUYsR0FHVEUsRUFBY3RJLEtBQUt1SSxNQUFNdkksS0FBS3dJLFNBQVdKLEdBQ3pDQSxHQUFnQixFQUdoQkMsRUFBaUJGLEVBQU1DLEdBQ3ZCRCxFQUFNQyxHQUFnQkQsRUFBTUcsR0FDNUJILEVBQU1HLEdBQWVELEVBR3pCLE9BQU9GLEUsYUNsQlgsTUFBUTVSLE1BQUssR0FBSyxFQUFRLE1BSXBCLFNBQUVrUyxHQUFhLEVBQVEsS0FHdEIsTUFBTUMsVUFBb0IsRUFDN0IsU0FDSSxPQUFPM1osS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLGNBRTNCLFlBQVlnUyxFQUFjQyxHQUN0QjFHLE1BQU13RyxFQUFZdkcsS0FBTSxJQUFJc0csRUFBU0UsRUFBY0MsSUFHdkQsYUFDSSxNQUFNRCxFQUFlNVosS0FBS3dULEdBQUdvRyxhQUM3QjVaLEtBQUs4WixtQkFBcUIsSUFBSWhMLElBQzlCLElBQUssTUFBTWlMLEtBQWVILEVBQWMsQ0FDcEMsTUFBTUksRUFBbUJoYSxLQUFLc0gsT0FBT25FLGNBQWM4VyxFQUFBLE9BQTBCRixHQUM3RS9aLEtBQUs4WixtQkFBbUJwSyxJQUFJcUssRUFBYUMsSUFJakQsV0FDSSxNQUFNRSxFQUFrQmxhLEtBQUt3VCxHQUFHMEcsZ0JBRWhDLEdBQUlBLEdBQW1CQSxFQUFnQnRZLE9BQVMsRUFBRyxDQUMvQyxNQUFNdVksRUFBYUQsRUFBZ0JFLFFBR25DLEdBRkFwYSxLQUFLd1QsR0FBRzZHLGtCQUFvQkYsRUFFVCxjQUFmQSxFQUE0QixDQUU1Qm5hLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSxxQkFBaUMsUUFBUTRKLEdBQ3RFLE1BQU1sWCxFQUFRakQsS0FBSzhaLG1CQUFtQnRVLElBQUkyVSxHQUMxQ2xYLEVBQU1xWCx1QkFFRnJYLEVBQU1zWCxNQUNOdmEsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLDhCQUEwQzRKLEdBRXZFbmEsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLDRCQUF3QzRKLFFBSXpFbmEsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxhQUM5RGlLLFlBQVcsS0FDUHhhLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSx1QkFDOUIsTUFLZixZQUNJeEksUUFBUUMsSUFBSSxxQkFDWkQsUUFBUUMsSUFBSSxxQkFDWkQsUUFBUUMsSUFBSSxxQkFDWixNQUFNeVMsRUFBYyxHQUNwQixJQUFLLE1BQU9DLEVBQWF6WCxLQUFVakQsS0FBSzhaLG1CQUFtQmEsVUFBVyxDQUNsRSxNQUFNbkgsRUFBS3ZRLEVBQU11USxHQUNqQixJQUFLLElBQUk3SSxFQUFJLEVBQUdBLEVBQUk2SSxFQUFHb0gsV0FBWWpRLElBQy9COFAsRUFBWTFULEtBQUsyVCxHQUl6QixHQUEyQixJQUF2QkQsRUFBWTdZLE9BR1osWUFEQTVCLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSxjQUtqQ2tLLEVBQVkxVCxLQUFLLGFBRWpCLElBQUk4VCxFQUFxQjFCLEVBQWFzQixHQUV0QyxLQUFpQyxjQUExQkksRUFBbUIsSUFDdEJBLEVBQXFCMUIsRUFBYTBCLEdBR3RDN2EsS0FBS3dULEdBQUcwRyxnQkFBa0JXLEVBRzlCLDBCQUNJLE9BQU83YSxLQUFLd1QsR0FBR3NILG9CQUduQix3QkFDSSxPQUFPOWEsS0FBS3dULEdBQUc2RyxrQkFHbkIsc0JBQXNCMWEsR0FDbEJLLEtBQUt3VCxHQUFHNkcsa0JBQW9CMWEsRUFHaEMsbUJBQ0ksT0FBT0ssS0FBS3dULEdBQUdvRyxhQUduQixZQUNJLE9BQU81WixLQUFLd1QsR0FBR3FHLE1BR25CLDBCQUEwQmEsR0FFdEIxYSxLQUFLOFosbUJBQW1CakMsT0FBTzZDLEdBRS9CMWEsS0FBS3dULEdBQUcwRyxnQkFBa0JsYSxLQUFLd1QsR0FBRzBHLGdCQUFnQmEsUUFBT0MsR0FBS0EsSUFBTU4sSUFFcEUsSUFBSyxNQUFPM2EsRUFBS2tiLEtBQVNqYixLQUFLNlosTUFBTWMsVUFBVyxDQUU1QyxNQUFNTyxFQUFpQkQsRUFBS25VLFFBQVE0VCxHQUNoQ1EsR0FBa0IsR0FDbEJELEVBQUtoVSxPQUFPaVUsRUFBZ0IsR0FHWixJQUFoQkQsRUFBS3JaLFFBQ0w1QixLQUFLc0gsT0FBT3ZELGlCQUFpQndNLEVBQUEsYUFBeUJ4USxLLGFDdEh0RSxNQUFRcUMsT0FBTSxHQUFLLEVBQVEsS0FPcEIsU0FBUytZLEVBQW1CL2EsRUFBYVcsS0FBcUJVLEdBQ2pFLE1BQU0yWixFQUF5QjNaLEVBQUssR0FDOUI2RixFQUFTLEVBQU8xRyxZQUFZUixHQUNsQ2tILEVBQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxnQkFFbENqSixFQUFPbkUsY0FBY2lWLEVBQUEsUUFDN0JpRCxvQkFBb0IsRUFBQUMsa0JBQUEsUUFFbkMsTUFBTUMsRUFBNEJqVSxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJtQixHQUNqRjlULEVBQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQyxVQUFXZ0wsR0FJekUsTUFBTTFCLEVBQVEsSUFBSS9LLElBQ1owTSxFQUFhLENBQUMsVUFDcEIzQixFQUFNbkssSUFBSSxjQUFlOEwsR0FFekIsTUFBTUMsRUFBZSxDQUFDTCxHQUF3Qm5aLE9BQU9zWixFQUEwQkcsYUFBYVgsUUFBTyxTQUFVOUQsRUFBTTBFLEVBQUtDLEdBQ3BILE9BQU9BLEVBQUs5VSxRQUFRbVEsSUFBUzBFLEtBRWpDOUIsRUFBTW5LLElBQUksZ0JBQWlCK0wsR0FFM0IsTUFBTTdCLEVBQWU0QixFQUFXdlosT0FBT3daLEdBR2pDSSxFQUFjdlUsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCLFVBRW5FLElBQUssTUFBTUYsS0FBZUgsRUFDdEJ0UyxFQUFPdkQsaUJBQWlCd00sRUFBQSxlQUE0QndKLEdBQ2hDLFdBQWhCQSxFQUNBelMsRUFBT3ZELGlCQUFpQndNLEVBQUEsb0JBQWlDd0osRUFBYThCLEVBQVl0SCxhQUVsRmpOLEVBQU92RCxpQkFBaUJ3TSxFQUFBLG9CQUFpQ3dKLEVBQWF3QixFQUEwQmhILGFBS3hHLE1BQU11SCxFQUFjLElBQUluQyxFQUFZQyxFQUFjQyxHQUNsRHZTLEVBQU90RSxjQUFjOFksR0FFckJ0QixZQUFXLEtBQ1BsVCxFQUFPdkQsaUJBQWlCd00sRUFBQSx1QkFDekIsS0NqRFAsTUFBUW5PLE9BQU0sR0FBSyxFQUFRLEtBTXBCLFNBQVMyWixFQUFzQjNiLEVBQWFXLEtBQXFCVSxHQUNwRSxNQUFNNkYsRUFBUyxFQUFPMUcsWUFBWVIsR0FFNUI0YixFQUFZMVUsRUFBT25FLGNBQWNpVixFQUFBLFFBQ2pDMEQsRUFBY3hVLEVBQU9uRSxjQUFjd1csRUFBWXZHLE1BRWpENEksRUFBVXhJLEdBQUd5SSxlQUFpQixFQUFBWCxrQkFBQSxRQUM5QlEsRUFBWUksV0NicEIsTUFBUTlaLE9BQU0sR0FBSyxFQUFRLEtBTXBCLFNBQVMrWixFQUF1Qi9iLEVBQWFXLEtBQXFCVSxHQUNyRSxNQUFNNkYsRUFBUyxFQUFPMUcsWUFBWVIsR0FFNUI0YixFQUFZMVUsRUFBT25FLGNBQWNpVixFQUFBLFFBQ2pDMEQsRUFBY3hVLEVBQU9uRSxjQUFjd1csRUFBWXZHLE1BRWpENEksRUFBVXhJLEdBQUd5SSxlQUFpQixFQUFBWCxrQkFBQSxTQUM5QlEsRUFBWU0sWUFDWjlVLEVBQU92RCxpQkFBaUJ3TSxFQUFBLG1CQUErQnVMLEVBQVl0SSxHQUFHc0gsc0JDZDlFLE1BQVExWSxPQUFNLEdBQUssRUFBUSxLQUlwQixTQUFTaWEsRUFBcUJqYyxFQUFhVyxLQUFxQlUsR0FDbkUrWSxZQUFXLEtBQ1AsTUFBTWxULEVBQVMsRUFBTzFHLFlBQVlSLEdBQzVCMGIsRUFBY3hVLEVBQU9uRSxjQUFjd1csRUFBWXZHLE1BQ3JEOUwsRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQ3hCakosRUFBT3ZELGlCQUFpQndNLEVBQUEsbUJBQStCdUwsRUFBWWhCLHVCQUNwRSxLQ1ZBLE1BQU13QixFQUNULHFCQUF1QixPQUFPLEVBQzlCLHFCQUF1QixPQUFPLEVBQzlCLHFCQUF1QixPQUFPLEVBQzlCLG1CQUFxQixPQUFPLEcsYUNEekIsTUFBTUMsRUFDVCxZQUFZQyxHQUNSeGMsS0FBS3ljLFdBQVdELEdBR3BCLFdBQVdBLEdBQ1B4YyxLQUFLa1ksSUFBSyxTQUNWbFksS0FBS3djLFNBQVdBLEdBQVksR0FHaEMsUUFBUUUsR0FFSjFjLEtBQUsyYyxPQUFPRCxHQUdQQSxFQUFLRSxXQUFXcFgsSUFBSSxTQUFVa1gsRUFBSy9ILEtBQUt1RCxHQUFJbFksS0FBS2tZLEtBQ2xEbFksS0FBSzZjLE1BQU1ILEdBSWYsTUFBTUksRUFBUzljLEtBQUsrYyxNQUFNTCxHQVUxQixPQVBJSSxJQUFXUixFQUFnQlUsU0FDM0JoZCxLQUFLaWQsT0FBT1AsR0FJaEIxYyxLQUFLa2QsTUFBTVIsR0FFSkksRUFHWCxPQUFPSixHQUNIQSxFQUFLUyxVQUFVbmQsTUFDZkEsS0FBS29kLE1BQU1WLEdBR2YsTUFBTUEsR0FDRkEsRUFBS1csU0FBU3JkLE1BQ2QwYyxFQUFLRSxXQUFXbE4sSUFBSSxVQUFVLEVBQU1nTixFQUFLL0gsS0FBS3VELEdBQUlsWSxLQUFLa1ksSUFDdkRsWSxLQUFLc2QsS0FBS1osR0FHZCxNQUFNQSxHQUVGLE9BREFBLEVBQUthLFNBQVN2ZCxNQUNQQSxLQUFLMGMsS0FBS0EsR0FHckIsT0FBT0EsR0FDSEEsRUFBS2MsVUFBVXhkLE1BQ2YwYyxFQUFLRSxXQUFXbE4sSUFBSSxVQUFVLEVBQU9nTixFQUFLL0gsS0FBS3VELEdBQUlsWSxLQUFLa1ksSUFDeERsWSxLQUFLeWQsTUFBTWYsR0FHZixNQUFNQSxHQUNGQSxFQUFLZ0IsU0FBUzFkLE1BQ2RBLEtBQUsyZCxLQUFLakIsR0FJZCxNQUFNQSxJQUNOLEtBQUtBLElBQ0wsS0FBS0EsR0FBUSxPQUFPSixFQUFnQnNCLE1BQ3BDLE1BQU1sQixJQUNOLEtBQUtBLEtDakVGLE1BQU1tQixVQUFtQnRCLEVBQzVCLEtBQUtHLEdBQ0QsSUFBSyxNQUFNb0IsS0FBYTlkLEtBQUt3YyxTQUN6QnNCLEVBQVVDLFFBQVFyQixHQUd0QixPQUFPSixFQUFnQjBCLFNDVHhCLE1BQU1DLEVBQ1QsY0FDSWplLEtBQUtrZSxhQUdULGFBQ0lsZSxLQUFLbWUsV0FBYSxHQUNsQm5lLEtBQUtvZSxXQUFhLEdBR3RCLGNBQWNDLEdBT1YsT0FOS3JlLEtBQUtvZSxXQUFXQyxLQUNqQnJlLEtBQUtvZSxXQUFXQyxHQUFhLENBQ3pCQyxXQUFZLEdBQ1pDLFVBQVcsS0FHWnZlLEtBQUtvZSxXQUFXQyxHQUczQixjQUFjRCxFQUFZSSxHQUN0QixNQUFNQyxFQUFTTCxFQUF1QixXQUt0QyxPQUpLSyxFQUFPL1osZUFBZThaLEtBQ3ZCQyxFQUFPRCxHQUFhLElBR2pCQyxFQUFPRCxHQUdsQixVQUFVSCxFQUFXRyxHQUNqQixJQUFJQyxFQUFTemUsS0FBS21lLFdBVWxCLE9BUklFLElBQ0FJLEVBQVN6ZSxLQUFLMGUsY0FBY0wsR0FFeEJHLElBQ0FDLEVBQVN6ZSxLQUFLMmUsY0FBY0YsRUFBUUQsS0FJckNDLEVBR1gsSUFBSTFlLEVBQUtKLEVBQU8wZSxFQUFXRyxHQUNSeGUsS0FBSzRlLFVBQVVQLEVBQVdHLEdBQ2xDemUsR0FBT0osRUFHbEIsSUFBSUksRUFBS3NlLEVBQVdHLEdBRWhCLE9BRGV4ZSxLQUFLNGUsVUFBVVAsRUFBV0csR0FDM0J6ZSxJQ2xEZixNQUFNOGUsRUFDVCxjQUNJN2UsS0FBS2tlLGFBR1QsYUFDSWxlLEtBQUsyVSxVQUFPdFQsRUFDWnJCLEtBQUt1ZSxVQUFZLEdBQ2pCdmUsS0FBSzhlLFVBQVksRUFDakI5ZSxLQUFLTyxXQUFRYyxFQUNickIsS0FBSytlLFlBQVMxZCxFQUNkckIsS0FBSzRjLGdCQUFhdmIsRUFHdEIsVUFBVTZLLEdBQ05sTSxLQUFLOGUsWUFDTDllLEtBQUt1ZSxVQUFVeFgsS0FBS21GLEdBR3hCLFNBQVNBLElBSVQsU0FBU0EsSUFJVCxVQUFVQSxHQUNObE0sS0FBS3VlLFVBQVVTLE1BR25CLFNBQVM5UyxLQzdCTixNQUFNK1MsRUFDVCxZQUFZL0csR0FDUmxZLEtBQUtrZSxXQUFXaEcsR0FHcEIsV0FBV0EsR0FDUGxZLEtBQUtrWSxHQUFLQSxFQUNWbFksS0FBSzhNLFVBQU96TCxFQUdoQixLQUFLMGQsRUFBUW5DLEdBRVQsTUFBTUYsRUFBTyxJQUFJbUMsRUFDakJuQyxFQUFLcUMsT0FBU0EsRUFDZHJDLEVBQUtFLFdBQWFBLEVBQ2xCRixFQUFLL0gsS0FBTzNVLEtBR1pBLEtBQUs4TSxLQUFLaVIsUUFBUXJCLEdBR2xCLE1BQU13QyxFQUFnQnRDLEVBQVdwWCxJQUFJLFlBQWF4RixLQUFLa1ksS0FBTyxHQUN4RGlILEVBQWdCekMsRUFBSzZCLFVBQVU3WCxNQUFNLEdBRzNDLElBQUkwWSxFQUFRLEVBQ1osSUFBSyxJQUFJelUsRUFBSSxFQUFHQSxFQUFJc0csS0FBSzBDLElBQUl1TCxFQUFjdGQsT0FBUXVkLEVBQWN2ZCxVQUM3RHdkLEVBQVF6VSxFQUFJLEVBQ1J1VSxFQUFjdlUsS0FBT3dVLEVBQWN4VSxJQUYrQkEsS0FRMUUsSUFBSyxJQUFJQSxFQUFJdVUsRUFBY3RkLE9BQVMsRUFBRytJLEdBQUt5VSxFQUFPelUsSUFDL0N1VSxFQUFjdlUsR0FBRzhTLE1BQU1mLEdBSTNCRSxFQUFXbE4sSUFBSSxZQUFheVAsRUFBZW5mLEtBQUtrWSxJQUNoRDBFLEVBQVdsTixJQUFJLFlBQWFnTixFQUFLb0MsVUFBVzllLEtBQUtrWSxLQ3ZDbEQsTUFBTW1ILEVBQ1QsWUFBWW5ILEdBQ1JsWSxLQUFLa1ksR0FBSyxpQkFDVmxZLEtBQUs0YyxXQUFhLElBQUlxQixFQUN0QmplLEtBQUsyVSxLQUFPLElBQUlzSyxFQUFjL0csR0FFOUJsWSxLQUFLa2UsYUFHVCxjQUlBLFlBQVk1VyxFQUFRb1QsR0FDaEIxYSxLQUFLNGMsV0FBV2xOLElBQUksU0FBVXBJLEdBQVEsR0FBTyxHQUM3Q3RILEtBQUs0YyxXQUFXbE4sSUFBSSxjQUFlZ0wsRUFBYTFhLEtBQUsyVSxLQUFLdUQsSUFBSSxHQUU5RGxZLEtBQUsyVSxLQUFLK0gsS0FBSzFjLEtBQU1BLEtBQUs0YyxhQ2pCM0IsTUFBTTBDLFVBQWlCL0MsRUFDMUIsS0FBS0csR0FDRCxJQUFLLE1BQU02QyxLQUFTdmYsS0FBS3djLFNBQVUsQ0FDL0IsTUFBTU0sRUFBU3lDLEVBQU14QixRQUFRckIsR0FFN0IsR0FBSUksSUFBV1IsRUFBZ0JrRCxRQUMzQixPQUFPMUMsRUFJZixPQUFPUixFQUFnQmtELFNDVnhCLE1BQU1DLFVBQTBCbEQsRUFDbkMsS0FBS0csR0FFRCxPQURBQSxFQUFLRSxXQUFXbE4sSUFBSSxTQUFVLFNBQVVnTixFQUFLL0gsS0FBS3VELElBQUksR0FDL0NvRSxFQUFnQjBCLFNDRnhCLE1BQU0wQixXQUEwQm5ELEVBQ25DLEtBQUtHLEdBQ0QsTUFBTXBWLEVBQVNvVixFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDOUNtYSxFQUFhakQsRUFBS0UsV0FBV3BYLElBQUksY0FBZWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUM5RDBILEVBQWFsRCxFQUFLRSxXQUFXcFgsSUFBSSxTQUFVa1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBRS9ELE9BREE1USxFQUFPdkQsaUJBQWlCd00sRUFBQSxpQkFBNkJvUCxFQUFZQyxHQUMxRHRELEVBQWdCMEIsU0NOeEIsTUFBTTZCLFdBQXNCdEQsRUFDL0IsS0FBS0csR0FJRCxPQUhlQSxFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDN0N6QixpQkFBaUJ3TSxFQUFBLG1CQUVqQitMLEVBQWdCMEIsU0NMeEIsTUFBTThCLFdBQTZCdkQsRUFDdEMsS0FBS0csR0FDRCxNQUFNcFYsRUFBU29WLEVBQUtFLFdBQVdwWCxJQUFJLFVBQVUsR0FBTyxHQUM5Q2tWLEVBQWNnQyxFQUFLRSxXQUFXcFgsSUFBSSxjQUFla1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBS3JFLE9BSHVCNVEsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCUyxHQUduRHFGLGtCQUFvQixFQUM1QnpELEVBQWdCMEIsUUFFaEIxQixFQUFnQmtELFNDWDVCLE1BQU1RLFdBQXVCekQsRUFDaEMsS0FBS0csR0FDRCxNQUFNcFYsRUFBU29WLEVBQUtFLFdBQVdwWCxJQUFJLFVBQVUsR0FBTyxHQUM5Q2tWLEVBQWNnQyxFQUFLRSxXQUFXcFgsSUFBSSxjQUFla1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBRy9EK0gsRUFEaUIzWSxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJTLEdBQzFCbkcsWUFTNUMsT0FQb0JqTixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIsVUFDcEMxRixZQUNHekksZUFHQUcsTUFBS2dILEdBQUtBLEVBQUUzRyxPQUFPMlQsS0FHMUMzRCxFQUFnQjBCLFFBRWhCMUIsRUFBZ0JrRCxTQ25CNUIsTUFBTVUsV0FBb0IzRCxFQUM3QixLQUFLRyxHQUNEQSxFQUFLRSxXQUFXbE4sSUFBSSxlQUFnQixFQUFHZ04sRUFBSy9ILEtBQUt1RCxHQUFJbFksS0FBS2tZLElBRzlELEtBQUt3RSxHQUdELElBQUssSUFBSS9SLEVBRksrUixFQUFLRSxXQUFXcFgsSUFBSSxlQUFnQmtYLEVBQUsvSCxLQUFLdUQsR0FBSWxZLEtBQUtrWSxJQUVqRHZOLEVBQUkzSyxLQUFLd2MsU0FBUzVhLE9BQVErSSxJQUFLLENBQy9DLElBQUltUyxFQUFTOWMsS0FBS3djLFNBQVM3UixHQUFHb1QsUUFBUXJCLEdBRXRDLEdBQUlJLElBQVdSLEVBQWdCMEIsUUFJM0IsT0FISWxCLElBQVdSLEVBQWdCVSxTQUMzQk4sRUFBS0UsV0FBV2xOLElBQUksZUFBZ0IvRSxFQUFHK1IsRUFBSy9ILEtBQUt1RCxHQUFJbFksS0FBS2tZLElBRXZENEUsRUFJZixPQUFPUixFQUFnQjBCLFNDbkJ4QixNQUFNbUMsV0FBaUI1RCxFQUMxQixLQUFLRyxHQUdELE1BQU02QyxFQUFRdmYsS0FBS3djLFNBQVMsR0FFNUIsSUFBSytDLEVBQ0QsT0FBT2pELEVBQWdCc0IsTUFHM0IsSUFBSWQsRUFBU3lDLEVBQU14QixRQUFRckIsR0FPM0IsT0FMSUksR0FBVVIsRUFBZ0IwQixRQUMxQmxCLEVBQVNSLEVBQWdCa0QsUUFDcEIxQyxHQUFVUixFQUFnQmtELFVBQy9CMUMsRUFBU1IsRUFBZ0IwQixTQUV0QmxCLEdDaEJSLE1BQU1zRCxXQUFxQjdELEVBQzlCLEtBQUtHLEdBQ0QsTUFBTXBWLEVBQVNvVixFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDOUM2YSxFQUFXM0QsRUFBS0UsV0FBV3BYLElBQUksU0FBVWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUs3RCxPQUZvQjVRLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQm9HLEdBRW5EQyxPQUNMaEUsRUFBZ0IwQixRQUVoQjFCLEVBQWdCa0QsU0NUNUIsTUFBTWUsV0FBMEJoRSxFQUNuQyxLQUFLRyxHQUNELE1BQU1wVixFQUFTb1YsRUFBS0UsV0FBV3BYLElBQUksVUFBVSxHQUFPLEdBQzlDa1YsRUFBY2dDLEVBQUtFLFdBQVdwWCxJQUFJLGNBQWVrWCxFQUFLL0gsS0FBS3VELElBQUksR0FDL0RtSSxFQUFXM0QsRUFBS0UsV0FBV3BYLElBQUksU0FBVWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUV2RHNJLEVBQWlCbFosRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCUyxHQUNoRXVGLEVBQXVCTyxFQUFlak0sWUFLdENrTSxFQUpjblosRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCb0csR0FDN0I5TCxZQUNHekksZUFFWGlQLFFBQU83TyxJQUFTQSxFQUFLSCxXQUduRCxHQUFJMFUsRUFBTzdlLE9BQVMsRUFBRyxDQUVuQixJQUFJc0ssRUFBT3VVLEVBQU9DLFFBQU8sQ0FBQ0MsRUFBR3RjLElBQU11YyxHQUFhWCxFQUFzQlUsR0FBS0MsR0FBYVgsRUFBc0I1YixHQUFLc2MsRUFBSXRjLElBRXZILE1BQU13YyxFQUFPMVEsRUFBQSxnQkFBb0I4UCxFQUFzQi9ULEdBQ3ZELEdBQUkyVSxHQUFRQSxFQUFLamYsT0FBUyxFQUFHLENBRXpCLE1BQU00UixFQUFLZ04sRUFBZWhOLEdBQzFCLEtBQU9xTixFQUFLamYsT0FBUzRSLEVBQUd1TSxtQkFDcEJjLEVBQUt6RyxRQUlUOVMsRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQW1DbUssRUFBYW1HLEdBQ3hFTCxFQUFlak0sWUFBY3JJLEdBUXJDLE9BRkFzVSxFQUFlVCxrQkFBb0IsRUFFNUJ6RCxFQUFnQjBCLFNBSS9CLFNBQVM0QyxHQUFhRSxFQUFJQyxHQUN0QixPQUFPOVAsS0FBSytQLElBQUlELEVBQUdwVixFQUFJbVYsRUFBR25WLEVBQUcsR0FBS3NGLEtBQUsrUCxJQUFJRCxFQUFHblYsRUFBSWtWLEVBQUdsVixFQUFHLEdDNUNyRCxNQUFNcVYsV0FBZTFFLEVBQ3hCLEtBQUtHLEdBQ0QsTUFBTXBWLEVBQVNvVixFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDOUNrVixFQUFjZ0MsRUFBS0UsV0FBV3BYLElBQUksY0FBZWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUtyRSxPQUZvQjVRLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQlMsR0FFbkQ0RixPQUNMaEUsRUFBZ0IwQixRQUVoQjFCLEVBQWdCa0QsU0NWNUIsTUFBTTBCLFdBQTRCM0UsRUFDckMsS0FBS0csR0FDRCxNQUFNcFYsRUFBU29WLEVBQUtFLFdBQVdwWCxJQUFJLFVBQVUsR0FBTyxHQUM5Q2tWLEVBQWNnQyxFQUFLRSxXQUFXcFgsSUFBSSxjQUFla1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBR3JFLE9BRnVCNVEsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCUyxHQUVuRHlHLGlCQUFtQixFQUMzQjdFLEVBQWdCMEIsUUFHaEIxQixFQUFnQmtELFNDWDVCLE1BQU00QixXQUFpQzdFLEVBQzFDLEtBQUtHLEdBQ0QsTUFBTXBWLEVBQVNvVixFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDOUNrVixFQUFjZ0MsRUFBS0UsV0FBV3BYLElBQUksY0FBZWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUtyRSxPQUp1QjVRLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQlMsR0FFdkRxRixrQkFBb0IsRUFFNUJ6RCxFQUFnQjBCLFNDSXhCLE1BQU1xRCxXQUF1QmhDLEVBRWhDLGNBQ0lsTSxNQUFNLGtCQUdWLGFBQ0luVCxLQUFLMlUsS0FBSzdILEtBQU8sSUFBSStRLEVBQVcsQ0FDNUIsSUFBSXlCLEVBQ0EsQ0FDSSxJQUFJWSxHQUFZLENBQ1osSUFBSVQsRUFDSixJQUFJVSxHQUFTLENBQUMsSUFBSWMsS0FDbEIsSUFBSWQsR0FBUyxDQUFDLElBQUlDLEtBQ2xCLElBQUlkLEVBQVMsQ0FDVCxJQUFJWSxHQUFZLENBQ1osSUFBSUYsR0FDSixJQUFJa0IsR0FDSixJQUFJekIsRUFDSixJQUFJQyxHQUNKLElBQUkwQixLQUVSLElBQUlsQixHQUFZLENBQ1osSUFBSUosR0FDSixJQUFJTCxFQUNKLElBQUljLFNBS2hCLElBQUlWLFFDOUN4QixNQUFRemQsT0FBTSxJQUFLLEVBQVEsS0FVcEIsU0FBU2tmLEdBQWlCbGhCLEVBQWFXLEtBQXFCVSxHQUMvRCxNQUFNOGYsRUFBVTlmLEVBQUssR0FDZjZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBSTVCb2hCLEdBSGVsYSxFQUFPbkUsY0FBY21OLEVBQUEsUUFFdkJoSixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJzSCxHQUM5QmhOLGFBRWhCak4sRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCLFVBQ3BDMUYsWUFDR3pJLGVBR0FHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBT2tWLE1BRTlCLElBQUlILElBQ1pJLFlBQVluYSxFQUFRaWEsRyxjQ25CaEMsU0FBU0csR0FBb0J0aEIsRUFBYVcsS0FBcUJVLEdBQ2xFLE1BQU02RixFQUFTLEdBQUFsRixPQUFBLFlBQW1CaEMsR0FDNUJ1aEIsRUFBaUJyYSxFQUFPbkUsY0FBY2lWLEVBQUEsUUFDdEN3SixFQUFldGEsRUFBT25FLGNBQWNtTixFQUFBLFFBR3BDcEUsRUFBT3pLLEVBQUssR0FFZG1nQixFQUFhQyxhQUFhM1YsS0FDdEJ5VixFQUFlRyxjQUFnQixFQUFBeEcsa0JBQUEsWUFDL0JoVSxFQUFPdkQsaUJBQWlCd00sRUFBQSx1QkFBb0MsU0FBVXJFLEdBQy9EeVYsRUFBZUcsY0FBZ0IsRUFBQXhHLGtCQUFBLFFBRUEsV0FEbEJoVSxFQUFPbkUsY0FBY3dXLEVBQVl2RyxNQUNyQ2lILG1CQUNaL1MsRUFBT3ZELGlCQUFpQndNLEVBQUEsMEJBQXNDLFNBQVVyRSxJQ3JCeEYsTUFBUTlKLE9BQU0sSUFBSyxFQUFRLEtBS3BCLFNBQVMyZixHQUE0QjNoQixFQUFhVyxLQUFxQlUsR0FDMUUsTUFBTTZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBQzVCOFgsRUFBS3pXLEVBQUssR0FDVnVnQixFQUFhdmdCLEVBQUssR0FFbEJ3Z0IsRUFBcUIzYSxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIvQixHQUNwRTFFLEVBQUt5TyxFQUFtQnpPLEdBQ3hCME8sRUFBZ0IvUixFQUFBLHFCQUF5QnFELEVBQUdlLFlBQWFmLEVBQUd1TSxtQkFFbEUsSUFBSyxNQUFNN1QsS0FBUWdXLEVBQ1hoVyxFQUFLSSxPQUFPMFYsSUFDWkcsR0FBZ0I3YSxFQUFRMmEsRUFBb0JELEdBS3hELFNBQVNHLEdBQWdCN2EsRUFBUWtaLEVBQWdCd0IsR0FDN0MsTUFBTXhPLEVBQUtnTixFQUFlaE4sR0FDcEJxTixFQUFPMVEsRUFBQSxnQkFBb0JxRCxFQUFHZSxZQUFheU4sR0FDN0NuQixHQUFRQSxFQUFLamYsT0FBUyxJQUN0QjRSLEVBQUd1TSxtQkFBc0JjLEVBQUtqZixPQUFTLEVBQ3ZDNGUsRUFBZWpNLFlBQWN5TixFQUM3QjFhLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHNCQUN4QmpKLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHNCQUFtQ2lELEVBQUcwRSxHQUFJMkksSUM1Qm5FLFNBQVN1QixHQUF3QmhpQixFQUFhVyxLQUFxQlUsR0FDdEUsTUFBTTRnQixFQUFnQjVnQixFQUFLLEdBQ3JCK0ssRUFBTUMsR0FBR0MsWUFBWUMsaUJBQ3JCMlYsRUFBb0I5VixFQUFJdUgsT0FBT3ZPLElBQUksVUFDbkMrYyxFQUFZL1YsRUFBSU0sS0FBSzRMLFdBQVcsZ0JBRXRDLElBQUssTUFBTXhNLEtBQVFtVyxFQUFlLENBQzlCLE1BQU1HLEVBQU9GLEVBQWtCdE8sU0FBU3lPLGNBQ3hDRCxFQUFLRSxpQkFBaUJ4VyxFQUFLUCxFQUFHTyxFQUFLTixFQUFHTSxFQUFLTCxHQUMzQzBXLEVBQVVJLFNBQVNILElDUHBCLFNBQVNJLEdBQXdCeGlCLEVBQWFXLEtBQXFCVSxHQUN0RSxNQUNNb2hCLEVBRE1wVyxHQUFHQyxZQUFZQyxpQkFDTUcsS0FBS0MsVUFBVSxpQkFDaEQsSUFBSyxNQUFNK1YsS0FBc0JELEVBQzdCQyxFQUFtQnpVLFVDRHBCLFNBQVMwVSxHQUE4QjNpQixFQUFhVyxLQUFxQlUsR0FDNUUsTUFBTWlaLEVBQWNqWixFQUFLLEdBQ25CNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBRzVCb1QsRUFEaUJsTSxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJTLEdBQzVDbEgsR0FDcEIwTyxFQUFnQi9SLEVBQUEscUJBQXlCcUQsRUFBR2UsWUFBYWYsRUFBR3VNLG1CQUVsRXpZLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQzJSLEdDTnRELFNBQVNjLEdBQW1CNWlCLEVBQWFXLEtBQXFCVSxHQUNqRSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCOFgsRUFBS3pXLEVBQUssR0FDVndoQixFQUFVeGhCLEVBQUssR0FNckIsR0FKdUI2RixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIvQixHQUN2RDNELFlBQWMwTyxFQUVYM2IsRUFBT25FLGNBQWNpVixFQUFBLFFBQ3pCMEosY0FBZ0IsRUFBQXhHLGtCQUFBLE9BQTBCLENBQ3BELE1BQU1RLEVBQWN4VSxFQUFPbkUsY0FBY3dXLEVBQVl2RyxNQUVqRDBJLElBQ3NDLFdBQWxDQSxFQUFZekIsa0JBQ1ovUyxFQUFPdkQsaUJBQWlCd00sRUFBQSw0QkFBd0MySCxHQUVoRXNDLFlBQVcsS0FDUGxULEVBQU92RCxpQkFBaUJ3TSxFQUFBLDhCQUEwQzJILEtBQ25FLE9DekJaLFNBQVNnTCxHQUEwQjFDLEdBQ3RDLE1BQU1qTSxFQUFjaU0sRUFBZWpNLFlBQ25DLE9BQU8sSUFBSTlILEdBQUdtRSxLQUFLMkQsRUFBWTVJLEVBQzNCNEksRUFBWTNJLEVBQTRCLEdBQXhCNFUsRUFBZTJDLE9BQy9CNU8sRUFBWTFJLEdDT2IsU0FBU3VYLEdBQTZCaGpCLEVBQWFXLEtBQXFCVSxHQUMzRSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBRTVCOFgsRUFEc0J6VyxFQUFLLEdBQ0YyTCxPQUErQix1QkFBRXNOLFlBQzFEaUgsRUFBaUJyYSxFQUFPbkUsY0FBY2lWLEVBQUEsUUFDdEN3SixFQUFldGEsRUFBT25FLGNBQWNtTixFQUFBLFFBQ3BDK1MsRUFBdUIvYixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIvQixHQUN0RW9MLEVBQXVCaGMsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCLFVBR3RFc0osRUFEY2pjLEVBQU9uRSxjQUFjK1AsRUFBYUUsTUFDbkJvUSxrQkFBa0JGLEVBQXFCRyxnQkFFMUUsR0FBSTlCLEVBQWVHLGNBQWdCLEVBQUF4RyxrQkFBQSxZQUNNLFdBQWpDcUcsRUFBZStCLGVBQWlELFdBQW5CSCxFQUN6Q0ksR0FBYS9CLEVBQWMwQixFQUFzQkQsSUFDakQvYixFQUFPdkQsaUJBQWlCd00sRUFBQSx3QkFBb0MsU0FBVTJILEdBQ3RFNVEsRUFBT3ZELGlCQUFpQndNLEVBQUEsZUFBMkIySCxJQUVuRDVRLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxvQkFHeEIsV0FBakNvUixFQUFlK0IsY0FDZnBjLEVBQU92RCxpQkFBaUJ3TSxFQUFBLG1DQUErQzJILEdBR3ZFNVEsRUFBT3ZELGlCQUFpQndNLEVBQUEsaUNBQTZDMkgsUUFJMUUsR0FBSXlKLEVBQWVHLGNBQWdCLEVBQUF4RyxrQkFBQSxPQUEwQixDQUNoRSxNQUFNUSxFQUFjeFUsRUFBT25FLGNBQWN3VyxFQUFZdkcsTUFDckQsSUFBSzBJLEdBQWlELFdBQWxDQSxFQUFZekIsa0JBRTVCLE9BR0osR0FBSWlKLEVBQXFCbkMsa0JBQW9CLEVBR3pDLFlBREE3WixFQUFPdkQsaUJBQWlCd00sRUFBQSxxQkFBaUMsa0JBSTdELEdBQXVCLFdBQW5CZ1QsRUFDSUksR0FBYS9CLEVBQWMwQixFQUFzQkQsR0FDakQvYixFQUFPdkQsaUJBQWlCd00sRUFBQSx3QkFBb0MsU0FBVTJILEdBRXRFNVEsRUFBT3ZELGlCQUFpQndNLEVBQUEscUJBQWlDLHlCQUc3RCxHQTRDWixTQUEwQitTLEVBQXNCRCxHQUM1QyxNQUFNTyxFQUFxQlAsRUFBcUI5TyxZQUVoRCxPQUR1QitPLEVBQXFCL08sWUFBWXpJLGVBQ2xDRyxNQUFLZ0gsR0FBS0EsRUFBRTNHLE9BQU9zWCxLQS9DNUJDLENBQWlCUCxFQUFzQkQsR0FjQSxXQUFqQzFCLEVBQWUrQixlQUNlLFdBQWpDL0IsRUFBZStCLGVBQ2ZwYyxFQUFPdkQsaUJBQWlCd00sRUFBQSxpQkFBNkIrUyxFQUFxQnBMLEdBQUltTCxFQUFxQm5MLFFBaEJ4QyxDQUMvRCxNQUFNNEwsRUFzQnRCLFNBQTZCUixFQUFzQkQsR0FDL0MsTUFFTVUsRUFGaUJWLEVBQXFCOU8sWUFBWXpJLGVBRWpCaVAsUUFBTzdPLElBQVNBLEVBQUtILFdBQzVELEdBQUlnWSxFQUFnQm5pQixPQUFTLEVBQUcsQ0FDNUIsTUFBTW9pQixFQUFhVixFQUFxQi9PLFlBRXhDLElBQUkwUCxFQUFlOVQsRUFBQSxnQkFBb0I2VCxFQUFZRCxFQUFnQixJQUVuRSxJQUFLLElBQUlwWixFQUFJLEVBQUdBLEVBQUlvWixFQUFnQm5pQixPQUFRK0ksSUFBSyxDQUM3QyxNQUFNdVosRUFBWS9ULEVBQUEsZ0JBQW9CNlQsRUFBWUQsRUFBZ0JwWixJQUM5RHVaLEVBQVV0aUIsT0FBU3FpQixFQUFhcmlCLFNBQ2hDcWlCLEVBQWVDLEdBSXZCLE9BQU9ELEdBdENzQkUsQ0FBb0JiLEVBQXNCRCxHQUUzRFMsR0FBZ0JBLEVBQWFsaUIsT0FBUyxHQUFLMGhCLEVBQXFCOVAsR0FBR3VNLGtCQUM5QixXQUFqQzRCLEVBQWUrQixjQUVmcGMsRUFBT3ZELGlCQUFpQndNLEVBQUEsNkJBQXlDLFNBQVU4UyxFQUFxQm5MLEdBQUk0TCxHQUdwR3hjLEVBQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQyxTQUFVdVQsRUFBYTFKLFNBR3pGOVMsRUFBT3ZELGlCQUFpQndNLEVBQUEscUJBQWlDLHlCQXNDN0UsU0FBU29ULEdBQWEvQixFQUFjMEIsRUFBc0JELEdBQ3RELE1BQU1lLEVBQWNsQixHQUEwQkksR0FDeENlLEVBQWNuQixHQUEwQkcsR0FFOUMsT0FBUXpCLEVBQWEwQyxrQkFBa0JGLEVBQWFDLEcsY0MzR2pELFNBQVNFLEdBQXFCbmtCLEVBQWFXLEtBQXFCVSxHQUNuRSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCdWYsRUFBYWxlLEVBQUssR0FDbEIraUIsRUFBZ0JsZCxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIwRixHQUMvREMsRUFBYW5lLEVBQUssR0FDbEJnakIsRUFBZ0JuZCxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIyRixHQUVyRXRZLEVBQU92RCxpQkFBaUJ3TSxFQUFBLG9CQUFpQ29QLEVBQVk4RSxFQUFjbFEsYUFDbkZqTixFQUFPdkQsaUJBQWlCd00sRUFBQSxvQkFBaUNxUCxFQUFZNEUsRUFBY2pRLGFBRW5GLE1BQU1tUSxFQUFlcGQsRUFBT25FLGNBQWMrUCxFQUFhRSxNQUNqRHVSLEVBQXlCSCxFQUFjZixlQUFqQixXQUN0Qm1CLEVBQXlCSCxFQUFjaEIsZUFBakIsV0FFdEJvQixFQUFxQkwsRUFBY00sY0FBY0gsR0FDakRJLEVBQXFCUCxFQUFjTSxjQUFjRixHQUVqREksRUFBZUMsR0FBZ0JKLEdBQy9CSyxFQUFlRCxHQUFnQkYsR0FNckMsR0FIQVAsRUFBY3JELGtCQUFvQixFQUc5QjZELElBQWlCRSxFQUNqQjVkLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGlCQUE4Qm9QLEdBQ3REclksRUFBT3ZELGlCQUFpQndNLEVBQUEsaUJBQThCcVAsR0FFdER0WSxFQUFPdkQsaUJBQWlCd00sRUFBQSxxQkFBaUMsZUFBZXlVLEtBQWdCRSxXQUV4RixHQUFJRixFQUFlRSxFQUFjLENBRTdCLE1BQU01UixFQUFhNlIsR0FBb0JILEVBQWNFLEdBQy9DeFIsRUFBU2dSLEVBQWFVLFVBQVVaLEVBQWNmLGVBQWdCblEsR0FDcEVtUixFQUFjWSxZQUFZM1IsR0FFMUJwTSxFQUFPdkQsaUJBQWlCd00sRUFBQSxpQkFBOEJvUCxHQUVsRDhFLEVBQWNuRSxPQUNkaFosRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQWtDcVAsSUFFMUR0WSxFQUFPdkQsaUJBQWlCd00sRUFBQSxjQUEyQnFQLEdBQ25EdFksRUFBT3ZELGlCQUFpQndNLEVBQUEscUJBQWlDLEdBQUdvUCxhQUFzQkMsU0FBa0JsTSxVQUlyRyxDQUNILE1BQ000UixFQUFvQyxVQURuQlosRUFBYWxCLGtCQUFrQmlCLEVBQWNoQixnQkFJOURuUSxFQUFhNlIsR0FBb0JELEVBQWNGLEdBQy9DTyxFQUFTLEVBQW1CZCxFQUFjaEIsZUFBaUIrQixHQUFBLFVBQzNEOVIsRUFBU2dSLEVBQWFVLFVBQVVHLEVBQVFqUyxHQUM5Q2tSLEVBQWNhLFlBQVkzUixHQUMxQnBNLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxHQUFHcVAsYUFBc0JELFNBQWtCak0sS0FFcEdwTSxFQUFPdkQsaUJBQWlCd00sRUFBQSxpQkFBOEJxUCxHQUVsRDRFLEVBQWNsRSxPQUNkaFosRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQWtDb1AsR0FHMURyWSxFQUFPdkQsaUJBQWlCd00sRUFBQSxjQUEyQm9QLEdBTS9ELE1BQU03RCxFQUFjeFUsRUFBT25FLGNBQWN3VyxFQUFZdkcsTUFDakQwSSxHQUFpRCxXQUFsQ0EsRUFBWXpCLG1CQUMzQkcsWUFBVyxLQUNQbFQsRUFBT3ZELGlCQUFpQndNLEVBQUEsOEJBQTBDb1AsS0FFbkUsTUFJWCxTQUFTd0YsR0FBb0JNLEVBQVlDLEdBQ3JDLE9BQU9ELEVBQWFDLEVBR3hCLFNBQVNULEdBQWdCVSxHQUNyQixPQUFPQSxFQUFRQyxLQUFhQSxLQUdoQyxTQUFTQSxLQUNMLE9BQU8zVSxLQUFLQyxNQUFzQixFQUFoQkQsS0FBS3dJLFUsY0M5RjNCLE1BQVFyWCxPQUFNLElBQUssRUFBUSxLQUtwQixTQUFTeWpCLEdBQThCemxCLEVBQWFXLEtBQXFCVSxHQUM1RSxNQUFNNkYsRUFBUyxHQUFPMUcsWUFBWVIsR0FDNUJzYSxFQUFjalosRUFBSyxHQUNuQjRlLEVBQVc1ZSxFQUFLLEdBQ2hCb2YsRUFBT3BmLEVBQUssR0FFSzZGLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQlMsR0FDdkRvTCxZQUFZakYsRUFBS2pmLE9BQVMsR0FDekMsTUFBTW1rQixFQUFvQnplLEVBQU83RCxpQkFBaUJ1aUIsR0FBQSxPQUE2QnRMLEdBQy9FcFQsRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBRUV3VixFQUFrQkUsbUNBQW1DcEYsR0FDN0RxRixNQUFLLEtBQ25CNWUsRUFBT3ZELGlCQUFpQndNLEVBQUEsaUJBQTZCbUssRUFBYTJGLE1DWm5FLFNBQVM4RixHQUF5Qi9sQixFQUFhVyxLQUFxQlUsR0FDdkUsTUFBTTZGLEVBQVMsR0FBQWxGLE9BQUEsWUFBbUJoQyxHQUM1QnNhLEVBQWNqWixFQUFLLEdBQ3pCc0csUUFBUUMsSUFBSSxvQkFBb0IwUyxHQUNoQyxNQUFNOEYsRUFBaUJsWixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJTLEdBQ3RFcFQsRUFBT3ZELGlCQUFpQndNLEVBQUEsMEJBQXNDLFFBQVNpUSxHQUN2RWxaLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGdCQUE2Qm1LLEdBR2pEOEYsSUFDQUEsRUFBZWpNLFlBQVl4SSxVQUFXLEdBRzFDLE1BQU0rUCxFQUFjeFUsRUFBT25FLGNBQWN3VyxFQUFZdkcsTUFDakQwSSxHQUNBQSxFQUFZc0ssMEJBQTBCMUwsR0NyQjlDLE1BQVF0WSxPQUFNLElBQUssRUFBUSxLQU1wQixTQUFTaWtCLEdBQWlCam1CLEVBQWFXLEtBQXFCVSxHQUMvRCxNQUFNNmtCLEVBQWE3a0IsRUFBSyxHQUNsQjZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBQzlCa0gsRUFBT3hELFlBQVk2VixFQUFZdkcsT0FDL0I5TCxFQUFPM0QsZUFBZWdXLEVBQVl2RyxNQUd0QzlMLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHNCQUd4QixNQUFNb1IsRUFBaUJyYSxFQUFPbkUsY0FBY2lWLEVBQUEsUUFFekIsZ0JBQWZrTyxHQUNBM0UsRUFBZXRHLG9CQUFvQixFQUFBQyxrQkFBQSxXQUNuQ2hVLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxlQUV6RG9SLEVBQWV0RyxvQkFBb0IsRUFBQUMsa0JBQUEsYUFDbkNoVSxFQUFPdkQsaUJBQWlCd00sRUFBQSxxQkFBaUMsWSxjQ25CMUQsTUFBTWdXLFdBQTBCaEssRUFDbkMsS0FBS0csR0FDRCxNQUFNcFYsRUFBU29WLEVBQUtFLFdBQVdwWCxJQUFJLFVBQVUsR0FBTyxHQUM5Q21hLEVBQWFqRCxFQUFLRSxXQUFXcFgsSUFBSSxjQUFla1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBQzlEMEgsRUFBYWxELEVBQUtFLFdBQVdwWCxJQUFJLFNBQVVrWCxFQUFLL0gsS0FBS3VELElBQUksR0FFL0QsT0FEQTVRLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHdCQUFvQ29QLEVBQVlDLEdBQ2pFdEQsRUFBZ0IwQixTQ0p4QixNQUFNd0ksV0FBbUNqSyxFQUM1QyxZQUFZa0ssRUFBYUMsR0FDckJ2VCxNQUFNLElBQ05uVCxLQUFLeW1CLFlBQWNBLEVBQ25Cem1CLEtBQUswbUIsWUFBY0EsRUFHdkIsS0FBS2hLLEdBQ0QsTUFBTXBWLEVBQVNvVixFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDOUNrVixFQUFjZ0MsRUFBS0UsV0FBV3BYLElBQUksY0FBZWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUMvRG1JLEVBQVczRCxFQUFLRSxXQUFXcFgsSUFBSSxTQUFVa1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBRXZEc0ksRUFBaUJsWixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJTLEdBQ2hFdUYsRUFBdUJPLEVBQWVqTSxZQUV0Q29TLEVBRGNyZixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJvRyxHQUM3QjlMLFlBRWhDcVMsRUFBa0IzVixLQUFLK1AsSUFBSWhoQixLQUFLeW1CLFlBQWEsR0FDN0NJLEVBQWtCNVYsS0FBSytQLElBQUloaEIsS0FBSzBtQixZQUFhLEdBRTdDSSxFQUFzQnRHLEVBQWVULGtCQUMzQ1MsRUFBZVQsa0JBQW9CLEVBR25DLE1BQU1nSCxFQUFtQixHQUFhSixFQUFtQjFHLEdBQ3pELEdBQUk4RyxHQUFvQkgsR0FBbUJHLEdBQW9CRixFQUUzRCxPQUFPdkssRUFBZ0JrRCxRQUNwQixDQUNILE1BQU0wQyxFQUFnQi9SLEVBQUEscUJBQXlCOFAsRUFBc0I2RyxHQUNyRSxHQUFJNUUsRUFBY3RnQixPQUFTLEVBQUcsQ0FDMUIsR0FBSW1sQixFQUFtQkgsRUFBaUIsQ0FFcEMsSUFBSTFhLEVBQU9nVyxFQUFjeEIsUUFBTyxDQUFDQyxFQUFHdGMsSUFBTSxHQUFhc2lCLEVBQW1CaEcsR0FBSyxHQUFhZ0csRUFBbUJ0aUIsR0FBS3NjLEVBQUl0YyxJQUN4SCxNQUFNd2MsRUFBTzFRLEVBQUEsZ0JBQW9COFAsRUFBc0IvVCxHQUVuRDJVLEdBQVFBLEVBQUtqZixPQUFTLElBRXRCMEYsRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQW1DbUssRUFBYW1HLEdBQ3hFTCxFQUFlak0sWUFBY3JJLE9BRTlCLENBRUgsSUFBSUEsRUFBT2dXLEVBQWN4QixRQUFPLENBQUNDLEVBQUd0YyxJQUFNLEdBQWFzaUIsRUFBbUJoRyxHQUFLLEdBQWFnRyxFQUFtQnRpQixHQUFLc2MsRUFBSXRjLElBQ3hILE1BQU13YyxFQUFPMVEsRUFBQSxnQkFBb0I4UCxFQUFzQi9ULEdBRW5EMlUsR0FBUUEsRUFBS2pmLE9BQVMsSUFFdEIwRixFQUFPdkQsaUJBQWlCd00sRUFBQSxzQkFBbUNtSyxFQUFhbUcsR0FDeEVMLEVBQWVqTSxZQUFjckksR0FJckMsT0FBT29RLEVBQWdCMEIsUUFHdkIsT0FBTzFCLEVBQWdCa0QsVUFPdkMsU0FBUyxHQUFhc0IsRUFBSUMsR0FDdEIsT0FBTzlQLEtBQUsrUCxJQUFJRCxFQUFHcFYsRUFBSW1WLEVBQUduVixFQUFHLEdBQUtzRixLQUFLK1AsSUFBSUQsRUFBR25WLEVBQUlrVixFQUFHbFYsRUFBRyxHQUFLcUYsS0FBSytQLElBQUlELEVBQUdsVixFQUFJaVYsRUFBR2pWLEVBQUcsR0NsRWhGLE1BQU1tYixXQUF1QnpLLEVBQ2hDLEtBQUtHLEdBQ0QsTUFBTXBWLEVBQVNvVixFQUFLRSxXQUFXcFgsSUFBSSxVQUFVLEdBQU8sR0FDOUNrVixFQUFjZ0MsRUFBS0UsV0FBV3BYLElBQUksY0FBZWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUVyRXNDLFlBQVcsS0FDUGxULEVBQU92RCxpQkFBaUJ3TSxFQUFBLDhCQUEwQ21LLEtBQ25FLE1DTEosTUFBTXVNLFdBQXFCMUssRUFDOUIsS0FBS0csR0FDRCxNQUFNcFYsRUFBU29WLEVBQUtFLFdBQVdwWCxJQUFJLFVBQVUsR0FBTyxHQUM5Q2tWLEVBQWNnQyxFQUFLRSxXQUFXcFgsSUFBSSxjQUFla1gsRUFBSy9ILEtBQUt1RCxJQUFJLEdBQy9EbUksRUFBVzNELEVBQUtFLFdBQVdwWCxJQUFJLFNBQVVrWCxFQUFLL0gsS0FBS3VELElBQUksR0FFdkRzSSxFQUFpQmxaLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQlMsR0FHaEV3TSxHQUZ1QjFHLEVBQWVqTSxZQUV4QmpOLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQm9HLElBRzdEdUIsR0FGYXNGLEVBQVkzUyxZQUVWak4sRUFBT25FLGNBQWNtTixFQUFBLFNBR3BDNlcsRUFBVWpFLEdBQTBCMUMsR0FDcEM0RyxFQUFRbEUsR0FBMEJnRSxHQUd4QyxPQURzQnRGLEVBQWEwQyxrQkFBa0I2QyxFQUFTQyxHQUluRDlLLEVBQWdCa0QsUUFGaEJsRCxFQUFnQjBCLFNDbEI1QixNQUFNcUosV0FBc0M5SyxFQUMvQyxLQUFLRyxHQUNELE1BQU1wVixFQUFTb1YsRUFBS0UsV0FBV3BYLElBQUksVUFBVSxHQUFPLEdBQzlDa1YsRUFBY2dDLEVBQUtFLFdBQVdwWCxJQUFJLGNBQWVrWCxFQUFLL0gsS0FBS3VELElBQUksR0FDL0RtSSxFQUFXM0QsRUFBS0UsV0FBV3BYLElBQUksU0FBVWtYLEVBQUsvSCxLQUFLdUQsSUFBSSxHQUV2RHNJLEVBQWlCbFosRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCUyxHQUNoRXVGLEVBQXVCTyxFQUFlak0sWUFDdEMyUyxFQUFjNWYsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCb0csR0FFN0R2VSxFQURhb2IsRUFBWTNTLFlBQ0d6SSxlQUc1QjhWLEVBQWV0YSxFQUFPbkUsY0FBY21OLEVBQUEsUUFHcENtUSxFQUFTM1UsRUFBZWlQLFFBQU83TyxJQUFTQSxFQUFLSCxXQUduRCxHQUFJMFUsRUFBTzdlLE9BQVMsRUFBRyxDQUVuQixJQUFJc0ssRUFBT3VVLEVBQU9DLFFBQU8sQ0FBQ0MsRUFBR3RjLElBQU0sR0FBYTRiLEVBQXNCVSxHQUFLLEdBQWFWLEVBQXNCNWIsR0FBS3NjLEVBQUl0YyxJQUV2SCxNQUFNd2MsRUFBTzFRLEVBQUEsZ0JBQW9COFAsRUFBc0IvVCxHQUN2RCxHQUFJMlUsR0FBUUEsRUFBS2pmLE9BQVMsRUFBRyxDQUV6QixNQUFNNFIsRUFBS2dOLEVBQWVoTixHQUMxQixLQUFPcU4sRUFBS2pmLE9BQVM0UixFQUFHdU0sbUJBQ3BCYyxFQUFLekcsUUFHVCxNQUFNZ04sRUFBUWxFLEdBQTBCZ0UsR0FHeEMsSUFBSUksRUFBYyxFQUNsQixJQUFLLElBQUkzYyxFQUFJa1csRUFBS2pmLE9BQVMsRUFBRytJLEdBQUssRUFBR0EsSUFBSyxDQUN2QyxNQUFNNGMsRUFBVzFHLEVBQUtsVyxHQUVoQndjLEVBQVUsSUFBSTFhLEdBQUdtRSxLQUFLMlcsRUFBUzViLEVBQ2pDNGIsRUFBUzNiLEVBQTRCLEdBQXhCNFUsRUFBZTJDLE9BQzVCb0UsRUFBUzFiLEdBR2IsSUFEc0IrVixFQUFhMEMsa0JBQWtCNkMsRUFBU0MsR0FDNUMsQ0FDZEUsRUFBYzNjLEVBQ2QsT0FNUmtXLEVBQUs1WixPQUFPLEVBQUdxZ0IsR0FHZmhnQixFQUFPdkQsaUJBQWlCd00sRUFBQSxzQkFBbUNtSyxFQUFhbUcsR0FDeEVMLEVBQWVqTSxZQUFjckksR0FRckMsT0FGQXNVLEVBQWVULGtCQUFvQixFQUU1QnpELEVBQWdCMEIsU0FJL0IsU0FBUyxHQUFhOEMsRUFBSUMsR0FDdEIsT0FBTzlQLEtBQUsrUCxJQUFJRCxFQUFHcFYsRUFBSW1WLEVBQUduVixFQUFHLEdBQUtzRixLQUFLK1AsSUFBSUQsRUFBR25WLEVBQUlrVixFQUFHbFYsRUFBRyxHQzNEckQsTUFBTTRiLFdBQXdCbkksRUFFakMsY0FDSWxNLE1BQU0sbUJBR1YsYUFDSW5ULEtBQUsyVSxLQUFLN0gsS0FBTyxJQUFJK1EsRUFBVyxDQUM1QixJQUFJeUIsRUFDQSxDQUNJLElBQUlZLEdBQVksQ0FDWixJQUFJVCxFQUNKLElBQUlVLEdBQVMsQ0FBQyxJQUFJYyxLQUNsQixJQUFJZCxHQUFTLENBQUMsSUFBSUMsS0FDbEIsSUFBSWQsRUFBUyxDQUNULElBQUlZLEdBQVksQ0FDWixJQUFJSixHQUNKLElBQUlLLEdBQVMsQ0FBQyxJQUFJOEcsS0FDbEIsSUFBSUksS0FFUixJQUFJbkgsR0FBWSxDQUNaLElBQUlKLEdBQ0osSUFBSVIsRUFBUyxDQUNULElBQUlrSCxHQUEyQixFQUFHLElBQ2xDLElBQUlRLE9BR1osSUFBSTlHLEdBQVksQ0FDWixJQUFJZ0IsR0FDSixJQUFJK0YsR0FDSixJQUFJVixTQUloQixJQUFJMUcsUUM1Q2pCLFNBQVM0SCxHQUE0QnJuQixFQUFhVyxLQUFxQlUsR0FDMUUsTUFBTTZGLEVBQVMsR0FBQWxGLE9BQUEsWUFBbUJoQyxHQUU1Qm1oQixFQUFVOWYsRUFBSyxHQUdyQixPQUZtQjZGLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQnNILEdBRS9DbUcsY0FDZixLQUFLQyxHQUFBLGVBQ3NCLElBQUl0RyxJQUNaSSxZQUFZbmEsRUFBUWlhLEdBQ25DLE1BQ0osS0FBS29HLEdBQUEsZ0JBQ3VCLElBQUlILElBQ1ovRixZQUFZbmEsRUFBUWlhLEksY0NaekMsU0FBU3FHLEdBQTJCeG5CLEVBQWFXLEtBQXFCVSxHQUN6RSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBR2xDLElBQUl5bkIsRUFBZ0IsRUFDaEJDLEVBQWdCLEVBRXBCLE1BQU1uSSxFQUFhbGUsRUFBSyxHQUNsQitpQixFQUFnQmxkLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQjBGLEdBQy9Eb0ksRUFBZXZELEVBQWNqUSxZQUNuQyxJQUFJcUwsRUFBYW5lLEVBQUssR0FDbEJnakIsRUFBZ0JuZCxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEIyRixHQUNuRSxNQUFNb0ksRUFBZXZELEVBQWNsUSxZQUVuQ2pOLEVBQU92RCxpQkFBaUJ3TSxFQUFBLG9CQUFpQ29QLEVBQVk4RSxFQUFjbFEsYUFDbkZqTixFQUFPdkQsaUJBQWlCd00sRUFBQSxvQkFBaUNxUCxFQUFZNEUsRUFBY2pRLGFBRW5GLE1BQU1vUSxFQUF5QkgsRUFBY2YsZUFBakIsV0FDdEJvQixFQUFxQkwsRUFBY00sY0FBY0gsR0FFdkRrRCxHQUFpQixHQUFnQmhELEdBQ2pDaUQsR0FBaUIsR0FBZ0JyRCxFQUFja0IsT0FFL0MsTUFBTWpCLEVBQWVwZCxFQUFPbkUsY0FBYytQLEVBQWFFLE1BQ2xDOUwsRUFBT25FLGNBQWNtTixFQUFBLFFBQ1gyWCxVQUMzQixJQUFJeGIsR0FBR21FLEtBQUtvWCxFQUFhcmMsRUFBR3FjLEVBQWFwYyxFQUFHb2MsRUFBYW5jLEdBQ3pELElBQUlZLEdBQUdtRSxLQUFLbVgsRUFBYXBjLEVBQUdvYyxFQUFhbmMsRUFBR21jLEVBQWFsYyxNQUd6RGljLEdBQWlCLEdBR3JCLE1BQU1JLEVBQTRCNWdCLEVBQU83RCxpQkFBaUIwa0IsR0FBQSxRQUVwREMsRUFBbUIsSUFBSTNiLEdBQUdtRSxLQUFLNFQsRUFBY2pRLFlBQVk1SSxFQUMzRDZZLEVBQWNqUSxZQUFZM0ksRUFBSSxFQUFHNFksRUFBY2pRLFlBQVkxSSxHQUV6RHdjLEVBQW1CLElBQUk1YixHQUFHbUUsS0FBSzZULEVBQWNsUSxZQUFZNUksRUFDM0Q4WSxFQUFjbFEsWUFBWTNJLEVBQUksRUFBRzZZLEVBQWNsUSxZQUFZMUksR0FHL0QyWSxFQUFjckQsa0JBQW9CLEVBRWxDN1osRUFBT3ZELGlCQUFpQndNLEVBQUEsaUJBQThCb1AsR0FDdER1SSxFQUEwQkksaUJBQWlCLGdCQUFpQkYsRUFBa0JDLEdBQ3pFbkMsTUFBSyxLQUVGLEdBQUkyQixFQUFnQkMsRUFBZSxDQUcvQixNQUFNaE0sRUFBY3hVLEVBQU9uRSxjQUFjd1csRUFBWXZHLE1BQ3JELEdBQUkwSSxFQUFhLENBRWIsTUFBTXlNLEVBQW9COUQsRUFBY2xRLFlBQVl6SSxlQUM5QzBjLEVBQWtCLENBQUM1SSxHQUV6QixJQUFLLE1BQU03RixLQUFlK0IsRUFBWWxDLGFBQWMsQ0FDaEQsTUFBTUksRUFBbUIxUyxFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJGLElBQ25FQyxFQUFpQnNHLFFBQVVpSSxFQUFrQnRjLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBTzBOLEVBQWlCekYsZ0JBQ2xGaVUsRUFBZ0J6aEIsS0FBS2dULEdBSTdCNkYsRUFBYTRJLEVBQWdCdlgsS0FBS3VJLE1BQU12SSxLQUFLd0ksU0FBVytPLEVBQWdCNW1CLFNBQ3hFNmlCLEVBQWdCbmQsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCMkYsR0FLbkUsTUFBTXRNLEVBQWlDdVUsRUFBZUMsRUFDaERwVSxFQUFTZ1IsRUFBYVUsVUFBVVosRUFBY2YsZUFBZ0JuUSxHQUNwRW1SLEVBQWNZLFlBQVkzUixHQUd0QitRLEVBQWNuRSxPQUNkaFosRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQWtDcVAsSUFFMUR0WSxFQUFPdkQsaUJBQWlCd00sRUFBQSxjQUEyQnFQLEdBQ25EdFksRUFBT3ZELGlCQUFpQndNLEVBQUEscUJBQWlDLEdBQUdvUCxhQUFzQkMsU0FBa0JsTSxXQU14R3BNLEVBQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQyxRQUFTa1UsR0FHM0UsTUFBTTNJLEVBQWN4VSxFQUFPbkUsY0FBY3dXLEVBQVl2RyxNQUNqRDBJLEdBQWlELFdBQWxDQSxFQUFZekIsbUJBQzNCRyxZQUFXLEtBQ1BsVCxFQUFPdkQsaUJBQWlCd00sRUFBQSw4QkFBMENvUCxLQUVuRSxRQVNuQixTQUFTLEdBQWdCZ0csR0FDckIsT0FBT0EsRUFBUSxLQUFhLEtBR2hDLFNBQVMsS0FDTCxPQUFPMVUsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUt3SSxVQ25IM0IsTUFBUXJYLE9BQU0sSUFBSyxFQUFRLEtBT3BCLFNBQVNxbUIsR0FBbUJyb0IsRUFBYVcsS0FBcUJVLEdBQ2pFLE1BQU02RixFQUFTLEdBQU8xRyxZQUFZUixHQUdsQyxHQUR1QmtILEVBQU9uRSxjQUFjaVYsRUFBQSxRQUN6QjBKLGNBQWdCLEVBQUF4RyxrQkFBQSxRQUVPLFdBRGxCaFUsRUFBT25FLGNBQWN3VyxFQUFZdkcsTUFDckNpSCxrQkFFWixZQURBL1MsRUFBT3ZELGlCQUFpQndNLEVBQUEscUJBQWlDLG1DQUtqRSxNQUFNbUssRUFBY2paLEVBQUssR0FDbkI4akIsRUFBUzlqQixFQUFLLEdBRWQrZSxFQUFpQmxaLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQlMsR0FFbEU4RixJQUNBQSxFQUFlaUQsZUFBaUI4QixFQUVoQ2plLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHFCQUFpQyxHQUFHbUssWUFBc0I2SyxNQ3RCbkYsU0FBU21ELEdBQTZCdG9CLEVBQWFXLEtBQXFCVSxHQUMzRSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCdW9CLEVBQW1CbG5CLEVBQUssR0FDeEIyTixFQUFtQjNOLEVBQUssR0FDeEI0TixFQUFvQjVOLEVBQUssR0FHekJtbkIsRUFEZXRoQixFQUFPbkUsY0FBY21OLEVBQUEsUUFDUnVZLGdCQUFnQkYsR0FDM0JyaEIsRUFBTzdELGlCQUFpQnVpQixHQUFBLE9BQTZCLFVBRTdEOEMsc0JBQXNCRixHQUNoQzFDLE1BQUssS0FDRjVlLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGVBQTJCbkIsRUFBa0JDLE1DakJqRixNQUFRak4sT0FBTSxJQUFLLEVBQVEsS0FHcEIsU0FBUzJtQixHQUErQjNvQixFQUFhVyxLQUFxQlUsR0FDN0UsTUFBTTZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBRTVCOE8sRUFBV3pOLEVBQUssR0FDaEIrSyxFQUFNQyxHQUFHQyxZQUFZQyxpQkFDckJxYyxFQUF1QnhjLEVBQUl1SCxPQUFPdk8sSUFBSSxVQUN0QytjLEVBQVkvVixFQUFJTSxLQUFLNEwsV0FBVyxnQkFDaEN1USxFQUFlRCxFQUFxQmhWLFNBQVN5TyxjQUNuREYsRUFBVUksU0FBU3NHLEdBRW5CLE1BQ005WixFQURXN0gsRUFBT25FLGNBQWNtTixFQUFBLFFBQ2Q0WSxlQUFlaGEsR0FDdkMrWixFQUFhdkcsaUJBQWlCdlQsRUFBT0csZUNmekMsTUFBUWxOLE9BQU0sSUFBSyxFQUFRLEtBTXBCLFNBQVMrbUIsR0FBa0Mvb0IsRUFBYVcsS0FBcUJVLEdBQ2hGLE1BQU02RixFQUFTLEdBQU8xRyxZQUFZUixHQUU1QmdwQixFQUFvQjNuQixFQUFLLEdBRXpCNmhCLEVBQXVCaGMsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCLFVBQ3RFb0osRUFBdUIvYixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJtUCxHQUV0RUMsRUFBMEIvaEIsRUFBTzdELGlCQUFpQnVpQixHQUFBLE9BQTZCLFVBRy9FbEMsRUFRVixTQUE2QlIsRUFBc0JELEdBQy9DLE1BQU12WCxFQUFpQnVYLEVBQXFCOU8sWUFBWXpJLGVBQ2xEa1ksRUFBYVYsRUFBcUIvTyxZQUl4QyxHQUZtQnpJLEVBQWVHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBTzBYLEtBSWpELE1BQU8sQ0FBQ0EsR0FDTCxDQUNILE1BQU1ELEVBQWtCalksRUFBZWlQLFFBQU83TyxJQUFTQSxFQUFLSCxXQUM1RCxHQUFJZ1ksRUFBZ0JuaUIsT0FBUyxFQUFHLENBRTVCLElBQUlxaUIsRUFBZTlULEVBQUEsZ0JBQW9CNlQsRUFBWUQsRUFBZ0IsSUFFbkUsSUFBSyxJQUFJcFosRUFBSSxFQUFHQSxFQUFJb1osRUFBZ0JuaUIsT0FBUStJLElBQUssQ0FDN0MsTUFBTXVaLEVBQVkvVCxFQUFBLGdCQUFvQjZULEVBQVlELEVBQWdCcFosTUFDN0RzWixHQUFpQkMsR0FBYUEsRUFBVXRpQixPQUFTcWlCLEVBQWFyaUIsVUFDL0RxaUIsRUFBZUMsR0FJdkIsT0FBT0QsRUFFWCxRQWhDaUIsQ0FBb0JYLEVBQXNCRCxHQUMzRFMsR0FDQXVGLEVBQXdCcEQsbUNBQW1DbkMsR0FBY29DLE1BQUssS0FDMUU1ZSxFQUFPdkQsaUJBQWlCd00sRUFBQSxpQkFBNkI2WSxNQ3BCakUsTUFBUWhuQixPQUFNLElBQUssRUFBUSxLQU9wQixTQUFTa25CLEdBQXFCbHBCLEVBQWFXLEtBQXFCVSxHQUNuRSxNQUFNNkYsRUFBUyxHQUFPMUcsWUFBWVIsR0FDNUJtcEIsRUFBaUJqaUIsRUFBT25FLGNBQWNpVixFQUFBLFFBQ3RDZ1IsRUFBb0IzbkIsRUFBSyxHQUV6QituQixFQUFhbGlCLEVBQU9uRSxjQUFjMFEsRUFBV1QsTUFFN0NrUSxFQUF1QmhjLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQixVQUN0RW9KLEVBQXVCL2IsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCbVAsR0FDdEVLLEVBQWVwRyxFQUFxQm9HLGFBQ3hCRCxFQUFXRSxrQkFBa0JELEdBRS9DRixFQUFlbE8sb0JBQW9CLEVBQUFDLGtCQUFBLFVBRW5DaFUsRUFBT3ZELGlCQUFpQndNLEVBQUEsb0JBQWlDLFNBQVU4UyxFQUFxQjlPLGFBQ3hGak4sRUFBT3ZELGlCQUFpQndNLEVBQUEsb0JBQWlDNlksRUFBbUI5RixFQUFxQi9PLGFBQ2pHak4sRUFBT3ZELGlCQUFpQndNLEVBQUEsdUJBRXhCLE1BQU1vWixFQUFjSCxFQUFXM1QscUJBQy9Cdk8sRUFBT3ZELGlCQUFpQndNLEVBQUEsd0JBQW9DLENBQ3hEbUUsT0FBUStVLEVBQ1JHLEtBQU1ELElDeEJQLFNBQVNFLEdBQTRCenBCLEVBQWFXLEtBQXFCVSxHQUMxRSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCb3BCLEVBQWFsaUIsRUFBT25FLGNBQWMwUSxFQUFXVCxNQUM3QzBXLEVBQVdOLEVBQVdPLDBCQUM1QixHQUFJRCxFQUFVLENBUVYsR0FOSUEsRUFBU2hVLFFBQ1R4TyxFQUFPdkQsaUJBQWlCd00sRUFBQSxpQ0FFeEJqSixFQUFPdkQsaUJBQWlCd00sRUFBQSxpQ0FHeEJ1WixFQUFTcmpCLGNBQ1QsSUFBSyxNQUFNSSxLQUFnQmlqQixFQUFTcmpCLGNBQ2hDYSxFQUFPdkQsaUJBQWlCOEMsRUFBYTlFLFFBQVM4RSxFQUFhcEYsTUFJbkU2RixFQUFPdkQsaUJBQWlCd00sRUFBQSx3QkFBb0MsQ0FDeERtRSxPQUFROFUsRUFBV2xWLFlBQ25Cc1YsS0FBTUUsU0FHVnhpQixFQUFPdkQsaUJBQWlCd00sRUFBQSxnQkN2QnpCLFNBQVN5WixHQUE0QjVwQixFQUFhVyxLQUFxQlUsR0FDMUUsTUFBTTZGLEVBQVMsR0FBQWxGLE9BQUEsWUFBbUJoQyxHQUM1QndWLEVBQWNuVSxFQUFLLEdBQ25CK25CLEVBQWFsaUIsRUFBT25FLGNBQWMwUSxFQUFXVCxNQUM3QzZXLEVBQWlCVCxFQUFXVSxhQUFhdFUsR0FFL0N0TyxFQUFPdkQsaUJBQWlCd00sRUFBQSwwQkFFeEIsTUFBTTRaLEVBQVcsQ0FDYkMsTUFBTyxNQUNQQyxLQUFNSixFQUFlSSxLQUNyQkMsWUFBYSxXQUdqQmhqQixFQUFPdkQsaUJBQWlCd00sRUFBQSx3QkFBb0MsQ0FDeERtRSxPQUFROFUsRUFBV2xWLFlBQ25Cc1YsS0FBTU8sSUFHTkYsRUFBZU0sS0FDZmpqQixFQUFPdkQsaUJBQWlCd00sRUFBQSw4QkFBMEMwWixFQUFlTSxNQUc3RU4sRUFBZU8sTUFDZmxqQixFQUFPdkQsaUJBQWlCd00sRUFBQSxzQkFBa0MwWixFQUFlTyxNQ3hCOUUsU0FBU0MsR0FBd0JycUIsRUFBYVcsS0FBcUJVLEdBQ3RFLE1BQU02RixFQUFTLEdBQUFsRixPQUFBLFlBQW1CaEMsR0FDNUJvcEIsRUFBYWxpQixFQUFPbkUsY0FBYzBRLEVBQVdULE1BQzdDc1gsRUFBVWpwQixFQUFLLEdBQ3JCK25CLEVBQVdtQixTQUFTRCxHQUNwQixNQUFNRSxFQUFjcEIsRUFBVzNULHFCQUUvQixHQUFJK1UsR0FTQSxHQVJBdGpCLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGlDQUN4QmpKLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHdCQUFvQyxDQUN4RG1FLE9BQVE4VSxFQUFXbFYsWUFDbkJzVixLQUFNZ0IsSUFFVjdpQixRQUFRQyxJQUFJLFNBQ1pELFFBQVFDLElBQUk0aUIsR0FFUkEsRUFBWW5rQixjQUNaLElBQUssTUFBTUksS0FBZ0IrakIsRUFBWW5rQixjQUNuQ3NCLFFBQVFDLElBQUksa0JBQWtCbkIsRUFBYTlFLE1BQzNDdUYsRUFBT3ZELGlCQUFpQjhDLEVBQWE5RSxRQUFTOEUsRUFBYXBGLFdBSW5FNkYsRUFBT3ZELGlCQUFpQndNLEVBQUEsZ0JDM0JoQyxNQUFRbk8sT0FBTSxJQUFLLEVBQVEsS0FLcEIsU0FBU3lvQixHQUFtQnpxQixFQUFhVyxLQUFxQlUsR0FDakUsTUFBTTZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBQ1hrSCxFQUFPbkUsY0FBY2lWLEVBQUEsUUFDN0JpRCxvQkFBb0IsRUFBQUMsa0JBQUEsYUFHbkNoVSxFQUFPdkQsaUJBQWlCd00sRUFBQSx1QkNYNUIsTUFBUW5PLE9BQU0sSUFBSyxFQUFRLEtBTXBCLFNBQVMwb0IsR0FBb0MxcUIsRUFBYVcsS0FBcUJVLEdBQ2xGLE1BQU02RixFQUFTLEdBQU8xRyxZQUFZUixHQUU1QmdwQixFQUFvQjNuQixFQUFLLEdBRXpCNmhCLEVBQXVCaGMsRUFBT25FLGNBQWM4VyxFQUFBLE9BQTBCLFVBQ3RFb0osRUFBdUIvYixFQUFPbkUsY0FBYzhXLEVBQUEsT0FBMEJtUCxHQUV0RUMsRUFBMEIvaEIsRUFBTzdELGlCQUFpQnVpQixHQUFBLE9BQTZCLFVBRy9FbEMsRUFVVixTQUE2QlIsRUFBc0JELEdBQy9DLE1BQU12WCxFQUFpQnVYLEVBQXFCOU8sWUFBWXpJLGVBQ2xEa1ksRUFBYVYsRUFBcUIvTyxZQUl4QyxHQUZtQnpJLEVBQWVHLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBTzBYLEtBSWpELE1BQU8sQ0FBQ0EsR0FDTCxDQUNILE1BQU1ELEVBQWtCalksRUFBZWlQLFFBQU83TyxJQUFTQSxFQUFLSCxXQUM1RCxHQUFJZ1ksRUFBZ0JuaUIsT0FBUyxFQUFHLENBRTVCLElBQUlxaUIsRUFBZTlULEVBQUEsZ0JBQW9CNlQsRUFBWUQsRUFBZ0IsSUFFbkUsSUFBSyxJQUFJcFosRUFBSSxFQUFHQSxFQUFJb1osRUFBZ0JuaUIsT0FBUStJLElBQUssQ0FDN0MsTUFBTXVaLEVBQVkvVCxFQUFBLGdCQUFvQjZULEVBQVlELEVBQWdCcFosSUFDOUR1WixFQUFVdGlCLE9BQVNxaUIsRUFBYXJpQixTQUNoQ3FpQixFQUFlQyxHQUl2QixPQUFPRCxFQUVYLFFBbENpQixDQUFvQlgsRUFBc0JELEdBQzNEUyxHQUNBdUYsRUFBd0JwRCxtQ0FBbUNuQyxHQUFjb0MsTUFBSyxLQUMxRTVlLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGVBQTJCNlksR0FDbkQ5aEIsRUFBT3ZELGlCQUFpQndNLEVBQUEsaUJBQTZCLFNBQVU2WSxNQ3JCM0UsTUFBUWhuQixPQUFNLElBQUssRUFBUSxLQUdwQixTQUFTMm9CLEdBQTRCM3FCLEVBQWFXLEtBQXFCVSxHQUMxRSxNQUFNNkYsRUFBUyxHQUFPMUcsWUFBWVIsR0FDNUI0cUIsRUFBWXZwQixFQUFLLEdBQ0E2RixFQUFPbkUsY0FBY2lWLEVBQUEsUUFDN0JzTCxjQUFnQnNILEVDSDVCLFNBQVNDLEdBQWdDN3FCLEVBQWFXLEtBQXFCVSxHQUM5RSxNQUFNNkYsRUFBUyxHQUFBbEYsT0FBQSxZQUFtQmhDLEdBQzVCbXFCLEVBQU85b0IsRUFBSyxHQUdaeXBCLEVBRmlCNWpCLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQixVQUVuQzZLLGNBQWN5RixFQUFLNUUsT0FHaER3RixFQUFPLEtBQ1BDLEVBQU8sS0FJUHBWLEVBQVVrVixHQUZFQyxFQUFPQyxFQUl6QjlqQixFQUFPdkQsaUJBQWlCd00sRUFBQSw4QkFBMENnYSxFQUFLNUUsTUFBT3VGLEVBQWFDLEVBQU1DLEVBQU1wVixHQUVuR0EsR0FDQWpPLFFBQVFDLElBQUksYUFBYXVpQixFQUFLNUUsZ0JBQWdCdUYsUUFBa0JDLEtBQVFDLEtBQ3hFOWpCLEVBQU92RCxpQkFBaUJ3TSxFQUFBLHNCQUFrQ2dhLEVBQUt2VSxRQUFRd1UsUUFHdkV6aUIsUUFBUUMsSUFBSSxVQUFVdWlCLEVBQUs1RSxnQkFBZ0J1RixRQUFrQkMsS0FBUUMsS0FDckU5akIsRUFBT3ZELGlCQUFpQndNLEVBQUEsc0JBQWtDZ2EsRUFBS2MsUUFBUWIsT0FNL0UsU0FBUyxLQUNMLE9BQU92WixLQUFLQyxNQUFzQixFQUFoQkQsS0FBS3dJLFVDbEMzQixNQUFRclgsT0FBTSxJQUFLLEVBQVEsS0FJcEIsU0FBU2twQixHQUE0QmxyQixFQUFhVyxLQUFxQlUsR0FDMUUsTUFBTTZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBQzVCbXJCLEVBQWlCamtCLEVBQU9uRSxjQUFjd1QsRUFBZXZELE1BRTNEOUwsRUFBT3ZELGlCQUFpQndNLEVBQUEsMEJBQXNDZ2IsRUFBZTNVLGVBQWdCMlUsRUFBZTFVLGdCQ1JoSCxNQUFRelUsT0FBTSxJQUFLLEVBQVEsS0FJcEIsU0FBU29wQixHQUE0QnByQixFQUFhVyxLQUFxQlUsR0FDMUUsTUFBTTZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBQzVCbXJCLEVBQWlCamtCLEVBQU9uRSxjQUFjd1QsRUFBZXZELE1BRXJEMEQsRUFBV3JWLEVBQUssR0FDaEI0VixFQUFXNVYsRUFBSyxHQUV0QjhwQixFQUFlRSxxQkFBcUIzVSxFQUFVTyxHQUU5Qy9QLEVBQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQ2diLEVBQWUzVSxlQUFnQjJVLEVBQWUxVSxnQixjQ0p6RyxTQUFTNlUsR0FBdUJ0ckIsRUFBYVcsS0FBcUJVLEdBQ3JFLE1BQU02RixFQUFTLEdBQUFsRixPQUFBLFlBQW1CaEMsR0FDNUJtckIsRUFBaUJqa0IsRUFBT25FLGNBQWN3VCxFQUFldkQsTUFDckQ2RSxFQUFTeFcsRUFBSyxHQUNka3FCLEVBQWVscUIsRUFBSyxHQUVwQm1xQixFQUFrQkwsRUFBZTNVLGVBQWVpQyxNQUFLNUIsR0FBUUEsRUFBS2lCLEtBQU9ELElBRS9FLEdBQUkyVCxFQUM2QkwsRUFBZU0seUJBQXlCRixFQUFjQyxJQUdsRCxXQUF6QkEsRUFBZ0JsVSxNQUNoQnBRLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGVBQTJCLFNBQVVxYixFQUFnQjFULFFBR2xGLENBQ0gsTUFBTTRULEVBQWF4a0IsRUFBT25FLGNBQWM2VSxFQUFXNUUsTUFDN0NtWSxFQUFpQmprQixFQUFPbkUsY0FBY3dULEVBQWV2RCxNQUNyRDJZLEVBQWdCLElBQUlDLEdBQUEsRUFBY0YsRUFBV0csWUFBWWhVLElBRWxDc1QsRUFBZU0seUJBQXlCRixFQUFjSSxJQUdwRCxXQUF2QkEsRUFBY3JVLE1BQ2RwUSxFQUFPdkQsaUJBQWlCd00sRUFBQSxlQUEyQixTQUFVd2IsRUFBYzdULElBUXZGNVEsRUFBT3ZELGlCQUFpQndNLEVBQUEsd0JBQW9DZ2IsRUFBZTFVLGdCQUMzRXZQLEVBQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQ2diLEVBQWUzVSxlQUFnQjJVLEVBQWUxVSxnQkMzQ2hILE1BQVF6VSxPQUFNLElBQUssRUFBUSxLQU1wQixTQUFTOHBCLEdBQTBCOXJCLEVBQWFXLEtBQXFCVSxHQUN4RSxNQUFNd1csRUFBU3hXLEVBQUssR0FDZDZGLEVBQVMsR0FBTzFHLFlBQVlSLEdBQzVCMHJCLEVBQWF4a0IsRUFBT25FLGNBQWM2VSxFQUFXNUUsTUFDN0NtWSxFQUFpQmprQixFQUFPbkUsY0FBY3dULEVBQWV2RCxNQUNyRDJZLEVBQWdCLElBQUlDLEdBQUEsRUFBY0YsRUFBV0csWUFBWWhVLElBQy9Ec1QsRUFBZVksaUJBQWlCSixHQ1pwQyxNQUFRM3BCLE9BQU0sSUFBSyxFQUFRLEtBd0NwQixNQUFNZ3FCLFdBQW1CLEdBQzVCLG1CQUFtQnJzQixHQUlmLE9BSEssR0FBT0csWUFBWUgsS0FDcEIsR0FBT0csWUFBWUgsR0FBTyxJQUFJcXNCLEdBQVdyc0IsSUFFdEMsR0FBT0csWUFBWUgsR0FHOUIsaUJBQW1CLE1BQU8sVUFDMUIsa0JBQW9CLE1BQU8sZ0JBQzNCLHFCQUF1QixPQUFPcXNCLEdBQVdoWixLQUFPLFVBRWhELFFBQVFpWixHQUNKcnNCLEtBQUsrRCxpQkFBaUJxb0IsR0FBV0UsUUFBU0QsR0FHOUMsaUJBQWlCdHJCLEtBQXFCVSxHQUNsQzBSLE1BQU1wUCxpQkFBaUJoRCxLQUFxQlUsR0FHaEQsdUJBQ0kwUixNQUFNelMsdUJBQ05WLEtBQUtjLGdCQUFnQnNyQixHQUFXRSxRQUFTblUsR0FDekNuWSxLQUFLYyxnQkFBZ0J5UCxFQUFBLGVBQTJCZ0ksR0FDaER2WSxLQUFLYyxnQkFBZ0J5UCxFQUFBLGdCQUE0QmhFLEdBQ2pEdk0sS0FBS2MsZ0JBQWdCeVAsRUFBQSxlQUEyQjRLLEdBQ2hEbmIsS0FBS2MsZ0JBQWdCeVAsRUFBQSxtQkFBK0J3TCxHQUNwRC9iLEtBQUtjLGdCQUFnQnlQLEVBQUEsb0JBQWdDNEwsR0FDckRuYyxLQUFLYyxnQkFBZ0J5UCxFQUFBLGtCQUE4QjhMLEdBQ25EcmMsS0FBS2MsZ0JBQWdCeVAsRUFBQSxhQUF5QitRLElBQzlDdGhCLEtBQUtjLGdCQUFnQnlQLEVBQUEsZ0JBQTRCbVIsSUFDakQxaEIsS0FBS2MsZ0JBQWdCeVAsRUFBQSwwQkFBc0N3UixJQUMzRC9oQixLQUFLYyxnQkFBZ0J5UCxFQUFBLDhCQUEwQ2tYLElBRS9Eem5CLEtBQUtjLGdCQUFnQnlQLEVBQUEscUJBQWlDNlIsSUFDdERwaUIsS0FBS2MsZ0JBQWdCeVAsRUFBQSxxQkFBaUNxUyxJQUN0RDVpQixLQUFLYyxnQkFBZ0J5UCxFQUFBLDRCQUF3Q3dTLElBQzdEL2lCLEtBQUtjLGdCQUFnQnlQLEVBQUEsZ0JBQTRCeVMsSUFDakRoakIsS0FBS2MsZ0JBQWdCeVAsRUFBQSx3QkFBb0M2UyxJQUV6RHBqQixLQUFLYyxnQkFBZ0J5UCxFQUFBLGlCQUE2QmdVLElBQ2xEdmtCLEtBQUtjLGdCQUFnQnlQLEVBQUEsd0JBQW9DcVgsSUFDekQ1bkIsS0FBS2MsZ0JBQWdCeVAsRUFBQSw2QkFBeUNzVixJQUM5RDdsQixLQUFLYyxnQkFBZ0J5UCxFQUFBLG1DQUErQ3VhLElBRXBFOXFCLEtBQUtjLGdCQUFnQnlQLEVBQUEsc0JBQWtDNFYsSUFDdkRubUIsS0FBS2MsZ0JBQWdCeVAsRUFBQSxhQUF5QjhWLElBQzlDcm1CLEtBQUtjLGdCQUFnQnlQLEVBQUEsZUFBMkJrWSxJQUNoRHpvQixLQUFLYyxnQkFBZ0J5UCxFQUFBLDBCQUFzQ21ZLElBQzNEMW9CLEtBQUtjLGdCQUFnQnlQLEVBQUEsOEJBQTBDd1ksSUFDL0Qvb0IsS0FBS2MsZ0JBQWdCeVAsRUFBQSxpQ0FBNkM0WSxJQUNsRW5wQixLQUFLYyxnQkFBZ0J5UCxFQUFBLGlCQUE2QitZLElBQ2xEdHBCLEtBQUtjLGdCQUFnQnlQLEVBQUEseUJBQXFDc1osSUFDMUQ3cEIsS0FBS2MsZ0JBQWdCeVAsRUFBQSx5QkFBcUN5WixJQUMxRGhxQixLQUFLYyxnQkFBZ0J5UCxFQUFBLHNCQUFrQ2thLElBQ3ZEenFCLEtBQUtjLGdCQUFnQnlQLEVBQUEsZUFBMkJzYSxJQUNoRDdxQixLQUFLYyxnQkFBZ0J5UCxFQUFBLDBCQUFzQ3dhLElBQzNEL3FCLEtBQUtjLGdCQUFnQnlQLEVBQUEsOEJBQTBDMGEsSUFHL0RqckIsS0FBS2MsZ0JBQWdCeVAsRUFBQSx5QkFBcUMrYSxJQUMxRHRyQixLQUFLYyxnQkFBZ0J5UCxFQUFBLHdCQUFvQ2liLElBQ3pEeHJCLEtBQUtjLGdCQUFnQnlQLEVBQUEscUJBQWlDbWIsSUFDdEQxckIsS0FBS2MsZ0JBQWdCeVAsRUFBQSx3QkFBb0MyYixPLHVDQ3ZHMUQsTUFBTXZFLEVBQ1Qsa0JBQW9CLE9BQU8sRUFDM0IseUJBQTJCLE9BQU8sRUFDbEMsMEJBQTRCLE9BQU8sR0FJaEMsTUFBTTRFLEVBQW9CLENBQzdCLENBQUVDLEtBQU03RSxFQUFrQjZFLE1BQzFCLENBQUVDLFlBQWE5RSxFQUFrQjhFLGFBQ2pDLENBQUVDLGFBQWMvRSxFQUFrQitFLGdCLDhCQ1YvQixNQUFNbmMsRUFDVCwwQkFBNEIsTUFBTyxlQUNuQyxtQ0FBcUMsTUFBTyx3QkFDNUMsNkJBQStCLE1BQU8sa0JBQ3RDLDJCQUE2QixNQUFPLGdCQUNwQyw4QkFBZ0MsTUFBTyxtQkFFdkMsOEJBQWdDLE1BQU8sbUJBQ3ZDLGtDQUFvQyxNQUFPLHVCQUMzQyxxQ0FBdUMsTUFBTywwQkFDOUMscUNBQXVDLE1BQU8sMEJBQzlDLCtCQUFpQyxNQUFPLG9CQUN4Qyw4QkFBZ0MsTUFBTyxtQkFFdkMsMkJBQTZCLE1BQU8sZ0JBQ3BDLDJCQUE2QixNQUFPLGdCQUNwQywwQkFBNEIsTUFBTyxlQUNuQyxnQ0FBa0MsTUFBTyxxQkFFekMsOEJBQWdDLE1BQU8sbUJBQ3ZDLCtCQUFpQyxNQUFPLG9CQUV4Qyx3QkFBMEIsTUFBTyxhQUNqQyw2QkFBK0IsTUFBTyxrQkFDdEMsd0JBQTBCLE1BQU8sYUFDakMsMkJBQTZCLE1BQU8sZ0JBQ3BDLHlDQUEyQyxNQUFPLDhCQUVsRCxpQ0FBbUMsTUFBTyxzQkFFMUMsZ0NBQWtDLE1BQU8scUJBQ3pDLGdDQUFrQyxNQUFPLHFCQUd6QywwQkFBNEIsTUFBTyxlQUNuQyx1Q0FBeUMsTUFBTyw0QkFDaEQsbUNBQXFDLE1BQU8sd0JBRTVDLG1DQUFxQyxNQUFPLHdCQUU1QywyQkFBNkIsTUFBTyxnQkFFcEMsK0JBQWlDLE1BQU8sb0JBRXhDLDRCQUE4QixNQUFPLGlCQUNyQyxtQ0FBcUMsTUFBTyx3QkFDNUMsd0NBQTBDLE1BQU8sNkJBRWpELDRCQUE4QixNQUFPLGlCQUNyQywyQkFBNkIsTUFBTyxnQkFDcEMsNEJBQThCLE1BQU8saUJBQ3JDLHlCQUEyQixNQUFPLGNBQ2xDLGlDQUFtQyxNQUFPLHNCQUUxQywrQkFBaUMsTUFBTyxvQkFDeEMsNEJBQThCLE1BQU8saUJBRXJDLDBCQUE0QixNQUFPLGVBQ25DLHdCQUEwQixNQUFPLGFBRWpDLHFDQUF1QyxNQUFPLDBCQUM5Qyx5Q0FBMkMsTUFBTyw4QkFFbEQsNENBQThDLE1BQU8saUNBQ3JELDhDQUFnRCxNQUFPLG1DQUN2RCxpQ0FBbUMsTUFBTyxzQkFDMUMsaUNBQW1DLE1BQU8sc0JBRTFDLDJDQUE2QyxNQUFPLGdDQUNwRCwyQ0FBNkMsTUFBTyxnQ0FFcEQsbUNBQXFDLE1BQU8sd0JBQzVDLHlDQUEyQyxNQUFPLDhCQUVsRCxvQ0FBc0MsTUFBTyx5QkFDN0Msb0NBQXNDLE1BQU8seUJBQzdDLHlDQUEyQyxNQUFPLDhCQUNsRCxvQ0FBc0MsTUFBTyx5QkFDN0MsaUNBQW1DLE1BQU8sc0JBRTFDLDRCQUE4QixNQUFPLGlCQUNyQywwQkFBNEIsTUFBTyxlQUduQyxxQ0FBdUMsTUFBTywwQkFHOUMsb0NBQXNDLE1BQU8seUJBQzdDLHFDQUF1QyxNQUFPLDBCQUM5QyxtQ0FBcUMsTUFBTyx3QkFDNUMsZ0NBQWtDLE1BQU8scUJBQ3pDLG1DQUFxQyxNQUFPLHdCQUM1QyxtQ0FBcUMsTUFBTywyQix1Q0M1RnpDLE1BQU1pVixFQUVULG1CQUFxQixNQUFPLFFBQzVCLGlCQUFtQixNQUFPLE1BQzFCLG1CQUFxQixNQUFPLFFBQzVCLG1CQUFxQixNQUFPLFFBQzVCLG9CQUFzQixNQUFPLFNBQzdCLG1CQUFxQixNQUFPLFFBQzVCLGtCQUFvQixNQUFPLE9BQzNCLHFCQUF1QixNQUFPLFVBQzlCLGtCQUFvQixNQUFPLE9BQzNCLHdCQUEwQixNQUFPLGFBQ2pDLGtCQUFvQixNQUFPLE9BQzNCLHFCQUF1QixNQUFPLFVBQzlCLG9CQUFzQixNQUFPLFNBRzdCLG1CQUFxQixNQUFPLFFBQzVCLGlCQUFtQixNQUFPLE1BQzFCLHNCQUF3QixNQUFPLFdBQy9CLHNCQUF3QixNQUFPLFlBRzVCLE1BQU1tSCxFQUFjbnRCLE9BQU9tYixRQUFRbmIsT0FBT290QiwwQkFBMEJwSCxJQUN0RXpLLFFBQU8sRUFBRWhiLEVBQUs4c0IsS0FBMEMsbUJBQW5CQSxFQUFXcm5CLE1BQ2hEc25CLEtBQUksRUFBRS9zQixNQUNJLENBQUUsQ0FBQ0EsR0FBTXlsQixFQUFZemxCLFEsNkNDMUI3QixNQUFNMlosRUFDVCxZQUFZRSxFQUFjQyxHQUN0QjdaLEtBQUs0WixhQUFlQSxFQUNwQjVaLEtBQUtrYSxnQkFBa0IsR0FDdkJsYSxLQUFLcWEsdUJBQW9CaFosRUFDekJyQixLQUFLNlosTUFBUUEsRUFHakIsMEJBQ0ksT0FBTzdaLEtBQUtrYSxnQkFBZ0IsTSwyQ0NUcEMsTUFBTSxNQUFFMVMsR0FBVSxFQUFRLE1BRXBCLGdCQUFFdWxCLEdBQW9CLEVBQVEsS0FHN0IsTUFBTTlTLFVBQTJCelMsRUFDcEMsU0FDSSxPQUFPeEgsS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLHNCQUUzQixZQUFZb2xCLEdBQ1I3WixNQUFNOEcsRUFBbUI3RyxLQUFPNFosRUFBTzlVLEdBQUksSUFBSTZVLEVBQWdCQyxJQUduRSx1QkFDSWh0QixLQUFLd1QsR0FBR3VNLGtCQUFvQi9mLEtBQUt3VCxHQUFHeVosWUFDcENqdEIsS0FBS3dULEdBQUcyTixpQkFBbUJuaEIsS0FBS3dULEdBQUcwWixrQkFHdkMsWUFBWUMsR0FDUm50QixLQUFLd1QsR0FBR3VNLG1CQUFxQm9OLEVBR2pDLFlBQVlDLEdBQ1JwdEIsS0FBS3dULEdBQUc2WixnQkFBa0JELEVBQzFCcHRCLEtBQUt3VCxHQUFHNlosZUFBaUJwYyxLQUFLcWMsSUFBSSxFQUFHdHRCLEtBQUt3VCxHQUFHNlosZ0JBRXpDcnRCLEtBQUt3VCxHQUFHNlosZUFBaUIsRUFFekJydEIsS0FBS3NILE9BQU92RCxpQkFBaUIsbUJBQThCL0QsS0FBS2tZLEdBQzVEbFksS0FBS3dULEdBQUc2WixlQUFnQnJ0QixLQUFLd1QsR0FBRytaLGdCQUdwQ3hsQixRQUFRQyxJQUFPaEksS0FBS2tZLEdBQVIsU0FHaEJsWSxLQUFLc0gsT0FBT3ZELGlCQUFpQixtQkFBOEIvRCxLQUFLa1ksR0FBSWxZLEtBQUt3VCxHQUFHNlosZUFBZ0JydEIsS0FBS3dULEdBQUdnYSxZQUd4RyxjQUFjQyxHQUNWLE9BQUl6dEIsS0FBS3dULEdBQUdrYSxlQUFlcGtCLElBQUlta0IsR0FDcEJ6dEIsS0FBSzJsQixNQUFRM2xCLEtBQUt3VCxHQUFHa2EsZUFBZWxvQixJQUFJaW9CLEdBRXhDenRCLEtBQUsybEIsTUFJcEIsU0FDSSxPQUFPM2xCLEtBQUt3VCxHQUFHMEUsR0FHbkIsbUJBQ0ksT0FBT2xZLEtBQUt3VCxHQUFHaVcsYUFHbkIsa0JBQ0ksT0FBT3pwQixLQUFLd1QsR0FBR2UsWUFHbkIsZ0JBQWdCNVUsR0FDUkssS0FBS3dULEdBQUdlLGNBQ1J2VSxLQUFLd1QsR0FBR2UsWUFBWXhJLFVBQVcsR0FHbkMvTCxLQUFLd1QsR0FBR2UsWUFBYzVVLEVBQ3RCSyxLQUFLd1QsR0FBR2UsWUFBWXhJLFVBQVcsRUFHbkMsa0JBQ0ksT0FBTy9MLEtBQUt3VCxHQUFHa0ksWUFHbkIsWUFDSSxPQUFPMWIsS0FBS3dULEdBQUcrRyxNQUduQix3QkFDSSxPQUFPdmEsS0FBS3dULEdBQUd1TSxrQkFHbkIsc0JBQXNCcGdCLEdBQ2xCSyxLQUFLd1QsR0FBR3VNLGtCQUFvQnBnQixFQUdoQyx1QkFDSSxPQUFPSyxLQUFLd1QsR0FBRzJOLGlCQUduQixxQkFBcUJ4aEIsR0FDakJLLEtBQUt3VCxHQUFHMk4saUJBQW1CeGhCLEVBQzNCSyxLQUFLc0gsT0FBT3ZELGlCQUFpQixlQUEwQi9ELEtBQUtrWSxHQUN4RGxZLEtBQUttaEIsaUJBQWtCbmhCLEtBQUtrdEIsbUJBR3BDLHdCQUNJLE9BQU9sdEIsS0FBS3dULEdBQUcwWixrQkFHbkIsWUFDSSxPQUFPbHRCLEtBQUt3VCxHQUFHbVMsTUFHbkIscUJBQ0ksT0FBTzNsQixLQUFLd1QsR0FBRzZaLGVBR25CLGtCQUNJLE9BQU9ydEIsS0FBS3dULEdBQUc2WixlQUduQixhQUNJLE9BQU9ydEIsS0FBS3dULEdBQUc2WixnQkFBa0IsRUFHckMsbUJBQ0ksT0FBT3J0QixLQUFLd1QsR0FBR2tVLGFBR25CLHFCQUNJLE9BQU8xbkIsS0FBS3dULEdBQUdpUSxlQUduQixtQkFBbUI5akIsR0FDZkssS0FBS3dULEdBQUdpUSxlQUFpQjlqQixFQUc3QixhQUNJLE9BQU9LLEtBQUt3VCxHQUFHMlAsVSxvRENoSWhCLE1BQU00SixFQUNULFlBQVlDLEdBQ1JodEIsS0FBS2tZLEdBQUs4VSxFQUFPOVUsR0FDakJsWSxLQUFLdWEsTUFBUXlTLEVBQU96UyxNQUNwQnZhLEtBQUswYixZQUFjc1IsRUFBT3RSLGFBQWUsR0FDekMxYixLQUFLeXBCLGFBQWV1RCxFQUFPdkQsY0FBZ0J6cEIsS0FBS2tZLEdBQ2hEbFksS0FBS3VVLGlCQUFjbFQsRUFHbkJyQixLQUFLNGEsV0FBYW9TLEVBQU9wUyxZQUFjLEVBQ3ZDNWEsS0FBS2l0QixZQUFjRCxFQUFPQyxhQUFlLEVBQ3pDanRCLEtBQUttakIsT0FBUzZKLEVBQU83SixRQUFVLElBQy9CbmpCLEtBQUtrdEIsa0JBQW9CLEVBQ3pCbHRCLEtBQUttaEIsaUJBQW1CbmhCLEtBQUtrdEIsa0JBQzdCbHRCLEtBQUsrZixrQkFBb0IvZixLQUFLaXRCLFlBRTlCanRCLEtBQUsybEIsTUFBUXFILEVBQU9ySCxPQUFTLEVBRTdCM2xCLEtBQUt3dEIsV0FBYVIsRUFBT1EsWUFBYyxFQUN2Q3h0QixLQUFLcXRCLGVBQWlCcnRCLEtBQUt3dEIsV0FFM0J4dEIsS0FBSzJ0QixRQUFVWCxFQUFPVyxTQUFXLEVBQ2pDM3RCLEtBQUs0dEIsWUFBYzV0QixLQUFLMnRCLFFBRXhCM3RCLEtBQUswdEIsZUFBaUJWLEVBQU9VLGdCQUFrQixJQUFJNWUsSUFFbkQ5TyxLQUFLMG5CLGFBQWVzRixFQUFPdEYsY0FBZ0IsRUFFM0MxbkIsS0FBS3lqQixlQUFpQnVKLEVBQU92SixnQkFBa0IsYSw0Q0M1QnZELE1BQU0sTUFBRWpjLEdBQVUsRUFBUSxNQUdwQixVQUFFcW1CLEdBQWMsRUFBUSxLQUV2QixNQUFNdmQsVUFBcUI5SSxFQUM5QixTQUNJLE9BQU94SCxLQUFLNEgsVUFFaEIsa0JBQW9CLE1BQU8sZUFFM0IsWUFBWWttQixFQUFTQyxFQUFtQnhmLEVBQU9NLEVBQVNtZixHQUNwRDdhLE1BQU03QyxFQUFhOEMsTUFFbkJwVCxLQUFLMkgsUUFBUSxDQUNUbW1CLFFBQVNBLEVBQ1RDLGtCQUFtQkEsRUFDbkJ4ZixNQUFPQSxFQUNQTSxRQUFTQSxFQUNUb2YsZUFBZ0JELElBSXhCLGNBSUEsZ0JBQWdCM0osR0FDWixNQUFNeUosRUFBVTl0QixLQUFLd1QsR0FBR3NhLFFBRXhCLElBQUlJLEVBQWNKLEVBQVEsR0FDdEJLLEVBQXdCaGUsRUFBQSxpQkFBcUIrZCxFQUFhN0osR0FDOUQsSUFBSyxNQUFNblksS0FBUTRoQixFQUFTLENBQ3hCLE1BQU1NLEVBQWFqZSxFQUFBLGlCQUFxQmpFLEVBQU1tWSxHQUUxQytKLEVBQWFELElBQ2JBLEVBQXdCQyxFQUN4QkYsRUFBY2hpQixHQUl0QixPQUFPZ2lCLEVBR1gsb0JBQW9CN0osR0FDaEIsTUFBTTJKLEVBQVVodUIsS0FBS3dULEdBQUd5YSxlQUV4QixJQUFJQyxFQUFjRixFQUFRLEdBQ3RCRyxFQUF3QmhlLEVBQUEsaUJBQXFCK2QsRUFBYTdKLEdBQzlELElBQUssTUFBTW5ZLEtBQVE4aEIsRUFBUyxDQUN4QixNQUFNSSxFQUFhamUsRUFBQSxpQkFBcUJqRSxFQUFNbVksR0FFMUMrSixFQUFhRCxJQUNiQSxFQUF3QkMsRUFDeEJGLEVBQWNoaUIsR0FJdEIsT0FBT2dpQixFQUdYLGtCQUFrQkcsRUFBTUMsR0FDcEIsTUFBTUMsRUFBV0YsRUFBS0UsU0FBU0QsR0FDekJFLEVBQVlGLEVBQUdHLFFBQVFDLElBQUlMLEVBQUtJLFNBQVNFLFlBQ3pDQyxFQUFNLElBQUluaUIsR0FBR29pQixJQUFJUixFQUFNRyxHQUV2Qk0sRUFBVzl1QixLQUFLd1QsR0FBR3VhLGtCQUN6QixJQUFLLE1BQU1qZCxLQUFRZ2UsRUFBVSxDQUN6QixNQUFNQyxFQUFjLElBQUl0aUIsR0FBR21FLEtBRTNCLEdBRGVFLEVBQUtrZSxjQUFjSixFQUFLRyxJQUViQSxFQUFZUixTQUFTRixHQUV2QkUsRUFDaEIsT0FBTyxFQUtuQixPQUFPLEVBR1gsWUFDSSxPQUFPdnVCLEtBQUt3VCxHQUFHakYsTUFJbkIsVUFBVThWLEVBQWE0SyxHQUNuQixNQUFNQyxFQUFzQixHQUN0QkMsRUN6RlAsU0FBMkJDLEdBQzlCLE1BQU1DLEVBQVMsR0FVZixPQVJBQSxFQUFPdG9CLEtBQUssSUFBSTBGLEdBQUdtRSxLQUFLd2UsRUFBTXpqQixFQUFHeWpCLEVBQU14akIsRUFBR3dqQixFQUFNdmpCLEVBQUksSUFFcER3akIsRUFBT3RvQixLQUFLLElBQUkwRixHQUFHbUUsS0FBS3dlLEVBQU16akIsRUFBSSxFQUFHeWpCLEVBQU14akIsRUFBR3dqQixFQUFNdmpCLElBRXBEd2pCLEVBQU90b0IsS0FBSyxJQUFJMEYsR0FBR21FLEtBQUt3ZSxFQUFNempCLEVBQUksRUFBR3lqQixFQUFNeGpCLEVBQUd3akIsRUFBTXZqQixJQUVwRHdqQixFQUFPdG9CLEtBQUssSUFBSTBGLEdBQUdtRSxLQUFLd2UsRUFBTXpqQixFQUFHeWpCLEVBQU14akIsRUFBR3dqQixFQUFNdmpCLEVBQUksSUFFN0N3akIsRUQ4RW9CQyxDQUFrQmpMLEdBRXpDLElBQUssTUFBTWtMLEtBQWlCSixFQUNIbnZCLEtBQUt1TyxNQUFNc0ssTUFBTXRHLEdBQWVnZCxFQUFjampCLE9BQU9pRyxNQUV0RTJjLEVBQW9Cbm9CLEtBQUt3b0IsR0FJakMsR0FBSUwsRUFBb0J0dEIsT0FBUyxFQUFHLENBQ2hDLE1BQU1tbEIsRUFBbUIxQyxFQUFZa0ssU0FBU1UsR0FDOUMsSUFBSyxNQUFNTyxLQUFzQk4sRUFFN0IsR0FEd0JNLEVBQW1CakIsU0FBU1UsR0FDOUJsSSxFQUNsQixPQUFPLEVBR2YsT0FBTyxFQUVQLE9BQU8sRUFJZixlQUFlN1gsR0FDWCxPQUFPbFAsS0FBS3dULEdBQUczRSxRQUFRckosSUFBSTBKLEdBRy9CLGFBQWF1Z0IsRUFBT0MsR0FDaEIsTUFBTXhmLEVBQU9DLEVBQUEseUJBQTZCc2YsRUFBTTlqQixFQUFHOGpCLEVBQU01akIsRUFBRzZqQixFQUFNL2pCLEVBQUcrakIsRUFBTTdqQixHQUMzRSxPQUFPc0UsRUFBQSxpQkFBcUJELEVBQU1sUSxLQUFLd1QsR0FBR3NhLFNBRzlDLGFBQWE1aEIsR0FDVCxPQUFPbE0sS0FBS3dULEdBQUdzYSxRQUFRN2hCLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBT0osUSw4Q0UxSDNDLE1BQU0yaEIsRUFDVCxjQUNJN3RCLEtBQUs4dEIsUUFBVSxNLCtCQ0ZoQixNQUFNNkIsRUFDVCxjQUNJM3ZCLEtBQUt5SCxLQUFPLEdBR2hCLEtBQUs5SCxFQUFPaXdCLEVBQVcsR0FDbkIsT0FBTzV2QixLQUFLeUgsS0FBS1YsS0FBSyxDQUNsQnBILE1BQU9BLEVBQ1Bpd0IsU0FBVUEsSUFJbEIsTUFDSSxJQUFJNW9CLEVBQVEsRUFDUjJNLEVBQU1rYyxJQUNWLElBQUssSUFBSWxsQixFQUFJLEVBQUdBLEVBQUkzSyxLQUFLeUgsS0FBSzdGLE9BQVErSSxJQUFLLENBQ3ZDLElBQUlpbEIsRUFBVzV2QixLQUFLeUgsS0FBS2tELEdBQUdpbEIsU0FDeEIzZSxLQUFLMEMsSUFBSUEsRUFBS2ljLEtBQWNBLElBQzVCamMsRUFBTWljLEVBQ041b0IsRUFBUTJELEdBR2hCLE9BQU8zSyxLQUFLeUgsS0FBS1IsT0FBT0QsRUFBTyxHQUFHLEdBQUdySCxNQUd6QyxPQUNJLE9BQU9LLEtBQUt5SCxLQUFLN0YsT0FHckIsUUFDSSxPQUE0QixJQUFyQjVCLEtBQUt5SCxLQUFLN0YsUUM1QmxCLE1BQU11TyxFQUNULDBCQUEwQmlQLEVBQU8wUSxHQUM3QixJQUFJQyxFQUFXLEdBQ2YsTUFBTUMsRUFBZSxHQUNyQkQsRUFBU2hwQixLQUFLcVksR0FFZCxNQUFNNlEsRUFBVyxJQUFJbmhCLElBQ3JCbWhCLEVBQVN2Z0IsSUFBSTBQLEVBQU9BLEdBRXBCLElBQUk4USxFQUFRLEVBRVosS0FBT0gsRUFBU251QixPQUFTLEdBQUtzdUIsRUFBUUosR0FBWSxDQUM5QyxNQUFNSyxFQUFjLEdBQ3BCLElBQUssTUFBTUMsS0FBV0wsRUFDbEIsSUFBSyxJQUFJcGxCLEVBQUksRUFBR0EsRUFBSXlsQixFQUFRdGtCLGVBQWVsSyxPQUFRK0ksSUFBSyxDQUNwRCxNQUFNMGxCLEVBQU9ELEVBQVF0a0IsZUFBZW5CLEdBRy9CMGxCLEVBQUt0a0IsVUFBY2trQixFQUFTM21CLElBQUkrbUIsS0FDakNGLEVBQVlwcEIsS0FBS3NwQixHQUNqQkwsRUFBYWpwQixLQUFLc3BCLEdBQ2xCSixFQUFTdmdCLElBQUkyZ0IsRUFBTUQsSUFLL0JMLEVBQVdJLEVBRVhELElBR0osT0FBT0YsRUFJWCxxQkFBcUI1USxFQUFPa1IsR0FDeEIsTUFBTVAsRUFBVyxJQUFJSixFQUNyQkksRUFBU2hwQixLQUFLcVksRUFBTyxHQUVyQixNQUFNNlEsRUFBVyxJQUFJbmhCLElBQ2Z5aEIsRUFBWSxJQUFJemhCLElBS3RCLElBSEFtaEIsRUFBU3ZnQixJQUFJMFAsRUFBT0EsR0FDcEJtUixFQUFVN2dCLElBQUkwUCxFQUFPLElBRWIyUSxFQUFTUyxTQUFTLENBQ3RCLE1BQU1KLEVBQVVMLEVBQVMvUSxNQUV6QixHQUFJb1IsRUFBUTlqQixPQUFPZ2tCLEdBQ2YsTUFHSixJQUFLLElBQUkzbEIsRUFBSSxFQUFHQSxFQUFJeWxCLEVBQVF0a0IsZUFBZWxLLE9BQVErSSxJQUFLLENBQ3BELE1BQU0wbEIsRUFBT0QsRUFBUXRrQixlQUFlbkIsR0FFOUI4bEIsRUFBVUYsRUFBVS9xQixJQUFJNHFCLEdBQVcsRUFFekMsSUFBS0MsRUFBS3RrQixZQUFjd2tCLEVBQVVqbkIsSUFBSSttQixJQUFTSSxFQUFVRixFQUFVL3FCLElBQUk2cUIsSUFBUSxDQUMzRUUsRUFBVTdnQixJQUFJMmdCLEVBQU1JLEdBQ3BCLElBQUliLEVBQVdhLEVBQVV6d0IsS0FBSzB3QixVQUFVTCxFQUFNQyxHQUM5Q1AsRUFBU2hwQixLQUFLc3BCLEVBQU1ULEdBQ3BCSyxFQUFTdmdCLElBQUkyZ0IsRUFBTUQsS0FNL0IsSUFBSUEsRUFBVUUsRUFDVkssR0FBZSxFQUNuQixNQUFNOVAsRUFBTyxHQUdiLElBRkFBLEVBQUs5WixLQUFLcXBCLElBRUZBLEVBQVE5akIsT0FBTzhTLEtBQVd1UixHQUMxQlYsRUFBUzNtQixJQUFJOG1CLEtBQWFBLEVBQVE5akIsT0FBT2drQixJQUN6Q0YsRUFBVUgsRUFBU3pxQixJQUFJNHFCLEdBQ3ZCdlAsRUFBSzlaLEtBQUtxcEIsSUFFVk8sR0FBZSxFQUl2QixPQUFJQSxPQUNBLEVBSU85UCxFQUlmLDhCQUE4QnpCLEVBQU9rUixHQUNqQyxNQUFNUCxFQUFXLElBQUlKLEVBQ3JCSSxFQUFTaHBCLEtBQUtxWSxFQUFPLEdBRXJCLE1BQU02USxFQUFXLElBQUluaEIsSUFDZnloQixFQUFZLElBQUl6aEIsSUFLdEIsSUFIQW1oQixFQUFTdmdCLElBQUkwUCxFQUFPQSxHQUNwQm1SLEVBQVU3Z0IsSUFBSTBQLEVBQU8sSUFFYjJRLEVBQVNTLFNBQVMsQ0FDdEIsTUFBTUosRUFBVUwsRUFBUy9RLE1BRXpCLEdBQUlvUixFQUFROWpCLE9BQU9na0IsR0FDZixNQUdKLElBQUssSUFBSTNsQixFQUFJLEVBQUdBLEVBQUl5bEIsRUFBUXRrQixlQUFlbEssT0FBUStJLElBQUssQ0FDcEQsTUFBTTBsQixFQUFPRCxFQUFRdGtCLGVBQWVuQixHQUM5QmltQixFQUFZNXdCLEtBQUs2d0IsZUFBZVIsRUFBTUQsR0FDdENLLEVBQVVGLEVBQVUvcUIsSUFBSTRxQixHQUFXUSxFQUV6QyxJQUFLUCxFQUFLdGtCLFlBQWN3a0IsRUFBVWpuQixJQUFJK21CLElBQVNJLEVBQVVGLEVBQVUvcUIsSUFBSTZxQixJQUFRLENBQzNFRSxFQUFVN2dCLElBQUkyZ0IsRUFBTUksR0FDcEIsSUFBSWIsRUFBV2EsRUFBVXp3QixLQUFLMHdCLFVBQVVMLEVBQU1DLEdBQzlDUCxFQUFTaHBCLEtBQUtzcEIsRUFBTVQsR0FDcEJLLEVBQVN2Z0IsSUFBSTJnQixFQUFNRCxLQU0vQixJQUFJQSxFQUFVRSxFQUNWSyxHQUFlLEVBQ25CLE1BQU05UCxFQUFPLEdBR2IsSUFGQUEsRUFBSzlaLEtBQUtxcEIsSUFFRkEsRUFBUTlqQixPQUFPOFMsS0FBV3VSLEdBQzFCVixFQUFTM21CLElBQUk4bUIsS0FBYUEsRUFBUTlqQixPQUFPZ2tCLElBQ3pDRixFQUFVSCxFQUFTenFCLElBQUk0cUIsR0FDdkJ2UCxFQUFLOVosS0FBS3FwQixJQUVWTyxHQUFlLEVBSXZCLE9BQUlBLE9BQ0EsRUFJTzlQLEVBSWYsc0JBQXNCaVEsRUFBS0MsR0FDdkIsT0FBU0QsRUFBSW5sQixFQUFJb2xCLEVBQUlwbEIsSUFBTW1sQixFQUFJbmxCLEVBQUlvbEIsRUFBSXBsQixJQUNoQ21sQixFQUFJbGxCLEVBQUltbEIsRUFBSW5sQixJQUFNa2xCLEVBQUlsbEIsRUFBSW1sQixFQUFJbmxCLElBQzlCa2xCLEVBQUlqbEIsRUFBSWtsQixFQUFJbGxCLElBQU1pbEIsRUFBSWpsQixFQUFJa2xCLEVBQUlsbEIsR0FHekMsaUJBQWlCOFUsRUFBR3RjLEdBQ2hCLE9BQU80TSxLQUFLK2YsSUFBSXJRLEVBQUVoVixFQUFJdEgsRUFBRXNILEdBQUtzRixLQUFLK2YsSUFBSXJRLEVBQUUvVSxFQUFJdkgsRUFBRXVILEdBQUtxRixLQUFLK2YsSUFBSXJRLEVBQUU5VSxFQUFJeEgsRUFBRXdILEdBR3hFLDhCQUE4Qm9sQixFQUFJQyxFQUFJQyxFQUFJQyxHQUN0QyxJQUFJQyxFQUFLRixFQUFLRixFQUNWSyxFQUFLRixFQUFLRixFQUNWSyxFQUFLdGdCLEtBQUsrZixJQUFJSyxHQUNkRyxFQUFLdmdCLEtBQUsrZixJQUFJTSxHQUVsQixNQUFNRyxFQUFTSixFQUFLLEVBQUksR0FBSyxFQUN2QkssRUFBU0osRUFBSyxFQUFJLEdBQUssRUFHdkI3c0IsRUFBSSxDQUFFa0gsRUFBR3NsQixFQUFJcmxCLEVBQUcsRUFBR0MsRUFBR3FsQixHQUN0QjdCLEVBQVMsR0FFZixJQUFLLElBQUlzQyxFQUFLLEVBQUdDLEVBQUssRUFBR0QsRUFBS0osR0FBTUssRUFBS0osSUFDaEMsR0FBTUcsR0FBTUosR0FBTSxHQUFNSyxHQUFNSixHQUUvQi9zQixFQUFFa0gsR0FBSzhsQixFQUNQRSxNQUdBbHRCLEVBQUVvSCxHQUFLNmxCLEVBQ1BFLEtBRUp2QyxFQUFPdG9CLEtBQUssQ0FBRTRFLEVBQUdsSCxFQUFFa0gsRUFBR0MsRUFBRyxFQUFHQyxFQUFHcEgsRUFBRW9ILElBR3JDLE9BQU93akIsRUFJWCxzQkFBc0JuZixFQUFNNGMsR0FDeEIsSUFBSStFLEdBQWMsRUFDbEIsSUFBSyxNQUFNekMsS0FBU2xmLEVBQ1g0YyxFQUFJN2dCLE1BQUtnSCxHQUFLQSxFQUFFM0csT0FBTzhpQixPQUN4QnlDLEdBQWMsR0FJdEIsT0FBT0EsSywrQkNuTWYsTUFBTSxNQUFFcnFCLEdBQVUsRUFBUSxNQUVwQixZQUFFc3FCLEdBQWdCLEVBQVEsS0FHekIsTUFBTTFaLFVBQXVCNVEsRUFDaEMsU0FDSSxPQUFPeEgsS0FBSzRILFVBRWhCLGtCQUFvQixNQUFPLGlCQUUzQixjQUNJdUwsTUFBTWlGLEVBQWVoRixLQUFNLElBQUkwZSxHQUduQyxvQkFBb0JDLEdBQ2hCL3hCLEtBQUt3VCxHQUFHeUksYUFBZThWLEVBRzNCLGtCQUNJLE9BQU8veEIsS0FBS3dULEdBQUd5SSxhQUduQixvQkFDSSxPQUFPamMsS0FBS3dULEdBQUd3ZSxlQUduQixrQkFBa0JyeUIsR0FDZEssS0FBS3dULEdBQUd3ZSxlQUFpQnJ5QixLLHdFQzVCMUIsTUFBTTJiLEVBQW9CLENBQzdCMlcsWUFBYSxjQUNiQyxPQUFRLFNBQ1JDLFNBQVUsV0FDVkMsVUFBVyxhQUlSLE1BQU1OLEVBQ1QsY0FDSTl4QixLQUFLaWMsYUFBZVgsRUFBa0IyVyxZQUN0Q2p5QixLQUFLZ3lCLGVBQWlCLFUsNkRDVHZCLE1BQU10YixFQUNULGNBQ0kxVyxLQUFLNFcsZUFBaUIsR0FDdEI1VyxLQUFLNlcsZUFBaUIsSUFBSS9ILElBSTlCLFFBQVEySSxHQUNKelgsS0FBSzRXLGVBQWU3UCxLQUNoQixJQUFJLElBQWMwUSxPLDRDQ1R2QixNQUFNdVUsRUFDVCxZQUFZdmtCLEdBQ1J6SCxLQUFLa1gsTUFBTyxTQUNabFgsS0FBS2tZLEdBQUt6USxFQUFLeVEsR0FDZmxZLEtBQUtxeUIsS0FBTzVxQixFQUFLNHFCLEtBQ2pCcnlCLEtBQUsrQixLQUFPMEYsRUFBSzFGLEtBQ2pCL0IsS0FBS3N5QixZQUFjN3FCLEVBQUs2cUIsWUFDeEJ0eUIsS0FBSzBYLEtBQU9qUSxFQUFLaVEsS0FDakIxWCxLQUFLc1gsS0FBTzdQLEVBQUs2UCxNQUFRLEVBQ3pCdFgsS0FBSzRYLFVBQVluUSxFQUFLbVEsV0FBYSxVLDRDQ1ZwQyxNQUFNaEUsRUFDVCxrQixjQ0ZHLFNBQVMyZSxJQUdaLElBRkEsSUFBSUMsRUFBSSxHQUNKQyxFQUFZLG1CQUNQOW5CLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQjZuQixFQUFFN25CLEdBQUs4bkIsRUFBVUMsT0FBT3poQixLQUFLdUksTUFBc0IsR0FBaEJ2SSxLQUFLd0ksVUFBa0IsR0FXOUQsT0FSQStZLEVBQUUsSUFBTSxJQUdSQSxFQUFFLElBQU1DLEVBQVVDLE9BQWdCLEVBQVJGLEVBQUUsSUFBYSxFQUFLLEdBRTlDQSxFQUFFLEdBQUtBLEVBQUUsSUFBTUEsRUFBRSxJQUFNQSxFQUFFLElBQU0sSUFFcEJBLEVBQUVHLEtBQUssSSx3RkNUdEIsTUFBTSxTQUFFNXRCLEdBQWEsRUFBUSxLQUV0QixNQUFNaWhCLFVBQThCamhCLEVBQ3ZDLGtCQUFvQixNQUFPLHlCQUUzQixZQUFZbVQsRUFBSWpULEVBQWUydEIsR0FDM0J6ZixNQUFNNlMsRUFBc0I1UyxLQUFPOEUsR0FDbkNsWSxLQUFLa1ksR0FBS0EsRUFFVixJQUFJelIsRUFBZ0IsQ0FDaEIsMEJBQ0EscUJBQWdDekcsS0FBS2tZLEdBQ3JDLHlCQUFvQ2xZLEtBQUtrWSxHQUN6Qyx3QkFBbUNsWSxLQUFLa1ksR0FDeEMsMEJBQXFDbFksS0FBS2tZLEdBQzFDLGtCQUE2QmxZLEtBQUtrWSxHQUNsQyxtQkFBOEJsWSxLQUFLa1ksR0FDbkMsZ0JBQTJCbFksS0FBS2tZLEdBQ2hDLHNCQUFpQ2xZLEtBQUtrWSxHQUN0QyxpQkFDQSxzQkFJSnpSLEVBQWdCQSxFQUFjeEUsT0FBTzJ3QixHQUVyQzV5QixLQUFLa0csc0JBQXNCTyxHQUUzQnpHLEtBQUtpRixjQUFnQkEsRUFDckJqRixLQUFLaUYsY0FBY3NELEdBQUcsb0JBQXFCdkksS0FBSzZ5QixrQkFBbUI3eUIsTUFDbkVBLEtBQUtpRixjQUFjc0QsR0FBRyxlQUFnQnZJLEtBQUs4eUIsbUJBQW9COXlCLE1BRS9EQSxLQUFLaUYsY0FBY3NELEdBQUcsV0FBVyxLQUM3QnZJLEtBQUtpRixjQUFjc0csSUFBSSxvQkFBcUJ2TCxLQUFLNnlCLGtCQUFtQjd5QixNQUNwRUEsS0FBS2lGLGNBQWNzRyxJQUFJLGVBQWdCdkwsS0FBSzh5QixtQkFBb0I5eUIsU0FJeEUsV0FBV3VGLEdBQ1A0TixNQUFNck4sV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ2hDekIsS0FBS2lGLGVBQ0xqRixLQUFLaUYsY0FBYzh0QixLQUFLaHlCLEVBQWtCZixLQUFLa1ksTUFBT3pXLEdBRzFELElBQUssTUFBTXV4QixLQUFhaHpCLEtBQUtpRixjQUFjbUksT0FDdkMsR0FBSTVOLE9BQU9rRixlQUFlUyxLQUFLbkYsS0FBS2lGLGNBQWNtSSxPQUFRNGxCLEdBQVksQ0FDbEUsTUFBTUMsRUFBa0JqekIsS0FBS2lGLGNBQWNtSSxPQUFPNGxCLEdBRUEsbUJBQXZDQyxFQUFnQi9wQixvQkFFdkIrcEIsRUFBZ0IvcEIsbUJBQW1CbkksRUFBa0JmLEtBQUtrWSxNQUFPelcsR0FLN0UsT0FBUVYsR0FDSixLQUFLLGlCQUNEZixLQUFLa3pCLG9CQUNMLE1BQ0osS0FBSyxxQkFDRCxNQUFNdFIsRUFBZTVoQixLQUFLc0gsT0FBT25FLGNBQWMsVUFDcEJuRCxLQUFLc0gsT0FBT25FLGNBQWMsU0FBMEJuRCxLQUFLa1ksSUFDakUzRCxZQUFjcU4sRUFBYWlILGdCQUFnQjdvQixLQUFLaUYsY0FBYzJNLG9CQUVqRixNQUNKLEtBQUsscUJBQWdDNVIsS0FBS2tZLEdBQ3RDbFksS0FBS216QixxQkFBcUIxeEIsRUFBSyxJQUMvQixNQUNKLEtBQUsseUJBQW9DekIsS0FBS2tZLEdBQzFDbFksS0FBS296Qix5QkFBeUIzeEIsRUFBSyxJQUNuQyxNQUNKLEtBQUssd0JBQW1DekIsS0FBS2tZLEdBQ3pDbFksS0FBS3F6Qix3QkFBd0I1eEIsRUFBSyxJQUNsQyxNQUNKLEtBQUssMEJBQXFDekIsS0FBS2tZLEdBQzNDbFksS0FBS3N6Qix5QkFBeUI3eEIsRUFBSyxJQUNuQyxNQUNKLEtBQUssc0JBQWlDekIsS0FBS2tZLEdBQ3ZDLE1BQU1xYixFQUFZOXhCLEVBQUssR0FDdkJ6QixLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFb21CLFlBQVlELEdBQ2hFLE1BQ0osS0FBSyxrQkFBNkJ2ekIsS0FBS2tZLEdBQ25DLE1BQU16SSxFQUFTelAsS0FBS2lGLGNBQWN5VCxXQUFXLFVBQ3pDakosR0FDQUEsRUFBT3NqQixLQUFLLGlCQUVoQi95QixLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFcW1CLGVBQ3BELE1BQ0osS0FBSyxtQkFBOEJ6ekIsS0FBS2tZLEdBQ3BDbFksS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRXNtQixnQkFDcEQsTUFDSixLQUFLLGdCQUEyQjF6QixLQUFLa1ksR0FDakNsWSxLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFdW1CLGNBUWhFLHFCQUFxQjNSLEdBQ2pCLE1BQU1KLEVBQWU1aEIsS0FBS3NILE9BQU9uRSxjQUFjLFVBQ3pDOGUsRUFBcUJqaUIsS0FBS3NILE9BQU9uRSxjQUFjLFNBQTBCbkQsS0FBS2tZLElBRXBGK0osRUFBbUIxTixZQUFjcU4sRUFBYWlILGdCQUFnQjdvQixLQUFLaUYsY0FBYzJNLG9CQUVqRixNQUFNaVAsRUFBTyxrQkFBb0JvQixFQUFtQjFOLFlBQWF5TixHQUM3RG5CLEdBQVFBLEVBQUtqZixPQUFTLElBQ3RCNUIsS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRXdtQixRQUFRL1MsR0FDNURvQixFQUFtQjFOLFlBQWN5TixHQUt6Qyx5QkFBeUJBLEdBQ3JCLE1BQU1KLEVBQWU1aEIsS0FBS3NILE9BQU9uRSxjQUFjLFVBQ3pDOGUsRUFBcUJqaUIsS0FBS3NILE9BQU9uRSxjQUFjLFNBQTBCbkQsS0FBS2tZLElBRXBGK0osRUFBbUIxTixZQUFjcU4sRUFBYWlILGdCQUFnQjdvQixLQUFLaUYsY0FBYzJNLG9CQUNqRixNQUFNMkMsRUFBYzBOLEVBQW1CMU4sWUFFakNzZixFQUFrQmpTLEVBQWFrUyxvQkFBb0I5ekIsS0FBS2lGLGNBQWMyTSxvQkFDdEVtaUIsRUFBd0JuUyxFQUFha1Msb0JBQW9COVIsR0EyQi9ELEdBQUlKLEVBQWFvUyxhQUFhemYsRUFBYXlOLEdBQWEsQ0FDcEQsTUFBTW5CLEVBQU8sQ0FBQ21CLEVBQVl6TixHQUMxQnZVLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUV3bUIsUUFBUS9TLEdBQzVEb0IsRUFBbUIxTixZQUFjeU4sTUFDOUIsQ0FDSCxNQUFNbkIsRUFBTywyQkFBNkJnVCxFQUFpQkUsR0FDM0QsR0FBSWxULEdBQVFBLEVBQUtqZixPQUFTLEVBQUcsQ0FDckJpZixFQUFLamYsT0FBUyxHQUVWZ2dCLEVBQWFvUyxhQUFhblQsRUFBSyxHQUFJbUIsSUFDbkNuQixFQUFLekcsUUFJYixJQUFJNlosR0FBaUIsRUFDckIsS0FBT3BULEVBQUtqZixPQUFTLEdBQUtxeUIsR0FDbEJyUyxFQUFhb1MsYUFBYW5ULEVBQUtBLEVBQUtqZixPQUFTLEdBQUkyUyxHQUNqRHNNLEVBQUs3QixNQUVMaVYsR0FBaUIsRUFLekJwVCxFQUFLcVQsUUFBUWxTLEdBRWJoaUIsS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRXdtQixRQUFRL1MsR0FDNURvQixFQUFtQjFOLFlBQWN5TixJQUs3Qyx3QkFBd0JuQixHQUNwQjdnQixLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFd21CLFFBQVEvUyxHQUdoRSxzQkFBc0JtQixHQUNsQixNQUFNSixFQUFlNWhCLEtBQUtzSCxPQUFPbkUsY0FBYyxVQUV6QzhlLEVBQXFCamlCLEtBQUtzSCxPQUFPbkUsY0FBYyxTQUEwQm5ELEtBQUtrWSxJQUUvRStKLEVBQW1CMU4sWUFFeEIwTixFQUFtQjFOLFlBQWNxTixFQUFhaUgsZ0JBQWdCN29CLEtBQUtpRixjQUFjMk0sb0JBR2pGLE1BQU1pUCxFQUFPLGtCQUFvQm9CLEVBQW1CMU4sWUFBYXlOLEdBTWpFLE9BTEluQixHQUFRQSxFQUFLamYsT0FBUyxJQUN0QjVCLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUV3bUIsUUFBUS9TLEdBQzVEb0IsRUFBbUIxTixZQUFjeU4sR0FHOUIsSUFBSW1TLFNBQVEsQ0FBQ0MsRUFBU0MsS0FDekJyMEIsS0FBS2lGLGNBQWNzRCxHQUFHLGdCQUFnQixLQUNsQzZyQixPQUdKcDBCLEtBQUtpRixjQUFjc0QsR0FBRyxjQUFjLEtBQ2hDOHJCLFVBS1osbUNBQW1DeFQsR0FHL0IsT0FGQTdnQixLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFd21CLFFBQVEvUyxHQUVyRCxJQUFJc1QsU0FBUSxDQUFDQyxFQUFTQyxLQUN6QnIwQixLQUFLaUYsY0FBY3NELEdBQUcsZ0JBQWdCLEtBQ2xDNnJCLE9BR0pwMEIsS0FBS2lGLGNBQWNzRCxHQUFHLGNBQWMsS0FDaEM4ckIsVUFLWixrQkFBa0IzSixHQUNkMXFCLEtBQUtzSCxPQUFPdkQsaUJBQWlCLGtCQUE2Qi9ELEtBQUtrWSxHQUFJd1MsR0FJdkUsbUJBQW1CQSxHQUNmMXFCLEtBQUtzSCxPQUFPdkQsaUJBQWlCLGtCQUE0Qi9ELEtBQUtrWSxHQUFJd1MsR0FHdEUsaUJBQWlCeFMsRUFBSWhNLEdBQ2pCLElBQUssTUFBTW9vQixLQUFjdDBCLEtBQUt1MEIsV0FDdEJELEVBQVdob0IsT0FBT0osS0FDbEJsTSxLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFb21CLFlBQVl0bkIsR0FDaEVsTSxLQUFLc0gsT0FBT3ZELGlCQUFpQixpQkFBMkIvRCxLQUFLaUYsY0FBZSxDQUFDaVQsS0FLekYsb0JBQzRCbFksS0FBS3NILE9BQU9uRSxjQUFjLFNBQTBCbkQsS0FBS2tZLElBQUkxRSxHQUt6Rix5QkFBeUJ0SCxHQUNNbE0sS0FBS3NILE9BQU9uRSxjQUFjLFNBQTBCbkQsS0FBS2tZLElBQ2pFM0QsWUFBY3JJLEVBQ2pDbE0sS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRW9uQixhQUFhdG9CLE0sK0JDblF6RSxNQUFNLFNBQUVuSCxHQUFhLEVBQVEsS0FFdEIsTUFBTW9qQixVQUFrQ3BqQixFQUMzQyxrQkFBb0IsTUFBTyw0QkFFM0IsWUFBWUUsR0FDUmtPLE1BQU1nVixFQUEwQi9VLE1BQ2hDcFQsS0FBS2tHLHNCQUFzQixJQUkzQmxHLEtBQUtpRixjQUFnQkEsRUFHekIsV0FBV00sR0FDUDROLE1BQU1yTixXQUFXUCxHQUdyQixtQkFBbUJ4RSxLQUFxQlUsSUFNeEMsaUJBQWlCaVcsRUFBTStjLEVBQWFwUSxHQUNoQyxPQUFPcmtCLEtBQUtpRixjQUFjbUksT0FBbUMsMkJBQUVrYixpQkFBaUI1USxFQUFNK2MsRUFBYXBRLE9DMUJ2R3FRLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVVsMUIsUUFHM0MsSUFBSStMLEVBQVNpcEIsRUFBeUJFLEdBQVksQ0FHakRsMUIsUUFBUyxJQU9WLE9BSEFtMUIsRUFBb0JELEdBQVV6dkIsS0FBS3NHLEVBQU8vTCxRQUFTK0wsRUFBUUEsRUFBTy9MLFFBQVNpMUIsR0FHcEVscEIsRUFBTy9MLFFDbkJmaTFCLEVBQW9CdndCLEVBQUksQ0FBQzFFLEVBQVNvMUIsS0FDakMsSUFBSSxJQUFJLzBCLEtBQU8rMEIsRUFDWEgsRUFBb0JJLEVBQUVELEVBQVkvMEIsS0FBUzQwQixFQUFvQkksRUFBRXIxQixFQUFTSyxJQUM1RVAsT0FBT0MsZUFBZUMsRUFBU0ssRUFBSyxDQUFFMEYsWUFBWSxFQUFNRCxJQUFLc3ZCLEVBQVcvMEIsTUNKM0U0MEIsRUFBb0JJLEVBQUksQ0FBQ0MsRUFBS0MsSUFBU3oxQixPQUFPcUIsVUFBVTZELGVBQWVTLEtBQUs2dkIsRUFBS0MsR0NDakZOLEVBQW9CTyxFQUFLeDFCLElBQ0gsb0JBQVh5MUIsUUFBMEJBLE9BQU9DLGFBQzFDNTFCLE9BQU9DLGVBQWVDLEVBQVN5MUIsT0FBT0MsWUFBYSxDQUFFejFCLE1BQU8sV0FFN0RILE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLEssMkJDTHZELE1BQU0sT0FBRXlDLEdBQVcsRUFBUSxNQUVuQmdxQixXQUFVLEdBQUssRUFBUSxLQUVsQmlKLEVBQWM1b0IsR0FBRzZvQixhQUFhLGVBRzNDRCxFQUFZeDBCLFVBQVU0YixXQUFhLFdBQy9CemMsS0FBS3NILE9BQVNsRixFQUFPeEIsWUFBWSxFQUFXMjBCLEtBQzVDdjFCLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSxtQkFDN0J2USxLQUFLc0gsT0FBT3ZELGlCQUFpQndNLEVBQUEsZUFBMkIsZUFBZ0IsYUFJNUU4a0IsRUFBWXgwQixVQUFVMjBCLE9BQVMsU0FBVUMsSyxhQ1hsQyxNQUFNQyxFQUFzQmpwQixHQUFHNm9CLGFBQWEsdUJBRW5ESSxFQUFvQkMsV0FBV0MsSUFBSSxzQkFBdUIsQ0FDdERsZSxLQUFNLFNBQ04wQixPQUFPLEVBQ1BnUixNQUFPLHlCQUdYc0wsRUFBb0I3MEIsVUFBVTRiLFdBQWEsV0FDdkMsTUFBTWhNLEVBQVF6USxLQUFLNjFCLE9BQU9ubEIsZ0JBQ3BCQyxFQUFjLElBQUlsRSxHQUFHbUUsS0FBS0gsRUFBTTlFLEVBQUksRUFBRyxJQUFNOEUsRUFBTTVFLEVBQUksR0FDN0Q3TCxLQUFLa08sS0FBTyxJQUFJekIsR0FBR29FLFlBQVk3USxLQUFLNjFCLE9BQU90bUIsY0FBZW9CLEdBQzFEM1EsS0FBS3dNLElBQUlqRSxHQUFHLGlCQUFrQnZJLEtBQUs4MUIsY0FBZTkxQixNQUVsREEsS0FBSzYxQixPQUFPbmQsV0FBVyxTQUFTcWQsU0FBVSxFQUMxQy8xQixLQUFLNjFCLE9BQU9sc0IsS0FBSyxXQUFXLEtBQ3hCM0osS0FBS3dNLElBQUlqQixJQUFJLGlCQUFrQnZMLEtBQUs4MUIsY0FBZTkxQixVQUkzRDAxQixFQUFvQjcwQixVQUFVaTFCLGNBQWdCLFNBQVVsSCxFQUFLb0gsR0FDekQsTUFBTWpILEVBQWMsSUFBSXRpQixHQUFHbUUsS0FDWjVRLEtBQUtrTyxLQUFLOGdCLGNBQWNKLEVBQUtHLElBRXhDL3VCLEtBQUt3TSxJQUFJdW1CLEtBQUssZ0JBQWlCL3lCLEtBQUs2MUIsT0FBUTlHLEVBQWFpSCxJQU9qRU4sRUFBb0I3MEIsVUFBVXlNLFFBQVUsU0FBVTJvQixHQUM5Q2oyQixLQUFLaTJCLFNBQVdBLEdBR3BCUCxFQUFvQjcwQixVQUFVK00sUUFBVSxXQUNwQyxPQUFPNU4sS0FBS2kyQixVQUdoQlAsRUFBb0I3MEIsVUFBVXExQixlQUFpQixTQUFVN1IsR0FDckQsSUFBSTZKLEVBQWNsdUIsS0FBS2kyQixTQUFTLEdBQzVCOUgsRUFBd0JoZSxFQUFBLGlCQUFxQitkLEVBQWE3SixHQUM5RCxJQUFLLE1BQU1uWSxLQUFRbE0sS0FBS2kyQixTQUFVLENBQzlCLE1BQU03SCxFQUFhamUsRUFBQSxpQkFBcUJqRSxFQUFNbVksR0FFMUMrSixFQUFhRCxJQUNiQSxFQUF3QkMsRUFDeEJGLEVBQWNoaUIsR0FHdEIsT0FBT2dpQixHLDBEQzdDSixNQUFNaUksRUFBeUIxcEIsR0FBRzZvQixhQUFhLDBCQStQdEQsU0FBU2MsRUFBMEJDLEdBQy9CLE1BQU12SixFQUFNLElBQUloZSxJQUVoQixJQUFLLE1BQU13bkIsS0FBZUQsRUFDdEJ2SixFQUFJcGQsSUFBSTRtQixFQUFZQyxVQUFXRCxFQUFZRSxZQUcvQyxPQUFPMUosRUF6TlhxSixFQUF1QlIsV0FBV0MsSUFBSSxjQUFlLENBQ2pEbGUsS0FBTSxTQUNOMFMsTUFBTyxpQkFHWCtMLEVBQXVCUixXQUFXQyxJQUFJLGlCQUFrQixDQUNwRGxlLEtBQU0sU0FDTjBTLE1BQU8sa0JBQ1BxTSxRQUFTLElBSWJOLEVBQXVCUixXQUFXQyxJQUFJLGtCQUFtQixDQUNyRGxlLEtBQU0sU0FDTjBTLE1BQU8sbUJBQ1BxTSxRQUFTLE1BR2JOLEVBQXVCUixXQUFXQyxJQUFJLFFBQVMsQ0FDM0NsZSxLQUFNLFVBQ04wUyxNQUFPLFNBQ1BxTSxTQUFTLElBR2JOLEVBQXVCUixXQUFXQyxJQUFJLGlCQUFrQixDQUNwRGxlLEtBQU0sT0FDTjBTLE1BQU8sa0JBQ1BzTSxPQXRFZ0IsQ0FDaEIsQ0FDSTMwQixLQUFNLFFBQ05xb0IsTUFBTyxRQUNQMVMsS0FBTSxTQUNOK2UsUUFBUyxHQUViLENBQ0kxMEIsS0FBTSxhQUNOcW9CLE1BQU8sVUFDUDFTLEtBQU0sU0FDTitlLFFBQVMsR0FDVixDQUNDMTBCLEtBQU0sVUFDTnFvQixNQUFPLE9BQ1AxUyxLQUFNLFNBQ04rZSxRQUFTLEdBQ1YsQ0FDQzEwQixLQUFNLGFBQ05xb0IsTUFBTyxhQUNQMVMsS0FBTSxTQUNOK2UsUUFBUyxHQUNWLENBQ0MxMEIsS0FBTSxjQUNOcW9CLE1BQU8sV0FDUDFTLEtBQU0sU0FDTitlLFFBQVMsTUErQ2pCTixFQUF1QlIsV0FBV0MsSUFBSSxpQkFBa0IsQ0FDcERsZSxLQUFNLE9BQ04wUyxNQUFPLGtCQUNQc00sT0E5Q3lCLENBQ3pCLENBQ0kzMEIsS0FBTSxZQUNOcW9CLE1BQU8sYUFDUDFTLEtBQU0sVUFFVixDQUNJM1YsS0FBTSxhQUNOcW9CLE1BQU8sY0FDUDFTLEtBQU0sV0FzQ1YwQixPQUFPLElBR1grYyxFQUF1QlIsV0FBV0MsSUFBSSxrQkFBbUIsQ0FDckRsZSxLQUFNLFNBQ04wUyxNQUFPLHNCQUdYK0wsRUFBdUJSLFdBQVdDLElBQUksbUJBQW9CLENBQ3REbGUsS0FBTSxTQUNOMFMsTUFBTyx1QkFHWCtMLEVBQXVCUixXQUFXQyxJQUFJLGVBQWdCLENBQ2xEbGUsS0FBTSxTQUNOMFMsTUFBTyxnQkFDUHVNLEtBQU0sSUFDTkYsUUFBUyxJQUliTixFQUF1QlIsV0FBV0MsSUFBSSxpQkFBa0IsQ0FDcERsZSxLQUFNLFNBQ04wUyxNQUFPLGtCQUNQdU0sS0FBTSxJQUNORixRQUFTLFlBS2JOLEVBQXVCdDFCLFVBQVUrMUIsd0JBQTBCLFNBQVUvdkIsR0FDNUQ3RyxLQUFLNHlCLDZCQUNONXlCLEtBQUs0eUIsMkJBQTZCLElBR3RDNXlCLEtBQUs0eUIsMkJBQTJCN3JCLEtBQUtGLElBSXpDc3ZCLEVBQXVCdDFCLFVBQVVnMkIsZUFBaUIsV0FDOUM3MkIsS0FBSzgyQixhQUFlLEdBQ3BCOTJCLEtBQUtzSCxPQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUc1QnBzQixLQUFLNHlCLDZCQUNONXlCLEtBQUs0eUIsMkJBQTZCLElBR3RDLE1BQU1tRSxFQUFpQi8yQixLQUFLKzJCLGVBQ3RCQyxFQUFjLENBQ2hCOWUsR0FBSWxZLEtBQUswYSxZQUNUSCxNQUFPdmEsS0FBS3VhLE1BQ1o0SSxPQUFRbmpCLEtBQUtpM0IsZ0JBQ2J2SixlQUFnQjBJLEVBQTBCcDJCLEtBQUswdEIsZ0JBQy9DakssZUFBZ0J6akIsS0FBS3lqQixrQkFDbEJzVCxFQUNIclAsYUFBYzFuQixLQUFLMG5CLGFBQ25CK0IsYUFBY3pwQixLQUFLazNCLGtCQUd2QixHQUFJbDNCLEtBQUttM0IsaUJBQTRDLEtBQXpCbjNCLEtBQUttM0IsZ0JBQXdCLENBQ3JELE1BQU1DLEVBQWtCcDNCLEtBQUt3TSxJQUFJTSxLQUFLQyxVQUFVLGVBQWUvTSxLQUFLbTNCLGlCQUU5RHpiLEVBQWMsR0FDcEIsSUFBSyxNQUFNMmIsS0FBaUJELEVBRXhCLEdBQUlDLEVBQWN0QixRQUFTLENBQ3ZCLE1BQU11QixFQUFZRCxFQUFjanFCLE9BQStCLHVCQUFFc04sWUFDakVnQixFQUFZM1UsS0FBS3V3QixHQUd6Qk4sRUFBWXRiLFlBQWNBLEVBTzlCLEdBSkkxYixLQUFLc0gsT0FBT3hELFlBQVlraUIsRUFBQSxPQUE2QmhtQixLQUFLMGEsY0FDMUQxYSxLQUFLc0gsT0FBTzNELGVBQWVxaUIsRUFBQSxPQUE2QmhtQixLQUFLMGEsYUFHN0QxYSxLQUFLc0gsT0FBT2hFLFNBQVMyVyxFQUFBLE9BQTBCamEsS0FBSzBhLGtCQUVqRCxDQUNILE1BQU04RixFQUFpQixJQUFJdkcsRUFBQSxFQUFtQitjLEdBRXhDcFYsRUFBZTVoQixLQUFLc0gsT0FBT25FLGNBQWNtTixFQUFBLFFBQy9DLEdBQUlzUixFQUFjLENBQ2QsTUFBTXJOLEVBQWNxTixFQUFhaUgsZ0JBQWdCN29CLEtBQUs2MUIsT0FBT3RtQixlQUM3RGlSLEVBQWVqTSxZQUFjQSxFQUdqQ3ZVLEtBQUtzSCxPQUFPdEUsY0FBY3dkLEdBSTlCeGdCLEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUl5aUIsRUFBQSxFQUFzQmhtQixLQUFLMGEsWUFBYTFhLEtBQUs2MUIsT0FBUTcxQixLQUFLNHlCLDZCQUUzRjV5QixLQUFLdTNCLFFBQVV2M0IsS0FBSzYxQixPQUFPem9CLE9BQXlCLGlCQUNwRHBOLEtBQUs2MUIsT0FBTzJCLFVBQVVDLEtBQUssV0FBWSxLQUszQ3RCLEVBQXVCdDFCLFVBQVUreUIsUUFBVSxTQUFVL1MsR0FDN0M3Z0IsS0FBSzgyQixjQUFnQjkyQixLQUFLODJCLGFBQWFsMUIsT0FBUyxHQUNoRDVCLEtBQUs2MUIsT0FBTzlDLEtBQUssY0FFckIveUIsS0FBSzgyQixhQUFlalcsRUFFcEI3Z0IsS0FBSzYxQixPQUFPMkIsVUFBVUUsTUFBTyxFQUM3QjEzQixLQUFLNjFCLE9BQU8yQixVQUFVQyxLQUFLLFdBQVksS0FHM0N0QixFQUF1QnQxQixVQUFVMnpCLGFBQWUsU0FBVWpnQixHQUN0RHZVLEtBQUs4MkIsYUFBZSxHQUNwQjkyQixLQUFLNjFCLE9BQU9uVCxpQkFBaUJuTyxFQUFZNUksRUFBRzRJLEVBQVkzSSxFQUFHMkksRUFBWTFJLEdBRXZFN0wsS0FBSzYxQixPQUFPMkIsVUFBVUUsTUFBTyxFQUM3QjEzQixLQUFLNjFCLE9BQU8yQixVQUFVQyxLQUFLLFdBQVksS0FHM0N0QixFQUF1QnQxQixVQUFVMjBCLE9BQVMsU0FBVUMsR0FDaER6MUIsS0FBSzIzQixjQUFjbEMsSUFHdkJVLEVBQXVCdDFCLFVBQVU4MkIsY0FBZ0IsU0FBVWxDLEdBRXZELEdBQUl6MUIsS0FBSzgyQixhQUFhbDFCLE9BQVMsRUFBRyxDQUM5QixNQUFNZzJCLEVBQWdCNTNCLEtBQUs4MkIsYUFBYTkyQixLQUFLODJCLGFBQWFsMUIsT0FBUyxHQUM3RGkyQixFQUFXNzNCLEtBQUs2MUIsT0FBT2prQixtQkFDdkJrbUIsRUFBWSxJQUFJcnJCLEdBQUdtRSxLQUFLZ25CLEVBQWNqc0IsRUFBR2lzQixFQUFjaHNCLEVBQUdnc0IsRUFBYy9yQixHQUk5RSxHQUQyQmdzQixFQUFTdEosU0FBU3VKLElBQ2xCckMsRUFBS3oxQixLQUFLKzNCLGVBQWlCLENBQ2xELE1BQU14akIsRUFBY3ZVLEtBQUs4MkIsYUFBYTlYLE1BRUwsSUFBN0JoZixLQUFLODJCLGFBQWFsMUIsU0FDbEI1QixLQUFLNjFCLE9BQU85QyxLQUFLLGVBQWdCeGUsR0FDakN2VSxLQUFLNjFCLE9BQU8yQixVQUFVRSxNQUFPLEVBQzdCMTNCLEtBQUs2MUIsT0FBTzJCLFVBQVVDLEtBQUssV0FBWSxLQUUzQ3ozQixLQUFLNjFCLE9BQU85QyxLQUFLLG9CQUFxQnhlLFFBRWxDdlUsS0FBSzgyQixhQUFhbDFCLE9BQVMsRUFDM0I1QixLQUFLdTNCLFFBQVFTLEtBQUtGLEVBQVdyQyxHQUU3QnoxQixLQUFLdTNCLFFBQVFVLE9BQU9ILEVBQVdyQyxHQUVuQ3oxQixLQUFLdTNCLFFBQVFXLGdCQUFnQnpDLEtBS3pDVSxFQUF1QnQxQixVQUFVMnlCLFlBQWMsU0FBVXBFLEdBQ3JELE1BQU15SSxFQUFXNzNCLEtBQUs2MUIsT0FBT2prQixtQkFFdkJ5ZixFQUFLakMsRUFBTXpqQixFQUFJa3NCLEVBQVNsc0IsRUFDeEJ3c0IsRUFBSy9JLEVBQU12akIsRUFBSWdzQixFQUFTaHNCLEVBQ3hCdXNCLEVBQW1DLElBQXJCbm5CLEtBQUtvbkIsTUFBTWhILEVBQUk4RyxHQUFZbG5CLEtBQUtxbkIsR0FDcER0NEIsS0FBSzYxQixPQUFPMEMsZUFBZSxFQUFHSCxFQUFhLElBRy9DakMsRUFBdUJ0MUIsVUFBVTR5QixhQUFlLFdBQzVDenpCLEtBQUs2MUIsT0FBTzJCLFVBQVVFLE1BQU8sRUFDN0IxM0IsS0FBSzYxQixPQUFPMkIsVUFBVUMsS0FBSyxVQUFXLEtBRzFDdEIsRUFBdUJ0MUIsVUFBVTh5QixXQUFhLFdBQzFDM3pCLEtBQUs2MUIsT0FBTzJCLFVBQVVFLE1BQU8sRUFDN0IxM0IsS0FBSzYxQixPQUFPMkIsVUFBVUMsS0FBSyxVQUFXLEtBRzFDdEIsRUFBdUJ0MUIsVUFBVTZ5QixjQUFnQixXQUM3QzF6QixLQUFLNjFCLE9BQU8yQixVQUFVRSxNQUFPLEVBQzdCMTNCLEtBQUs2MUIsT0FBTzJCLFVBQVVDLEtBQUssYUFBYyxLLHNCQ3BRdEMsTUFBTWUsRUFBNkIvckIsR0FBRzZvQixhQUFhLDhCQVUxRGtELEVBQTJCN0MsV0FBV0MsSUFBSSxhQUFjLENBQ3BEbGUsS0FBTSxTQUNOMFMsTUFBTyxjQUNQcU0sUUFBUyxJQUliK0IsRUFBMkIzM0IsVUFBVTRiLFdBQWEsV0FDOUN6YyxLQUFLNjFCLE9BQU96b0IsT0FBK0IsdUJBQUV3cEIsd0JBQXdCcm1CLEVBQUEsb0JBQ3JFdlEsS0FBSzYxQixPQUFPem9CLE9BQStCLHVCQUFFd3BCLHdCQUF3QnJtQixFQUFBLGdCQUE2QixVQUVsR3ZRLEtBQUs2MUIsT0FBT3R0QixHQUFHZ0ksRUFBQSxtQkFBK0J2USxLQUFLeTRCLHFCQUFzQno0QixNQUN6RUEsS0FBSzYxQixPQUFPdHRCLEdBQUdnSSxFQUFBLGdCQUE2QixTQUFVdlEsS0FBSzA0QixrQkFBbUIxNEIsTUFDOUUrSCxRQUFRQyxJQUFJLHFCQUdoQnd3QixFQUEyQjMzQixVQUFVNDNCLHFCQUF1QixTQUFVdmdCLEtBQU96VyxHQUN6RSxNQUFNNkYsRUFBUyxFQUFBbEYsT0FBQSxZQUFtQmdxQixFQUFXLFdBQVgsS0FDbENwc0IsS0FBS3dnQixlQUFpQmxaLEVBQU9uRSxjQUFjOFcsRUFBQSxPQUEwQi9CLElBR3pFc2dCLEVBQTJCMzNCLFVBQVU2M0Isa0JBQW9CLFNBQVV4Z0IsRUFBSThKLEdBQ25FLE1BQU0xYSxFQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUlsQyxHQUhrQjlrQixFQUFPbkUsY0FBY2lWLEVBQUEsUUFBcUI1RSxHQUc5Q3lJLGVBQWlCLEVBQUFYLGtCQUFBLGFBQWlDdGIsS0FBS3dnQixlQUFlRixPQUNoRixPQUdKLE1BQU0vTCxFQUFjdlUsS0FBS3dnQixlQUFlak0sWUFDbENva0IsRUFBaUIsSUFBSWxzQixHQUFHbUUsS0FBSzJELEVBQVk1SSxFQUFHNEksRUFBWTNJLEVBQUcySSxFQUFZMUksR0FDdkV3WSxFQUFjLElBQUk1WCxHQUFHbUUsS0FBS29SLEVBQVdyVyxFQUFHcVcsRUFBV3BXLEVBQUdvVyxFQUFXblcsR0FFdkUsR0FBSThzQixFQUFlcEssU0FBU2xLLElBQWdCcmtCLEtBQUs0NEIsV0FBWSxDQUV6RCxNQUFNaFgsRUFBZXRhLEVBQU9uRSxjQUFjbU4sRUFBQSxRQUMxQ3FvQixFQUFlL3NCLEdBQUs1TCxLQUFLd2dCLGVBQWUyQyxPQUVuQ3ZCLEVBQWEwQyxrQkFBa0JxVSxFQUFnQnRVLEtBQ2hEL2MsRUFBT3ZELGlCQUFpQndNLEVBQUEsd0JBQXFDLFNBQVV5UixHQUN2RTFhLEVBQU92RCxpQkFBaUJ3TSxFQUFBLGVBQTJCMkgsTUNqRC9ELE1BQU0sU0FBRW5ULEdBQWEsRUFBUSxLQUV0QixNQUFNOHpCLFVBQTZCOXpCLEVBQ3RDLGtCQUFvQixNQUFPLHVCQUUzQixZQUFZRSxHQUNSa08sTUFBTTBsQixFQUFxQnpsQixNQUMzQnBULEtBQUtrRyxzQkFBc0IsQ0FDdkJxSyxFQUFBLHVCQUdKdlEsS0FBS2lGLGNBQWdCQSxFQUd6QixXQUFXTSxHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLHFCQUNEdlEsS0FBS2lGLGNBQWNtSSxPQUE4QixzQkFBRTByQixXQUFXcjNCLEVBQUssTUNuQjVFLE1BQU1zM0IsRUFBd0J0c0IsR0FBRzZvQixhQUFhLHlCQUVyRHlELEVBQXNCcEQsV0FBV0MsSUFBSSxjQUFlLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLGlCQUM3RTJPLEVBQXNCcEQsV0FBV0MsSUFBSSxjQUFlLENBQUVsZSxLQUFNLFNBQVUrZSxRQUFTLEVBQUdyTSxNQUFPLGlCQUd6RjJPLEVBQXNCbDRCLFVBQVU0YixXQUFhLFdBQ3pDemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWSswQixFQUFxQnpsQixPQUM3Q3BULEtBQUtzSCxPQUFPM0QsZUFBZWsxQixFQUFxQnpsQixNQUdwRHBULEtBQUtnNUIsYUFBZSxHQUNwQmg1QixLQUFLaTVCLG9CQUFpQjUzQixFQUV0QnJCLEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUlzMUIsRUFBcUI3NEIsS0FBSzYxQixVQUcvRGtELEVBQXNCbDRCLFVBQVVpNEIsV0FBYSxTQUFVSSxHQUNsQixJQUE3Qmw1QixLQUFLZzVCLGFBQWFwM0IsUUFDbEI1QixLQUFLZzVCLGFBQWFqeUIsS0FBS215QixHQUN2Qmw1QixLQUFLbTVCLG1CQUVMbjVCLEtBQUtnNUIsYUFBYWp5QixLQUFLbXlCLElBSy9CSCxFQUFzQmw0QixVQUFVczRCLGdCQUFrQixXQUM5QyxHQUFJbjVCLEtBQUtnNUIsYUFBYXAzQixPQUFTLEVBQUcsQ0FDOUIsTUFBTXczQixFQUFjcDVCLEtBQUtnNUIsYUFBYSxHQUV0Q2g1QixLQUFLcTVCLFlBQVlDLFFBQVFqUCxLQUFPK08sRUFFaEM1ZSxZQUFXLEtBQ1B4YSxLQUFLZzVCLGFBQWE1ZSxRQUNsQnBhLEtBQUttNUIsb0JBQ2EsSUFBbkJuNUIsS0FBS3U1QixrQkFFUnY1QixLQUFLcTVCLFlBQVlDLFFBQVFqUCxLQUFPLElDM0NBNWQsR0FBRzZvQixhQUFhLDRCQU0vQnowQixVQUFVZzJCLGVBQWlCLFdBQ2pDLEVBQUF6MEIsT0FBQSxZQUFtQmdxQixFQUFXLFdBQVgsS0FDM0Jyb0IsaUJBQWlCd00sRUFBQSxvQkFBZ0N2USxLQUFLNjFCLFNDTmpFLE1BQVE5d0IsU0FBUSxHQUFLLEVBQVEsS0FFdEIsTUFBTXkwQixVQUEyQixFQUNwQyxrQkFBb0IsTUFBTyxxQkFFM0IsWUFBWXYwQixHQUNSa08sTUFBTXFtQixFQUFtQnBtQixNQUN6QnBULEtBQUtrRyxzQkFBc0IsQ0FDdkJxSyxFQUFBLDBCQUVKdlEsS0FBS2lGLGNBQWdCQSxFQUNyQmpGLEtBQUtpRixjQUFjc0QsR0FBRyx1QkFBd0J2SSxLQUFLeTVCLDBCQUEyQno1QixNQUM5RUEsS0FBS2lGLGNBQWNzRCxHQUFHLG9CQUFxQnZJLEtBQUswNUIsdUJBQXdCMTVCLE1BQ3hFQSxLQUFLaUYsY0FBY3NELEdBQUcsWUFBYXZJLEtBQUsyNUIsZ0JBQWlCMzVCLE1BSTdELFdBQVd1RixHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLDBCQUtiLDBCQUEwQnFwQixHQUN0QjU1QixLQUFLc0gsT0FBT3ZELGlCQUFpQndNLEVBQUEsd0JBQW9DcXBCLEdBR3JFLHVCQUF1QjF0QixHQUNuQmxNLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSxnQkFBNEJyRSxHQUc3RCxnQkFBZ0JzaUIsR0FDWnh1QixLQUFLc0gsT0FBT3ZELGlCQUFpQndNLEVBQUEsbUJBQStCaWUsSUN2QzdELE1BQU1xTCxFQUFhcHRCLEdBQUc2b0IsYUFBYSxjQUsxQ3VFLEVBQVdsRSxXQUFXQyxJQUFJLFdBQVksQ0FBRWxlLEtBQU0sU0FBVStlLFFBQVMsSUFBS3JNLE1BQU8sYUFDN0V5UCxFQUFXbEUsV0FBV0MsSUFBSSxrQkFBbUIsQ0FBRWxlLEtBQU0sU0FBVStlLFFBQVMsR0FBS3JNLE1BQU8sb0JBQ3BGeVAsRUFBV2xFLFdBQVdDLElBQUksa0JBQW1CLENBQUVsZSxLQUFNLFNBQVUrZSxRQUFTLEdBQUtyTSxNQUFPLG9CQUVwRnlQLEVBQVdsRSxXQUFXQyxJQUFJLGlCQUFrQixDQUFFbGUsS0FBTSxVQUFXK2UsU0FBUyxFQUFPck0sTUFBTyxvQkFDdEZ5UCxFQUFXbEUsV0FBV0MsSUFBSSxrQkFBbUIsQ0FBRWxlLEtBQU0sU0FBVStlLFFBQVMsRUFBR3JNLE1BQU8sc0JBQ2xGeVAsRUFBV2xFLFdBQVdDLElBQUksa0JBQW1CLENBQUVsZSxLQUFNLFNBQVUrZSxRQUFTLElBQUtyTSxNQUFPLHNCQUdwRnlQLEVBQVdoNUIsVUFBVTRiLFdBQWEsV0FDOUJ6YyxLQUFLc0gsT0FBUyxFQUFBbEYsT0FBQSxZQUFtQmdxQixFQUFXLFdBQVgsS0FDN0Jwc0IsS0FBS3NILE9BQU94RCxZQUFZZzJCLEVBQW1CMW1CLE9BQzNDcFQsS0FBS3NILE9BQU8zRCxlQUFlbTJCLEVBQW1CMW1CLE1BR2xEcFQsS0FBS3NILE9BQU8vRCxpQkFBaUIsSUFBSXUyQixFQUFtQjk1QixLQUFLNjFCLFVBSTdEZ0UsRUFBV2g1QixVQUFVazVCLGdCQUFrQixTQUFVQyxHQUM3Q2g2QixLQUFLZzZCLGFBQWVBLEVBQ3BCaDZCLEtBQUtpNkIsU0FBV2o2QixLQUFLNjFCLE9BQU9xRSxpQkFBaUJ0dUIsRUFDN0M1TCxLQUFLbTZCLGFBQWVuNkIsS0FBSzYxQixPQUFPamtCLG1CQUFtQmhHLEdBR3ZEaXVCLEVBQVdoNUIsVUFBVXU1QixXQUFhLFNBQVU1TCxHQUd4QyxHQUZBeHVCLEtBQUtpNkIsVUFBWXpMLEVBQVU3aUIsRUFBSTNMLEtBQUtxNkIsZ0JBRWhDcjZCLEtBQUtzNkIsZUFBZ0IsQ0FDckIsSUFBSUMsRUFBa0J2NkIsS0FBS202QixhQUFnQjNMLEVBQVU1aUIsRUFBSTVMLEtBQUt3NkIsZ0JBQzlERCxFQUFrQjl0QixHQUFHZ3VCLEtBQUtDLE1BQU1ILEVBQWlCdjZCLEtBQUsyNkIsZ0JBQWlCMzZCLEtBQUs0NkIsaUJBQzVFNTZCLEtBQUttNkIsYUFBZUksSUFJNUJWLEVBQVdoNUIsVUFBVWc2Qix3QkFBMEIsU0FBVUMsR0FDckQsTUFBTUMsRUFBaUIvNkIsS0FBSzYxQixPQUFPamtCLG1CQUU3Qm9wQixFQUFVL3BCLEtBQUtncUIsSUFBS2o3QixLQUFhLFNBQUlpUixLQUFLcW5CLEdBQUssS0FBT3Q0QixLQUFLdXVCLFNBQzNEMk0sRUFBVWpxQixLQUFLa3FCLElBQUtuN0IsS0FBYSxTQUFJaVIsS0FBS3FuQixHQUFLLEtBQU90NEIsS0FBS3V1QixTQUVqRSxPQUFPLElBQUk5aEIsR0FBR21FLEtBQUtrcUIsRUFBV252QixFQUFJcXZCLEVBQVNELEVBQWVudkIsRUFBR2t2QixFQUFXanZCLEVBQUlxdkIsSUFJaEZyQixFQUFXaDVCLFVBQVUyMEIsT0FBUyxTQUFVQyxHQUNwQyxHQUFJejFCLEtBQUtnNkIsYUFBYyxDQUNuQixNQUFNb0IsRUFBdUJwN0IsS0FBS2c2QixhQUFhcG9CLG1CQUN6Q3lwQixFQUFpQnI3QixLQUFLNjZCLHdCQUF3Qk8sR0FFOUNFLEVBQWF0N0IsS0FBSzYxQixPQUFPamtCLG1CQUN6QjJwQixHQUFVRixFQUFlMXZCLEVBQW1CLEVBQWYydkIsRUFBVzN2QixHQUFTLEdBQ2pENnZCLEdBQVV4N0IsS0FBS202QixhQUE4QixFQUFmbUIsRUFBVzF2QixHQUFTLEdBQ2xENnZCLEdBQVVKLEVBQWV4dkIsRUFBbUIsRUFBZnl2QixFQUFXenZCLEdBQVMsR0FFdkQ3TCxLQUFLNjFCLE9BQU9uVCxpQkFBaUI2WSxFQUFRQyxFQUFRQyxHQUU3Q3o3QixLQUFLNjFCLE9BQU82RixPQUFPTixLQzNEM0IsTUFBUXIyQixTQUFRLEdBQUssRUFBUSxLQUV0QixNQUFNKzBCLFVBQTJCLEVBQ3BDLGtCQUFvQixNQUFPLHFCQUUzQixZQUFZNzBCLEdBQ1JrTyxNQUFNMm1CLEVBQW1CMW1CLE1BQ3pCcFQsS0FBS2tHLHNCQUFzQixDQUN2QnFLLEVBQUEsd0JBQW9DQSxFQUFBLG1CQUErQkEsRUFBQSxzQkFFdkV2USxLQUFLaUYsY0FBZ0JBLEVBSXpCLFdBQVdNLEdBQ1A0TixNQUFNck4sV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ3BDLE9BQVFWLEdBQ0osS0FBS3dQLEVBQUEsb0JBQ0R2USxLQUFLaUYsY0FBY21JLE9BQW1CLFdBQUUyc0IsZ0JBQWdCdDRCLEVBQUssSUFDN0QsTUFDSixLQUFLOE8sRUFBQSxtQkFDRHZRLEtBQUtpRixjQUFjbUksT0FBbUIsV0FBRWd0QixXQUFXMzRCLEVBQUssTUN0QmpFLE1BQU1rNkIsRUFBc0JsdkIsR0FBRzZvQixhQUFhLHVCQUVuRHFHLEVBQW9CaEcsV0FBV0MsSUFBSSxlQUFnQixDQUMvQ2xlLEtBQU0sU0FDTjBTLE1BQU8sa0JBR1h1UixFQUFvQmhHLFdBQVdDLElBQUksV0FBWSxDQUMzQ2xlLEtBQU0sU0FDTjBTLE1BQU8sWUFDUHFNLFFBQVMsS0FHYmtGLEVBQW9COTZCLFVBQVU0YixXQUFhLFdBQ3ZDemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWTAxQixFQUFtQnBtQixPQUMzQ3BULEtBQUtzSCxPQUFPM0QsZUFBZTYxQixFQUFtQnBtQixNQUdsRHBULEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUlpMkIsRUFBbUJ4NUIsS0FBSzYxQixTQUN6RDcxQixLQUFLNHVCLElBQU0sSUFBSW5pQixHQUFHb2lCLElBQ2xCN3VCLEtBQUs0N0IsV0FBYSxHQUdsQjU3QixLQUFLd00sSUFBSXF2QixNQUFNQyxxQkFDZjk3QixLQUFLKzdCLGVBQWlCLEVBQ3RCLzdCLEtBQUtnOEIsWUFBYSxFQUVsQmg4QixLQUFLd00sSUFBSWpFLEdBQUcsZ0JBQWlCdkksS0FBS2k4QixtQkFBb0JqOEIsTUFFbERBLEtBQUt3TSxJQUFJcXZCLFFBQ1Q3N0IsS0FBS3dNLElBQUlxdkIsTUFBTXR6QixHQUFHa0UsR0FBR3l2QixnQkFBaUJsOEIsS0FBS204QixZQUFhbjhCLE1BQ3hEQSxLQUFLNjFCLE9BQU95RCxRQUFRL3dCLEdBQUdrRSxHQUFHMnZCLGdCQUFpQnA4QixLQUFLcThCLFlBQWFyOEIsTUFDN0RBLEtBQUt3TSxJQUFJcXZCLE1BQU10ekIsR0FBR2tFLEdBQUc2dkIsY0FBZXQ4QixLQUFLdThCLFVBQVd2OEIsTUFFcERBLEtBQUs2MUIsT0FBT2xzQixLQUFLLFdBQVcsS0FDeEIzSixLQUFLd00sSUFBSXF2QixNQUFNdHdCLElBQUlrQixHQUFHeXZCLGdCQUFpQmw4QixLQUFLbThCLFlBQWFuOEIsTUFDekRBLEtBQUt3TSxJQUFJcXZCLE1BQU10d0IsSUFBSWtCLEdBQUc2dkIsY0FBZXQ4QixLQUFLdThCLFVBQVd2OEIsVUFLekRBLEtBQUt3TSxJQUFJZ3dCLFFBQ1R4OEIsS0FBS3dNLElBQUlnd0IsTUFBTWowQixHQUFHa0UsR0FBR2d3QixpQkFBa0JDLElBQ25DMThCLEtBQUttOEIsWUFBWU8sRUFBU0MsUUFBUSxPQUd0QzM4QixLQUFLNjFCLE9BQU95RCxRQUFRL3dCLEdBQUdrRSxHQUFHbXdCLGtCQUFtQkYsSUFDekMxOEIsS0FBS3E4QixZQUFZSyxFQUFTQyxRQUFRLE9BR3RDMzhCLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUdvd0IsZ0JBQWlCSCxJQUN2QzE4QixLQUFLdThCLGlCQU1qQlosRUFBb0I5NkIsVUFBVXc3QixZQUFjLFNBQVVweUIsR0FDbERqSyxLQUFLZzhCLFlBQWEsRUFDbEJoOEIsS0FBSys3QixlQUFpQmUsS0FBS0MsTUFDM0IvOEIsS0FBS2c5QixnQkFBa0IsQ0FBRXJ4QixFQUFHMUIsRUFBSTBCLEVBQUdDLEVBQUczQixFQUFJMkIsSUFJOUMrdkIsRUFBb0I5NkIsVUFBVXM3QixZQUFjLFNBQVVseUIsR0FDbEQsR0FBSWpLLEtBQUtnOEIsV0FBWSxDQUNqQixNQUFNeE4sRUFBWSxJQUFJL2hCLEdBQUd3d0IsS0FBS2o5QixLQUFLZzlCLGdCQUFnQnJ4QixFQUFJMUIsRUFBSTBCLEVBQUczTCxLQUFLZzlCLGdCQUFnQnB4QixFQUFJM0IsRUFBSTJCLEdBQzNGNUwsS0FBSzYxQixPQUFPOUMsS0FBSyxZQUFhdkUsR0FDOUJ4dUIsS0FBS2c5QixnQkFBa0IsQ0FBRXJ4QixFQUFHMUIsRUFBSTBCLEVBQUdDLEVBQUczQixFQUFJMkIsS0FJbEQrdkIsRUFBb0I5NkIsVUFBVTA3QixVQUFZLFdBQ3RDdjhCLEtBQUtnOEIsWUFBYSxFQUVkYyxLQUFLQyxNQUFRLzhCLEtBQUsrN0IsZUFBa0MsSUFBaEIvN0IsS0FBS2s5QixVQUNyQ2w5QixLQUFLZzlCLGlCQUVMaDlCLEtBQUttOUIsd0JBQXdCbjlCLEtBQUtnOUIsZ0JBQWdCcnhCLEVBQUczTCxLQUFLZzlCLGdCQUFnQnB4QixJQUt0Rit2QixFQUFvQjk2QixVQUFVczhCLHdCQUEwQixTQUFVeHhCLEVBQUdDLEdBQ2pFLE1BQU13eEIsRUFBZXA5QixLQUFLbzlCLGFBQ3BCQyxFQUFrQnI5QixLQUFLbzlCLGFBQWFFLE9BQzFDRCxFQUFnQkUsY0FBYzV4QixFQUFHQyxFQUFHeXhCLEVBQWdCRyxRQUFTeDlCLEtBQUs0dUIsSUFBSUosV0FDdEV4dUIsS0FBSzR1QixJQUFJNk8sT0FBT0MsS0FBS04sRUFBYTd0QixlQUNsQ3ZQLEtBQUs0dUIsSUFBSUosVUFBVUUsSUFBSTF1QixLQUFLNHVCLElBQUk2TyxRQUFROU8sWUFFeEMzdUIsS0FBS3dNLElBQUl1bUIsS0FBSyxpQkFBa0IveUIsS0FBSzR1QixJQUFLLENBQUVqakIsSUFBR0MsT0FHbkQrdkIsRUFBb0I5NkIsVUFBVW83QixtQkFBcUIsU0FBVTBCLEVBQWM1TyxFQUFhaUgsR0FDcEZoMkIsS0FBSzQ3QixXQUFXNzBCLEtBQUssQ0FDakI4dUIsT0FBUThILEVBQ1I1TyxZQUFhQSxFQUNiNk8sZUFBZ0I1SCxLQUl4QjJGLEVBQW9COTZCLFVBQVUyMEIsT0FBUyxTQUFVQyxHQUM3Q3oxQixLQUFLNjlCLHFCQUlUbEMsRUFBb0I5NkIsVUFBVWc5QixrQkFBb0IsV0FFOUMsR0FBSTc5QixLQUFLNDdCLFdBQVdoNkIsT0FBUyxFQUFHLENBQzVCLElBQUlrOEIsRUFBc0I5OUIsS0FBSzQ3QixXQUFXLEdBQ3RDbUMsR0FBbUIsRUFFdkIsSUFBSyxNQUFNQyxLQUFRaCtCLEtBQUs0N0IsV0FBWSxDQUNoQyxNQUFNcUMsR0FzQ0dwSSxFQXRDd0JtSSxFQUFLbkksUUF1Q25DcUksS0FBSzUwQixJQUFJLGlCQUNULEVBR1B1c0IsRUFBT3FJLEtBQUs1MEIsSUFBSSxVQUNULEVBR1B1c0IsRUFBT3FJLEtBQUs1MEIsSUFBSSxjQUNULEdBR0gsRUFsREkyMEIsRUFBZUYsSUFDZkQsRUFBc0JFLEVBQ3RCRCxFQUFrQkUsR0FJMUJqK0IsS0FBSzQ3QixXQUFhLEdBRWRrQyxFQUFvQmpJLE9BQU9xSSxLQUFLNTBCLElBQUksa0JBQ3BDdEosS0FBS20rQixvQkFBb0JMLEVBQW9CakksT0FBUWlJLEVBQW9CL08sYUFHekUrTyxFQUFvQmpJLE9BQU9xSSxLQUFLNTBCLElBQUksZUFDcEN0SixLQUFLbytCLGlCQUFpQk4sRUFBb0JqSSxPQUFRaUksRUFBb0IvTyxhQUd0RStPLEVBQW9CakksT0FBT3FJLEtBQUs1MEIsSUFBSSxXQUNwQ3RKLEtBQUtxK0IsYUFBYVAsRUFBb0JqSSxPQUFRaUksRUFBb0IvTyxhQW9COUUsSUFBcUI4RyxHQWRyQjhGLEVBQW9COTZCLFVBQVVzOUIsb0JBQXNCLFNBQVVSLEVBQWM1TyxHQUN4RS91QixLQUFLNjFCLE9BQU85QyxLQUFLLHVCQUF3QjRLLElBRzdDaEMsRUFBb0I5NkIsVUFBVXU5QixpQkFBbUIsU0FBVVQsRUFBYzVPLEdBQ3JFLE1BQ01iLEVBRFV5UCxFQUFhdndCLE9BQTRCLG9CQUM3QjhvQixlQUFlbkgsR0FDM0MvdUIsS0FBSzYxQixPQUFPOUMsS0FBSyxvQkFBcUI3RSxJQUcxQ3lOLEVBQW9COTZCLFVBQVV3OUIsYUFBZSxTQUFVVixFQUFjNU8sR0FDakU0TyxFQUFhNUssS0FBSyxrQkNySnRCLE1BQVFodUIsU0FBUSxHQUFLLEVBQVEsS0FFdEIsTUFBTXU1QixVQUFrQyxFQUMzQyxrQkFBb0IsTUFBTyw0QkFFM0IsWUFBWXI1QixHQUNSa08sTUFBTW1yQixFQUEwQmxyQixNQUNoQ3BULEtBQUtrRyxzQkFBc0IsQ0FDdkJxSyxFQUFBLHdCQUNBQSxFQUFBLDRCQUNBQSxFQUFBLG9CQUdKdlEsS0FBS2lGLGNBQWdCQSxFQUVyQmpGLEtBQUtpRixjQUFjc0QsR0FBRyxnQkFBaUJ2SSxLQUFLdStCLGNBQWV2K0IsTUFHL0QsV0FBV3VGLEdBQ1A0TixNQUFNck4sV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ3BDLE9BQVFWLEdBQ0osS0FBS3dQLEVBQUEsd0JBQ0R2USxLQUFLaUYsY0FBYzh3QixTQUFVLEVBQzdCLE1BQ0osS0FBS3hsQixFQUFBLDRCQUNEdlEsS0FBS2lGLGNBQWM4d0IsU0FBVSxFQUM3QixNQUNKLEtBQUt4bEIsRUFBQSxrQkFDRHZRLEtBQUtpRixjQUFjOHdCLFNBQVUsR0FLekMsY0FBYzlyQixHQUNWakssS0FBSytELGlCQUFpQndNLEVBQUEsb0JDdEN2QixNQUFNaXVCLEVBQTZCL3hCLEdBQUc2b0IsYUFBYSw4QkFFMURrSixFQUEyQjdJLFdBQVdDLElBQUksZ0JBQWlCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLG9CQUdwRm9VLEVBQTJCMzlCLFVBQVU0YixXQUFhLGFBSWxEK2hCLEVBQTJCMzlCLFVBQVU0YixXQUFhLFdBRTlDemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWXc2QixFQUEwQmxyQixPQUNsRHBULEtBQUtzSCxPQUFPM0QsZUFBZTI2QixFQUEwQmxyQixNQUd6RHBULEtBQUtnNUIsYUFBZSxHQUNwQmg1QixLQUFLaTVCLG9CQUFpQjUzQixFQUV0QnJCLEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUkrNkIsRUFBMEJ0K0IsS0FBSzYxQixTQUVoRTcxQixLQUFLeStCLGNBQWNuRixRQUFRL3dCLEdBQUcsUUFBU3ZJLEtBQUswK0IsYUFBYzErQixPQUc5RHcrQixFQUEyQjM5QixVQUFVNjlCLGFBQWUsU0FBVXowQixHQUMxRGpLLEtBQUs2MUIsT0FBTzlDLEtBQUssa0JDN0JkLE1BQU00TCxFQUFrQmx5QixHQUFHNm9CLGFBQWEsbUJBRy9DcUosRUFBZ0I5OUIsVUFBVWcyQixlQUFpQixXQUN2QyxNQUFNcG1CLEVBQVF6USxLQUFLNjFCLE9BQU9ubEIsZ0JBQ3BCQyxFQUFjLElBQUlsRSxHQUFHbUUsS0FBS0gsRUFBTTlFLEVBQUksRUFBRzhFLEVBQU03RSxFQUFJLEVBQUc2RSxFQUFNNUUsRUFBSSxHQUNwRTdMLEtBQUtrTyxLQUFPLElBQUl6QixHQUFHb0UsWUFBWTdRLEtBQUs2MUIsT0FBT3RtQixjQUFlb0IsR0FDMUQzUSxLQUFLd00sSUFBSWpFLEdBQUcsaUJBQWtCdkksS0FBSzgxQixjQUFlOTFCLE1BRWxEQSxLQUFLNjFCLE9BQU90dEIsR0FBRyxpQkFBaUIsS0FDNUJ2SSxLQUFLd00sSUFBSWpCLElBQUksaUJBQWtCdkwsS0FBSzgxQixjQUFlOTFCLFNBR3ZEQSxLQUFLNjFCLE9BQU90dEIsR0FBRyxXQUFXLEtBQ3RCdkksS0FBS3dNLElBQUlqQixJQUFJLGlCQUFrQnZMLEtBQUs4MUIsY0FBZTkxQixTQUd2REEsS0FBSzYxQixPQUFPM3lCLE1BQU02eUIsU0FBVSxHQUloQzRJLEVBQWdCOTlCLFVBQVVpMUIsY0FBZ0IsU0FBVWxILEVBQUtvSCxHQUNyRCxNQUFNakgsRUFBYyxJQUFJdGlCLEdBQUdtRSxLQUNaNVEsS0FBS2tPLEtBQUs4Z0IsY0FBY0osRUFBS0csSUFFeEMvdUIsS0FBS3dNLElBQUl1bUIsS0FBSyxnQkFBaUIveUIsS0FBSzYxQixPQUFPNWMsT0FBUThWLEVBQWFpSCxJQUl4RTJJLEVBQWdCOTlCLFVBQVUyMEIsT0FBUyxTQUFVQyxHQUN6Q3oxQixLQUFLa08sS0FBSzB3QixPQUFPbEIsS0FBSzE5QixLQUFLNjFCLE9BQU90bUIsZ0JDNUJ0QyxNQUFReEssU0FBUSxHQUFLLEVBQVEsS0FFdEIsTUFBTTg1QixVQUE0QixFQUNyQyxrQkFBb0IsTUFBTyxzQkFFM0IsWUFBWTU1QixHQUNSa08sTUFBTTByQixFQUFvQnpyQixNQUMxQnBULEtBQUtrRyxzQkFBc0IsQ0FDdkJxSyxFQUFBLG9CQUFnQ0EsRUFBQSxnQkFDaENBLEVBQUEsc0JBRUp2USxLQUFLaUYsY0FBZ0JBLEVBRXJCakYsS0FBS2lGLGNBQWNzRCxHQUFHLG9CQUFxQnZJLEtBQUs4K0Isa0JBQW1COStCLE1BSXZFLFdBQVd1RixHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLGdCQUNELE1BQU13dUIsRUFBYXQ5QixFQUFLLEdBQ3hCekIsS0FBS2lGLGNBQWNtSSxPQUE2QixxQkFBRTR4QixhQUFhRCxHQUMvRCxNQUNKLEtBQUt4dUIsRUFBQSxzQkFNYixrQkFBa0J6SSxLQUFnQnJHLEdBQzlCekIsS0FBS3NILE9BQU92RCxpQkFBaUIrRCxLQUFnQnJHLElDcEM5QyxNQUFNdzlCLEVBQXdCeHlCLEdBQUc2b0IsYUFBYSx5QkFnQnJEMkosRUFBc0J0SixXQUFXQyxJQUFJLGtCQUFtQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxxQkFDakY2VSxFQUFzQnRKLFdBQVdDLElBQUksYUFBYyxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxnQkFDNUU2VSxFQUFzQnRKLFdBQVdDLElBQUksV0FBWSxDQUFFbGUsS0FBTSxPQUFRZ2YsT0FmM0MsQ0FDbEIsQ0FDSTMwQixLQUFNLGNBQ05xb0IsTUFBTyxlQUNQMVMsS0FBTSxVQUVWLENBQ0kzVixLQUFNLGNBQ05xb0IsTUFBTyxvQkFDUDFTLEtBQU0sU0FBVTBCLE9BQU8sSUFNeURnUixNQUFPLGVBQWdCaFIsT0FBTyxJQUd0SDZsQixFQUFzQnArQixVQUFVNGIsV0FBYSxXQUN6Q3pjLEtBQUtrL0IsZ0JBQWdCbkosU0FBVSxFQUMvQi8xQixLQUFLNjFCLE9BQU90dEIsR0FBRyxnQkFBaUJ2SSxLQUFLbS9CLG1CQUFvQm4vQixNQUN6REEsS0FBSzYxQixPQUFPeUQsUUFBUS93QixHQUFHLFFBQVN2SSxLQUFLby9CLFlBQWFwL0IsT0FHdERpL0IsRUFBc0JwK0IsVUFBVXUrQixZQUFjLFNBQVVuMUIsR0FDcEQsSUFBSyxNQUFNcEksS0FBVzdCLEtBQUtxL0IsU0FBVSxDQUNqQyxNQUFNdjNCLEVBQWNqRyxFQUFRaUcsWUFDdEJ3M0IsRUFBY3o5QixFQUFReTlCLFlBQzVCdC9CLEtBQUs2MUIsT0FBTzVjLE9BQU84WixLQUFLLG9CQUFxQmpyQixLQUFnQnczQixLQUtyRUwsRUFBc0JwK0IsVUFBVXMrQixtQkFBcUIsU0FBVTU0QixHQUN2RHZHLEtBQUs2MUIsT0FBTzl6QixPQUFTd0UsRUFDckJ2RyxLQUFLay9CLGdCQUFnQm5KLFNBQVcvMUIsS0FBS2svQixnQkFBZ0JuSixRQUdyRC8xQixLQUFLay9CLGdCQUFnQm5KLFNBQVUsR0N6Q2hDLE1BQU13SixFQUF1Qjl5QixHQUFHNm9CLGFBQWEsd0JBTXBEaUssRUFBcUI1SixXQUFXQyxJQUFJLGdCQUFpQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxpQkFBa0JoUixPQUFPLElBR3ZHbW1CLEVBQXFCMStCLFVBQVU0YixXQUFhLFdBQ3hDemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWSs2QixFQUFvQnpyQixPQUM1Q3BULEtBQUtzSCxPQUFPM0QsZUFBZWs3QixFQUFvQnpyQixNQUduRHBULEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUlzN0IsRUFBb0I3K0IsS0FBSzYxQixVQUc5RDBKLEVBQXFCMStCLFVBQVVtK0IsYUFBZSxTQUFVRCxHQUNwRCxJQUFLLE1BQU1TLEtBQVV4L0IsS0FBS3kvQixjQUN0QkQsRUFBT3pNLEtBQUssZ0JBQWlCZ00sSUNwQkp0eUIsR0FBRzZvQixhQUFhLHFCQUUvQnowQixVQUFVNGIsV0FBYSxXQUNyQ3pjLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUcydkIsaUJBQWtCbnlCLElBQ3hDQSxFQUFJeTFCLHFCQUdSMS9CLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUcydkIsaUJBQWtCbnlCLElBQ3hDQSxFQUFJeTFCLHFCQUdSMS9CLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUdtd0Isa0JBQW1CM3lCLElBQ3pDQSxFQUFJeTFCLHFCQUdSMS9CLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUdnd0IsaUJBQWtCeHlCLElBQ3hDQSxFQUFJeTFCLHFCQUdSMS9CLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUdvd0IsZ0JBQWlCNXlCLElBQ3ZDQSxFQUFJeTFCLHNCLGFDaEJMLE1BQU1DLEVBQTZCbHpCLEdBQUc2b0IsYUFBYSw4QkFlMURxSyxFQUEyQmhLLFdBQVdDLElBQUksa0JBQW1CLENBQ3pEbGUsS0FBTSxPQUNOMFMsTUFBTyxtQkFDUHNNLE9BaEJxQixDQUNyQixDQUNJMzBCLEtBQU0saUJBQ05xb0IsTUFBTyxrQkFDUDFTLEtBQU0sVUFFVixDQUNJM1YsS0FBTSxxQkFDTnFvQixNQUFPLHNCQUNQMVMsS0FBTSxVQVFWMEIsT0FBTyxJQUdYdW1CLEVBQTJCOStCLFVBQVU0YixXQUFhLFdBQzlDemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWXFrQixFQUFBLFNBQ3hCbm9CLEtBQUtzSCxPQUFPM0QsZUFBZXdrQixFQUFBLFFBRS9Cbm9CLEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUk0a0IsRUFBQSxFQUEwQm5vQixLQUFLNjFCLFVBSXBFOEosRUFBMkI5K0IsVUFBVXluQixpQkFBbUIsU0FBVXNYLEVBQWdCbkwsRUFBYXBRLEdBQzNGLE9BQU8sSUFBSThQLFNBQVEsQ0FBQ0MsRUFBU0MsS0FFekIsTUFBTXdMLEVBQW1CNy9CLEtBQUs4L0IsZ0JBQWdCam5CLE1BQUtrbkIsR0FBVUEsRUFBT0gsaUJBQW1CQSxJQUN2RixJQUFJQyxFQVVBLE1BREF4TCxJQUNNLElBQUlsMEIsTUFBTSxnQ0FBZ0N5L0IsTUFWOUIsQ0FDbEIsTUFBTUksRUFBZ0JILEVBQWlCSSxtQkFBbUJqc0IsU0FBU3lPLGNBQ25FemlCLEtBQUs2MUIsT0FBT2xULFNBQVNxZCxHQUNyQkEsRUFBY3IyQixLQUFLLHFCQUFxQixLQUNwQ3lxQixPQUVKNEwsRUFBYzV5QixPQUE0QixvQkFBRTh5QixVQUFVekwsRUFBYXBRLFFDM0N4RSxNQUFNOGIsRUFBc0IxekIsR0FBRzZvQixhQUFhLHVCQUVuRDZLLEVBQW9CeEssV0FBV0MsSUFBSSxrQkFBbUIsQ0FDbERsZSxLQUFNLFNBQ04wUyxNQUFPLG1CQUNQcU0sUUFBUyxJQUliMEosRUFBb0J0L0IsVUFBVTRiLFdBQWEsYUFJM0MwakIsRUFBb0J0L0IsVUFBVXEvQixVQUFZLFNBQVV6TCxFQUFhcFEsR0FDN0Rya0IsS0FBSzYxQixPQUFPblQsaUJBQWlCK1IsRUFBWTlvQixFQUFHOG9CLEVBQVk3b0IsRUFBRzZvQixFQUFZNW9CLEdBQ3ZFN0wsS0FBS3FrQixZQUFjQSxFQUNuQnJrQixLQUFLd3pCLFlBQVl4ekIsS0FBS3FrQixjQUkxQjhiLEVBQW9CdC9CLFVBQVUyMEIsT0FBUyxTQUFVQyxHQUM3QyxHQUFJejFCLEtBQUtxa0IsWUFBYSxDQUNsQixNQUFNd1QsRUFBVzczQixLQUFLNjFCLE9BQU9qa0IsbUJBQ3ZCd3VCLEVBQWMsSUFBSTN6QixHQUFHbUUsS0FDckJ5dkIsRUFBUSxJQUFJNXpCLEdBQUdtRSxLQUFLNmtCLEVBQUt6MUIsS0FBS3NnQyxnQkFBaUI3SyxFQUFLejFCLEtBQUtzZ0MsZ0JBQWlCN0ssRUFBS3oxQixLQUFLc2dDLGlCQUMxRkYsRUFBWUcsS0FBS3ZnQyxLQUFLcWtCLFlBQVlvSyxRQUFTb0osR0FDM0N1SSxFQUFZelIsWUFDWnlSLEVBQVlJLElBQUlILEdBQ2hCRCxFQUFZeEssSUFBSWlDLEdBRWhCNzNCLEtBQUs2MUIsT0FBT25ULGlCQUFpQjBkLEdBRUZBLEVBQVk3UixTQUFTdnVCLEtBQUtxa0IsY0FDMUJvUixFQUFLejFCLEtBQUtzZ0Msa0JBQ2pDdGdDLEtBQUs2MUIsT0FBTzlDLEtBQUsscUJBQ2pCL3lCLEtBQUs2MUIsT0FBT3huQixhQU14Qjh4QixFQUFvQnQvQixVQUFVMnlCLFlBQWMsU0FBVXBFLEdBQ2xELE1BQU15SSxFQUFXNzNCLEtBQUs2MUIsT0FBT2prQixtQkFFdkJ5ZixFQUFLakMsRUFBTXpqQixFQUFJa3NCLEVBQVNsc0IsRUFDeEJ3c0IsRUFBSy9JLEVBQU12akIsRUFBSWdzQixFQUFTaHNCLEVBQ3hCdXNCLEVBQW1DLElBQXJCbm5CLEtBQUtvbkIsTUFBTWhILEVBQUk4RyxHQUFZbG5CLEtBQUtxbkIsR0FDcER0NEIsS0FBSzYxQixPQUFPMEMsZUFBZSxFQUFHSCxFQUFhLElDOUMvQyxNQUFRcnpCLFNBQVEsR0FBSyxFQUFRLEtBRXRCLE1BQU0wN0IsVUFBMkIsRUFDcEMsa0JBQW9CLE1BQU8scUJBRTNCLFlBQVl4N0IsR0FDUmtPLE1BQU1zdEIsRUFBbUJydEIsTUFDekJwVCxLQUFLa0csc0JBQXNCLENBQ3ZCcUssRUFBQSxpQkFBOEIsV0FHbEN2USxLQUFLaUYsY0FBZ0JBLEVBR3pCLFdBQVdNLEdBQ1A0TixNQUFNck4sV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ3BDLE9BQVFWLEdBQ0osS0FBS3dQLEVBQUEsaUJBQThCLFNBQy9CLE1BQU1td0IsRUFBYWovQixFQUFLLEdBQ2xCK3JCLEVBQWEvckIsRUFBSyxHQUN4QnpCLEtBQUtpRixjQUFjbUksT0FBNEIsb0JBQUV1ekIsY0FBY0QsRUFBWWxULEtDdEJwRixNQUFNb1QsRUFBc0JuMEIsR0FBRzZvQixhQUFhLHVCQUVuRHNMLEVBQW9CakwsV0FBV0MsSUFBSSxZQUFhLENBQzVDbGUsS0FBTSxTQUNOMFMsTUFBTyxlQUdYd1csRUFBb0JqTCxXQUFXQyxJQUFJLGVBQWdCLENBQy9DbGUsS0FBTSxTQUNOMFMsTUFBTyxrQkFJWHdXLEVBQW9CLy9CLFVBQVU0YixXQUFhLFdBQ3ZDemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWTI4QixFQUFtQnJ0QixPQUMzQ3BULEtBQUtzSCxPQUFPM0QsZUFBZTg4QixFQUFtQnJ0QixNQUVsRHBULEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUlrOUIsRUFBbUJ6Z0MsS0FBSzYxQixTQUV6RDcxQixLQUFLNmdDLGtCQUFvQjdnQyxLQUFLOGdDLFVBQVV4SCxRQUFReUgsT0FJcERILEVBQW9CLy9CLFVBQVU4L0IsY0FBZ0IsU0FBVXRULEVBQWdCRyxHQUNwRSxNQUFNN3RCLEVBQVE4TSxHQUFHZ3VCLEtBQUtDLE1BQU1yTixFQUFpQkcsRUFBWSxFQUFHLEdBQ3REdVQsRUFBUXQwQixHQUFHZ3VCLEtBQUt1RyxLQUFLLEVBQUdoaEMsS0FBSzZnQyxrQkFBbUJsaEMsR0FFdERLLEtBQUs4Z0MsVUFBVXhILFFBQVF5SCxNQUFRQSxFQU0vQi9nQyxLQUFLOGdDLFVBQVV4SCxRQUFRMkgsS0FBS3AxQixFQUFJbE0sRUFFaENLLEtBQUs4Z0MsVUFBVXhILFFBQVEySCxLQUFPamhDLEtBQUs4Z0MsVUFBVXhILFFBQVEySCxLQUVyRGpoQyxLQUFLa2hDLGFBQWE1SCxRQUFRalAsS0FBTyxHQUFHZ0QsS0FBa0JHLEtDdkMxRCxNQUFRem9CLFNBQVEsR0FBSyxFQUFRLEtBRXRCLE1BQU1vOEIsVUFBc0MsRUFDL0Msa0JBQW9CLE1BQU8sZ0NBRTNCLFlBQVlsOEIsR0FDUmtPLE1BQU1ndUIsRUFBOEIvdEIsTUFDcENwVCxLQUFLa0csc0JBQXNCLENBQ3ZCcUssRUFBQSx3QkFDQUEsRUFBQSw0QkFDQUEsRUFBQSxrQkFDQUEsRUFBQSxhQUEwQixXQUU5QnZRLEtBQUtpRixjQUFnQkEsRUFHekIsV0FBV00sR0FDUDROLE1BQU1yTixXQUFXUCxHQUdyQixtQkFBbUJ4RSxLQUFxQlUsR0FDcEMsT0FBUVYsR0FDSixLQUFLd1AsRUFBQSx3QkFDRHZRLEtBQUtpRixjQUFjOHdCLFNBQVUsRUFDN0IsTUFDSixLQUFLeGxCLEVBQUEsNEJBQ0QsTUFBTXNMLEVBQWM3YixLQUFLc0gsT0FBT25FLGNBQWM4VyxFQUFBLE9BQTBCLFVBQ2xFa0gsRUFBbUJ0RixFQUFZc0YsaUJBQy9CaWdCLEVBQWF2bEIsRUFBWXFSLGtCQUMvQmx0QixLQUFLaUYsY0FBY21JLE9BQXVDLCtCQUFFaTBCLG9CQUFvQmxnQixFQUFrQmlnQixHQUNsR3BoQyxLQUFLaUYsY0FBYzh3QixTQUFVLEVBQzdCLE1BQ0osS0FBS3hsQixFQUFBLGFBQTBCLFNBQzNCdlEsS0FBS2lGLGNBQWNtSSxPQUF1QywrQkFBRWkwQixvQkFBb0I1L0IsRUFBSyxHQUFJQSxFQUFLLElBRTlGLE1BQ0osS0FBSzhPLEVBQUEsa0JBQ0R2USxLQUFLaUYsY0FBYzh3QixTQUFVLElDeEN0QyxNQUFNdUwsRUFBaUM3MEIsR0FBRzZvQixhQUFhLGtDQUs5RGdNLEVBQStCM0wsV0FBV0MsSUFBSSxjQUFlLENBQUVsZSxLQUFNLFFBQVMwUyxNQUFPLGlCQUdyRmtYLEVBQStCemdDLFVBQVU0YixXQUFhLFdBQ2xEemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWXE5QixFQUE4Qi90QixPQUN0RHBULEtBQUtzSCxPQUFPM0QsZUFBZXc5QixFQUE4Qi90QixNQUc3RHBULEtBQUtzSCxPQUFPL0QsaUJBQWlCLElBQUk0OUIsRUFBOEJuaEMsS0FBSzYxQixTQUVwRTcxQixLQUFLdWhDLEtBQU8sSUFHaEJELEVBQStCemdDLFVBQVV3Z0Msb0JBQXNCLFNBQVVsZ0IsRUFBa0JpZ0IsR0FDdkYsS0FBT3BoQyxLQUFLdWhDLEtBQUszL0IsT0FBU3cvQixHQUN0QnBoQyxLQUFLd2hDLFlBR1QsSUFBSyxJQUFJNzJCLEVBQUksRUFBR0EsRUFBSTNLLEtBQUt1aEMsS0FBSzMvQixPQUFRK0ksSUFDOUJBLEVBQUl3VyxFQUNKbmhCLEtBQUt1aEMsS0FBSzUyQixHQUFHb29CLEtBQUssYUFBYSxHQUUvQi95QixLQUFLdWhDLEtBQUs1MkIsR0FBR29vQixLQUFLLGFBQWEsSUFNM0N1TyxFQUErQnpnQyxVQUFVMmdDLFVBQVksV0FDakQsTUFBTUMsRUFBU3poQyxLQUFLMGhDLFlBQVkxdEIsU0FBU3lPLGNBQ3pDemlCLEtBQUs2MUIsT0FBT2xULFNBQVM4ZSxHQUNyQnpoQyxLQUFLdWhDLEtBQUt4NkIsS0FBSzA2QixJQ3JDWixNQUFNRSxFQUErQmwxQixHQUFHNm9CLGFBQWEsZ0NBRTVEcU0sRUFBNkJoTSxXQUFXQyxJQUFJLFdBQVksQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sY0FHakZ1WCxFQUE2QjlnQyxVQUFVNGIsV0FBYSxXQUNoRHpjLEtBQUs2MUIsT0FBT3R0QixHQUFHLGFBQWNxNUIsSUFDekI1aEMsS0FBSzZoQyxTQUFTOUwsUUFBVTZMLE1DTGhDLE1BQVE3OEIsU0FBUSxHQUFLLEVBQVEsS0FFdEIsTUFBTSs4QixVQUFzQyxFQUMvQyxrQkFBb0IsTUFBTyxnQ0FFM0IsWUFBWTc4QixHQUNSa08sTUFBTTJ1QixFQUE4QjF1QixNQUNwQ3BULEtBQUtrRyxzQkFBc0IsQ0FDdkJxSyxFQUFBLDRCQUVKdlEsS0FBS2lGLGNBQWdCQSxFQUl6QixXQUFXTSxHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLDBCQUNELE1BQU13eEIsRUFBYS9oQyxLQUFLaUYsY0FBY21JLE9BQXVDLCtCQUN2RTQwQixFQUFjdmdDLEVBQUssR0FDbkJ5bEIsRUFBY3psQixFQUFLLEdBRXpCc2dDLEVBQVdFLGNBQWNELEVBQWE5YSxLQzNCL0MsTUFBTWdiLEVBQW1DejFCLEdBQUc2b0IsYUFBYSxvQ0FLaEU0TSxFQUFpQ3JoQyxVQUFVNGIsV0FBYSxhQUV4RHlsQixFQUFpQ3JoQyxVQUFVc2hDLGlCQUFtQixTQUFVQyxFQUFlOUUsRUFBUStFLEdBQzNGcmlDLEtBQUs2MUIsT0FBT0UsU0FBVSxFQUN0Qi8xQixLQUFLb2lDLGNBQWdCQSxFQUNyQnBpQyxLQUFLc2lDLE9BQVN0aUMsS0FBS3dNLElBQUkrMUIsZUFDdkJ2aUMsS0FBS285QixhQUFlRSxFQUNwQnQ5QixLQUFLd2lDLGFBQWVILEVBRXBCN25CLFlBQVcsS0FDUHhhLEtBQUs2MUIsT0FBT3huQixZQUNiLE1BSVA2ekIsRUFBaUNyaEMsVUFBVTRoQyxXQUFhLFNBQVVoTixHQUM5RCxNQUFNaU4sRUFBVzFpQyxLQUFLMmlDLHdCQUF3QjNpQyxLQUFLb2lDLGNBQWMzVCxTQUM3RGlVLEdBQ0ExaUMsS0FBSzYxQixPQUFPblQsaUJBQWlCZ2dCLElBSXJDUixFQUFpQ3JoQyxVQUFVOGhDLHdCQUEwQixTQUFVaG5CLEdBQzNFLEdBQUkzYixLQUFLc2lDLFFBQVV0aUMsS0FBS285QixjQUFnQnA5QixLQUFLd2lDLGFBQWMsQ0FDdkQsTUFBTUksRUFBV2puQixFQUFJOFMsUUFDZnVILEVBQVksSUFBSXZwQixHQUFHbUUsS0FFekI1USxLQUFLbzlCLGFBQWFFLE9BQU91RixjQUFjRCxFQUFVNU0sR0FDakQsTUFBTThNLEVBQWE5aUMsS0FBS3dNLElBQUkrMUIsZUFBZVEsY0FDM0MvTSxFQUFVcnFCLEdBQUttM0IsRUFDZjlNLEVBQVVwcUIsR0FBS2szQixFQUVmLE1BRU1FLEVBRmFoakMsS0FBS3dpQyxhQUFhSCxPQUVQNXhCLE1BQ3hCOUUsRUFBS3FxQixFQUFVcnFCLEVBQUlxM0IsRUFDbkJwM0IsR0FBSzVMLEtBQUtzaUMsT0FBT25mLE9BQVM2UyxFQUFVcHFCLEdBQUtvM0IsRUFFL0MsT0FBTyxJQUFJdjJCLEdBQUdtRSxLQUFLakYsRUFBR0MsRUFBRyxLQzNDMUIsTUFBTXEzQixFQUFpQ3gyQixHQUFHNm9CLGFBQWEsa0NBbUI5RDJOLEVBQStCdE4sV0FBV0MsSUFBSSxlQUFnQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxrQkFDdkY2WSxFQUErQnROLFdBQVdDLElBQUksZUFBZ0IsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sa0JBQ3ZGNlksRUFBK0J0TixXQUFXQyxJQUFJLG1CQUFvQixDQUFFbGUsS0FBTSxPQUFRZ2YsT0FmckQsQ0FDekIsQ0FDSTMwQixLQUFNLE9BQ05xb0IsTUFBTyxPQUNQMVMsS0FBTSxVQUVWLENBQ0kzVixLQUFNLFdBQ05xb0IsTUFBTyxXQUNQMVMsS0FBTSxVQU1rRzBTLE1BQU8sb0JBQXFCaFIsT0FBTyxJQUduSjZwQixFQUErQnBpQyxVQUFVNGIsV0FBYSxXQUNsRHpjLEtBQUtzSCxPQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUM3QnBzQixLQUFLc0gsT0FBT3hELFlBQVlnK0IsRUFBOEIxdUIsT0FDdERwVCxLQUFLc0gsT0FBTzNELGVBQWVtK0IsRUFBOEIxdUIsTUFHN0RwVCxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJdStCLEVBQThCOWhDLEtBQUs2MUIsVUFJeEVvTixFQUErQnBpQyxVQUFVb2hDLGNBQWdCLFNBQVVsZ0MsRUFBTW1sQixLQUFnQnpsQixHQUNyRixNQUFNcytCLEVBQVMvL0IsS0FBS2tqQyxpQkFBaUJycUIsTUFBTXNxQixHQUFnQkEsRUFBWXBoQyxPQUFTQSxJQUNoRixJQUFJZytCLEVBVUEsTUFBTSxJQUFJNS9CLE1BQU0sa0NBQWtDNEIsR0FWMUMsQ0FFUixNQUFNaWdCLEVBQWFrRixFQUFZM1MsWUFDekI2dUIsRUFBWSxJQUFJMzJCLEdBQUdtRSxLQUFLb1IsRUFBV3JXLEVBQUdxVyxFQUFXcFcsRUFBSXNiLEVBQVkvRCxPQUFRbkIsRUFBV25XLEdBQ3BGdzNCLEVBQVl0RCxFQUFPdUQsU0FBU3R2QixTQUFTeU8sY0FDM0M0Z0IsRUFBVWoyQixPQUF5QyxpQ0FBRSswQixpQkFBaUJpQixFQUNsRXBqQyxLQUFLbzlCLGFBQWNwOUIsS0FBS3dpQyxjQUM1QnhpQyxLQUFLNjFCLE9BQU81YyxPQUFPMEosU0FBUzBnQixLQ3ZDcEMsTUFBUXQrQixTQUFRLEdBQUssRUFBUSxLQUV0QixNQUFNdytCLFVBQXVCLEVBQ2hDLGtCQUFvQixNQUFPLGlCQUUzQixZQUFZdCtCLEdBQ1JrTyxNQUFNb3dCLEVBQWVud0IsTUFDckJwVCxLQUFLa0csc0JBQXNCLENBQ3ZCcUssRUFBQSwwQkFFSnZRLEtBQUtpRixjQUFnQkEsRUFFckJqRixLQUFLaUYsY0FBY3NELEdBQUcsZ0JBQWlCdkksS0FBS3dqQyxlQUFnQnhqQyxNQUloRSxXQUFXdUYsR0FDUDROLE1BQU1yTixXQUFXUCxHQUdyQixtQkFBbUJ4RSxLQUFxQlUsR0FDcEMsT0FBUVYsR0FDSixLQUFLd1AsRUFBQSxzQkFLYixpQkFDSSxNQUFNb1IsRUFBaUIzaEIsS0FBS3NILE9BQU9uRSxjQUFjaVYsRUFBQSxRQUMzQ25KLEVBQWtCalAsS0FBS2lGLGNBQWNtSSxPQUF3QixnQkFDN0RnQyxFQUFtQkgsRUFBZ0JHLGlCQUNuQ0MsRUFBb0JKLEVBQWdCSSxrQkFDcENzWixFQUFtQjFaLEVBQWdCSyxjQUFjQyxjQUVuRG9TLEVBQWVHLGNBQWdCLEVBQUF4RyxrQkFBQSxhQUMvQnRiLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSwwQkFDekJvWSxFQUFrQnZaLEVBQWtCQyxJQ3hDN0MsTUFBTW8wQixFQUFrQmgzQixHQUFHNm9CLGFBQWEsbUJBSy9DbU8sRUFBZ0I5TixXQUFXQyxJQUFJLFdBQVksQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sY0FDcEVxWixFQUFnQjlOLFdBQVdDLElBQUksbUJBQW9CLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLHNCQUM1RXFaLEVBQWdCOU4sV0FBV0MsSUFBSSxvQkFBcUIsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sdUJBQzdFcVosRUFBZ0I5TixXQUFXQyxJQUFJLFNBQVUsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sV0FDbEVxWixFQUFnQjlOLFdBQVdDLElBQUksZ0JBQWlCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLG1CQUd6RXFaLEVBQWdCNWlDLFVBQVU0YixXQUFhLFdBQ25DemMsS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJncUIsRUFBVyxXQUFYLEtBQzdCcHNCLEtBQUtzSCxPQUFPeEQsWUFBWXkvQixFQUFlbndCLE9BQ3ZDcFQsS0FBS3NILE9BQU8zRCxlQUFlNC9CLEVBQWVud0IsTUFHOUNwVCxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJZ2dDLEVBQWV2akMsS0FBSzYxQixTQUVyRDcxQixLQUFLc1AsY0FBY3BNLE1BQU02eUIsU0FBVSxHQ2xCdkMsTUFBUWh4QixTQUFRLEdBQUssRUFBUSxLQUV0QixNQUFNMitCLFdBQThCLEVBQ3ZDLGtCQUFvQixNQUFPLHdCQUUzQixZQUFZeitCLEdBQ1JrTyxNQUFNdXdCLEdBQXNCdHdCLE1BQzVCcFQsS0FBS2tHLHNCQUFzQixDQUN2QnFLLEVBQUEsc0JBQ0FBLEVBQUEsc0JBQ0FBLEVBQUEsd0JBQ0FBLEVBQUEsOEJBQ0FBLEVBQUEseUJBQ0FBLEVBQUEsZ0NBQ0FBLEVBQUEsa0NBRUp2USxLQUFLaUYsY0FBZ0JBLEVBRXJCakYsS0FBS2lGLGNBQWNzRCxHQUFHLG1CQUFvQnZJLEtBQUsyakMsb0JBQXFCM2pDLE1BQ3BFQSxLQUFLaUYsY0FBY3NELEdBQUcsaUJBQWtCdkksS0FBSzRqQyxrQkFBbUI1akMsTUFJcEUsV0FBV3VGLEdBQ1A0TixNQUFNck4sV0FBV1AsR0FHckIsbUJBQW1CeEUsS0FBcUJVLEdBQ3BDLE9BQVFWLEdBQ0osS0FBS3dQLEVBQUEsc0JBQ0R2USxLQUFLaUYsY0FBYzh3QixTQUFVLEVBQzdCLE1BQ0osS0FBS3hsQixFQUFBLHNCQUNEdlEsS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRXkyQixhQUNwRDdqQyxLQUFLaUYsY0FBYzh3QixTQUFVLEVBQzdCLE1BQ0osS0FBS3hsQixFQUFBLHdCQUNEdlEsS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRTAyQixXQUFXcmlDLEVBQUssSUFDcEUsTUFDSixLQUFLOE8sRUFBQSw4QkFDRHZRLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUUyMkIsbUJBQW1CdGlDLEdBQ3ZFLE1BQ0osS0FBSzhPLEVBQUEseUJBQ0R2USxLQUFLaUYsY0FBY21JLE9BQStCLHVCQUFFNDJCLHVCQUNwRCxNQUNKLEtBQUt6ekIsRUFBQSxnQ0FDRHZRLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUU2MkIsbUJBQWtCLEdBQ3RFLE1BQ0osS0FBSzF6QixFQUFBLGdDQUNEdlEsS0FBS2lGLGNBQWNtSSxPQUErQix1QkFBRTYyQixtQkFBa0IsSUFNbEYsc0JBQ0lqa0MsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUdqQyxrQkFBa0J2SixHQUNkaEgsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLHlCQUFxQ3ZKLElDOURuRSxNQUFNazlCLEdBQXlCejNCLEdBQUc2b0IsYUFBYSwwQkFLdEQ0TyxHQUF1QnZPLFdBQVdDLElBQUksc0JBQXVCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLG1CQUN0RjhaLEdBQXVCdk8sV0FBV0MsSUFBSSxnQkFBaUIsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sbUJBQ2hGOFosR0FBdUJ2TyxXQUFXQyxJQUFJLGFBQWMsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sZ0JBQzdFOFosR0FBdUJ2TyxXQUFXQyxJQUFJLGdCQUFpQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxpQkFBa0JxTSxRQUFTLE1BRTNHeU4sR0FBdUJ2TyxXQUFXQyxJQUFJLG9CQUFxQixDQUFFbGUsS0FBTSxRQUFTMFMsTUFBTyxxQkFDbkY4WixHQUF1QnZPLFdBQVdDLElBQUksc0JBQXVCLENBQUVsZSxLQUFNLFFBQVMwUyxNQUFPLHVCQUNyRjhaLEdBQXVCdk8sV0FBV0MsSUFBSSx5QkFBMEIsQ0FBRWxlLEtBQU0sUUFBUzBTLE1BQU8sMkJBRXhGOFosR0FBdUJ2TyxXQUFXQyxJQUFJLHVCQUF3QixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxvQkFJdkY4WixHQUF1QnJqQyxVQUFVNGIsV0FBYSxXQUMxQ3pjLEtBQUtzSCxPQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUM3QnBzQixLQUFLc0gsT0FBT3hELFlBQVk0L0IsR0FBc0J0d0IsT0FDOUNwVCxLQUFLc0gsT0FBTzNELGVBQWUrL0IsR0FBc0J0d0IsTUFHckRwVCxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJbWdDLEdBQXNCMWpDLEtBQUs2MUIsU0FFNUQ3MUIsS0FBSzYxQixPQUFPRSxTQUFVLEVBRXRCLzFCLEtBQUs4VixRQUFVLEdBRWY5VixLQUFLbWtDLHFCQUFxQjdLLFFBQVEvd0IsR0FBRyxTQUFTLEtBQzFDdkksS0FBSzYxQixPQUFPOUMsS0FBSyxzQkFDbEIveUIsT0FJUGtrQyxHQUF1QnJqQyxVQUFVaWpDLFdBQWEsU0FBVU0sR0FHcEQsR0FGQXBrQyxLQUFLcWtDLFdBQVdELEVBQVN4YSxNQUVyQndhLEVBQVN4YSxLQUFLOVQsUUFDZCxJQUFLLElBQUluTCxFQUFJLEVBQUdBLEVBQUl5NUIsRUFBU3hhLEtBQUs5VCxRQUFRbFUsT0FBUStJLElBQUssQ0FDbkQsTUFBTTI1QixFQUFTRixFQUFTeGEsS0FBSzlULFFBQVFuTCxHQUNyQzNLLEtBQUt1a0MsYUFBYTU1QixFQUFHMjVCLEVBQU9qYSxRQUt4QzZaLEdBQXVCcmpDLFVBQVV3akMsV0FBYSxTQUFVRCxHQUNwRCxNQUFNSSxFQUFVeGtDLEtBQUt5a0Msa0JBQWtCendCLFNBQVN5TyxjQUNoRCtoQixFQUFRcDNCLE9BQThCLHNCQUFFczNCLE1BQU1OLEdBQzlDcGtDLEtBQUsya0MsV0FBV2hpQixTQUFTNmhCLEdBQ3pCeGtDLEtBQUs0a0MsbUJBRUxwcUIsWUFBVyxLQUNQeGEsS0FBSzZrQyxvQkFBb0JDLFVBQVVubEMsTUFBUSxJQUM1QyxLQUdQdWtDLEdBQXVCcmpDLFVBQVUwakMsYUFBZSxTQUFVdjlCLEVBQU9xakIsR0FDN0QsTUFBTTBhLEVBQVkva0MsS0FBS2dsQyxvQkFBb0JoeEIsU0FBU3lPLGNBQ3BEc2lCLEVBQVUzM0IsT0FBZ0Msd0JBQUVzM0IsTUFBTTE5QixFQUFPcWpCLEdBQ3pEMGEsRUFBVXpMLFFBQVFqUCxLQUFPQSxFQUN6QnJxQixLQUFLMmtDLFdBQVdoaUIsU0FBU29pQixHQUN6Qi9rQyxLQUFLOFYsUUFBUS9PLEtBQUtnK0IsR0FFbEJBLEVBQVV4OEIsR0FBRyxRQUFTdkksS0FBS2lsQyxtQkFBb0JqbEMsTUFFL0NBLEtBQUs0a0MsbUJBRUxwcUIsWUFBVyxLQUNQeGEsS0FBSzZrQyxvQkFBb0JDLFVBQVVubEMsTUFBUSxJQUM1QyxLQUdQdWtDLEdBQXVCcmpDLFVBQVVrakMsZ0JBQWtCLFNBQVV4TixFQUFXQyxFQUFZckwsRUFBTUMsRUFBTThaLEdBQzVGLE1BQU1DLEVBQWVubEMsS0FBS29sQyx1QkFBdUJweEIsU0FBU3lPLGNBQzFEMGlCLEVBQWEvM0IsT0FBbUMsMkJBQUVzM0IsTUFBTW5PLEVBQVdDLEVBQVlyTCxFQUFNQyxFQUFNOFosR0FDM0ZsbEMsS0FBSzJrQyxXQUFXaGlCLFNBQVN3aUIsR0FFekJubEMsS0FBSzRrQyxtQkFFTHBxQixZQUFXLEtBQ1B4YSxLQUFLNmtDLG9CQUFvQkMsVUFBVW5sQyxNQUFRLElBQzVDLEtBR1B1a0MsR0FBdUJyakMsVUFBVW1qQyxxQkFBdUIsV0FDcEQsSUFBSyxNQUFNTSxLQUFVdGtDLEtBQUs4VixRQUN0Qnd1QixFQUFPLzRCLElBQUksUUFBU3ZMLEtBQUtpbEMsbUJBQW9CamxDLE1BQzdDc2tDLEVBQU9qMkIsVUFHWHJPLEtBQUs4VixRQUFVLElBR25Cb3VCLEdBQXVCcmpDLFVBQVVnakMsV0FBYSxXQUMxQyxLQUFPN2pDLEtBQUsya0MsV0FBV25vQixTQUFTNWEsT0FBUyxHQUNyQzVCLEtBQUsya0MsV0FBV25vQixTQUFTLEdBQUduTyxXQUlwQzYxQixHQUF1QnJqQyxVQUFVb2tDLG1CQUFxQixTQUFVaitCLEdBQzVEaEgsS0FBSzYxQixPQUFPOUMsS0FBSyxpQkFBa0IvckIsSUFHdkNrOUIsR0FBdUJyakMsVUFBVStqQyxpQkFBbUIsV0FDaEQsSUFBSVMsRUFBa0JybEMsS0FBSzJrQyxXQUFXVyxZQUFZQyxRQUFRMzVCLEVBQ3REdVgsRUFBUyxFQUViLElBQUssTUFBTXFpQixLQUFheGxDLEtBQUsya0MsV0FBV25vQixTQUNwQzJHLEdBQVVxaUIsRUFBVWxNLFFBQVFuVyxPQUM1QkEsR0FBVWtpQixFQUdkcmxDLEtBQUt5bEMsY0FBY25NLFFBQVFuVyxPQUFTbFMsS0FBS3FjLElBQUl0dEIsS0FBSzBsQyxjQUFldmlCLElBR3JFK2dCLEdBQXVCcmpDLFVBQVVvakMsa0JBQW9CLFNBQVV0a0MsR0FDM0RLLEtBQUtta0MscUJBQXFCcE8sUUFBVXAyQixHQ3RIakMsTUFBTWdtQyxHQUEwQmw1QixHQUFHNm9CLGFBQWEsMkJBRXZEcVEsR0FBd0JoUSxXQUFXQyxJQUFJLGNBQWUsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8saUJBQy9FdWIsR0FBd0JoUSxXQUFXQyxJQUFJLGNBQWUsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8saUJBSS9FdWIsR0FBd0I5a0MsVUFBVTRiLFdBQWEsYUFJL0NrcEIsR0FBd0I5a0MsVUFBVTZqQyxNQUFRLFNBQVUxOUIsRUFBTzQrQixHQUN2RDVsQyxLQUFLNmxDLFlBQVl2TSxRQUFRalAsS0FBUXJqQixFQUFRLEVBQUssSUFDOUNoSCxLQUFLcTVCLFlBQVlDLFFBQVFqUCxLQUFPdWIsRUFFaEM1bEMsS0FBSzYxQixPQUFPeUQsUUFBUW5XLE9BQVNuakIsS0FBS3E1QixZQUFZQyxRQUFRblcsT0FFdERuakIsS0FBSzYxQixPQUFPeUQsUUFBUS93QixHQUFHLFNBQVMsS0FDNUJ2SSxLQUFLNjFCLE9BQU85QyxLQUFLLFFBQVMvckIsT0FJbEMyK0IsR0FBd0I5a0MsVUFBVTIwQixPQUFTLFNBQVVDLEdBQ2pEejFCLEtBQUs2MUIsT0FBT3lELFFBQVFuVyxPQUFTbmpCLEtBQUtxNUIsWUFBWUMsUUFBUW5XLFFDdkJuRCxNQUFNMmlCLEdBQTRCcjVCLEdBQUc2b0IsYUFBYSw2QkFFekR3USxHQUEwQm5RLFdBQVdDLElBQUksZ0JBQWlCLENBQ3REbGUsS0FBTSxTQUNOMFMsTUFBTyxtQkFJWDBiLEdBQTBCamxDLFVBQVVnMkIsZUFBaUIsV0FDakQ3MkIsS0FBSzYxQixPQUFPMkIsVUFBVUUsTUFBTyxFQUM3QjEzQixLQUFLNjFCLE9BQU8yQixVQUFVQyxLQUFLejNCLEtBQUsrbEMsY0FBZSxLQ1Y1QyxNQUFNQyxHQUF3QnY1QixHQUFHNm9CLGFBQWEseUJBRXJEMFEsR0FBc0JyUSxXQUFXQyxJQUFJLGlCQUFrQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxtQkFBb0JxTSxRQUFTLE1BQzdHdVAsR0FBc0JyUSxXQUFXQyxJQUFJLG9CQUFxQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxtQkFBb0JxTSxRQUFTLE1BRWhIdVAsR0FBc0JyUSxXQUFXQyxJQUFJLGdCQUFpQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxtQkFDL0U0YixHQUFzQnJRLFdBQVdDLElBQUksY0FBZSxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxpQkFDN0U0YixHQUFzQnJRLFdBQVdDLElBQUksYUFBYyxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxnQkFFNUU0YixHQUFzQnJRLFdBQVdDLElBQUkscUJBQXNCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLHdCQUNwRjRiLEdBQXNCclEsV0FBV0MsSUFBSSxpQkFBa0IsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sb0JBSWhGNGIsR0FBc0JubEMsVUFBVTRiLFdBQWEsYUFJN0N1cEIsR0FBc0JubEMsVUFBVTZqQyxNQUFRLFNBQVVOLEdBQzFDQSxFQUFTaGEsT0FDVHBxQixLQUFLaW1DLFlBQVkzTSxRQUFRalAsS0FBTytaLEVBQVNoYSxNQUVyQ2dhLEVBQVM5WixhQUNUdHFCLEtBQUtpbUMsWUFBWTNNLFFBQVE0TSxNQUFNQyxXQUFXL0IsRUFBUzlaLGNBSXZEdHFCLEtBQUtpbUMsWUFBWWxRLFNBQVUsRUFHM0JxTyxFQUFTZ0MsVUFDVHBtQyxLQUFLcW1DLGNBQWMvTSxRQUFReUgsTUFBUS9nQyxLQUFLc21DLGdCQUV4Q3RtQyxLQUFLcW1DLGNBQWMvTSxRQUFReUgsTUFBUS9nQyxLQUFLdW1DLGtCQUN4Q3ZtQyxLQUFLd21DLG1CQUFtQkMsUUFBUyxHQUdyQ3ptQyxLQUFLMG1DLFdBQVdwTixRQUFRalAsS0FBTytaLEVBQVMvWixNQUk1QzJiLEdBQXNCbmxDLFVBQVU4bEMsVUFBWSxXQUN4QyxNQUFNQyxFQUFhNW1DLEtBQUt3bUMsbUJBQXlCLE9BQUl4bUMsS0FBS3dtQyxtQkFBbUJsTixRQUFRblcsT0FBUyxFQUM5RixJQUFJQSxFQUFTLEVBQ1RvaUIsRUFBVXZsQyxLQUFLcW1DLGNBQWNmLFlBQVlDLFFBQVEzNUIsRUFDckQsSUFBSyxNQUFNaTdCLEtBQWE3bUMsS0FBS3FtQyxjQUFjN3BCLFNBQ3ZDMkcsR0FBVTBqQixFQUFVdk4sUUFBUW5XLE9BQVNvaUIsRUFJcEN2bEMsS0FBS2ltQyxZQUFZbFEsVUFDbEIvMUIsS0FBSzBtQyxXQUFXcE4sUUFBUXlILE1BQVEvZ0MsS0FBS3NtQyxnQkFJekN0bUMsS0FBSzYxQixPQUFPeUQsUUFBUW5XLE9BQVNsUyxLQUFLcWMsSUFBSXNaLEVBQVd6akIsSUFJckQ2aUIsR0FBc0JubEMsVUFBVWcyQixlQUFpQixXQUM3QzcyQixLQUFLMm1DLGFBSVRYLEdBQXNCbmxDLFVBQVUyMEIsT0FBUyxTQUFVQyxLQzlEbkQsTUFBUTF3QixTQUFRLElBQUssRUFBUSxLQUV0QixNQUFNK2hDLFdBQTZCLEdBQ3RDLGtCQUFvQixNQUFPLHVCQUUzQixZQUFZN2hDLEdBQ1JrTyxNQUFNMnpCLEdBQXFCMXpCLE1BQzNCcFQsS0FBS2tHLHNCQUFzQixDQUN2QnFLLEVBQUEsNEJBRUp2USxLQUFLaUYsY0FBZ0JBLEVBRXJCakYsS0FBS2lGLGNBQWNzRCxHQUFHLHFCQUFzQnZJLEtBQUsrbUMsbUJBQW9CL21DLE1BSXpFLFdBQVd1RixHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLDBCQUVrQixXQURBOU8sRUFBSyxHQUVwQnpCLEtBQUtpRixjQUFjbUksT0FBOEIsc0JBQUU0NUIsaUJBQWdCLEdBRW5FaG5DLEtBQUtpRixjQUFjbUksT0FBOEIsc0JBQUU0NUIsaUJBQWdCLElBTW5GLG1CQUFtQkMsR0FDWEEsRUFDQWpuQyxLQUFLc0gsT0FBT3ZELGlCQUFpQndNLEVBQUEsMEJBQXNDLFVBRW5FdlEsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQyxhQ3ZDeEUsTUFBTTIyQixHQUF3Qno2QixHQUFHNm9CLGFBQWEseUJBS3JENFIsR0FBc0J2UixXQUFXQyxJQUFJLGtCQUFtQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxxQkFHakY4YyxHQUFzQnJtQyxVQUFVNGIsV0FBYSxXQUN6Q3pjLEtBQUtzSCxPQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUM3QnBzQixLQUFLc0gsT0FBT3hELFlBQVlnakMsR0FBcUIxekIsT0FDN0NwVCxLQUFLc0gsT0FBTzNELGVBQWVtakMsR0FBcUIxekIsTUFHcERwVCxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJdWpDLEdBQXFCOW1DLEtBQUs2MUIsU0FFM0Q3MUIsS0FBSzYxQixPQUFPeUQsUUFBUS93QixHQUFHLFFBQVN2SSxLQUFLby9CLFlBQWFwL0IsT0FHdERrbkMsR0FBc0JybUMsVUFBVXUrQixZQUFjLFNBQVVuMUIsR0FDcERqSyxLQUFLNjFCLE9BQU85QyxLQUFLLHNCQUF1Qi95QixLQUFLay9CLGdCQUFnQm5KLFVBR2pFbVIsR0FBc0JybUMsVUFBVW1tQyxnQkFBa0IsU0FBVUcsR0FDeERubkMsS0FBS2svQixnQkFBZ0JuSixRQUFVb1IsR0N0Qm5DLE1BQVFwaUMsU0FBUSxJQUFLLEVBQVEsS0FFdEIsTUFBTXFpQyxXQUE4QixHQUN2QyxrQkFBb0IsTUFBTyx3QkFFM0IsWUFBWW5pQyxFQUFlb2lDLEdBQ3ZCbDBCLE1BQU1pMEIsR0FBc0JoMEIsS0FBT2kwQixHQUNuQ3JuQyxLQUFLcW5DLGlCQUFtQkEsRUFFeEJybkMsS0FBS2tHLHNCQUFzQixDQUN2QnFLLEVBQUEsMEJBQXNDQSxFQUFBLDBCQUUxQ3ZRLEtBQUtpRixjQUFnQkEsRUFFckJqRixLQUFLaUYsY0FBY3NELEdBQUcsZ0JBQWlCdkksS0FBS3NuQyxjQUFldG5DLE1BSS9ELFdBQVd1RixHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLDBCQUVrQixXQURBOU8sRUFBSyxHQUVwQnpCLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUU0NUIsaUJBQWdCLEdBRXBFaG5DLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUU0NUIsaUJBQWdCLEdBRXhFLE1BQ0osS0FBS3oyQixFQUFBLHdCQUNELE1BQ01nM0IsRUFEaUI5bEMsRUFBSyxHQUNRK0QsSUFBSXhGLEtBQUtxbkMsa0JBQ3pDRSxHQUFnQkEsRUFBYWxWLEtBRTdCcnlCLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUVvNkIsUUFBUUQsRUFBYWxWLE1BRXpFcnlCLEtBQUtpRixjQUFjbUksT0FBK0IsdUJBQUVxNkIsa0JBT3BFLGNBQWNSLEdBQ05BLEVBQ0FqbkMsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLDBCQUFzQyxVQUVuRXZRLEtBQUtzSCxPQUFPdkQsaUJBQWlCd00sRUFBQSwwQkFBc0MsYUNwRHhFLE1BQU1tM0IsR0FBeUJqN0IsR0FBRzZvQixhQUFhLDBCQUt0RG9TLEdBQXVCL1IsV0FBV0MsSUFBSSxtQkFBb0IsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sdUJBQ25Gc2QsR0FBdUIvUixXQUFXQyxJQUFJLGFBQWMsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sZ0JBQzdFc2QsR0FBdUIvUixXQUFXQyxJQUFJLGtCQUFtQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxxQkFDbEZzZCxHQUF1Qi9SLFdBQVdDLElBQUksY0FBZSxDQUFFbGUsS0FBTSxRQUFTMFMsTUFBTyxpQkFHN0VzZCxHQUF1QjdtQyxVQUFVNGIsV0FBYSxXQUMxQ3pjLEtBQUtzSCxPQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUM3QnBzQixLQUFLc0gsT0FBT3hELFlBQVlzakMsR0FBc0JoMEIsS0FBT3BULEtBQUtxbkMsbUJBQzFEcm5DLEtBQUtzSCxPQUFPM0QsZUFBZXlqQyxHQUFzQmgwQixLQUFPcFQsS0FBS3FuQyxrQkFHakVybkMsS0FBS3NILE9BQU8vRCxpQkFBaUIsSUFBSTZqQyxHQUFzQnBuQyxLQUFLNjFCLE9BQVE3MUIsS0FBS3FuQyxtQkFFekVybkMsS0FBSzYxQixPQUFPeUQsUUFBUS93QixHQUFHLFFBQVN2SSxLQUFLby9CLFlBQWFwL0IsT0FHdEQwbkMsR0FBdUI3bUMsVUFBVTJtQyxRQUFVLFNBQVVHLEdBQ2pELE1BQU1DLEVBQVk1bkMsS0FBS3dNLElBQUl1SCxPQUFPdk8sSUFBSW1pQyxHQUN0QzNuQyxLQUFLNm5DLFdBQVd2TyxRQUFRd08sWUFBY0YsR0FHMUNGLEdBQXVCN21DLFVBQVU0bUMsZUFBaUIsV0FDOUN6bkMsS0FBSzZuQyxXQUFXdk8sUUFBUXdPLFlBQWM5bkMsS0FBSytuQyxhQUcvQ0wsR0FBdUI3bUMsVUFBVXUrQixZQUFjLFNBQVVuMUIsR0FDckRqSyxLQUFLNjFCLE9BQU85QyxLQUFLLGlCQUFrQi95QixLQUFLay9CLGdCQUFnQm5KLFVBRzVEMlIsR0FBdUI3bUMsVUFBVW1tQyxnQkFBa0IsU0FBVUcsR0FDekRubkMsS0FBS2svQixnQkFBZ0JuSixRQUFVb1IsR0NwQzVCLE1BQU1hLEdBQW1CdjdCLEdBQUc2b0IsYUFBYSxvQkF5RWhELFNBQVMyUyxHQUFVQyxFQUFNQyxHQUNyQixPQUFJRCxFQUFLdG1DLFNBQVd1bUMsRUFDVEQsRUFFQUEsRUFBS3ZaLFlBQVlsZSxNQUFNMDNCLEdBM0V0Q0gsR0FBaUJyUyxXQUFXQyxJQUFJLE9BQVEsQ0FDcENsZSxLQUFNLFNBQ04wUyxNQUFPLE9BQ1BxTSxRQUFTLElBR2J1UixHQUFpQnJTLFdBQVdDLElBQUksV0FBWSxDQUN4Q2xlLEtBQU0sU0FDTjBTLE1BQU8sWUFDUHFNLFFBQVMsSUFHYnVSLEdBQWlCclMsV0FBV0MsSUFBSSxXQUFZLENBQ3hDbGUsS0FBTSxTQUNOMFMsTUFBTyxZQUNQcU0sUUFBUyxLQUdidVIsR0FBaUJyUyxXQUFXQyxJQUFJLGtCQUFtQixDQUMvQ2xlLEtBQU0sU0FDTjBTLE1BQU8sb0JBQ1BxTSxRQUFTLElBR2J1UixHQUFpQm5uQyxVQUFVNGIsV0FBYSxXQUNwQ3pjLEtBQUtvb0MsU0FBVyxJQUFJMzdCLEdBQUdtRSxLQUN2QjVRLEtBQUtxb0MsY0FBZ0IsSUFBSTU3QixHQUFHbUUsTUFJaENvM0IsR0FBaUJubkMsVUFBVXEzQixnQkFBa0IsU0FBVXpDLEdBQ25ELE1BQU1pTixFQUFXMWlDLEtBQUs2MUIsT0FBT3RtQixjQUU3QnZQLEtBQUtxb0MsY0FBZ0JKLEdBQVVqb0MsS0FBS3FvQyxjQUFnQnJvQyxLQUFhLFVBQ2pFQSxLQUFLcW9DLGNBQWdCcm9DLEtBQUtxb0MsY0FBYzUzQixNQUFNLEVBQUt6USxLQUFTLE1BQzVEQSxLQUFLb29DLFNBQVdwb0MsS0FBS29vQyxTQUFTeFMsSUFBSTUxQixLQUFLcW9DLGVBQ3ZDcm9DLEtBQUtvb0MsU0FBV0gsR0FBVWpvQyxLQUFLb29DLFNBQVdwb0MsS0FBS3NvQyxTQUFXN1MsR0FFMUR6MUIsS0FBS3FvQyxjQUFnQixJQUFJNTdCLEdBQUdtRSxLQUU1QjVRLEtBQUs2MUIsT0FBT25ULGlCQUFpQmdnQixFQUFTOU0sSUFBSTUxQixLQUFLb29DLFdBRS9DLE1BQU1HLEVBQXNDLEtBcUM5QkwsRUFyQ2Fsb0MsS0FBS29vQyxTQXNDekJuM0IsS0FBS29uQixNQUFNNlAsRUFBS3Y4QixFQUFHdThCLEVBQUtyOEIsSUF0Q21Cb0YsS0FBS3FuQixHQXFDM0QsSUFBa0I0UCxFQXBDZGxvQyxLQUFLNjFCLE9BQU8wQyxlQUFlLEVBQUdnUSxFQUFXLElBSTdDUCxHQUFpQm5uQyxVQUFVbTNCLEtBQU8sU0FBVWpaLEVBQVEwVyxHQUNoRCxNQUFNaU4sRUFBVzFpQyxLQUFLNjFCLE9BQU9qa0IsbUJBQzdCLElBQUk0MkIsRUFBa0J6cEIsRUFBTzBQLFFBQVFDLElBQUlnVSxHQUN6QzhGLEVBQWtCQSxFQUFnQjdaLFlBQ2xDNlosRUFBZ0IvM0IsTUFBTXpRLEtBQUtzb0MsU0FBVzdTLEdBQ3RDLE1BQU1nVCxFQUFRRCxFQUFnQjlaLElBQUkxdUIsS0FBS29vQyxVQUN2Q3BvQyxLQUFLcW9DLGNBQWdCcm9DLEtBQUtxb0MsY0FBY3pTLElBQUk2UyxJQUdoRFQsR0FBaUJubkMsVUFBVW8zQixPQUFTLFNBQVVsWixHQUMxQyxNQUFNMmpCLEVBQVcxaUMsS0FBSzYxQixPQUFPdG1CLGNBQzdCLElBQUlpNUIsRUFBa0J6cEIsRUFBTzBQLFFBQVFDLElBQUlnVSxHQUFVL1QsWUFBWWxlLE1BQU16USxLQUFLc29DLFVBQzFFLE1BQU12aEIsRUFBbUIyYixFQUFTblUsU0FBU3hQLEdBR3ZDeXBCLEVBREF6aEIsRUFBbUIvbUIsS0FBSzBvQyxpQkFDTkYsRUFBZ0IvM0IsTUFBTXpRLEtBQUtzb0MsVUFFM0JFLEVBQWdCLzNCLE1BQU96USxLQUFLc29DLFNBQVd2aEIsRUFBbUIvbUIsS0FBSzJvQyxpQkFHckYsTUFBTUYsRUFBUUQsRUFBZ0I5WixJQUFJMXVCLEtBQUtvb0MsVUFDdkNwb0MsS0FBS3FvQyxjQUFnQnJvQyxLQUFLcW9DLGNBQWN6UyxJQUFJNlMsSUN0RXpDLE1BQU1HLEdBQXdCbjhCLEdBQUc2b0IsYUFBYSx5QkFFckRzVCxHQUFzQi9uQyxVQUFVZ29DLE9BQVNBLE9BRXpDRCxHQUFzQi9uQyxVQUFVZzJCLGVBQWlCLFdBQzdDNzJCLEtBQUs4b0MsV0FFTDlvQyxLQUFLNm9DLE9BQU9FLGlCQUFpQixTQUFVL29DLEtBQUs4b0MsU0FBU25nQyxLQUFLM0ksT0FBTyxJQUlyRTRvQyxHQUFzQi9uQyxVQUFVaW9DLFNBQVcsV0FDdkMsTUFBTXZHLEVBQWlCdmlDLEtBQUt3TSxJQUFJKzFCLGVBRTVCQSxFQUFleEIsTUFBUXdCLEVBQWVwZixPQUN0Q25qQixLQUFLNjFCLE9BQU93TSxPQUFPMkcsV0FBYSxFQUVoQ2hwQyxLQUFLNjFCLE9BQU93TSxPQUFPMkcsV0FBYSxFQUdwQ2hwQyxLQUFLNjFCLE9BQU93TSxPQUFPNEcsb0JBQXNCLElBQUl4OEIsR0FBR3d3QixLQUFLc0YsRUFBZXhCLE1BQU93QixFQUFlcGYsU0NwQnZGLE1BQU0rbEIsR0FBNkJ6OEIsR0FBRzZvQixhQUFhLDhCQUUxRDRULEdBQTJCdlQsV0FBV0MsSUFBSSxpQkFBa0IsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8scUJBQ3JGOGUsR0FBMkJ2VCxXQUFXQyxJQUFJLGtCQUFtQixDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxzQkFDdEY4ZSxHQUEyQnZULFdBQVdDLElBQUksWUFBYSxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxnQkFDaEY4ZSxHQUEyQnZULFdBQVdDLElBQUksWUFBYSxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxnQkFDaEY4ZSxHQUEyQnZULFdBQVdDLElBQUksZUFBZ0IsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sa0JBQ25GOGUsR0FBMkJ2VCxXQUFXQyxJQUFJLGVBQWdCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLGtCQUtuRjhlLEdBQTJCcm9DLFVBQVU0YixXQUFhLGFBSWxEeXNCLEdBQTJCcm9DLFVBQVU2akMsTUFBUSxTQUFVbk8sRUFBV0MsRUFBWXJMLEVBQU1DLEVBQU04WixHQUN0RmxsQyxLQUFLbXBDLGVBQWU3UCxRQUFRalAsS0FBT2tNLEVBQ25DdjJCLEtBQUtvcEMsZ0JBQWdCOVAsUUFBUWpQLEtBQU9tTSxFQUNwQ3gyQixLQUFLcXBDLFVBQVUvUCxRQUFRalAsS0FBT2MsRUFDOUJuckIsS0FBS3NwQyxVQUFVaFEsUUFBUWpQLEtBQU9lLEVBQzlCcHJCLEtBQUt1cEMsYUFBYXhULFFBQVVtUCxFQUM1QmxsQyxLQUFLd3BDLGFBQWF6VCxTQUFXbVAsR0N0QjFCLE1BQU11RSxHQUF5Qmg5QixHQUFHNm9CLGFBQWEsMEJBRXREbVUsR0FBdUI5VCxXQUFXQyxJQUFJLGFBQWMsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sZ0JBQzdFcWYsR0FBdUI5VCxXQUFXQyxJQUFJLGNBQWUsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8saUJBQzlFcWYsR0FBdUI5VCxXQUFXQyxJQUFJLGFBQWMsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sY0FBZXFNLFFBQVMsS0FFckdnVCxHQUF1QjlULFdBQVdDLElBQUksaUJBQWtCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLG9CQUdqRnFmLEdBQXVCNW9DLFVBQVU2akMsTUFBUSxTQUFVanRCLEdBQy9DelgsS0FBS3F5QixLQUFPNWEsRUFBUzRhLEtBQ3JCLE1BQU11VixFQUFZNW5DLEtBQUt3TSxJQUFJdUgsT0FBT3ZPLElBQUl4RixLQUFLcXlCLE1BQzNDcnlCLEtBQUs2bkMsV0FBV3ZPLFFBQVF3TyxZQUFjRixFQUN0QzVuQyxLQUFLc1gsS0FBT0csRUFBU0gsS0FDckJ0WCxLQUFLcTVCLFlBQVlDLFFBQVFqUCxLQUFPNVMsRUFBUzFWLEtBQ3pDL0IsS0FBSzYxQixPQUFPeUQsUUFBUW5XLE9BQVNuakIsS0FBSzBwQyxXQUFhMXBDLEtBQUtzWCxLQUNwRHRYLEtBQUsycEMsZUFBZXJRLFFBQVFuVyxPQUFTbmpCLEtBQUswcEMsV0FBYTFwQyxLQUFLc1gsS0FFNUR0WCxLQUFLeVgsU0FBV0EsR0FHcEJneUIsR0FBdUI1b0MsVUFBVStvQyxTQUFXLFdBQ3hDNXBDLEtBQUsycEMsZUFBZTVULFNBQVUsR0FHbEMwVCxHQUF1QjVvQyxVQUFVZ3BDLE9BQVMsV0FDdEM3cEMsS0FBSzJwQyxlQUFlNVQsU0FBVSxHQUlsQzBULEdBQXVCNW9DLFVBQVVnMkIsZUFBaUIsV0FFM0IsSUFBSXBxQixHQUFHcTlCLGtCQUFrQjlwQyxLQUFLNjFCLE9BQU95RCxRQUFTLE1BQ3REL3dCLEdBQUcsYUFBY3ZJLEtBQUsrcEMsWUFBYS9wQyxPQUdsRHlwQyxHQUF1QjVvQyxVQUFVa3BDLFlBQWMsV0FDM0MvcEMsS0FBSzYxQixPQUFPNWMsT0FBTzhaLEtBQUssYUFBYy95QixLQUFLNjFCLE9BQVE3MUIsS0FBS3NYLE9DbEM1RCxNQUFRdlMsU0FBUSxJQUFLLEVBQVEsS0FFdEIsTUFBTWlsQyxXQUErQixHQUN4QyxrQkFBb0IsTUFBTyx5QkFFM0IsWUFBWS9rQyxHQUNSa08sTUFBTTYyQixHQUF1QjUyQixNQUM3QnBULEtBQUtrRyxzQkFBc0IsQ0FDdkJxSyxFQUFBLDRCQUVKdlEsS0FBS2lGLGNBQWdCQSxFQUNyQmpGLEtBQUtpRixjQUFjc0QsR0FBRyxjQUFldkksS0FBS2lxQyxpQkFBa0JqcUMsTUFDNURBLEtBQUtpRixjQUFjc0QsR0FBRyxZQUFhdkksS0FBS2txQyxnQkFBaUJscUMsTUFDekRBLEtBQUtpRixjQUFjOHdCLFNBQVUsRUFHakMsV0FBV3h3QixHQUNQNE4sTUFBTXJOLFdBQVdQLEdBR3JCLG1CQUFtQnhFLEtBQXFCVSxHQUNwQyxPQUFRVixHQUNKLEtBQUt3UCxFQUFBLDBCQUNELE1BQU00NUIsRUFBUTFvQyxFQUFLLEdBQ2Iyb0MsRUFBYzNvQyxFQUFLLEdBQ3pCekIsS0FBS2lGLGNBQWNtSSxPQUFnQyx3QkFBRWk5QixhQUFhRixFQUFPQyxHQUN6RXBxQyxLQUFLaUYsY0FBYzh3QixTQUFVLEdBS3pDLGlCQUFpQmpmLEVBQVVPLEdBQ3ZCclgsS0FBS3NILE9BQU92RCxpQkFBaUJ3TSxFQUFBLHdCQUFvQ3VHLEVBQVVPLEdBRy9FLGdCQUFnQlksRUFBUVQsR0FDcEJ4WCxLQUFLc0gsT0FBT3ZELGlCQUFpQndNLEVBQUEscUJBQWlDMEgsRUFBUVQsSUN0QzlFLE1BYWE4eUIsR0FBMEI3OUIsR0FBRzZvQixhQUFhLDJCQXFJdkQsU0FBU2lWLEdBQVduYixFQUFPb2IsR0FDdkIsT0FBT3BiLEVBQU16akIsRUFBSTYrQixFQUFPclosSUFBTS9CLEVBQU16akIsRUFBSTYrQixFQUFPQyxJQUFNcmIsRUFBTXhqQixFQUFJNCtCLEVBQU9FLElBQU10YixFQUFNeGpCLEVBQUk0K0IsRUFBT0csR0FqSWpHTCxHQUF3QjNVLFdBQVdDLElBQUksZ0JBQWlCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLG1CQUNqRmtnQixHQUF3QjNVLFdBQVdDLElBQUksa0JBQW1CLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLHNCQUNuRmtnQixHQUF3QjNVLFdBQVdDLElBQUkscUJBQXNCLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLHdCQUN0RmtnQixHQUF3QjNVLFdBQVdDLElBQUksY0FBZSxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxpQkFDL0VrZ0IsR0FBd0IzVSxXQUFXQyxJQUFJLFlBQWEsQ0FBRWxlLEtBQU0sUUFBUzBTLE1BQU8sZUFFNUVrZ0IsR0FBd0IzVSxXQUFXQyxJQUFJLFdBQVksQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sY0FDNUVrZ0IsR0FBd0IzVSxXQUFXQyxJQUFJLFlBQWEsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sYUFBY3FNLFFBQVMsTUFDcEc2VCxHQUF3QjNVLFdBQVdDLElBQUksYUFBYyxDQUFFbGUsS0FBTSxTQUFVMFMsTUFBTyxjQUFlcU0sUUFBUyxLQUN0RzZULEdBQXdCM1UsV0FBV0MsSUFBSSxXQUFZLENBQUVsZSxLQUFNLFNBQVUwUyxNQUFPLFlBQWFxTSxRQUFTLEtBRWxHNlQsR0FBd0IzVSxXQUFXQyxJQUFJLGlCQUFrQixDQUFFbGUsS0FBTSxPQUFRZ2YsT0E3QjdDLENBQ3hCLENBQ0kzMEIsS0FBTSxNQUNOcW9CLE1BQU8scUJBQ1AxUyxLQUFNLFVBRVYsQ0FDSTNWLEtBQU0sU0FDTnFvQixNQUFPLHdCQUNQMVMsS0FBTSxXQW9Cd0YwQixPQUFPLEVBQU1nUixNQUFPLG9CQUUxSGtnQixHQUF3QnpwQyxVQUFVNGIsV0FBYSxXQUMzQ3pjLEtBQUtzSCxPQUFTLEVBQUFsRixPQUFBLFlBQW1CZ3FCLEVBQVcsV0FBWCxLQUM3QnBzQixLQUFLc0gsT0FBT3hELFlBQVlrbUMsR0FBdUI1MkIsT0FDL0NwVCxLQUFLc0gsT0FBTzNELGVBQWVxbUMsR0FBdUI1MkIsTUFHdERwVCxLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJeW1DLEdBQXVCaHFDLEtBQUs2MUIsU0FDN0Q3MUIsS0FBSzYxQixPQUFPdHRCLEdBQUcsYUFBY3ZJLEtBQUs0cUMsZ0JBQWlCNXFDLE1BQ25EQSxLQUFLNnFDLFlBQVl2UixRQUFRL3dCLEdBQUcsUUFBU3ZJLEtBQUs4cUMsWUFBYTlxQyxNQUV2REEsS0FBSytxQyxtQkFBbUJoVixTQUFVLEVBQ2xDLzFCLEtBQUtnckMsc0JBQXdCLElBR2pDVixHQUF3QnpwQyxVQUFVK3BDLGdCQUFrQixTQUFVSyxFQUFZM3pCLEdBQ3RFMnpCLEVBQVdDLFNBQVNsckMsS0FBSzYxQixRQUN6QjcxQixLQUFLbXJDLFNBQVNELFNBQVNsckMsS0FBSzYxQixRQUU1QjcxQixLQUFLNjFCLE9BQU95RCxRQUFRL3dCLEdBQUdrRSxHQUFHeXZCLGlCQUFrQmp5QixJQUN4Q2pLLEtBQUtvckMsZ0JBQWdCSCxFQUFZM3pCLEVBQU1yTixLQUN4Q2pLLE1BRUhBLEtBQUs2MUIsT0FBT3lELFFBQVEvd0IsR0FBR2tFLEdBQUc2dkIsZUFBZ0JyeUIsSUFDdENqSyxLQUFLcXJDLGNBQWNKLEVBQVkzekIsRUFBTXJOLEtBQ3RDakssT0FHUHNxQyxHQUF3QnpwQyxVQUFVeXFDLDRCQUE4QixTQUFVcmhDLEdBQ3RFLE1BQU0rckIsRUFBWSxJQUFJdnBCLEdBQUdtRSxLQUFLM0csRUFBSTBCLEVBQUcxQixFQUFJMkIsRUFBRyxHQUN0Q2szQixFQUFhOWlDLEtBQUt3TSxJQUFJKzFCLGVBQWVRLGNBQzNDL00sRUFBVXJxQixHQUFLbTNCLEVBQ2Y5TSxFQUFVcHFCLEdBQUtrM0IsRUFFZixNQUFNeUksRUFBYXZyQyxLQUFLNjFCLE9BQU95RCxRQUFRK0ksT0FBT0EsT0FDeENDLEVBQVN0aUMsS0FBS3dNLElBQUkrMUIsZUFFbEJTLEVBQWF1SSxFQUFXOTZCLE1BQ3hCOUUsRUFBS3FxQixFQUFVcnFCLEVBQUlxM0IsRUFDbkJwM0IsR0FBSzAyQixFQUFPbmYsT0FBUzZTLEVBQVVwcUIsR0FBS28zQixFQUUxQyxPQUFPLElBQUl2MkIsR0FBR21FLEtBQUtqRixFQUFHQyxFQUFHLElBRzdCMCtCLEdBQXdCenBDLFVBQVV1cUMsZ0JBQWtCLFNBQVVILEVBQVkzekIsRUFBTXJOLEdBQzVFLE1BQU1tMkIsRUFBY3BnQyxLQUFLc3JDLDRCQUE0QnJoQyxHQUNyRGpLLEtBQUttckMsU0FBU3pvQixpQkFBaUIwZCxHQUUvQnBnQyxLQUFLd3JDLHFCQUFxQlAsRUFBWTN6QixFQUFNOG9CLElBTWhEa0ssR0FBd0J6cEMsVUFBVXdxQyxjQUFnQixTQUFVSixFQUFZM3pCLEVBQU1yTixHQUMxRSxNQUFNd2hDLEVBQVV6ckMsS0FBS3NyQyw0QkFBNEJyaEMsR0FDakRqSyxLQUFLbXJDLFNBQVNwVixTQUFVLEVBQ3hCa1YsRUFBVzc5QixPQUErQix1QkFBRXk4QixTQUM1QzdwQyxLQUFLNjFCLE9BQU95RCxRQUFRL3RCLElBQUlrQixHQUFHeXZCLGlCQUMzQmw4QixLQUFLNjFCLE9BQU95RCxRQUFRL3RCLElBQUlrQixHQUFHNnZCLGVBRTNCLE1BQU1vUCxFQUFrQjFyQyxLQUFLMHJDLGdCQUFnQjk1QixtQkFPN0MsR0FEaUIyNEIsR0FBV2tCLEVBTGIsQ0FDWHRhLEdBQUl1YSxFQUFnQi8vQixFQUFHKytCLEdBQUlnQixFQUFnQjkvQixFQUFJNUwsS0FBSzJyQyxTQUFXM3JDLEtBQUswcEMsV0FDcEVlLEdBQUlpQixFQUFnQi8vQixFQUFJM0wsS0FBSzRyQyxVQUFXakIsR0FBSWUsRUFBZ0I5L0IsSUFJbEQsQ0FDVixNQUFNaWdDLEVBQWU3ckMsS0FBS3dNLElBQUkrMUIsZUFBZXBmLE9BR3ZDMm9CLEVBQWtCLENBQUVuZ0MsRUFBR3MvQixFQUFXM1IsUUFBUXlTLGNBQWMsR0FBR3BnQyxFQUFHQyxFQUFHaWdDLEVBQWVaLEVBQVczUixRQUFReVMsY0FBYyxHQUFHbmdDLEdBQ3BIb2dDLEVBQVloc0MsS0FBS3NyQyw0QkFBNEJRLEdBRTdDLzBCLEVBQVk5RixLQUFLcWMsSUFBSSxFQUFHcmMsS0FBS3VJLE9BQU9reUIsRUFBZ0I5L0IsRUFBSW9nQyxFQUFVcGdDLEdBQUs1TCxLQUFLMHBDLGFBQzVFanlCLEVBQVd3ekIsRUFBVzc5QixPQUErQix1QkFBRXFLLFNBQzdEelgsS0FBSzYxQixPQUFPOUMsS0FBSyxjQUFldGIsRUFBU1AsS0FBTUgsUUFHL0MvVyxLQUFLaXNDLHlCQUF5QmhCLEVBQVloaEMsSUFJbERxZ0MsR0FBd0J6cEMsVUFBVW9yQyx5QkFBMkIsU0FBVUMsRUFBZ0JDLEdBQ25GLElBQUssTUFBTXYwQixLQUFhNVgsS0FBSzZXLGVBQWdCLENBQ3pDLE1BQU11MUIsRUFBZXgwQixFQUFVN1gsSUFFekJzc0MsRUFEa0J6MEIsRUFBVWllLE9BQ0Z5RCxRQUFReVMsY0FDbEM1b0IsRUFBU25qQixLQUFLd00sSUFBSSsxQixlQUFlcGYsT0FPdkMsR0FBSW9uQixHQU5VLENBQUU1K0IsRUFBR3dnQyxFQUFXeGdDLEVBQUdDLEVBQUd1WCxFQUFTZ3BCLEVBQVd2Z0MsR0FDekMsQ0FDWHVsQixHQUFJa2IsRUFBUSxHQUFHMWdDLEVBQUcrK0IsR0FBSTJCLEVBQVEsR0FBR3pnQyxFQUNqQzYrQixHQUFJNEIsRUFBUSxHQUFHMWdDLEVBQUdnL0IsR0FBSTBCLEVBQVEsR0FBR3pnQyxJQUdOLENBQzNCLE1BQU02TCxFQUFXeTBCLEVBQWU5K0IsT0FBK0IsdUJBQUVxSyxTQUVqRXpYLEtBQUs2MUIsT0FBTzlDLEtBQUssWUFBYXRiLEVBQVNTLEdBQUlrMEIsTUFNdkQ5QixHQUF3QnpwQyxVQUFVeXJDLGVBQWlCLFNBQVVKLEVBQWdCdnNDLEdBQ3JFSyxLQUFLdXFDLFdBQVc1cUMsSUFDaEJ1c0MsRUFBZTkrQixPQUErQix1QkFBRXk4QixTQUNoRDdwQyxLQUFLK3FDLG1CQUFtQmhWLFNBQVUsSUFFbENtVyxFQUFlOStCLE9BQStCLHVCQUFFdzhCLFdBQ2hENXBDLEtBQUsrcUMsbUJBQW1CaFYsU0FBVSxHQUV0Qy8xQixLQUFLdXNDLHFCQUFxQjVzQyxJQU85QjJxQyxHQUF3QnpwQyxVQUFVaXFDLFlBQWMsV0FDNUMsT0FBTzlxQyxLQUFLNjFCLE9BQU9FLFNBQVUsR0FHakN1VSxHQUF3QnpwQyxVQUFVd3BDLGFBQWUsU0FBVUYsRUFBT0MsR0FDOURyaUMsUUFBUUMsSUFBSW1pQyxHQUNacGlDLFFBQVFDLElBQUlvaUMsR0FDWnBxQyxLQUFLNmpDLGFBQ0wsTUFBTTZILEVBQWtCMXJDLEtBQUswckMsZ0JBQWdCOTVCLG1CQUM3QyxJQUFJNDZCLEVBQWUsRUFDbkIsSUFBSyxJQUFJN2hDLEVBQUksRUFBR0EsRUFBSXcvQixFQUFNdm9DLE9BQVErSSxJQUFLLENBQ25DLE1BQU1zTSxFQUFPa3pCLEVBQU14L0IsR0FDbkI2aEMsR0FBZ0J2MUIsRUFBS0ssS0FFckIsTUFBTW0xQixFQUFtQnpzQyxLQUFLMHNDLFVBQVUxNEIsU0FBU3lPLGNBQ2pEZ3FCLEVBQWlCci9CLE9BQStCLHVCQUFFczNCLE1BQU16dEIsR0FDeER3MUIsRUFBaUIvcEIsaUJBQWlCZ3BCLEVBQWdCLy9CLEVBQUcrL0IsRUFBZ0I5L0IsRUFBSzRnQyxFQUFleHNDLEtBQUswcEMsV0FBYSxHQUUzRzFwQyxLQUFLZ3JDLHNCQUFzQmprQyxLQUFLMGxDLEdBRWhDenNDLEtBQUs2MUIsT0FBT2xULFNBQVM4cEIsR0FHekIsSUFBSyxNQUFNNzBCLEtBQWE1WCxLQUFLNlcsZUFBZ0IsQ0FDekMsTUFBTXUxQixFQUFleDBCLEVBQVU3WCxJQUN6QjRzQyxFQUFrQi8wQixFQUFVaWUsT0FFbEMsR0FBSXVVLEVBQVk5Z0MsSUFBSThpQyxHQUFlLENBQy9CLE1BQU1RLEVBQWV4QyxFQUFZNWtDLElBQUk0bUMsR0FDckNPLEVBQWdCdi9CLE9BQXVDLCtCQUFFczNCLE1BQU1rSSxFQUFhdmEsV0FFNUVzYSxFQUFnQnYvQixPQUF1QywrQkFBRXkvQixVQU1yRXZDLEdBQXdCenBDLFVBQVUycUMscUJBQXVCLFNBQVVQLEVBQVkzekIsRUFBTW0wQixHQUNqRixNQUFNQyxFQUFrQjFyQyxLQUFLMHJDLGdCQUFnQjk1QixtQkFPN0MsR0FEaUIyNEIsR0FBV2tCLEVBTGIsQ0FDWHRhLEdBQUl1YSxFQUFnQi8vQixFQUFHKytCLEdBQUlnQixFQUFnQjkvQixFQUFJNUwsS0FBSzJyQyxTQUFXM3JDLEtBQUswcEMsV0FDcEVlLEdBQUlpQixFQUFnQi8vQixFQUFJM0wsS0FBSzRyQyxVQUFXakIsR0FBSWUsRUFBZ0I5L0IsSUFJbEQsQ0FFVnEvQixFQUFXNzlCLE9BQStCLHVCQUFFeThCLFNBQzVDN3BDLEtBQUttckMsU0FBU3BWLFNBQVUsRUFDeEIsTUFBTThWLEVBQWU3ckMsS0FBS3dNLElBQUkrMUIsZUFBZXBmLE9BR3ZDMm9CLEVBQWtCLENBQUVuZ0MsRUFBR3MvQixFQUFXM1IsUUFBUXlTLGNBQWMsR0FBR3BnQyxFQUFHQyxFQUFHaWdDLEVBQWVaLEVBQVczUixRQUFReVMsY0FBYyxHQUFHbmdDLEdBQ3BIb2dDLEVBQVloc0MsS0FBS3NyQyw0QkFBNEJRLEdBRTdDLzBCLEVBQVk5RixLQUFLcWMsSUFBSSxFQUFHcmMsS0FBS3VJLE9BQU9reUIsRUFBZ0I5L0IsRUFBSW9nQyxFQUFVcGdDLEdBQUs1TCxLQUFLMHBDLGFBQ2xGMXBDLEtBQUs4c0MsbUJBQW1CN0IsRUFBWUEsRUFBVzc5QixPQUErQix1QkFBRWtLLEtBQU1QLFFBR3RGL1csS0FBSytxQyxtQkFBbUJoVixTQUFVLEVBQ2xDa1YsRUFBVzc5QixPQUErQix1QkFBRXc4QixXQUM1QzVwQyxLQUFLbXJDLFNBQVNwVixTQUFVLEdBSWhDdVUsR0FBd0J6cEMsVUFBVWlzQyxtQkFBcUIsU0FBVTdCLEVBQVkzekIsRUFBTXkxQixHQUMvRSxNQUFNckIsRUFBa0IxckMsS0FBSzByQyxnQkFBZ0I5NUIsbUJBQzdDLElBQUk0NkIsRUFBZSxFQUVuQixJQUFLLElBQUk3aEMsRUFBSSxFQUFHQSxFQUFJM0ssS0FBS2dyQyxzQkFBc0JwcEMsT0FBUStJLElBQUssQ0FDeEQsTUFBTXFpQyxFQUFzQmh0QyxLQUFLZ3JDLHNCQUFzQnJnQyxHQUduRHNnQyxJQUFlK0IsSUFDWEQsR0FBWVAsR0FBZ0JPLEVBQVdQLEVBQWVRLEVBQW9CNS9CLE9BQStCLHVCQUFFa0ssT0FDM0drMUIsR0FBZ0JsMUIsR0FFcEJrMUIsR0FBZ0JRLEVBQW9CNS9CLE9BQStCLHVCQUFFa0ssS0FFckUwMUIsRUFBb0J0cUIsaUJBQWlCZ3BCLEVBQWdCLy9CLEVBQUcrL0IsRUFBZ0I5L0IsRUFBSzRnQyxFQUFleHNDLEtBQUswcEMsV0FBYSxNQU0xSFksR0FBd0J6cEMsVUFBVWdqQyxXQUFhLFdBQzNDLEtBQU83akMsS0FBS2dyQyxzQkFBc0JwcEMsT0FBUyxHQUN4QjVCLEtBQUtnckMsc0JBQXNCaHNCLE1BQ25DM1EsV0MvT1IsTUFBTTQrQixHQUE2QnhnQyxHQUFHNm9CLGFBQWEsOEJBTTFEMlgsR0FBMkJwc0MsVUFBVTRiLFdBQWEsYUFJbER3d0IsR0FBMkJwc0MsVUFBVTZqQyxNQUFRLFNBQVUzaUMsRUFBTXVWLEtDVnRELE1BQU00MUIsR0FBaUN6Z0MsR0FBRzZvQixhQUFhLGtDQUU5RDRYLEdBQStCdlgsV0FBV0MsSUFBSSxlQUFnQixDQUFFbGUsS0FBTSxRQUFTMFMsTUFBTyxrQkFFdEY4aUIsR0FBK0J2WCxXQUFXQyxJQUFJLGFBQWMsQ0FBRWxlLEtBQU0sU0FBVTBTLE1BQU8sZ0JBRXJGOGlCLEdBQStCcnNDLFVBQVU0YixXQUFhLGFBRXREeXdCLEdBQStCcnNDLFVBQVU2akMsTUFBUSxTQUFVeUksR0FDdkQsTUFBTUMsRUFBUXB0QyxLQUFLd00sSUFBSXVILE9BQU92TyxJQUFJMm5DLEdBQ2xDbnRDLEtBQUs2bkMsV0FBV3ZPLFFBQVF3TyxZQUFjc0YsR0FLMUNGLEdBQStCcnNDLFVBQVVnc0MsTUFBUSxXQUM3QzdzQyxLQUFLNm5DLFdBQVd2TyxRQUFRd08sWUFBYzluQyxLQUFLcXRDLGNDaEIvQyxNQUFRanJDLE9BQU0sSUFBSyxFQUFRLE1BQ3JCLFFBQUU5QixJQUFZLEVBQVEsS0E4Q2YsSUFYYixNQUNJLGNBQ0lBLEdBQVFDLE9BQVEsRUFDaEIsR0FBT0ssWUFBY3dyQixFQUFXLFdBQVgsWUFDckJya0IsUUFBUUMsSUFBSSxJQUVaaEksS0FBS3NILE9BQVMsR0FBTzFHLFlBQVl3ckIsRUFBVyxXQUFYLEtBQ2pDcHNCLEtBQUtzSCxPQUFPZ21DLFFBQVF0dEMsUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiY29udHJvbGxlciBrZXkgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWRcIjtcbnZhciBDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoa2V5KSB7XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcCA9IHt9O1xuICAgICAgICBpZiAoQ29udHJvbGxlci5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nQ29tbWFuZCA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgQ29udHJvbGxlcihrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gPSBjb21tYW5kQ2xhc3NSZWY7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmV4ZWN1dGVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIGlmICghY29tbWFuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kLm5hbWUpO1xuICAgICAgICBjb21tYW5kLmFwcGx5KHZvaWQgMCwgW3RoaXMubXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRDRCRkUwXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiM4NzI0QkRcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIlxuICAgIF07XG4gICAgQ29udHJvbGxlci5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9Db250cm9sbGVyXCIpO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9Nb2RlbFwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJGYWNhZGUgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgRmFjYWRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2FkZShrZXkpIHtcbiAgICAgICAgaWYgKEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTm90aWZpY2F0aW9uIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTm90aWZpZXIoa2V5KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplRmFjYWRlKCk7XG4gICAgfVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5oYXNDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBGYWNhZGUucmVtb3ZlQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RlbF8xLk1vZGVsLnJlbW92ZU1vZGVsKGtleSk7XG4gICAgICAgIFZpZXdfMS5WaWV3LnJlbW92ZVZpZXcoa2V5KTtcbiAgICAgICAgQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlcihrZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplRmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVnaXN0ZXJDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVtb3ZlQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICB0aGlzLm1vZGVsLnJlZ2lzdGVyUHJveHkocHJveHkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZXRyaWV2ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmVtb3ZlUHJveHkocHJveHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmhhc1Byb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyTWVkaWF0b3IobWVkaWF0b3IpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJldHJpZXZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmVtb3ZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zbGVlcE1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuYXdha2VNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oYXNNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5hcHBseSh0aGlzLCBbRmFjYWRlLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgKF9hID0gdGhpcy52aWV3KS5ub3RpZnlPYnNlcnZlcnMuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsID0gTW9kZWxfMS5Nb2RlbC5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzJGMkUxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjRkZGMzI1XCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCJcbiAgICBdO1xuICAgIEZhY2FkZS5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBGYWNhZGU7XG59KCkpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNhZGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJNZWRpYXRvclwiO1xudmFyIE1lZGlhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZWRpYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZWRpYXRvcihtZWRpYXRvck5hbWUsIHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dNZWRpYXRvciA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIF90aGlzLm1lZGlhdG9yTmFtZSA9IG1lZGlhdG9yTmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgX3RoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwibm90aWZpY2F0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRNZWRpYXRvck5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTmFtZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25TbGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInNsZWVwXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uQXdha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwiYXdha2VcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcImlzU2xlZXBpbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsZWVwaW5nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5hZGRTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnVuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmNoYW5nZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9sZE5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuc2xpY2UoKTtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwoX3RoaXMsIG5vdGlmaWNhdGlvbikgfHwgY2hhbmdlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKHRoaXMsIG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkICYmIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSh0aGlzLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnJlbW92ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Y0RjZGRVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMzY1NkMxXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCJcbiAgICBdO1xuICAgIHJldHVybiBNZWRpYXRvcjtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVkaWF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTVVMVElUT05fTVNHID0gXCJNb2RlbCBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RlbChrZXkpIHtcbiAgICAgICAgdGhpcy5wcm94eU1hcCA9IHt9O1xuICAgICAgICBpZiAoTW9kZWwuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICB9XG4gICAgTW9kZWwuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IE1vZGVsKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnJlbW92ZU1vZGVsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgcHJveHkuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICB0aGlzLnByb3h5TWFwW3Byb3h5LmdldFByb3h5TmFtZSgpXSA9IHByb3h5O1xuICAgICAgICBwcm94eS5vblJlZ2lzdGVyKCk7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5wcm94eU1hcFtwcm94eU5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgcHJveHkgPSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICBwcm94eS5vblJlbW92ZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgTW9kZWwuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gTW9kZWw7XG59KCkpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vRmFjYWRlXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwibXVsdGl0b25LZXkgZm9yIHRoaXMgTm90aWZpZXIgbm90IHlldCBpbml0aWFsaXplZCFcIjtcbnZhciBOb3RpZmllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmllcigpIHtcbiAgICB9XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5mYWNhZGUgPSB0aGlzLmdldEZhY2FkZSgpO1xuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmZhY2FkZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5mYWNhZGUpLnNlbmROb3RpZmljYXRpb24uYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuZ2V0RmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tdWx0aXRvbktleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZV8xLkZhY2FkZS5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmllcjtcbn0oKSk7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJQcm94eVwiO1xudmFyIFByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm94eSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm94eShwcm94eU5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJveHlOYW1lID0gcHJveHlOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nUHJveHkgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb3h5LnByb3RvdHlwZS5nZXRQcm94eU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TmFtZTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBQcm94eS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzEwMjQxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMjdEMDRDXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCJcbiAgICBdO1xuICAgIHJldHVybiBQcm94eTtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJveHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXJlTVZDKCkge1xuICAgIH1cbiAgICBQdXJlTVZDLmxvZ0NvbW1hbmQgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmROYW1lKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIiA9PiAgXCIgKyBjb21tYW5kTmFtZSArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCI6IGFyZ3MgWyBcIiArIGFyZ3MgKyBcIiBdICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ01lZGlhdG9yID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ1Byb3h5ID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vbmUgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgIHJldHVybiBQdXJlTVZDO1xufSgpKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdXJlTVZDLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiVmlldyBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXcoa2V5KSB7XG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIGlmIChWaWV3Lmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9XG4gICAgVmlldy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgVmlldyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnJlbW92ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5ldmVudEVtaXR0ZXIpLmVtaXQuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICBpZiAodGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYXRvci5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBtZWRpYXRvciBmb3IgcmV0cmlldmFsIGJ5IG5hbWVcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0gPSBtZWRpYXRvcjtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgIG1lZGlhdG9yLm9uUmVnaXN0ZXIodGhpcy5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKCFtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBhd2FrZW5cbiAgICAgICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1lZGlhdG9yIGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gc2xlcHRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IG5vdGlmaWNhdGlvbiB0aGUgbWVkaWF0b3IgaXMgaW50ZXJlc3RlZCBpbi4uLlxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMSA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMVtfaV07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJlc3RcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBnZXQgbm90aWZpY2F0aW9uIGludGVyZXN0cyBpZiBhbnlcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYXRvciBhcyBhbiBvYnNlcnZlciBmb3IgZWFjaCBub3RpZmljYXRpb25cbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18yID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18yW19pXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgfTtcbiAgICBWaWV3Lmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIFZpZXc7XG59KCkpO1xuZXhwb3J0cy5WaWV3ID0gVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0NvbnRyb2xsZXJcIik7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlcjtcbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9GYWNhZGVcIik7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZV8xLkZhY2FkZTtcbnZhciBNZWRpYXRvcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01lZGlhdG9yXCIpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yXzEuTWVkaWF0b3I7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Nb2RlbFwiKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbF8xLk1vZGVsO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTm90aWZpZXJcIik7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXJfMS5Ob3RpZmllcjtcbnZhciBQcm94eV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1Byb3h5XCIpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5XzEuUHJveHk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1B1cmVNVkNcIik7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDXzEuUHVyZU1WQztcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvVmlld1wiKTtcbmV4cG9ydHMuVmlldyA9IFZpZXdfMS5WaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Ob2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWROb2Rlcy5zb21lKG5vZGUgPT4gbm9kZS54ID09PSBvdGhlck5vZGUueFxuICAgICAgICAgICAgJiYgbm9kZS55ID09PSBvdGhlck5vZGUueSAmJiBub2RlLnogPT09IG90aGVyTm9kZS56KTtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyTm9kZS54ICYmIHRoaXMueSA9PT0gb3RoZXJOb2RlLnkgJiYgdGhpcy56ID09PSBvdGhlck5vZGUuejtcbiAgICB9XG5cbiAgICBlcXVhbHNQb2ludCh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gejtcbiAgICB9XG5cbiAgICBhZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQob3RoZXJOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5wdXNoKG90aGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlSW5kZXggPSB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUuZXF1YWxzKG90aGVyTm9kZSkpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnNwbGljZShjb25uZWN0ZWROb2RlSW5kZXgsIDEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG4gICAgLy8gR2V0IG5hdmlnYXRpb24gZmxvb3JzXG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVNYXBGbG9vcihhcHApO1xuICAgIGNvbnN0IHdhbGxzID0gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IGNvdmVyID0gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IHBvcnRhbHMgPSBjcmVhdGVQb3J0YWxzKGFwcCk7XG5cbiAgICAvLyB3YXlwb2ludHNcbiAgICBjb25zdCB3YXlwb2ludHNNYXAgPSBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKTtcblxuICAgIC8vIFJlZ2lzdGVyIG1lZGlhdG9yc1xuXG4gICAgaWYgKGZhY2FkZS5oYXNQcm94eShHYW1lTWFwUHJveHkuTkFNRSkpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBtYXBcbiAgICAgICAgZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKVxuICAgIH1cblxuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lTWFwUHJveHkoZmxvb3JHcmlkLCB3YWxscywgY292ZXIsIHBvcnRhbHMsIHdheXBvaW50c01hcCkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwRmxvb3IoYXBwKSB7XG4gICAgY29uc3QgbmF2aWdhdGlvbkZsb29ycyA9IGFwcC5yb290LmZpbmRCeVRhZygnbmF2aWdhdGlvbl9mbG9vcicpO1xuXG4gICAgbGV0IGNvbXBsZXRlZEdyaWQgPSBbXTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25Db21wb25lbnRzID0gW107XG4gICAgLy8gRmlyc3QgcGFyc2UgLSBjcmVhdGUgbm9kZXMgYW5kIGNvbm5lY3Rpb25zIGZvciBpbmRpdmlkdWFsIFxuICAgIC8vIG5hdmlnYXRpb24gY29tcG9uZW50c1xuICAgIGZvciAoY29uc3QgZmxvb3JFbnRpdHkgb2YgbmF2aWdhdGlvbkZsb29ycykge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gZmxvb3JFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgICAgIG5hdmlnYXRpb25Db21wb25lbnRzLnB1c2gobmF2Q29tcCk7XG5cbiAgICAgICAgY29uc3QgZmxvb3JHcmlkID0gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpXG4gICAgICAgIG5hdkNvbXAuc2V0R3JpZChmbG9vckdyaWQpO1xuICAgIH1cblxuICAgIC8vIFNlY29uZCBwYXJzZSAtIHN0aXRjaCB0b2dldGhlciBhZGphY2VudCBub2RlcyBpbiBcbiAgICAvLyBjb25uZWN0ZWQgbmF2aWdhdGlvbiBtZXNoZXNcbiAgICBmb3IgKGNvbnN0IG5hdmlnYXRpb25Db21wIG9mIG5hdmlnYXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29ubmVjdGVkQ29tcEVudGl0eSBvZiBuYXZpZ2F0aW9uQ29tcC5jb25uZWN0ZWRDb21wb25lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0ZWROYXZDb21wID0gY29ubmVjdGVkQ29tcEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcblxuICAgICAgICAgICAgam9pblRvQWRqYWNlbnRHcmlkKG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSwgY29ubmVjdGVkTmF2Q29tcC5nZXRHcmlkKCkpO1xuICAgICAgICAgICAgY29tcGxldGVkR3JpZCA9IGNvbXBsZXRlZEdyaWQuY29uY2F0KG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29tcGxldGVkR3JpZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsc0JvdW5kaW5nQm94ZXMgPSBbXTtcbiAgICBjb25zdCBtYXBXYWxsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGwnKTtcbiAgICBmb3IgKGNvbnN0IG1hcFdhbGxFbnRpdHkgb2YgbWFwV2FsbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IGFhYmIgPSBjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkobWFwV2FsbEVudGl0eSk7XG4gICAgICAgIHdhbGxzQm91bmRpbmdCb3hlcy5wdXNoKGFhYmIpO1xuICAgICAgICBjcmVhdGVGbG9vclVuZGVyV2FsbHMobWFwV2FsbEVudGl0eSwgZmxvb3JHcmlkKTtcbiAgICAgICAgbWFwV2FsbEVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdhbGxzQm91bmRpbmdCb3hlcztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkoYm94RW50aXR5KSB7XG4gICAgY29uc3Qgc2NhbGUgPSBib3hFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIHNjYWxlLnkgLyAyLCBzY2FsZS56IC8gMik7XG4gICAgY29uc3QgYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveChib3hFbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHJldHVybiBhYWJiO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG9vclVuZGVyV2FsbHMod2FsbCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2FsbFBvcyA9IHdhbGwuZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCB3YWxsU2NhbGUgPSB3YWxsLmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZCh3YWxsUG9zLnkgLSAod2FsbFNjYWxlLnkgKiAwLjUpKTtcblxuICAgIGNvbnN0IGNvcm5lclggPSBNYXRoLnJvdW5kKHdhbGxQb3MueCAtICh3YWxsU2NhbGUueCAqIDAuNSkpO1xuICAgIGNvbnN0IGNvcm5lclogPSBNYXRoLnJvdW5kKHdhbGxQb3MueiAtICh3YWxsU2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgd2FsbFNjYWxlLng7IHgrKykge1xuICAgICAgICBmb3IgKGxldCB6ID0gY29ybmVyWjsgeiA8IGNvcm5lclogKyB3YWxsU2NhbGUuejsgeisrKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGVJbmRleCA9IGZsb29yR3JpZC5maW5kSW5kZXgoKG5vZGUpID0+IG5vZGUuZXF1YWxzUG9pbnQoeCwgeSwgeikpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVkTm9kZXMgPSBmbG9vckdyaWQuc3BsaWNlKG1hdGNoaW5nTm9kZUluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGVsZXRlZE5vZGUgb2YgZGVsZXRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBkZWxldGVkTm9kZS5jb25uZWN0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kaXNjb25uZWN0ZWROb2RlKGRlbGV0ZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpIHtcbiAgICAvLyBzbmFwIHRvIGdyaWRcbiAgICBjb25zdCBncmlkID0gW107XG5cbiAgICBjb25zdCBmbG9vclBvc2l0aW9uID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGZsb29yU2l6ZSA9IGZsb29yRW50aXR5LmdldExvY2FsU2NhbGUoKTtcblxuICAgIGNvbnN0IHNuYXBwZWRXaWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLngpO1xuICAgIGNvbnN0IHNuYXBwZWRCcmVhZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueik7XG5cbiAgICBjb25zdCBzbmFwcGVkWCA9IE1hdGgucm91bmQoZmxvb3JQb3NpdGlvbi54IC0gKHNuYXBwZWRXaWR0aCAvIDIpKTtcbiAgICBjb25zdCBzbmFwcGVkWSA9IGZsb29yUG9zaXRpb24ueTtcbiAgICBjb25zdCBzbmFwcGVkWiA9IE1hdGgucm91bmQoZmxvb3JQb3NpdGlvbi56IC0gKHNuYXBwZWRCcmVhZHRoIC8gMikpO1xuXG4gICAgZm9yIChsZXQgeiA9IHNuYXBwZWRaOyB6IDwgc25hcHBlZFogKyBzbmFwcGVkQnJlYWR0aDsgeisrKSB7XG4gICAgICAgIGZvciAobGV0IHggPSBzbmFwcGVkWDsgeCA8IHNuYXBwZWRYICsgc25hcHBlZFdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTmF2aWdhdGlvbk5vZGUoeCwgc25hcHBlZFksIHopO1xuICAgICAgICAgICAgZ3JpZC5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZCkge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmlkO1xufVxuXG5mdW5jdGlvbiBqb2luVG9BZGphY2VudEdyaWQoZ3JpZCwgZ3JpZFRvSm9pbikge1xuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWRUb0pvaW4pIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcENvdmVyKGFwcCwgZmxvb3JHcmlkKSB7XG4gICAgbGV0IGNvdmVyUG9pbnRzID0gW107XG4gICAgY29uc3QgY292ZXJFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnY292ZXInKTtcbiAgICBmb3IgKGNvbnN0IGNvdmVyRW50aXR5IG9mIGNvdmVyRW50aXRpZXMpIHtcbiAgICAgICAgY292ZXJQb2ludHMgPSBjb3ZlclBvaW50cy5jb25jYXQoY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goY292ZXJFbnRpdHksIGZsb29yR3JpZCkpO1xuICAgICAgICBjb3ZlckVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdmVyUG9pbnRzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94KGJveCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3QgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBib3hQb3MgPSBib3guZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCBib3hTY2FsZSA9IGJveC5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgeSA9IE1hdGgucm91bmQoYm94UG9zLnkgLSAoYm94U2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQoYm94UG9zLnggLSAoYm94U2NhbGUueCAqIDAuNSkpO1xuICAgIGNvbnN0IGNvcm5lclogPSBNYXRoLnJvdW5kKGJveFBvcy56IC0gKGJveFNjYWxlLnogKiAwLjUpKTtcblxuICAgIGZvciAobGV0IHggPSBjb3JuZXJYOyB4IDwgY29ybmVyWCArIGJveFNjYWxlLng7IHgrKykge1xuICAgICAgICBmb3IgKGxldCB6ID0gY29ybmVyWjsgeiA8IGNvcm5lclogKyBib3hTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdmVyUG9pbnQgPSBuZXcgcGMuVmVjMyh4LCB5LCB6KTtcbiAgICAgICAgICAgIGNvdmVyUG9pbnRzLnB1c2goY292ZXJQb2ludCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGVJbmRleCA9IGZsb29yR3JpZC5maW5kSW5kZXgoKG5vZGUpID0+IG5vZGUuZXF1YWxzUG9pbnQoeCwgeSwgeikpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVkTm9kZXMgPSBmbG9vckdyaWQuc3BsaWNlKG1hdGNoaW5nTm9kZUluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGVsZXRlZE5vZGUgb2YgZGVsZXRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBkZWxldGVkTm9kZS5jb25uZWN0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kaXNjb25uZWN0ZWROb2RlKGRlbGV0ZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlUG9ydGFscyhhcHApIHtcbiAgICBjb25zdCBwb3J0YWxzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBvcnRhbEVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdwb3J0YWwnKTtcbiAgICBmb3IgKGNvbnN0IHBvcnRhbEVudGl0eSBvZiBwb3J0YWxFbnRpdGllcykge1xuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSBwb3J0YWxFbnRpdHkuc2NyaXB0WydQb3J0YWxDb21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgcG9ydGFsSWQgPSBwb3J0YWxDb21wb25lbnQucG9ydGFsSWQ7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25TY2VuZTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25Qb3J0YWw7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9pbnQgPSBwb3J0YWxDb21wb25lbnQuc3RhbmRpbmdQb2ludC5nZXRQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBoaXRib3hQb2ludCA9IHBvcnRhbENvbXBvbmVudC5oaXRib3guZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICBjb25zdCBwb3J0YWwgPSB7XG4gICAgICAgICAgICBwb3J0YWxJZDogcG9ydGFsSWQsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblNjZW5lOiBkZXN0aW5hdGlvblNjZW5lLFxuICAgICAgICAgICAgZGVzdGluYXRpb25Qb3J0YWw6IGRlc3RpbmF0aW9uUG9ydGFsLFxuICAgICAgICAgICAgc3RhbmRpbmdQb2ludDogc3RhbmRpbmdQb2ludCxcbiAgICAgICAgICAgIGhpdGJveFBvaW50OiBoaXRib3hQb2ludFxuICAgICAgICB9XG5cbiAgICAgICAgcG9ydGFscy5zZXQocG9ydGFsSWQsIHBvcnRhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvcnRhbHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlV2F5cG9pbnRzTWFwKGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdheXBvaW50cyA9IFtdO1xuICAgIGZvciAoY29uc3QgZmxvb3JOb2RlIG9mIGZsb29yR3JpZCkge1xuICAgICAgICAvLyBDaGVjayBpZiBkaWFnb25hbHMgaW50ZXJzZWN0IHdhbGxzXG5cbiAgICAgICAgaWYgKGlzV2F5cG9pbnQoZmxvb3JOb2RlLCBmbG9vckdyaWQpKSB7XG4gICAgICAgICAgICB3YXlwb2ludHMucHVzaChuZXcgTmF2aWdhdGlvbk5vZGUoZmxvb3JOb2RlLngsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB3YXlwb2ludCBvZiB3YXlwb2ludHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlcldheXBvaW50IG9mIHdheXBvaW50cykge1xuICAgICAgICAgICAgaWYgKCF3YXlwb2ludC5lcXVhbHMob3RoZXJXYXlwb2ludCkgfHwgIW90aGVyV2F5cG9pbnQuaXNDb25uZWN0ZWQod2F5cG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IEFzdGFyLmNhbGN1bGF0ZUJyZXNlbmhhbUxpbmUod2F5cG9pbnQueCwgd2F5cG9pbnQueiwgb3RoZXJXYXlwb2ludC54LCBvdGhlcldheXBvaW50LnopO1xuICAgICAgICAgICAgICAgIGlmIChBc3Rhci5jaGVja1ZhbGlkTGluZShsaW5lLCBmbG9vckdyaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdheXBvaW50LmFkZENvbm5lY3RlZE5vZGUob3RoZXJXYXlwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyV2F5cG9pbnQuYWRkQ29ubmVjdGVkTm9kZSh3YXlwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdheXBvaW50cztcbn1cblxuZnVuY3Rpb24gaXNXYXlwb2ludChmbG9vck5vZGUsIGZsb29yTWFwKSB7XG4gICAgLy9DaGVjayBud1xuICAgIGNvbnN0IG5vcnRod2VzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54IC0gMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56IC0gMSk7XG4gICAgY29uc3Qgbm9ydGggPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56IC0gMSk7XG4gICAgY29uc3Qgbm9ydGhlYXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggKyAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBlYXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggKyAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnopO1xuICAgIGNvbnN0IHNvdXRoZWFzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54ICsgMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56ICsgMSk7XG4gICAgY29uc3Qgc291dGggPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56ICsgMSk7XG4gICAgY29uc3Qgc291dGh3ZXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggLSAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCB3ZXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggLSAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnopO1xuXG4gICAgLy8gbm9ydGh3ZXN0XG4gICAgaWYgKCFmbG9vck1hcC5zb21lKG4gPT4gbi5lcXVhbHMobm9ydGh3ZXN0KSkpIHtcbiAgICAgICAgaWYgKGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMobm9ydGgpKVxuICAgICAgICAgICAgJiYgZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh3ZXN0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm9ydGhlYXN0XG4gICAgaWYgKCFmbG9vck1hcC5zb21lKG4gPT4gbi5lcXVhbHMobm9ydGhlYXN0KSkpIHtcbiAgICAgICAgaWYgKGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMobm9ydGgpKVxuICAgICAgICAgICAgJiYgZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhlYXN0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc291dGhlYXN0XG4gICAgaWYgKCFmbG9vck1hcC5zb21lKG4gPT4gbi5lcXVhbHMoc291dGhlYXN0KSkpIHtcbiAgICAgICAgaWYgKGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoc291dGgpKVxuICAgICAgICAgICAgJiYgZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhlYXN0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc291dGh3ZXN0XG4gICAgaWYgKCFmbG9vck1hcC5zb21lKG4gPT4gbi5lcXVhbHMoc291dGh3ZXN0KSkpIHtcbiAgICAgICAgaWYgKGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoc291dGgpKVxuICAgICAgICAgICAgJiYgZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh3ZXN0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuXG5leHBvcnQgY2xhc3MgV2VhcG9uc1Byb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIldlYXBvbnNQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKFdlYXBvbnNQcm94eS5OQU1FLCBkYXRhKTtcbiAgICB9XG5cbiAgICBnZXREYW1hZ2Uod2VhcG9uTmFtZSwgZGFtYWdlVGllcikge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlbd2VhcG9uTmFtZV0uZGFtYWdlW01hdGgubWluKGRhbWFnZVRpZXIgLSAxLCA2KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG4gICAgfVxuXG4gICAgZ2V0V2VhcG9uQ2F0ZWdvcnkod2VhcG9uTmFtZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjYXRlZ29yeSwgd2VhcG9uTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5S2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNhdGVnb3J5IGZvciB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBTdG9yeVZPIH0gPSByZXF1aXJlKCcuL1N0b3J5Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgU3RvcnlQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdG9yeVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICBjb25zdCBzdG9yeVRydW5rID0gYXBwLmFzc2V0cy5nZXQoNDA1Mjk5MjApLnJlc291cmNlO1xuICAgICAgICBjb25zdCBzdG9yeVRyZWVzID0gc3RvcnlUcnVuay50cmVlcztcbiAgICAgICAgY29uc3Qgc3RvcnlUcmVlTWFwID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdHJlZUtleSBpbiBzdG9yeVRyZWVzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoc3RvcnlUcmVlcywgdHJlZUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yeVRyZWVBc3NldElkID0gc3RvcnlUcmVlc1t0cmVlS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yeVRyZWUgPSBhcHAuYXNzZXRzLmdldChzdG9yeVRyZWVBc3NldElkKS5yZXNvdXJjZTtcblxuICAgICAgICAgICAgICAgIHN0b3J5VHJlZU1hcC5zZXQodHJlZUtleSwgc3RvcnlUcmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKFN0b3J5UHJveHkuTkFNRSwgc3RvcnlUcmVlTWFwKTtcblxuICAgICAgICAvLyBQcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuY3VycmVudFRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICBnZXRUcmVlKHRyZWVJZCkge1xuICAgICAgICBpZiAodGhpcy52by5oYXModHJlZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2V0KHRyZWVJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Tm9kZSh0cmVlLCBub2RlSWQpIHtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0cmVlLm5vZGVzO1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobm9kZXMsIG5vZGVJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBub2Rlc1tub2RlSWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFN0ZXAobm9kZSwgc3RlcEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzID0gbm9kZS5zdGVwcztcbiAgICAgICAgaWYgKHN0ZXBJbmRleCA8IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXBzW3N0ZXBJbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ29Ub05vZGUobm9kZUlkKSB7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBub2RlSWQ7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IDA7XG4gICAgfVxuXG4gICAgc3RhcnREaWFsb2d1ZVRyZWUodHJlZUlkKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFRyZWUgPSB0cmVlSWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBcImVudHJ5XCI7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IDA7XG5cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgaWYgKCF0cmVlKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgQ2Fubm90IHN0YXJ0IGRpYWxvZ3VlOiBUcmVlICR7dGhpcy5jdXJyZW50VHJlZX0gbm90IGZvdW5kYCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBzdGFydCBkaWFsb2d1ZTogbm8gXCJlbnRyeVwiIG5vZGUgZGVmaW5lZCBvbiAke3RyZWVJZH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnROb2RlU3RlcCgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSk7XG4gICAgICAgIGNvbnN0IHZhbGlkU3RlcCA9IHRoaXMuZ2V0VmFsaWRTdGVwKGN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICBpZiAodmFsaWRTdGVwICYmIHZhbGlkU3RlcC5vbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBvbmNlQ29uZGl0aW9uID0gdGhpcy5nZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRoaXMuY3VycmVudFRyZWUsIHRoaXMuY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihvbmNlQ29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWRTdGVwO1xuICAgIH1cblxuXG4gICAgY29udGludWVDdXJyZW50Tm9kZVN0ZXAoKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmdldFRyZWUodGhpcy5jdXJyZW50VHJlZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpXG4gICAgICAgIC8vIGluY3JlbWVudCBzdGVwSW5kZXhcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4Kys7XG5cbiAgICAgICAgY29uc3QgdmFsaWRTdGVwID0gdGhpcy5nZXRWYWxpZFN0ZXAoY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgIGlmICh2YWxpZFN0ZXAgJiYgdmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKG9uY2VDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFN0ZXA7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRTdGVwKG5vZGUsIHN0ZXBJbmRleCkge1xuICAgICAgICBsZXQgbmV4dFZhbGlkU3RlcCA9IHRoaXMuZ2V0U3RlcChub2RlLCBzdGVwSW5kZXgpO1xuXG5cbiAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXApIHtcbiAgICAgICAgICAgIGxldCB0ZXN0Q29uZGl0aW9ucyA9IFtdO1xuICAgICAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXAuY29uZGl0aW9ucykge1xuICAgICAgICAgICAgICAgIHRlc3RDb25kaXRpb25zID0gdGVzdENvbmRpdGlvbnMuY29uY2F0KG5leHRWYWxpZFN0ZXAuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXh0VmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbmNlQ29uZGl0aW9uID0gdGhpcy5nZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgc3RlcEluZGV4KTtcbiAgICAgICAgICAgICAgICB0ZXN0Q29uZGl0aW9ucyA9IHRlc3RDb25kaXRpb25zLmNvbmNhdChvbmNlQ29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGVzdCB2YWxpZCBzdGVwJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGVzdENvbmRpdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy50ZXN0Q29uZGl0aW9ucyh0ZXN0Q29uZGl0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFZhbGlkU3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gc3RlcEluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWxpZFN0ZXAobm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRWYWxpZFN0ZXA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRyZWVJZCwgbm9kZUlkLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RyZWVJZH0ke25vZGVJZH0ke3N0ZXBJbmRleH1gO1xuICAgIH1cblxuICAgIGdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0cmVlSWQsIG5vZGVJZCwgc3RlcEluZGV4KSB7XG4gICAgICAgIHJldHVybiBgISR7dHJlZUlkfSR7bm9kZUlkfSR7c3RlcEluZGV4fWA7XG4gICAgfVxuXG4gICAgc2VsZWN0Q2hvaWNlKGNob2ljZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDaG9pY2UgPSBjdXJyZW50Tm9kZS5jaG9pY2VzW2Nob2ljZUluZGV4XTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkQ2hvaWNlO1xuICAgIH1cblxuICAgIGFkZENvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihjb25kaXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucy5wdXNoKGNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXN0Q29uZGl0aW9ucyhjb25kaXRpb25zKSB7XG4gICAgICAgIGxldCBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbmRpdGlvbiBvZiBjb25kaXRpb25zKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3Igb3BlcmF0b3JzXG4gICAgICAgICAgICBjb25zdCBvckRlbGltaXRlcmVkID0gXCJ8fFwiO1xuICAgICAgICAgICAgY29uc3Qgb3JDb25kaXRpb25zID0gY29uZGl0aW9uLnNwbGl0KG9yRGVsaW1pdGVyZWQpO1xuXG4gICAgICAgICAgICBpZiAob3JDb25kaXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IG9uZSBuZWVkcyB0byBiZSB0cnVlXG4gICAgICAgICAgICAgICAgbGV0IG9yU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uYWxDb25kaXRpb24gb2Ygb3JDb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQ29uZGl0aW9uKG9wdGlvbmFsQ29uZGl0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JTdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gb3JTdWNjZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRoaXMuY2hlY2tDb25kaXRpb24oY29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG5cbiAgICBjaGVja0NvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIC8vIGRldGVybWluZSBpZiBwb3NpdGl2ZSBvZiBuZWdhdGl2ZVxuICAgICAgICBpZiAoY29uZGl0aW9uLnN0YXJ0c1dpdGgoXCIhXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZFN0cmluZyA9IGNvbmRpdGlvbi5zbGljZSgxLCBjb25kaXRpb24ubGVuZ3RoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihzdHJpcHBlZFN0cmluZykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIitcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24oc3RyaXBwZWRTdHJpbmcpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLnN0YXJ0c1dpdGgoXCItXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZFN0cmluZyA9IGNvbmRpdGlvbi5zbGljZSgxLCBjb25kaXRpb24ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29uZGl0aW9uKHN0cmlwcGVkU3RyaW5nKTtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihjb25kaXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cbn1cbiIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgSW52ZW50b3J5Vk8gfSA9IHJlcXVpcmUoJy4vSW52ZW50b3J5Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW52ZW50b3J5UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEludmVudG9yeVByb3h5Lk5BTUUsIG5ldyBJbnZlbnRvcnlWTygpKTtcbiAgICB9XG5cbiAgICBnZXQgaW52ZW50b3J5SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmludmVudG9yeUl0ZW1zO1xuICAgIH1cblxuICAgIHNldCBpbnZlbnRvcnlJdGVtcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmludmVudG9yeUl0ZW1zID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGVxdWlwbWVudFNsb3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5lcXVpcG1lbnRTbG90cztcbiAgICB9XG5cblxuICAgIHJlb3JkZXJJbnZlbnRvcnlJdGVtKGl0ZW1VVUlELCBzbG90SW5kZXgpIHtcbiAgICAgICAgLy8gRGVsZXRlIHRoZSBpdGVtIGZyb20gaXQncyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSW5kZXggPSB0aGlzLmludmVudG9yeUl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udXVpZCA9PT0gaXRlbVVVSUQpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbEl0ZW0gPSB0aGlzLmludmVudG9yeUl0ZW1zLnNwbGljZShvcmlnaW5hbEluZGV4LCAxKTtcbiAgICAgICAgbGV0IHJ1bm5pbmdJbmRleFRvdGFsID0gMDtcbiAgICAgICAgbGV0IG5ld0luZGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmludmVudG9yeUl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pbnZlbnRvcnlJdGVtc1tpXTtcblxuXG4gICAgICAgICAgICBpZiAoc2xvdEluZGV4ID49IHJ1bm5pbmdJbmRleFRvdGFsICYmIHNsb3RJbmRleCA8IHJ1bm5pbmdJbmRleFRvdGFsICsgaXRlbS5zaXplKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBydW5uaW5nSW5kZXhUb3RhbCArPSBpdGVtLnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2xvdEluZGV4ID49IHJ1bm5pbmdJbmRleFRvdGFsKSB7XG4gICAgICAgICAgICBuZXdJbmRleCA9IHRoaXMuaW52ZW50b3J5SXRlbXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIGEgdmFsaWQgYXJyYXkgaXMgcHJvdmlkZWRcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLmludmVudG9yeUl0ZW1zKSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGFycmF5Jyk7XG4gICAgICAgIH1cblxuXG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZXJlJ3MgYW4gaXRlbSB0byBtb3ZlXG4gICAgICAgIGlmICghb3JpZ2luYWxJdGVtLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBpdGVtIGluIHRoZSBhcnJheSBhdCBpbmRleCAnICsgb3JpZ2luYWxJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIHRoZSBpdGVtIHRvIGl0cyBuZXcgcG9zaXRpb25cbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtcy5zcGxpY2UobmV3SW5kZXgsIDAsIG9yaWdpbmFsSXRlbVswXSk7XG4gICAgfVxuXG4gICAgYXR0ZW1wdFRvRXF1aXBJdGVtVG9TbG90KHNsb3RLZXksIGl0ZW1EYXRhKSB7XG4gICAgICAgIC8vIGNoZWNrIGVxdWlwIHdlYXBvblxuICAgICAgICBpZiAoKHNsb3RLZXkgPT09ICcxaGFuZCcgfHwgc2xvdEtleSA9PT0gJzJoYW5kJykgJiYgaXRlbURhdGEudHlwZSA9PT0gXCJ3ZWFwb25cIikge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdGhpcy5lcXVpcG1lbnRTbG90cy5nZXQoc2xvdEtleSk7XG5cbiAgICAgICAgICAgIC8vIENsZWFyIGJvdGggc2xvdHMgaXQgbGFzdCBpdGVtIHdhcyB0d28taGFuZGVkXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdJdGVtICYmIGV4aXN0aW5nSXRlbS5lcXVpcFNsb3QgPT09ICcyaGFuZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLmRlbGV0ZSgnMWhhbmQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLmRlbGV0ZSgnMmhhbmQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW1EYXRhLmVxdWlwU2xvdCA9PT0gJzFoYW5kJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuc2V0KHNsb3RLZXksIGl0ZW1EYXRhKTtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhpcyBpc24ndCBhbHJlYWR5IGVxdWlwcGVkIGluIHRoZSBvdGhlciBoYW5kXG4gICAgICAgICAgICAgICAgaWYgKHNsb3RLZXkgPT09ICcxaGFuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJTbG90ID0gdGhpcy5lcXVpcG1lbnRTbG90cy5nZXQoJzJoYW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdGhlclNsb3QgJiYgb3RoZXJTbG90LnV1aWQgPT09IGl0ZW1EYXRhLnV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuZGVsZXRlKCcyaGFuZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzbG90S2V5ID09PSAnMmhhbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyU2xvdCA9IHRoaXMuZXF1aXBtZW50U2xvdHMuZ2V0KCcxaGFuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJTbG90ICYmIG90aGVyU2xvdC51dWlkID09PSBpdGVtRGF0YS51dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLmRlbGV0ZSgnMWhhbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuc2V0KCcxaGFuZCcsIGl0ZW1EYXRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLnNldCgnMmhhbmQnLCBpdGVtRGF0YSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkSW52ZW50b3J5SXRlbShpbnZlbnRvcnlJdGVtRGF0YSkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnB1c2goaW52ZW50b3J5SXRlbURhdGEpO1xuICAgIH1cblxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuXG5leHBvcnQgY2xhc3MgSXRlbXNQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJdGVtc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoSXRlbXNQcm94eS5OQU1FLCBkYXRhKTtcbiAgICB9XG5cbiAgICBnZXRJdGVtRGF0YShpdGVtSWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeUtleSBpbiB0aGlzLnZvKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52bywgY2F0ZWdvcnlLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnZvW2NhdGVnb3J5S2V5XTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCBpdGVtSWQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjYXRlZ29yeUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMudm9bY2F0ZWdvcnlLZXldW2l0ZW1JZF1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIGRhdGEgZm9yIGl0ZW06OiAke2l0ZW1JZH1gKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEludmVudG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVByb3h5JztcbmltcG9ydCB7IEl0ZW1zUHJveHkgfSBmcm9tICcuLi9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgIC8vIFJlZ2lzdGVyIGFwcC1sZXZlbCBtZWRpYXRvcnMvcHJveGllcy9jb21tYW5kcyBoZXJlXG5cbiAgICAvLyBDcmVhdGUgZ2FtZSBzdGF0ZSBwcm94eVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgR2FtZVN0YXRlUHJveHkoKSk7XG5cbiAgICAvLyBMb2FkIHdlYXBvbnMgZGF0YSBhbmQgY3JlYXRlIHByb3h5XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBpZiAoYXBwKSB7XG4gICAgICAgIGNvbnN0IHdlYXBvbnNEYXRhID0gYXBwLmFzc2V0cy5nZXQoNDA0MTU2MzEpLnJlc291cmNlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IFdlYXBvbnNQcm94eSh3ZWFwb25zRGF0YSkpO1xuICAgICAgICBjb25zdCBpdGVtc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDgxNDAyNykucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgSXRlbXNQcm94eShpdGVtc0RhdGEpKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBTdG9yeVByb3h5KCkpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEludmVudG9yeVByb3h5KCkpO1xuXG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IGVxdWlwbWVudFxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgXCJzd29yZFwiKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwicGlzdG9sZXRcIik7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcImZ1c2lsXCIpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgXCJjaGFpbm1haWxcIik7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfSVRFTV9UT19TTE9ULCBcInVuYXJtZWRcIiwgXCIxaGFuZFwiKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIFwidW5hcm1lZFwiLCBcIjJoYW5kXCIpO1xuXG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTY2VuZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHNjZW5lTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc3QgcG9ydGFsSWQgPSBhcmdzWzFdO1xuICAgIGNvbnNvbGUubG9nKGBDaGFuZ2luZyBzY2VuZSAke3NjZW5lTmFtZX1gKTtcblxuICAgIC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgc2NlbmUncyByb290IG9iamVjdFxuICAgIGNvbnN0IG9sZEhpZXJhcmNoeSA9IGFwcC5yb290LmZpbmRCeU5hbWUoJ1Jvb3QnKTtcblxuICAgIC8vIEdldCB0aGUgcGF0aCB0byB0aGUgc2NlbmVcbiAgICBjb25zdCBzY2VuZSA9IGFwcC5zY2VuZXMuZmluZChzY2VuZU5hbWUpO1xuXG4gICAgLy8gTG9hZCB0aGUgc2NlbmVzIGVudGl0eSBoaWVyYXJjaHlcbiAgICBhcHAuc2NlbmVzLmxvYWRTY2VuZUhpZXJhcmNoeShzY2VuZS51cmwsIGZ1bmN0aW9uIChlcnIsIHBhcmVudCkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgaWYgKG9sZEhpZXJhcmNoeSkge1xuICAgICAgICAgICAgICAgIG9sZEhpZXJhcmNoeS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAsIHBvcnRhbElkKTtcblxuICAgIH0pO1xufSIsImV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoXG4gICAgbGV0IHRlbXBvcmFyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGxldCByYW5kb21JbmRleCA9IC0xO1xuXG4gICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGUuLi5cbiAgICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW50Li4uXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcbiAgICAgICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAgICAgLy8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IGFycmF5W2N1cnJlbnRJbmRleF07XG4gICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgICAgIGFycmF5W3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHNodWZmbGVBcnJheSB9IGZyb20gJy4uLy4uL3V0aWxzL1NodWZmbGVBcnJheSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IENvbWJhdFZPIH0gPSByZXF1aXJlKCcuL0NvbWJhdFZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIENvbWJhdFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNvbWJhdFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgc3VwZXIoQ29tYmF0UHJveHkuTkFNRSwgbmV3IENvbWJhdFZPKHBhcnRpY2lwYW50cywgdGVhbXMpKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB0aGlzLnZvLnBhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLnNldChwYXJ0aWNpcGFudCwgcGFydGljaXBhbnRQcm94eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0VHVybigpIHtcbiAgICAgICAgY29uc3Qgcm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmU7XG5cbiAgICAgICAgaWYgKHJvdW5kSW5pdGlhdGl2ZSAmJiByb3VuZEluaXRpYXRpdmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFR1cm5JZCA9IHJvdW5kSW5pdGlhdGl2ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IG5leHRUdXJuSWQ7XG5cbiAgICAgICAgICAgIGlmIChuZXh0VHVybklkICE9PSAnZW5kX3JvdW5kJykge1xuICAgICAgICAgICAgICAgIC8vIE5leHQgVHVyblxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFR1cm4gJHtuZXh0VHVybklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZ2V0KG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIHByb3h5LnJlc2V0Q29tYmF0VHVyblN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJveHkuaXNOUEMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVuZCByb3VuZFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEVuZCByb3VuZGApO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0Um91bmQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8gIE5ldyByb3VuZCAgLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnN0IGluaXRpYXRpdmVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2NoYXJhY3RlcklkLCBwcm94eV0gb2YgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2byA9IHByb3h5LnZvO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2by5pbml0aWF0aXZlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbml0aWF0aXZlcy5wdXNoKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbml0aWF0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV2ZXJ5b25lIGlzIG91dCBvZiB0aGUgY29tYmF0IHNvbWVob3csIHByb2JhYmx5IGRlYWRcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGVuZCBvZiByb3VuZCB0b2tlblxuICAgICAgICBpbml0aWF0aXZlcy5wdXNoKCdlbmRfcm91bmQnKTtcblxuICAgICAgICBsZXQgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KGluaXRpYXRpdmVzKTtcbiAgICAgICAgLy8gZW5zdXJlIHJvdW5kIGRvZXNuJ3Qgc3RhcnQgd2l0aCBcImVuZF9yb3VuZFwiXG4gICAgICAgIHdoaWxlIChzaHVmZmxlZEluaXRpYXRpdmVbMF0gPT09IFwiZW5kX3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShzaHVmZmxlZEluaXRpYXRpdmUpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHNodWZmbGVkSW5pdGlhdGl2ZTtcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZDtcbiAgICB9XG5cbiAgICBnZXQgYWN0aXZlUGFydGljaXBhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50O1xuICAgIH1cblxuICAgIHNldCBhY3RpdmVQYXJ0aWNpcGFudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHBhcnRpY2lwYW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgIH1cblxuICAgIGdldCB0ZWFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8udGVhbXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdChjaGFyYWN0ZXJJZCkge1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBwYXJ0aWNjaXBhbnRzXG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmRlbGV0ZShjaGFyYWN0ZXJJZCk7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGluaXRpYXRpdmVcbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZS5maWx0ZXIoZSA9PiBlICE9PSBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB0ZWFtXSBvZiB0aGlzLnRlYW1zLmVudHJpZXMoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJJbmRleCA9IHRlYW0uaW5kZXhPZihjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVySW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRlYW0uc3BsaWNlKGNoYXJhY3RlckluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRlYW0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJTdGFydCBDb21iYXRcIik7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKTtcblxuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUywgXCJzcG90dGVkXCIsIGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkpO1xuXG5cbiAgICAvLyBTZXR1cCB0aGUgY29tYmF0XG4gICAgY29uc3QgdGVhbXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcGxheWVyVGVhbSA9IFsncGxheWVyJ107XG4gICAgdGVhbXMuc2V0KCdwbGF5ZXJfdGVhbScsIHBsYXllclRlYW0pO1xuXG4gICAgY29uc3Qgb3Bwb3NpbmdUZWFtID0gW2luc3RpZ2F0aW5nQ2hhcmFjdGVySWRdLmNvbmNhdChpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5LmNvbWJhdEdyb3VwKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09IHBvcztcbiAgICB9KTtcbiAgICB0ZWFtcy5zZXQoJ29wcG9zaW5nX3RlYW0nLCBvcHBvc2luZ1RlYW0pO1xuXG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gcGxheWVyVGVhbS5jb25jYXQob3Bwb3NpbmdUZWFtKTtcblxuXG4gICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9NT1ZFTUVOVCArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgcGxheWVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgcGFydGljaXBhbnQsIGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IG5ldyBDb21iYXRQcm94eShwYXJ0aWNpcGFudHMsIHRlYW1zKTtcbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShjb21iYXRQcm94eSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICB9LCAyMDAwKTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRUdXJuKCk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRSb3VuZENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFJvdW5kKCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS52by5uZXh0VHVybkNoYXJhY3RlcklkKTtcblxuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5Lm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuICAgIH0sIDUwMCk7XG59XG4iLCJleHBvcnQgY2xhc3MgQmVoYXZpb3VyU3RhdHVzIHtcbiAgICBzdGF0aWMgZ2V0IFNVQ0NFU1MoKSB7IHJldHVybiAwIH07XG4gICAgc3RhdGljIGdldCBGQUlMVVJFKCkgeyByZXR1cm4gMSB9O1xuICAgIHN0YXRpYyBnZXQgUlVOTklORygpIHsgcmV0dXJuIDIgfTtcbiAgICBzdGF0aWMgZ2V0IEVSUk9SKCkgeyByZXR1cm4gMyB9O1xufSIsImltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IGNyZWF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy9HVUlEJztcblxuZXhwb3J0IGNsYXNzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pZCA9IGNyZWF0ZVVVSUQoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuIHx8IFtdO1xuICAgIH1cblxuICAgIGV4ZWN1dGUodGljaykge1xuICAgICAgICAvKiBFTlRFUiAqL1xuICAgICAgICB0aGlzLl9lbnRlcih0aWNrKTtcblxuICAgICAgICAvKiBPUEVOICovXG4gICAgICAgIGlmICghdGljay5ibGFja2JvYXJkLmdldCgnaXNPcGVuJywgdGljay50cmVlLmlkLCB0aGlzLmlkKSkge1xuICAgICAgICAgICAgdGhpcy5fb3Blbih0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFRJQ0sgKi9cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5fdGljayh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSAqL1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBFWElUICovXG4gICAgICAgIHRoaXMuX2V4aXQodGljayk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG5cbiAgICBfZW50ZXIodGljaykge1xuICAgICAgICB0aWNrLmVudGVyTm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRlcih0aWNrKTtcbiAgICB9XG5cbiAgICBfb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2sub3Blbk5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIHRydWUsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMub3Blbih0aWNrKTtcbiAgICB9XG5cbiAgICBfdGljayh0aWNrKSB7XG4gICAgICAgIHRpY2sudGlja05vZGUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRpY2sodGljayk7XG4gICAgfVxuXG4gICAgX2Nsb3NlKHRpY2spIHtcbiAgICAgICAgdGljay5jbG9zZU5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIGZhbHNlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLmNsb3NlKHRpY2spO1xuICAgIH1cblxuICAgIF9leGl0KHRpY2spIHtcbiAgICAgICAgdGljay5leGl0Tm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGl0KHRpY2spO1xuICAgIH1cblxuICAgIC8vIE92ZXJpZGUgdGhlc2VcbiAgICBlbnRlcih0aWNrKSB7IH1cbiAgICBvcGVuKHRpY2spIHsgfVxuICAgIHRpY2sodGljaykgeyByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkVSUk9SIH1cbiAgICBjbG9zZSh0aWNrKSB7IH1cbiAgICBleGl0KHRpY2spIHsgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNYXN0ZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUuZXhlY3V0ZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEJsYWNrYm9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLmJhc2VNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSBnbG9iYWwgaW5mb3JtYXRpb25cbiAgICAgICAgdGhpcy50cmVlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgdHJlZSBhbmQgbm9kZSBpbmZvcm1hdGlvblxuICAgIH1cblxuICAgIGdldFRyZWVNZW1vcnkodHJlZVNjb3BlKSB7XG4gICAgICAgIGlmICghdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0pIHtcbiAgICAgICAgICAgIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdID0ge1xuICAgICAgICAgICAgICAgIG5vZGVNZW1vcnk6IHt9LFxuICAgICAgICAgICAgICAgIG9wZW5Ob2RlczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE5vZGVNZW1vcnkodHJlZU1lbW9yeSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRyZWVNZW1vcnlbJ25vZGVNZW1vcnknXTtcbiAgICAgICAgaWYgKCFtZW1vcnkuaGFzT3duUHJvcGVydHkobm9kZVNjb3BlKSkge1xuICAgICAgICAgICAgbWVtb3J5W25vZGVTY29wZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnlbbm9kZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgdmFyIG1lbW9yeSA9IHRoaXMuYmFzZU1lbW9yeTtcblxuICAgICAgICBpZiAodHJlZVNjb3BlKSB7XG4gICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldFRyZWVNZW1vcnkodHJlZVNjb3BlKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVTY29wZSkge1xuICAgICAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0Tm9kZU1lbW9yeShtZW1vcnksIG5vZGVTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5O1xuICAgIH07XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICBtZW1vcnlba2V5XSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQoa2V5LCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIHJldHVybiBtZW1vcnlba2V5XTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFRpY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzID0gW107XG4gICAgICAgIHRoaXMubm9kZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlbnRlck5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm5vZGVDb3VudCsrO1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cblxuICAgIG9wZW5Ob2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIHRpY2tOb2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIGNsb3NlTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnBvcCgpO1xuICAgIH1cblxuICAgIGV4aXROb2RlKG5vZGUpIHtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBUaWNrIH0gZnJvbSBcIi4vVGlja1wiO1xuXG5leHBvcnQgY2xhc3MgQmVoYXZpb3VyVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKGlkKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yb290ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRpY2sodGFyZ2V0LCBibGFja2JvYXJkKSB7XG4gICAgICAgIC8qIENSRUFURSBBIFRJQ0sgT0JKRUNUICovXG4gICAgICAgIGNvbnN0IHRpY2sgPSBuZXcgVGljaygpO1xuICAgICAgICB0aWNrLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGljay5ibGFja2JvYXJkID0gYmxhY2tib2FyZDtcbiAgICAgICAgdGljay50cmVlID0gdGhpcztcblxuICAgICAgICAvKiBUSUNLIE5PREUgKi9cbiAgICAgICAgdGhpcy5yb290LmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgTk9ERVMgRlJPTSBMQVNUIFRJQ0ssIElGIE5FRURFRCAqL1xuICAgICAgICBjb25zdCBsYXN0T3Blbk5vZGVzID0gYmxhY2tib2FyZC5nZXQoJ29wZW5Ob2RlcycsIHRoaXMuaWQpIHx8IFtdO1xuICAgICAgICBjb25zdCBjdXJyT3Blbk5vZGVzID0gdGljay5vcGVuTm9kZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgLy8gZG9lcyBub3QgY2xvc2UgaWYgaXQgaXMgc3RpbGwgb3BlbiBpbiB0aGlzIHRpY2tcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihsYXN0T3Blbk5vZGVzLmxlbmd0aCwgY3Vyck9wZW5Ob2Rlcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBpZiAobGFzdE9wZW5Ob2Rlc1tpXSAhPT0gY3Vyck9wZW5Ob2Rlc1tpXSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vZGVzXG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0T3Blbk5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgbGFzdE9wZW5Ob2Rlc1tpXS5jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFBPUFVMQVRFIEJMQUNLQk9BUkQgKi9cbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ29wZW5Ob2RlcycsIGN1cnJPcGVuTm9kZXMsIHRoaXMuaWQpO1xuICAgICAgICBibGFja2JvYXJkLnNldCgnbm9kZUNvdW50JywgdGljay5ub2RlQ291bnQsIHRoaXMuaWQpO1xuXG4gICAgfVxufSIsImltcG9ydCB7IEJsYWNrYm9hcmQgfSBmcm9tICcuLi9jb3JlL0JsYWNrYm9hcmQnO1xuaW1wb3J0IHsgQmVoYXZpb3VyVHJlZSB9IGZyb20gJy4uL2NvcmUvQmVoYXZpb3VyVHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9ICdiYXNpY01lbGVlVHJlZSc7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IG5ldyBCbGFja2JvYXJkKCk7XG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBCZWhhdmlvdXJUcmVlKGlkKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICAvLyBPdmVycmlkZSB0byBzZXQgdHJlZVxuICAgIH1cblxuICAgIHJ1bkNvbW1hbmRzKGZhY2FkZSwgY2hhcmFjdGVySWQpIHtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImZhY2FkZVwiLCBmYWNhZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJjaGFyYWN0ZXJJZFwiLCBjaGFyYWN0ZXJJZCwgdGhpcy50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50cmVlLnRpY2sodGhpcywgdGhpcy5ibGFja2JvYXJkKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgUHJpb3JpdHkgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBTZXRQbGF5ZXJBc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgndGFyZ2V0JywgJ3BsYXllcicsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIE1lbGVlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIEVuZENvbWJhdFR1cm4gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc01vdmVtZW50UmVtYWluaW5nIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzTmV4dFRvUGxheWVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhjaGFyYWN0ZXJDdXJyZW50Tm9kZSkpO1xuXG4gICAgICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNZW1TZXF1ZW5jZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBvcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgMCwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdydW5uaW5nQ2hpbGQnLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBjaGlsZDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmNoaWxkcmVuW2ldLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgaSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vQmVoYXZpb3VyU3RhdHVzJztcbmV4cG9ydCBjbGFzcyBJbnZlcnRlciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcblxuICAgICAgICAvLyBwcmVzdW1lIGludmVydGVyIGhhcyBvbmUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSlcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc1RhcmdldERlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzRGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzQWN0aW9uc1JlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IE1lbGVlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBIYXNNb3ZlbWVudFJlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZyc7XG5pbXBvcnQgeyBJc05leHRUb1BsYXllciB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllcic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBNb3ZlVG93YXJkc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljTWVsZWVUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY01lbGVlVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJc05leHRUb1BsYXllcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbGVlQXR0YWNrVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBdKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG5cbiAgICBjb25zdCBub2RlID0gYXJnc1swXTtcblxuICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWROb2RlKG5vZGUpKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHZvID0gZ2FtZUNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtb3ZlYWJsZU5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmVxdWFscyh0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgZ2FtZUNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgY2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHZvLmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gKHBhdGgubGVuZ3RoIC0gMSk7IC8vIERldHJhY3QgYnkgb25lLi4uIHRoZSBmaXJzdCBwYXRoIG5vZGUgZG9lc24ndCBjb3VudFxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHZvLmlkLCBwYXRoKTtcbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgd2Fsa2FibGVOb2RlcyA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVBc3NldCA9IGFwcC5hc3NldHMuZ2V0KDQwMjM1OTY2KTtcbiAgICBjb25zdCBjb250YWluZXIgPSBhcHAucm9vdC5maW5kQnlOYW1lKFwiV29ybGRPYmplY3RzXCIpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHdhbGthYmxlTm9kZXMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHdhbGthYmxlVGlsZUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIHRpbGUuc2V0TG9jYWxQb3NpdGlvbihub2RlLngsIG5vZGUueSwgbm9kZS56KTtcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRpbGUpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2Fsa2FibGVfdGlsZScpO1xuICAgIGZvciAoY29uc3Qgd2Fsa2FibGVUaWxlRW50aXR5IG9mIHdhbGthYmxlVGlsZUVudGl0aWVzKSB7XG4gICAgICAgIHdhbGthYmxlVGlsZUVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3RhclwiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBtb3ZlYWJsZU5vZGVzKTtcblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSBcIi4vR2FtZUNvbW1hbmRzXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRNb3ZlbWVudENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBlbmROb2RlO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgaWQpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKGN1cnJlbnROb2RlLngsXG4gICAgICAgIGN1cnJlbnROb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgIGN1cnJlbnROb2RlLnopO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJFbnRpdHkgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGlkID0gZ2FtZUNoYXJhY3RlckVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5jaGFyYWN0ZXJJZDtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGNvbnN0IHdlYXBvblByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHdlYXBvbkNhdGVnb3J5ID0gd2VhcG9uUHJveHkuZ2V0V2VhcG9uQ2F0ZWdvcnkocGxheWVyQ2hhcmFjdGVyUHJveHkuZXF1aXBwZWRXZWFwb24pO1xuXG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycgJiYgd2VhcG9uQ2F0ZWdvcnkgPT09IFwicmFuZ2VkXCIpIHtcbiAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgXCJwbGF5ZXJcIiwgaWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJObyBsaW5lIG9mIHNpZ2h0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLLCBpZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSywgaWQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKCFjb21iYXRQcm94eSB8fCBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgLy8gbm90IHlvdXIgdHVyblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllckNoYXJhY3RlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgPD0gMCkge1xuICAgICAgICAgICAgLy8gb3V0IG9mIGFjdGlvbnNcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiT3V0IG9mIGFjdGlvbnNcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2VhcG9uQ2F0ZWdvcnkgPT09IFwicmFuZ2VkXCIpIHtcbiAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgXCJwbGF5ZXJcIiwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk5vIGxpbmUgb2Ygc2lnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgICAgICAvLyBwYXRoIGxlbmd0aCBpbmNsdWRlcyBjdXJyZW50IG5vZGUsIHNvIGRlZHVjdCBvbiB0byB3b3JrIG91dCBhY3R1YWwgbW92ZWFibGUgZGlzdGFuY2VcbiAgICAgICAgICAgICAgICBpZiAocGF0aFRvVGFyZ2V0ICYmIHBhdGhUb1RhcmdldC5sZW5ndGggLSAxIDw9IHBsYXllckNoYXJhY3RlclByb3h5LnZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHdlYXBvbiB0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmlkLCBwYXRoVG9UYXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIHBhdGhUb1RhcmdldC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiQ2Fubm90IHJlYWNoIHRhcmdldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcGxheWVyQ2hhcmFjdGVyUHJveHkuaWQsIHRhcmdldENoYXJhY3RlclByb3h5LmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgdGFyZ2V0Q3VycnJlbnROb2RlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICByZXR1cm4gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHRhcmdldEN1cnJyZW50Tm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBwbGF5ZXJQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkocGxheWVyQ2hhcmFjdGVyUHJveHkpO1xuICAgIGNvbnN0IHRhcmdldFBvaW50ID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG5cbiAgICByZXR1cm4gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChwbGF5ZXJQb2ludCwgdGFyZ2V0UG9pbnQpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvblR5cGVzIH0gZnJvbSAnLi4vZGF0YS9XZWFwb25UeXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGNvbnN0IHdlYXBvbnNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCBhdHRhY2tlcldlYXBvblNraWxsID0gYCR7YXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbn1GaWdodGluZ2A7XG4gICAgY29uc3QgZGVmZW5kZXJXZWFwb25Ta2lsbCA9IGAke2RlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuXG4gICAgY29uc3QgYXR0YWNrZXJTa2lsbFRvdGFsID0gYXR0YWNrZXJQcm94eS5nZXRTa2lsbFRvdGFsKGF0dGFja2VyV2VhcG9uU2tpbGwpO1xuICAgIGNvbnN0IGRlZmVuZGVyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChkZWZlbmRlcldlYXBvblNraWxsKTtcblxuICAgIGNvbnN0IGF0dGFja2VyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclNraWxsVG90YWwpO1xuICAgIGNvbnN0IGRlZmVuZGVyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChkZWZlbmRlclNraWxsVG90YWwpO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIC8vIERldGVybWluZSB3aW5uZXJcbiAgICBpZiAoYXR0YWNrZXJSb2xsID09PSBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBBdHRhY2sgdGllZCgke2F0dGFja2VyUm9sbH0vJHtkZWZlbmRlclJvbGx9KWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdHRhY2tlclJvbGwgPiBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyUm9sbCwgZGVmZW5kZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25zUHJveHkuZ2V0V2VhcG9uQ2F0ZWdvcnkoZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG4gICAgICAgICAgICBjb25zdCBoYXNNZWxlZVdlYXBvbiA9IHdlYXBvbkNhdGVnb3J5ID09PSBcIm1lbGVlXCI7XG5cbiAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGRlZmVuZGVyUm9sbCwgYXR0YWNrZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IChoYXNNZWxlZVdlYXBvbikgPyBkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uIDogV2VhcG9uVHlwZXMuVU5BUk1FRDtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2Uod2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2RlZmVuZGVySWR9IGRhbWFnZXMgJHthdHRhY2tlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgYXR0YWNrZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5mdW5jdGlvbiByb2xsQXR0YWNrU2tpbGwoc2tpbGwpIHtcbiAgICByZXR1cm4gc2tpbGwgKyByb2xsRGljZSgpICsgcm9sbERpY2UoKTtcbn1cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0SWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IHBhdGggPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS51c2VNb3ZlbWVudChwYXRoLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cbiAgICBjb25zdCBmaW5pc2hNb3ZlUHJvbWlzZSA9IGNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCk7XG4gICAgZmluaXNoTW92ZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgY2hhcmFjdGVySWQsIHRhcmdldElkKTtcblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuXG5leHBvcnQgZnVuY3Rpb24ga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc29sZS5sb2coYEtpbGwgY2hhcmFjdGVyOjogJHtjaGFyYWN0ZXJJZH1gKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUywgXCJkZWF0aFwiLCBjaGFyYWN0ZXJQcm94eSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBjaGFyYWN0ZXJJZCk7XG5cblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgIGNvbWJhdFByb3h5LnJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbG9zaW5nVGVhbSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBpZiAoZmFjYWRlLmhhc01lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIGZhY2FkZS5yZW1vdmVNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChsb3NpbmdUZWFtID09PSAncGxheWVyX3RlYW0nKSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuR0FNRV9PVkVSKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEdhbWUgT3ZlcmApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVmljdG9yeWApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWluRGlzdGFuY2UsIG1heERpc3RhbmNlKSB7XG4gICAgICAgIHN1cGVyKFtdKTtcbiAgICAgICAgdGhpcy5taW5EaXN0YW5jZSA9IG1pbkRpc3RhbmNlO1xuICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gbWF4RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG1pbkRpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWluRGlzdGFuY2UsIDIpO1xuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1heERpc3RhbmNlLCAyKTtcblxuICAgICAgICBjb25zdCBtb3ZlUG9pbnRzQXZhaWxhYmxlID0gY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGNoYXJhY3RlckN1cnJlbnROb2RlKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPj0gbWluRGlzdGFuY2VTcXJ0ICYmIGRpc3RhbmNlVG9UYXJnZXQgPD0gbWF4RGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHdpdGhpbiByYW5nZSwgZ2V0IG9uIHdpdGggaXRcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2goY2hhcmFjdGVyQ3VycmVudE5vZGUsIG1vdmVQb2ludHNBdmFpbGFibGUpO1xuICAgICAgICAgICAgaWYgKG1vdmVhYmxlTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0IDwgbWluRGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpID4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGZhciBhd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpICsgTWF0aC5wb3cocDIueiAtIHAxLnosIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFBpY2tOZXh0QWN0aW9uIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBDYW5TZWVUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIC8vIExvb2sgdG8gdGhlIGNlbnRlciBvZiBlYWNoIGNoYXJhY3RlclxuICAgICAgICBjb25zdCBmcm9tUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb2xsb3cgcGF0aCB0byBzZWUgaWYgdGFyZ2V0IGlzIHZpc2libGUgZnJvbSBhbnkgcG9pbnRcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhOb2RlID0gcGF0aFtpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tUG9zID0gbmV3IHBjLlZlYzMocGF0aE5vZGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS56KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmltIHRvIHBvaW50IG9mIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICBwYXRoLnNwbGljZSgwLCBkZWxldGVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJhbmdlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0JztcbmltcG9ydCB7IFBpY2tOZXh0QWN0aW9uIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uJztcbmltcG9ydCB7IENhblNlZVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNSYW5nZWRUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY1JhbmdlZFRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgQ2FuU2VlVGFyZ2V0KCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCg5LCAxMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGlja05leHRBY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5TZWVUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlQXR0YWNrVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiXG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgQmFzaWNSYW5nZWRUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuXG4gICAgc3dpdGNoIChlbmVteVByb3h5LmJvdEJlaGF2aW91cikge1xuICAgICAgICBjYXNlIEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICAgICAgICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQ6XG4gICAgICAgICAgICBjb25zdCBiYXNpY1JhbmdlZFRyZWUgPSBuZXcgQmFzaWNSYW5nZWRUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY1JhbmdlZFRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgLy8gU2NvcmVzIGZvciBjb21wYXJpc3NvblxuICAgIGxldCBhdHRhY2tlclNjb3JlID0gMDtcbiAgICBsZXQgZGVmZW5kZXJTY29yZSA9IDA7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBhdHRhY2tlck5vZGUgPSBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGxldCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBsZXQgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJOb2RlID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgY29uc3QgYXR0YWNrZXJXZWFwb25Ta2lsbCA9IGAke2F0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlcldlYXBvblNraWxsKTtcblxuICAgIGF0dGFja2VyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyU2tpbGxUb3RhbCk7XG4gICAgZGVmZW5kZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGlzSW5Db3ZlciA9IGdhbWVNYXBQcm94eS5pc0luQ292ZXIoXG4gICAgICAgIG5ldyBwYy5WZWMzKGRlZmVuZGVyTm9kZS54LCBkZWZlbmRlck5vZGUueSwgZGVmZW5kZXJOb2RlLnopLFxuICAgICAgICBuZXcgcGMuVmVjMyhhdHRhY2tlck5vZGUueCwgYXR0YWNrZXJOb2RlLnksIGF0dGFja2VyTm9kZS56KSk7XG5cbiAgICBpZiAoaXNJbkNvdmVyKSB7XG4gICAgICAgIGRlZmVuZGVyU2NvcmUgKz0gMjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZG9kZ2VcIiwgZGVmZW5kZXJQcm94eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBXZWFwb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgTXVzdCBjaGFuZ2Ugd2VhcG9uIG9uIHlvdXIgdHVybmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHdlYXBvbiA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgaWYgKGNoYXJhY3RlclByb3h5KSB7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uID0gd2VhcG9uO1xuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2NoYXJhY3RlcklkfSBlcXVpcHMgJHt3ZWFwb259YCk7XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc3RhbmRpbmdOb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZShzdGFuZGluZ1Bvc2l0aW9uKTtcbiAgICBjb25zdCBwbGF5ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBwbGF5ZXJNZWRpYXRvci5tb3ZlVG9Ob2RlV2l0aFByb21pc2Uoc3RhbmRpbmdOb2RlKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBkZXN0aW5hdGlvblNjZW5lLCBkZXN0aW5hdGlvblBvcnRhbCk7XG4gICAgICAgIH0pO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgcG9ydGFsSWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDUyMzMzNik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcbiAgICBjb25zdCBwbGF5ZXJFbnRpdHkgPSBwbGF5ZXJDaGFyYWN0ZXJBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIGNvbnRhaW5lci5hZGRDaGlsZChwbGF5ZXJFbnRpdHkpO1xuXG4gICAgY29uc3QgbWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgcG9ydGFsID0gbWFwUHJveHkucmV0cmlldmVQb3J0YWwocG9ydGFsSWQpO1xuICAgIHBsYXllckVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvcnRhbC5zdGFuZGluZ1BvaW50KTtcblxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlcklkID0gYXJnc1swXTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG5cbiAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgaWYgKHBhdGhUb1RhcmdldCkge1xuICAgICAgICBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGhUb1RhcmdldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfRElBTE9HVUUsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhwbGF5ZXJOb2RlKSk7XG5cbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAvLyBBbHJlYWR5IHRoZXJlXG4gICAgICAgIHJldHVybiBbcGxheWVyTm9kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgICAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG9ydGVzdFBhdGggfHwgKG90aGVyUGF0aCAmJiBvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydERpYWxvZ3VlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZXN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKVxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgY29uc3QgZGlhbG9ndWVUcmVlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuZGlhbG9ndWVUcmVlO1xuICAgIGNvbnN0IHN0b3J5VHJlZSA9IHN0b3J5UHJveHkuc3RhcnREaWFsb2d1ZVRyZWUoZGlhbG9ndWVUcmVlKTtcblxuICAgIGdhbWVzdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRElBTE9HVUUpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRhcmdldENoYXJhY3RlcklkLCBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwpO1xuXG4gICAgY29uc3Qgb3BlbmluZ1N0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgdHJlZUlkOiBkaWFsb2d1ZVRyZWUsXG4gICAgICAgIHN0ZXA6IG9wZW5pbmdTdGVwXG4gICAgfSk7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgbmV4dFN0ZXAgPSBzdG9yeVByb3h5LmNvbnRpbnVlQ3VycmVudE5vZGVTdGVwKCk7XG4gICAgaWYgKG5leHRTdGVwKSB7XG5cbiAgICAgICAgaWYgKG5leHRTdGVwLmNob2ljZXMpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90aWZpY2F0aW9uIG9mIG5leHRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24ubmFtZSwgLi4ubm90aWZpY2F0aW9uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXBcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNob2ljZUluZGV4ID0gYXJnc1swXTtcbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IHN0b3J5UHJveHkuc2VsZWN0Q2hvaWNlKGNob2ljZUluZGV4KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICB0aXRsZTogXCJZT1VcIixcbiAgICAgICAgdGV4dDogc2VsZWN0ZWRDaG9pY2UudGV4dCxcbiAgICAgICAgdGl0bGVDb2xvdXI6ICcjREI4MzFDJ1xuICAgIH1cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICBzdGVwOiByZXNwb25zZVxuICAgIH0pO1xuXG4gICAgaWYgKHNlbGVjdGVkQ2hvaWNlLnRlc3QpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCwgc2VsZWN0ZWRDaG9pY2UudGVzdCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc2VsZWN0ZWRDaG9pY2UuZ290bykge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHNlbGVjdGVkQ2hvaWNlLmdvdG8pO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgbmV3Tm9kZSA9IGFyZ3NbMF07XG4gICAgc3RvcnlQcm94eS5nb1RvTm9kZShuZXdOb2RlKTtcbiAgICBjb25zdCBjdXJyZW50U3RlcCA9IHN0b3J5UHJveHkuZ2V0Q3VycmVudE5vZGVTdGVwKCk7XG5cbiAgICBpZiAoY3VycmVudFN0ZXApIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICAgICAgc3RlcDogY3VycmVudFN0ZXBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKipcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRTdGVwKTtcblxuICAgICAgICBpZiAoY3VycmVudFN0ZXAubm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBub3RpZmljYXRpb24gb2YgY3VycmVudFN0ZXAubm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTSE9PVCBDT01NQU5EOiAke25vdGlmaWNhdGlvbi5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5uYW1lLCAuLi5ub3RpZmljYXRpb24uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0RJQUxPR1VFKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZERpYWxvZ3VlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZXN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lc3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcblxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUwpO1xuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuXG4gICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoVG9UYXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhwbGF5ZXJOb2RlKSk7XG5cbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAvLyBBbHJlYWR5IHRoZXJlXG4gICAgICAgIHJldHVybiBbcGxheWVyTm9kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgICAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggPCBzaG9ydGVzdFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgbmV3QWN0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPSBuZXdBY3Rpb247XG5cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHRlc3QgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGNvbnN0IHBsYXllclNraWxsID0gY2hhcmFjdGVyUHJveHkuZ2V0U2tpbGxUb3RhbCh0ZXN0LnNraWxsKVxuXG4gICAgLy8gUm9sbCBkaWNlXG4gICAgY29uc3QgZGllMSA9IHJvbGxEaWNlKCk7XG4gICAgY29uc3QgZGllMiA9IHJvbGxEaWNlKCk7XG5cbiAgICBjb25zdCB0b3RhbFJvbGwgPSBkaWUxICsgZGllMjtcblxuICAgIGNvbnN0IHN1Y2Nlc3MgPSBwbGF5ZXJTa2lsbCA+PSB0b3RhbFJvbGw7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNULCB0ZXN0LnNraWxsLCBwbGF5ZXJTa2lsbCwgZGllMSwgZGllMiwgc3VjY2Vzcyk7XG5cbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2VlZGVkICR7dGVzdC5za2lsbH0gd2l0aCBhICR7cGxheWVyU2tpbGx9IHZzICR7ZGllMX0rJHtkaWUyfWApO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR09fVE9fRElBTE9HVUVfTk9ERSwgdGVzdC5zdWNjZXNzLmdvdG8pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYEZhaWxlZCAke3Rlc3Quc2tpbGx9IHdpdGggYSAke3BsYXllclNraWxsfSB2cyAke2RpZTF9KyR7ZGllMn1gKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHRlc3QuZmFpbHVyZS5nb3RvKTtcblxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEludmVudG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaW52ZW50b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJbnZlbnRvcnlQcm94eS5OQU1FKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCwgaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXMsIGludmVudG9yeVByb3h5LmVxdWlwbWVudFNsb3RzKTtcbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBJbnZlbnRvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBpdGVtVVVJRCA9IGFyZ3NbMF07XG4gICAgY29uc3QgbmV3SW5kZXggPSBhcmdzWzFdO1xuXG4gICAgaW52ZW50b3J5UHJveHkucmVvcmRlckludmVudG9yeUl0ZW0oaXRlbVVVSUQsIG5ld0luZGV4KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCwgaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXMsIGludmVudG9yeVByb3h5LmVxdWlwbWVudFNsb3RzKTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eSc7XG5pbXBvcnQgeyBJdGVtc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvaXRlbXMvSXRlbXNQcm94eSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlJdGVtIH0gZnJvbSBcIi4uL21vZGVsL2ludmVudG9yeS9pdGVtcy9JbnZlbnRvcnlJdGVtXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWlwSXRlbVRvU2xvdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgaXRlbUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlcXVpcG1lbnRLZXkgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgaXRlbUluSW52ZW50b3J5ID0gaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XG5cbiAgICBpZiAoaXRlbUluSW52ZW50b3J5KSB7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxseUVxdWlwcGVkID0gaW52ZW50b3J5UHJveHkuYXR0ZW1wdFRvRXF1aXBJdGVtVG9TbG90KGVxdWlwbWVudEtleSwgaXRlbUluSW52ZW50b3J5KTtcblxuICAgICAgICBpZiAoc3VjY2Vzc2Z1bGx5RXF1aXBwZWQpIHtcbiAgICAgICAgICAgIGlmIChpdGVtSW5JbnZlbnRvcnkudHlwZSA9PT0gXCJ3ZWFwb25cIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIFwicGxheWVyXCIsIGl0ZW1JbkludmVudG9yeS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSXRlbXNQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJbnZlbnRvcnlQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IG5ldyBJbnZlbnRvcnlJdGVtKGl0ZW1zUHJveHkuZ2V0SXRlbURhdGEoaXRlbUlkKSk7XG5cbiAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bGx5RXF1aXBwZWQgPSBpbnZlbnRvcnlQcm94eS5hdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3QoZXF1aXBtZW50S2V5LCBpbnZlbnRvcnlJdGVtKTtcblxuICAgICAgICBpZiAoc3VjY2Vzc2Z1bGx5RXF1aXBwZWQpIHtcbiAgICAgICAgICAgIGlmIChpbnZlbnRvcnlJdGVtLnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBcInBsYXllclwiLCBpbnZlbnRvcnlJdGVtLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjb25zdCBpdGVtID0gaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXNbaXRlbUluZGV4XTtcblxuXG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9FUVVJUFBFRF9TTE9ULCBpbnZlbnRvcnlQcm94eS5lcXVpcG1lbnRTbG90cyk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMLCBpbnZlbnRvcnlQcm94eS5pbnZlbnRvcnlJdGVtcywgaW52ZW50b3J5UHJveHkuZXF1aXBtZW50U2xvdHMpO1xuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEl0ZW1zUHJveHkgfSBmcm9tICcuLi9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5JztcbmltcG9ydCB7IEludmVudG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVByb3h5JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW0gfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvaXRlbXMvSW52ZW50b3J5SXRlbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRJdGVtVG9JbnZlbnRvcnlDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaXRlbUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGl0ZW1zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJdGVtc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IG5ldyBJbnZlbnRvcnlJdGVtKGl0ZW1zUHJveHkuZ2V0SXRlbURhdGEoaXRlbUlkKSk7XG4gICAgaW52ZW50b3J5UHJveHkuYWRkSW52ZW50b3J5SXRlbShpbnZlbnRvcnlJdGVtKTtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHBhcnNlR2FtZU1hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydHVwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydHVwQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VTY2VuZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0Q29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0Um91bmRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgZW5lbXlUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kJztcbmltcG9ydCB7IHNob3dXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kJztcbmltcG9ydCB7IGVuZE1vdmVtZW50Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBXZWFwb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQnO1xuaW1wb3J0IHsgYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGsnO1xuaW1wb3J0IHsgc3RhcnREaWFsb2d1ZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnREaWFsb2d1ZUNvbW1hbmQnO1xuaW1wb3J0IHsgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kJztcbmltcG9ydCB7IGdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0dvVG9EaWFsb2d1ZU5vZGVDb21tYW5kJztcbmltcG9ydCB7IGVuZERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQnO1xuaW1wb3J0IHsgY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kJztcbmltcG9ydCB7IGVxdWlwSXRlbVRvU2xvdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRXF1aXBJdGVtVG9TbG90Q29tbWFuZCc7XG5pbXBvcnQgeyBhZGRJdGVtVG9JbnZlbnRvcnlDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0FkZEl0ZW10b0ludmVudG9yeUNvbW1hbmQnO1xuXG5leHBvcnQgY2xhc3MgR2FtZUZhY2FkZSBleHRlbmRzIEZhY2FkZSB7XG4gICAgc3RhdGljIGdldEluc3RhbmNlKGtleSkge1xuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBHYW1lRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgS0VZKCkgeyByZXR1cm4gXCJDYWNvZ2VuXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNhY29nZW5GYWNhZGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRVUCgpIHsgcmV0dXJuIEdhbWVGYWNhZGUuTkFNRSArIFwiU3RhcnRVcFwiIH07XG5cbiAgICBzdGFydHVwKGdhbWUpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVGYWNhZGUuU1RBUlRVUCwgZ2FtZSk7XG4gICAgfVxuXG4gICAgc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVGYWNhZGUuU1RBUlRVUCwgc3RhcnR1cENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBjaGFuZ2VTY2VuZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgcGFyc2VHYW1lTWFwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHN0YXJ0Q29tYmF0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBuZXh0Q29tYmF0VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQsIG5leHRDb21iYXRSb3VuZENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLCBlbmRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkVNWV9UVVJOLCBlbmVteVR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIHNlbGVjdGVkTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBLCBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCBlbmRNb3ZlbWVudENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNUX0dBTUVfQ0hBUkFDVEVSLCBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHJlc29sdmVBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLLCBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBlbmRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgZXF1aXBXZWFwb25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLCBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCwgYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSywgbmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kKVxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU1RBUlRfRElBTE9HVUUsIHN0YXJ0RGlhbG9ndWVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNPTlRJTlVFX0RJQUxPR1VFX05PREUsIGNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfRElBTE9HVUVfQ0hPSUNFLCBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuR09fVE9fRElBTE9HVUVfTk9ERSwgZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0RJQUxPR1VFLCBlbmREaWFsb2d1ZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIGNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1QsIHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQpO1xuXG4gICAgICAgIC8vIEludmVudG9yeSBjb21tYW5kc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTiwgY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFT1JERVJfSU5WRVRPUllfSVRFTSwgcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgZXF1aXBJdGVtVG9TbG90Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJUeXBlcyB7XG4gICAgc3RhdGljIGdldCBOT05FKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfTUVMRUUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19SQU5HRUQoKSB7IHJldHVybiAyIH07XG5cbn1cblxuZXhwb3J0IGNvbnN0IGJvdEJlaGF2aW91ckVudW1zID0gW1xuICAgIHsgTk9ORTogQm90QmVoYXZpb3VyVHlwZXMuTk9ORSB9LFxuICAgIHsgQkFTSUNfTUVMRUU6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFIH0sXG4gICAgeyBCQVNJQ19SQU5HRUQ6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRCB9LFxuXSIsImV4cG9ydCBjbGFzcyBHYW1lQ29tbWFuZHMge1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FX0NPTVBMRVRFKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVfQ09NUExFVEVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVBQX0lOSVRJQUxJU0VEKCkgeyByZXR1cm4gXCJBUFBfSU5JVElBTElTRURcIiB9O1xuICAgIHN0YXRpYyBnZXQgUEFSU0VfR0FNRU1BUCgpIHsgcmV0dXJuIFwiUEFSU0VfR0FNRU1BUFwiIH07XG4gICAgc3RhdGljIGdldCBNQVBfR1JJRF9DUkVBVEVEKCkgeyByZXR1cm4gXCJNQVBfR1JJRF9DUkVBVEVEXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19XQVlQT0lOVCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fV0FZUE9JTlRcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwoKSB7IHJldHVybiBcIk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENPTUJBVF9OQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJDT01CQVRfTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0FNRVJBX1RBUkdFVCgpIHsgcmV0dXJuIFwiU0VUX0NBTUVSQV9UQVJHRVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgSU5QVVRfRFJBR19NT1VTRSgpIHsgcmV0dXJuIFwiSU5QVVRfRFJBR19NT1VTRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE1PVkVEX1RPX05PREUoKSB7IHJldHVybiBcIk1PVkVEX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgRklOSVNIRURfTU9WRSgpIHsgcmV0dXJuIFwiRklOSVNIRURfTU9WRVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVF9DT01CQVQoKSB7IHJldHVybiBcIlNUQVJUX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX1RPQVNUX01FU1NBR0UoKSB7IHJldHVybiBcIlNIT1dfVE9BU1RfTUVTU0FHRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfUk9VTkQoKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1JPVU5EXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVCgpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIkVORF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBFTkVNWV9UVVJOKCkgeyByZXR1cm4gXCJFTkVNWV9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVEVEX05PREUoKSB7IHJldHVybiBcIlNFTEVDVEVEX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OKCkgeyByZXR1cm4gXCJERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9BTE9OR19QQVRIKCkgeyByZXR1cm4gXCJOQVZJR0FURV9BTE9OR19QQVRIXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0hPV19XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJTSE9XX1dBTEtBQkxFX0FSRUFcIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJISURFX1dBTEtBQkxFX0FSRUFcIiB9O1xuXG5cbiAgICBzdGF0aWMgZ2V0IEVORF9NT1ZFTUVOVCgpIHsgcmV0dXJuIFwiRU5EX01PVkVNRU5UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQoKSB7IHJldHVybiBcIkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NIQVJBQ1RFUl9UT19OT0RFKCkgeyByZXR1cm4gXCJTRVRfQ0hBUkFDVEVSX1RPX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRUxFQ1RfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIlNFTEVDVF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFRPR0dMRV9CVVRUT04oKSB7IHJldHVybiBcIlRPR0dMRV9CVVRUT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBVU0VfUExBWUVSX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX1BMQVlFUl9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBSRVNPTFZFX0FUVEFDSygpIHsgcmV0dXJuIFwiUkVTT0xWRV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9SQU5HRURfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX1JBTkdFRF9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0soKSB7IHJldHVybiBcIk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVVBEQVRFX1NUQU1JTkEoKSB7IHJldHVybiBcIlVQREFURV9TVEFNSU5BXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfREVBVEgoKSB7IHJldHVybiBcIkRJU1BMQVlfREVBVEhcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9BVFRBQ0soKSB7IHJldHVybiBcIkRJU1BMQVlfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfSElUKCkgeyByZXR1cm4gXCJESVNQTEFZX0hJVFwiIH07XG4gICAgc3RhdGljIGdldCBLSUxMX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJLSUxMX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgQ0hBUkFDVEVSX0xPT0tfQVQoKSB7IHJldHVybiBcIkNIQVJBQ1RFUl9MT09LX0FUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TVEFNSU5BKCkgeyByZXR1cm4gXCJDSEFOR0VfU1RBTUlOQVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVRVUlQX1dFQVBPTigpIHsgcmV0dXJuIFwiRVFVSVBfV0VBUE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVTRV9BQ1RJT04oKSB7IHJldHVybiBcIlVTRV9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUygpIHsgcmV0dXJuIFwiRElTUExBWV9GTE9BVElOR19TVEFUVVNcIiB9O1xuICAgIHN0YXRpYyBnZXQgQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQKCkgeyByZXR1cm4gXCJBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVBcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEsoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMS1wiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19ESUFMT0dVRV9QQU5FTCgpIHsgcmV0dXJuIFwiU0hPV19ESUFMT0dVRV9QQU5FTFwiIH07XG4gICAgc3RhdGljIGdldCBISURFX0RJQUxPR1VFX1BBTkVMKCkgeyByZXR1cm4gXCJISURFX0RJQUxPR1VFX1BBTkVMXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04oKSB7IHJldHVybiBcIlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKCkgeyByZXR1cm4gXCJISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRElBTE9HVUVfU1RFUCgpIHsgcmV0dXJuIFwiRElTUExBWV9ESUFMT0dVRV9TVEVQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCgpIHsgcmV0dXJuIFwiRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgQ09OVElOVUVfRElBTE9HVUVfTk9ERSgpIHsgcmV0dXJuIFwiQ09OVElOVUVfRElBTE9HVUVfTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RfRElBTE9HVUVfQ0hPSUNFKCkgeyByZXR1cm4gXCJTRUxFQ1RfRElBTE9HVUVfQ0hPSUNFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCgpIHsgcmV0dXJuIFwiUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMRUFSX0RJQUxPR1VFX0NIT0lDRVMoKSB7IHJldHVybiBcIkNMRUFSX0RJQUxPR1VFX0NIT0lDRVNcIiB9O1xuICAgIHN0YXRpYyBnZXQgR09fVE9fRElBTE9HVUVfTk9ERSgpIHsgcmV0dXJuIFwiR09fVE9fRElBTE9HVUVfTk9ERVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0RJQUxPR1VFKCkgeyByZXR1cm4gXCJTVEFSVF9ESUFMT0dVRVwiIH07XG4gICAgc3RhdGljIGdldCBFTkRfRElBTE9HVUUoKSB7IHJldHVybiBcIkVORF9ESUFMT0dVRVwiIH07XG5cblxuICAgIHN0YXRpYyBnZXQgR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQoKSB7IHJldHVybiBcIkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEXCIgfTtcblxuICAgIC8vIEludmVudG9yeSBDb21tYW5kc1xuICAgIHN0YXRpYyBnZXQgQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTigpIHsgcmV0dXJuIFwiQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTlwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCgpIHsgcmV0dXJuIFwiRElTUExBWV9JTlZFTlRPUllfUEFORUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVPUkRFUl9JTlZFVE9SWV9JVEVNKCkgeyByZXR1cm4gXCJSRU9SREVSX0lOVkVUT1JZX0lURU1cIiB9O1xuICAgIHN0YXRpYyBnZXQgRVFVSVBfSVRFTV9UT19TTE9UKCkgeyByZXR1cm4gXCJFUVVJUF9JVEVNX1RPX1NMT1RcIiB9O1xuICAgIHN0YXRpYyBnZXQgQUREX0lURU1fVE9fSU5WRU5UT1JZKCkgeyByZXR1cm4gXCJBRERfSVRFTV9UT19JTlZFTlRPUllcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9FUVVJUFBFRF9TTE9UKCkgeyByZXR1cm4gXCJESVNQTEFZX0VRVUlQUEVEX1NMT1RcIiB9O1xuXG59XG4iLCJleHBvcnQgY2xhc3MgV2VhcG9uVHlwZXMge1xuICAgIC8vIE1FTEVFXG4gICAgc3RhdGljIGdldCBTV09SRCgpIHsgcmV0dXJuIFwic3dvcmRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVhFKCkgeyByZXR1cm4gXCJheGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgS05JRkUoKSB7IHJldHVybiBcImtuaWZlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQUZGKCkgeyByZXR1cm4gXCJzdGFmZlwiIH07XG4gICAgc3RhdGljIGdldCBIQU1NRVIoKSB7IHJldHVybiBcImhhbW1lclwiIH07XG4gICAgc3RhdGljIGdldCBTUEVBUigpIHsgcmV0dXJuIFwic3BlYXJcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFDRSgpIHsgcmV0dXJuIFwibWFjZVwiIH07XG4gICAgc3RhdGljIGdldCBQT0xFQVJNKCkgeyByZXR1cm4gXCJwb2xlYXJtXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BVUwoKSB7IHJldHVybiBcIm1hdWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgR1JFQVRTV09SRCgpIHsgcmV0dXJuIFwiZ3JlYXRzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBDTFVCKCkgeyByZXR1cm4gXCJjbHViXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVOQVJNRUQoKSB7IHJldHVybiBcInVuYXJtZWRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hJRUxEKCkgeyByZXR1cm4gXCJzaGllbGRcIiB9O1xuXG4gICAgLy8gUkFOR0VEXG4gICAgc3RhdGljIGdldCBGVVNJTCgpIHsgcmV0dXJuIFwiZnVzaWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQk9XKCkgeyByZXR1cm4gXCJib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ1JPU1NCT1coKSB7IHJldHVybiBcImNyb3NzYm93XCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBJU1RPTEVUKCkgeyByZXR1cm4gXCJwaXN0b2xldFwiIH07XG59XG5cbmV4cG9ydCBjb25zdCB3ZWFwb25FbnVtcyA9IE9iamVjdC5lbnRyaWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKFdlYXBvblR5cGVzKSlcbiAgICAuZmlsdGVyKChba2V5LCBkZXNjcmlwdG9yXSkgPT4gdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nKVxuICAgIC5tYXAoKFtrZXldKSA9PiB7XG4gICAgICAgIHJldHVybiB7IFtrZXldOiBXZWFwb25UeXBlc1trZXldIH07XG4gICAgfSk7IiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnJvdW5kSW5pdGlhdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRlYW1zID0gdGVhbXM7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPSBNYXRoLm1heCgwLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hKTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIHRoaXMuaWQsIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4U3RhbWluYSk7XG4gICAgfVxuXG4gICAgZ2V0U2tpbGxUb3RhbChza2lsbEtleSkge1xuICAgICAgICBpZiAodGhpcy52by5hZHZhbmNlZFNraWxscy5oYXMoc2tpbGxLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5za2lsbCArIHRoaXMudm8uYWR2YW5jZWRTa2lsbHMuZ2V0KHNraWxsS2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNraWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgZGlhbG9ndWVUcmVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5kaWFsb2d1ZVRyZWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50Tm9kZTtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGNvbWJhdEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBnZXQgaXNOUEMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlzTlBDO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVNb3ZlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZU1vdmVtZW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlQWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucztcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlQWN0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIHRoaXMuaWQsXG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMsIHRoaXMubWF4QWN0aW9uc1BlclR1cm4pO1xuICAgIH1cblxuICAgIGdldCBtYXhBY3Rpb25zUGVyVHVybigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgZ2V0IHNraWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5za2lsbDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFN0YW1pbmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50THVjaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGlzRGVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPD0gMDtcbiAgICB9XG5cbiAgICBnZXQgYm90QmVoYXZpb3VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5ib3RCZWhhdmlvdXI7XG4gICAgfVxuXG4gICAgZ2V0IGVxdWlwcGVkV2VhcG9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5lcXVpcHBlZFdlYXBvbjtcbiAgICB9XG5cbiAgICBzZXQgZXF1aXBwZWRXZWFwb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5lcXVpcHBlZFdlYXBvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmhlaWdodDtcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyVk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICB0aGlzLmlkID0gcGFyYW1zLmlkO1xuICAgICAgICB0aGlzLmlzTlBDID0gcGFyYW1zLmlzTlBDO1xuICAgICAgICB0aGlzLmNvbWJhdEdyb3VwID0gcGFyYW1zLmNvbWJhdEdyb3VwIHx8IFtdO1xuICAgICAgICB0aGlzLmRpYWxvZ3VlVHJlZSA9IHBhcmFtcy5kaWFsb2d1ZVRyZWUgfHwgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUcm9pa2Egc3RhdHNcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlID0gcGFyYW1zLmluaXRpYXRpdmUgfHwgMjtcbiAgICAgICAgdGhpcy5tYXhNb3ZlbWVudCA9IHBhcmFtcy5tYXhNb3ZlbWVudCB8fCA2O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHBhcmFtcy5oZWlnaHQgfHwgMS44O1xuICAgICAgICB0aGlzLm1heEFjdGlvbnNQZXJUdXJuID0gMTtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMubWF4TW92ZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5za2lsbCA9IHBhcmFtcy5za2lsbCB8fCAxO1xuXG4gICAgICAgIHRoaXMubWF4U3RhbWluYSA9IHBhcmFtcy5tYXhTdGFtaW5hIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YW1pbmEgPSB0aGlzLm1heFN0YW1pbmE7XG5cbiAgICAgICAgdGhpcy5tYXhMdWNrID0gcGFyYW1zLm1heEx1Y2sgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50THVjayA9IHRoaXMubWF4THVjaztcblxuICAgICAgICB0aGlzLmFkdmFuY2VkU2tpbGxzID0gcGFyYW1zLmFkdmFuY2VkU2tpbGxzIHx8IG5ldyBNYXAoKTtcblxuICAgICAgICB0aGlzLmJvdEJlaGF2aW91ciA9IHBhcmFtcy5ib3RCZWhhdmlvdXIgfHwgMDtcblxuICAgICAgICB0aGlzLmVxdWlwcGVkV2VhcG9uID0gcGFyYW1zLmVxdWlwcGVkV2VhcG9uIHx8IFwidW5hcm1lZFwiO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IGdldEFkamFjZW50UG9pbnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvQWRqYWNlbnRQb2ludHMnO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQsIHdhbGxCb3VuZGluZ0JveGVzLCBjb3ZlciwgcG9ydGFscywgbmF2R3JpZCkge1xuICAgICAgICBzdXBlcihHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICAgIG1hcEdyaWQ6IG1hcEdyaWQsXG4gICAgICAgICAgICB3YWxsQm91bmRpbmdCb3hlczogd2FsbEJvdW5kaW5nQm94ZXMsXG4gICAgICAgICAgICBjb3ZlcjogY292ZXIsXG4gICAgICAgICAgICBwb3J0YWxzOiBwb3J0YWxzLFxuICAgICAgICAgICAgbmF2aWdhdGlvbkdyaWQ6IG5hdkdyaWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcblxuICAgIH1cblxuICAgIGZpbmROZWFyZXN0Tm9kZSh0YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBtYXBHcmlkID0gdGhpcy52by5tYXBHcmlkO1xuXG4gICAgICAgIGxldCBuZWFyZXN0Tm9kZSA9IG1hcEdyaWRbMF07XG4gICAgICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbWFwR3JpZCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdFdheXBvaW50KHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG5hdkdyaWQgPSB0aGlzLnZvLm5hdmlnYXRpb25HcmlkO1xuXG4gICAgICAgIGxldCBuZWFyZXN0Tm9kZSA9IG5hdkdyaWRbMF07XG4gICAgICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbmF2R3JpZCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbiAgICB9XG5cbiAgICByYXlJbnRlcnNlY3RzV2FsbChmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2UodG8pO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0by5jbG9uZSgpLnN1Yihmcm9tLmNsb25lKCkpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBjb25zdCByYXkgPSBuZXcgcGMuUmF5KGZyb20sIGRpcmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgbWFwV2FsbHMgPSB0aGlzLnZvLndhbGxCb3VuZGluZ0JveGVzO1xuICAgICAgICBmb3IgKGNvbnN0IHdhbGwgb2YgbWFwV2FsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHdhbGwuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvSGl0ID0gaGl0UG9zaXRpb24uZGlzdGFuY2UoZnJvbSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0hpdCA8IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgY292ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvdmVyO1xuICAgIH1cblxuXG4gICAgaXNJbkNvdmVyKHRhcmdldFBvaW50LCBhdHRhY2tpbmdGcm9tKSB7XG4gICAgICAgIGNvbnN0IGFkamFjZW50Q292ZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRQb2ludHMgPSBnZXRBZGphY2VudFBvaW50cyh0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBhZGphY2VudFBvaW50IG9mIGFkamFjZW50UG9pbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGUgPSB0aGlzLmNvdmVyLmZpbmQoKGNvdmVyUG9pbnQpID0+IGFkamFjZW50UG9pbnQuZXF1YWxzKGNvdmVyUG9pbnQpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGUpIHtcbiAgICAgICAgICAgICAgICBhZGphY2VudENvdmVyUG9pbnRzLnB1c2goYWRqYWNlbnRQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRqYWNlbnRDb3ZlclBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gdGFyZ2V0UG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50Q292ZXJQb2ludCBvZiBhZGphY2VudENvdmVyUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0NvdmVyID0gYWRqYWNlbnRDb3ZlclBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvQ292ZXIgPCBkaXN0YW5jZVRvVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHJpZXZlUG9ydGFsKHBvcnRhbElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnBvcnRhbHMuZ2V0KHBvcnRhbElkKTtcbiAgICB9XG5cbiAgICBoYXNWYWxpZExpbmUobm9kZUEsIG5vZGVCKSB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBBc3Rhci5jYWxjdWxhdGVCcmVzZW5oYW1MaW5lKG5vZGVBLngsIG5vZGVBLnosIG5vZGVCLngsIG5vZGVCLnopO1xuICAgICAgICByZXR1cm4gQXN0YXIuY2hlY2tWYWxpZExpbmUobGluZSwgdGhpcy52by5tYXBHcmlkKTtcbiAgICB9XG5cbiAgICBoYXNWYWxpZE5vZGUobm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXBHcmlkLnNvbWUobiA9PiBuLmVxdWFscyhub2RlKSk7XG5cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0QWRqYWNlbnRQb2ludHMocG9pbnQpIHtcbiAgICBjb25zdCBwb2ludHMgPSBbXVxuICAgIC8vTm9ydGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56IC0gMSkpO1xuICAgIC8vRWFzdFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LnggKyAxLCBwb2ludC55LCBwb2ludC56KSk7XG4gICAgLy9XZXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCAtIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1NvdXRoXG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiArIDEpKTtcblxuICAgIHJldHVybiBwb2ludHM7XG59IiwiZXhwb3J0IGNsYXNzIEdhbWVNYXBWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwR3JpZCA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHB1c2godmFsdWUsIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5kYXRhW2ldLnByaW9yaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGgubWluKG1pbiwgcHJpb3JpdHkpID09PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IHByaW9yaXR5O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSlbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGhcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufSIsImltcG9ydCB7IFByaW9yaXR5UXVldWUgfSBmcm9tICcuL1ByaW9yaXR5UXVldWUnO1xuXG5leHBvcnQgY2xhc3MgQXN0YXIge1xuICAgIHN0YXRpYyBicmVhZHRoRmlyc3RTZWFyY2goc3RhcnQsIHJhbmdlTGltaXQpIHtcbiAgICAgICAgbGV0IGZyb250aWVyID0gW107XG4gICAgICAgIGNvbnN0IHNlYXJjaGVkQXJlYSA9IFtdO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0KTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG5cbiAgICAgICAgbGV0IHJhbmdlID0gMDtcblxuICAgICAgICB3aGlsZSAoZnJvbnRpZXIubGVuZ3RoID4gMCAmJiByYW5nZSA8IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Zyb250aWVyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZnJvbnRpZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY2FtZUZyb20uaGFzKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RnJvbnRpZXIucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkQXJlYS5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udGllciA9IG5ld0Zyb250aWVyO1xuXG4gICAgICAgICAgICByYW5nZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaGVkQXJlYTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgMTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuICAgICAgICB3aGlsZSAoIWN1cnJlbnQuZXF1YWxzKHN0YXJ0KSAmJiAhcGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICBpZiAoY2FtZUZyb20uaGFzKGN1cnJlbnQpIHx8ICFjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjYW1lRnJvbS5nZXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoSXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcGF0aC5wdXNoKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIHBhdGgucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlV2F5cG9pbnRzUGF0aChzdGFydCwgZ29hbCkge1xuICAgICAgICBjb25zdCBmcm9udGllciA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQsIDApO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjb3N0U29GYXIgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIGNvc3RTb0Zhci5zZXQoc3RhcnQsIDApO1xuXG4gICAgICAgIHdoaWxlICghZnJvbnRpZXIuZW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGZyb250aWVyLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3N0ID0gY29zdFNvRmFyLmdldChjdXJyZW50KSArIGRpc3RWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuICAgICAgICB3aGlsZSAoIWN1cnJlbnQuZXF1YWxzKHN0YXJ0KSAmJiAhcGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICBpZiAoY2FtZUZyb20uaGFzKGN1cnJlbnQpIHx8ICFjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjYW1lRnJvbS5nZXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoSXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcGF0aC5wdXNoKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIHBhdGgucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlzdFNxdWFyZWQocHQxLCBwdDIpIHtcbiAgICAgICAgcmV0dXJuICgocHQxLnggLSBwdDIueCkgKiAocHQxLnggLSBwdDIueClcbiAgICAgICAgICAgICsgKHB0MS55IC0gcHQyLnkpICogKHB0MS55IC0gcHQyLnkpXG4gICAgICAgICAgICArIChwdDEueiAtIHB0Mi56KSAqIChwdDEueiAtIHB0Mi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGhldXJpc3RpYyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhLnggLSBiLngpICsgTWF0aC5hYnMoYS55IC0gYi55KSArIE1hdGguYWJzKGEueiAtIGIueik7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZUJyZXNlbmhhbUxpbmUoeDAsIHowLCB4MSwgejEpIHtcbiAgICAgICAgbGV0IGR4ID0geDEgLSB4MDtcbiAgICAgICAgbGV0IGR5ID0gejEgLSB6MDtcbiAgICAgICAgbGV0IG54ID0gTWF0aC5hYnMoZHgpO1xuICAgICAgICBsZXQgbnkgPSBNYXRoLmFicyhkeSk7XG5cbiAgICAgICAgY29uc3Qgc2lnbl94ID0gZHggPiAwID8gMSA6IC0xO1xuICAgICAgICBjb25zdCBzaWduX3kgPSBkeSA+IDAgPyAxIDogLTE7XG5cblxuICAgICAgICBjb25zdCBwID0geyB4OiB4MCwgeTogMCwgejogejAgfTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBpeSA9IDA7IGl4IDwgbnggfHwgaXkgPCBueTspIHtcbiAgICAgICAgICAgIGlmICgoMC41ICsgaXgpIC8gbnggPCAoMC41ICsgaXkpIC8gbnkpIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IHN0ZXAgaXMgaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgIHAueCArPSBzaWduX3g7XG4gICAgICAgICAgICAgICAgaXgrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbmV4dCBzdGVwIGlzIHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgcC56ICs9IHNpZ25feTtcbiAgICAgICAgICAgICAgICBpeSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeyB4OiBwLngsIHk6IDAsIHo6IHAueiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tWYWxpZExpbmUobGluZSwgbWFwKSB7XG4gICAgICAgIGxldCBpc1ZhbGlkTGluZSA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgbGluZSkge1xuICAgICAgICAgICAgaWYgKCFtYXAuc29tZShuID0+IG4uZXF1YWxzKHBvaW50KSkpIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkTGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWRMaW5lO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVTdGF0ZVZPIH0gPSByZXF1aXJlKCcuL0dhbWVTdGF0ZVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVTdGF0ZVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihHYW1lU3RhdGVQcm94eS5OQU1FLCBuZXcgR2FtZVN0YXRlVk8oKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlR2FtZVN0YXRlVHlwZShuZXdTdGF0ZVR5cGUpIHtcbiAgICAgICAgdGhpcy52by5nYW1lcGxheU1vZGUgPSBuZXdTdGF0ZVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5nYW1lcGxheU1vZGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRBY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50QWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb24gPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZ2FtZXBsYXlNb2RlVHlwZXMgPSB7XG4gICAgRVhQTE9SQVRJT046ICdFWFBMT1JBVElPTicsXG4gICAgQ09NQkFUOiAnQ09NQkFUJyxcbiAgICBESUFMT0dVRTogJ0RJQUxPR1VFJyxcbiAgICBHQU1FX09WRVI6ICdHQU1FX09WRVInLFxuXG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNb2RlID0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT047XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICB9XG59IiwiaW1wb3J0IHsgSW52ZW50b3J5SXRlbSB9IGZyb20gXCIuL2l0ZW1zL0ludmVudG9yeUl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzID0gbmV3IE1hcCgpO1xuXG4gICAgfVxuXG4gICAgYWRkSXRlbShpdGVtRGF0YSkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnB1c2goXG4gICAgICAgICAgICBuZXcgSW52ZW50b3J5SXRlbShpdGVtRGF0YSlcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5SXRlbSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB0aGlzLnV1aWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgICB0aGlzLmljb24gPSBkYXRhLmljb247XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplID8/IDE7XG4gICAgICAgIHRoaXMuZXF1aXBTbG90ID0gZGF0YS5lcXVpcFNsb3QgPz8gXCJub25lXCI7XG4gICAgfVxufSIsIlxuZXhwb3J0IGNsYXNzIFN0b3J5Vk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVVUlEKCkge1xuICAgIHZhciBzID0gW107XG4gICAgdmFyIGhleERpZ2l0cyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgICBzW2ldID0gaGV4RGlnaXRzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwKSwgMSk7XG4gICAgfVxuICAgIC8vIGJpdHMgMTItMTUgb2YgdGhlIHRpbWVfaGlfYW5kX3ZlcnNpb24gZmllbGQgdG8gMDAxMFxuICAgIHNbMTRdID0gXCI0XCI7XG5cbiAgICAvLyBiaXRzIDYtNyBvZiB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byAwMVxuICAgIHNbMTldID0gaGV4RGlnaXRzLnN1YnN0cigoc1sxOV0gJiAweDMpIHwgMHg4LCAxKTtcblxuICAgIHNbOF0gPSBzWzEzXSA9IHNbMThdID0gc1syM10gPSBcIi1cIjtcblxuICAgIHZhciB1dWlkID0gcy5qb2luKFwiXCIpO1xuICAgIHJldHVybiB1dWlkO1xuXG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJNZWRpYXRvcl9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IoaWQsIHZpZXdDb21wb25lbnQsIHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgaWQpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX1dBWVBPSU5UICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEXG5cbiAgICAgICAgXTtcblxuICAgICAgICBub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucy5jb25jYXQocHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9mZigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5maXJlKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzY3JpcHRLZXkgaW4gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQsIHNjcmlwdEtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W3NjcmlwdEtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24gPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFUOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU3RhcnRDb21iYXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvV2F5cG9pbnQoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNldENoYXJhY3RlclRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBsb29rUG9pbnQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChsb29rUG9pbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0Ym94ID0gdGhpcy52aWV3Q29tcG9uZW50LmZpbmRCeU5hbWUoXCJIaXRib3hcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhpdGJveCkge1xuICAgICAgICAgICAgICAgICAgICBoaXRib3guZmlyZSgnc3RvcExpc3RlbmluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZURlYXRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVBdHRhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgbmVhcmVzdFdheXBvaW50ID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0V2F5cG9pbnQodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGNvbnN0IG5lYXJlc3RUYXJnZXRXYXlwb2ludCA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdFdheXBvaW50KHRhcmdldE5vZGUpO1xuXG4gICAgICAgIC8qY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVdheXBvaW50c1BhdGgobmVhcmVzdFdheXBvaW50LCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBoYXNMaW5lVG9Qb2ludCA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAwICYmIGhhc0xpbmVUb1BvaW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYXNMaW5lVG9Qb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFNlZSBpZiBlbmQgb2YgcGF0aCBjYW4gYmUgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbMV0sIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGgudW5zaGlmdCh0YXJnZXROb2RlKTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9Ki9cblxuICAgICAgICAvLyBJcyBzdHJhaWdodCBsaW5lP1xuICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShjdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBbdGFyZ2V0Tm9kZSwgY3VycmVudE5vZGVdO1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVdheXBvaW50c1BhdGgobmVhcmVzdFdheXBvaW50LCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgaWYgZW5kIG9mIHBhdGggY2FuIGJlIHRyaW1tZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFsxXSwgdGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBoYXNMaW5lVG9Qb2ludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gMSAmJiBoYXNMaW5lVG9Qb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoW3BhdGgubGVuZ3RoIC0gMl0sIGN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0xpbmVUb1BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdCh0YXJnZXROb2RlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgIH1cblxuICAgIG1vdmVUb05vZGVXaXRoUHJvbWlzZSh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBpZiAoIWdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSkge1xuICAgICAgICB9XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjYW5jZWxNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVDdXJyZW50Tm9kZShuZXdOb2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyB0aGlzLmlkLCBuZXdOb2RlKTtcblxuICAgIH1cblxuICAgIGhhbmRsZUZpbmlzaGVkTW9kZShuZXdOb2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIHRoaXMuaWQsIG5ld05vZGUpO1xuICAgIH1cblxuICAgIGxvb2tGb3JDaGFyYWN0ZXIoaWQsIG5vZGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWFyY2hOb2RlIG9mIHRoaXMuc2VhcmNoQXJlYSkge1xuICAgICAgICAgICAgaWYgKHNlYXJjaE5vZGUuZXF1YWxzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KG5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgdGhpcy52aWV3Q29tcG9uZW50LCBbaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN0YXJ0Q29tYmF0KCkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyVk8gPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCkudm87XG5cbiAgICAgICAgLy8gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnN0b3BNb3ZlbWVudChnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNldENoYXJhY3RlclRvTm9kZShub2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnN0b3BNb3ZlbWVudChub2RlKTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVQcm9qZWN0aWxlKHR5cGUsIG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnXS5jcmVhdGVQcm9qZWN0aWxlKHR5cGUsIG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVGYWNhZGUgfSA9IHJlcXVpcmUoJy4uL0dhbWVGYWNhZGUnKTtcblxuZXhwb3J0IGNvbnN0IENhY29nZW5HYW1lID0gcGMuY3JlYXRlU2NyaXB0KCdDYWNvZ2VuR2FtZScpO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBcIlBvcnQgVGFyaW5nb1wiLCBcImVudHJhbmNlXCIpO1xufTtcblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG5cbn07IiwiaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdOYXZpZ2F0aW9uQ29tcG9uZW50Jyk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb25uZWN0ZWRDb21wb25lbnRzXCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIGFycmF5OiB0cnVlLFxuICAgIHRpdGxlOiBcIkNvbm5lY3RlZCBDb21wb25lbnRzXCJcbn0pO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIDAuMDUsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5maW5kQnlOYW1lKCdQbGFuZScpLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Q2FzdCA9IGZ1bmN0aW9uIChyYXksIHNjcmVlblBvcykge1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFhYmIuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8TmF2aWdhdGlvbk5vZGU+fSBub2RlR3JpZCAtIEFycmF5IG9mIG5vZGVzIHJlcHJlc2VudGluZyBwb2ludHMgb24gdGhlIGdyaWQuXG4gKi9cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLnNldEdyaWQgPSBmdW5jdGlvbiAobm9kZUdyaWQpIHtcbiAgICB0aGlzLm5vZGVHcmlkID0gbm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldEdyaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldE5lYXJlc3ROb2RlID0gZnVuY3Rpb24gKHRhcmdldFBvaW50KSB7XG4gICAgbGV0IG5lYXJlc3ROb2RlID0gdGhpcy5ub2RlR3JpZFswXTtcbiAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5ub2RlR3JpZCkge1xuICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHlcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IGJvdEJlaGF2aW91ckVudW1zIH0gZnJvbSAnLi4vLi4vYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcyc7XG5pbXBvcnQgeyB3ZWFwb25FbnVtcyB9IGZyb20gXCIuLi8uLi9kYXRhL1dlYXBvblR5cGVzXCI7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBjb25zdCBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2hhcmFjdGVyQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHN0YXRzU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdtYXhTdGFtaW5hJyxcbiAgICAgICAgdGl0bGU6ICdTdGFtaW5hJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdtYXhMdWNrJyxcbiAgICAgICAgdGl0bGU6ICdMdWNrJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdpbml0aWF0aXZlJyxcbiAgICAgICAgdGl0bGU6ICdJbml0aWF0aXZlJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDJcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdtYXhNb3ZlbWVudCcsXG4gICAgICAgIHRpdGxlOiAnTW92ZW1lbnQnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogNlxuICAgIH1cbl07XG5cbmNvbnN0IGFkdmFuY2VkU2tpbGxzU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsTmFtZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbFZhbHVlJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBWYWx1ZScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInXG4gICAgfVxuXTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlcklkXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBJZFwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlclNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDRcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJIZWlnaHRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIEhlaWdodFwiLFxuICAgIGRlZmF1bHQ6IDEuOFxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJpc05QQ1wiLCB7XG4gICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgdGl0bGU6IFwiaXMgTlBDXCIsXG4gICAgZGVmYXVsdDogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGF0c092ZXJyaWRlc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiU3RhdHMgT3ZlcnJpZGVzXCIsXG4gICAgc2NoZW1hOiBzdGF0c1NjaGVtYVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhZHZhbmNlZFNraWxsc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiQWR2YW5jZWQgU2tpbGxzXCIsXG4gICAgc2NoZW1hOiBhZHZhbmNlZFNraWxsc1NjaGVtYSxcbiAgICBhcnJheTogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb21iYXRHcm91cE5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ29tYmF0IEdyb3VwIE5hbWVcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkaWFsb2d1ZVRyZWVOYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkRpYWxvZ3VlIFRyZWUgTmFtZVwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImJvdEJlaGF2aW91clwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJCb3QgQmVoYXZpb3VyXCIsXG4gICAgZW51bTogYm90QmVoYXZpb3VyRW51bXMsXG4gICAgZGVmYXVsdDogMFxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImVxdWlwcGVkV2VhcG9uXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkVxdWlwcGVkIFdlYXBvblwiLFxuICAgIGVudW06IHdlYXBvbkVudW1zLFxuICAgIGRlZmF1bHQ6IFwidW5hcm1lZFwiXG59KTtcblxuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG59XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IFtdO1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcblxuXG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0c092ZXJyaWRlcyA9IHRoaXMuc3RhdHNPdmVycmlkZXM7XG4gICAgY29uc3QgcHJveHlQYXJhbXMgPSB7XG4gICAgICAgIGlkOiB0aGlzLmNoYXJhY3RlcklkLFxuICAgICAgICBpc05QQzogdGhpcy5pc05QQyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmNoYXJhY3RlckhlaWdodCxcbiAgICAgICAgYWR2YW5jZWRTa2lsbHM6IGFkdmFuY2VkU2tpbGxzU2NoZW1hVG9NYXAodGhpcy5hZHZhbmNlZFNraWxscyksXG4gICAgICAgIGVxdWlwcGVkV2VhcG9uOiB0aGlzLmVxdWlwcGVkV2VhcG9uLFxuICAgICAgICAuLi5zdGF0c092ZXJyaWRlcyxcbiAgICAgICAgYm90QmVoYXZpb3VyOiB0aGlzLmJvdEJlaGF2aW91cixcbiAgICAgICAgZGlhbG9ndWVUcmVlOiB0aGlzLmRpYWxvZ3VlVHJlZU5hbWVcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuY29tYmF0R3JvdXBOYW1lICYmIHRoaXMuY29tYmF0R3JvdXBOYW1lICE9PSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IGNvbXJhZGVFbnRpdGllcyA9IHRoaXMuYXBwLnJvb3QuZmluZEJ5VGFnKGBjb21iYXRHcm91cDoke3RoaXMuY29tYmF0R3JvdXBOYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IGNvbWJhdEdyb3VwID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY29tcmFkZUVudGl0eSBvZiBjb21yYWRlRW50aXRpZXMpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBkaXNhYmxlZCBlbnRpdGllc1xuICAgICAgICAgICAgaWYgKGNvbXJhZGVFbnRpdHkuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXJhZGVJZCA9IGNvbXJhZGVFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgICAgICAgICAgICAgY29tYmF0R3JvdXAucHVzaChjb21yYWRlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3h5UGFyYW1zLmNvbWJhdEdyb3VwID0gY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICAvLyB0aGlzLmZhY2FkZS5yZW1vdmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gbmV3IEdhbWVDaGFyYWN0ZXJQcm94eShwcm94eVBhcmFtcyk7XG4gICAgICAgIC8vIFNldCBjdXJyZW50IG5vZGUgaWYgZ2FtZSBjaGFyYWN0ZXIgd2FzIGNyZWF0ZWQgYWZ0ZXIgdGhlIG1hcFxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGdhbWVNYXBQcm94eSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpO1xuICAgIH1cblxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNoYXJhY3Rlck1lZGlhdG9yKHRoaXMuY2hhcmFjdGVySWQsIHRoaXMuZW50aXR5LCB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSk7XG5cbiAgICB0aGlzLnZlaGljbGUgPSB0aGlzLmVudGl0eS5zY3JpcHRbJ1ZlaGljbGVDb21wb25lbnQnXTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xuXG59O1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnNldFBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xuICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aCAmJiB0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NhbmNlbE1vdmUnKTtcbiAgICB9XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBwYXRoO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCd3YWxrLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zdG9wTW92ZW1lbnQgPSBmdW5jdGlvbiAoY3VycmVudE5vZGUpIHtcbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IFtdO1xuICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24oY3VycmVudE5vZGUueCwgY3VycmVudE5vZGUueSwgY3VycmVudE5vZGUueik7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMubW92ZUFsb25nUGF0aChkdCk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLm1vdmVBbG9uZ1BhdGggPSBmdW5jdGlvbiAoZHQpIHtcblxuICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRQYXRoUG9pbnQgPSB0aGlzLm1vdmVtZW50UGF0aFt0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5vZGVQb2ludCA9IG5ldyBwYy5WZWMzKG5leHRQYXRoUG9pbnQueCwgbmV4dFBhdGhQb2ludC55LCBuZXh0UGF0aFBvaW50LnopO1xuXG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb05leHRQYXRoID0gbG9jYWxQb3MuZGlzdGFuY2Uobm9kZVBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLm1vdmVtZW50UGF0aC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2ZpbmlzaGVkTW92ZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3VwZGF0ZUN1cnJlbnROb2RlJywgY3VycmVudE5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGUuc2Vlayhub2RlUG9pbnQsIGR0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlLmFycml2ZShub2RlUG9pbnQsIGR0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVoaWNsZS5wcm9jZXNzVmVsb2NpdHkoZHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVEZWF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdkaWUuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdoaXQuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUF0dGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdhdHRhY2suZ2xiJywgMC4xKTtcbn1cblxuZnVuY3Rpb24gYWR2YW5jZWRTa2lsbHNTY2hlbWFUb01hcChhZHZhbmNlZFNraWxsc1NjaGVtYSkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcblxuICAgIGZvciAoY29uc3Qgc2tpbGxPYmplY3Qgb2YgYWR2YW5jZWRTa2lsbHNTY2hlbWEpIHtcbiAgICAgICAgbWFwLnNldChza2lsbE9iamVjdC5za2lsbE5hbWUsIHNraWxsT2JqZWN0LnNraWxsVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXA7XG59IiwiZXhwb3J0IGNvbnN0IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic2lnaHRSYW5nZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJTaWdodCBSYW5nZVwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIik7XG5cbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCwgdGhpcy5oYW5kbGVNYXBHcmlkQ3JlYXRlZCwgdGhpcyk7XG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiLCB0aGlzLmhhbmRsZU1vdmVkVG9Ob2RlLCB0aGlzKTtcbiAgICBjb25zb2xlLmxvZygnV2FpdCBmb3IgaW5pdGlhbCcpO1xufTtcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1hcEdyaWRDcmVhdGVkID0gZnVuY3Rpb24gKGlkLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG59XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3ZlZFRvTm9kZSA9IGZ1bmN0aW9uIChpZCwgdGFyZ2V0Tm9kZSkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG5cbiAgICAvLyBJZ25vcmUgaWYgdGhlIHBsYXllciBpc24ndCBleHBsb3JpbmdcbiAgICBpZiAoZ2FtZVN0YXRlLmdhbWVwbGF5TW9kZSAhPT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04gfHwgdGhpcy5jaGFyYWN0ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5jaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQb2ludCA9IG5ldyBwYy5WZWMzKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuICAgIGNvbnN0IHRhcmdldFBvaW50ID0gbmV3IHBjLlZlYzModGFyZ2V0Tm9kZS54LCB0YXJnZXROb2RlLnksIHRhcmdldE5vZGUueik7XG5cbiAgICBpZiAoY2hhcmFjdGVyUG9pbnQuZGlzdGFuY2UodGFyZ2V0UG9pbnQpIDw9IHRoaXMuc2lnaHRSYW5nZSkge1xuICAgICAgICAvLyBNaWdodCBiZSBzZWVuIC0gY2hlY2sgZm9yIHdhbGxzXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY2hhcmFjdGVyUG9pbnQueSArPSB0aGlzLmNoYXJhY3RlclByb3h5LmhlaWdodDtcblxuICAgICAgICBpZiAoIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChjaGFyYWN0ZXJQb2ludCwgdGFyZ2V0UG9pbnQpKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFRvYXN0TWVzc2FnZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiVG9hc3RNZXNzYWdlTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydUb2FzdE1lc3NhZ2VDb21wb25lbnQnXS5hZGRNZXNzYWdlKGFyZ3NbMF0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VNZWRpYXRvciB9IGZyb20gXCIuL1RvYXN0TWVzc2FnZU1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBUb2FzdE1lc3NhZ2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCcpO1xuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtZXNzYWdlVGltZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWVzc2FnZSBUaW1lJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFRvYXN0TWVzc2FnZU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zaG93TmV4dE1lc3NhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLnNob3dOZXh0TWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0TWVzc2FnZSA9IHRoaXMubWVzc2FnZVF1ZXVlWzBdO1xuXG4gICAgICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gbmV4dE1lc3NhZ2U7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93TmV4dE1lc3NhZ2UoKTtcbiAgICAgICAgfSwgdGhpcy5tZXNzYWdlVGltZSAqIDEwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gXCJcIjtcblxuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuXG4vLyBwb3N0SW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblNldENhbWVyYVRhcmdldENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQsIHRoaXMuZW50aXR5KTtcbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIklucHV0TGF5ZXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHRoaXMuaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOm5hdmlnYXRpb24nLCB0aGlzLmhhbmRsZVBpY2tlck5hdmlnYXRpb24sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3Njcm9sbGluZycsIHRoaXMuaGFuZGxlU2Nyb2xsaW5nLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIoY2hhcmFjdGVyRW50aXR5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgY2hhcmFjdGVyRW50aXR5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgbm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2Nyb2xsaW5nKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBkaXJlY3Rpb24pO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEdhbWVDYW1lcmEgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDYW1lcmEnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkaXN0YW5jZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdEaXN0YW5jZScgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclgnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCd2ZXJ0aWNhbFNjcm9sbCcsIHsgdHlwZTogJ2Jvb2xlYW4nLCBkZWZhdWx0OiBmYWxzZSwgdGl0bGU6ICdWZXJ0aWNhbCBTY3JvbGwnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWluQ2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNaW4gQ2FtZXJhIEhlaWdodCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtYXhDYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnTWF4IENhbWVyYSBIZWlnaHQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNhbWVyYU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLnNldENhbWVyYVRhcmdldCA9IGZ1bmN0aW9uIChjYW1lcmFUYXJnZXQpIHtcbiAgICB0aGlzLmNhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5lbnRpdHkuZ2V0RXVsZXJBbmdsZXMoKS55O1xuICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpLnk7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmhhbmRsZURyYWcgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbiArPSBkaXJlY3Rpb24ueCAqIHRoaXMuZHJhZ011bHRpcGxpZXJYO1xuXG4gICAgaWYgKHRoaXMudmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgbGV0IG5ld0NhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhSGVpZ2h0IC0gKGRpcmVjdGlvbi55ICogdGhpcy5kcmFnTXVsdGlwbGllclkpO1xuICAgICAgICBuZXdDYW1lcmFIZWlnaHQgPSBwYy5tYXRoLmNsYW1wKG5ld0NhbWVyYUhlaWdodCwgdGhpcy5taW5DYW1lcmFIZWlnaHQsIHRoaXMubWF4Q2FtZXJhSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jYW1lcmFIZWlnaHQgPSBuZXdDYW1lcmFIZWlnaHQ7XG4gICAgfVxufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uIChmb2N1c1BvaW50KSB7XG4gICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKClcblxuICAgIGNvbnN0IHRhcmdldFggPSBNYXRoLnNpbigodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG4gICAgY29uc3QgdGFyZ2V0WiA9IE1hdGguY29zKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyhmb2N1c1BvaW50LnggKyB0YXJnZXRYLCBjYW1lcmFQb3NpdGlvbi55LCBmb2N1c1BvaW50LnogKyB0YXJnZXRaKTtcbn1cblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy5jYW1lcmFUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhVGFyZ2V0UG9zaXRpb24gPSB0aGlzLmNhbWVyYVRhcmdldC5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGhpcy5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdHdlZW5YID0gKHRhcmdldFBvc2l0aW9uLnggKyBjdXJyZW50UG9zLnggKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblkgPSAodGhpcy5jYW1lcmFIZWlnaHQgKyBjdXJyZW50UG9zLnkgKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblogPSAodGFyZ2V0UG9zaXRpb24ueiArIGN1cnJlbnRQb3MueiAqIDkpIC8gMTA7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0d2VlblgsIHR3ZWVuWSwgdHdlZW5aKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5sb29rQXQoY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuICAgIH1cblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYSB9IGZyb20gJy4vR2FtZUNhbWVyYSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2FtZXJhTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2FtZXJhTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVRcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uc2V0Q2FtZXJhVGFyZ2V0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uaGFuZGxlRHJhZyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnB1dExheWVyTWVkaWF0b3IgfSBmcm9tICcuL0lucHV0TGF5ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuLi9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbmV4cG9ydCBjb25zdCBJbnB1dExheWVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnB1dExheWVyQ29tcG9uZW50Jyk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjYW1lcmFFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQ2FtZXJhIEVudGl0eVwiXG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRyYWdUaW1lXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkRyYWcgVGltZVwiLFxuICAgIGRlZmF1bHQ6IDAuNFxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IElucHV0TGF5ZXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMucmF5ID0gbmV3IHBjLlJheSgpO1xuICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgLy8gRHJhZyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5hcHAubW91c2UuZGlzYWJsZUNvbnRleHRNZW51KCk7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IDA7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJlc3VsdCcsIHRoaXMuaGFuZGxlUGlja2VyUmVzdWx0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmFwcC5tb3VzZSkge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgdGhpcy5vbk1vdXNlRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSh0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24odG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IHBjLlZlYzIodGhpcy5jbGlja1N0YXJ0UG9pbnQueCAtIGV2dC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55IC0gZXZ0LnkpO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdzY3JvbGxpbmcnLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuY2xpY2tEb3duU3RhcnQgPCAodGhpcy5kcmFnVGltZSAqIDEwMDApKSB7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrU3RhcnRQb2ludCkge1xuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuZmlyZSgndmFsaWRDbGljaycsIHRoaXMuY2xpY2tTdGFydFBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnModGhpcy5jbGlja1N0YXJ0UG9pbnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBjb25zdCBjYW1lcmFFbnRpdHkgPSB0aGlzLmNhbWVyYUVudGl0eTtcbiAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmE7XG4gICAgY2FtZXJhQ29tcG9uZW50LnNjcmVlblRvV29ybGQoeCwgeSwgY2FtZXJhQ29tcG9uZW50LmZhckNsaXAsIHRoaXMucmF5LmRpcmVjdGlvbik7XG4gICAgdGhpcy5yYXkub3JpZ2luLmNvcHkoY2FtZXJhRW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgIHRoaXMucmF5LmRpcmVjdGlvbi5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5yYXksIHsgeCwgeSB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUGlja2VyUmVzdWx0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcykge1xuICAgIHRoaXMuaW5wdXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgZW50aXR5OiBwaWNrZWRFbnRpdHksXG4gICAgICAgIGhpdFBvc2l0aW9uOiBoaXRQb3NpdGlvbixcbiAgICAgICAgc2NyZWVuUG9zaXRpb246IHNjcmVlblBvc1xuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLnByb2Nlc3NJbnB1dFF1ZXVlKCk7XG59XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc0lucHV0UXVldWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5pbnB1dFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGhpZ2hlc3RQcmlvcml0eVBpY2sgPSB0aGlzLmlucHV0UXVldWVbMF07XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHkgPSAtMTtcbiAgICAgICAgLy8gRmluZCBoaWdoZXN0IHByaW9yaXR5XG4gICAgICAgIGZvciAoY29uc3QgcGljayBvZiB0aGlzLmlucHV0UXVldWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpY2tQcmlvcml0eSA9IGdldFByaW9yaXR5KHBpY2suZW50aXR5KVxuICAgICAgICAgICAgaWYgKHBpY2tQcmlvcml0eSA+IGhpZ2hlc3RQcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVBpY2sgPSBwaWNrO1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eSA9IHBpY2tQcmlvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRQb3J0YWwoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkR2FtZUNoYXJhY3RlciA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOmdhbWVDaGFyYWN0ZXInLCBwaWNrZWRFbnRpdHkpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWROYXZpZ2F0aW9uID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBjb25zdCBuYXZDb21wID0gcGlja2VkRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgIGNvbnN0IG5lYXJlc3ROb2RlID0gbmF2Q29tcC5nZXROZWFyZXN0Tm9kZShoaXRQb3NpdGlvbik7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOm5hdmlnYXRpb24nLCBuZWFyZXN0Tm9kZSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZFBvcnRhbCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgcGlja2VkRW50aXR5LmZpcmUoJ3BpY2tlcjpwb3J0YWwnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ3BvcnRhbCcpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazplbmRUdXJuJywgdGhpcy5oYW5kbGVFbmRUdXJuLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVFbmRUdXJuKGV2dCkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciB9IGZyb20gXCIuL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCcpO1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZW5kVHVybkJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRW5kIFR1cm4gYnV0dG9uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW5kVHVybkJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xpY2tFbmRUdXJuLCB0aGlzKTtcbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGlja0VuZFR1cm4gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6ZW5kVHVybicpO1xufVxuIiwiZXhwb3J0IGNvbnN0IEhpdGJveENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSGl0Ym94Q29tcG9uZW50Jyk7XG5cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdzdG9wTGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHkucGFyZW50LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5hYWJiLmNlbnRlci5jb3B5KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpmaXJlQ29tbWFuZCcsIHRoaXMuaGFuZGxlRmlyZUNvbW1hbmQsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25QYW5lbENvbXBvbmVudCddLnNlbGVjdEFjdGlvbihhY3Rpb25OYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGaXJlQ29tbWFuZChjb21tYW5kTmFtZSwgLi4uYXJncykge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKGNvbW1hbmROYW1lLCAuLi5hcmdzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5jb25zdCBjb21tYW5kU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmROYW1lJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIG5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29tbWFuZEFyZ3MnLFxuICAgICAgICB0aXRsZTogJ0NvbW1hbmQgYXJndW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsIGFycmF5OiB0cnVlXG4gICAgfVxuXTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbW1hbmRzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogY29tbWFuZFNjaGVtYSwgdGl0bGU6ICdDb21tYW5kIG5hbWUnLCBhcnJheTogdHJ1ZSB9KTs7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdzZWxlY3Q6YWN0aW9uJywgdGhpcy5oYW5kbGVDaGFuZ2VBY3Rpb24sIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gY29tbWFuZC5jb21tYW5kTmFtZTtcbiAgICAgICAgY29uc3QgY29tbWFuZEFyZ3MgPSBjb21tYW5kLmNvbW1hbmRBcmdzO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnY2xpY2s6ZmlyZUNvbW1hbmQnLCBjb21tYW5kTmFtZSwgLi4uY29tbWFuZEFyZ3MpO1xuXG4gICAgfVxufVxuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNoYW5nZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5lbnRpdHkubmFtZSA9PT0gYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEFjdGlvblBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25QYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25QYW5lbE1lZGlhdG9yJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vQWN0aW9uQnV0dG9uQ29tcG9uZW50JztcblxuQWN0aW9uUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbkJ1dHRvbnMnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0FjdGlvbiBCdXR0b25zJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25QYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZWxlY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBidXR0b24uZmlyZSgnc2VsZWN0OmFjdGlvbicsIGFjdGlvbk5hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBVSVN0b3BQcm9wYWdhdGlvbiA9IHBjLmNyZWF0ZVNjcmlwdCgnVUlTdG9wUHJvcGFnYXRpb24nKTtcblxuVUlTdG9wUHJvcGFnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSBcIi4vUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHByb2plY3RpbGVTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZU5hbWUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwcm9qZWN0aWxlVGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJwcm9qZWN0aWxlVHlwZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgVHlwZXNcIixcbiAgICBzY2hlbWE6IHByb2plY3RpbGVTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQcm9qZWN0aWxlID0gZnVuY3Rpb24gKHByb2plY3RpbGVOYW1lLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RpbGVTY2hlbWUgPSB0aGlzLnByb2plY3RpbGVUeXBlcy5maW5kKHNjaGVtZSA9PiBzY2hlbWUucHJvamVjdGlsZU5hbWUgPT09IHByb2plY3RpbGVOYW1lKTtcbiAgICAgICAgaWYgKHByb2plY3RpbGVTY2hlbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3RpbGUgPSBwcm9qZWN0aWxlU2NoZW1lLnByb2plY3RpbGVUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3UHJvamVjdGlsZSk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0aWxlLm9uY2UoJ3Byb2plY3RpbGVBcnJpdmVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5zY3JpcHRbJ1Byb2plY3RpbGVDb21wb25lbnQnXS5zZXRUYXJnZXQob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGUgcHJvamVjdGlsZSBcIiR7cHJvamVjdGlsZU5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIlxuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUHJvamVjdGlsZUNvbXBvbmVudCcpO1xuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA4XG59KTtcblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIChvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnksIG9yaWdpblBvaW50LnopO1xuICAgIHRoaXMudGFyZ2V0UG9pbnQgPSB0YXJnZXRQb2ludDtcbiAgICB0aGlzLmxvb2tBdFBvaW50KHRoaXMudGFyZ2V0UG9pbnQpO1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1YjIodGhpcy50YXJnZXRQb2ludC5jbG9uZSgpLCBsb2NhbFBvcyk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuZXdQb3NpdGlvbi5tdWwoc3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5hZGQobG9jYWxQb3MpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IG5ld1Bvc2l0aW9uLmRpc3RhbmNlKHRoaXMudGFyZ2V0UG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkKSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncHJvamVjdGlsZUFycml2ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFN0YW1pbmFCYXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0YW1pbmFCYXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIlxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFtaW5hID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhTdGFtaW5hID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiU3RhbWluYUJhckNvbXBvbmVudFwiXS51cGRhdGVTdGFtaW5hKG5ld1N0YW1pbmEsIG1heFN0YW1pbmEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgU3RhbWluYUJhck1lZGlhdG9yIH0gZnJvbSBcIi4vU3RhbWluYUJhck1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBTdGFtaW5hQmFyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTdGFtaW5hQmFyQ29tcG9uZW50Jyk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJiYXJFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQmFyIEVudGl0eVwiXG59KTtcblxuU3RhbWluYUJhckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YW1pbmFMYWJlbFwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJTdGFtaW5hIExhYmVsXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU3RhbWluYUJhckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFN0YW1pbmFCYXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCA9IHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGg7XG59O1xuXG5cblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVN0YW1pbmEgPSBmdW5jdGlvbiAoY3VycmVudFN0YW1pbmEsIG1heFN0YW1pbmEpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBjLm1hdGguY2xhbXAoY3VycmVudFN0YW1pbmEgLyBtYXhTdGFtaW5hLCAwLCAxKTtcbiAgICBjb25zdCB3aWR0aCA9IHBjLm1hdGgubGVycCgwLCB0aGlzLmJhckVudGl0eU1heFdpZHRoLCB2YWx1ZSk7XG4gICAgLy8gc2V0IHRoZSB3aWR0aCBvZiB0aGUgZmlsbCBpbWFnZSBlbGVtZW50XG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC53aWR0aCA9IHdpZHRoO1xuXG4gICAgLy8gU2V0IHRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudCdzIHJlY3QgKHJlY3QueikgdG8gYmUgdGhlIHNhbWVcbiAgICAvLyB2YWx1ZSBhcyBvdXIgMC0xIHByb2dyZXNzLlxuICAgIC8vIFRoaXMgaXMgc28gdGhhdCB0aGUgZmlsbCBpbWFnZSB3aWxsIG9ubHkgc2hvdyB0aGUgcG9ydGlvblxuICAgIC8vIG9mIHRoZSB0ZXh0dXJlIHRoYXQgaXMgdmlzaWJsZVxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdC56ID0gdmFsdWU7XG4gICAgLy8gZm9yY2UgcmVjdCB1cGRhdGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QgPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3Q7XG5cbiAgICB0aGlzLnN0YW1pbmFMYWJlbC5lbGVtZW50LnRleHQgPSBgJHtjdXJyZW50U3RhbWluYX0vJHttYXhTdGFtaW5hfWA7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBwbGF5ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFjdGlvbnMgPSBwbGF5ZXJQcm94eS5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCddLnNob3dBdmFpbGFibGVBY3Rpb24oYXJnc1swXSwgYXJnc1sxXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcic7XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncGlwVGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnUGlwIFRlbXBsYXRlJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnBpcHMgPSBbXTtcbn1cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zaG93QXZhaWxhYmxlQWN0aW9uID0gZnVuY3Rpb24gKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpIHtcbiAgICB3aGlsZSAodGhpcy5waXBzLmxlbmd0aCA8IG1heEFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVQaXAoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGF2YWlsYWJsZUFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UGlwID0gdGhpcy5waXBUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1BpcCk7XG4gICAgdGhpcy5waXBzLnB1c2gobmV3UGlwKTtcbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Jyk7XG5cbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcEZyb250JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdQaXAgZnJvbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5vbigndG9nZ2xlUGlwJywgKHNob3cpID0+IHtcbiAgICAgICAgdGhpcy5waXBGcm9udC5lbmFibGVkID0gc2hvdztcbiAgICB9KTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVNcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUzpcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50J107XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXRlck5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHNjcmlwdENvbXAuZGlzcGxheVN0YXR1cyhmbG9hdGVyTmFtZSwgdGFyZ2V0UHJveHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCcpO1xuXG4vLyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuc2V0V29ybGRQb3NpdGlvbiA9IGZ1bmN0aW9uICh3b3JsZFBvc2l0aW9uLCBjYW1lcmEsIHNjcmVlbikge1xuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMud29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb247XG4gICAgdGhpcy5kZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICB0aGlzLmNhbWVyYUVudGl0eSA9IGNhbWVyYTtcbiAgICB0aGlzLnNjcmVlbkVudGl0eSA9IHNjcmVlbjtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfSwgMTAwMCk7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnBvc3RVcGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UodGhpcy53b3JsZFBvc2l0aW9uLmNsb25lKCkpO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9XG59O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHRoaXMuZGV2aWNlICYmIHRoaXMuY2FtZXJhRW50aXR5ICYmIHRoaXMuc2NyZWVuRW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHdvcmxkUG9zID0gcG9zLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIC8vIGdldCBzY3JlZW4gc3BhY2UgY28tb3JkXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LmNhbWVyYS53b3JsZFRvU2NyZWVuKHdvcmxkUG9zLCBzY3JlZW5Qb3MpO1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UubWF4UGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnggKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgICAgICBjb25zdCBzY3JlZW5Db21wID0gdGhpcy5zY3JlZW5FbnRpdHkuc2NyZWVuO1xuXG4gICAgICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnNjYWxlO1xuICAgICAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgICAgIGNvbnN0IHkgPSAodGhpcy5kZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgICAgICByZXR1cm4gbmV3IHBjLlZlYzMoeCwgeSwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcblxufSIsImV4cG9ydCBjb25zdCBGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciB9IGZyb20gJy4vRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnO1xuXG5jb25zdCBmbG9hdGluZ1N0YXR1c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3RlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdUZW1wbGF0ZScsXG4gICAgICAgIHR5cGU6ICdhc3NldCdcbiAgICB9XG5dO1xuXG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NjcmVlbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2NyZWVuIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NhbWVyYUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2FtZXJhIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Zsb2F0aW5nU3RhdHVzZXMnLCB7IHR5cGU6ICdqc29uJywgc2NoZW1hOiBmbG9hdGluZ1N0YXR1c1NjaGVtYSwgdGl0bGU6ICdGbG9hdGluZyBTdGF0dXNlcycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5U3RhdHVzID0gZnVuY3Rpb24gKG5hbWUsIHRhcmdldFByb3h5LCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgc2NoZW1lID0gdGhpcy5mbG9hdGluZ1N0YXR1c2VzLmZpbmQoKG90aGVyU2NoZW1lKSA9PiBvdGhlclNjaGVtZS5uYW1lID09PSBuYW1lKTtcbiAgICBpZiAoc2NoZW1lKSB7XG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55ICsgdGFyZ2V0UHJveHkuaGVpZ2h0LCB0YXJnZXROb2RlLnopO1xuICAgICAgICBjb25zdCBuZXdTdGF0dXMgPSBzY2hlbWUudGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgbmV3U3RhdHVzLnNjcmlwdFsnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnXS5zZXRXb3JsZFBvc2l0aW9uKHRhcmdldFBvcyxcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LCB0aGlzLnNjcmVlbkVudGl0eSk7XG4gICAgICAgIHRoaXMuZW50aXR5LnBhcmVudC5hZGRDaGlsZChuZXdTdGF0dXMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGZsb2F0aW5nIHN0YXR1czogJHtuYW1lfWApO1xuICAgIH1cblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQb3J0YWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBvcnRhbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOnBvcnRhbCcsIHRoaXMuc2VsZWN0ZWRQb3J0YWwsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RlZFBvcnRhbCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQb3J0YWxDb21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsXG4gICAgICAgICAgICAgICAgc3RhbmRpbmdQb3NpdGlvbiwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFBvcnRhbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUG9ydGFsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IFBvcnRhbE1lZGlhdG9yIH0gZnJvbSAnLi9Qb3J0YWxNZWRpYXRvcic7XG5cblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncG9ydGFsSWQnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ1BvcnRhbCBJZCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uU2NlbmUnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFNjZW5lJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVzdGluYXRpb25Qb3J0YWwnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFBvcnRhbCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpdGJveCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGl0Ym94JyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc3RhbmRpbmdQb2ludCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU3RhbmRpbmcgUG9pbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUG9ydGFsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUG9ydGFsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuc3RhbmRpbmdQb2ludC5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkRpYWxvZ3VlUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVMsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNvbnRpbnVlJywgdGhpcy5oYW5kbGVDbGlja0NvbnRpbnVlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNob2ljZScsIHRoaXMuaGFuZGxlQ2xpY2tDaG9pY2UsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9QQU5FTDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jbGVhclBhbmVsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY3JlYXRlU3RlcChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY3JlYXRlU2tpbGxUZXN0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUzpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY2xlYXJEaWFsb2d1ZUNob2ljZXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5zZXRDb250aW51ZUJ1dHRvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5zZXRDb250aW51ZUJ1dHRvbihmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrQ29udGludWUoKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTlRJTlVFX0RJQUxPR1VFX05PREUpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrQ2hvaWNlKGluZGV4KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UsIGluZGV4KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IgfSBmcm9tICcuL0RpYWxvZ3VlUGFuZWxNZWRpYXRvcic7XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Njcm9sbGJhclZpZXdFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1Njcm9sbGJhciBWaWV3JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbnRlbnRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NvbnRlbnQgRW50aXR5JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ZlZWRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ZlZWQgRW50aXR5JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbnRlbnRIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ0NvbnRlbnQgSGVpZ2h0JywgZGVmYXVsdDogNTIwIH0pO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0ZXh0RW50cnlUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdUZXh0IEVudHJ5IEFzc2V0JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Nob2ljZUVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnQ2hvaWNlIEVudHJ5IEFzc2V0JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NraWxsVGVzdEVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnU2tpbGwgVGVzdCBFbnRyeSBBc3NldCcgfSk7XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbnRpbnVlQnV0dG9uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDb250aW51ZSBCdXR0b24nIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoRGlhbG9ndWVQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xuXG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbkVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2tlZDpjb250aW51ZScpO1xuICAgIH0sIHRoaXMpO1xuXG59O1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVTdGVwID0gZnVuY3Rpb24gKHN0ZXBEYXRhKSB7XG4gICAgdGhpcy5jcmVhdGVUZXh0KHN0ZXBEYXRhLnN0ZXApO1xuXG4gICAgaWYgKHN0ZXBEYXRhLnN0ZXAuY2hvaWNlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBEYXRhLnN0ZXAuY2hvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gc3RlcERhdGEuc3RlcC5jaG9pY2VzW2ldO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDaG9pY2UoaSwgY2hvaWNlLnRleHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVUZXh0ID0gZnVuY3Rpb24gKHN0ZXBEYXRhKSB7XG4gICAgY29uc3QgbmV3VGV4dCA9IHRoaXMudGV4dEVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdUZXh0LnNjcmlwdFtcIkRpYWxvZ3VlVGV4dENvbXBvbmVudFwiXS5zZXR1cChzdGVwRGF0YSk7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld1RleHQpO1xuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlQ2hvaWNlID0gZnVuY3Rpb24gKGluZGV4LCB0ZXh0KSB7XG4gICAgY29uc3QgbmV3Q2hvaWNlID0gdGhpcy5jaG9pY2VFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3Q2hvaWNlLnNjcmlwdFtcIkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50XCJdLnNldHVwKGluZGV4LCB0ZXh0KTtcbiAgICBuZXdDaG9pY2UuZWxlbWVudC50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3Q2hvaWNlKTtcbiAgICB0aGlzLmNob2ljZXMucHVzaChuZXdDaG9pY2UpO1xuXG4gICAgbmV3Q2hvaWNlLm9uKCdjbGljaycsIHRoaXMuaGFuZGxlU2VsZWN0Q2hvaWNlLCB0aGlzKTtcblxuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlU2tpbGxUZXN0ID0gZnVuY3Rpb24gKHNraWxsTmFtZSwgc2tpbGxWYWx1ZSwgZGllMSwgZGllMiwgd2FzU3VjY2Vzcykge1xuICAgIGNvbnN0IG5ld1NraWxsVGVzdCA9IHRoaXMuc2tpbGxUZXN0RW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld1NraWxsVGVzdC5zY3JpcHRbXCJEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudFwiXS5zZXR1cChza2lsbE5hbWUsIHNraWxsVmFsdWUsIGRpZTEsIGRpZTIsIHdhc1N1Y2Nlc3MpO1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdTa2lsbFRlc3QpO1xuXG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhckRpYWxvZ3VlQ2hvaWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGNvbnN0IGNob2ljZSBvZiB0aGlzLmNob2ljZXMpIHtcbiAgICAgICAgY2hvaWNlLm9mZignY2xpY2snLCB0aGlzLmhhbmRsZVNlbGVjdENob2ljZSwgdGhpcyk7XG4gICAgICAgIGNob2ljZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5jaG9pY2VzID0gW107XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2hpbGUgKHRoaXMuZmVlZEVudGl0eS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZmVlZEVudGl0eS5jaGlsZHJlblswXS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVTZWxlY3RDaG9pY2UgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGlja2VkOmNob2ljZScsIGluZGV4KTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUucmVzaXplVG9Db250ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc3BhY2luZ1ZlcnRpY2FsID0gdGhpcy5mZWVkRW50aXR5LmxheW91dGdyb3VwLnNwYWNpbmcueTtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcblxuICAgIGZvciAoY29uc3QgZmVlZENoaWxkIG9mIHRoaXMuZmVlZEVudGl0eS5jaGlsZHJlbikge1xuICAgICAgICBoZWlnaHQgKz0gZmVlZENoaWxkLmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICBoZWlnaHQgKz0gc3BhY2luZ1ZlcnRpY2FsO1xuICAgIH1cblxuICAgIHRoaXMuY29udGVudEVudGl0eS5lbGVtZW50LmhlaWdodCA9IE1hdGgubWF4KHRoaXMuY29udGVudEhlaWdodCwgaGVpZ2h0KTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29udGludWVCdXR0b24gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uRW50aXR5LmVuYWJsZWQgPSB2YWx1ZTtcbn1cbiIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVDaG9pY2VDb21wb25lbnQnKTtcblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2luZGV4RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJbmRleCBFbnRpdHknIH0pO1xuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoaW5kZXgsIGxhYmVsKSB7XG4gICAgdGhpcy5pbmRleEVudGl0eS5lbGVtZW50LnRleHQgPSAoaW5kZXggKyAxKSArIFwiLlwiO1xuICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gbGFiZWw7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2snLCBpbmRleClcbiAgICB9KTtcbn1cblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcblxufVxuIiwiZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RlZmF1bHRBbmltYXRpb25Db21wb25lbnQnKTtcblxuRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFuaW1hdGlvbk5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQW5pbWF0aW9uIE5hbWVcIlxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkodGhpcy5hbmltYXRpb25OYW1lLCAwLjEpO1xufSIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVRleHRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlVGV4dENvbXBvbmVudCcpO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3dpdGhJbWFnZVdpZHRoJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdXaXRoIEltYWdlIFdpZHRoJywgZGVmYXVsdDogMzQwIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd3aXRob3V0SW1hZ2VXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnV2l0aCBJbWFnZSBXaWR0aCcsIGRlZmF1bHQ6IDM2MCB9KTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0ZXh0Q29udGFpbmVyJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUZXh0IENvbnRhaW5lcicgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RpdGxlRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaXRsZSBFbnRpdHknIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdib2R5RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdCb2R5IEVudGl0eScgfSk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGh1bWJuYWlsQ29udGFpbmVyJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaHVtYm5haWwgQ29udGFpbmVyJyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGh1bWJuYWlsSW1hZ2UnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RodW1ibmFpbCBJbWFnZScgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKHN0ZXBEYXRhKSB7XG4gICAgaWYgKHN0ZXBEYXRhLnRpdGxlKSB7XG4gICAgICAgIHRoaXMudGl0bGVFbnRpdHkuZWxlbWVudC50ZXh0ID0gc3RlcERhdGEudGl0bGU7XG5cbiAgICAgICAgaWYgKHN0ZXBEYXRhLnRpdGxlQ29sb3VyKSB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVsZW1lbnQuY29sb3IuZnJvbVN0cmluZyhzdGVwRGF0YS50aXRsZUNvbG91cik7XG5cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGl0bGVFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdGVwRGF0YS50aHVtYm5haWwpIHtcbiAgICAgICAgdGhpcy50ZXh0Q29udGFpbmVyLmVsZW1lbnQud2lkdGggPSB0aGlzLndpdGhJbWFnZVdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5lbGVtZW50LndpZHRoID0gdGhpcy53aXRob3V0SW1hZ2VXaWR0aDtcbiAgICAgICAgdGhpcy50aHVtYm5haWxDb250YWluZXIuZW5hYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5ib2R5RW50aXR5LmVsZW1lbnQudGV4dCA9IHN0ZXBEYXRhLnRleHQ7XG4gICAgLy8gdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBtaW5IZWlnaHQgPSAodGhpcy50aHVtYm5haWxDb250YWluZXIuZW5hYmxlKSA/IHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVsZW1lbnQuaGVpZ2h0IDogMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICBsZXQgc3BhY2luZyA9IHRoaXMudGV4dENvbnRhaW5lci5sYXlvdXRncm91cC5zcGFjaW5nLnk7XG4gICAgZm9yIChjb25zdCB0ZXh0Q2hpbGQgb2YgdGhpcy50ZXh0Q29udGFpbmVyLmNoaWxkcmVuKSB7XG4gICAgICAgIGhlaWdodCArPSB0ZXh0Q2hpbGQuZWxlbWVudC5oZWlnaHQgKyBzcGFjaW5nO1xuICAgIH1cblxuXG4gICAgaWYgKCF0aGlzLnRpdGxlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5ib2R5RW50aXR5LmVsZW1lbnQud2lkdGggPSB0aGlzLndpdGhJbWFnZVdpZHRoO1xuXG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSBNYXRoLm1heChtaW5IZWlnaHQsIGhlaWdodCk7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldEhlaWdodCgpO1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgLy90aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQXR0YWNrQnV0dG9uTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBdHRhY2tCdXR0b25NZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazp0b2dnbGVBdHRhY2snLCB0aGlzLmhhbmRsZVRvZ2dsZUF0dGFjaywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uTmFtZSA9PT0gXCJhdHRhY2tcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBdHRhY2tCdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQXR0YWNrQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVUb2dnbGVBdHRhY2soYXR0YWNrRW5hYmxlZCkge1xuICAgICAgICBpZiAoYXR0YWNrRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIFwiYXR0YWNrXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIFwiaW50ZXJhY3RcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQXR0YWNrQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBdHRhY2tCdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQXR0YWNrQnV0dG9uTWVkaWF0b3IgfSBmcm9tICcuL0F0dGFja0J1dHRvbk1lZGlhdG9yJztcblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoQXR0YWNrQnV0dG9uTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQXR0YWNrQnV0dG9uTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQXR0YWNrQnV0dG9uTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BdHRhY2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOnRvZ2dsZUF0dGFjaycsICF0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkKTtcbn1cblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS50b2dnbGVIaWdobGlnaHQgPSBmdW5jdGlvbiAoaXNFbmFibGVkKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGlzRW5hYmxlZDtcbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFVzZUl0ZW1CdXR0b25NZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlVzZUl0ZW1CdXR0b25NZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50LCBlcXVpcG1lbnRTbG90S2V5KSB7XG4gICAgICAgIHN1cGVyKFVzZUl0ZW1CdXR0b25NZWRpYXRvci5OQU1FICsgZXF1aXBtZW50U2xvdEtleSk7XG4gICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdEtleSA9IGVxdWlwbWVudFNsb3RLZXk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBHYW1lQ29tbWFuZHMuRElTUExBWV9FUVVJUFBFRF9TTE9UXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6dXNlSXRlbScsIHRoaXMuaGFuZGxlVXNlSXRlbSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uTmFtZSA9PT0gXCJhdHRhY2tcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydVc2VJdGVtQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1VzZUl0ZW1CdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRVFVSVBQRURfU0xPVDpcbiAgICAgICAgICAgICAgICBjb25zdCBlcXVpcG1lbnRTbG90cyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBwZWREYXRhID0gZXF1aXBtZW50U2xvdHMuZ2V0KHRoaXMuZXF1aXBtZW50U2xvdEtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGVxdWlwcGVkRGF0YSAmJiBlcXVpcHBlZERhdGEuaWNvbikge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJVc2VJdGVtQnV0dG9uQ29tcG9uZW50XCJdLnNldEljb24oZXF1aXBwZWREYXRhLmljb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJVc2VJdGVtQnV0dG9uQ29tcG9uZW50XCJdLnNldERlZmF1bHRJY29uKCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVVc2VJdGVtKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgaWYgKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImF0dGFja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImludGVyYWN0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFVzZUl0ZW1CdXR0b25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1VzZUl0ZW1CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgVXNlSXRlbUJ1dHRvbk1lZGlhdG9yIH0gZnJvbSAnLi9Vc2VJdGVtQnV0dG9uTWVkaWF0b3InO1xuXG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlcXVpcG1lbnRTbG90S2V5JywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdFcXVpcG1lbnQgU2xvdCBLZXknIH0pO1xuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblVzZUl0ZW1CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RlZmF1bHRJY29uJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0RlZmF1bHQgSWNvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVXNlSXRlbUJ1dHRvbk1lZGlhdG9yLk5BTUUgKyB0aGlzLmVxdWlwbWVudFNsb3RLZXkpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFVzZUl0ZW1CdXR0b25NZWRpYXRvci5OQU1FICsgdGhpcy5lcXVpcG1lbnRTbG90S2V5KTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBVc2VJdGVtQnV0dG9uTWVkaWF0b3IodGhpcy5lbnRpdHksIHRoaXMuZXF1aXBtZW50U2xvdEtleSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLCB0aGlzKTtcbn07XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLnNldEljb24gPSBmdW5jdGlvbiAoYXNzZXRJZCkge1xuICAgIGNvbnN0IGljb25Bc3NldCA9IHRoaXMuYXBwLmFzc2V0cy5nZXQoYXNzZXRJZCk7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSBpY29uQXNzZXQ7XG59XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLnNldERlZmF1bHRJY29uID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaWNvbkVudGl0eS5lbGVtZW50LnNwcml0ZUFzc2V0ID0gdGhpcy5kZWZhdWx0SWNvbjtcbn1cblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6dXNlSXRlbScsICF0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkKTtcbn1cblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGlzRW5hYmxlZCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBpc0VuYWJsZWQ7XG59IiwiZXhwb3J0IGNvbnN0IFZlaGljbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1ZlaGljbGVDb21wb25lbnQnKTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1hc3NcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWFzc1wiLFxuICAgIGRlZmF1bHQ6IDNcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWF4U3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWF4IFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXhGb3JjZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXggRm9yY2VcIixcbiAgICBkZWZhdWx0OiAwLjVcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYXJyaXZlVGhyZXNob2xkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkFycml2YWwgVGhyZXNob2xkXCIsXG4gICAgZGVmYXVsdDogMVxufSk7XG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBwYy5WZWMzKCk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gbmV3IHBjLlZlYzMoKTtcbn1cblxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5wcm9jZXNzVmVsb2NpdHkgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCk7XG5cbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBjbGFtcFZlYzModGhpcy5zdGVlcmluZ0ZvcmNlLCAodGhpcy5tYXhGb3JjZSkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5zY2FsZSgxIC8gKHRoaXMubWFzcykpO1xuICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5LmFkZCh0aGlzLnN0ZWVyaW5nRm9yY2UpO1xuICAgIHRoaXMudmVsb2NpdHkgPSBjbGFtcFZlYzModGhpcy52ZWxvY2l0eSwgKHRoaXMubWF4U3BlZWQgKiBkdCkpO1xuXG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gbmV3IHBjLlZlYzMoKTtcblxuICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24ocG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpKTtcblxuICAgIGNvbnN0IHlSb3RhdGlvbiA9IGdldEFuZ2xlKHRoaXMudmVsb2NpdHkpICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCB5Um90YXRpb24sIDApO1xufVxuXG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbiAodGFyZ2V0LCBkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBkZXNpcmVkVmVsb2NpdHkgPSB0YXJnZXQuY2xvbmUoKS5zdWIocG9zaXRpb24pO1xuICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5ub3JtYWxpemUoKVxuICAgIGRlc2lyZWRWZWxvY2l0eS5zY2FsZSh0aGlzLm1heFNwZWVkICogZHQpO1xuICAgIGNvbnN0IGZvcmNlID0gZGVzaXJlZFZlbG9jaXR5LnN1Yih0aGlzLnZlbG9jaXR5KTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2UuYWRkKGZvcmNlKTtcbn1cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuYXJyaXZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKTtcbiAgICBsZXQgZGVzaXJlZFZlbG9jaXR5ID0gdGFyZ2V0LmNsb25lKCkuc3ViKHBvc2l0aW9uKS5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLm1heFNwZWVkKTtcbiAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gcG9zaXRpb24uZGlzdGFuY2UodGFyZ2V0KTtcblxuICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0ID4gdGhpcy5hcnJpdmFsVGhyZXNob2xkKSB7XG4gICAgICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5zY2FsZSh0aGlzLm1heFNwZWVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkuc2NhbGUoKHRoaXMubWF4U3BlZWQgKiBkaXN0YW5jZVRvVGFyZ2V0IC8gdGhpcy5hcnJpdmVUaHJlc2hvbGQpKTtcblxuICAgIH1cbiAgICBjb25zdCBmb3JjZSA9IGRlc2lyZWRWZWxvY2l0eS5zdWIodGhpcy52ZWxvY2l0eSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLmFkZChmb3JjZSk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wVmVjMyh2ZWMzLCBtYXhWYWx1ZSkge1xuICAgIGlmICh2ZWMzLmxlbmd0aCgpIDwgbWF4VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZlYzM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZlYzMubm9ybWFsaXplKCkuc2NhbGUobWF4VmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5nbGUodmVjMykge1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHZlYzMueCwgdmVjMy56KTtcbn0iLCJleHBvcnQgY29uc3QgU2NyZWVuUmVzaXplQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTY3JlZW5SZXNpemVDb21wb25lbnQnKTtcblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS53aW5kb3cgPSB3aW5kb3c7XG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG59XG5cblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBncmFwaGljc0RldmljZSA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlO1xuICAgIC8vIEZsaXAgYmxlbmRcbiAgICBpZiAoZ3JhcGhpY3NEZXZpY2Uud2lkdGggPCBncmFwaGljc0RldmljZS5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2NyZWVuLnNjYWxlQmxlbmQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmVlbi5zY2FsZUJsZW5kID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLmVudGl0eS5zY3JlZW4ucmVmZXJlbmNlUmVzb2x1dGlvbiA9IG5ldyBwYy5WZWMyKGdyYXBoaWNzRGV2aWNlLndpZHRoLCBncmFwaGljc0RldmljZS5oZWlnaHQpO1xuXG59IiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCcpO1xuXG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2tpbGxOYW1lTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NraWxsIE5hbWUgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NraWxsVmFsdWVMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2tpbGwgVmFsdWUgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RpZTFMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRGllIDEgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RpZTJMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRGllIDIgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3N1Y2Nlc3NMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU3VjY2VzcyBMYWJlbCcgfSk7XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZmFpbHVyZUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdGYWlsdXJlIExhYmVsJyB9KTtcblxuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKSB7XG4gICAgdGhpcy5za2lsbE5hbWVMYWJlbC5lbGVtZW50LnRleHQgPSBza2lsbE5hbWU7XG4gICAgdGhpcy5za2lsbFZhbHVlTGFiZWwuZWxlbWVudC50ZXh0ID0gc2tpbGxWYWx1ZTtcbiAgICB0aGlzLmRpZTFMYWJlbC5lbGVtZW50LnRleHQgPSBkaWUxO1xuICAgIHRoaXMuZGllMkxhYmVsLmVsZW1lbnQudGV4dCA9IGRpZTI7XG4gICAgdGhpcy5zdWNjZXNzTGFiZWwuZW5hYmxlZCA9IHdhc1N1Y2Nlc3M7XG4gICAgdGhpcy5mYWlsdXJlTGFiZWwuZW5hYmxlZCA9ICF3YXNTdWNjZXNzO1xufVxuIiwiZXhwb3J0IGNvbnN0IEludmVudG9yeUl0ZW1Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnKTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pO1xuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdleHBhbmRlZEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRXhwYW5kZWQgRW50aXR5JyB9KTtcblxuLy8gRGlzcGxheSBNZXRob2RzXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChpdGVtRGF0YSkge1xuICAgIHRoaXMuaWNvbiA9IGl0ZW1EYXRhLmljb247XG4gICAgY29uc3QgaWNvbkFzc2V0ID0gdGhpcy5hcHAuYXNzZXRzLmdldCh0aGlzLmljb24pO1xuICAgIHRoaXMuaWNvbkVudGl0eS5lbGVtZW50LnNwcml0ZUFzc2V0ID0gaWNvbkFzc2V0O1xuICAgIHRoaXMuc2l6ZSA9IGl0ZW1EYXRhLnNpemU7XG4gICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBpdGVtRGF0YS5uYW1lO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5zbG90SGVpZ2h0ICogdGhpcy5zaXplO1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLnNsb3RIZWlnaHQgKiB0aGlzLnNpemU7XG5cbiAgICB0aGlzLml0ZW1EYXRhID0gaXRlbURhdGE7XG59XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLmNvbGxhcHNlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xufVxuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5leHBhbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5leHBhbmRlZEVudGl0eS5lbmFibGVkID0gdHJ1ZTtcbn1cblxuLy8gRHJhZyBtZXRob2RzXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGNvbnN0IGRyYWdIZWxwZXIgPSBuZXcgcGMuRWxlbWVudERyYWdIZWxwZXIodGhpcy5lbnRpdHkuZWxlbWVudCwgbnVsbCk7XG4gICAgZHJhZ0hlbHBlci5vbignZHJhZzpzdGFydCcsIHRoaXMub25EcmFnU3RhcnQsIHRoaXMpO1xufTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUub25EcmFnU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2RyYWc6c3RhcnQnLCB0aGlzLmVudGl0eSwgdGhpcy5zaXplKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkludmVudG9yeVBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncmVvcmRlckl0ZW0nLCB0aGlzLmhhbmRlUmVvcmRlckl0ZW0sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2VxdWlwSXRlbScsIHRoaXMuaGFuZGxlRXF1aXBJdGVtLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTDpcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBwZWRNYXAgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJJbnZlbnRvcnlQYW5lbENvbXBvbmVudFwiXS5kaXNwbGF5SXRlbXMoaXRlbXMsIGVxdWlwcGVkTWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kZVJlb3JkZXJJdGVtKGl0ZW1VVUlELCBuZXdJbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRU9SREVSX0lOVkVUT1JZX0lURU0sIGl0ZW1VVUlELCBuZXdJbmRleCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXF1aXBJdGVtKGl0ZW1JZCwgc2xvdEtleSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIGl0ZW1JZCwgc2xvdEtleSk7XG4gICAgfVxufVxuIiwiXG5jb25zdCBlcXVpcG1lbnRTbG90U2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2tleScsXG4gICAgICAgIHRpdGxlOiAnRXF1aXBtZW50IFNsb3QgS2V5JyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2VudGl0eScsXG4gICAgICAgIHRpdGxlOiAnRXF1aXBtZW50IFNsb3QgRW50aXR5JyxcbiAgICAgICAgdHlwZTogJ2VudGl0eSdcbiAgICB9XG5dO1xuXG5leHBvcnQgY29uc3QgSW52ZW50b3J5UGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeVBhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEludmVudG9yeVBhbmVsTWVkaWF0b3IgfSBmcm9tICcuL0ludmVudG9yeVBhbmVsTWVkaWF0b3InO1xuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2xvdCBDb250YWluZXInIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RvcFNsb3RQb3NpdGlvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVG9wIFNsb3QgUG9zaXRpb24nIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NlcGFyYXRvckhpZ2hsaWdodCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2VwYXJhdG9yIEhpZ2hsaWdodCcgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY2xvc2VCdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0Nsb3NlIEJ1dHRvbicgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaXRlbUFzc2V0JywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0l0ZW0gQXNzZXQnIH0pO1xuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZHJhZ0ljb24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RyYWcgSWNvbicgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdFdpZHRoJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IFdpZHRoJywgZGVmYXVsdDogMzIwIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgSGVpZ2h0JywgZGVmYXVsdDogNDQgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWF4U2xvdHMnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ01heCBTbG90cycsIGRlZmF1bHQ6IDEyIH0pO1xuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZXF1aXBtZW50U2xvdHMnLCB7IHR5cGU6ICdqc29uJywgc2NoZW1hOiBlcXVpcG1lbnRTbG90U2NoZW1hLCBhcnJheTogdHJ1ZSwgdGl0bGU6ICdFcXVpcG1lbnQgU2xvdHMnIH0pO1xuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEludmVudG9yeVBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnZlbnRvcnlQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG4gICAgdGhpcy5lbnRpdHkub24oJ2RyYWc6c3RhcnQnLCB0aGlzLmhhbmRsZURyYWdTdGFydCwgdGhpcyk7XG4gICAgdGhpcy5jbG9zZUJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xvc2UsIHRoaXMpO1xuXG4gICAgdGhpcy5zZXBhcmF0b3JIaWdobGlnaHQuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzID0gW107XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSkge1xuICAgIGRyYWdFbnRpdHkucmVwYXJlbnQodGhpcy5lbnRpdHkpO1xuICAgIHRoaXMuZHJhZ0ljb24ucmVwYXJlbnQodGhpcy5lbnRpdHkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0KTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VVUCwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXAoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0KTtcbiAgICB9LCB0aGlzKTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBjb25zdCBzY3JlZW5Qb3MgPSBuZXcgcGMuVmVjMyhldnQueCwgZXZ0LnksIDApO1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5tYXhQaXhlbFJhdGlvO1xuICAgIHNjcmVlblBvcy54ICo9IHBpeGVsUmF0aW87XG4gICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IHNjcmVlbkNvbXAgPSB0aGlzLmVudGl0eS5lbGVtZW50LnNjcmVlbi5zY3JlZW47XG4gICAgY29uc3QgZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG5cbiAgICBjb25zdCByYXRpb1NjYWxlID0gc2NyZWVuQ29tcC5zY2FsZTtcbiAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgY29uc3QgeSA9IChkZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyh4LCB5LCAwKTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBldnQpIHtcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGV2dCk7XG4gICAgdGhpcy5kcmFnSWNvbi5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgIHRoaXMuZGlzcGxheVBvdGVudGlhbExpc3QoZHJhZ0VudGl0eSwgc2l6ZSwgbmV3UG9zaXRpb24pO1xuXG59XG5cblxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBldnQpIHtcbiAgICBjb25zdCBkcmFnUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZXZ0KTtcbiAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmV4cGFuZCgpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vZmYocGMuRVZFTlRfTU9VU0VVUCk7XG5cbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm91bmRzID0ge1xuICAgICAgICB4MTogdG9wU2xvdFBvc2l0aW9uLngsIHkxOiB0b3BTbG90UG9zaXRpb24ueSAtIHRoaXMubWF4U2xvdHMgKiB0aGlzLnNsb3RIZWlnaHQsXG4gICAgICAgIHgyOiB0b3BTbG90UG9zaXRpb24ueCArIHRoaXMuc2xvdFdpZHRoLCB5MjogdG9wU2xvdFBvc2l0aW9uLnlcbiAgICB9O1xuXG4gICAgY29uc3QgaW5Cb3VuZHMgPSBpc0luQm91bmRzKGRyYWdQb3MsIGJvdW5kcyk7XG4gICAgaWYgKGluQm91bmRzKSB7XG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcblxuICAgICAgICAvLyBHZXQgdGhlIHRvcCBjb3JuZXIgcG9zaXRpb24gb2YgdGhlIGRyYWdnaW5nIGl0ZW0gYXMgdGhlIHRhcmdldFxuICAgICAgICBjb25zdCBjb3JuZXJTY3JlZW5Qb3MgPSB7IHg6IGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLngsIHk6IHNjcmVlbkhlaWdodCAtIGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLnkgfVxuICAgICAgICBjb25zdCBjb3JuZXJQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChjb3JuZXJTY3JlZW5Qb3MpO1xuXG4gICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHRvcFNsb3RQb3NpdGlvbi55IC0gY29ybmVyUG9zLnkpIC8gdGhpcy5zbG90SGVpZ2h0KSk7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5pdGVtRGF0YTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncmVvcmRlckl0ZW0nLCBpdGVtRGF0YS51dWlkLCBzbG90SW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRyb3BwZWQgaW4gZXF1aXAgc2xvdFxuICAgICAgICB0aGlzLmNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdChkcmFnRW50aXR5LCBldnQpO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdCA9IGZ1bmN0aW9uIChkcmFnZ2luZ0VudGl0eSwgbW91c2VFdmVudCkge1xuICAgIGZvciAoY29uc3QgZXF1aXBTbG90IG9mIHRoaXMuZXF1aXBtZW50U2xvdHMpIHtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90S2V5ID0gZXF1aXBTbG90LmtleTtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90RW50aXR5ID0gZXF1aXBTbG90LmVudGl0eTtcbiAgICAgICAgY29uc3QgY29ybmVycyA9IGVxdWlwU2xvdEVudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnM7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7IHg6IG1vdXNlRXZlbnQueCwgeTogaGVpZ2h0IC0gbW91c2VFdmVudC55IH07XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgICAgIHgxOiBjb3JuZXJzWzBdLngsIHkxOiBjb3JuZXJzWzBdLnksXG4gICAgICAgICAgICB4MjogY29ybmVyc1syXS54LCB5MjogY29ybmVyc1syXS55LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc0luQm91bmRzKHBvaW50LCBib3VuZHMpKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGRyYWdnaW5nRW50aXR5LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uaXRlbURhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2VxdWlwSXRlbScsIGl0ZW1EYXRhLmlkLCBlcXVpcFNsb3RLZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVJdGVtTW92ZSA9IGZ1bmN0aW9uIChkcmFnZ2luZ0VudGl0eSwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5pc0luQm91bmRzKHZhbHVlKSkge1xuICAgICAgICBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JIaWdobGlnaHQuZW5hYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JIaWdobGlnaHQuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNldEhpZ2hsaWdodFBvc2l0aW9uKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNJbkJvdW5kcyhwb2ludCwgYm91bmRzKSB7XG4gICAgcmV0dXJuIHBvaW50LnggPiBib3VuZHMueDEgJiYgcG9pbnQueCA8IGJvdW5kcy54MiAmJiBwb2ludC55ID4gYm91bmRzLnkxICYmIHBvaW50LnkgPCBib3VuZHMueTI7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheUl0ZW1zID0gZnVuY3Rpb24gKGl0ZW1zLCBlcXVpcHBlZE1hcCkge1xuICAgIGNvbnNvbGUubG9nKGl0ZW1zKTtcbiAgICBjb25zb2xlLmxvZyhlcXVpcHBlZE1hcCk7XG4gICAgdGhpcy5jbGVhclBhbmVsKCk7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBydW5uaW5nSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICBydW5uaW5nSW5kZXggKz0gaXRlbS5zaXplO1xuXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1Db21wb25lbnQgPSB0aGlzLml0ZW1Bc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICBuZXdJdGVtQ29tcG9uZW50LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uc2V0dXAoaXRlbSk7XG4gICAgICAgIG5ld0l0ZW1Db21wb25lbnQuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG5cbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucHVzaChuZXdJdGVtQ29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdJdGVtQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVxdWlwU2xvdCBvZiB0aGlzLmVxdWlwbWVudFNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEtleSA9IGVxdWlwU2xvdC5rZXk7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEVudGl0eSA9IGVxdWlwU2xvdC5lbnRpdHk7XG5cbiAgICAgICAgaWYgKGVxdWlwcGVkTWFwLmhhcyhlcXVpcFNsb3RLZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBlcXVpcHBlZEl0ZW0gPSBlcXVpcHBlZE1hcC5nZXQoZXF1aXBTbG90S2V5KTtcbiAgICAgICAgICAgIGVxdWlwU2xvdEVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnRcIl0uc2V0dXAoZXF1aXBwZWRJdGVtLmljb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXF1aXBTbG90RW50aXR5LnNjcmlwdFtcIkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudFwiXS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5UG90ZW50aWFsTGlzdCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBkcmFnUG9zKSB7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgeDE6IHRvcFNsb3RQb3NpdGlvbi54LCB5MTogdG9wU2xvdFBvc2l0aW9uLnkgLSB0aGlzLm1heFNsb3RzICogdGhpcy5zbG90SGVpZ2h0LFxuICAgICAgICB4MjogdG9wU2xvdFBvc2l0aW9uLnggKyB0aGlzLnNsb3RXaWR0aCwgeTI6IHRvcFNsb3RQb3NpdGlvbi55XG4gICAgfTtcblxuICAgIGNvbnN0IGluQm91bmRzID0gaXNJbkJvdW5kcyhkcmFnUG9zLCBib3VuZHMpO1xuICAgIGlmIChpbkJvdW5kcykge1xuICAgICAgICAvLyBEbyB0aGUgc3R1ZmZcbiAgICAgICAgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcblxuICAgICAgICAvLyBHZXQgdGhlIHRvcCBjb3JuZXIgcG9zaXRpb24gb2YgdGhlIGRyYWdnaW5nIGl0ZW0gYXMgdGhlIHRhcmdldFxuICAgICAgICBjb25zdCBjb3JuZXJTY3JlZW5Qb3MgPSB7IHg6IGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLngsIHk6IHNjcmVlbkhlaWdodCAtIGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLnkgfVxuICAgICAgICBjb25zdCBjb3JuZXJQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChjb3JuZXJTY3JlZW5Qb3MpO1xuXG4gICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHRvcFNsb3RQb3NpdGlvbi55IC0gY29ybmVyUG9zLnkpIC8gdGhpcy5zbG90SGVpZ2h0KSk7XG4gICAgICAgIHRoaXMucmVvcmRlckxpc3RXaXRoR2FwKGRyYWdFbnRpdHksIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uc2l6ZSwgc2xvdEluZGV4KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VwYXJhdG9ySGlnaGxpZ2h0LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5jb2xsYXBzZSgpO1xuICAgICAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLnJlb3JkZXJMaXN0V2l0aEdhcCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBnYXBJbmRleCkge1xuICAgIGNvbnN0IHRvcFNsb3RQb3NpdGlvbiA9IHRoaXMudG9wU2xvdFBvc2l0aW9uLmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBsZXQgcnVubmluZ0luZGV4ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbUVudGl0eSA9IHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzW2ldO1xuXG4gICAgICAgIC8vIERvbid0IHJlcG9zaXRpb24gdGhlIGVudGl0eSBiZWluZyBkcmFnZ2VkXG4gICAgICAgIGlmIChkcmFnRW50aXR5ICE9PSBpbnZlbnRvcnlJdGVtRW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoZ2FwSW5kZXggPj0gcnVubmluZ0luZGV4ICYmIGdhcEluZGV4IDwgcnVubmluZ0luZGV4ICsgaW52ZW50b3J5SXRlbUVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLnNpemUpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nSW5kZXggKz0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bm5pbmdJbmRleCArPSBpbnZlbnRvcnlJdGVtRW50aXR5LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uc2l6ZTtcblxuICAgICAgICAgICAgaW52ZW50b3J5SXRlbUVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHRvcFNsb3RQb3NpdGlvbi54LCB0b3BTbG90UG9zaXRpb24ueSAtIChydW5uaW5nSW5kZXggKiB0aGlzLnNsb3RIZWlnaHQpLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aGlsZSAodGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcy5wb3AoKTtcbiAgICAgICAgZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50Jyk7XG5cbi8qSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgSGVpZ2h0JywgZGVmYXVsdDogNDQgfSk7Ki9cblxuXG5JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAobmFtZSwgc2l6ZSkge1xuXG59XG5cbiIsImV4cG9ydCBjb25zdCBJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudCcpO1xuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RlZmF1bHRBc3NldCcsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdEZWZhdWx0IEFzc2V0JyB9KTtcblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsgfVxuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGljb25Bc3NldElkKSB7XG4gICAgY29uc3QgYXNzZXQgPSB0aGlzLmFwcC5hc3NldHMuZ2V0KGljb25Bc3NldElkKTtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IGFzc2V0O1xuXG59XG5cblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IHRoaXMuZGVmYXVsdEFzc2V0O1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5jb25zdCB7IFB1cmVNVkMgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQ2Fjb2dlbkdhbWUgfSBmcm9tICcuL3ZpZXcvQ2Fjb2dlbkdhbWUnO1xuXG5pbXBvcnQgeyBOYXZpZ2F0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IFRvYXN0TWVzc2FnZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSGl0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgVUlTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24nO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YW1pbmFCYXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb3J0YWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50JztcbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9kZWZhdWx0QW5pbS9EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ3VlVGV4dENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudCc7XG5pbXBvcnQgeyBBdHRhY2tCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBVc2VJdGVtQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBWZWhpY2xlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTY3JlZW5SZXNpemVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50JztcblxuXG5jbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IEdhbWVGYWNhZGUuZ2V0SW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKEZhY2FkZSk7XG5cbiAgICAgICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zdGFydHVwKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==