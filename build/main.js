(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var u=i(999);e.View=u.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,u=this._events[s],p=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,o),!0;case 5:return u.fn.call(u.context,e,n,o,r),!0;case 6:return u.fn.call(u.context,e,n,o,r,a),!0}for(h=1,c=new Array(p-1);h<p;h++)c[h-1]=arguments[h];u.fn.apply(u.context,c)}else{var d,l=u.length;for(h=0;h<l;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),p){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,n);break;case 4:u[h].fn.call(u[h].context,e,n,o);break;default:if(!c)for(d=1,c=new Array(p-1);d<p;d++)c[d-1]=arguments[d];u[h].fn.apply(u[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],u=s.length;c<u;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},930:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>rt});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(434),a=i(917);pc.createScript("GameMapComponent").prototype.initialize=function(){},i(203);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameMapMediator"}constructor(t){super(c.NAME),this.subscribeNotification([n.i.CHANGE_SCENE_COMPLETE])}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case n.i.CHANGE_SCENE_COMPLETE:this.facade.retrieveProxy(a.u.NAME).vo,pc.Application.getApplication()}}}var h=i(99);const{GameMediator:u}=i(23),{Facade:p}=i(710);function d(t,e){console.log("Parse map");const i=pc.Application.getApplication().root.findByTag("navigation_floor");let o=[];const r=[];for(const t of i){const e=t.script.NavigationComponent;r.push(e);const i=l(t);e.setGrid(i)}for(const t of r)for(const e of t.connectedComponents){const i=e.script.NavigationComponent;f(t.getGrid(),i.getGrid()),o=o.concat(t.getGrid())}p.getInstance(t).registerProxy(new h.h(o)),p.getInstance(t).registerMediator(new c),p.getInstance(t).sendNotification(n.i.MAP_GRID_CREATED)}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function f(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}const{Proxy:A}=i(710);class g extends A{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(g.NAME,t)}getDamage(t,e){console.log(this.vo);for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}}const{Facade:m}=i(710);function y(t,e){m.getInstance(t).registerProxy(new a.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;m.getInstance(t).registerProxy(new g(e))}}const{Facade:E}=i(710);function N(t,e,...i){const o=pc.Application.getApplication(),r=i[0];console.log("Changing scene "+r);const a=o.root.findByName("Root"),s=o.scenes.find(r);o.scenes.loadSceneHierarchy(s.url,(function(e,i){e?console.error(e):a&&a.destroy(),E.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),E.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r)}))}function M(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var _=i(958);const{Proxy:v}=i(710),{CombatVO:C}=i(201);class T extends v{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t){super(T.NAME,new C(t))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(_.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.ENEMY_TURN,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}t.push("end_round");let e=M(t);for(;"end_round"===e[0];)e=M(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t))}}var P=i(448);const{Facade:O}=i(710);function b(t,e,...i){const o=i[0],r=O.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(a.u.NAME).updateGameStateType(P.gameplayModeTypes.COMBAT);const s=r.retrieveProxy(_.b.NAME+o),c=["player"].concat(o).concat(s.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));for(const t of c)r.sendNotification(n.i.END_MOVEMENT+t);const h=new T(c);r.registerProxy(h),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:S}=i(710);function x(t,e,...i){const n=S.getInstance(t),o=n.retrieveProxy(a.u.NAME),r=n.retrieveProxy(T.NAME);o.vo.gameplayMode===P.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:I}=i(710);function R(t,e,...i){const o=I.getInstance(t),r=o.retrieveProxy(a.u.NAME),s=o.retrieveProxy(T.NAME);r.vo.gameplayMode===P.gameplayModeTypes.COMBAT&&(s.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:D}=i(710);function w(t,e,...i){setTimeout((()=>{const e=D.getInstance(t),i=e.retrieveProxy(T.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}const{Facade:G}=i(710);function L(t,e,...i){const o=i[0],a=G.getInstance(t),s=(a.retrieveProxy(h.h.NAME),a.retrieveProxy(_.b.NAME+o)),c=s.currentNode,u=a.retrieveProxy(_.b.NAME+"player"),p=u.currentNode.connectedNodes;if(p.some((t=>t.equals(c))))return a.sendNotification(n.i.RESOLVE_ATTACK,s.id,u.id),void setTimeout((()=>{a.sendNotification(n.i.END_COMBAT_TURN)}),2e3);const d=p.filter((t=>!t.occupied));if(d.length>0){let t=d.reduce(((t,e)=>k(c,t)<k(c,e)?t:e));const e=r.q.calculatePath(c,t);if(e&&e.length>0){const i=s.vo;for(;e.length>i.availableMovement;)e.shift();const r=e[0];p.some((t=>t.equals(r)))?a.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,o,"player",e):a.sendNotification(n.i.NAVIGATE_ALONG_PATH+o,e),s.currentNode=t}else a.sendNotification(n.i.END_COMBAT_TURN)}}function k(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}var V=i(710);function H(t,e,...i){const o=V.Facade.getInstance(t),r=o.retrieveProxy(a.u.NAME),s=i[0];r.currentMode===P.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_NODE+"player",s):r.currentMode===P.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(T.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",s)}const{Facade:B}=i(710);function F(t,e,...i){const n=B.getInstance(t),o=i[0],a=i[1],s=n.retrieveProxy(_.b.NAME+o),c=s.vo,h=r.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(a)&&z(n,s,a)}function z(t,e,i){const o=e.vo,a=r.q.calculatePath(o.currentNode,i);a&&a.length>0&&(o.availableMovement-=a.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,a))}function U(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function K(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function Y(t,e,...i){const o=i[0],a=V.Facade.getInstance(t),s=a.retrieveProxy(_.b.NAME+o).vo,c=r.q.breadthFirstSearch(s.currentNode,s.availableMovement);a.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function W(t,e,...i){const o=V.Facade.getInstance(t),r=i[0],s=i[1];if(o.retrieveProxy(_.b.NAME+r).currentNode=s,o.retrieveProxy(a.u.NAME).currentMode===P.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(T.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):o.sendNotification(n.i.END_COMBAT_TURN))}}function q(t,e,...i){const o=V.Facade.getInstance(t),r=i[0].script.GameCharacterComponent.characterId,s=o.retrieveProxy(a.u.NAME),c=o.retrieveProxy(_.b.NAME+r),h=o.retrieveProxy(_.b.NAME+"player");if(s.currentMode===P.gameplayModeTypes.EXPLORATION){const t=j(h,c);t&&o.sendNotification(n.i.NAVIGATE_ALONG_PATH+"player",t)}else if(s.currentMode===P.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(T.NAME);if(!t||"player"!==t.activeParticipant)return;if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(h,c))"attack"===s.currentAction&&"attack"===s.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,h.id,c.id);else{const t=j(h,c);t&&t.length-1<=h.vo.availableMovement?"attack"===s.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",c.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function j(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=r.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=r.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}function X(t,e,...i){const o=V.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(a.u.NAME);s.currentAction===r?s.currentAction="none":s.currentAction=r,o.sendNotification(n.i.DISPLAY_PLAYER_ACTION,s.currentAction)}function Q(t,e,...i){const o=V.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(_.b.NAME+r),s=i[1],c=o.retrieveProxy(_.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=J(a.skill),u=J(a.skill),p=o.retrieveProxy(g.NAME);if(h===u)o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${h}/${u})`);else if(h>u){const t=$(h,u),e=p.getDamage("sword",t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+s),o.sendNotification(n.i.KILL_GAME_CHARACTER,s)):o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`)}else{const t=$(u,h),e=p.getDamage("sword",t);a.applyDamage(e),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${e}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?o.sendNotification(n.i.DISPLAY_DEATH+r):o.sendNotification(n.i.DISPLAY_HIT+r)}}function $(t,e){return t-e}function J(t){return t+Z()+Z()}function Z(){return Math.round(6*Math.random())}var tt=i(321);const{Facade:et}=i(710);function it(t,e,...i){const o=et.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(_.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(tt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function nt(t,e,...i){const n=V.Facade.getInstance(t),o=i[0],r=n.retrieveProxy(_.b.NAME+o);r&&(r.currentNode.occupied=!1);const a=n.retrieveProxy(T.NAME);a&&a.removeCharacterFromCombat(o)}const{Facade:ot}=i(710);class rt extends ot{static getInstance(t){return ot.instanceMap[t]||(ot.instanceMap[t]=new rt(t)),ot.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return rt.NAME+"StartUp"}startup(t){this.sendNotification(rt.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(rt.STARTUP,y),this.registerCommand(n.i.CHANGE_SCENE,N),this.registerCommand(n.i.PARSE_GAMEMAP,d),this.registerCommand(n.i.START_COMBAT,b),this.registerCommand(n.i.NEXT_COMBAT_TURN,x),this.registerCommand(n.i.NEXT_COMBAT_ROUND,R),this.registerCommand(n.i.END_COMBAT_TURN,w),this.registerCommand(n.i.ENEMY_TURN,L),this.registerCommand(n.i.SELECTED_NODE,H),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,F),this.registerCommand(n.i.SHOW_WALKABLE_AREA,U),this.registerCommand(n.i.HIDE_WALKABLE_AREA,K),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,Y),this.registerCommand(n.i.FINISHED_MOVE,W),this.registerCommand(n.i.SELECT_GAME_CHARACTER,q),this.registerCommand(n.i.SET_PLAYER_ACTION,X),this.registerCommand(n.i.RESOLVE_ATTACK,Q),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,it),this.registerCommand(n.i.KILL_GAME_CHARACTER,nt)}}},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get SET_PLAYER_ACTION(){return"SET_PLAYER_ACTION"}static get DISPLAY_PLAYER_ACTION(){return"DISPLAY_PLAYER_ACTION"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableAction=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died")}get id(){return this.vo.id}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableActions(){return this.vo.availableAction}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.currentNode=void 0,this.agroArea=void 0,this.initiative=2,this.maxMovement=6,this.maxActionsPerTurn=1,this.availableAction=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{}}}},99:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t){super(a.NAME),this.setData({mapGrid:t})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},23:(t,e,i)=>{i.r(e),i.d(e,{GameMediator:()=>r});var n=i(68);const{Mediator:o}=i(710);class r extends o{static get NAME(){return"GameMediator"}constructor(){console.log("Register mediator - GameMediator");const t=pc.Application.getApplication();super(r.NAME,t),this.subscribeNotification(n.i.APP_INITIALISED)}handleNotification(t,...e){switch(t){case n.i.APP_INITIALISED:}}}},442:(t,e,i)=>{var n=i(710),o=i(930),r=i(958),a=i(321);const s=pc.createScript("GameCharacterComponent");s.attributes.add("characterId",{type:"string",title:"Character Id"}),s.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),s.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),s.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),s.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),s.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),s.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},s.prototype.postInitialize=function(){this.movementPath=[],this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(a.y.NAME+this.characterId)&&this.facade.removeMediator(a.y.NAME+this.characterId),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const t=this.statsOverrides,e={id:this.characterId,isNPC:this.isNPC,advancedSkills:this.advancedSkills,...t};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),i=[];for(const e of t){const t=e.script.GameCharacterComponent.characterId;i.push(t)}e.combatGroup=i}this.facade.registerProxy(new r.b(e)),this.facade.registerMediator(new a.y(this.characterId,this.entity,this.preregisteredNotifications)),this.entity.animation.play("idle.glb",.1)},s.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},s.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},s.prototype.update=function(t){this.moveAlongPath(t)},s.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3,o=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(n.sub2(r,i),n.normalize(),n.mul(o),n.add(i),this.entity.setLocalPosition(n),this.lookAtPoint(e),n.distance(r)<.15){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}}},s.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},s.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},s.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},s.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(99),r=(i(917),i(442),i(434)),a=i(958);i(448);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode||(i.currentNode=t.findNearestNode(this.viewComponent.getLocalPosition()));break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const r=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(r);break;case n.i.DISPLAY_DEATH+this.id:this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){console.log("NAVIGATING TO NODE");const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode||(i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition()));const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},203:(t,e,i)=>{var n=i(710),o=i(930),r=i(68);i(917);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"InputLayerMediator"}constructor(t){super(s.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(r.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(r.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(r.i.INPUT_DRAG_MOUSE,t)}}const c=pc.createScript("GameCamera");c.attributes.add("distance",{type:"number",default:100,title:"Distance"}),c.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),c.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),c.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(u.NAME)&&this.facade.removeMediator(u.NAME),this.facade.registerMediator(new u(this.entity))},c.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},c.prototype.handleDrag=function(t){this.rotation+=t.x*this.dragMultiplierX;let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e},c.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},c.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:h}=i(710);class u extends h{static get NAME(){return"GameCameraMediator"}constructor(t){super(u.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE,r.i.INPUT_DRAG_MOUSE,r.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(e[0]);break;case r.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(e[0])}}}const p=pc.createScript("InputLayerComponent");p.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),p.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),p.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(s.NAME)&&this.facade.removeMediator(s.NAME),this.facade.registerMediator(new s(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))},p.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},p.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},p.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},p.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},p.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},p.prototype.update=function(t){this.processInputQueue()},p.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue)((t=n.entity).tags.has("gameCharacter")?2:t.tags.has("navigation")?1:-1)>i&&(e=n);e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),this.inputQueue=[]}var t},p.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},p.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(930),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(930),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e},i(442);var c=i(710),h=i(958),u=i(99),p=i(917),d=i(448);const l=pc.createScript("AgroGameCharacterComponent");l.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),l.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this)},l.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY),o=n.retrieveProxy(h.b.NAME+e),r=o.vo;if(!r.currentNode){const t=n.retrieveProxy(u.h.NAME);o.currentNode=t.findNearestNode(this.entity.getLocalPosition()),r.agroArea=a.q.breadthFirstSearch(r.currentNode,this.sightRange)}},l.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY),r=o.retrieveProxy(h.b.NAME+i).vo;if(o.retrieveProxy(p.u.NAME).vo.gameplayMode===d.gameplayModeTypes.EXPLORATION)for(const t of r.agroArea)t.equals(n)&&(this.entity.script.GameCharacterComponent.lookAtPoint(n),o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))};const{Mediator:f}=i(710);class A extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(A.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const g=pc.createScript("ToastMessageComponent");g.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),g.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),g.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(A.NAME)&&this.facade.removeMediator(A.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new A(this.entity))},g.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},g.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)},i(203);const{Mediator:m}=i(710);class y extends m{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(y.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const E=pc.createScript("PlayerCombatPanelComponent");E.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),E.prototype.initialize=function(){},E.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(y.NAME)&&this.facade.removeMediator(y.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new y(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},E.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const N=pc.createScript("HitboxComponent");N.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.model.enabled=!1},N.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},N.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:M}=i(710);class _ extends M{static get NAME(){return"ActionPanelMediator"}constructor(t){super(_.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.DISPLAY_PLAYER_ACTION,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:actionButton",this.handleClickActionButton,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_PLAYER_ACTION:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleClickActionButton(t){this.facade.sendNotification(e.i.SET_PLAYER_ACTION,t)}}const v=pc.createScript("ActionButtonComponent");v.attributes.add("action",{type:"string",title:"Action"}),v.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),v.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),v.attributes.add("iconAsset",{type:"asset",title:"Icon Asset"}),v.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},v.prototype.handleClick=function(t){this.entity.parent.fire("click:actionButton",this.action)},v.prototype.handleChangeAction=function(t){this.highlightEntity.enabled=this.action===t};const C=pc.createScript("ActionPanelComponent");C.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),C.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.NAME)&&this.facade.removeMediator(_.NAME),this.facade.registerMediator(new _(this.entity))},C.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};const{Facade:T}=i(710),{PureMVC:P}=i(710);new class{constructor(){console.log("Main start"),P.debug=!0,T.getInstance=t.GameFacade.getInstance,console.log(T),this.facade=T.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0dhbWVNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmEuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvQ2Fjb2dlbkdhbWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlB1cmVNVkNfMSIsIlZpZXdfMSIsIkNvbnRyb2xsZXIiLCJrZXkiLCJ0aGlzIiwiY29tbWFuZE1hcCIsImluc3RhbmNlTWFwIiwiRXJyb3IiLCJtdWx0aXRvbktleSIsImxvZ2dlciIsIlB1cmVNVkMiLCJkZWJ1ZyIsImxvZ0NvbW1hbmQiLCJsb2dOb25lIiwiaW5pdGlhbGl6ZUNvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyIiwiZ2V0SW5zdGFuY2UiLCJwcm90b3R5cGUiLCJyZWdpc3RlckNvbW1hbmQiLCJub3RpZmljYXRpb25OYW1lIiwiY29tbWFuZENsYXNzUmVmIiwidmlldyIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJleGVjdXRlQ29tbWFuZCIsImhhc0NvbW1hbmQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDb21tYW5kIiwicmVtb3ZlT2JzZXJ2ZXIiLCJWaWV3IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tbWFuZCIsIl9jb25zb2xlQXJncyIsIm5hbWUiLCJhcHBseSIsImNvbmNhdCIsIkNvbnRyb2xsZXJfMSIsIk1vZGVsXzEiLCJGYWNhZGUiLCJsb2dOb3RpZmljYXRpb24iLCJpbml0aWFsaXplTm90aWZpZXIiLCJpbml0aWFsaXplRmFjYWRlIiwiaGFzQ29yZSIsInJlbW92ZUNvcmUiLCJNb2RlbCIsInJlbW92ZU1vZGVsIiwicmVtb3ZlVmlldyIsImluaXRpYWxpemVNb2RlbCIsImluaXRpYWxpemVWaWV3IiwiY29udHJvbGxlciIsInJlZ2lzdGVyUHJveHkiLCJwcm94eSIsIm1vZGVsIiwicmV0cmlldmVQcm94eSIsInByb3h5TmFtZSIsInJlbW92ZVByb3h5IiwiaGFzUHJveHkiLCJyZWdpc3Rlck1lZGlhdG9yIiwibWVkaWF0b3IiLCJyZXRyaWV2ZU1lZGlhdG9yIiwibWVkaWF0b3JOYW1lIiwicmVtb3ZlTWVkaWF0b3IiLCJzbGVlcE1lZGlhdG9yIiwiYXdha2VNZWRpYXRvciIsImhhc01lZGlhdG9yIiwic2VuZE5vdGlmaWNhdGlvbiIsIl9hIiwibm90aWZ5T2JzZXJ2ZXJzIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJOb3RpZmllcl8xIiwiTWVkaWF0b3IiLCJfc3VwZXIiLCJ2aWV3Q29tcG9uZW50IiwiX3RoaXMiLCJjYWxsIiwibG9nTWVkaWF0b3IiLCJzbGVlcGluZyIsInN1YnNjcmliZWROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldE1lZGlhdG9yTmFtZSIsInNldFZpZXdDb21wb25lbnQiLCJnZXRWaWV3Q29tcG9uZW50Iiwib25SZWdpc3RlciIsIm9uUmVtb3ZlIiwib25TbGVlcCIsIm9uQXdha2UiLCJzdWJzY3JpYmVOb3RpZmljYXRpb24iLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJhZGRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZU5vdGlmaWNhdGlvbiIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImFjdGlvbiIsIm9sZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zIiwic2xpY2UiLCJjaGFuZ2VkIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImluZGV4T2YiLCJwdXNoIiwiaW5kZXgiLCJzcGxpY2UiLCJOb3RpZmllciIsInByb3h5TWFwIiwiZ2V0UHJveHlOYW1lIiwiRmFjYWRlXzEiLCJmYWNhZGUiLCJnZXRGYWNhZGUiLCJQcm94eSIsImRhdGEiLCJsb2dQcm94eSIsInNldERhdGEiLCJnZXREYXRhIiwiY29uc29sZUFyZ3MiLCJjb21tYW5kTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJFdmVudEVtaXR0ZXIiLCJtZWRpYXRvck1hcCIsImV2ZW50RW1pdHRlciIsIm9ic2VydmVyTWV0aG9kIiwiY29udGV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJlbWl0IiwicmVnaXN0ZXJPYnNlcnZlcnMiLCJvbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiYmluZCIsImlzU2xlZXBpbmciLCJyZW1vdmVPYnNlcnZlcnMiLCJpbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMSIsImludGVyZXN0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzIiLCJNZWRpYXRvcl8xIiwiUHJveHlfMSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJpIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJsZW4iLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJtb2R1bGUiLCJOYXZpZ2F0aW9uTm9kZSIsIngiLCJ5IiwieiIsImNvbm5lY3RlZE5vZGVzIiwib2NjdXBpZWQiLCJvdGhlck5vZGUiLCJmaW5kIiwibm9kZSIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGVkTm9kZUluZGV4IiwiZmluZEluZGV4IiwiZXF1YWxzIiwicGMiLCJjcmVhdGVTY3JpcHQiLCJpbml0aWFsaXplIiwiR2FtZU1hcE1lZGlhdG9yIiwibWFwR3JpZCIsInN1cGVyIiwiTkFNRSIsIkdhbWVDb21tYW5kcyIsIkdhbWVTdGF0ZVByb3h5Iiwidm8iLCJBcHBsaWNhdGlvbiIsImdldEFwcGxpY2F0aW9uIiwiR2FtZU1lZGlhdG9yIiwicGFyc2VHYW1lTWFwQ29tbWFuZCIsIm5hdmlnYXRpb25GbG9vcnMiLCJyb290IiwiZmluZEJ5VGFnIiwiY29tcGxldGVkR3JpZCIsIm5hdmlnYXRpb25Db21wb25lbnRzIiwiZmxvb3JFbnRpdHkiLCJuYXZDb21wIiwic2NyaXB0IiwiZmxvb3JHcmlkIiwiY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IiLCJzZXRHcmlkIiwibmF2aWdhdGlvbkNvbXAiLCJjb25uZWN0ZWRDb21wRW50aXR5IiwiY29ubmVjdGVkQ29tcG9uZW50cyIsImNvbm5lY3RlZE5hdkNvbXAiLCJqb2luVG9BZGphY2VudEdyaWQiLCJnZXRHcmlkIiwiR2FtZU1hcFByb3h5IiwiZ3JpZCIsImZsb29yUG9zaXRpb24iLCJnZXRMb2NhbFBvc2l0aW9uIiwiZmxvb3JTaXplIiwiZ2V0TG9jYWxTY2FsZSIsInNuYXBwZWRXaWR0aCIsIk1hdGgiLCJyb3VuZCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiZXF1YWxzUG9pbnQiLCJhZGRDb25uZWN0ZWROb2RlIiwiZ3JpZFRvSm9pbiIsIldlYXBvbnNQcm94eSIsIndlYXBvbk5hbWUiLCJkYW1hZ2VUaWVyIiwiY2F0ZWdvcnlLZXkiLCJjYXRlZ29yeSIsImRhbWFnZSIsIm1pbiIsInN0YXJ0dXBDb21tYW5kIiwiYXBwIiwid2VhcG9uc0RhdGEiLCJhc3NldHMiLCJyZXNvdXJjZSIsImNoYW5nZVNjZW5lQ29tbWFuZCIsInNjZW5lTmFtZSIsIm9sZEhpZXJhcmNoeSIsImZpbmRCeU5hbWUiLCJzY2VuZSIsInNjZW5lcyIsImxvYWRTY2VuZUhpZXJhcmNoeSIsInVybCIsImVyciIsInBhcmVudCIsImVycm9yIiwiZGVzdHJveSIsInNodWZmbGVBcnJheSIsImFycmF5IiwiY3VycmVudEluZGV4IiwidGVtcG9yYXJ5VmFsdWUiLCJyYW5kb21JbmRleCIsImZsb29yIiwicmFuZG9tIiwiQ29tYmF0Vk8iLCJDb21iYXRQcm94eSIsInBhcnRpY2lwYW50cyIsInBhcnRpY2lwYW50UHJveGllcyIsIk1hcCIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInNldCIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZGVsZXRlIiwiZmlsdGVyIiwiZSIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwiY2xlYW5QYXJ0aWNpcGFudHMiLCJjb21iYXRHcm91cCIsIml0ZW0iLCJwb3MiLCJzZWxmIiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsImVuZW15VHVybkNvbW1hbmQiLCJlbmVteUlkIiwiZW5lbXlQcm94eSIsImVuZW15Q3VycmVudE5vZGUiLCJjdXJyZW50Tm9kZSIsInBsYXllclByb3h5Iiwic29tZSIsIm4iLCJpZCIsInJlc3VsdCIsInJlZHVjZSIsImEiLCJkaXN0YW5jZVNxcnQiLCJwYXRoIiwiQXN0YXIiLCJhdmFpbGFibGVNb3ZlbWVudCIsImVuZFBvaW50IiwicDEiLCJwMiIsInBvdyIsInNlbGVjdGVkTm9kZUNvbW1hbmQiLCJnYW1lU3RhdGVQcm94eSIsImN1cnJlbnRNb2RlIiwiY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kIiwidGFyZ2V0Tm9kZSIsImdhbWVDaGFyYWN0ZXJQcm94eSIsIm1vdmVhYmxlTm9kZXMiLCJoYW5kbGVWYWxpZE1vdmUiLCJjaGFyYWN0ZXJQcm94eSIsInNob3dXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVOb2RlcyIsIndhbGthYmxlVGlsZUFzc2V0IiwiY29udGFpbmVyIiwidGlsZSIsImluc3RhbnRpYXRlIiwic2V0TG9jYWxQb3NpdGlvbiIsImFkZENoaWxkIiwiaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZVRpbGVFbnRpdGllcyIsIndhbGthYmxlVGlsZUVudGl0eSIsImF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIiwiZW5kTW92ZW1lbnRDb21tYW5kIiwiZW5kTm9kZSIsInNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJ0YXJnZXRDaGFyYWN0ZXJQcm94eSIsInBsYXllckNoYXJhY3RlclByb3h5IiwicGF0aFRvVGFyZ2V0IiwibmF2aWdhdGVUb0NoYXJhY3RlciIsInRhcmdldEN1cnJyZW50Tm9kZSIsImlzVGFyZ2V0QWRqYWNlbnQiLCJjdXJyZW50QWN0aW9uIiwidW5vY2N1cGllZE5vZGVzIiwicGxheWVyTm9kZSIsInNob3J0ZXN0UGF0aCIsIm90aGVyUGF0aCIsImNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQiLCJhY3Rpb25OYW1lIiwicmVzb2x2ZUF0dGFja0NvbW1hbmQiLCJhdHRhY2tlcklkIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVySWQiLCJkZWZlbmRlclByb3h5IiwiYXR0YWNrZXJSb2xsIiwicm9sbEF0dGFja1NraWxsIiwic2tpbGwiLCJkZWZlbmRlclJvbGwiLCJ3ZWFwb25zUHJveHkiLCJkZXRlcm1pbmVEYW1hZ2VUaWVyIiwiZ2V0RGFtYWdlIiwiYXBwbHlEYW1hZ2UiLCJpc0RlYWQiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwicm9sbERpY2UiLCJtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCIsInRhcmdldElkIiwidXNlTW92ZW1lbnQiLCJjaGFyYWN0ZXJNZWRpYXRvciIsIkdhbWVDaGFyYWN0ZXJNZWRpYXRvciIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UiLCJ0aGVuIiwia2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwicmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdCIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsIkdhbWVDaGFyYWN0ZXJWTyIsInBhcmFtcyIsIm1heE1vdmVtZW50IiwiYXZhaWxhYmxlQWN0aW9uIiwibWF4QWN0aW9uc1BlclR1cm4iLCJjb3N0IiwiZGFtYW5nZSIsImN1cnJlbnRTdGFtaW5hIiwibWF4aW11bVN0YW1pbmEiLCJhZ3JvQXJlYSIsIm1heFN0YW1pbmEiLCJtYXhMdWNrIiwiY3VycmVudEx1Y2siLCJhZHZhbmNlZFNraWxscyIsIkdhbWVNYXBWTyIsInRhcmdldFBvaW50IiwibmVhcmVzdE5vZGUiLCJkaXN0U3FydFRvTmVhcmVzdE5vZGUiLCJkaXN0VG9Ob2RlIiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5IiwiSW5maW5pdHkiLCJzdGFydCIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwicG9wIiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsInB0MSIsInB0MiIsImFicyIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwic2VsZWN0ZWRBY3Rpb24iLCJFWFBMT1JBVElPTiIsIkNPTUJBVCIsIkRJQUxPR1VFIiwiR2FtZUNoYXJhY3RlckNvbXBvbmVudCIsImF0dHJpYnV0ZXMiLCJhZGQiLCJ0eXBlIiwidGl0bGUiLCJkZWZhdWx0Iiwic2NoZW1hIiwicHJlcmVnaXN0ZXJOb3RpZmljYXRpb24iLCJwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwic3RhdHNPdmVycmlkZXMiLCJwcm94eVBhcmFtcyIsImNvbWJhdEdyb3VwTmFtZSIsImNvbXJhZGVFbnRpdGllcyIsImNvbXJhZGVFbnRpdHkiLCJjb21yYWRlSWQiLCJlbnRpdHkiLCJhbmltYXRpb24iLCJwbGF5Iiwic2V0UGF0aCIsImZpcmUiLCJsb29wIiwic3RvcE1vdmVtZW50IiwidXBkYXRlIiwiZHQiLCJtb3ZlQWxvbmdQYXRoIiwibmV4dFBhdGhQb2ludCIsImxvY2FsUG9zIiwibmV3UG9zaXRpb24iLCJWZWMzIiwic3BlZWQiLCJjaGFyYWN0ZXJTcGVlZCIsIm5vZGVQb2ludCIsInN1YjIiLCJub3JtYWxpemUiLCJtdWwiLCJsb29rQXRQb2ludCIsImRpc3RhbmNlIiwicG9pbnQiLCJkeCIsImR6IiwiYW5nbGVUb0Rlc3QiLCJhdGFuMiIsIlBJIiwic2V0RXVsZXJBbmdsZXMiLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlSGl0IiwiYW5pbWF0ZUF0dGFjayIsInVwZGF0ZUN1cnJlbnROb2RlIiwiaGFuZGxlRmluaXNoZWRNb2RlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJnYW1lTWFwUHJveHkiLCJmaW5kTmVhcmVzdE5vZGUiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJuZXdOb2RlIiwic2VhcmNoTm9kZSIsInNlYXJjaEFyZWEiLCJJbnB1dExheWVyTWVkaWF0b3IiLCJoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyIiwiaGFuZGxlUGlja2VyTmF2aWdhdGlvbiIsImhhbmRsZVNjcm9sbGluZyIsImNoYXJhY3RlckVudGl0eSIsImRpcmVjdGlvbiIsIkdhbWVDYW1lcmEiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsInRhcmdldFoiLCJjb3MiLCJjYW1lcmFUYXJnZXRQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwiY3VycmVudFBvcyIsInR3ZWVuWCIsInR3ZWVuWSIsInR3ZWVuWiIsImxvb2tBdCIsIklucHV0TGF5ZXJDb21wb25lbnQiLCJyYXkiLCJSYXkiLCJpbnB1dFF1ZXVlIiwibW91c2UiLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJjbGlja0Rvd25TdGFydCIsImlzRHJhZ2dpbmciLCJoYW5kbGVQaWNrZXJSZXN1bHQiLCJFVkVOVF9NT1VTRU1PVkUiLCJvbk1vdXNlTW92ZSIsImVsZW1lbnQiLCJFVkVOVF9NT1VTRURPV04iLCJvbk1vdXNlRG93biIsIkVWRU5UX01PVVNFVVAiLCJvbk1vdXNlVXAiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJnZXRQb3NpdGlvbiIsInN1YiIsInBpY2tlZEVudGl0eSIsImhpdFBvc2l0aW9uIiwic2NyZWVuUG9zIiwic2NyZWVuUG9zaXRpb24iLCJwcm9jZXNzSW5wdXRRdWV1ZSIsImhpZ2hlc3RQcmlvcml0eVBpY2siLCJoaWdoZXN0UHJpb3JpdHkiLCJwaWNrIiwidGFncyIsInBpY2tlZEdhbWVDaGFyYWN0ZXIiLCJwaWNrZWROYXZpZ2F0aW9uIiwiZ2V0TmVhcmVzdE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiQ2Fjb2dlbkdhbWUiLCJLRVkiLCJOYXZpZ2F0aW9uQ29tcG9uZW50Iiwic2NhbGUiLCJoYWxmRXh0ZW50cyIsImFhYmIiLCJCb3VuZGluZ0JveCIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwiaW50ZXJzZWN0c1JheSIsIm5vZGVHcmlkIiwiQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJoYW5kbGVNYXBHcmlkQ3JlYXRlZCIsImhhbmRsZU1vdmVkVG9Ob2RlIiwic2lnaHRSYW5nZSIsImFncm9Ob2RlIiwiVG9hc3RNZXNzYWdlTWVkaWF0b3IiLCJhZGRNZXNzYWdlIiwiVG9hc3RNZXNzYWdlQ29tcG9uZW50IiwibWVzc2FnZVF1ZXVlIiwiY3VycmVudFRpbWVvdXQiLCJtZXNzYWdlIiwic2hvd05leHRNZXNzYWdlIiwibmV4dE1lc3NhZ2UiLCJsYWJlbEVudGl0eSIsInRleHQiLCJtZXNzYWdlVGltZSIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwiSGl0Ym94Q29tcG9uZW50IiwiY2VudGVyIiwiQWN0aW9uUGFuZWxNZWRpYXRvciIsImhhbmRsZUNsaWNrQWN0aW9uQnV0dG9uIiwic2VsZWN0QWN0aW9uIiwiQWN0aW9uQnV0dG9uQ29tcG9uZW50IiwiaGlnaGxpZ2h0RW50aXR5IiwiaGFuZGxlQ2hhbmdlQWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJBY3Rpb25QYW5lbENvbXBvbmVudCIsImJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hNT1ZFIiwiRVZFTlRfVE9VQ0hFTkQiLCJzdGFydHVwIl0sIm1hcHBpbmdzIjoid0NBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlDLEVBQVksRUFBUSxLQUNwQkMsRUFBUyxFQUFRLEtBRWpCQyxFQUE0QixXQUM1QixTQUFTQSxFQUFXQyxHQUVoQixHQURBQyxLQUFLQyxXQUFhLEdBQ2RILEVBQVdJLFlBQVlILEdBQ3ZC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QUFpQixJQUFJMmtCLEVBQW9CbG9CLEtBQUtzZCxVQUc5RG1MLEVBQXFCNW5CLFVBQVV1bkIsYUFBZSxTQUFVNVEsR0FDcEQsSUFBSyxNQUFNa1IsS0FBVTFvQixLQUFLMm9CLGNBQ3RCRCxFQUFPaEwsS0FBSyxnQkFBaUJsRyxJQ3BCSmpMLEdBQUdDLGFBQWEscUJBRS9CM0wsVUFBVTRMLFdBQWEsV0FDckN6TSxLQUFLc2QsT0FBTytGLFFBQVE5YSxHQUFHZ0UsR0FBRytXLGlCQUFrQnJaLElBQ3hDQSxFQUFJMmUscUJBR1I1b0IsS0FBS3NkLE9BQU8rRixRQUFROWEsR0FBR2dFLEdBQUcrVyxpQkFBa0JyWixJQUN4Q0EsRUFBSTJlLHFCQUdSNW9CLEtBQUtzZCxPQUFPK0YsUUFBUTlhLEdBQUdnRSxHQUFHc2Msa0JBQW1CNWUsSUFDekNBLEVBQUkyZSxxQkFHUjVvQixLQUFLc2QsT0FBTytGLFFBQVE5YSxHQUFHZ0UsR0FBR3VjLGlCQUFrQjdlLElBQ3hDQSxFQUFJMmUscUJBR1I1b0IsS0FBS3NkLE9BQU8rRixRQUFROWEsR0FBR2dFLEdBQUd3YyxnQkFBaUI5ZSxJQUN2Q0EsRUFBSTJlLHNCQ3BCWixNQUFReG1CLE9BQU0sR0FBSyxFQUFRLE1BQ3JCLFFBQUU5QixHQUFZLEVBQVEsS0EwQmYsSUFaYixNQUNJLGNBQ0l5SCxRQUFRQyxJQUFJLGNBQ1oxSCxFQUFRQyxPQUFRLEVBQ2hCLEVBQU9LLFlBQWN1WSxFQUFXLFdBQVgsWUFDckJwUixRQUFRQyxJQUFJLEdBRVpoSSxLQUFLc0gsT0FBUyxFQUFPMUcsWUFBWXVZLEVBQVcsV0FBWCxLQUNqQ25aLEtBQUtzSCxPQUFPMGhCLFFBQVFocEIsUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiY29udHJvbGxlciBrZXkgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWRcIjtcbnZhciBDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoa2V5KSB7XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcCA9IHt9O1xuICAgICAgICBpZiAoQ29udHJvbGxlci5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nQ29tbWFuZCA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgQ29udHJvbGxlcihrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gPSBjb21tYW5kQ2xhc3NSZWY7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmV4ZWN1dGVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIGlmICghY29tbWFuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kLm5hbWUpO1xuICAgICAgICBjb21tYW5kLmFwcGx5KHZvaWQgMCwgW3RoaXMubXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRDRCRkUwXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiM4NzI0QkRcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIlxuICAgIF07XG4gICAgQ29udHJvbGxlci5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9Db250cm9sbGVyXCIpO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9Nb2RlbFwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJGYWNhZGUgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgRmFjYWRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2FkZShrZXkpIHtcbiAgICAgICAgaWYgKEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTm90aWZpY2F0aW9uIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTm90aWZpZXIoa2V5KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplRmFjYWRlKCk7XG4gICAgfVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5oYXNDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBGYWNhZGUucmVtb3ZlQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RlbF8xLk1vZGVsLnJlbW92ZU1vZGVsKGtleSk7XG4gICAgICAgIFZpZXdfMS5WaWV3LnJlbW92ZVZpZXcoa2V5KTtcbiAgICAgICAgQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlcihrZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplRmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVnaXN0ZXJDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVtb3ZlQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICB0aGlzLm1vZGVsLnJlZ2lzdGVyUHJveHkocHJveHkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZXRyaWV2ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmVtb3ZlUHJveHkocHJveHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmhhc1Byb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyTWVkaWF0b3IobWVkaWF0b3IpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJldHJpZXZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmVtb3ZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zbGVlcE1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuYXdha2VNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oYXNNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5hcHBseSh0aGlzLCBbRmFjYWRlLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgKF9hID0gdGhpcy52aWV3KS5ub3RpZnlPYnNlcnZlcnMuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsID0gTW9kZWxfMS5Nb2RlbC5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzJGMkUxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjRkZGMzI1XCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCJcbiAgICBdO1xuICAgIEZhY2FkZS5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBGYWNhZGU7XG59KCkpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNhZGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJNZWRpYXRvclwiO1xudmFyIE1lZGlhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZWRpYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZWRpYXRvcihtZWRpYXRvck5hbWUsIHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dNZWRpYXRvciA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIF90aGlzLm1lZGlhdG9yTmFtZSA9IG1lZGlhdG9yTmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgX3RoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwibm90aWZpY2F0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRNZWRpYXRvck5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTmFtZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25TbGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInNsZWVwXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uQXdha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwiYXdha2VcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcImlzU2xlZXBpbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsZWVwaW5nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5hZGRTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnVuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmNoYW5nZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9sZE5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuc2xpY2UoKTtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwoX3RoaXMsIG5vdGlmaWNhdGlvbikgfHwgY2hhbmdlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKHRoaXMsIG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkICYmIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSh0aGlzLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnJlbW92ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Y0RjZGRVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMzY1NkMxXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCJcbiAgICBdO1xuICAgIHJldHVybiBNZWRpYXRvcjtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVkaWF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTVVMVElUT05fTVNHID0gXCJNb2RlbCBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RlbChrZXkpIHtcbiAgICAgICAgdGhpcy5wcm94eU1hcCA9IHt9O1xuICAgICAgICBpZiAoTW9kZWwuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICB9XG4gICAgTW9kZWwuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IE1vZGVsKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnJlbW92ZU1vZGVsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgcHJveHkuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICB0aGlzLnByb3h5TWFwW3Byb3h5LmdldFByb3h5TmFtZSgpXSA9IHByb3h5O1xuICAgICAgICBwcm94eS5vblJlZ2lzdGVyKCk7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5wcm94eU1hcFtwcm94eU5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgcHJveHkgPSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICBwcm94eS5vblJlbW92ZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgTW9kZWwuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gTW9kZWw7XG59KCkpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vRmFjYWRlXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwibXVsdGl0b25LZXkgZm9yIHRoaXMgTm90aWZpZXIgbm90IHlldCBpbml0aWFsaXplZCFcIjtcbnZhciBOb3RpZmllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmllcigpIHtcbiAgICB9XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5mYWNhZGUgPSB0aGlzLmdldEZhY2FkZSgpO1xuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmZhY2FkZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5mYWNhZGUpLnNlbmROb3RpZmljYXRpb24uYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuZ2V0RmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tdWx0aXRvbktleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZV8xLkZhY2FkZS5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmllcjtcbn0oKSk7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJQcm94eVwiO1xudmFyIFByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm94eSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm94eShwcm94eU5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJveHlOYW1lID0gcHJveHlOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nUHJveHkgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb3h5LnByb3RvdHlwZS5nZXRQcm94eU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TmFtZTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBQcm94eS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzEwMjQxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMjdEMDRDXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCJcbiAgICBdO1xuICAgIHJldHVybiBQcm94eTtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJveHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXJlTVZDKCkge1xuICAgIH1cbiAgICBQdXJlTVZDLmxvZ0NvbW1hbmQgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmROYW1lKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIiA9PiAgXCIgKyBjb21tYW5kTmFtZSArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCI6IGFyZ3MgWyBcIiArIGFyZ3MgKyBcIiBdICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ01lZGlhdG9yID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ1Byb3h5ID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vbmUgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgIHJldHVybiBQdXJlTVZDO1xufSgpKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdXJlTVZDLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiVmlldyBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXcoa2V5KSB7XG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIGlmIChWaWV3Lmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9XG4gICAgVmlldy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgVmlldyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnJlbW92ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5ldmVudEVtaXR0ZXIpLmVtaXQuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICBpZiAodGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYXRvci5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBtZWRpYXRvciBmb3IgcmV0cmlldmFsIGJ5IG5hbWVcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0gPSBtZWRpYXRvcjtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgIG1lZGlhdG9yLm9uUmVnaXN0ZXIodGhpcy5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKCFtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBhd2FrZW5cbiAgICAgICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1lZGlhdG9yIGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gc2xlcHRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IG5vdGlmaWNhdGlvbiB0aGUgbWVkaWF0b3IgaXMgaW50ZXJlc3RlZCBpbi4uLlxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMSA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMVtfaV07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJlc3RcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBnZXQgbm90aWZpY2F0aW9uIGludGVyZXN0cyBpZiBhbnlcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYXRvciBhcyBhbiBvYnNlcnZlciBmb3IgZWFjaCBub3RpZmljYXRpb25cbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18yID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18yW19pXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgfTtcbiAgICBWaWV3Lmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIFZpZXc7XG59KCkpO1xuZXhwb3J0cy5WaWV3ID0gVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0NvbnRyb2xsZXJcIik7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlcjtcbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9GYWNhZGVcIik7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZV8xLkZhY2FkZTtcbnZhciBNZWRpYXRvcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01lZGlhdG9yXCIpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yXzEuTWVkaWF0b3I7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Nb2RlbFwiKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbF8xLk1vZGVsO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTm90aWZpZXJcIik7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXJfMS5Ob3RpZmllcjtcbnZhciBQcm94eV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1Byb3h5XCIpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5XzEuUHJveHk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1B1cmVNVkNcIik7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDXzEuUHVyZU1WQztcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvVmlld1wiKTtcbmV4cG9ydHMuVmlldyA9IFZpZXdfMS5WaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Ob2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kKG5vZGUgPT4gbm9kZS54ID09PSBvdGhlck5vZGUueFxuICAgICAgICAgICAgJiYgbm9kZS55ID09PSBvdGhlck5vZGUueSAmJiBub2RlLnogPT09IG90aGVyTm9kZS56KSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gb3RoZXJOb2RlLnggJiYgdGhpcy55ID09PSBvdGhlck5vZGUueSAmJiB0aGlzLnogPT09IG90aGVyTm9kZS56O1xuICAgIH1cblxuICAgIGVxdWFsc1BvaW50KHgsIHksIHopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHkgJiYgdGhpcy56ID09PSB6O1xuICAgIH1cblxuICAgIGFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZChvdGhlck5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnB1c2gob3RoZXJOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVJbmRleCA9IHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZEluZGV4KG5vZGUgPT4gbm9kZS5lcXVhbHMob3RoZXJOb2RlKSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMuc3BsaWNlKGNvbm5lY3RlZE5vZGVJbmRleCwgMSk7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBHYW1lTWFwQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lTWFwQ29tcG9uZW50Jyk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lTWFwQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwQ29tcG9uZW50IH0gZnJvbSAnLi9HYW1lTWFwQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQpIHtcbiAgICAgICAgc3VwZXIoR2FtZU1hcE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGFwcCkge1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJjb25zdCB7IEdhbWVNZWRpYXRvciB9ID0gcmVxdWlyZSgnLi4vdmlldy9HYW1lTWVkaWF0b3InKTtcbmltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVNYXBNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZU1hcC9HYW1lTWFwTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlR2FtZU1hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAvLyBPbmNlIGEgZ2FtZU1hcCBzY2VuZSBpcyBsb2FkZWQsIHBhcnNlIGdhbWVNYXAgVk8sIGdlbmVyYXRlIG5hdiBtZXNoLCBldGNcbiAgICBjb25zb2xlLmxvZygnUGFyc2UgbWFwJyk7XG5cbiAgICAvLyBHZXQgbmF2aWdhdGlvbiBmbG9vcnNcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IG5hdmlnYXRpb25GbG9vcnMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ25hdmlnYXRpb25fZmxvb3InKTtcblxuICAgIGxldCBjb21wbGV0ZWRHcmlkID0gW107XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uQ29tcG9uZW50cyA9IFtdO1xuICAgIC8vIEZpcnN0IHBhcnNlIC0gY3JlYXRlIG5vZGVzIGFuZCBjb25uZWN0aW9ucyBmb3IgaW5kaXZpZHVhbCBcbiAgICAvLyBuYXZpZ2F0aW9uIGNvbXBvbmVudHNcbiAgICBmb3IgKGNvbnN0IGZsb29yRW50aXR5IG9mIG5hdmlnYXRpb25GbG9vcnMpIHtcbiAgICAgICAgY29uc3QgbmF2Q29tcCA9IGZsb29yRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgICAgICBuYXZpZ2F0aW9uQ29tcG9uZW50cy5wdXNoKG5hdkNvbXApO1xuXG4gICAgICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KVxuICAgICAgICBuYXZDb21wLnNldEdyaWQoZmxvb3JHcmlkKTtcbiAgICB9XG5cbiAgICAvLyBTZWNvbmQgcGFyc2UgLSBzdGl0Y2ggdG9nZXRoZXIgYWRqYWNlbnQgbm9kZXMgaW4gXG4gICAgLy8gY29ubmVjdGVkIG5hdmlnYXRpb24gbWVzaGVzXG4gICAgZm9yIChjb25zdCBuYXZpZ2F0aW9uQ29tcCBvZiBuYXZpZ2F0aW9uQ29tcG9uZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbm5lY3RlZENvbXBFbnRpdHkgb2YgbmF2aWdhdGlvbkNvbXAuY29ubmVjdGVkQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkTmF2Q29tcCA9IGNvbm5lY3RlZENvbXBFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG5cbiAgICAgICAgICAgIGpvaW5Ub0FkamFjZW50R3JpZChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCksIGNvbm5lY3RlZE5hdkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZEdyaWQgPSBjb21wbGV0ZWRHcmlkLmNvbmNhdChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgbWVkaWF0b3JzXG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lTWFwUHJveHkoY29tcGxldGVkR3JpZCkpO1xuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZU1hcE1lZGlhdG9yKCkpO1xuXG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cblxuXG4gICAgZm9yIChsZXQgeiA9IHNuYXBwZWRaOyB6IDwgc25hcHBlZFogKyBzbmFwcGVkQnJlYWR0aDsgeisrKSB7XG4gICAgICAgIGZvciAobGV0IHggPSBzbmFwcGVkWDsgeCA8IHNuYXBwZWRYICsgc25hcHBlZFdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTmF2aWdhdGlvbk5vZGUoeCwgc25hcHBlZFksIHopO1xuICAgICAgICAgICAgZ3JpZC5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZCkge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmlkO1xufVxuXG5mdW5jdGlvbiBqb2luVG9BZGphY2VudEdyaWQoZ3JpZCwgZ3JpZFRvSm9pbikge1xuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWRUb0pvaW4pIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudm8pO1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlbd2VhcG9uTmFtZV0uZGFtYWdlW01hdGgubWluKGRhbWFnZVRpZXIgLSAxLCA2KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgIC8vIFJlZ2lzdGVyIGFwcC1sZXZlbCBtZWRpYXRvcnMvcHJveGllcy9jb21tYW5kcyBoZXJlXG5cbiAgICAvLyBDcmVhdGUgZ2FtZSBzdGF0ZSBwcm94eVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgR2FtZVN0YXRlUHJveHkoKSk7XG5cbiAgICAvLyBMb2FkIHdlYXBvbnMgZGF0YSBhbmQgY3JlYXRlIHByb3h5XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBpZiAoYXBwKSB7XG4gICAgICAgIGNvbnN0IHdlYXBvbnNEYXRhID0gYXBwLmFzc2V0cy5nZXQoNDA0MTU2MzEpLnJlc291cmNlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IFdlYXBvbnNQcm94eSh3ZWFwb25zRGF0YSkpO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU2NlbmVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBzY2VuZU5hbWUgPSBhcmdzWzBdO1xuICAgIGNvbnNvbGUubG9nKGBDaGFuZ2luZyBzY2VuZSAke3NjZW5lTmFtZX1gKTtcblxuICAgIC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgc2NlbmUncyByb290IG9iamVjdFxuICAgIGNvbnN0IG9sZEhpZXJhcmNoeSA9IGFwcC5yb290LmZpbmRCeU5hbWUoJ1Jvb3QnKTtcblxuICAgIC8vIEdldCB0aGUgcGF0aCB0byB0aGUgc2NlbmVcbiAgICBjb25zdCBzY2VuZSA9IGFwcC5zY2VuZXMuZmluZChzY2VuZU5hbWUpO1xuXG4gICAgLy8gTG9hZCB0aGUgc2NlbmVzIGVudGl0eSBoaWVyYXJjaHlcbiAgICBhcHAuc2NlbmVzLmxvYWRTY2VuZUhpZXJhcmNoeShzY2VuZS51cmwsIGZ1bmN0aW9uIChlcnIsIHBhcmVudCkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgaWYgKG9sZEhpZXJhcmNoeSkge1xuICAgICAgICAgICAgICAgIG9sZEhpZXJhcmNoeS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgc2NlbmVOYW1lKTtcblxuICAgIH0pO1xufSIsImV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoXG4gICAgbGV0IHRlbXBvcmFyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGxldCByYW5kb21JbmRleCA9IC0xO1xuXG4gICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGUuLi5cbiAgICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW50Li4uXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcbiAgICAgICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAgICAgLy8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IGFycmF5W2N1cnJlbnRJbmRleF07XG4gICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgICAgIGFycmF5W3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHNodWZmbGVBcnJheSB9IGZyb20gJy4uLy4uL3V0aWxzL1NodWZmbGVBcnJheSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IENvbWJhdFZPIH0gPSByZXF1aXJlKCcuL0NvbWJhdFZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIENvbWJhdFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNvbWJhdFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cykge1xuICAgICAgICBzdXBlcihDb21iYXRQcm94eS5OQU1FLCBuZXcgQ29tYmF0Vk8ocGFydGljaXBhbnRzKSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5zZXQocGFydGljaXBhbnQsIHBhcnRpY2lwYW50UHJveHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFR1cm4oKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlO1xuXG4gICAgICAgIGlmIChyb3VuZEluaXRpYXRpdmUgJiYgcm91bmRJbml0aWF0aXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUdXJuSWQgPSByb3VuZEluaXRpYXRpdmUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSBuZXh0VHVybklkO1xuXG4gICAgICAgICAgICBpZiAobmV4dFR1cm5JZCAhPT0gJ2VuZF9yb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBOZXh0IFR1cm5cbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBUdXJuICR7bmV4dFR1cm5JZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMucGFydGljaXBhbnRQcm94aWVzLmdldChuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICBwcm94eS5yZXNldENvbWJhdFR1cm5TdGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3h5LmlzTlBDKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBlbmQgb2Ygcm91bmQgdG9rZW5cbiAgICAgICAgaW5pdGlhdGl2ZXMucHVzaCgnZW5kX3JvdW5kJyk7XG5cbiAgICAgICAgbGV0IHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShpbml0aWF0aXZlcyk7XG4gICAgICAgIC8vIGVuc3VyZSByb3VuZCBkb2Vzbid0IHN0YXJ0IHdpdGggXCJlbmRfcm91bmRcIlxuICAgICAgICB3aGlsZSAoc2h1ZmZsZWRJbml0aWF0aXZlWzBdID09PSBcImVuZF9yb3VuZFwiKSB7XG4gICAgICAgICAgICBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoc2h1ZmZsZWRJbml0aWF0aXZlKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSBzaHVmZmxlZEluaXRpYXRpdmU7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm5leHRUdXJuQ2hhcmFjdGVySWQ7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGl2ZVBhcnRpY2lwYW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudDtcbiAgICB9XG5cbiAgICBzZXQgYWN0aXZlUGFydGljaXBhbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcGFydGljY2lwYW50c1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5kZWxldGUoY2hhcmFjdGVySWQpO1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBpbml0aWF0aXZlXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmUuZmlsdGVyKGUgPT4gZSAhPT0gY2hhcmFjdGVySWQpO1xuICAgIH1cblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJTdGFydCBDb21iYXRcIik7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKTtcblxuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQpO1xuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCBkaXJ0eVBhcnRpY2lwYW50cyA9IFsncGxheWVyJ10uY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQpLmNvbmNhdChpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5LmNvbWJhdEdyb3VwKTtcbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIGNvbnN0IGNsZWFuUGFydGljaXBhbnRzID0gZGlydHlQYXJ0aWNpcGFudHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3M7XG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNsZWFuUGFydGljaXBhbnRzKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfTU9WRU1FTlQgKyBwYXJ0aWNpcGFudCk7XG5cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IG5ldyBDb21iYXRQcm94eShjbGVhblBhcnRpY2lwYW50cyk7XG4gICAgLy8gY29uc29sZS5sb2cocGFydGljaXBhbnRzKTtcbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShjb21iYXRQcm94eSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICB9LCAyMDAwKTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRUdXJuKCk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRSb3VuZENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFJvdW5kKCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS52by5uZXh0VHVybkNoYXJhY3RlcklkKTtcblxuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5Lm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuICAgIH0sIDUwMCk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgLy8gd2UncmUgYWxyZWFkeSB0aGVyZVxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgZW5lbXlQcm94eS5pZCwgcGxheWVyUHJveHkuaWQpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChlbmVteUN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChlbmVteUN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGVuZW15Q3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IHZvID0gZW5lbXlQcm94eS52bztcbiAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSBwYXRoWzBdO1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnRJc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVuZFBvaW50KSk7XG5cbiAgICAgICAgICAgIGlmIChlbmRwb2ludElzQWRqYWNlbnQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIGVuZW15SWQsIFwicGxheWVyXCIsIHBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGVuZW15SWQsIHBhdGgpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGVuZW15UHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eVwiO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZE5vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5vZGUgPSBhcmdzWzBdO1xuXG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3Qgdm8gPSBnYW1lQ2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIG1vdmVhYmxlTm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuZXF1YWxzKHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICBoYW5kbGVWYWxpZE1vdmUoZmFjYWRlLCBnYW1lQ2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVWYWxpZE1vdmUoZmFjYWRlLCBjaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSkge1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgodm8uY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB2by5hdmFpbGFibGVNb3ZlbWVudCAtPSAocGF0aC5sZW5ndGggLSAxKTsgLy8gRGV0cmFjdCBieSBvbmUuLi4gdGhlIGZpcnN0IHBhdGggbm9kZSBkb2Vzbid0IGNvdW50XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdm8uaWQsIHBhdGgpO1xuICAgIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB3YWxrYWJsZU5vZGVzID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHdhbGthYmxlVGlsZUFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDAyMzU5NjYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygd2Fsa2FibGVOb2Rlcykge1xuICAgICAgICBjb25zdCB0aWxlID0gd2Fsa2FibGVUaWxlQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgdGlsZS5zZXRMb2NhbFBvc2l0aW9uKG5vZGUueCwgbm9kZS55LCBub2RlLnopO1xuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGlsZSk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHdhbGthYmxlVGlsZUVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCd3YWxrYWJsZV90aWxlJyk7XG4gICAgZm9yIChjb25zdCB3YWxrYWJsZVRpbGVFbnRpdHkgb2Ygd2Fsa2FibGVUaWxlRW50aXRpZXMpIHtcbiAgICAgICAgd2Fsa2FibGVUaWxlRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1dBTEtBQkxFX0FSRUEsIG1vdmVhYmxlTm9kZXMpO1xuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tIFwiLi9HYW1lQ29tbWFuZHNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZE1vdmVtZW50Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZE5vZGUgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGVuZE5vZGU7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBpZiAoZ2FtZVN0YXRlLmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcbiAgICAgICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcblxuICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgXCJwbGF5ZXJcIiwgcGF0aFRvVGFyZ2V0KTtcblxuICAgICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKCFjb21iYXRQcm94eSB8fCBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgLy8gbm90IHlvdXIgdHVyblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgIC8vIHBhdGggbGVuZ3RoIGluY2x1ZGVzIGN1cnJlbnQgbm9kZSwgc28gZGVkdWN0IG9uIHRvIHdvcmsgb3V0IGFjdHVhbCBtb3ZlYWJsZSBkaXN0YW5jZVxuICAgICAgICAgICAgaWYgKHBhdGhUb1RhcmdldCAmJiBwYXRoVG9UYXJnZXQubGVuZ3RoIC0gMSA8PSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS52by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmlkLCBwYXRoVG9UYXJnZXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgXCJwbGF5ZXJcIiwgcGF0aFRvVGFyZ2V0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJDYW5ub3QgcmVhY2ggdGFyZ2V0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgdGFyZ2V0Q3VycnJlbnROb2RlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICByZXR1cm4gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHRhcmdldEN1cnJyZW50Tm9kZSkpO1xufSIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSBhY3Rpb25OYW1lKSB7XG4gICAgICAgIC8vIERlc2VsZWN0IGFjdGlvblxuICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJub25lXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IGFjdGlvbk5hbWU7XG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfUExBWUVSX0FDVElPTiwgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbik7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgY29uc3QgZGVmZW5kZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdpbm5lclxuICAgIGlmIChhdHRhY2tlclJvbGwgPT09IGRlZmVuZGVyUm9sbCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKFwic3dvcmRcIiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGRlZmVuZGVyUm9sbCwgYXR0YWNrZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoXCJzd29yZFwiLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2RlZmVuZGVySWR9IGRhbWFnZXMgJHthdHRhY2tlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5mdW5jdGlvbiByb2xsQXR0YWNrU2tpbGwoc2tpbGwpIHtcbiAgICByZXR1cm4gc2tpbGwgKyByb2xsRGljZSgpICsgcm9sbERpY2UoKTtcbn1cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0SWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IHBhdGggPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS51c2VNb3ZlbWVudChwYXRoLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cbiAgICBjb25zdCBmaW5pc2hNb3ZlUHJvbWlzZSA9IGNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCk7XG4gICAgZmluaXNoTW92ZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgY2hhcmFjdGVySWQsIHRhcmdldElkKTtcblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuXG5leHBvcnQgZnVuY3Rpb24ga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBpZiAoY2hhcmFjdGVyUHJveHkpIHtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICBjb21iYXRQcm94eS5yZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBwYXJzZUdhbWVNYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnR1cENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlU2NlbmVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZVNjZW5lQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydENvbWJhdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kJztcbmltcG9ydCB7IGVuZENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IGVuZW15VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5lbXlUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZE5vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TaG93V2Fsa2FibGVBcmVhQ29tbWFuZCc7XG5pbXBvcnQgeyBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCc7XG5pbXBvcnQgeyBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCc7XG5pbXBvcnQgeyBlbmRNb3ZlbWVudENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZUF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIGNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgR2FtZUNvbW1hbmRzIHtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORV9DT01QTEVURSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFQUF9JTklUSUFMSVNFRCgpIHsgcmV0dXJuIFwiQVBQX0lOSVRJQUxJU0VEXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBBUlNFX0dBTUVNQVAoKSB7IHJldHVybiBcIlBBUlNFX0dBTUVNQVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFQX0dSSURfQ1JFQVRFRCgpIHsgcmV0dXJuIFwiTUFQX0dSSURfQ1JFQVRFRFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ09NQkFUX05BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIkNPTUJBVF9OQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DQU1FUkFfVEFSR0VUKCkgeyByZXR1cm4gXCJTRVRfQ0FNRVJBX1RBUkdFVFwiIH07XG4gICAgc3RhdGljIGdldCBJTlBVVF9EUkFHX01PVVNFKCkgeyByZXR1cm4gXCJJTlBVVF9EUkFHX01PVVNFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTU9WRURfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTU9WRURfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBGSU5JU0hFRF9NT1ZFKCkgeyByZXR1cm4gXCJGSU5JU0hFRF9NT1ZFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0NPTUJBVCgpIHsgcmV0dXJuIFwiU1RBUlRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfVE9BU1RfTUVTU0FHRSgpIHsgcmV0dXJuIFwiU0hPV19UT0FTVF9NRVNTQUdFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9ST1VORCgpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfUk9VTkRcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIkVORF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBFTkVNWV9UVVJOKCkgeyByZXR1cm4gXCJFTkVNWV9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVEVEX05PREUoKSB7IHJldHVybiBcIlNFTEVDVEVEX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9BTE9OR19QQVRIKCkgeyByZXR1cm4gXCJOQVZJR0FURV9BTE9OR19QQVRIXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0hPV19XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJTSE9XX1dBTEtBQkxFX0FSRUFcIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJISURFX1dBTEtBQkxFX0FSRUFcIiB9O1xuXG5cbiAgICBzdGF0aWMgZ2V0IEVORF9NT1ZFTUVOVCgpIHsgcmV0dXJuIFwiRU5EX01PVkVNRU5UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQoKSB7IHJldHVybiBcIkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NIQVJBQ1RFUl9UT19OT0RFKCkgeyByZXR1cm4gXCJTRVRfQ0hBUkFDVEVSX1RPX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRUxFQ1RfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIlNFTEVDVF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFVF9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJTRVRfUExBWUVSX0FDVElPTlwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX1BMQVlFUl9BQ1RJT04oKSB7IHJldHVybiBcIkRJU1BMQVlfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuXG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9uID0gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICB1c2VNb3ZlbWVudChjb3N0KSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gY29zdDtcbiAgICB9XG5cbiAgICBhcHBseURhbWFnZShkYW1hbmdlKSB7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgLT0gZGFtYW5nZTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlkO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudE5vZGU7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnROb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBjb21iYXRHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgZ2V0IGlzTlBDKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pc05QQztcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlQWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9uO1xuICAgIH1cblxuICAgIGdldCBza2lsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2tpbGw7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTdGFtaW5hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEx1Y2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIGdldCBpc0RlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIDw9IDA7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHBhcmFtcy5pZDtcbiAgICAgICAgdGhpcy5pc05QQyA9IHBhcmFtcy5pc05QQztcbiAgICAgICAgdGhpcy5jb21iYXRHcm91cCA9IHBhcmFtcy5jb21iYXRHcm91cCB8fCBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hZ3JvQXJlYSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUcm9pa2Egc3RhdHNcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlID0gMjtcbiAgICAgICAgdGhpcy5tYXhNb3ZlbWVudCA9IDY7XG4gICAgICAgIHRoaXMubWF4QWN0aW9uc1BlclR1cm4gPSAxO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbiA9IHRoaXMubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG4gICAgICAgIHRoaXMuc2tpbGwgPSBwYXJhbXMuc2tpbGwgfHwgMTtcblxuICAgICAgICB0aGlzLm1heFN0YW1pbmEgPSBwYXJhbXMubWF4U3RhbWluYSB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGFtaW5hID0gdGhpcy5tYXhTdGFtaW5hO1xuXG4gICAgICAgIHRoaXMubWF4THVjayA9IHBhcmFtcy5tYXhMdWNrIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudEx1Y2sgPSB0aGlzLm1heEx1Y2s7XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNraWxscyA9IHBhcmFtcy5hZHZhbmNlZFNraWxscyB8fCB7fTtcblxuXG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQpIHtcbiAgICAgICAgc3VwZXIoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgICBtYXBHcmlkOiBtYXBHcmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG5cbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdE5vZGUodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWFwR3JpZCA9IHRoaXMudm8ubWFwR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBtYXBHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG1hcEdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVNYXBWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwR3JpZCA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHB1c2godmFsdWUsIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5kYXRhW2ldLnByaW9yaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGgubWluKG1pbiwgcHJpb3JpdHkpID09PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IHByaW9yaXR5O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSlbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGhcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufSIsImltcG9ydCB7IFByaW9yaXR5UXVldWUgfSBmcm9tICcuL1ByaW9yaXR5UXVldWUnO1xuXG5leHBvcnQgY2xhc3MgQXN0YXIge1xuICAgIHN0YXRpYyBicmVhZHRoRmlyc3RTZWFyY2goc3RhcnQsIHJhbmdlTGltaXQpIHtcbiAgICAgICAgbGV0IGZyb250aWVyID0gW107XG4gICAgICAgIGNvbnN0IHNlYXJjaGVkQXJlYSA9IFtdO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0KTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG5cbiAgICAgICAgbGV0IHJhbmdlID0gMDtcblxuICAgICAgICB3aGlsZSAoZnJvbnRpZXIubGVuZ3RoID4gMCAmJiByYW5nZSA8IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Zyb250aWVyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZnJvbnRpZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY2FtZUZyb20uaGFzKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RnJvbnRpZXIucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkQXJlYS5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udGllciA9IG5ld0Zyb250aWVyO1xuXG4gICAgICAgICAgICByYW5nZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaGVkQXJlYTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgMTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lU3RhdGVWTyB9ID0gcmVxdWlyZSgnLi9HYW1lU3RhdGVWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lU3RhdGVQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlUHJveHkuTkFNRSwgbmV3IEdhbWVTdGF0ZVZPKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUdhbWVTdGF0ZVR5cGUobmV3U3RhdGVUeXBlKSB7XG4gICAgICAgIHRoaXMudm8uZ2FtZXBsYXlNb2RlID0gbmV3U3RhdGVUeXBlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50TW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2FtZXBsYXlNb2RlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50QWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5zZWxlY3RlZEFjdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudEFjdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uID0gdmFsdWU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGdhbWVwbGF5TW9kZVR5cGVzID0ge1xuICAgIEVYUExPUkFUSU9OOiAnRVhQTE9SQVRJT04nLFxuICAgIENPTUJBVDogJ0NPTUJBVCcsXG4gICAgRElBTE9HVUU6ICdESUFMT0dVRScsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IFwibm9uZVwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlciBtZWRpYXRvciAtIEdhbWVNZWRpYXRvclwiKTtcbiAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgc3VwZXIoR2FtZU1lZGlhdG9yLk5BTUUsIGFwcCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIH1cblxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHlcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuY29uc3Qgc3RhdHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGwnLFxuICAgICAgICB0aXRsZTogJ1NraWxsJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ21heFN0YW1pbmEnLFxuICAgICAgICB0aXRsZTogJ1N0YW1pbmEnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heEx1Y2snLFxuICAgICAgICB0aXRsZTogJ0x1Y2snLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heE1vdmVtZW50JyxcbiAgICAgICAgdGl0bGU6ICdNb3ZlbWVudCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiA2XG4gICAgfVxuXTtcblxuY29uc3QgYWR2YW5jZWRTa2lsbHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsVmFsdWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIFZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9XG5dO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJpc05QQ1wiLCB7XG4gICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgdGl0bGU6IFwiaXMgTlBDXCIsXG4gICAgZGVmYXVsdDogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGF0c092ZXJyaWRlc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiU3RhdHMgT3ZlcnJpZGVzXCIsXG4gICAgc2NoZW1hOiBzdGF0c1NjaGVtYVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhZHZhbmNlZFNraWxsc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiQWR2YW5jZWQgU2tpbGxzXCIsXG4gICAgc2NoZW1hOiBhZHZhbmNlZFNraWxsc1NjaGVtYSxcbiAgICBhcnJheTogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb21iYXRHcm91cE5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ29tYmF0IEdyb3VwIE5hbWVcIlxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0c092ZXJyaWRlcyA9IHRoaXMuc3RhdHNPdmVycmlkZXM7XG4gICAgY29uc3QgcHJveHlQYXJhbXMgPSB7XG4gICAgICAgIGlkOiB0aGlzLmNoYXJhY3RlcklkLFxuICAgICAgICBpc05QQzogdGhpcy5pc05QQyxcbiAgICAgICAgYWR2YW5jZWRTa2lsbHM6IHRoaXMuYWR2YW5jZWRTa2lsbHMsXG4gICAgICAgIC4uLnN0YXRzT3ZlcnJpZGVzXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgY29tYmF0R3JvdXAucHVzaChjb21yYWRlSWQpO1xuXG4gICAgICAgIH1cbiAgICAgICAgcHJveHlQYXJhbXMuY29tYmF0R3JvdXAgPSBjb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpKTtcbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG5cbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoICYmIHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2FuY2VsTW92ZScpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IHBhdGg7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ3dhbGsuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkLCBkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQsIGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCk7XG4gICAgICAgIGNvbnN0IG5vZGVQb2ludCA9IG5ldyBwYy5WZWMzKG5leHRQYXRoUG9pbnQueCwgbmV4dFBhdGhQb2ludC55LCBuZXh0UGF0aFBvaW50LnopO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKG5vZGVQb2ludCwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5sb29rQXRQb2ludChuZXh0UGF0aFBvaW50KTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDwgMC4xNSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLm1vdmVtZW50UGF0aC5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2ZpbmlzaGVkTW92ZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3VwZGF0ZUN1cnJlbnROb2RlJywgY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVEZWF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdkaWUuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdoaXQuZ2xiJywgMC4xKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZUF0dGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdhdHRhY2suZ2xiJywgMC4xKTtcbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yX1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdmlld0NvbXBvbmVudCwgcHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRFxuXG4gICAgICAgIF07XG5cbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuY29uY2F0KHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy52aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZmlyZShub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0S2V5IGluIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0LCBzY3JpcHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtzY3JpcHRLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICAgICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tQb2ludCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KGxvb2tQb2ludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZURlYXRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVBdHRhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk5BVklHQVRJTkcgVE8gTk9ERVwiKTtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBpZiAoIWdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VycmVudE5vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQobm9kZSk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIklucHV0TGF5ZXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHRoaXMuaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOm5hdmlnYXRpb24nLCB0aGlzLmhhbmRsZVBpY2tlck5hdmlnYXRpb24sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3Njcm9sbGluZycsIHRoaXMuaGFuZGxlU2Nyb2xsaW5nLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIoY2hhcmFjdGVyRW50aXR5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgY2hhcmFjdGVyRW50aXR5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgbm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2Nyb2xsaW5nKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBkaXJlY3Rpb24pO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEdhbWVDYW1lcmEgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDYW1lcmEnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkaXN0YW5jZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdEaXN0YW5jZScgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclgnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtaW5DYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01pbiBDYW1lcmEgSGVpZ2h0JyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2FtZXJhTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuc2V0Q2FtZXJhVGFyZ2V0ID0gZnVuY3Rpb24gKGNhbWVyYVRhcmdldCkge1xuICAgIHRoaXMuY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLmVudGl0eS5nZXRFdWxlckFuZ2xlcygpLnk7XG4gICAgdGhpcy5jYW1lcmFIZWlnaHQgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCkueTtcbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaGFuZGxlRHJhZyA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnJvdGF0aW9uICs9IGRpcmVjdGlvbi54ICogdGhpcy5kcmFnTXVsdGlwbGllclg7XG5cbiAgICBsZXQgbmV3Q2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFIZWlnaHQgLSAoZGlyZWN0aW9uLnkgKiB0aGlzLmRyYWdNdWx0aXBsaWVyWSk7XG4gICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgdGhpcy5jYW1lcmFIZWlnaHQgPSBuZXdDYW1lcmFIZWlnaHQ7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmdldFRhcmdldENhbWVyYVBvc2l0aW9uID0gZnVuY3Rpb24gKGZvY3VzUG9pbnQpIHtcbiAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKVxuXG4gICAgY29uc3QgdGFyZ2V0WCA9IE1hdGguc2luKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcbiAgICBjb25zdCB0YXJnZXRaID0gTWF0aC5jb3MoKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuXG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKGZvY3VzUG9pbnQueCArIHRhcmdldFgsIGNhbWVyYVBvc2l0aW9uLnksIGZvY3VzUG9pbnQueiArIHRhcmdldFopO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkdhbWVDYW1lcmEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLmNhbWVyYVRhcmdldCkge1xuICAgICAgICBjb25zdCBjYW1lcmFUYXJnZXRQb3NpdGlvbiA9IHRoaXMuY2FtZXJhVGFyZ2V0LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLmdldFRhcmdldENhbWVyYVBvc2l0aW9uKGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0d2VlblggPSAodGFyZ2V0UG9zaXRpb24ueCArIGN1cnJlbnRQb3MueCAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWSA9ICh0aGlzLmNhbWVyYUhlaWdodCArIGN1cnJlbnRQb3MueSAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWiA9ICh0YXJnZXRQb3NpdGlvbi56ICsgY3VycmVudFBvcy56ICogOSkgLyAxMDtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHR3ZWVuWCwgdHdlZW5ZLCB0d2VlblopO1xuXG4gICAgICAgIHRoaXMuZW50aXR5Lmxvb2tBdChjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG4gICAgfVxuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhIH0gZnJvbSAnLi9HYW1lQ2FtZXJhJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDYW1lcmFNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDYW1lcmFNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0UsIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5zZXRDYW1lcmFUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5oYW5kbGVEcmFnKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IElucHV0TGF5ZXJNZWRpYXRvciB9IGZyb20gJy4vSW5wdXRMYXllck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4uL2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IElucHV0TGF5ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0lucHV0TGF5ZXJDb21wb25lbnQnKTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNhbWVyYUVudGl0eVwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJDYW1lcmEgRW50aXR5XCJcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZHJhZ1RpbWVcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiRHJhZyBUaW1lXCIsXG4gICAgZGVmYXVsdDogMC40XG59KTtcblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCB0aGlzLm9uTW91c2VEb3duLCB0aGlzKTtcbiAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnB1dFF1ZXVlID0gW107XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRHYW1lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHBpY2tlZEVudGl0eSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZE5hdmlnYXRpb24gPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIGNvbnN0IG5hdkNvbXAgPSBwaWNrZWRFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgY29uc3QgbmVhcmVzdE5vZGUgPSBuYXZDb21wLmdldE5lYXJlc3ROb2RlKGhpdFBvc2l0aW9uKTtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6bmF2aWdhdGlvbicsIG5lYXJlc3ROb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVGYWNhZGUgfSA9IHJlcXVpcmUoJy4uL0dhbWVGYWNhZGUnKTtcblxuZXhwb3J0IGNvbnN0IENhY29nZW5HYW1lID0gcGMuY3JlYXRlU2NyaXB0KCdDYWNvZ2VuR2FtZScpO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBcIk1hcDFcIik7XG59O1xuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkNhY29nZW5HYW1lLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcblxufTsiLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGVcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ05hdmlnYXRpb25Db21wb25lbnQnKTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbm5lY3RlZENvbXBvbmVudHNcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgYXJyYXk6IHRydWUsXG4gICAgdGl0bGU6IFwiQ29ubmVjdGVkIENvbXBvbmVudHNcIlxufSk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgMC4wNSwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5LmZpbmRCeU5hbWUoJ1BsYW5lJykuZW5hYmxlZCA9IGZhbHNlO1xuXG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJleHBvcnQgY29uc3QgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzaWdodFJhbmdlXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlNpZ2h0IFJhbmdlXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVELCB0aGlzLmhhbmRsZU1hcEdyaWRDcmVhdGVkLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIsIHRoaXMuaGFuZGxlTW92ZWRUb05vZGUsIHRoaXMpO1xufTtcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1hcEdyaWRDcmVhdGVkID0gZnVuY3Rpb24gKGlkLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG5cbiAgICBpZiAoIXZvLmN1cnJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIHZvLmFncm9BcmVhID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB0aGlzLnNpZ2h0UmFuZ2UpO1xuXG4gICAgfVxufVxuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW92ZWRUb05vZGUgPSBmdW5jdGlvbiAoaWQsIG5vZGUpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IHZvID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCkudm87XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG5cbiAgICAvLyBJZ25vcmUgaWYgdGhlIHBsYXllciBpc24ndCBleHBsb3JpbmdcbiAgICBpZiAoZ2FtZVN0YXRlLmdhbWVwbGF5TW9kZSAhPT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYWdyb05vZGUgb2Ygdm8uYWdyb0FyZWEpIHtcbiAgICAgICAgaWYgKGFncm9Ob2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobm9kZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgVG9hc3RNZXNzYWdlTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJUb2FzdE1lc3NhZ2VNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCddLmFkZE1lc3NhZ2UoYXJnc1swXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFRvYXN0TWVzc2FnZU1lZGlhdG9yIH0gZnJvbSBcIi4vVG9hc3RNZXNzYWdlTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFRvYXN0TWVzc2FnZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVG9hc3RNZXNzYWdlQ29tcG9uZW50Jyk7XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21lc3NhZ2VUaW1lJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNZXNzYWdlIFRpbWUnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgVG9hc3RNZXNzYWdlTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn07XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgfVxufVxuXG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvd05leHRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWVbMF07XG5cbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBuZXh0TWVzc2FnZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9LCB0aGlzLm1lc3NhZ2VUaW1lICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBcIlwiO1xuXG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NldENhbWVyYVRhcmdldENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cbi8vIHBvc3RJbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVCwgdGhpcy5lbnRpdHkpO1xufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZW5kVHVybicsIHRoaXMuaGFuZGxlRW5kVHVybiwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRW5kVHVybihldnQpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgfSBmcm9tIFwiLi9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnKTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VuZFR1cm5CdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0VuZCBUdXJuIGJ1dHRvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVuZFR1cm5CdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmNsaWNrRW5kVHVybiwgdGhpcyk7XG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xpY2tFbmRUdXJuID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOmVuZFR1cm4nKTtcbn1cbiIsImV4cG9ydCBjb25zdCBIaXRib3hDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0hpdGJveENvbXBvbmVudCcpO1xuXG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHkucGFyZW50LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5hYWJiLmNlbnRlci5jb3B5KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgR2FtZUNvbW1hbmRzLkRJU1BMQVlfUExBWUVSX0FDVElPTixcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTlxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOmFjdGlvbkJ1dHRvbicsIHRoaXMuaGFuZGxlQ2xpY2tBY3Rpb25CdXR0b24sIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9QTEFZRVJfQUNUSU9OOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvblBhbmVsQ29tcG9uZW50J10uc2VsZWN0QWN0aW9uKGFjdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT046XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgaGFuZGxlQ2xpY2tBY3Rpb25CdXR0b24oYWN0aW9uTmFtZSkge1xuICAgICAgICAvLyB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25QYW5lbENvbXBvbmVudCddLnNlbGVjdEFjdGlvbihhY3Rpb25OYW1lKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIGFjdGlvbk5hbWUpXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb24nLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0FjdGlvbicgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpZ2hsaWdodEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGlnaGxpZ2h0IEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ljb25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ljb24gRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkFzc2V0JywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0ljb24gQXNzZXQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbignc2VsZWN0OmFjdGlvbicsIHRoaXMuaGFuZGxlQ2hhbmdlQWN0aW9uLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnY2xpY2s6YWN0aW9uQnV0dG9uJywgdGhpcy5hY3Rpb24pO1xufVxuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNoYW5nZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gKHRoaXMuYWN0aW9uID09PSBhY3Rpb24pO1xufSIsImV4cG9ydCBjb25zdCBBY3Rpb25QYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uUGFuZWxNZWRpYXRvcic7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0FjdGlvbkJ1dHRvbkNvbXBvbmVudCc7XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb25CdXR0b25zJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdBY3Rpb24gQnV0dG9ucycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufVxuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgYnV0dG9uLmZpcmUoJ3NlbGVjdDphY3Rpb24nLCBhY3Rpb25OYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVUlTdG9wUHJvcGFnYXRpb24gPSBwYy5jcmVhdGVTY3JpcHQoJ1VJU3RvcFByb3BhZ2F0aW9uJyk7XG5cblVJU3RvcFByb3BhZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cblxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmNvbnN0IHsgUHVyZU1WQyB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBDYWNvZ2VuR2FtZSB9IGZyb20gJy4vdmlldy9DYWNvZ2VuR2FtZSc7XG5cbmltcG9ydCB7IE5hdmlnYXRpb25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQnO1xuaW1wb3J0IHsgU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBIaXRib3hDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBVSVN0b3BQcm9wYWdhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbic7XG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1haW4gc3RhcnRcIik7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=