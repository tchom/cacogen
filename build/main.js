(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,d=this._events[s],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,a),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],d=s.length;c<d;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},53:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>de});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(969);const{Facade:a}=i(710);function s(t,e,...i){const o=a.getInstance(t),s=pc.Application.getApplication(),u=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=d(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;l(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(s),A=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=c(t);i.push(n),h(t,e),t.destroy()}return i}(s,u),E=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(p(t,e)),t.destroy();return i}(s,u),g=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(s);o.hasProxy(r.h.NAME)&&o.removeProxy(r.h.NAME),o.registerProxy(new r.h(u,A,E,g)),console.log("MAP_GRID_CREATED"),o.sendNotification(n.i.MAP_GRID_CREATED)}function c(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function h(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function d(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function l(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function p(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}var u=i(917);const{Proxy:A}=i(710);class E extends A{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(E.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:g}=i(710),{StoryVO:f}=i(553);class y extends g{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],r=t.assets.get(o).resource;i.set(n,r)}super(y.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Facade:N}=i(710);function m(t,e){N.getInstance(t).registerProxy(new u.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;N.getInstance(t).registerProxy(new E(e)),N.getInstance(t).registerProxy(new y)}}const{Facade:C}=i(710);function T(t,e,...i){const o=pc.Application.getApplication(),r=i[0],a=i[1];console.log("Changing scene "+r);const s=o.root.findByName("Root"),c=o.scenes.find(r);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):s&&s.destroy(),C.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),C.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r),C.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,a)}))}function _(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var M=i(958);const{Proxy:v}=i(710),{CombatVO:P}=i(201);class b extends v{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(b.NAME,new P(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(M.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=_(t);for(;"end_round"===e[0];)e=_(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var S=i(448);const{Facade:O}=i(710);function I(t,e,...i){const o=i[0],r=O.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(u.u.NAME).updateGameStateType(S.gameplayModeTypes.COMBAT);const a=r.retrieveProxy(M.b.NAME+o);r.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",a);const s=new Map,c=["player"];s.set("player_team",c);const h=[o].concat(a.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));s.set("opposing_team",h);const d=c.concat(h),l=r.retrieveProxy(M.b.NAME+"player");for(const t of d)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,a.currentNode);const p=new b(d,s);r.registerProxy(p),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:x}=i(710);function w(t,e,...i){const n=x.getInstance(t),o=n.retrieveProxy(u.u.NAME),r=n.retrieveProxy(b.NAME);o.vo.gameplayMode===S.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:D}=i(710);function R(t,e,...i){const o=D.getInstance(t),r=o.retrieveProxy(u.u.NAME),a=o.retrieveProxy(b.NAME);r.vo.gameplayMode===S.gameplayModeTypes.COMBAT&&(a.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,a.vo.nextTurnCharacterId))}const{Facade:L}=i(710);function G(t,e,...i){setTimeout((()=>{const e=L.getInstance(t),i=e.retrieveProxy(b.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var k=i(434);class U{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class H{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==U.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return U.ERROR}close(t){}exit(t){}}class V extends H{tick(t){for(const e of this.children)e.execute(t);return U.SUCCESS}}class F{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class B{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class z{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new B;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class W{constructor(t){this.id="basicMeleeTree",this.blackboard=new F,this.tree=new z(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class K extends H{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==U.FAILURE)return i}return U.FAILURE}}class Y extends H{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),U.SUCCESS}}class j extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),U.SUCCESS}}class q extends H{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),U.SUCCESS}}class X extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).availableMovement>0?U.SUCCESS:U.FAILURE}}class $ extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(M.b.NAME+i).currentNode;return e.retrieveProxy(M.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?U.SUCCESS:U.FAILURE}}class Q extends H{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==U.SUCCESS)return i===U.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return U.SUCCESS}}class J extends H{tick(t){const e=this.children[0];if(!e)return U.ERROR;let i=e.execute(t);return i==U.SUCCESS?i=U.FAILURE:i==U.FAILURE&&(i=U.SUCCESS),i}}class Z extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).isDead?U.SUCCESS:U.FAILURE}}class tt extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(M.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(M.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(s.length>0){let t=s.reduce(((t,e)=>et(a,t)<et(a,e)?t:e));const o=k.q.calculatePath(a,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,U.SUCCESS}}function et(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class it extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).isDead?U.SUCCESS:U.FAILURE}}class nt extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).availableActions>0?U.SUCCESS:U.FAILURE}}class ot extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(M.b.NAME+i).availableMovement=0,U.SUCCESS}}class rt extends W{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new V([new K([new Q([new Y,new J([new it]),new J([new Z]),new K([new Q([new $,new nt,new Y,new j,new ot]),new Q([new X,new Y,new tt])])]),new q])])}}const{Facade:at}=i(710);function st(t,e,...i){const n=i[0],o=at.getInstance(t),a=(o.retrieveProxy(r.h.NAME),o.retrieveProxy(M.b.NAME+n).currentNode);o.retrieveProxy(M.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(a))),(new rt).runCommands(o,n)}var ct=i(710);function ht(t,e,...i){const o=ct.Facade.getInstance(t),r=o.retrieveProxy(u.u.NAME),a=i[0];r.currentMode===S.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_NODE+"player",a):r.currentMode===S.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(b.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",a)}const{Facade:dt}=i(710);function lt(t,e,...i){const n=dt.getInstance(t),o=i[0],r=i[1],a=n.retrieveProxy(M.b.NAME+o),s=a.vo,c=k.q.breadthFirstSearch(s.currentNode,s.availableMovement);for(const t of c)t.equals(r)&&pt(n,a,r)}function pt(t,e,i){const o=e.vo,r=k.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function ut(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function At(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function Et(t,e,...i){const o=i[0],r=ct.Facade.getInstance(t),a=r.retrieveProxy(M.b.NAME+o).vo,s=k.q.breadthFirstSearch(a.currentNode,a.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,s)}function gt(t,e,...i){const o=ct.Facade.getInstance(t),r=i[0],a=i[1];if(o.retrieveProxy(M.b.NAME+r).currentNode=a,o.retrieveProxy(u.u.NAME).currentMode===S.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(b.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),500))}}function ft(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function yt(t,e,...i){const o=ct.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,s=o.retrieveProxy(u.u.NAME),c=o.retrieveProxy(r.h.NAME),h=o.retrieveProxy(M.b.NAME+a),d=o.retrieveProxy(M.b.NAME+"player"),l=o.retrieveProxy(E.NAME).getWeaponCategory(d.equippedWeapon);if(s.currentMode===S.gameplayModeTypes.EXPLORATION)"attack"===s.currentAction&&"ranged"===l?Nt(c,d,h)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===s.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,a):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,a);else if(s.currentMode===S.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(b.NAME);if(!t||"player"!==t.activeParticipant)return;if(d.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===l)Nt(c,d,h)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(d,h))"attack"===s.currentAction&&"attack"===s.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,d.id,h.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=k.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=k.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(d,h);t&&t.length-1<=d.vo.availableMovement?"attack"===s.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",h.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function Nt(t,e,i){const n=ft(e),o=ft(i);return!t.rayIntersectsWall(n,o)}var mt=i(829);function Ct(t,e,...i){const o=ct.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(M.b.NAME+r),s=i[1],c=o.retrieveProxy(M.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=_t(a.skill),d=_t(c.skill),l=o.retrieveProxy(E.NAME);if(a.availableActions-=1,h===d)o.sendNotification(n.i.DISPLAY_ATTACK+r),o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${h}/${d})`);else if(h>d){const t=Tt(h,d),e=l.getDamage(a.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+s),o.sendNotification(n.i.KILL_GAME_CHARACTER,s)):(o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`))}else{const t="melee"===l.getWeaponCategory(c.equippedWeapon),e=Tt(d,h),i=t?c.equippedWeapon:mt.j.UNARMED,p=l.getDamage(i,e);a.applyDamage(p),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${p}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+r),o.sendNotification(n.i.KILL_GAME_CHARACTER,r)):o.sendNotification(n.i.DISPLAY_HIT+r)}const p=o.retrieveProxy(b.NAME);p&&"player"!==p.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function Tt(t,e){return t-e}function _t(t){return t+Mt()+Mt()}function Mt(){return Math.round(6*Math.random())}var vt=i(321);const{Facade:Pt}=i(710);function bt(t,e,...i){const o=Pt.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(M.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(vt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function St(t,e,...i){const o=ct.Facade.getInstance(t),r=i[0];console.log("Kill character:: "+r);const a=o.retrieveProxy(M.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",a),a&&(a.currentNode.occupied=!1);const s=o.retrieveProxy(b.NAME);s&&s.removeCharacterFromCombat(r)}const{Facade:Ot}=i(710);function It(t,e,...i){const o=i[0],r=Ot.getInstance(t);r.hasMediator(b.NAME)&&r.removeMediator(b.NAME),r.sendNotification(n.i.HIDE_WALKABLE_AREA);const a=r.retrieveProxy(u.u.NAME);"player_team"===o?(a.updateGameStateType(S.gameplayModeTypes.GAME_OVER),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(a.updateGameStateType(S.gameplayModeTypes.EXPLORATION),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}var xt=i(316);class wt extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),U.SUCCESS}}class Dt extends H{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(M.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(M.b.NAME+o).currentNode,c=Math.pow(this.minDistance,2),h=Math.pow(this.maxDistance,2),d=r.availableMovement;r.availableMovement=0;const l=Rt(s,a);if(l>=c&&l<=h)return U.FAILURE;{const t=k.q.breadthFirstSearch(a,d);if(t.length>0){if(l<c){let o=t.reduce(((t,e)=>Rt(s,t)>Rt(s,e)?t:e));const c=k.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Rt(s,t)<Rt(s,e)?t:e));const c=k.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}return U.SUCCESS}return U.FAILURE}}}function Rt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class Lt extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}class Gt extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(M.b.NAME+i),a=(o.currentNode,e.retrieveProxy(M.b.NAME+n)),s=(a.currentNode,e.retrieveProxy(r.h.NAME)),c=ft(o),h=ft(a);return s.rayIntersectsWall(c,h)?U.FAILURE:U.SUCCESS}}class kt extends H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),a=e.retrieveProxy(M.b.NAME+i),s=a.currentNode,c=e.retrieveProxy(M.b.NAME+o),h=c.currentNode.connectedNodes,d=e.retrieveProxy(r.h.NAME),l=h.filter((t=>!t.occupied));if(l.length>0){let t=l.reduce(((t,e)=>Ut(s,t)<Ut(s,e)?t:e));const o=k.q.calculatePath(s,t);if(o&&o.length>0){const r=a.vo;for(;o.length>r.availableMovement;)o.shift();const s=ft(c);let h=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*a.height,e.z);if(!d.rayIntersectsWall(i,s)){h=t;break}}o.splice(0,h),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),a.currentNode=t}}return a.availableMovement=0,U.SUCCESS}}function Ut(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Ht extends W{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new V([new K([new Q([new Y,new J([new it]),new J([new Z]),new K([new Q([new X,new J([new Gt]),new kt]),new Q([new X,new K([new Dt(9,12),new Lt])]),new Q([new nt,new Gt,new wt])])]),new q])])}}function Vt(t,e,...i){const n=ct.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(M.b.NAME+o).botBehaviour){case xt.r.BASIC_MELEE:(new rt).runCommands(n,o);break;case xt.r.BASIC_RANGED:(new Ht).runCommands(n,o)}}var Ft=i(852);function Bt(t,e,...i){const o=ct.Facade.getInstance(t);let a=0,s=0;const c=i[0],h=o.retrieveProxy(M.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(M.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode),a+=zt(h.skill),s+=zt(p.skill);const A=o.retrieveProxy(E.NAME);o.retrieveProxy(r.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(s+=2);const g=o.retrieveMediator(Ft.N.NAME),f=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),y=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),g.createProjectile("crossbow_bolt",f,y).then((()=>{if(a>s){const t=o.retrieveProxy(b.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(M.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(M.b.NAME+l)}const e=a-s,i=A.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+l),o.sendNotification(n.i.KILL_GAME_CHARACTER,l)):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(b.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function zt(t){return t+Wt()+Wt()}function Wt(){return Math.round(6*Math.random())}const{Facade:Kt}=i(710);function Yt(t,e,...i){const o=Kt.getInstance(t);if(o.retrieveProxy(u.u.NAME).currentMode===S.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(b.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const r=i[0],a=i[1];o.retrieveProxy(M.b.NAME+r).equippedWeapon=a,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} equips ${a}`)}function jt(t,e,...i){const o=ct.Facade.getInstance(t),a=i[0],s=i[1],c=i[2],h=o.retrieveProxy(r.h.NAME).findNearestNode(a);o.retrieveMediator(vt.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,s,c)}))}const{Facade:qt}=i(710);function Xt(t,e,...i){const n=qt.getInstance(t),o=i[0],a=pc.Application.getApplication(),s=a.assets.get(40523336),c=a.root.findByName("WorldObjects"),h=s.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(r.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:$t}=i(710);function Qt(t,e,...i){const o=$t.getInstance(t),r=i[0],a=o.retrieveProxy(M.b.NAME+"player"),s=o.retrieveProxy(M.b.NAME+r),c=o.retrieveMediator(vt.y.NAME+"player"),h=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=k.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=k.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(a,s);h&&c.handleNavigateAlongPathWithPromise(h).then((()=>{o.sendNotification(n.i.START_DIALOGUE,r)}))}const{Facade:Jt}=i(710);function Zt(t,e,...i){const o=Jt.getInstance(t),r=o.retrieveProxy(u.u.NAME),a=i[0],s=o.retrieveProxy(y.NAME),c=o.retrieveProxy(M.b.NAME+"player"),h=o.retrieveProxy(M.b.NAME+a),d=h.dialogueTree;s.startDialogueTree(d),r.updateGameStateType(S.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=s.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function te(t,e,...i){const o=ct.Facade.getInstance(t),r=o.retrieveProxy(y.NAME),a=r.continueCurrentNodeStep();a?(a.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:a})):o.sendNotification(n.i.END_DIALOGUE)}function ee(t,e,...i){const o=ct.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(y.NAME),s=a.selectChoice(r);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:s.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:a.currentTree,step:c}),console.log(s),s.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.goto)}function ie(t,e,...i){const o=ct.Facade.getInstance(t),r=o.retrieveProxy(y.NAME),a=i[0];r.goToNode(a);const s=r.getCurrentNodeStep();s?(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:s})):o.sendNotification(n.i.END_DIALOGUE)}const{Facade:ne}=i(710);function oe(t,e,...i){const o=ne.getInstance(t);o.retrieveProxy(u.u.NAME).updateGameStateType(S.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:re}=i(710);function ae(t,e,...i){const o=re.getInstance(t),r=i[0],a=o.retrieveProxy(M.b.NAME+"player"),s=o.retrieveProxy(M.b.NAME+r),c=o.retrieveMediator(vt.y.NAME+"player"),h=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=k.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=k.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(a,s);h&&c.handleNavigateAlongPathWithPromise(h).then((()=>{o.sendNotification(n.i.START_COMBAT,r),o.sendNotification(n.i.RESOLVE_ATTACK,"player",r)}))}const{Facade:se}=i(710);function ce(t,e,...i){const n=se.getInstance(t),o=i[0];n.retrieveProxy(u.u.NAME).currentAction=o}const{Facade:he}=i(710);class de extends he{static getInstance(t){return he.instanceMap[t]||(he.instanceMap[t]=new de(t)),he.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return de.NAME+"StartUp"}startup(t){this.sendNotification(de.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(de.STARTUP,m),this.registerCommand(n.i.CHANGE_SCENE,T),this.registerCommand(n.i.PARSE_GAMEMAP,s),this.registerCommand(n.i.START_COMBAT,I),this.registerCommand(n.i.NEXT_COMBAT_TURN,w),this.registerCommand(n.i.NEXT_COMBAT_ROUND,R),this.registerCommand(n.i.END_COMBAT_TURN,G),this.registerCommand(n.i.ENEMY_TURN,st),this.registerCommand(n.i.SELECTED_NODE,ht),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,lt),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Vt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,ut),this.registerCommand(n.i.HIDE_WALKABLE_AREA,At),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,Et),this.registerCommand(n.i.FINISHED_MOVE,gt),this.registerCommand(n.i.SELECT_GAME_CHARACTER,yt),this.registerCommand(n.i.RESOLVE_ATTACK,Ct),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Bt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,bt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,ae),this.registerCommand(n.i.KILL_GAME_CHARACTER,St),this.registerCommand(n.i.END_COMBAT,It),this.registerCommand(n.i.EQUIP_WEAPON,Yt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,jt),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,Xt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,Qt),this.registerCommand(n.i.START_DIALOGUE,Zt),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,te),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,ee),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,ie),this.registerCommand(n.i.END_DIALOGUE,oe),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,ce)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{},this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),a=i(958);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(53),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(53),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const A=pc.createScript("GameCharacterComponent");A.attributes.add("characterId",{type:"string",title:"Character Id"}),A.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),A.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),A.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),A.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),A.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),A.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),A.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),A.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),A.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),A.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},A.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:this.advancedSkills,equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1)},A.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},A.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},A.prototype.update=function(t){this.moveAlongPath(t)},A.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},A.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},A.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},A.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},A.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var E=i(917),g=i(448);const f=pc.createScript("AgroGameCharacterComponent");f.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),f.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},f.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},f.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(E.u.NAME).vo.gameplayMode!==g.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,a=new pc.Vec3(r.x,r.y,r.z),s=new pc.Vec3(n.x,n.y,n.z);if(a.distance(s)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);a.y+=this.characterProxy.height,t.rayIntersectsWall(a,s)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:y}=i(710);class N extends y{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const m=pc.createScript("ToastMessageComponent");m.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),m.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),m.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},m.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},m.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:C}=i(710);class T extends C{static get NAME(){return"InputLayerMediator"}constructor(t){super(T.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const _=pc.createScript("GameCamera");_.attributes.add("distance",{type:"number",default:100,title:"Distance"}),_.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),_.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),_.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),_.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),_.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),_.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(v.NAME)&&this.facade.removeMediator(v.NAME),this.facade.registerMediator(new v(this.entity))},_.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},_.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},_.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},_.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:M}=i(710);class v extends M{static get NAME(){return"GameCameraMediator"}constructor(t){super(v.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const P=pc.createScript("InputLayerComponent");P.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),P.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),P.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(T.NAME)&&this.facade.removeMediator(T.NAME),this.facade.registerMediator(new T(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},P.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},P.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},P.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},P.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},P.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},P.prototype.update=function(t){this.processInputQueue()},P.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},P.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},P.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},P.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:b}=i(710);class S extends b{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(S.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const O=pc.createScript("PlayerCombatPanelComponent");O.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),O.prototype.initialize=function(){},O.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(S.NAME)&&this.facade.removeMediator(S.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new S(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},O.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const I=pc.createScript("HitboxComponent");I.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},I.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},I.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:x}=i(710);class w extends x{static get NAME(){return"ActionPanelMediator"}constructor(t){super(w.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const D=pc.createScript("ActionButtonComponent");D.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),D.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),D.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),D.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},D.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},D.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(w.NAME)&&this.facade.removeMediator(w.NAME),this.facade.registerMediator(new w(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var L=i(852);const G=pc.createScript("ProjectileCreatorComponent");G.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),G.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(L.N.NAME)&&this.facade.removeMediator(L.N.NAME),this.facade.registerMediator(new L.N(this.entity))},G.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const k=pc.createScript("ProjectileComponent");k.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),k.prototype.initialize=function(){},k.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},k.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},k.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:U}=i(710);class H extends U{static get NAME(){return"StaminaBarMediator"}constructor(t){super(H.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const V=pc.createScript("StaminaBarComponent");V.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),V.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),V.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(H.NAME)&&this.facade.removeMediator(H.NAME),this.facade.registerMediator(new H(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},V.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:F}=i(710);class B extends F{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(B.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const z=pc.createScript("ActionsRemainingPanelComponent");z.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),z.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(B.NAME)&&this.facade.removeMediator(B.NAME),this.facade.registerMediator(new B(this.entity)),this.pips=[]},z.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},z.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const W=pc.createScript("ActionsRemainingPipComponent");W.attributes.add("pipFront",{type:"entity",title:"Pip front"}),W.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:K}=i(710);class Y extends K{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(Y.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,r=i.x/o,a=(this.device.height-i.y)/o;return new pc.Vec3(r,a,0)}};const q=pc.createScript("FloatingStatusCreatorComponent");q.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),q.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),q.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Y.NAME)&&this.facade.removeMediator(Y.NAME),this.facade.registerMediator(new Y(this.entity))},q.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:X}=i(710);class $ extends X{static get NAME(){return"PortalMediator"}constructor(t){super($.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(E.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,r=i.standingPoint.getPosition();t.currentMode===g.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,r,n,o)}}const Q=pc.createScript("PortalComponent");Q.attributes.add("portalId",{type:"string",title:"Portal Id"}),Q.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),Q.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),Q.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),Q.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),Q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator($.NAME)&&this.facade.removeMediator($.NAME),this.facade.registerMediator(new $(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:J}=i(710);class Z extends J{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(Z.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1;break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const tt=pc.createScript("DialoguePanelComponent");tt.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),tt.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),tt.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),tt.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),tt.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),tt.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),tt.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),tt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Z.NAME)&&this.facade.removeMediator(Z.NAME),this.facade.registerMediator(new Z(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},tt.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},tt.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},tt.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},tt.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},tt.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},tt.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},tt.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},tt.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const et=pc.createScript("DialogueChoiceComponent");et.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),et.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),et.prototype.initialize=function(){},et.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},et.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const it=pc.createScript("DefaultAnimationComponent");it.attributes.add("animationName",{type:"string",title:"Animation Name"}),it.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const nt=pc.createScript("DialogueTextComponent");nt.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),nt.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),nt.attributes.add("textContainer",{type:"entity",title:"Text Container"}),nt.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),nt.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),nt.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),nt.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),nt.prototype.initialize=function(){},nt.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},nt.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},nt.prototype.postInitialize=function(){this.setHeight()},nt.prototype.update=function(t){};const{Mediator:ot}=i(710);class rt extends ot{static get NAME(){return"AttackButtonMediator"}constructor(t){super(rt.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const at=pc.createScript("AttackButtonComponent");at.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),at.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(rt.NAME)&&this.facade.removeMediator(rt.NAME),this.facade.registerMediator(new rt(this.entity)),this.entity.element.on("click",this.handleClick,this)},at.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},at.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const st=pc.createScript("VehicleComponent");function ct(t,e){return t.length()<e?t:t.normalize().scale(e)}st.attributes.add("mass",{type:"number",title:"Mass",default:3}),st.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),st.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),st.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),st.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},st.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=ct(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=ct(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},st.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},st.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const ht=pc.createScript("ScreenResizeComponent");ht.prototype.window=window,ht.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},ht.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const{Facade:dt}=i(710),{PureMVC:lt}=i(710);new class{constructor(){lt.debug=!0,dt.getInstance=t.GameFacade.getInstance,console.log(dt),this.facade=dt.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvU2h1ZmZsZUFycmF5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyU3RhdHVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CYXNlTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9HVUlELmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NYXN0ZXJOb2RlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CbGFja2JvYXJkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9UaWNrLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CZWhhdmlvdXJUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQ2hhcmFjdGVyQ29tbWFuZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL1ByaW9yaXR5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNOZXh0VG9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL01lbVNlcXVlbmNlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9kZWNvcmF0b3JzL0ludmVydGVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Db250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Hb1RvRGlhbG9ndWVOb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dhbWVDb21tYW5kcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9kYXRhL1dlYXBvblR5cGVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9BZGphY2VudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9zdG9yeVByb3h5L1N0b3J5Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0NhY29nZW5HYW1lLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25CdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wb3J0YWwvUG9ydGFsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wb3J0YWwvUG9ydGFsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9kZWZhdWx0QW5pbS9EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVRleHRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9hdHRhY2tCdXR0b24vQXR0YWNrQnV0dG9uTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9hdHRhY2tCdXR0b24vQXR0YWNrQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvdmVoaWNsZS9WZWhpY2xlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlB1cmVNVkNfMSIsIlZpZXdfMSIsIkNvbnRyb2xsZXIiLCJrZXkiLCJ0aGlzIiwiY29tbWFuZE1hcCIsImluc3RhbmNlTWFwIiwiRXJyb3IiLCJtdWx0aXRvbktleSIsImxvZ2dlciIsIlB1cmVNVkMiLCJkZWJ1ZyIsImxvZ0NvbW1hbmQiLCJsb2dOb25lIiwiaW5pdGlhbGl6ZUNvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyIiwiZ2V0SW5zdGFuY2UiLCJwcm90b3R5cGUiLCJyZWdpc3RlckNvbW1hbmQiLCJub3RpZmljYXRpb25OYW1lIiwiY29tbWFuZENsYXNzUmVmIiwidmlldyIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJleGVjdXRlQ29tbWFuZCIsImhhc0NvbW1hbmQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDb21tYW5kIiwicmVtb3ZlT2JzZXJ2ZXIiLCJWaWV3IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tbWFuZCIsIl9jb25zb2xlQXJncyIsIm5hbWUiLCJhcHBseSIsImNvbmNhdCIsIkNvbnRyb2xsZXJfMSIsIk1vZGVsXzEiLCJGYWNhZGUiLCJsb2dOb3RpZmljYXRpb24iLCJpbml0aWFsaXplTm90aWZpZXIiLCJpbml0aWFsaXplRmFjYWRlIiwiaGFzQ29yZSIsInJlbW92ZUNvcmUiLCJNb2RlbCIsInJlbW92ZU1vZGVsIiwicmVtb3ZlVmlldyIsImluaXRpYWxpemVNb2RlbCIsImluaXRpYWxpemVWaWV3IiwiY29udHJvbGxlciIsInJlZ2lzdGVyUHJveHkiLCJwcm94eSIsIm1vZGVsIiwicmV0cmlldmVQcm94eSIsInByb3h5TmFtZSIsInJlbW92ZVByb3h5IiwiaGFzUHJveHkiLCJyZWdpc3Rlck1lZGlhdG9yIiwibWVkaWF0b3IiLCJyZXRyaWV2ZU1lZGlhdG9yIiwibWVkaWF0b3JOYW1lIiwicmVtb3ZlTWVkaWF0b3IiLCJzbGVlcE1lZGlhdG9yIiwiYXdha2VNZWRpYXRvciIsImhhc01lZGlhdG9yIiwic2VuZE5vdGlmaWNhdGlvbiIsIl9hIiwibm90aWZ5T2JzZXJ2ZXJzIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJOb3RpZmllcl8xIiwiTWVkaWF0b3IiLCJfc3VwZXIiLCJ2aWV3Q29tcG9uZW50IiwiX3RoaXMiLCJjYWxsIiwibG9nTWVkaWF0b3IiLCJzbGVlcGluZyIsInN1YnNjcmliZWROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldE1lZGlhdG9yTmFtZSIsInNldFZpZXdDb21wb25lbnQiLCJnZXRWaWV3Q29tcG9uZW50Iiwib25SZWdpc3RlciIsIm9uUmVtb3ZlIiwib25TbGVlcCIsIm9uQXdha2UiLCJzdWJzY3JpYmVOb3RpZmljYXRpb24iLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJhZGRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZU5vdGlmaWNhdGlvbiIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImFjdGlvbiIsIm9sZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zIiwic2xpY2UiLCJjaGFuZ2VkIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImluZGV4T2YiLCJwdXNoIiwiaW5kZXgiLCJzcGxpY2UiLCJOb3RpZmllciIsInByb3h5TWFwIiwiZ2V0UHJveHlOYW1lIiwiRmFjYWRlXzEiLCJmYWNhZGUiLCJnZXRGYWNhZGUiLCJQcm94eSIsImRhdGEiLCJsb2dQcm94eSIsInNldERhdGEiLCJnZXREYXRhIiwiY29uc29sZUFyZ3MiLCJjb21tYW5kTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJFdmVudEVtaXR0ZXIiLCJtZWRpYXRvck1hcCIsImV2ZW50RW1pdHRlciIsIm9ic2VydmVyTWV0aG9kIiwiY29udGV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJlbWl0IiwicmVnaXN0ZXJPYnNlcnZlcnMiLCJvbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiYmluZCIsImlzU2xlZXBpbmciLCJyZW1vdmVPYnNlcnZlcnMiLCJpbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMSIsImludGVyZXN0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzIiLCJNZWRpYXRvcl8xIiwiUHJveHlfMSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJpIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJsZW4iLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJtb2R1bGUiLCJOYXZpZ2F0aW9uTm9kZSIsIngiLCJ5IiwieiIsImNvbm5lY3RlZE5vZGVzIiwib2NjdXBpZWQiLCJvdGhlck5vZGUiLCJmaW5kIiwibm9kZSIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGVkTm9kZUluZGV4IiwiZmluZEluZGV4IiwiZXF1YWxzIiwicGFyc2VHYW1lTWFwQ29tbWFuZCIsImFwcCIsInBjIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsImZsb29yR3JpZCIsIm5hdmlnYXRpb25GbG9vcnMiLCJyb290IiwiZmluZEJ5VGFnIiwiY29tcGxldGVkR3JpZCIsIm5hdmlnYXRpb25Db21wb25lbnRzIiwiZmxvb3JFbnRpdHkiLCJuYXZDb21wIiwic2NyaXB0IiwiY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IiLCJzZXRHcmlkIiwibmF2aWdhdGlvbkNvbXAiLCJjb25uZWN0ZWRDb21wRW50aXR5IiwiY29ubmVjdGVkQ29tcG9uZW50cyIsImNvbm5lY3RlZE5hdkNvbXAiLCJqb2luVG9BZGphY2VudEdyaWQiLCJnZXRHcmlkIiwiY3JlYXRlTWFwRmxvb3IiLCJ3YWxscyIsIndhbGxzQm91bmRpbmdCb3hlcyIsIm1hcFdhbGxFbnRpdGllcyIsIm1hcFdhbGxFbnRpdHkiLCJhYWJiIiwiY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5IiwiY3JlYXRlRmxvb3JVbmRlcldhbGxzIiwiZGVzdHJveSIsImNyZWF0ZU1hcFdhbGxzIiwiY292ZXIiLCJjb3ZlclBvaW50cyIsImNvdmVyRW50aXRpZXMiLCJjb3ZlckVudGl0eSIsImNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94IiwiY3JlYXRlTWFwQ292ZXIiLCJwb3J0YWxzIiwiTWFwIiwicG9ydGFsRW50aXRpZXMiLCJwb3J0YWxFbnRpdHkiLCJwb3J0YWxDb21wb25lbnQiLCJwb3J0YWxJZCIsInBvcnRhbCIsImRlc3RpbmF0aW9uU2NlbmUiLCJkZXN0aW5hdGlvblBvcnRhbCIsInN0YW5kaW5nUG9pbnQiLCJnZXRQb3NpdGlvbiIsImhpdGJveFBvaW50IiwiaGl0Ym94Iiwic2V0IiwiY3JlYXRlUG9ydGFscyIsIkdhbWVNYXBQcm94eSIsIkdhbWVDb21tYW5kcyIsImJveEVudGl0eSIsInNjYWxlIiwiZ2V0TG9jYWxTY2FsZSIsImhhbGZFeHRlbnRzIiwiVmVjMyIsIkJvdW5kaW5nQm94Iiwid2FsbCIsIndhbGxQb3MiLCJ3YWxsU2NhbGUiLCJNYXRoIiwicm91bmQiLCJjb3JuZXJYIiwiY29ybmVyWiIsIm1hdGNoaW5nTm9kZUluZGV4IiwiZXF1YWxzUG9pbnQiLCJkZWxldGVkTm9kZXMiLCJkZWxldGVkTm9kZSIsImRpc2Nvbm5lY3RlZE5vZGUiLCJncmlkIiwiZmxvb3JQb3NpdGlvbiIsImdldExvY2FsUG9zaXRpb24iLCJmbG9vclNpemUiLCJzbmFwcGVkV2lkdGgiLCJzbmFwcGVkQnJlYWR0aCIsInNuYXBwZWRYIiwic25hcHBlZFkiLCJzbmFwcGVkWiIsImFkZENvbm5lY3RlZE5vZGUiLCJncmlkVG9Kb2luIiwiYm94IiwiYm94UG9zIiwiYm94U2NhbGUiLCJjb3ZlclBvaW50IiwiV2VhcG9uc1Byb3h5Iiwic3VwZXIiLCJOQU1FIiwid2VhcG9uTmFtZSIsImRhbWFnZVRpZXIiLCJjYXRlZ29yeUtleSIsInZvIiwiY2F0ZWdvcnkiLCJkYW1hZ2UiLCJtaW4iLCJTdG9yeVZPIiwiU3RvcnlQcm94eSIsInN0b3J5VHJlZXMiLCJhc3NldHMiLCJyZXNvdXJjZSIsInRyZWVzIiwic3RvcnlUcmVlTWFwIiwidHJlZUtleSIsInN0b3J5VHJlZUFzc2V0SWQiLCJzdG9yeVRyZWUiLCJjdXJyZW50VHJlZSIsImN1cnJlbnROb2RlIiwiY3VycmVudFN0ZXBJbmRleCIsImN1cnJlbnRDb25kaXRpb25zIiwidHJlZUlkIiwidHJlZSIsIm5vZGVJZCIsIm5vZGVzIiwic3RlcEluZGV4Iiwic3RlcHMiLCJnZXRUcmVlIiwiZ2V0Tm9kZSIsInZhbGlkU3RlcCIsImdldFZhbGlkU3RlcCIsIm9uY2VDb25kaXRpb24iLCJnZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiYWRkQ29uZGl0aW9uIiwibmV4dFZhbGlkU3RlcCIsImdldFN0ZXAiLCJ0ZXN0Q29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJnZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAiLCJjaG9pY2VJbmRleCIsImdldEN1cnJlbnROb2RlU3RlcCIsImNob2ljZXMiLCJjb25kaXRpb24iLCJzdWNjZXNzIiwib3JEZWxpbWl0ZXJlZCIsIm9yQ29uZGl0aW9ucyIsInNwbGl0Iiwib3JTdWNjZXNzIiwib3B0aW9uYWxDb25kaXRpb24iLCJjaGVja0NvbmRpdGlvbiIsInN0YXJ0c1dpdGgiLCJzdHJpcHBlZFN0cmluZyIsInJlbW92ZUNvbmRpdGlvbiIsInN0YXJ0dXBDb21tYW5kIiwiR2FtZVN0YXRlUHJveHkiLCJ3ZWFwb25zRGF0YSIsImNoYW5nZVNjZW5lQ29tbWFuZCIsInNjZW5lTmFtZSIsIm9sZEhpZXJhcmNoeSIsImZpbmRCeU5hbWUiLCJzY2VuZSIsInNjZW5lcyIsImxvYWRTY2VuZUhpZXJhcmNoeSIsInVybCIsImVyciIsInBhcmVudCIsImVycm9yIiwic2h1ZmZsZUFycmF5IiwiYXJyYXkiLCJjdXJyZW50SW5kZXgiLCJ0ZW1wb3JhcnlWYWx1ZSIsInJhbmRvbUluZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJDb21iYXRWTyIsIkNvbWJhdFByb3h5IiwicGFydGljaXBhbnRzIiwidGVhbXMiLCJwYXJ0aWNpcGFudFByb3hpZXMiLCJwYXJ0aWNpcGFudCIsInBhcnRpY2lwYW50UHJveHkiLCJHYW1lQ2hhcmFjdGVyUHJveHkiLCJyb3VuZEluaXRpYXRpdmUiLCJuZXh0VHVybklkIiwic2hpZnQiLCJhY3RpdmVQYXJ0aWNpcGFudCIsInJlc2V0Q29tYmF0VHVyblN0YXRlIiwiaXNOUEMiLCJzZXRUaW1lb3V0IiwiaW5pdGlhdGl2ZXMiLCJjaGFyYWN0ZXJJZCIsImVudHJpZXMiLCJpbml0aWF0aXZlIiwic2h1ZmZsZWRJbml0aWF0aXZlIiwibmV4dFR1cm5DaGFyYWN0ZXJJZCIsImRlbGV0ZSIsImZpbHRlciIsImUiLCJ0ZWFtIiwiY2hhcmFjdGVySW5kZXgiLCJzdGFydENvbWJhdENvbW1hbmQiLCJpbnN0aWdhdGluZ0NoYXJhY3RlcklkIiwidXBkYXRlR2FtZVN0YXRlVHlwZSIsImdhbWVwbGF5TW9kZVR5cGVzIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSIsInBsYXllclRlYW0iLCJvcHBvc2luZ1RlYW0iLCJjb21iYXRHcm91cCIsIml0ZW0iLCJwb3MiLCJzZWxmIiwicGxheWVyUHJveHkiLCJjb21iYXRQcm94eSIsIm5leHRDb21iYXRUdXJuQ29tbWFuZCIsImdhbWVTdGF0ZSIsImdhbWVwbGF5TW9kZSIsIm5leHRUdXJuIiwibmV4dENvbWJhdFJvdW5kQ29tbWFuZCIsIm5leHRSb3VuZCIsImVuZENvbWJhdFR1cm5Db21tYW5kIiwiQmVoYXZpb3VyU3RhdHVzIiwiQmFzZU5vZGUiLCJjaGlsZHJlbiIsImluaXRpYWxpemUiLCJpZCIsInMiLCJoZXhEaWdpdHMiLCJzdWJzdHIiLCJqb2luIiwiY3JlYXRlVVVJRCIsInRpY2siLCJfZW50ZXIiLCJibGFja2JvYXJkIiwiX29wZW4iLCJzdGF0dXMiLCJfdGljayIsIlJVTk5JTkciLCJfY2xvc2UiLCJfZXhpdCIsImVudGVyTm9kZSIsImVudGVyIiwib3Blbk5vZGUiLCJvcGVuIiwidGlja05vZGUiLCJjbG9zZU5vZGUiLCJjbG9zZSIsImV4aXROb2RlIiwiZXhpdCIsIkVSUk9SIiwiTWFzdGVyTm9kZSIsImNoaWxkTm9kZSIsImV4ZWN1dGUiLCJTVUNDRVNTIiwiQmxhY2tib2FyZCIsImluaXRpYWxpc2UiLCJiYXNlTWVtb3J5IiwidHJlZU1lbW9yeSIsInRyZWVTY29wZSIsIm5vZGVNZW1vcnkiLCJvcGVuTm9kZXMiLCJub2RlU2NvcGUiLCJtZW1vcnkiLCJnZXRUcmVlTWVtb3J5IiwiZ2V0Tm9kZU1lbW9yeSIsImdldE1lbW9yeSIsIlRpY2siLCJub2RlQ291bnQiLCJ0YXJnZXQiLCJwb3AiLCJCZWhhdmlvdXJUcmVlIiwibGFzdE9wZW5Ob2RlcyIsImN1cnJPcGVuTm9kZXMiLCJzdGFydCIsIkNoYXJhY3RlckNvbW1hbmRUcmVlIiwiUHJpb3JpdHkiLCJjaGlsZCIsIkZBSUxVUkUiLCJTZXRQbGF5ZXJBc1RhcmdldCIsIk1lbGVlQXR0YWNrVGFyZ2V0IiwiYXR0YWNrZXJJZCIsImRlZmVuZGVySWQiLCJFbmRDb21iYXRUdXJuIiwiSGFzTW92ZW1lbnRSZW1haW5pbmciLCJhdmFpbGFibGVNb3ZlbWVudCIsIklzTmV4dFRvUGxheWVyIiwiY2hhcmFjdGVyQ3VycmVudE5vZGUiLCJzb21lIiwibiIsIk1lbVNlcXVlbmNlIiwiSW52ZXJ0ZXIiLCJJc1RhcmdldERlYWQiLCJ0YXJnZXRJZCIsImlzRGVhZCIsIk1vdmVUb3dhcmRzVGFyZ2V0IiwiY2hhcmFjdGVyUHJveHkiLCJyZXN1bHQiLCJyZWR1Y2UiLCJhIiwiZGlzdGFuY2VTcXJ0IiwicGF0aCIsIkFzdGFyIiwicDEiLCJwMiIsInBvdyIsIklzRGVhZCIsIkhhc0FjdGlvbnNSZW1haW5pbmciLCJhdmFpbGFibGVBY3Rpb25zIiwiUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIiwiQmFzaWNNZWxlZVRyZWUiLCJlbmVteVR1cm5Db21tYW5kIiwiZW5lbXlJZCIsImVuZW15Q3VycmVudE5vZGUiLCJydW5Db21tYW5kcyIsInNlbGVjdGVkTm9kZUNvbW1hbmQiLCJnYW1lU3RhdGVQcm94eSIsImN1cnJlbnRNb2RlIiwiY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kIiwidGFyZ2V0Tm9kZSIsImdhbWVDaGFyYWN0ZXJQcm94eSIsIm1vdmVhYmxlTm9kZXMiLCJoYW5kbGVWYWxpZE1vdmUiLCJzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlTm9kZXMiLCJ3YWxrYWJsZVRpbGVBc3NldCIsImNvbnRhaW5lciIsInRpbGUiLCJpbnN0YW50aWF0ZSIsInNldExvY2FsUG9zaXRpb24iLCJhZGRDaGlsZCIsImhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVUaWxlRW50aXRpZXMiLCJ3YWxrYWJsZVRpbGVFbnRpdHkiLCJhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCIsImVuZE1vdmVtZW50Q29tbWFuZCIsImVuZE5vZGUiLCJjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IiwiaGVpZ2h0Iiwic2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsImdhbWVNYXBQcm94eSIsInRhcmdldENoYXJhY3RlclByb3h5IiwicGxheWVyQ2hhcmFjdGVyUHJveHkiLCJ3ZWFwb25DYXRlZ29yeSIsImdldFdlYXBvbkNhdGVnb3J5IiwiZXF1aXBwZWRXZWFwb24iLCJjdXJyZW50QWN0aW9uIiwiY2FuU2VlVGFyZ2V0IiwidGFyZ2V0Q3VycnJlbnROb2RlIiwiaXNUYXJnZXRBZGphY2VudCIsInBhdGhUb1RhcmdldCIsInVub2NjdXBpZWROb2RlcyIsInBsYXllck5vZGUiLCJzaG9ydGVzdFBhdGgiLCJvdGhlclBhdGgiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyIiwicGxheWVyUG9pbnQiLCJ0YXJnZXRQb2ludCIsInJheUludGVyc2VjdHNXYWxsIiwicmVzb2x2ZUF0dGFja0NvbW1hbmQiLCJhdHRhY2tlclByb3h5IiwiZGVmZW5kZXJQcm94eSIsImF0dGFja2VyUm9sbCIsInJvbGxBdHRhY2tTa2lsbCIsInNraWxsIiwiZGVmZW5kZXJSb2xsIiwid2VhcG9uc1Byb3h5IiwiZGV0ZXJtaW5lRGFtYWdlVGllciIsImdldERhbWFnZSIsImFwcGx5RGFtYWdlIiwiaGFzTWVsZWVXZWFwb24iLCJ3ZWFwb24iLCJXZWFwb25UeXBlcyIsImhpZ2hEYW1hZ2UiLCJsb3dEYW1hZ2UiLCJyb2xsRGljZSIsIm1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIiwidXNlTW92ZW1lbnQiLCJjaGFyYWN0ZXJNZWRpYXRvciIsIkdhbWVDaGFyYWN0ZXJNZWRpYXRvciIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UiLCJ0aGVuIiwia2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwicmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdCIsImVuZENvbWJhdENvbW1hbmQiLCJsb3NpbmdUZWFtIiwiUmFuZ2VBdHRhY2tUYXJnZXQiLCJNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJ0YXJnZXRDdXJyZW50Tm9kZSIsIm1pbkRpc3RhbmNlU3FydCIsIm1heERpc3RhbmNlU3FydCIsIm1vdmVQb2ludHNBdmFpbGFibGUiLCJkaXN0YW5jZVRvVGFyZ2V0IiwiUGlja05leHRBY3Rpb24iLCJDYW5TZWVUYXJnZXQiLCJ0YXJnZXRQcm94eSIsImZyb21Qb3MiLCJ0b1BvcyIsIk1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIiwiZGVsZXRlQ291bnQiLCJwYXRoTm9kZSIsIkJhc2ljUmFuZ2VkVHJlZSIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsImJvdEJlaGF2aW91ciIsIkJvdEJlaGF2aW91clR5cGVzIiwicmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQiLCJhdHRhY2tlclNjb3JlIiwiZGVmZW5kZXJTY29yZSIsImF0dGFja2VyTm9kZSIsImRlZmVuZGVyTm9kZSIsImlzSW5Db3ZlciIsInByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIiwicHJvamVjdGlsZU9yaWdpbiIsInByb2plY3RpbGVUYXJnZXQiLCJjcmVhdGVQcm9qZWN0aWxlIiwibmVpZ2hib3VyaW5nTm9kZXMiLCJwb3NzaWJsZVRhcmdldHMiLCJlcXVpcFdlYXBvbkNvbW1hbmQiLCJuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kIiwic3RhbmRpbmdQb3NpdGlvbiIsInN0YW5kaW5nTm9kZSIsImZpbmROZWFyZXN0Tm9kZSIsIm1vdmVUb05vZGVXaXRoUHJvbWlzZSIsImFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCIsInBsYXllckNoYXJhY3RlckFzc2V0IiwicGxheWVyRW50aXR5IiwicmV0cmlldmVQb3J0YWwiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQiLCJ0YXJnZXRDaGFyYWN0ZXJJZCIsInBsYXllckNoYXJhY3Rlck1lZGlhdG9yIiwic3RhcnREaWFsb2d1ZUNvbW1hbmQiLCJnYW1lc3RhdGVQcm94eSIsInN0b3J5UHJveHkiLCJkaWFsb2d1ZVRyZWUiLCJzdGFydERpYWxvZ3VlVHJlZSIsIm9wZW5pbmdTdGVwIiwic3RlcCIsImNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCIsIm5leHRTdGVwIiwiY29udGludWVDdXJyZW50Tm9kZVN0ZXAiLCJzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQiLCJzZWxlY3RlZENob2ljZSIsInNlbGVjdENob2ljZSIsInJlc3BvbnNlIiwidGl0bGUiLCJ0ZXh0IiwidGl0bGVDb2xvdXIiLCJnb3RvIiwiZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQiLCJuZXdOb2RlIiwiZ29Ub05vZGUiLCJjdXJyZW50U3RlcCIsImVuZERpYWxvZ3VlQ29tbWFuZCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kIiwiY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIiwibmV3QWN0aW9uIiwiR2FtZUZhY2FkZSIsImdhbWUiLCJTVEFSVFVQIiwiYm90QmVoYXZpb3VyRW51bXMiLCJOT05FIiwiQkFTSUNfTUVMRUUiLCJCQVNJQ19SQU5HRUQiLCJ3ZWFwb25FbnVtcyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZXNjcmlwdG9yIiwibWFwIiwiR2FtZUNoYXJhY3RlclZPIiwicGFyYW1zIiwibWF4TW92ZW1lbnQiLCJtYXhBY3Rpb25zUGVyVHVybiIsImNvc3QiLCJkYW1hbmdlIiwiY3VycmVudFN0YW1pbmEiLCJtYXgiLCJtYXhpbXVtU3RhbWluYSIsIm1heFN0YW1pbmEiLCJtYXhMdWNrIiwiY3VycmVudEx1Y2siLCJhZHZhbmNlZFNraWxscyIsIkdhbWVNYXBWTyIsIm1hcEdyaWQiLCJ3YWxsQm91bmRpbmdCb3hlcyIsIm5lYXJlc3ROb2RlIiwiZGlzdFNxcnRUb05lYXJlc3ROb2RlIiwiZGlzdFRvTm9kZSIsImZyb20iLCJ0byIsImRpc3RhbmNlIiwiZGlyZWN0aW9uIiwiY2xvbmUiLCJzdWIiLCJub3JtYWxpemUiLCJyYXkiLCJSYXkiLCJtYXBXYWxscyIsImhpdFBvc2l0aW9uIiwiaW50ZXJzZWN0c1JheSIsImF0dGFja2luZ0Zyb20iLCJhZGphY2VudENvdmVyUG9pbnRzIiwiYWRqYWNlbnRQb2ludHMiLCJwb2ludCIsInBvaW50cyIsImdldEFkamFjZW50UG9pbnRzIiwiYWRqYWNlbnRQb2ludCIsImFkamFjZW50Q292ZXJQb2ludCIsIlByaW9yaXR5UXVldWUiLCJwcmlvcml0eSIsIkluZmluaXR5IiwicmFuZ2VMaW1pdCIsImZyb250aWVyIiwic2VhcmNoZWRBcmVhIiwiY2FtZUZyb20iLCJyYW5nZSIsIm5ld0Zyb250aWVyIiwiY3VycmVudCIsIm5leHQiLCJnb2FsIiwiY29zdFNvRmFyIiwiZW1wdHkiLCJuZXdDb3N0IiwiaGV1cmlzdGljIiwicGF0aElzQnJva2VuIiwicHQxIiwicHQyIiwiYWJzIiwiR2FtZVN0YXRlVk8iLCJuZXdTdGF0ZVR5cGUiLCJzZWxlY3RlZEFjdGlvbiIsIkVYUExPUkFUSU9OIiwiQ09NQkFUIiwiRElBTE9HVUUiLCJHQU1FX09WRVIiLCJwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyIsInVwZGF0ZUN1cnJlbnROb2RlIiwiaGFuZGxlRmluaXNoZWRNb2RlIiwiZmlyZSIsInNjcmlwdEtleSIsInNjcmlwdENvbXBvbmVudCIsImhhbmRsZVN0YXJ0Q29tYmF0IiwiaGFuZGxlTmF2aWdhdGVUb05vZGUiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aCIsImhhbmRsZVNldENoYXJhY3RlclRvTm9kZSIsImxvb2tQb2ludCIsImxvb2tBdFBvaW50IiwiYW5pbWF0ZURlYXRoIiwiYW5pbWF0ZUF0dGFjayIsImFuaW1hdGVIaXQiLCJzZXRQYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsInR5cGUiLCJvcmlnaW5Qb2ludCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwibyIsIm9iaiIsInByb3AiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJDYWNvZ2VuR2FtZSIsImNyZWF0ZVNjcmlwdCIsIktFWSIsInVwZGF0ZSIsImR0IiwiTmF2aWdhdGlvbkNvbXBvbmVudCIsImF0dHJpYnV0ZXMiLCJhZGQiLCJlbnRpdHkiLCJoYW5kbGVSYXlDYXN0IiwiZW5hYmxlZCIsInNjcmVlblBvcyIsIm5vZGVHcmlkIiwiZ2V0TmVhcmVzdE5vZGUiLCJHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiZGVmYXVsdCIsInNjaGVtYSIsImVudW0iLCJwcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwic3RhdHNPdmVycmlkZXMiLCJwcm94eVBhcmFtcyIsImNoYXJhY3RlckhlaWdodCIsImRpYWxvZ3VlVHJlZU5hbWUiLCJjb21iYXRHcm91cE5hbWUiLCJjb21yYWRlRW50aXRpZXMiLCJjb21yYWRlRW50aXR5IiwiY29tcmFkZUlkIiwidmVoaWNsZSIsImFuaW1hdGlvbiIsInBsYXkiLCJsb29wIiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5vZGVQb2ludCIsImNoYXJhY3RlclNwZWVkIiwic2VlayIsImFycml2ZSIsInByb2Nlc3NWZWxvY2l0eSIsImR4IiwiZHoiLCJhbmdsZVRvRGVzdCIsImF0YW4yIiwiUEkiLCJzZXRFdWxlckFuZ2xlcyIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsImNoYXJhY3RlclBvaW50Iiwic2lnaHRSYW5nZSIsIlRvYXN0TWVzc2FnZU1lZGlhdG9yIiwiYWRkTWVzc2FnZSIsIlRvYXN0TWVzc2FnZUNvbXBvbmVudCIsIm1lc3NhZ2VRdWV1ZSIsImN1cnJlbnRUaW1lb3V0IiwibWVzc2FnZSIsInNob3dOZXh0TWVzc2FnZSIsIm5leHRNZXNzYWdlIiwibGFiZWxFbnRpdHkiLCJlbGVtZW50IiwibWVzc2FnZVRpbWUiLCJJbnB1dExheWVyTWVkaWF0b3IiLCJoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyIiwiaGFuZGxlUGlja2VyTmF2aWdhdGlvbiIsImhhbmRsZVNjcm9sbGluZyIsImNoYXJhY3RlckVudGl0eSIsIkdhbWVDYW1lcmEiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsInZlcnRpY2FsU2Nyb2xsIiwibmV3Q2FtZXJhSGVpZ2h0IiwiZHJhZ011bHRpcGxpZXJZIiwibWF0aCIsImNsYW1wIiwibWluQ2FtZXJhSGVpZ2h0IiwibWF4Q2FtZXJhSGVpZ2h0IiwiZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24iLCJmb2N1c1BvaW50IiwiY2FtZXJhUG9zaXRpb24iLCJ0YXJnZXRYIiwic2luIiwidGFyZ2V0WiIsImNvcyIsImNhbWVyYVRhcmdldFBvc2l0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJjdXJyZW50UG9zIiwidHdlZW5YIiwidHdlZW5ZIiwidHdlZW5aIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsImlucHV0UXVldWUiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNsaWNrRG93blN0YXJ0IiwiaXNEcmFnZ2luZyIsImhhbmRsZVBpY2tlclJlc3VsdCIsIkVWRU5UX01PVVNFTU9WRSIsIm9uTW91c2VNb3ZlIiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJwaWNrZWRFbnRpdHkiLCJzY3JlZW5Qb3NpdGlvbiIsInByb2Nlc3NJbnB1dFF1ZXVlIiwiaGlnaGVzdFByaW9yaXR5UGljayIsImhpZ2hlc3RQcmlvcml0eSIsInBpY2siLCJwaWNrUHJpb3JpdHkiLCJ0YWdzIiwicGlja2VkR2FtZUNoYXJhY3RlciIsInBpY2tlZE5hdmlnYXRpb24iLCJwaWNrZWRQb3J0YWwiLCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIiwiaGFuZGxlRW5kVHVybiIsIlBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IiwiZW5kVHVybkJ1dHRvbiIsImNsaWNrRW5kVHVybiIsIkhpdGJveENvbXBvbmVudCIsImNlbnRlciIsIkFjdGlvblBhbmVsTWVkaWF0b3IiLCJoYW5kbGVGaXJlQ29tbWFuZCIsImFjdGlvbk5hbWUiLCJzZWxlY3RBY3Rpb24iLCJBY3Rpb25CdXR0b25Db21wb25lbnQiLCJoaWdobGlnaHRFbnRpdHkiLCJoYW5kbGVDaGFuZ2VBY3Rpb24iLCJoYW5kbGVDbGljayIsImNvbW1hbmRzIiwiY29tbWFuZEFyZ3MiLCJBY3Rpb25QYW5lbENvbXBvbmVudCIsImJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCIsInByb2plY3RpbGVOYW1lIiwicHJvamVjdGlsZVNjaGVtZSIsInByb2plY3RpbGVUeXBlcyIsInNjaGVtZSIsIm5ld1Byb2plY3RpbGUiLCJwcm9qZWN0aWxlVGVtcGxhdGUiLCJzZXRUYXJnZXQiLCJQcm9qZWN0aWxlQ29tcG9uZW50IiwibmV3UG9zaXRpb24iLCJzcGVlZCIsInByb2plY3RpbGVTcGVlZCIsInN1YjIiLCJtdWwiLCJTdGFtaW5hQmFyTWVkaWF0b3IiLCJuZXdTdGFtaW5hIiwidXBkYXRlU3RhbWluYSIsIlN0YW1pbmFCYXJDb21wb25lbnQiLCJiYXJFbnRpdHlNYXhXaWR0aCIsImJhckVudGl0eSIsIndpZHRoIiwibGVycCIsInJlY3QiLCJzdGFtaW5hTGFiZWwiLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciIsIm1heEFjdGlvbnMiLCJzaG93QXZhaWxhYmxlQWN0aW9uIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IiwicGlwcyIsImNyZWF0ZVBpcCIsIm5ld1BpcCIsInBpcFRlbXBsYXRlIiwiQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCIsInNob3ciLCJwaXBGcm9udCIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIiwic2NyaXB0Q29tcCIsImZsb2F0ZXJOYW1lIiwiZGlzcGxheVN0YXR1cyIsIlRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50Iiwic2V0V29ybGRQb3NpdGlvbiIsIndvcmxkUG9zaXRpb24iLCJzY3JlZW4iLCJkZXZpY2UiLCJncmFwaGljc0RldmljZSIsInNjcmVlbkVudGl0eSIsInBvc3RVcGRhdGUiLCJwb3NpdGlvbiIsIndvcmxkU3BhY2VUb1NjcmVlblNwYWNlIiwid29ybGRQb3MiLCJ3b3JsZFRvU2NyZWVuIiwicGl4ZWxSYXRpbyIsIm1heFBpeGVsUmF0aW8iLCJyYXRpb1NjYWxlIiwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IiwiZmxvYXRpbmdTdGF0dXNlcyIsIm90aGVyU2NoZW1lIiwidGFyZ2V0UG9zIiwibmV3U3RhdHVzIiwidGVtcGxhdGUiLCJQb3J0YWxNZWRpYXRvciIsInNlbGVjdGVkUG9ydGFsIiwiUG9ydGFsQ29tcG9uZW50IiwiRGlhbG9ndWVQYW5lbE1lZGlhdG9yIiwiaGFuZGxlQ2xpY2tDb250aW51ZSIsImhhbmRsZUNsaWNrQ2hvaWNlIiwiY2xlYXJQYW5lbCIsImNyZWF0ZVN0ZXAiLCJjbGVhckRpYWxvZ3VlQ2hvaWNlcyIsInNldENvbnRpbnVlQnV0dG9uIiwiRGlhbG9ndWVQYW5lbENvbXBvbmVudCIsImNvbnRpbnVlQnV0dG9uRW50aXR5Iiwic3RlcERhdGEiLCJjcmVhdGVUZXh0IiwiY2hvaWNlIiwiY3JlYXRlQ2hvaWNlIiwibmV3VGV4dCIsInRleHRFbnRyeVRlbXBsYXRlIiwic2V0dXAiLCJmZWVkRW50aXR5IiwicmVzaXplVG9Db250ZW50cyIsInNjcm9sbGJhclZpZXdFbnRpdHkiLCJzY3JvbGxiYXIiLCJuZXdDaG9pY2UiLCJjaG9pY2VFbnRyeVRlbXBsYXRlIiwiaGFuZGxlU2VsZWN0Q2hvaWNlIiwic3BhY2luZ1ZlcnRpY2FsIiwibGF5b3V0Z3JvdXAiLCJzcGFjaW5nIiwiZmVlZENoaWxkIiwiY29udGVudEVudGl0eSIsImNvbnRlbnRIZWlnaHQiLCJEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCIsImxhYmVsIiwiaW5kZXhFbnRpdHkiLCJEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50IiwiYW5pbWF0aW9uTmFtZSIsIkRpYWxvZ3VlVGV4dENvbXBvbmVudCIsInRpdGxlRW50aXR5IiwiY29sb3IiLCJmcm9tU3RyaW5nIiwidGh1bWJuYWlsIiwidGV4dENvbnRhaW5lciIsIndpdGhJbWFnZVdpZHRoIiwid2l0aG91dEltYWdlV2lkdGgiLCJ0aHVtYm5haWxDb250YWluZXIiLCJlbmFibGUiLCJib2R5RW50aXR5Iiwic2V0SGVpZ2h0IiwibWluSGVpZ2h0IiwidGV4dENoaWxkIiwiQXR0YWNrQnV0dG9uTWVkaWF0b3IiLCJoYW5kbGVUb2dnbGVBdHRhY2siLCJ0b2dnbGVIaWdobGlnaHQiLCJhdHRhY2tFbmFibGVkIiwiQXR0YWNrQnV0dG9uQ29tcG9uZW50IiwiaXNFbmFibGVkIiwiVmVoaWNsZUNvbXBvbmVudCIsImNsYW1wVmVjMyIsInZlYzMiLCJtYXhWYWx1ZSIsInZlbG9jaXR5Iiwic3RlZXJpbmdGb3JjZSIsIm1heFNwZWVkIiwieVJvdGF0aW9uIiwiZGVzaXJlZFZlbG9jaXR5IiwiZm9yY2UiLCJhcnJpdmFsVGhyZXNob2xkIiwiYXJyaXZlVGhyZXNob2xkIiwiU2NyZWVuUmVzaXplQ29tcG9uZW50Iiwid2luZG93Iiwib25SZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwic2NhbGVCbGVuZCIsInJlZmVyZW5jZVJlc29sdXRpb24iLCJzdGFydHVwIl0sIm1hcHBpbmdzIjoid0NBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlDLEVBQVksRUFBUSxLQUNwQkMsRUFBUyxFQUFRLEtBRWpCQyxFQUE0QixXQUM1QixTQUFTQSxFQUFXQyxHQUVoQixHQURBQyxLQUFLQyxXQUFhLEdBQ2RILEVBQVdJLFlBQVlILEdBQ3ZCLE1BQU0sSUFBSUksTUFMSCw0REFPWEgsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUtLLE9BQVNULEVBQVVVLFFBQVFDLE1BQVFYLEVBQVVVLFFBQVFFLFdBQWFaLEVBQVVVLFFBQVFHLFFBQ3pGVCxLQUFLVSx1QkFxRFQsT0FuREFaLEVBQVdhLGlCQUFtQixTQUFVWixVQUM3QkMsS0FBS0UsWUFBWUgsSUFFNUJELEVBQVdjLFlBQWMsU0FBVWIsR0FDL0IsT0FBS0EsR0FHQUMsS0FBS0UsWUFBWUgsS0FDbEJDLEtBQUtFLFlBQVlILEdBQU8sSUFBSUQsRUFBV0MsSUFFcENDLEtBQUtFLFlBQVlILElBTGIsTUFPZkQsRUFBV2UsVUFBVUMsZ0JBQWtCLFNBQVVDLEVBQWtCQyxHQUMxRGhCLEtBQUtDLFdBQVdjLElBQ2pCZixLQUFLaUIsS0FBS0MsaUJBQWlCSCxFQUFrQmYsS0FBS21CLGVBQWdCbkIsTUFFdEVBLEtBQUtDLFdBQVdjLEdBQW9C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SUN0RXpDLE1BQU1HLEdBQXdCajFCLEdBQUcraUIsYUFBYSx5QkFFckRrUyxHQUFzQjdnQyxVQUFVOGdDLE9BQVNBLE9BRXpDRCxHQUFzQjdnQyxVQUFVNnZCLGVBQWlCLFdBQzdDMXdCLEtBQUs0aEMsV0FFTDVoQyxLQUFLMmhDLE9BQU9FLGlCQUFpQixTQUFVN2hDLEtBQUs0aEMsU0FBU2o1QixLQUFLM0ksT0FBTyxJQUlyRTBoQyxHQUFzQjdnQyxVQUFVK2dDLFNBQVcsV0FDdkMsTUFBTXZGLEVBQWlCcjhCLEtBQUt3TSxJQUFJNnZCLGVBRTVCQSxFQUFleEIsTUFBUXdCLEVBQWV2YixPQUN0QzlnQixLQUFLK3ZCLE9BQU9vTSxPQUFPMkYsV0FBYSxFQUVoQzloQyxLQUFLK3ZCLE9BQU9vTSxPQUFPMkYsV0FBYSxFQUdwQzloQyxLQUFLK3ZCLE9BQU9vTSxPQUFPNEYsb0JBQXNCLElBQUl0MUIsR0FBR3NxQixLQUFLc0YsRUFBZXhCLE1BQU93QixFQUFldmIsU0NwQjlGLE1BQVExZSxPQUFNLElBQUssRUFBUSxNQUNyQixRQUFFOUIsSUFBWSxFQUFRLEtBdUNmLElBWGIsTUFDSSxjQUNJQSxHQUFRQyxPQUFRLEVBQ2hCLEdBQU9LLFlBQWMybkIsRUFBVyxXQUFYLFlBQ3JCeGdCLFFBQVFDLElBQUksSUFFWmhJLEtBQUtzSCxPQUFTLEdBQU8xRyxZQUFZMm5CLEVBQVcsV0FBWCxLQUNqQ3ZvQixLQUFLc0gsT0FBTzA2QixRQUFRaGlDLFMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcImNvbnRyb2xsZXIga2V5IGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkXCI7XG52YXIgQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKGtleSkge1xuICAgICAgICB0aGlzLmNvbW1hbmRNYXAgPSB7fTtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ0NvbW1hbmQgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIENvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IENvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdID0gY29tbWFuZENsYXNzUmVmO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5leGVjdXRlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlcihDb250cm9sbGVyLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZC5uYW1lKTtcbiAgICAgICAgY29tbWFuZC5hcHBseSh2b2lkIDAsIFt0aGlzLm11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Q0QkZFMFwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjODcyNEJEXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCJcbiAgICBdO1xuICAgIENvbnRyb2xsZXIuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbGxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vQ29udHJvbGxlclwiKTtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vTW9kZWxcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiRmFjYWRlIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIEZhY2FkZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNhZGUoa2V5KSB7XG4gICAgICAgIGlmIChGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU5vdGlmaWVyKGtleSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZhY2FkZSgpO1xuICAgIH1cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUuaGFzQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgRmFjYWRlLnJlbW92ZUNvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTW9kZWxfMS5Nb2RlbC5yZW1vdmVNb2RlbChrZXkpO1xuICAgICAgICBWaWV3XzEuVmlldy5yZW1vdmVWaWV3KGtleSk7XG4gICAgICAgIENvbnRyb2xsZXJfMS5Db250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlZ2lzdGVyQ29tbWFuZChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlbW92ZUNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yZWdpc3RlclByb3h5KHByb3h5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmV0cmlldmVQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJlbW92ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5oYXNQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck1lZGlhdG9yKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZXRyaWV2ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJlbW92ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc2xlZXBNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmF3YWtlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGFzTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5sb2dnZXIuYXBwbHkodGhpcywgW0ZhY2FkZS5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIChfYSA9IHRoaXMudmlldykubm90aWZ5T2JzZXJ2ZXJzLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbCA9IE1vZGVsXzEuTW9kZWwuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMyRjJFMTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiI0ZGRjMyNVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiXG4gICAgXTtcbiAgICBGYWNhZGUuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gRmFjYWRlO1xufSgpKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjYWRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiTWVkaWF0b3JcIjtcbnZhciBNZWRpYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVkaWF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVkaWF0b3IobWVkaWF0b3JOYW1lLCB2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTWVkaWF0b3IgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBfdGhpcy5tZWRpYXRvck5hbWUgPSBtZWRpYXRvck5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIF90aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcIm5vdGlmaWNhdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0TWVkaWF0b3JOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck5hbWU7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICh2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uU2xlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJzbGVlcFwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vbkF3YWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcImF3YWtlXCIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJpc1NsZWVwaW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbGVlcGluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuYWRkU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS51bnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5jaGFuZ2VTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvbGROb3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25zLnNsaWNlKCk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25OYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk5hbWUuZm9yRWFjaChmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKF90aGlzLCBub3RpZmljYXRpb24pIHx8IGNoYW5nZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbCh0aGlzLCBub3RpZmljYXRpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZCAmJiB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UodGhpcywgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5hZGRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNGNEY2RkVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NTZDMVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiXG4gICAgXTtcbiAgICByZXR1cm4gTWVkaWF0b3I7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lZGlhdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiTW9kZWwgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kZWwoa2V5KSB7XG4gICAgICAgIHRoaXMucHJveHlNYXAgPSB7fTtcbiAgICAgICAgaWYgKE1vZGVsLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgfVxuICAgIE1vZGVsLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBNb2RlbChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5yZW1vdmVNb2RlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHByb3h5LmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgdGhpcy5wcm94eU1hcFtwcm94eS5nZXRQcm94eU5hbWUoKV0gPSBwcm94eTtcbiAgICAgICAgcHJveHkub25SZWdpc3RlcigpO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSkge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcHJveHkub25SZW1vdmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE1vZGVsLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIE1vZGVsO1xufSgpKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL0ZhY2FkZVwiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIm11bHRpdG9uS2V5IGZvciB0aGlzIE5vdGlmaWVyIG5vdCB5ZXQgaW5pdGlhbGl6ZWQhXCI7XG52YXIgTm90aWZpZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpZXIoKSB7XG4gICAgfVxuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZmFjYWRlID0gdGhpcy5nZXRGYWNhZGUoKTtcbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5mYWNhZGUpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuZmFjYWRlKS5zZW5kTm90aWZpY2F0aW9uLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmdldEZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubXVsdGl0b25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGVfMS5GYWNhZGUuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm90aWZpZXI7XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiUHJveHlcIjtcbnZhciBQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJveHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJveHkocHJveHlOYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb3h5TmFtZSA9IHByb3h5TmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ1Byb3h5IDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnNldERhdGEoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0UHJveHlOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU5hbWU7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgUHJveHkuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMxMDI0MTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzI3RDA0Q1wiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiXG4gICAgXTtcbiAgICByZXR1cm4gUHJveHk7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3h5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVyZU1WQygpIHtcbiAgICB9XG4gICAgUHVyZU1WQy5sb2dDb21tYW5kID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kTmFtZSkge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCIgPT4gIFwiICsgY29tbWFuZE5hbWUgKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiOiBhcmdzIFsgXCIgKyBhcmdzICsgXCIgXSAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dNZWRpYXRvciA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dQcm94eSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb25lID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICByZXR1cm4gUHVyZU1WQztcbn0oKSk7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHVyZU1WQy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIlZpZXcgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3KGtleSkge1xuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoVmlldy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfVxuICAgIFZpZXcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IFZpZXcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5yZW1vdmVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuZXZlbnRFbWl0dGVyKS5lbWl0LmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWF0b3IuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbWVkaWF0b3IgZm9yIHJldHJpZXZhbCBieSBuYW1lXG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldID0gbWVkaWF0b3I7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICBtZWRpYXRvci5vblJlZ2lzdGVyKHRoaXMub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gYXdha2VuXG4gICAgICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBtZWRpYXRvciBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBtZWRpYXRvci5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAobWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHNsZXB0XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGZvciBldmVyeSBub3RpZmljYXRpb24gdGhlIG1lZGlhdG9yIGlzIGludGVyZXN0ZWQgaW4uLi5cbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzFbX2ldO1xuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZ2V0IG5vdGlmaWNhdGlvbiBpbnRlcmVzdHMgaWYgYW55XG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgLy8gcmVnaXN0ZXIgbWVkaWF0b3IgYXMgYW4gb2JzZXJ2ZXIgZm9yIGVhY2ggbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMiA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMltfaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIChtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgIH07XG4gICAgVmlldy5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBWaWV3O1xufSgpKTtcbmV4cG9ydHMuVmlldyA9IFZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Db250cm9sbGVyXCIpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXI7XG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlXCIpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGVfMS5GYWNhZGU7XG52YXIgTWVkaWF0b3JfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvclwiKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcl8xLk1lZGlhdG9yO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWxcIik7XG5leHBvcnRzLk1vZGVsID0gTW9kZWxfMS5Nb2RlbDtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyXCIpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyXzEuTm90aWZpZXI7XG52YXIgUHJveHlfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eVwiKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eV8xLlByb3h5O1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9QdXJlTVZDXCIpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQ18xLlB1cmVNVkM7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1ZpZXdcIik7XG5leHBvcnRzLlZpZXcgPSBWaWV3XzEuVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsImV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uTm9kZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0Nvbm5lY3RlZChvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZChub2RlID0+IG5vZGUueCA9PT0gb3RoZXJOb2RlLnhcbiAgICAgICAgICAgICYmIG5vZGUueSA9PT0gb3RoZXJOb2RlLnkgJiYgbm9kZS56ID09PSBvdGhlck5vZGUueikgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyTm9kZS54ICYmIHRoaXMueSA9PT0gb3RoZXJOb2RlLnkgJiYgdGhpcy56ID09PSBvdGhlck5vZGUuejtcbiAgICB9XG5cbiAgICBlcXVhbHNQb2ludCh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gejtcbiAgICB9XG5cbiAgICBhZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQob3RoZXJOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5wdXNoKG90aGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlSW5kZXggPSB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUuZXF1YWxzKG90aGVyTm9kZSkpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnNwbGljZShjb25uZWN0ZWROb2RlSW5kZXgsIDEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG4gICAgLy8gR2V0IG5hdmlnYXRpb24gZmxvb3JzXG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVNYXBGbG9vcihhcHApO1xuICAgIGNvbnN0IHdhbGxzID0gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IGNvdmVyID0gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IHBvcnRhbHMgPSBjcmVhdGVQb3J0YWxzKGFwcCk7XG5cblxuICAgIC8vIFJlZ2lzdGVyIG1lZGlhdG9yc1xuXG4gICAgaWYgKGZhY2FkZS5oYXNQcm94eShHYW1lTWFwUHJveHkuTkFNRSkpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBtYXBcbiAgICAgICAgZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKVxuICAgIH1cblxuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lTWFwUHJveHkoZmxvb3JHcmlkLCB3YWxscywgY292ZXIsIHBvcnRhbHMpKTtcbiAgICBjb25zb2xlLmxvZygnTUFQX0dSSURfQ1JFQVRFRCcpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwRmxvb3IoYXBwKSB7XG4gICAgY29uc3QgbmF2aWdhdGlvbkZsb29ycyA9IGFwcC5yb290LmZpbmRCeVRhZygnbmF2aWdhdGlvbl9mbG9vcicpO1xuXG4gICAgbGV0IGNvbXBsZXRlZEdyaWQgPSBbXTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25Db21wb25lbnRzID0gW107XG4gICAgLy8gRmlyc3QgcGFyc2UgLSBjcmVhdGUgbm9kZXMgYW5kIGNvbm5lY3Rpb25zIGZvciBpbmRpdmlkdWFsIFxuICAgIC8vIG5hdmlnYXRpb24gY29tcG9uZW50c1xuICAgIGZvciAoY29uc3QgZmxvb3JFbnRpdHkgb2YgbmF2aWdhdGlvbkZsb29ycykge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gZmxvb3JFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgICAgIG5hdmlnYXRpb25Db21wb25lbnRzLnB1c2gobmF2Q29tcCk7XG5cbiAgICAgICAgY29uc3QgZmxvb3JHcmlkID0gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpXG4gICAgICAgIG5hdkNvbXAuc2V0R3JpZChmbG9vckdyaWQpO1xuICAgIH1cblxuICAgIC8vIFNlY29uZCBwYXJzZSAtIHN0aXRjaCB0b2dldGhlciBhZGphY2VudCBub2RlcyBpbiBcbiAgICAvLyBjb25uZWN0ZWQgbmF2aWdhdGlvbiBtZXNoZXNcbiAgICBmb3IgKGNvbnN0IG5hdmlnYXRpb25Db21wIG9mIG5hdmlnYXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29ubmVjdGVkQ29tcEVudGl0eSBvZiBuYXZpZ2F0aW9uQ29tcC5jb25uZWN0ZWRDb21wb25lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0ZWROYXZDb21wID0gY29ubmVjdGVkQ29tcEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcblxuICAgICAgICAgICAgam9pblRvQWRqYWNlbnRHcmlkKG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSwgY29ubmVjdGVkTmF2Q29tcC5nZXRHcmlkKCkpO1xuICAgICAgICAgICAgY29tcGxldGVkR3JpZCA9IGNvbXBsZXRlZEdyaWQuY29uY2F0KG5hdmlnYXRpb25Db21wLmdldEdyaWQoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29tcGxldGVkR3JpZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsc0JvdW5kaW5nQm94ZXMgPSBbXTtcbiAgICBjb25zdCBtYXBXYWxsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGwnKTtcbiAgICBmb3IgKGNvbnN0IG1hcFdhbGxFbnRpdHkgb2YgbWFwV2FsbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IGFhYmIgPSBjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkobWFwV2FsbEVudGl0eSk7XG4gICAgICAgIHdhbGxzQm91bmRpbmdCb3hlcy5wdXNoKGFhYmIpO1xuICAgICAgICBjcmVhdGVGbG9vclVuZGVyV2FsbHMobWFwV2FsbEVudGl0eSwgZmxvb3JHcmlkKTtcbiAgICAgICAgbWFwV2FsbEVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdhbGxzQm91bmRpbmdCb3hlcztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkoYm94RW50aXR5KSB7XG4gICAgY29uc3Qgc2NhbGUgPSBib3hFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIHNjYWxlLnkgLyAyLCBzY2FsZS56IC8gMik7XG4gICAgY29uc3QgYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveChib3hFbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHJldHVybiBhYWJiO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGbG9vclVuZGVyV2FsbHMod2FsbCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2FsbFBvcyA9IHdhbGwuZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCB3YWxsU2NhbGUgPSB3YWxsLmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZCh3YWxsUG9zLnkgLSAod2FsbFNjYWxlLnkgKiAwLjUpKTtcblxuICAgIGNvbnN0IGNvcm5lclggPSBNYXRoLnJvdW5kKHdhbGxQb3MueCAtICh3YWxsU2NhbGUueCAqIDAuNSkpO1xuICAgIGNvbnN0IGNvcm5lclogPSBNYXRoLnJvdW5kKHdhbGxQb3MueiAtICh3YWxsU2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgd2FsbFNjYWxlLng7IHgrKykge1xuICAgICAgICBmb3IgKGxldCB6ID0gY29ybmVyWjsgeiA8IGNvcm5lclogKyB3YWxsU2NhbGUuejsgeisrKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGVJbmRleCA9IGZsb29yR3JpZC5maW5kSW5kZXgoKG5vZGUpID0+IG5vZGUuZXF1YWxzUG9pbnQoeCwgeSwgeikpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVkTm9kZXMgPSBmbG9vckdyaWQuc3BsaWNlKG1hdGNoaW5nTm9kZUluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGVsZXRlZE5vZGUgb2YgZGVsZXRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBkZWxldGVkTm9kZS5jb25uZWN0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kaXNjb25uZWN0ZWROb2RlKGRlbGV0ZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpIHtcbiAgICAvLyBzbmFwIHRvIGdyaWRcbiAgICBjb25zdCBncmlkID0gW107XG5cbiAgICBjb25zdCBmbG9vclBvc2l0aW9uID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGZsb29yU2l6ZSA9IGZsb29yRW50aXR5LmdldExvY2FsU2NhbGUoKTtcblxuICAgIGNvbnN0IHNuYXBwZWRXaWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLngpO1xuICAgIGNvbnN0IHNuYXBwZWRCcmVhZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueik7XG5cbiAgICBjb25zdCBzbmFwcGVkWCA9IE1hdGgucm91bmQoZmxvb3JQb3NpdGlvbi54IC0gKHNuYXBwZWRXaWR0aCAvIDIpKTtcbiAgICBjb25zdCBzbmFwcGVkWSA9IGZsb29yUG9zaXRpb24ueTtcbiAgICBjb25zdCBzbmFwcGVkWiA9IE1hdGgucm91bmQoZmxvb3JQb3NpdGlvbi56IC0gKHNuYXBwZWRCcmVhZHRoIC8gMikpO1xuXG4gICAgZm9yIChsZXQgeiA9IHNuYXBwZWRaOyB6IDwgc25hcHBlZFogKyBzbmFwcGVkQnJlYWR0aDsgeisrKSB7XG4gICAgICAgIGZvciAobGV0IHggPSBzbmFwcGVkWDsgeCA8IHNuYXBwZWRYICsgc25hcHBlZFdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgTmF2aWdhdGlvbk5vZGUoeCwgc25hcHBlZFksIHopO1xuICAgICAgICAgICAgZ3JpZC5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZCkge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmlkO1xufVxuXG5mdW5jdGlvbiBqb2luVG9BZGphY2VudEdyaWQoZ3JpZCwgZ3JpZFRvSm9pbikge1xuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWRUb0pvaW4pIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcENvdmVyKGFwcCwgZmxvb3JHcmlkKSB7XG4gICAgbGV0IGNvdmVyUG9pbnRzID0gW107XG4gICAgY29uc3QgY292ZXJFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnY292ZXInKTtcbiAgICBmb3IgKGNvbnN0IGNvdmVyRW50aXR5IG9mIGNvdmVyRW50aXRpZXMpIHtcbiAgICAgICAgY292ZXJQb2ludHMgPSBjb3ZlclBvaW50cy5jb25jYXQoY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goY292ZXJFbnRpdHksIGZsb29yR3JpZCkpO1xuICAgICAgICBjb3ZlckVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdmVyUG9pbnRzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94KGJveCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3QgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBib3hQb3MgPSBib3guZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCBib3hTY2FsZSA9IGJveC5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgeSA9IE1hdGgucm91bmQoYm94UG9zLnkgLSAoYm94U2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQoYm94UG9zLnggLSAoYm94U2NhbGUueCAqIDAuNSkpO1xuICAgIGNvbnN0IGNvcm5lclogPSBNYXRoLnJvdW5kKGJveFBvcy56IC0gKGJveFNjYWxlLnogKiAwLjUpKTtcblxuICAgIGZvciAobGV0IHggPSBjb3JuZXJYOyB4IDwgY29ybmVyWCArIGJveFNjYWxlLng7IHgrKykge1xuICAgICAgICBmb3IgKGxldCB6ID0gY29ybmVyWjsgeiA8IGNvcm5lclogKyBib3hTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvdmVyUG9pbnQgPSBuZXcgcGMuVmVjMyh4LCB5LCB6KTtcbiAgICAgICAgICAgIGNvdmVyUG9pbnRzLnB1c2goY292ZXJQb2ludCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGVJbmRleCA9IGZsb29yR3JpZC5maW5kSW5kZXgoKG5vZGUpID0+IG5vZGUuZXF1YWxzUG9pbnQoeCwgeSwgeikpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVkTm9kZXMgPSBmbG9vckdyaWQuc3BsaWNlKG1hdGNoaW5nTm9kZUluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGVsZXRlZE5vZGUgb2YgZGVsZXRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBkZWxldGVkTm9kZS5jb25uZWN0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kaXNjb25uZWN0ZWROb2RlKGRlbGV0ZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlUG9ydGFscyhhcHApIHtcbiAgICBjb25zdCBwb3J0YWxzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBvcnRhbEVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdwb3J0YWwnKTtcbiAgICBmb3IgKGNvbnN0IHBvcnRhbEVudGl0eSBvZiBwb3J0YWxFbnRpdGllcykge1xuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSBwb3J0YWxFbnRpdHkuc2NyaXB0WydQb3J0YWxDb21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgcG9ydGFsSWQgPSBwb3J0YWxDb21wb25lbnQucG9ydGFsSWQ7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25TY2VuZTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25Qb3J0YWw7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9pbnQgPSBwb3J0YWxDb21wb25lbnQuc3RhbmRpbmdQb2ludC5nZXRQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBoaXRib3hQb2ludCA9IHBvcnRhbENvbXBvbmVudC5oaXRib3guZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICBjb25zdCBwb3J0YWwgPSB7XG4gICAgICAgICAgICBwb3J0YWxJZDogcG9ydGFsSWQsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblNjZW5lOiBkZXN0aW5hdGlvblNjZW5lLFxuICAgICAgICAgICAgZGVzdGluYXRpb25Qb3J0YWw6IGRlc3RpbmF0aW9uUG9ydGFsLFxuICAgICAgICAgICAgc3RhbmRpbmdQb2ludDogc3RhbmRpbmdQb2ludCxcbiAgICAgICAgICAgIGhpdGJveFBvaW50OiBoaXRib3hQb2ludFxuICAgICAgICB9XG5cbiAgICAgICAgcG9ydGFscy5zZXQocG9ydGFsSWQsIHBvcnRhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvcnRhbHM7XG5cbn1cbiIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuXG5leHBvcnQgY2xhc3MgV2VhcG9uc1Byb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIldlYXBvbnNQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKFdlYXBvbnNQcm94eS5OQU1FLCBkYXRhKTtcbiAgICB9XG5cbiAgICBnZXREYW1hZ2Uod2VhcG9uTmFtZSwgZGFtYWdlVGllcikge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlbd2VhcG9uTmFtZV0uZGFtYWdlW01hdGgubWluKGRhbWFnZVRpZXIgLSAxLCA2KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG4gICAgfVxuXG4gICAgZ2V0V2VhcG9uQ2F0ZWdvcnkod2VhcG9uTmFtZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjYXRlZ29yeSwgd2VhcG9uTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5S2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNhdGVnb3J5IGZvciB3ZWFwb246OiAke3dlYXBvbk5hbWV9YCk7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBTdG9yeVZPIH0gPSByZXF1aXJlKCcuL1N0b3J5Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgU3RvcnlQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdG9yeVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICBjb25zdCBzdG9yeVRydW5rID0gYXBwLmFzc2V0cy5nZXQoNDA1Mjk5MjApLnJlc291cmNlO1xuICAgICAgICBjb25zdCBzdG9yeVRyZWVzID0gc3RvcnlUcnVuay50cmVlcztcbiAgICAgICAgY29uc3Qgc3RvcnlUcmVlTWFwID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGZvciAoY29uc3QgdHJlZUtleSBpbiBzdG9yeVRyZWVzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoc3RvcnlUcmVlcywgdHJlZUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yeVRyZWVBc3NldElkID0gc3RvcnlUcmVlc1t0cmVlS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yeVRyZWUgPSBhcHAuYXNzZXRzLmdldChzdG9yeVRyZWVBc3NldElkKS5yZXNvdXJjZTtcblxuICAgICAgICAgICAgICAgIHN0b3J5VHJlZU1hcC5zZXQodHJlZUtleSwgc3RvcnlUcmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKFN0b3J5UHJveHkuTkFNRSwgc3RvcnlUcmVlTWFwKTtcblxuICAgICAgICAvLyBQcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuY3VycmVudFRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICBnZXRUcmVlKHRyZWVJZCkge1xuICAgICAgICBpZiAodGhpcy52by5oYXModHJlZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2V0KHRyZWVJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Tm9kZSh0cmVlLCBub2RlSWQpIHtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0cmVlLm5vZGVzO1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobm9kZXMsIG5vZGVJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBub2Rlc1tub2RlSWRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFN0ZXAobm9kZSwgc3RlcEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzID0gbm9kZS5zdGVwcztcbiAgICAgICAgaWYgKHN0ZXBJbmRleCA8IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXBzW3N0ZXBJbmRleF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ29Ub05vZGUobm9kZUlkKSB7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBub2RlSWQ7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IDA7XG4gICAgfVxuXG4gICAgc3RhcnREaWFsb2d1ZVRyZWUodHJlZUlkKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFRyZWUgPSB0cmVlSWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBcImVudHJ5XCI7XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IDA7XG5cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgaWYgKCF0cmVlKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgQ2Fubm90IHN0YXJ0IGRpYWxvZ3VlOiBUcmVlICR7dGhpcy5jdXJyZW50VHJlZX0gbm90IGZvdW5kYCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBzdGFydCBkaWFsb2d1ZTogbm8gXCJlbnRyeVwiIG5vZGUgZGVmaW5lZCBvbiAke3RyZWVJZH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnROb2RlU3RlcCgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSk7XG4gICAgICAgIGNvbnN0IHZhbGlkU3RlcCA9IHRoaXMuZ2V0VmFsaWRTdGVwKGN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICBpZiAodmFsaWRTdGVwICYmIHZhbGlkU3RlcC5vbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBvbmNlQ29uZGl0aW9uID0gdGhpcy5nZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRoaXMuY3VycmVudFRyZWUsIHRoaXMuY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihvbmNlQ29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWRTdGVwO1xuICAgIH1cblxuXG4gICAgY29udGludWVDdXJyZW50Tm9kZVN0ZXAoKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmdldFRyZWUodGhpcy5jdXJyZW50VHJlZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpXG4gICAgICAgIC8vIGluY3JlbWVudCBzdGVwSW5kZXhcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4Kys7XG5cbiAgICAgICAgY29uc3QgdmFsaWRTdGVwID0gdGhpcy5nZXRWYWxpZFN0ZXAoY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgIGlmICh2YWxpZFN0ZXAgJiYgdmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKG9uY2VDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFN0ZXA7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRTdGVwKG5vZGUsIHN0ZXBJbmRleCkge1xuICAgICAgICBsZXQgbmV4dFZhbGlkU3RlcCA9IHRoaXMuZ2V0U3RlcChub2RlLCBzdGVwSW5kZXgpO1xuXG5cbiAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXApIHtcbiAgICAgICAgICAgIGxldCB0ZXN0Q29uZGl0aW9ucyA9IFtdO1xuICAgICAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXAuY29uZGl0aW9ucykge1xuICAgICAgICAgICAgICAgIHRlc3RDb25kaXRpb25zID0gdGVzdENvbmRpdGlvbnMuY29uY2F0KG5leHRWYWxpZFN0ZXAuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXh0VmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbmNlQ29uZGl0aW9uID0gdGhpcy5nZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgc3RlcEluZGV4KTtcbiAgICAgICAgICAgICAgICB0ZXN0Q29uZGl0aW9ucyA9IHRlc3RDb25kaXRpb25zLmNvbmNhdChvbmNlQ29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGVzdCB2YWxpZCBzdGVwJyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGVzdENvbmRpdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy50ZXN0Q29uZGl0aW9ucyh0ZXN0Q29uZGl0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFZhbGlkU3RlcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gc3RlcEluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWxpZFN0ZXAobm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRWYWxpZFN0ZXA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRyZWVJZCwgbm9kZUlkLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RyZWVJZH0ke25vZGVJZH0ke3N0ZXBJbmRleH1gO1xuICAgIH1cblxuICAgIGdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0cmVlSWQsIG5vZGVJZCwgc3RlcEluZGV4KSB7XG4gICAgICAgIHJldHVybiBgISR7dHJlZUlkfSR7bm9kZUlkfSR7c3RlcEluZGV4fWA7XG4gICAgfVxuXG4gICAgc2VsZWN0Q2hvaWNlKGNob2ljZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDaG9pY2UgPSBjdXJyZW50Tm9kZS5jaG9pY2VzW2Nob2ljZUluZGV4XTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkQ2hvaWNlO1xuICAgIH1cblxuICAgIGFkZENvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihjb25kaXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucy5wdXNoKGNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXN0Q29uZGl0aW9ucyhjb25kaXRpb25zKSB7XG4gICAgICAgIGxldCBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNvbmRpdGlvbiBvZiBjb25kaXRpb25zKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3Igb3BlcmF0b3JzXG4gICAgICAgICAgICBjb25zdCBvckRlbGltaXRlcmVkID0gXCJ8fFwiO1xuICAgICAgICAgICAgY29uc3Qgb3JDb25kaXRpb25zID0gY29uZGl0aW9uLnNwbGl0KG9yRGVsaW1pdGVyZWQpO1xuXG4gICAgICAgICAgICBpZiAob3JDb25kaXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IG9uZSBuZWVkcyB0byBiZSB0cnVlXG4gICAgICAgICAgICAgICAgbGV0IG9yU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uYWxDb25kaXRpb24gb2Ygb3JDb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQ29uZGl0aW9uKG9wdGlvbmFsQ29uZGl0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JTdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gb3JTdWNjZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRoaXMuY2hlY2tDb25kaXRpb24oY29uZGl0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG5cbiAgICBjaGVja0NvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIC8vIGRldGVybWluZSBpZiBwb3NpdGl2ZSBvZiBuZWdhdGl2ZVxuICAgICAgICBpZiAoY29uZGl0aW9uLnN0YXJ0c1dpdGgoXCIhXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZFN0cmluZyA9IGNvbmRpdGlvbi5zbGljZSgxLCBjb25kaXRpb24ubGVuZ3RoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihzdHJpcHBlZFN0cmluZykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIitcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24oc3RyaXBwZWRTdHJpbmcpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLnN0YXJ0c1dpdGgoXCItXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZFN0cmluZyA9IGNvbmRpdGlvbi5zbGljZSgxLCBjb25kaXRpb24ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29uZGl0aW9uKHN0cmlwcGVkU3RyaW5nKTtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihjb25kaXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXBwLWxldmVsIG1lZGlhdG9ycy9wcm94aWVzL2NvbW1hbmRzIGhlcmVcblxuICAgIC8vIENyZWF0ZSBnYW1lIHN0YXRlIHByb3h5XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lU3RhdGVQcm94eSgpKTtcblxuICAgIC8vIExvYWQgd2VhcG9ucyBkYXRhIGFuZCBjcmVhdGUgcHJveHlcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGlmIChhcHApIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDQxNTYzMSkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgV2VhcG9uc1Byb3h5KHdlYXBvbnNEYXRhKSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgU3RvcnlQcm94eSgpKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVNjZW5lQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgc2NlbmVOYW1lID0gYXJnc1swXTtcbiAgICBjb25zdCBwb3J0YWxJZCA9IGFyZ3NbMV07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCwgcG9ydGFsSWQpO1xuXG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGhcbiAgICBsZXQgdGVtcG9yYXJ5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gLTE7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcblxuICAgICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcblxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgICAgIHRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTtcbiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgc2h1ZmZsZUFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvU2h1ZmZsZUFycmF5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgQ29tYmF0Vk8gfSA9IHJlcXVpcmUoJy4vQ29tYmF0Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgQ29tYmF0UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ29tYmF0UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzLCB0ZWFtcykge1xuICAgICAgICBzdXBlcihDb21iYXRQcm94eS5OQU1FLCBuZXcgQ29tYmF0Vk8ocGFydGljaXBhbnRzLCB0ZWFtcykpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuc2V0KHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFByb3h5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRUdXJuKCkge1xuICAgICAgICBjb25zdCByb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZTtcblxuICAgICAgICBpZiAocm91bmRJbml0aWF0aXZlICYmIHJvdW5kSW5pdGlhdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHVybklkID0gcm91bmRJbml0aWF0aXZlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gbmV4dFR1cm5JZDtcblxuICAgICAgICAgICAgaWYgKG5leHRUdXJuSWQgIT09ICdlbmRfcm91bmQnKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV4dCBUdXJuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVHVybiAke25leHRUdXJuSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5nZXQobmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgcHJveHkucmVzZXRDb21iYXRUdXJuU3RhdGUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm94eS5pc05QQykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRpYXRpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRXZlcnlvbmUgaXMgb3V0IG9mIHRoZSBjb21iYXQgc29tZWhvdywgcHJvYmFibHkgZGVhZFxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZW5kIG9mIHJvdW5kIHRva2VuXG4gICAgICAgIGluaXRpYXRpdmVzLnB1c2goJ2VuZF9yb3VuZCcpO1xuXG4gICAgICAgIGxldCBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoaW5pdGlhdGl2ZXMpO1xuICAgICAgICAvLyBlbnN1cmUgcm91bmQgZG9lc24ndCBzdGFydCB3aXRoIFwiZW5kX3JvdW5kXCJcbiAgICAgICAgd2hpbGUgKHNodWZmbGVkSW5pdGlhdGl2ZVswXSA9PT0gXCJlbmRfcm91bmRcIikge1xuICAgICAgICAgICAgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KHNodWZmbGVkSW5pdGlhdGl2ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gc2h1ZmZsZWRJbml0aWF0aXZlO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5uZXh0VHVybkNoYXJhY3RlcklkO1xuICAgIH1cblxuICAgIGdldCBhY3RpdmVQYXJ0aWNpcGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQ7XG4gICAgfVxuXG4gICAgc2V0IGFjdGl2ZVBhcnRpY2lwYW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgZ2V0IHRlYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by50ZWFtcztcbiAgICB9XG5cbiAgICByZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIHBhcnRpY2NpcGFudHNcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZGVsZXRlKGNoYXJhY3RlcklkKTtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gaW5pdGlhdGl2ZVxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlLmZpbHRlcihlID0+IGUgIT09IGNoYXJhY3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHRlYW1dIG9mIHRoaXMudGVhbXMuZW50cmllcygpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckluZGV4ID0gdGVhbS5pbmRleE9mKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGVhbS5zcGxpY2UoY2hhcmFjdGVySW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGVhbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcInNwb3R0ZWRcIiwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSk7XG5cblxuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCB0ZWFtcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwbGF5ZXJUZWFtID0gWydwbGF5ZXInXTtcbiAgICB0ZWFtcy5zZXQoJ3BsYXllcl90ZWFtJywgcGxheWVyVGVhbSk7XG5cbiAgICBjb25zdCBvcHBvc2luZ1RlYW0gPSBbaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZF0uY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT0gcG9zO1xuICAgIH0pO1xuICAgIHRlYW1zLnNldCgnb3Bwb3NpbmdfdGVhbScsIG9wcG9zaW5nVGVhbSk7XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBwbGF5ZXJUZWFtLmNvbmNhdChvcHBvc2luZ1RlYW0pO1xuXG5cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX01PVkVNRU5UICsgcGFydGljaXBhbnQpO1xuICAgICAgICBpZiAocGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KHBhcnRpY2lwYW50cywgdGVhbXMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgIH0sIDIwMDApO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgfSwgNTAwKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBCZWhhdmlvdXJTdGF0dXMge1xuICAgIHN0YXRpYyBnZXQgU1VDQ0VTUygpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEZBSUxVUkUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBSVU5OSU5HKCkgeyByZXR1cm4gMiB9O1xuICAgIHN0YXRpYyBnZXQgRVJST1IoKSB7IHJldHVybiAzIH07XG59IiwiaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmlkID0gY3JlYXRlVVVJRCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgW107XG4gICAgfVxuXG4gICAgZXhlY3V0ZSh0aWNrKSB7XG4gICAgICAgIC8qIEVOVEVSICovXG4gICAgICAgIHRoaXMuX2VudGVyKHRpY2spO1xuXG4gICAgICAgIC8qIE9QRU4gKi9cbiAgICAgICAgaWYgKCF0aWNrLmJsYWNrYm9hcmQuZ2V0KCdpc09wZW4nLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9vcGVuKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVElDSyAqL1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLl90aWNrKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFICovXG4gICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIEVYSVQgKi9cbiAgICAgICAgdGhpcy5fZXhpdCh0aWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIF9lbnRlcih0aWNrKSB7XG4gICAgICAgIHRpY2suZW50ZXJOb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmVudGVyKHRpY2spO1xuICAgIH1cblxuICAgIF9vcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5vcGVuTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgdHJ1ZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5vcGVuKHRpY2spO1xuICAgIH1cblxuICAgIF90aWNrKHRpY2spIHtcbiAgICAgICAgdGljay50aWNrTm9kZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGljayh0aWNrKTtcbiAgICB9XG5cbiAgICBfY2xvc2UodGljaykge1xuICAgICAgICB0aWNrLmNsb3NlTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgZmFsc2UsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuY2xvc2UodGljayk7XG4gICAgfVxuXG4gICAgX2V4aXQodGljaykge1xuICAgICAgICB0aWNrLmV4aXROb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4aXQodGljayk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcmlkZSB0aGVzZVxuICAgIGVudGVyKHRpY2spIHsgfVxuICAgIG9wZW4odGljaykgeyB9XG4gICAgdGljayh0aWNrKSB7IHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1IgfVxuICAgIGNsb3NlKHRpY2spIHsgfVxuICAgIGV4aXQodGljaykgeyB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgdmFyIHMgPSBbXTtcbiAgICB2YXIgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxNF0gPSBcIjRcIjtcblxuICAgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpO1xuXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgdmFyIHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG5cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNYXN0ZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUuZXhlY3V0ZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEJsYWNrYm9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLmJhc2VNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSBnbG9iYWwgaW5mb3JtYXRpb25cbiAgICAgICAgdGhpcy50cmVlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgdHJlZSBhbmQgbm9kZSBpbmZvcm1hdGlvblxuICAgIH1cblxuICAgIGdldFRyZWVNZW1vcnkodHJlZVNjb3BlKSB7XG4gICAgICAgIGlmICghdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0pIHtcbiAgICAgICAgICAgIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdID0ge1xuICAgICAgICAgICAgICAgIG5vZGVNZW1vcnk6IHt9LFxuICAgICAgICAgICAgICAgIG9wZW5Ob2RlczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE5vZGVNZW1vcnkodHJlZU1lbW9yeSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRyZWVNZW1vcnlbJ25vZGVNZW1vcnknXTtcbiAgICAgICAgaWYgKCFtZW1vcnkuaGFzT3duUHJvcGVydHkobm9kZVNjb3BlKSkge1xuICAgICAgICAgICAgbWVtb3J5W25vZGVTY29wZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnlbbm9kZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgdmFyIG1lbW9yeSA9IHRoaXMuYmFzZU1lbW9yeTtcblxuICAgICAgICBpZiAodHJlZVNjb3BlKSB7XG4gICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldFRyZWVNZW1vcnkodHJlZVNjb3BlKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVTY29wZSkge1xuICAgICAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0Tm9kZU1lbW9yeShtZW1vcnksIG5vZGVTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5O1xuICAgIH07XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICBtZW1vcnlba2V5XSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQoa2V5LCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIHJldHVybiBtZW1vcnlba2V5XTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFRpY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzID0gW107XG4gICAgICAgIHRoaXMubm9kZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlbnRlck5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm5vZGVDb3VudCsrO1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cblxuICAgIG9wZW5Ob2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIHRpY2tOb2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIGNsb3NlTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnBvcCgpO1xuICAgIH1cblxuICAgIGV4aXROb2RlKG5vZGUpIHtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBUaWNrIH0gZnJvbSBcIi4vVGlja1wiO1xuXG5leHBvcnQgY2xhc3MgQmVoYXZpb3VyVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKGlkKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yb290ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRpY2sodGFyZ2V0LCBibGFja2JvYXJkKSB7XG4gICAgICAgIC8qIENSRUFURSBBIFRJQ0sgT0JKRUNUICovXG4gICAgICAgIGNvbnN0IHRpY2sgPSBuZXcgVGljaygpO1xuICAgICAgICB0aWNrLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGljay5ibGFja2JvYXJkID0gYmxhY2tib2FyZDtcbiAgICAgICAgdGljay50cmVlID0gdGhpcztcblxuICAgICAgICAvKiBUSUNLIE5PREUgKi9cbiAgICAgICAgdGhpcy5yb290LmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgTk9ERVMgRlJPTSBMQVNUIFRJQ0ssIElGIE5FRURFRCAqL1xuICAgICAgICBjb25zdCBsYXN0T3Blbk5vZGVzID0gYmxhY2tib2FyZC5nZXQoJ29wZW5Ob2RlcycsIHRoaXMuaWQpIHx8IFtdO1xuICAgICAgICBjb25zdCBjdXJyT3Blbk5vZGVzID0gdGljay5vcGVuTm9kZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgLy8gZG9lcyBub3QgY2xvc2UgaWYgaXQgaXMgc3RpbGwgb3BlbiBpbiB0aGlzIHRpY2tcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihsYXN0T3Blbk5vZGVzLmxlbmd0aCwgY3Vyck9wZW5Ob2Rlcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBpZiAobGFzdE9wZW5Ob2Rlc1tpXSAhPT0gY3Vyck9wZW5Ob2Rlc1tpXSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vZGVzXG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0T3Blbk5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgbGFzdE9wZW5Ob2Rlc1tpXS5jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFBPUFVMQVRFIEJMQUNLQk9BUkQgKi9cbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ29wZW5Ob2RlcycsIGN1cnJPcGVuTm9kZXMsIHRoaXMuaWQpO1xuICAgICAgICBibGFja2JvYXJkLnNldCgnbm9kZUNvdW50JywgdGljay5ub2RlQ291bnQsIHRoaXMuaWQpO1xuXG4gICAgfVxufSIsImltcG9ydCB7IEJsYWNrYm9hcmQgfSBmcm9tICcuLi9jb3JlL0JsYWNrYm9hcmQnO1xuaW1wb3J0IHsgQmVoYXZpb3VyVHJlZSB9IGZyb20gJy4uL2NvcmUvQmVoYXZpb3VyVHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9ICdiYXNpY01lbGVlVHJlZSc7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IG5ldyBCbGFja2JvYXJkKCk7XG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBCZWhhdmlvdXJUcmVlKGlkKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICAvLyBPdmVycmlkZSB0byBzZXQgdHJlZVxuICAgIH1cblxuICAgIHJ1bkNvbW1hbmRzKGZhY2FkZSwgY2hhcmFjdGVySWQpIHtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImZhY2FkZVwiLCBmYWNhZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJjaGFyYWN0ZXJJZFwiLCBjaGFyYWN0ZXJJZCwgdGhpcy50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50cmVlLnRpY2sodGhpcywgdGhpcy5ibGFja2JvYXJkKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgUHJpb3JpdHkgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBTZXRQbGF5ZXJBc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgndGFyZ2V0JywgJ3BsYXllcicsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIE1lbGVlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIEVuZENvbWJhdFR1cm4gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc01vdmVtZW50UmVtYWluaW5nIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzTmV4dFRvUGxheWVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhjaGFyYWN0ZXJDdXJyZW50Tm9kZSkpO1xuXG4gICAgICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNZW1TZXF1ZW5jZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBvcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgMCwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdydW5uaW5nQ2hpbGQnLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBjaGlsZDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmNoaWxkcmVuW2ldLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgaSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vQmVoYXZpb3VyU3RhdHVzJztcbmV4cG9ydCBjbGFzcyBJbnZlcnRlciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcblxuICAgICAgICAvLyBwcmVzdW1lIGludmVydGVyIGhhcyBvbmUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSlcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc1RhcmdldERlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzRGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzQWN0aW9uc1JlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IE1lbGVlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBIYXNNb3ZlbWVudFJlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZyc7XG5pbXBvcnQgeyBJc05leHRUb1BsYXllciB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllcic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBNb3ZlVG93YXJkc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljTWVsZWVUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY01lbGVlVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJc05leHRUb1BsYXllcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbGVlQXR0YWNrVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBdKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgbm9kZSA9IGFyZ3NbMF07XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB2by5pZCwgcGF0aCk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhbGthYmxlTm9kZXMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDIzNTk2Nik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB3YWxrYWJsZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB3YWxrYWJsZVRpbGVBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aWxlLnNldExvY2FsUG9zaXRpb24obm9kZS54LCBub2RlLnksIG5vZGUueik7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGthYmxlX3RpbGUnKTtcbiAgICBmb3IgKGNvbnN0IHdhbGthYmxlVGlsZUVudGl0eSBvZiB3YWxrYWJsZVRpbGVFbnRpdGllcykge1xuICAgICAgICB3YWxrYWJsZVRpbGVFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gXCIuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXJcIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgbW92ZWFibGVOb2Rlcyk7XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gXCIuL0dhbWVDb21tYW5kc1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kTW92ZW1lbnRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5kTm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZW5kTm9kZTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGlkKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIHJldHVybiBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LFxuICAgICAgICBjdXJyZW50Tm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICBjdXJyZW50Tm9kZS56KTtcbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCB3ZWFwb25Qcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvblByb3h5LmdldFdlYXBvbkNhdGVnb3J5KHBsYXllckNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snICYmIHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSywgaWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEssIGlkKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmICghY29tYmF0UHJveHkgfHwgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIC8vIG5vdCB5b3VyIHR1cm5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJDaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIDw9IDApIHtcbiAgICAgICAgICAgIC8vIG91dCBvZiBhY3Rpb25zXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk91dCBvZiBhY3Rpb25zXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJObyBsaW5lIG9mIHNpZ2h0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgICAgICAgICAgLy8gcGF0aCBsZW5ndGggaW5jbHVkZXMgY3VycmVudCBub2RlLCBzbyBkZWR1Y3Qgb24gdG8gd29yayBvdXQgYWN0dWFsIG1vdmVhYmxlIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhUb1RhcmdldCAmJiBwYXRoVG9UYXJnZXQubGVuZ3RoIC0gMSA8PSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS52by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3ZWFwb24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCwgcGF0aFRvVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBwYXRoVG9UYXJnZXQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIkNhbm5vdCByZWFjaCB0YXJnZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHRhcmdldEN1cnJyZW50Tm9kZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgcmV0dXJuIGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh0YXJnZXRDdXJycmVudE5vZGUpKTtcbn1cblxuZnVuY3Rpb24gY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgcGxheWVyUG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHBsYXllckNoYXJhY3RlclByb3h5KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuXG4gICAgcmV0dXJuICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwocGxheWVyUG9pbnQsIHRhcmdldFBvaW50KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25UeXBlcyB9IGZyb20gJy4uL2RhdGEvV2VhcG9uVHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgY29uc3QgZGVmZW5kZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIC8vIERldGVybWluZSB3aW5uZXJcbiAgICBpZiAoYXR0YWNrZXJSb2xsID09PSBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBBdHRhY2sgdGllZCgke2F0dGFja2VyUm9sbH0vJHtkZWZlbmRlclJvbGx9KWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdHRhY2tlclJvbGwgPiBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyUm9sbCwgZGVmZW5kZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7YXR0YWNrZXJJZH0gZGFtYWdlcyAke2RlZmVuZGVySWR9IGZvciAke2RhbWFnZX1gKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvbnNQcm94eS5nZXRXZWFwb25DYXRlZ29yeShkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc01lbGVlV2VhcG9uID0gd2VhcG9uQ2F0ZWdvcnkgPT09IFwibWVsZWVcIjtcblxuICAgICAgICAgICAgLy8gRGVmZW5kZXIgd2luc1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlVGllciA9IGRldGVybWluZURhbWFnZVRpZXIoZGVmZW5kZXJSb2xsLCBhdHRhY2tlclJvbGwpO1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uID0gKGhhc01lbGVlV2VhcG9uKSA/IGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24gOiBXZWFwb25UeXBlcy5VTkFSTUVEO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uc1Byb3h5LmdldERhbWFnZSh3ZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgYXR0YWNrZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7ZGVmZW5kZXJJZH0gZGFtYWdlcyAke2F0dGFja2VySWR9IGZvciAke2RhbWFnZX1gKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgZGVmZW5kZXJJZCk7XG5cbiAgICAgICAgICAgIGlmIChhdHRhY2tlclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgYXR0YWNrZXJJZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSAmJiBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHRhcmdldElkID0gYXJnc1sxXTtcbiAgICBjb25zdCBwYXRoID0gYXJnc1syXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY2hhcmFjdGVyUHJveHkudXNlTW92ZW1lbnQocGF0aC5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuXG4gICAgY29uc3QgZmluaXNoTW92ZVByb21pc2UgPSBjaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpO1xuICAgIGZpbmlzaE1vdmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGNoYXJhY3RlcklkLCB0YXJnZXRJZCk7XG5cbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnNvbGUubG9nKGBLaWxsIGNoYXJhY3Rlcjo6ICR7Y2hhcmFjdGVySWR9YCk7XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZGVhdGhcIiwgY2hhcmFjdGVyUHJveHkpO1xuXG4gICAgaWYgKGNoYXJhY3RlclByb3h5KSB7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkpIHtcbiAgICAgICAgY29tYmF0UHJveHkucmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdChjaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsb3NpbmdUZWFtID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGlmIChmYWNhZGUuaGFzTWVkaWF0b3IoQ29tYmF0UHJveHkuTkFNRSkpIHtcbiAgICAgICAgZmFjYWRlLnJlbW92ZU1lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIH1cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuXG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGxvc2luZ1RlYW0gPT09ICdwbGF5ZXJfdGVhbScpIHtcbiAgICAgICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5HQU1FX09WRVIpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgR2FtZSBPdmVyYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBWaWN0b3J5YCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihtaW5EaXN0YW5jZSwgbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgc3VwZXIoW10pO1xuICAgICAgICB0aGlzLm1pbkRpc3RhbmNlID0gbWluRGlzdGFuY2U7XG4gICAgICAgIHRoaXMubWF4RGlzdGFuY2UgPSBtYXhEaXN0YW5jZTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgbWluRGlzdGFuY2VTcXJ0ID0gTWF0aC5wb3codGhpcy5taW5EaXN0YW5jZSwgMik7XG4gICAgICAgIGNvbnN0IG1heERpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWF4RGlzdGFuY2UsIDIpO1xuXG4gICAgICAgIGNvbnN0IG1vdmVQb2ludHNBdmFpbGFibGUgPSBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgY2hhcmFjdGVyQ3VycmVudE5vZGUpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA+PSBtaW5EaXN0YW5jZVNxcnQgJiYgZGlzdGFuY2VUb1RhcmdldCA8PSBtYXhEaXN0YW5jZVNxcnQpIHtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgd2l0aGluIHJhbmdlLCBnZXQgb24gd2l0aCBpdFxuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbW92ZVBvaW50c0F2YWlsYWJsZSk7XG4gICAgICAgICAgICBpZiAobW92ZWFibGVOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPCBtaW5EaXN0YW5jZVNxcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb28gZmFyIGF3YXlcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBtb3ZlYWJsZU5vZGVzLnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikgKyBNYXRoLnBvdyhwMi56IC0gcDEueiwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgUGlja05leHRBY3Rpb24gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGNoYXJhY3RlcklkKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcblxuZXhwb3J0IGNsYXNzIENhblNlZVRhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgLy8gTG9vayB0byB0aGUgY2VudGVyIG9mIGVhY2ggY2hhcmFjdGVyXG4gICAgICAgIGNvbnN0IGZyb21Qb3MgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KGNoYXJhY3RlclByb3h5KTtcbiAgICAgICAgY29uc3QgdG9Qb3MgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHRhcmdldFByb3h5KTtcblxuICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9Qb3MgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHRhcmdldFByb3h5KTtcblxuICAgICAgICAgICAgICAgIC8vIEZvbGxvdyBwYXRoIHRvIHNlZSBpZiB0YXJnZXQgaXMgdmlzaWJsZSBmcm9tIGFueSBwb2ludFxuICAgICAgICAgICAgICAgIGxldCBkZWxldGVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aE5vZGUgPSBwYXRoW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Qb3MgPSBuZXcgcGMuVmVjMyhwYXRoTm9kZS54LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5vZGUueSArIGNoYXJhY3RlclByb3h5LmhlaWdodCAqIDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnopO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhblNlZVRhcmdldCA9ICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoZnJvbVBvcywgdG9Qb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRyaW0gdG8gcG9pbnQgb2YgdmlzaWJpbGl0eVxuICAgICAgICAgICAgICAgIHBhdGguc3BsaWNlKDAsIGRlbGV0ZUNvdW50KTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKTtcbn1cbiIsImltcG9ydCB7IE1hc3Rlck5vZGUgfSBmcm9tICcuLi9jb3JlL01hc3Rlck5vZGUnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ29tbWFuZFRyZWUgfSBmcm9tICcuL0NoYXJhY3RlckNvbW1hbmRUcmVlJztcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSAnLi4vY29yZS9Qcmlvcml0eSc7XG5pbXBvcnQgeyBTZXRQbGF5ZXJBc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldCc7XG5pbXBvcnQgeyBFbmRDb21iYXRUdXJuIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4nO1xuaW1wb3J0IHsgTWVtU2VxdWVuY2UgfSBmcm9tICcuLi9jb3JlL01lbVNlcXVlbmNlJztcbmltcG9ydCB7IEludmVydGVyIH0gZnJvbSAnLi4vY29yZS9kZWNvcmF0b3JzL0ludmVydGVyJztcbmltcG9ydCB7IElzVGFyZ2V0RGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQnO1xuaW1wb3J0IHsgSXNEZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZCc7XG5pbXBvcnQgeyBIYXNNb3ZlbWVudFJlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZyc7XG5pbXBvcnQgeyBIYXNBY3Rpb25zUmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcnO1xuaW1wb3J0IHsgUmFuZ2VBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUmFuZ2VBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQnO1xuaW1wb3J0IHsgUGlja05leHRBY3Rpb24gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUGlja05leHRBY3Rpb24nO1xuaW1wb3J0IHsgQ2FuU2VlVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldCc7XG5pbXBvcnQgeyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBCYXNpY1JhbmdlZFRyZWUgZXh0ZW5kcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2Jhc2ljUmFuZ2VkVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBDYW5TZWVUYXJnZXQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0KDksIDEyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQaWNrTmV4dEFjdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc0FjdGlvbnNSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhblNlZVRhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmFuZ2VBdHRhY2tUYXJnZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVuZENvbWJhdFR1cm4oKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApXG4gICAgICAgIF0pO1xuICAgIH1cbn0iLCJcbmltcG9ydCB7IEJhc2ljTWVsZWVUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZSc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEJvdEJlaGF2aW91clR5cGVzIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcyc7XG5pbXBvcnQgeyBCYXNpY1JhbmdlZFRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZW5lbXlJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG5cbiAgICBzd2l0Y2ggKGVuZW15UHJveHkuYm90QmVoYXZpb3VyKSB7XG4gICAgICAgIGNhc2UgQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfTUVMRUU6XG4gICAgICAgICAgICBjb25zdCBiYXNpY01lbGVlVHJlZSA9IG5ldyBCYXNpY01lbGVlVHJlZSgpO1xuICAgICAgICAgICAgYmFzaWNNZWxlZVRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRDpcbiAgICAgICAgICAgIGNvbnN0IGJhc2ljUmFuZ2VkVHJlZSA9IG5ldyBCYXNpY1JhbmdlZFRyZWUoKTtcbiAgICAgICAgICAgIGJhc2ljUmFuZ2VkVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICAvLyBTY29yZXMgZm9yIGNvbXBhcmlzc29uXG4gICAgbGV0IGF0dGFja2VyU2NvcmUgPSAwO1xuICAgIGxldCBkZWZlbmRlclNjb3JlID0gMDtcblxuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGF0dGFja2VyTm9kZSA9IGF0dGFja2VyUHJveHkuY3VycmVudE5vZGU7XG4gICAgbGV0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGxldCBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcbiAgICBjb25zdCBkZWZlbmRlck5vZGUgPSBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBhdHRhY2tlclNjb3JlICs9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclByb3h5LnNraWxsKTtcbiAgICBkZWZlbmRlclNjb3JlICs9IHJvbGxBdHRhY2tTa2lsbChkZWZlbmRlclByb3h5LnNraWxsKTtcblxuICAgIGNvbnN0IHdlYXBvbnNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgaXNJbkNvdmVyID0gZ2FtZU1hcFByb3h5LmlzSW5Db3ZlcihcbiAgICAgICAgbmV3IHBjLlZlYzMoZGVmZW5kZXJOb2RlLngsIGRlZmVuZGVyTm9kZS55LCBkZWZlbmRlck5vZGUueiksXG4gICAgICAgIG5ldyBwYy5WZWMzKGF0dGFja2VyTm9kZS54LCBhdHRhY2tlck5vZGUueSwgYXR0YWNrZXJOb2RlLnopKTtcblxuICAgIGlmIChpc0luQ292ZXIpIHtcbiAgICAgICAgZGVmZW5kZXJTY29yZSArPSAyO1xuICAgIH1cblxuICAgIGNvbnN0IHByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIC8vIFRPRE86IG1ha2UgdGhpcyBtb3JlIHNvcGhpc3RpY2F0ZWRcbiAgICBjb25zdCBwcm9qZWN0aWxlT3JpZ2luID0gbmV3IHBjLlZlYzMoYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS54LFxuICAgICAgICBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlLnkgKyAxLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlLnopO1xuXG4gICAgY29uc3QgcHJvamVjdGlsZVRhcmdldCA9IG5ldyBwYy5WZWMzKGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIC8vIFJlZHVjZSBhY3Rpb25zXG4gICAgYXR0YWNrZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIC09IDE7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBhdHRhY2tlcklkKTtcbiAgICBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLmNyZWF0ZVByb2plY3RpbGUoJ2Nyb3NzYm93X2JvbHQnLCBwcm9qZWN0aWxlT3JpZ2luLCBwcm9qZWN0aWxlVGFyZ2V0KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgb3V0Y29tZVxuICAgICAgICAgICAgaWYgKGF0dGFja2VyU2NvcmUgPiBkZWZlbmRlclNjb3JlKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0YXJnZXQgaXMgaW4gbWVsZWUgYW5kIHJvbGwgZm9yIG5ldyB0YXJnZXRcbiAgICAgICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5laWdoYm91cmluZ05vZGVzID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVUYXJnZXRzID0gW2RlZmVuZGVySWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgY29tYmF0UHJveHkucGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnRpY2lwYW50UHJveHkuaXNEZWFkICYmIG5laWdoYm91cmluZ05vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhwYXJ0aWNpcGFudFByb3h5LmN1cnJlbnROb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVRhcmdldHMucHVzaChwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBkZWZlbmRlcklkID0gcG9zc2libGVUYXJnZXRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlVGFyZ2V0cy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlVGllciA9IGRldGVybWluZURhbWFnZVRpZXIoYXR0YWNrZXJTY29yZSwgZGVmZW5kZXJTY29yZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uc1Byb3h5LmdldERhbWFnZShhdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cblxuICAgICAgICAgICAgICAgIGlmIChkZWZlbmRlclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGVmZW5kZXIgd2luc1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUywgXCJkb2RnZVwiLCBkZWZlbmRlclByb3h5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgIGlmIChjb21iYXRQcm94eSAmJiBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5mdW5jdGlvbiByb2xsQXR0YWNrU2tpbGwoc2tpbGwpIHtcbiAgICByZXR1cm4gc2tpbGwgKyByb2xsRGljZSgpICsgcm9sbERpY2UoKTtcbn1cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVpcFdlYXBvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBNdXN0IGNoYW5nZSB3ZWFwb24gb24geW91ciB0dXJuYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3Qgd2VhcG9uID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY2hhcmFjdGVyUHJveHkuZXF1aXBwZWRXZWFwb24gPSB3ZWFwb247XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtjaGFyYWN0ZXJJZH0gZXF1aXBzICR7d2VhcG9ufWApO1xuXG59IiwiaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0YW5kaW5nUG9zaXRpb24gPSBhcmdzWzBdO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlc3RpbmF0aW9uUG9ydGFsID0gYXJnc1syXTtcblxuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBzdGFuZGluZ05vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHN0YW5kaW5nUG9zaXRpb24pO1xuICAgIGNvbnN0IHBsYXllck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIHBsYXllck1lZGlhdG9yLm1vdmVUb05vZGVXaXRoUHJvbWlzZShzdGFuZGluZ05vZGUpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGRlc3RpbmF0aW9uU2NlbmUsIGRlc3RpbmF0aW9uUG9ydGFsKTtcbiAgICAgICAgfSk7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBwb3J0YWxJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJBc3NldCA9IGFwcC5hc3NldHMuZ2V0KDQwNTIzMzM2KTtcbiAgICBjb25zdCBjb250YWluZXIgPSBhcHAucm9vdC5maW5kQnlOYW1lKFwiV29ybGRPYmplY3RzXCIpO1xuICAgIGNvbnN0IHBsYXllckVudGl0eSA9IHBsYXllckNoYXJhY3RlckFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgY29udGFpbmVyLmFkZENoaWxkKHBsYXllckVudGl0eSk7XG5cbiAgICBjb25zdCBtYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBwb3J0YWwgPSBtYXBQcm94eS5yZXRyaWV2ZVBvcnRhbChwb3J0YWxJZCk7XG4gICAgcGxheWVyRW50aXR5LnNldExvY2FsUG9zaXRpb24ocG9ydGFsLnN0YW5kaW5nUG9pbnQpO1xuXG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cblxuICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICBpZiAocGF0aFRvVGFyZ2V0KSB7XG4gICAgICAgIHBsYXllckNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aFRvVGFyZ2V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9ESUFMT0dVRSwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBsYXllck5vZGUpKTtcblxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIC8vIEFscmVhZHkgdGhlcmVcbiAgICAgICAgcmV0dXJuIFtwbGF5ZXJOb2RlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgICAgIGlmICh1bm9jY3VwaWVkTm9kZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHVub2NjdXBpZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydERpYWxvZ3VlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZXN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKVxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgY29uc3QgZGlhbG9ndWVUcmVlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuZGlhbG9ndWVUcmVlO1xuICAgIGNvbnN0IHN0b3J5VHJlZSA9IHN0b3J5UHJveHkuc3RhcnREaWFsb2d1ZVRyZWUoZGlhbG9ndWVUcmVlKTtcblxuICAgIGdhbWVzdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRElBTE9HVUUpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRhcmdldENoYXJhY3RlcklkLCBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwpO1xuXG4gICAgY29uc3Qgb3BlbmluZ1N0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgdHJlZUlkOiBkaWFsb2d1ZVRyZWUsXG4gICAgICAgIHN0ZXA6IG9wZW5pbmdTdGVwXG4gICAgfSk7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgbmV4dFN0ZXAgPSBzdG9yeVByb3h5LmNvbnRpbnVlQ3VycmVudE5vZGVTdGVwKCk7XG4gICAgaWYgKG5leHRTdGVwKSB7XG5cbiAgICAgICAgaWYgKG5leHRTdGVwLmNob2ljZXMpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9XG5cbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXBcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNob2ljZUluZGV4ID0gYXJnc1swXTtcbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IHN0b3J5UHJveHkuc2VsZWN0Q2hvaWNlKGNob2ljZUluZGV4KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICB0aXRsZTogXCJZT1VcIixcbiAgICAgICAgdGV4dDogc2VsZWN0ZWRDaG9pY2UudGV4dCxcbiAgICAgICAgdGl0bGVDb2xvdXI6ICcjREI4MzFDJ1xuICAgIH1cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICBzdGVwOiByZXNwb25zZVxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coc2VsZWN0ZWRDaG9pY2UpO1xuXG4gICAgaWYgKHNlbGVjdGVkQ2hvaWNlLmdvdG8pIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHNlbGVjdGVkQ2hvaWNlLmdvdG8pO1xuICAgIH1cblxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgbmV3Tm9kZSA9IGFyZ3NbMF07XG4gICAgc3RvcnlQcm94eS5nb1RvTm9kZShuZXdOb2RlKTtcbiAgICBjb25zdCBjdXJyZW50U3RlcCA9IHN0b3J5UHJveHkuZ2V0Q3VycmVudE5vZGVTdGVwKCk7XG5cbiAgICBpZiAoY3VycmVudFN0ZXApIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICAgICAgc3RlcDogY3VycmVudFN0ZXBcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZXN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTik7XG5cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMKTtcblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cblxuICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICBpZiAocGF0aFRvVGFyZ2V0KSB7XG4gICAgICAgIHBsYXllckNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aFRvVGFyZ2V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IG5ld0FjdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gbmV3QWN0aW9uO1xuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmVteVR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWROb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kJztcbmltcG9ydCB7IGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kTW92ZW1lbnRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZUF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBlcXVpcFdlYXBvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCc7XG5pbXBvcnQgeyBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsayc7XG5pbXBvcnQgeyBzdGFydERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQnO1xuaW1wb3J0IHsgZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kRGlhbG9ndWVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kJztcblxuZXhwb3J0IGNsYXNzIEdhbWVGYWNhZGUgZXh0ZW5kcyBGYWNhZGUge1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShrZXkpIHtcbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgR2FtZUZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IEtFWSgpIHsgcmV0dXJuIFwiQ2Fjb2dlblwiIH07XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDYWNvZ2VuRmFjYWRlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUVVAoKSB7IHJldHVybiBHYW1lRmFjYWRlLk5BTUUgKyBcIlN0YXJ0VXBcIiB9O1xuXG4gICAgc3RhcnR1cChnYW1lKSB7XG4gICAgICAgIHRoaXMuc2VuZE5vdGlmaWNhdGlvbihHYW1lRmFjYWRlLlNUQVJUVVAsIGdhbWUpO1xuICAgIH1cblxuICAgIHNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzdXBlci5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDb250cm9sbGVyKCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lRmFjYWRlLlNUQVJUVVAsIHN0YXJ0dXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgY2hhbmdlU2NlbmVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHBhcnNlR2FtZU1hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBzdGFydENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgbmV4dENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5ELCBuZXh0Q29tYmF0Um91bmRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTiwgZW5kQ29tYmF0VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5FTVlfVFVSTiwgZW5lbXlUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RFRF9OT0RFLCBzZWxlY3RlZE5vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TSE9XX1dBTEtBQkxFX0FSRUEsIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSwgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgZW5kTW92ZW1lbnRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCByZXNvbHZlQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSywgbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCwgZW5kQ29tYmF0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIGVxdWlwV2VhcG9uQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9USFJPVUdIX1BPUlRBTCwgbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAsIGFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEssIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZClcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCBzdGFydERpYWxvZ3VlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT05USU5VRV9ESUFMT0dVRV9OT0RFLCBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNUX0RJQUxPR1VFX0NIT0lDRSwgc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIGdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSwgZW5kRGlhbG9ndWVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJUeXBlcyB7XG4gICAgc3RhdGljIGdldCBOT05FKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfTUVMRUUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19SQU5HRUQoKSB7IHJldHVybiAyIH07XG5cbn1cblxuZXhwb3J0IGNvbnN0IGJvdEJlaGF2aW91ckVudW1zID0gW1xuICAgIHsgTk9ORTogQm90QmVoYXZpb3VyVHlwZXMuTk9ORSB9LFxuICAgIHsgQkFTSUNfTUVMRUU6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFIH0sXG4gICAgeyBCQVNJQ19SQU5HRUQ6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRCB9LFxuXSIsImV4cG9ydCBjbGFzcyBHYW1lQ29tbWFuZHMge1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FX0NPTVBMRVRFKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVfQ09NUExFVEVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVBQX0lOSVRJQUxJU0VEKCkgeyByZXR1cm4gXCJBUFBfSU5JVElBTElTRURcIiB9O1xuICAgIHN0YXRpYyBnZXQgUEFSU0VfR0FNRU1BUCgpIHsgcmV0dXJuIFwiUEFSU0VfR0FNRU1BUFwiIH07XG4gICAgc3RhdGljIGdldCBNQVBfR1JJRF9DUkVBVEVEKCkgeyByZXR1cm4gXCJNQVBfR1JJRF9DUkVBVEVEXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9USFJPVUdIX1BPUlRBTCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVEhST1VHSF9QT1JUQUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ09NQkFUX05BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIkNPTUJBVF9OQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DQU1FUkFfVEFSR0VUKCkgeyByZXR1cm4gXCJTRVRfQ0FNRVJBX1RBUkdFVFwiIH07XG4gICAgc3RhdGljIGdldCBJTlBVVF9EUkFHX01PVVNFKCkgeyByZXR1cm4gXCJJTlBVVF9EUkFHX01PVVNFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTU9WRURfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTU9WRURfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBGSU5JU0hFRF9NT1ZFKCkgeyByZXR1cm4gXCJGSU5JU0hFRF9NT1ZFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0NPTUJBVCgpIHsgcmV0dXJuIFwiU1RBUlRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfVE9BU1RfTUVTU0FHRSgpIHsgcmV0dXJuIFwiU0hPV19UT0FTVF9NRVNTQUdFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9ST1VORCgpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfUk9VTkRcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORU1ZX1RVUk4oKSB7IHJldHVybiBcIkVORU1ZX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VMRUNURURfTk9ERSgpIHsgcmV0dXJuIFwiU0VMRUNURURfTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04oKSB7IHJldHVybiBcIkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX0FMT05HX1BBVEgoKSB7IHJldHVybiBcIk5BVklHQVRFX0FMT05HX1BBVEhcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIlNIT1dfV0FMS0FCTEVfQVJFQVwiIH07XG4gICAgc3RhdGljIGdldCBISURFX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIkhJREVfV0FMS0FCTEVfQVJFQVwiIH07XG5cblxuICAgIHN0YXRpYyBnZXQgRU5EX01PVkVNRU5UKCkgeyByZXR1cm4gXCJFTkRfTU9WRU1FTlRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCgpIHsgcmV0dXJuIFwiQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVFwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0hBUkFDVEVSX1RPX05PREUoKSB7IHJldHVybiBcIlNFVF9DSEFSQUNURVJfVE9fTk9ERVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiU0VMRUNUX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVE9HR0xFX0JVVFRPTigpIHsgcmV0dXJuIFwiVE9HR0xFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX1JBTkdFRF9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfUkFOR0VEX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NUQU1JTkEoKSB7IHJldHVybiBcIkNIQU5HRV9TVEFNSU5BXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRVFVSVBfV0VBUE9OKCkgeyByZXR1cm4gXCJFUVVJUF9XRUFQT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRkxPQVRJTkdfU1RBVFVTKCkgeyByZXR1cm4gXCJESVNQTEFZX0ZMT0FUSU5HX1NUQVRVU1wiIH07XG4gICAgc3RhdGljIGdldCBBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAoKSB7IHJldHVybiBcIkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSygpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX1BBTkVMKCkgeyByZXR1cm4gXCJTSE9XX0RJQUxPR1VFX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfRElBTE9HVUVfUEFORUwoKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfUEFORUxcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTigpIHsgcmV0dXJuIFwiU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04oKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TVEVQKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NURVBcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDT05USU5VRV9ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJDT05USU5VRV9ESUFMT0dVRV9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UoKSB7IHJldHVybiBcIlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0VcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUygpIHsgcmV0dXJuIFwiQ0xFQVJfRElBTE9HVUVfQ0hPSUNFU1wiIH07XG4gICAgc3RhdGljIGdldCBHT19UT19ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJHT19UT19ESUFMT0dVRV9OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU1RBUlRfRElBTE9HVUUoKSB7IHJldHVybiBcIlNUQVJUX0RJQUxPR1VFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9ESUFMT0dVRSgpIHsgcmV0dXJuIFwiRU5EX0RJQUxPR1VFXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBHQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCgpIHsgcmV0dXJuIFwiR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcIiB9O1xuXG59XG4iLCJleHBvcnQgY2xhc3MgV2VhcG9uVHlwZXMge1xuICAgIC8vIE1FTEVFXG4gICAgc3RhdGljIGdldCBTV09SRCgpIHsgcmV0dXJuIFwic3dvcmRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVhFKCkgeyByZXR1cm4gXCJheGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgS05JRkUoKSB7IHJldHVybiBcImtuaWZlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQUZGKCkgeyByZXR1cm4gXCJzdGFmZlwiIH07XG4gICAgc3RhdGljIGdldCBIQU1NRVIoKSB7IHJldHVybiBcImhhbW1lclwiIH07XG4gICAgc3RhdGljIGdldCBTUEVBUigpIHsgcmV0dXJuIFwic3BlYXJcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFDRSgpIHsgcmV0dXJuIFwibWFjZVwiIH07XG4gICAgc3RhdGljIGdldCBQT0xFQVJNKCkgeyByZXR1cm4gXCJwb2xlYXJtXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BVUwoKSB7IHJldHVybiBcIm1hdWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgR1JFQVRTV09SRCgpIHsgcmV0dXJuIFwiZ3JlYXRzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBDTFVCKCkgeyByZXR1cm4gXCJjbHViXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVOQVJNRUQoKSB7IHJldHVybiBcInVuYXJtZWRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hJRUxEKCkgeyByZXR1cm4gXCJzaGllbGRcIiB9O1xuXG4gICAgLy8gUkFOR0VEXG4gICAgc3RhdGljIGdldCBGVVNJTCgpIHsgcmV0dXJuIFwiZnVzaWxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQk9XKCkgeyByZXR1cm4gXCJib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ1JPU1NCT1coKSB7IHJldHVybiBcImNyb3NzYm93XCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBJU1RPTEVUKCkgeyByZXR1cm4gXCJwaXN0b2xldFwiIH07XG59XG5cbmV4cG9ydCBjb25zdCB3ZWFwb25FbnVtcyA9IE9iamVjdC5lbnRyaWVzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKFdlYXBvblR5cGVzKSlcbiAgICAuZmlsdGVyKChba2V5LCBkZXNjcmlwdG9yXSkgPT4gdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nKVxuICAgIC5tYXAoKFtrZXldKSA9PiB7XG4gICAgICAgIHJldHVybiB7IFtrZXldOiBXZWFwb25UeXBlc1trZXldIH07XG4gICAgfSk7IiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnJvdW5kSW5pdGlhdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRlYW1zID0gdGVhbXM7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPSBNYXRoLm1heCgwLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hKTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIHRoaXMuaWQsIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4U3RhbWluYSk7XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgZGlhbG9ndWVUcmVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5kaWFsb2d1ZVRyZWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50Tm9kZTtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGNvbWJhdEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBnZXQgaXNOUEMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlzTlBDO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVNb3ZlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZU1vdmVtZW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlQWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucztcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlQWN0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIHRoaXMuaWQsXG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMsIHRoaXMubWF4QWN0aW9uc1BlclR1cm4pO1xuICAgIH1cblxuICAgIGdldCBtYXhBY3Rpb25zUGVyVHVybigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgZ2V0IHNraWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5za2lsbDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFN0YW1pbmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50THVjaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGlzRGVhZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPD0gMDtcbiAgICB9XG5cbiAgICBnZXQgYm90QmVoYXZpb3VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5ib3RCZWhhdmlvdXI7XG4gICAgfVxuXG4gICAgZ2V0IGVxdWlwcGVkV2VhcG9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5lcXVpcHBlZFdlYXBvbjtcbiAgICB9XG5cbiAgICBzZXQgZXF1aXBwZWRXZWFwb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5lcXVpcHBlZFdlYXBvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmhlaWdodDtcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyVk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICB0aGlzLmlkID0gcGFyYW1zLmlkO1xuICAgICAgICB0aGlzLmlzTlBDID0gcGFyYW1zLmlzTlBDO1xuICAgICAgICB0aGlzLmNvbWJhdEdyb3VwID0gcGFyYW1zLmNvbWJhdEdyb3VwIHx8IFtdO1xuICAgICAgICB0aGlzLmRpYWxvZ3VlVHJlZSA9IHBhcmFtcy5kaWFsb2d1ZVRyZWUgfHwgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUcm9pa2Egc3RhdHNcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlID0gcGFyYW1zLmluaXRpYXRpdmUgfHwgMjtcbiAgICAgICAgdGhpcy5tYXhNb3ZlbWVudCA9IHBhcmFtcy5tYXhNb3ZlbWVudCB8fCA2O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHBhcmFtcy5oZWlnaHQgfHwgMS44O1xuICAgICAgICB0aGlzLm1heEFjdGlvbnNQZXJUdXJuID0gMTtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMubWF4TW92ZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5za2lsbCA9IHBhcmFtcy5za2lsbCB8fCAxO1xuXG4gICAgICAgIHRoaXMubWF4U3RhbWluYSA9IHBhcmFtcy5tYXhTdGFtaW5hIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YW1pbmEgPSB0aGlzLm1heFN0YW1pbmE7XG5cbiAgICAgICAgdGhpcy5tYXhMdWNrID0gcGFyYW1zLm1heEx1Y2sgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50THVjayA9IHRoaXMubWF4THVjaztcblxuICAgICAgICB0aGlzLmFkdmFuY2VkU2tpbGxzID0gcGFyYW1zLmFkdmFuY2VkU2tpbGxzIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuYm90QmVoYXZpb3VyID0gcGFyYW1zLmJvdEJlaGF2aW91ciB8fCAwO1xuXG4gICAgICAgIHRoaXMuZXF1aXBwZWRXZWFwb24gPSBwYXJhbXMuZXF1aXBwZWRXZWFwb24gfHwgXCJ1bmFybWVkXCI7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgZ2V0QWRqYWNlbnRQb2ludHMgfSBmcm9tICcuLi8uLi91dGlscy9BZGphY2VudFBvaW50cyc7XG5jb25zdCB7IEdhbWVNYXBWTyB9ID0gcmVxdWlyZSgnLi9HYW1lTWFwVk8nKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCwgd2FsbEJvdW5kaW5nQm94ZXMsIGNvdmVyLCBwb3J0YWxzKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFwR3JpZDogbWFwR3JpZCxcbiAgICAgICAgICAgIHdhbGxCb3VuZGluZ0JveGVzOiB3YWxsQm91bmRpbmdCb3hlcyxcbiAgICAgICAgICAgIGNvdmVyOiBjb3ZlcixcbiAgICAgICAgICAgIHBvcnRhbHM6IHBvcnRhbHNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcblxuICAgIH1cblxuICAgIGZpbmROZWFyZXN0Tm9kZSh0YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBtYXBHcmlkID0gdGhpcy52by5tYXBHcmlkO1xuXG4gICAgICAgIGxldCBuZWFyZXN0Tm9kZSA9IG1hcEdyaWRbMF07XG4gICAgICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbWFwR3JpZCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbiAgICB9XG5cbiAgICByYXlJbnRlcnNlY3RzV2FsbChmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2UodG8pO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0by5jbG9uZSgpLnN1Yihmcm9tLmNsb25lKCkpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBjb25zdCByYXkgPSBuZXcgcGMuUmF5KGZyb20sIGRpcmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgbWFwV2FsbHMgPSB0aGlzLnZvLndhbGxCb3VuZGluZ0JveGVzO1xuICAgICAgICBmb3IgKGNvbnN0IHdhbGwgb2YgbWFwV2FsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHdhbGwuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvSGl0ID0gaGl0UG9zaXRpb24uZGlzdGFuY2UoZnJvbSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0hpdCA8IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgY292ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvdmVyO1xuICAgIH1cblxuXG4gICAgaXNJbkNvdmVyKHRhcmdldFBvaW50LCBhdHRhY2tpbmdGcm9tKSB7XG4gICAgICAgIGNvbnN0IGFkamFjZW50Q292ZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRQb2ludHMgPSBnZXRBZGphY2VudFBvaW50cyh0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBhZGphY2VudFBvaW50IG9mIGFkamFjZW50UG9pbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGUgPSB0aGlzLmNvdmVyLmZpbmQoKGNvdmVyUG9pbnQpID0+IGFkamFjZW50UG9pbnQuZXF1YWxzKGNvdmVyUG9pbnQpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGUpIHtcbiAgICAgICAgICAgICAgICBhZGphY2VudENvdmVyUG9pbnRzLnB1c2goYWRqYWNlbnRQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRqYWNlbnRDb3ZlclBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gdGFyZ2V0UG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50Q292ZXJQb2ludCBvZiBhZGphY2VudENvdmVyUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0NvdmVyID0gYWRqYWNlbnRDb3ZlclBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvQ292ZXIgPCBkaXN0YW5jZVRvVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHJpZXZlUG9ydGFsKHBvcnRhbElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnBvcnRhbHMuZ2V0KHBvcnRhbElkKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0QWRqYWNlbnRQb2ludHMocG9pbnQpIHtcbiAgICBjb25zdCBwb2ludHMgPSBbXVxuICAgIC8vTm9ydGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56IC0gMSkpO1xuICAgIC8vRWFzdFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LnggKyAxLCBwb2ludC55LCBwb2ludC56KSk7XG4gICAgLy9XZXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCAtIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1NvdXRoXG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiArIDEpKTtcblxuICAgIHJldHVybiBwb2ludHM7XG59IiwiZXhwb3J0IGNsYXNzIEdhbWVNYXBWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwR3JpZCA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHB1c2godmFsdWUsIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5kYXRhW2ldLnByaW9yaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGgubWluKG1pbiwgcHJpb3JpdHkpID09PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IHByaW9yaXR5O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSlbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGhcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufSIsImltcG9ydCB7IFByaW9yaXR5UXVldWUgfSBmcm9tICcuL1ByaW9yaXR5UXVldWUnO1xuXG5leHBvcnQgY2xhc3MgQXN0YXIge1xuICAgIHN0YXRpYyBicmVhZHRoRmlyc3RTZWFyY2goc3RhcnQsIHJhbmdlTGltaXQpIHtcbiAgICAgICAgbGV0IGZyb250aWVyID0gW107XG4gICAgICAgIGNvbnN0IHNlYXJjaGVkQXJlYSA9IFtdO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0KTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG5cbiAgICAgICAgbGV0IHJhbmdlID0gMDtcblxuICAgICAgICB3aGlsZSAoZnJvbnRpZXIubGVuZ3RoID4gMCAmJiByYW5nZSA8IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Zyb250aWVyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZnJvbnRpZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY2FtZUZyb20uaGFzKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RnJvbnRpZXIucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkQXJlYS5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udGllciA9IG5ld0Zyb250aWVyO1xuXG4gICAgICAgICAgICByYW5nZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaGVkQXJlYTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgMTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuICAgICAgICB3aGlsZSAoIWN1cnJlbnQuZXF1YWxzKHN0YXJ0KSAmJiAhcGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICBpZiAoY2FtZUZyb20uaGFzKGN1cnJlbnQpIHx8ICFjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjYW1lRnJvbS5nZXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoSXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcGF0aC5wdXNoKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIHBhdGgucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlzdFNxdWFyZWQocHQxLCBwdDIpIHtcbiAgICAgICAgcmV0dXJuICgocHQxLnggLSBwdDIueCkgKiAocHQxLnggLSBwdDIueClcbiAgICAgICAgICAgICsgKHB0MS55IC0gcHQyLnkpICogKHB0MS55IC0gcHQyLnkpXG4gICAgICAgICAgICArIChwdDEueiAtIHB0Mi56KSAqIChwdDEueiAtIHB0Mi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGhldXJpc3RpYyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhLnggLSBiLngpICsgTWF0aC5hYnMoYS55IC0gYi55KSArIE1hdGguYWJzKGEueiAtIGIueik7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZVN0YXRlVk8gfSA9IHJlcXVpcmUoJy4vR2FtZVN0YXRlVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZVN0YXRlUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZVByb3h5Lk5BTUUsIG5ldyBHYW1lU3RhdGVWTygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVHYW1lU3RhdGVUeXBlKG5ld1N0YXRlVHlwZSkge1xuICAgICAgICB0aGlzLnZvLmdhbWVwbGF5TW9kZSA9IG5ld1N0YXRlVHlwZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmdhbWVwbGF5TW9kZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEFjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb247XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5zZWxlY3RlZEFjdGlvbiA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBnYW1lcGxheU1vZGVUeXBlcyA9IHtcbiAgICBFWFBMT1JBVElPTjogJ0VYUExPUkFUSU9OJyxcbiAgICBDT01CQVQ6ICdDT01CQVQnLFxuICAgIERJQUxPR1VFOiAnRElBTE9HVUUnLFxuICAgIEdBTUVfT1ZFUjogJ0dBTUVfT1ZFUicsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IFwibm9uZVwiO1xuICAgIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBTdG9yeVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJNZWRpYXRvcl9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IoaWQsIHZpZXdDb21wb25lbnQsIHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgaWQpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURURcblxuICAgICAgICBdO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmNvbmNhdChwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9mZignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmZpcmUobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNjcmlwdEtleSBpbiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCwgc2NyaXB0S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbc2NyaXB0S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdGFydENvbWJhdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tQb2ludCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KGxvb2tQb2ludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBoaXRib3ggPSB0aGlzLnZpZXdDb21wb25lbnQuZmluZEJ5TmFtZShcIkhpdGJveFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaGl0Ym94KSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdGJveC5maXJlKCdzdG9wTGlzdGVuaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlRGVhdGgoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUF0dGFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlSGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZVRvTm9kZSh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBtb3ZlVG9Ob2RlV2l0aFByb21pc2UodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgaWYgKCFnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpIHtcbiAgICAgICAgfVxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VycmVudE5vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQobm9kZSk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcblxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50J10uY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lRmFjYWRlIH0gPSByZXF1aXJlKCcuLi9HYW1lRmFjYWRlJyk7XG5cbmV4cG9ydCBjb25zdCBDYWNvZ2VuR2FtZSA9IHBjLmNyZWF0ZVNjcmlwdCgnQ2Fjb2dlbkdhbWUnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkNhY29nZW5HYW1lLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgXCJQb3J0IFRhcmluZ29cIiwgXCJlbnRyYW5jZVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5XCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBib3RCZWhhdmlvdXJFbnVtcyB9IGZyb20gJy4uLy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgd2VhcG9uRW51bXMgfSBmcm9tIFwiLi4vLi4vZGF0YS9XZWFwb25UeXBlc1wiO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgY29uc3QgR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuXG5jb25zdCBzdGF0c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbCcsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbWF4U3RhbWluYScsXG4gICAgICAgIHRpdGxlOiAnU3RhbWluYScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4THVjaycsXG4gICAgICAgIHRpdGxlOiAnTHVjaycsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnaW5pdGlhdGl2ZScsXG4gICAgICAgIHRpdGxlOiAnSW5pdGlhdGl2ZScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAyXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4TW92ZW1lbnQnLFxuICAgICAgICB0aXRsZTogJ01vdmVtZW50JyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDZcbiAgICB9XG5dO1xuXG5jb25zdCBhZHZhbmNlZFNraWxsc1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbE5hbWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxWYWx1ZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgVmFsdWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH1cbl07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJJZFwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSWRcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA0XG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySGVpZ2h0XCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBIZWlnaHRcIixcbiAgICBkZWZhdWx0OiAxLjhcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiaXNOUENcIiwge1xuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHRpdGxlOiBcImlzIE5QQ1wiLFxuICAgIGRlZmF1bHQ6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic3RhdHNPdmVycmlkZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlN0YXRzIE92ZXJyaWRlc1wiLFxuICAgIHNjaGVtYTogc3RhdHNTY2hlbWFcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYWR2YW5jZWRTa2lsbHNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIkFkdmFuY2VkIFNraWxsc1wiLFxuICAgIHNjaGVtYTogYWR2YW5jZWRTa2lsbHNTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29tYmF0R3JvdXBOYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNvbWJhdCBHcm91cCBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZGlhbG9ndWVUcmVlTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJEaWFsb2d1ZSBUcmVlIE5hbWVcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJib3RCZWhhdmlvdXJcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQm90IEJlaGF2aW91clwiLFxuICAgIGVudW06IGJvdEJlaGF2aW91ckVudW1zLFxuICAgIGRlZmF1bHQ6IDBcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJlcXVpcHBlZFdlYXBvblwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJFcXVpcHBlZCBXZWFwb25cIixcbiAgICBlbnVtOiB3ZWFwb25FbnVtcyxcbiAgICBkZWZhdWx0OiBcInVuYXJtZWRcIlxufSk7XG5cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xufVxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG5cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHNPdmVycmlkZXMgPSB0aGlzLnN0YXRzT3ZlcnJpZGVzO1xuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUEMsXG4gICAgICAgIGhlaWdodDogdGhpcy5jaGFyYWN0ZXJIZWlnaHQsXG4gICAgICAgIGFkdmFuY2VkU2tpbGxzOiB0aGlzLmFkdmFuY2VkU2tpbGxzLFxuICAgICAgICBlcXVpcHBlZFdlYXBvbjogdGhpcy5lcXVpcHBlZFdlYXBvbixcbiAgICAgICAgLi4uc3RhdHNPdmVycmlkZXMsXG4gICAgICAgIGJvdEJlaGF2aW91cjogdGhpcy5ib3RCZWhhdmlvdXIsXG4gICAgICAgIGRpYWxvZ3VlVHJlZTogdGhpcy5kaWFsb2d1ZVRyZWVOYW1lXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZGlzYWJsZWQgZW50aXRpZXNcbiAgICAgICAgICAgIGlmIChjb21yYWRlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgICAgIGNvbWJhdEdyb3VwLnB1c2goY29tcmFkZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm94eVBhcmFtcy5jb21iYXRHcm91cCA9IGNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc1Byb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgLy8gdGhpcy5mYWNhZGUucmVtb3ZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpO1xuICAgICAgICAvLyBTZXQgY3VycmVudCBub2RlIGlmIGdhbWUgY2hhcmFjdGVyIHdhcyBjcmVhdGVkIGFmdGVyIHRoZSBtYXBcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChnYW1lTWFwUHJveHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gY3VycmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KGNoYXJhY3RlclByb3h5KTtcbiAgICB9XG5cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDaGFyYWN0ZXJNZWRpYXRvcih0aGlzLmNoYXJhY3RlcklkLCB0aGlzLmVudGl0eSwgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykpO1xuXG4gICAgdGhpcy52ZWhpY2xlID0gdGhpcy5lbnRpdHkuc2NyaXB0WydWZWhpY2xlQ29tcG9uZW50J107XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcblxufTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zZXRQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGggJiYgdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjYW5jZWxNb3ZlJyk7XG4gICAgfVxuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gcGF0aDtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnd2Fsay5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc3RvcE1vdmVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnROb2RlKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLm1vdmVBbG9uZ1BhdGgoZHQpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBub2RlUG9pbnQgPSBuZXcgcGMuVmVjMyhuZXh0UGF0aFBvaW50LngsIG5leHRQYXRoUG9pbnQueSwgbmV4dFBhdGhQb2ludC56KTtcblxuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IGxvY2FsUG9zLmRpc3RhbmNlKG5vZGVQb2ludCk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvTmV4dFBhdGggPD0gKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5tb3ZlbWVudFBhdGgucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdmaW5pc2hlZE1vdmUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCd1cGRhdGVDdXJyZW50Tm9kZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnNlZWsobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5hcnJpdmUobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlaGljbGUucHJvY2Vzc1ZlbG9jaXR5KGR0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlRGVhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnZGllLmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVIaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaGl0LmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVBdHRhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnYXR0YWNrLmdsYicsIDAuMSk7XG59IiwiZXhwb3J0IGNvbnN0IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic2lnaHRSYW5nZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJTaWdodCBSYW5nZVwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIik7XG5cbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCwgdGhpcy5oYW5kbGVNYXBHcmlkQ3JlYXRlZCwgdGhpcyk7XG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiLCB0aGlzLmhhbmRsZU1vdmVkVG9Ob2RlLCB0aGlzKTtcbiAgICBjb25zb2xlLmxvZygnV2FpdCBmb3IgaW5pdGlhbCcpO1xufTtcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1hcEdyaWRDcmVhdGVkID0gZnVuY3Rpb24gKGlkLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG59XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3ZlZFRvTm9kZSA9IGZ1bmN0aW9uIChpZCwgdGFyZ2V0Tm9kZSkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG5cbiAgICAvLyBJZ25vcmUgaWYgdGhlIHBsYXllciBpc24ndCBleHBsb3JpbmdcbiAgICBpZiAoZ2FtZVN0YXRlLmdhbWVwbGF5TW9kZSAhPT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04gfHwgdGhpcy5jaGFyYWN0ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5jaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQb2ludCA9IG5ldyBwYy5WZWMzKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuICAgIGNvbnN0IHRhcmdldFBvaW50ID0gbmV3IHBjLlZlYzModGFyZ2V0Tm9kZS54LCB0YXJnZXROb2RlLnksIHRhcmdldE5vZGUueik7XG5cbiAgICBpZiAoY2hhcmFjdGVyUG9pbnQuZGlzdGFuY2UodGFyZ2V0UG9pbnQpIDw9IHRoaXMuc2lnaHRSYW5nZSkge1xuICAgICAgICAvLyBNaWdodCBiZSBzZWVuIC0gY2hlY2sgZm9yIHdhbGxzXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY2hhcmFjdGVyUG9pbnQueSArPSB0aGlzLmNoYXJhY3RlclByb3h5LmhlaWdodDtcblxuICAgICAgICBpZiAoIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChjaGFyYWN0ZXJQb2ludCwgdGFyZ2V0UG9pbnQpKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFRvYXN0TWVzc2FnZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiVG9hc3RNZXNzYWdlTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydUb2FzdE1lc3NhZ2VDb21wb25lbnQnXS5hZGRNZXNzYWdlKGFyZ3NbMF0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VNZWRpYXRvciB9IGZyb20gXCIuL1RvYXN0TWVzc2FnZU1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBUb2FzdE1lc3NhZ2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCcpO1xuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtZXNzYWdlVGltZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWVzc2FnZSBUaW1lJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFRvYXN0TWVzc2FnZU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zaG93TmV4dE1lc3NhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuXG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLnNob3dOZXh0TWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0TWVzc2FnZSA9IHRoaXMubWVzc2FnZVF1ZXVlWzBdO1xuXG4gICAgICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gbmV4dE1lc3NhZ2U7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93TmV4dE1lc3NhZ2UoKTtcbiAgICAgICAgfSwgdGhpcy5tZXNzYWdlVGltZSAqIDEwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gXCJcIjtcblxuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuXG4vLyBwb3N0SW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblNldENhbWVyYVRhcmdldENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQsIHRoaXMuZW50aXR5KTtcbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIklucHV0TGF5ZXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHRoaXMuaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOm5hdmlnYXRpb24nLCB0aGlzLmhhbmRsZVBpY2tlck5hdmlnYXRpb24sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3Njcm9sbGluZycsIHRoaXMuaGFuZGxlU2Nyb2xsaW5nLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIoY2hhcmFjdGVyRW50aXR5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgY2hhcmFjdGVyRW50aXR5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgbm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2Nyb2xsaW5nKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBkaXJlY3Rpb24pO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEdhbWVDYW1lcmEgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDYW1lcmEnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkaXN0YW5jZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdEaXN0YW5jZScgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclgnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCd2ZXJ0aWNhbFNjcm9sbCcsIHsgdHlwZTogJ2Jvb2xlYW4nLCBkZWZhdWx0OiBmYWxzZSwgdGl0bGU6ICdWZXJ0aWNhbCBTY3JvbGwnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWluQ2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNaW4gQ2FtZXJhIEhlaWdodCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtYXhDYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnTWF4IENhbWVyYSBIZWlnaHQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNhbWVyYU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLnNldENhbWVyYVRhcmdldCA9IGZ1bmN0aW9uIChjYW1lcmFUYXJnZXQpIHtcbiAgICB0aGlzLmNhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5lbnRpdHkuZ2V0RXVsZXJBbmdsZXMoKS55O1xuICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpLnk7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmhhbmRsZURyYWcgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbiArPSBkaXJlY3Rpb24ueCAqIHRoaXMuZHJhZ011bHRpcGxpZXJYO1xuXG4gICAgaWYgKHRoaXMudmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgbGV0IG5ld0NhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhSGVpZ2h0IC0gKGRpcmVjdGlvbi55ICogdGhpcy5kcmFnTXVsdGlwbGllclkpO1xuICAgICAgICBuZXdDYW1lcmFIZWlnaHQgPSBwYy5tYXRoLmNsYW1wKG5ld0NhbWVyYUhlaWdodCwgdGhpcy5taW5DYW1lcmFIZWlnaHQsIHRoaXMubWF4Q2FtZXJhSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jYW1lcmFIZWlnaHQgPSBuZXdDYW1lcmFIZWlnaHQ7XG4gICAgfVxufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uIChmb2N1c1BvaW50KSB7XG4gICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKClcblxuICAgIGNvbnN0IHRhcmdldFggPSBNYXRoLnNpbigodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG4gICAgY29uc3QgdGFyZ2V0WiA9IE1hdGguY29zKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyhmb2N1c1BvaW50LnggKyB0YXJnZXRYLCBjYW1lcmFQb3NpdGlvbi55LCBmb2N1c1BvaW50LnogKyB0YXJnZXRaKTtcbn1cblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy5jYW1lcmFUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhVGFyZ2V0UG9zaXRpb24gPSB0aGlzLmNhbWVyYVRhcmdldC5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGhpcy5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdHdlZW5YID0gKHRhcmdldFBvc2l0aW9uLnggKyBjdXJyZW50UG9zLnggKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblkgPSAodGhpcy5jYW1lcmFIZWlnaHQgKyBjdXJyZW50UG9zLnkgKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblogPSAodGFyZ2V0UG9zaXRpb24ueiArIGN1cnJlbnRQb3MueiAqIDkpIC8gMTA7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0d2VlblgsIHR3ZWVuWSwgdHdlZW5aKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5sb29rQXQoY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuICAgIH1cblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYSB9IGZyb20gJy4vR2FtZUNhbWVyYSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2FtZXJhTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2FtZXJhTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVRcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uc2V0Q2FtZXJhVGFyZ2V0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uaGFuZGxlRHJhZyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnB1dExheWVyTWVkaWF0b3IgfSBmcm9tICcuL0lucHV0TGF5ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuLi9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbmV4cG9ydCBjb25zdCBJbnB1dExheWVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnB1dExheWVyQ29tcG9uZW50Jyk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjYW1lcmFFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQ2FtZXJhIEVudGl0eVwiXG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRyYWdUaW1lXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkRyYWcgVGltZVwiLFxuICAgIGRlZmF1bHQ6IDAuNFxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IElucHV0TGF5ZXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMucmF5ID0gbmV3IHBjLlJheSgpO1xuICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgLy8gRHJhZyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5hcHAubW91c2UuZGlzYWJsZUNvbnRleHRNZW51KCk7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IDA7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJlc3VsdCcsIHRoaXMuaGFuZGxlUGlja2VyUmVzdWx0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmFwcC5tb3VzZSkge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgdGhpcy5vbk1vdXNlRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSh0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24odG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IHBjLlZlYzIodGhpcy5jbGlja1N0YXJ0UG9pbnQueCAtIGV2dC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55IC0gZXZ0LnkpO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdzY3JvbGxpbmcnLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuY2xpY2tEb3duU3RhcnQgPCAodGhpcy5kcmFnVGltZSAqIDEwMDApKSB7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrU3RhcnRQb2ludCkge1xuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuZmlyZSgndmFsaWRDbGljaycsIHRoaXMuY2xpY2tTdGFydFBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnModGhpcy5jbGlja1N0YXJ0UG9pbnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBjb25zdCBjYW1lcmFFbnRpdHkgPSB0aGlzLmNhbWVyYUVudGl0eTtcbiAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmE7XG4gICAgY2FtZXJhQ29tcG9uZW50LnNjcmVlblRvV29ybGQoeCwgeSwgY2FtZXJhQ29tcG9uZW50LmZhckNsaXAsIHRoaXMucmF5LmRpcmVjdGlvbik7XG4gICAgdGhpcy5yYXkub3JpZ2luLmNvcHkoY2FtZXJhRW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgIHRoaXMucmF5LmRpcmVjdGlvbi5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5yYXksIHsgeCwgeSB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUGlja2VyUmVzdWx0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcykge1xuICAgIHRoaXMuaW5wdXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgZW50aXR5OiBwaWNrZWRFbnRpdHksXG4gICAgICAgIGhpdFBvc2l0aW9uOiBoaXRQb3NpdGlvbixcbiAgICAgICAgc2NyZWVuUG9zaXRpb246IHNjcmVlblBvc1xuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLnByb2Nlc3NJbnB1dFF1ZXVlKCk7XG59XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc0lucHV0UXVldWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5pbnB1dFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGhpZ2hlc3RQcmlvcml0eVBpY2sgPSB0aGlzLmlucHV0UXVldWVbMF07XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHkgPSAtMTtcbiAgICAgICAgLy8gRmluZCBoaWdoZXN0IHByaW9yaXR5XG4gICAgICAgIGZvciAoY29uc3QgcGljayBvZiB0aGlzLmlucHV0UXVldWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpY2tQcmlvcml0eSA9IGdldFByaW9yaXR5KHBpY2suZW50aXR5KVxuICAgICAgICAgICAgaWYgKHBpY2tQcmlvcml0eSA+IGhpZ2hlc3RQcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVBpY2sgPSBwaWNrO1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eSA9IHBpY2tQcmlvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRQb3J0YWwoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkR2FtZUNoYXJhY3RlciA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOmdhbWVDaGFyYWN0ZXInLCBwaWNrZWRFbnRpdHkpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWROYXZpZ2F0aW9uID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBjb25zdCBuYXZDb21wID0gcGlja2VkRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgIGNvbnN0IG5lYXJlc3ROb2RlID0gbmF2Q29tcC5nZXROZWFyZXN0Tm9kZShoaXRQb3NpdGlvbik7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOm5hdmlnYXRpb24nLCBuZWFyZXN0Tm9kZSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZFBvcnRhbCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgcGlja2VkRW50aXR5LmZpcmUoJ3BpY2tlcjpwb3J0YWwnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ3BvcnRhbCcpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazplbmRUdXJuJywgdGhpcy5oYW5kbGVFbmRUdXJuLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVFbmRUdXJuKGV2dCkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciB9IGZyb20gXCIuL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCcpO1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZW5kVHVybkJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRW5kIFR1cm4gYnV0dG9uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW5kVHVybkJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xpY2tFbmRUdXJuLCB0aGlzKTtcbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGlja0VuZFR1cm4gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6ZW5kVHVybicpO1xufVxuIiwiZXhwb3J0IGNvbnN0IEhpdGJveENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSGl0Ym94Q29tcG9uZW50Jyk7XG5cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdzdG9wTGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHkucGFyZW50LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5hYWJiLmNlbnRlci5jb3B5KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpmaXJlQ29tbWFuZCcsIHRoaXMuaGFuZGxlRmlyZUNvbW1hbmQsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25QYW5lbENvbXBvbmVudCddLnNlbGVjdEFjdGlvbihhY3Rpb25OYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGaXJlQ29tbWFuZChjb21tYW5kTmFtZSwgLi4uYXJncykge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKGNvbW1hbmROYW1lLCAuLi5hcmdzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5jb25zdCBjb21tYW5kU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmROYW1lJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIG5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29tbWFuZEFyZ3MnLFxuICAgICAgICB0aXRsZTogJ0NvbW1hbmQgYXJndW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsIGFycmF5OiB0cnVlXG4gICAgfVxuXTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbW1hbmRzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogY29tbWFuZFNjaGVtYSwgdGl0bGU6ICdDb21tYW5kIG5hbWUnLCBhcnJheTogdHJ1ZSB9KTs7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdzZWxlY3Q6YWN0aW9uJywgdGhpcy5oYW5kbGVDaGFuZ2VBY3Rpb24sIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gY29tbWFuZC5jb21tYW5kTmFtZTtcbiAgICAgICAgY29uc3QgY29tbWFuZEFyZ3MgPSBjb21tYW5kLmNvbW1hbmRBcmdzO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnY2xpY2s6ZmlyZUNvbW1hbmQnLCBjb21tYW5kTmFtZSwgLi4uY29tbWFuZEFyZ3MpO1xuXG4gICAgfVxufVxuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNoYW5nZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5lbnRpdHkubmFtZSA9PT0gYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEFjdGlvblBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25QYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25QYW5lbE1lZGlhdG9yJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vQWN0aW9uQnV0dG9uQ29tcG9uZW50JztcblxuQWN0aW9uUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbkJ1dHRvbnMnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0FjdGlvbiBCdXR0b25zJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25QYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZWxlY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBidXR0b24uZmlyZSgnc2VsZWN0OmFjdGlvbicsIGFjdGlvbk5hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBVSVN0b3BQcm9wYWdhdGlvbiA9IHBjLmNyZWF0ZVNjcmlwdCgnVUlTdG9wUHJvcGFnYXRpb24nKTtcblxuVUlTdG9wUHJvcGFnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSBcIi4vUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHByb2plY3RpbGVTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZU5hbWUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwcm9qZWN0aWxlVGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJwcm9qZWN0aWxlVHlwZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgVHlwZXNcIixcbiAgICBzY2hlbWE6IHByb2plY3RpbGVTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQcm9qZWN0aWxlID0gZnVuY3Rpb24gKHByb2plY3RpbGVOYW1lLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RpbGVTY2hlbWUgPSB0aGlzLnByb2plY3RpbGVUeXBlcy5maW5kKHNjaGVtZSA9PiBzY2hlbWUucHJvamVjdGlsZU5hbWUgPT09IHByb2plY3RpbGVOYW1lKTtcbiAgICAgICAgaWYgKHByb2plY3RpbGVTY2hlbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3RpbGUgPSBwcm9qZWN0aWxlU2NoZW1lLnByb2plY3RpbGVUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3UHJvamVjdGlsZSk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0aWxlLm9uY2UoJ3Byb2plY3RpbGVBcnJpdmVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5zY3JpcHRbJ1Byb2plY3RpbGVDb21wb25lbnQnXS5zZXRUYXJnZXQob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGUgcHJvamVjdGlsZSBcIiR7cHJvamVjdGlsZU5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIlxuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUHJvamVjdGlsZUNvbXBvbmVudCcpO1xuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA4XG59KTtcblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIChvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnksIG9yaWdpblBvaW50LnopO1xuICAgIHRoaXMudGFyZ2V0UG9pbnQgPSB0YXJnZXRQb2ludDtcbiAgICB0aGlzLmxvb2tBdFBvaW50KHRoaXMudGFyZ2V0UG9pbnQpO1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1YjIodGhpcy50YXJnZXRQb2ludC5jbG9uZSgpLCBsb2NhbFBvcyk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuZXdQb3NpdGlvbi5tdWwoc3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5hZGQobG9jYWxQb3MpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IG5ld1Bvc2l0aW9uLmRpc3RhbmNlKHRoaXMudGFyZ2V0UG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkKSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncHJvamVjdGlsZUFycml2ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFN0YW1pbmFCYXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0YW1pbmFCYXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIlxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFtaW5hID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhTdGFtaW5hID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiU3RhbWluYUJhckNvbXBvbmVudFwiXS51cGRhdGVTdGFtaW5hKG5ld1N0YW1pbmEsIG1heFN0YW1pbmEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgU3RhbWluYUJhck1lZGlhdG9yIH0gZnJvbSBcIi4vU3RhbWluYUJhck1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBTdGFtaW5hQmFyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTdGFtaW5hQmFyQ29tcG9uZW50Jyk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJiYXJFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQmFyIEVudGl0eVwiXG59KTtcblxuU3RhbWluYUJhckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YW1pbmFMYWJlbFwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJTdGFtaW5hIExhYmVsXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU3RhbWluYUJhckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFN0YW1pbmFCYXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCA9IHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGg7XG59O1xuXG5cblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVN0YW1pbmEgPSBmdW5jdGlvbiAoY3VycmVudFN0YW1pbmEsIG1heFN0YW1pbmEpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBjLm1hdGguY2xhbXAoY3VycmVudFN0YW1pbmEgLyBtYXhTdGFtaW5hLCAwLCAxKTtcbiAgICBjb25zdCB3aWR0aCA9IHBjLm1hdGgubGVycCgwLCB0aGlzLmJhckVudGl0eU1heFdpZHRoLCB2YWx1ZSk7XG4gICAgLy8gc2V0IHRoZSB3aWR0aCBvZiB0aGUgZmlsbCBpbWFnZSBlbGVtZW50XG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC53aWR0aCA9IHdpZHRoO1xuXG4gICAgLy8gU2V0IHRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudCdzIHJlY3QgKHJlY3QueikgdG8gYmUgdGhlIHNhbWVcbiAgICAvLyB2YWx1ZSBhcyBvdXIgMC0xIHByb2dyZXNzLlxuICAgIC8vIFRoaXMgaXMgc28gdGhhdCB0aGUgZmlsbCBpbWFnZSB3aWxsIG9ubHkgc2hvdyB0aGUgcG9ydGlvblxuICAgIC8vIG9mIHRoZSB0ZXh0dXJlIHRoYXQgaXMgdmlzaWJsZVxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdC56ID0gdmFsdWU7XG4gICAgLy8gZm9yY2UgcmVjdCB1cGRhdGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QgPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3Q7XG5cbiAgICB0aGlzLnN0YW1pbmFMYWJlbC5lbGVtZW50LnRleHQgPSBgJHtjdXJyZW50U3RhbWluYX0vJHttYXhTdGFtaW5hfWA7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBwbGF5ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFjdGlvbnMgPSBwbGF5ZXJQcm94eS5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCddLnNob3dBdmFpbGFibGVBY3Rpb24oYXJnc1swXSwgYXJnc1sxXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcic7XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncGlwVGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnUGlwIFRlbXBsYXRlJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnBpcHMgPSBbXTtcbn1cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zaG93QXZhaWxhYmxlQWN0aW9uID0gZnVuY3Rpb24gKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpIHtcbiAgICB3aGlsZSAodGhpcy5waXBzLmxlbmd0aCA8IG1heEFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVQaXAoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGF2YWlsYWJsZUFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UGlwID0gdGhpcy5waXBUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1BpcCk7XG4gICAgdGhpcy5waXBzLnB1c2gobmV3UGlwKTtcbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Jyk7XG5cbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcEZyb250JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdQaXAgZnJvbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5vbigndG9nZ2xlUGlwJywgKHNob3cpID0+IHtcbiAgICAgICAgdGhpcy5waXBGcm9udC5lbmFibGVkID0gc2hvdztcbiAgICB9KTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVNcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUzpcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50J107XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXRlck5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHNjcmlwdENvbXAuZGlzcGxheVN0YXR1cyhmbG9hdGVyTmFtZSwgdGFyZ2V0UHJveHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCcpO1xuXG4vLyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuc2V0V29ybGRQb3NpdGlvbiA9IGZ1bmN0aW9uICh3b3JsZFBvc2l0aW9uLCBjYW1lcmEsIHNjcmVlbikge1xuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMud29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb247XG4gICAgdGhpcy5kZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICB0aGlzLmNhbWVyYUVudGl0eSA9IGNhbWVyYTtcbiAgICB0aGlzLnNjcmVlbkVudGl0eSA9IHNjcmVlbjtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfSwgMTAwMCk7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnBvc3RVcGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UodGhpcy53b3JsZFBvc2l0aW9uLmNsb25lKCkpO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9XG59O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHRoaXMuZGV2aWNlICYmIHRoaXMuY2FtZXJhRW50aXR5ICYmIHRoaXMuc2NyZWVuRW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHdvcmxkUG9zID0gcG9zLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIC8vIGdldCBzY3JlZW4gc3BhY2UgY28tb3JkXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LmNhbWVyYS53b3JsZFRvU2NyZWVuKHdvcmxkUG9zLCBzY3JlZW5Qb3MpO1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UubWF4UGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnggKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgICAgICBjb25zdCBzY3JlZW5Db21wID0gdGhpcy5zY3JlZW5FbnRpdHkuc2NyZWVuO1xuXG4gICAgICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnNjYWxlO1xuICAgICAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgICAgIGNvbnN0IHkgPSAodGhpcy5kZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgICAgICByZXR1cm4gbmV3IHBjLlZlYzMoeCwgeSwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcblxufSIsImV4cG9ydCBjb25zdCBGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciB9IGZyb20gJy4vRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnO1xuXG5jb25zdCBmbG9hdGluZ1N0YXR1c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3RlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdUZW1wbGF0ZScsXG4gICAgICAgIHR5cGU6ICdhc3NldCdcbiAgICB9XG5dO1xuXG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NjcmVlbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2NyZWVuIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NhbWVyYUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2FtZXJhIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Zsb2F0aW5nU3RhdHVzZXMnLCB7IHR5cGU6ICdqc29uJywgc2NoZW1hOiBmbG9hdGluZ1N0YXR1c1NjaGVtYSwgdGl0bGU6ICdGbG9hdGluZyBTdGF0dXNlcycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5U3RhdHVzID0gZnVuY3Rpb24gKG5hbWUsIHRhcmdldFByb3h5LCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgc2NoZW1lID0gdGhpcy5mbG9hdGluZ1N0YXR1c2VzLmZpbmQoKG90aGVyU2NoZW1lKSA9PiBvdGhlclNjaGVtZS5uYW1lID09PSBuYW1lKTtcbiAgICBpZiAoc2NoZW1lKSB7XG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55ICsgdGFyZ2V0UHJveHkuaGVpZ2h0LCB0YXJnZXROb2RlLnopO1xuICAgICAgICBjb25zdCBuZXdTdGF0dXMgPSBzY2hlbWUudGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgbmV3U3RhdHVzLnNjcmlwdFsnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnXS5zZXRXb3JsZFBvc2l0aW9uKHRhcmdldFBvcyxcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LCB0aGlzLnNjcmVlbkVudGl0eSk7XG4gICAgICAgIHRoaXMuZW50aXR5LnBhcmVudC5hZGRDaGlsZChuZXdTdGF0dXMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGZsb2F0aW5nIHN0YXR1czogJHtuYW1lfWApO1xuICAgIH1cblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQb3J0YWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBvcnRhbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOnBvcnRhbCcsIHRoaXMuc2VsZWN0ZWRQb3J0YWwsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RlZFBvcnRhbCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQb3J0YWxDb21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsXG4gICAgICAgICAgICAgICAgc3RhbmRpbmdQb3NpdGlvbiwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFBvcnRhbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUG9ydGFsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IFBvcnRhbE1lZGlhdG9yIH0gZnJvbSAnLi9Qb3J0YWxNZWRpYXRvcic7XG5cblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncG9ydGFsSWQnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ1BvcnRhbCBJZCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uU2NlbmUnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFNjZW5lJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVzdGluYXRpb25Qb3J0YWwnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFBvcnRhbCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpdGJveCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGl0Ym94JyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc3RhbmRpbmdQb2ludCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU3RhbmRpbmcgUG9pbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUG9ydGFsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUG9ydGFsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuc3RhbmRpbmdQb2ludC5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkRpYWxvZ3VlUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUyxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTixcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTlxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrZWQ6Y29udGludWUnLCB0aGlzLmhhbmRsZUNsaWNrQ29udGludWUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrZWQ6Y2hvaWNlJywgdGhpcy5oYW5kbGVDbGlja0Nob2ljZSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUw6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyUGFuZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jcmVhdGVTdGVwKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUzpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY2xlYXJEaWFsb2d1ZUNob2ljZXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5zZXRDb250aW51ZUJ1dHRvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5zZXRDb250aW51ZUJ1dHRvbihmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrQ29udGludWUoKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTlRJTlVFX0RJQUxPR1VFX05PREUpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrQ2hvaWNlKGluZGV4KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UsIGluZGV4KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IgfSBmcm9tICcuL0RpYWxvZ3VlUGFuZWxNZWRpYXRvcic7XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Njcm9sbGJhclZpZXdFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1Njcm9sbGJhciBWaWV3JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbnRlbnRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NvbnRlbnQgRW50aXR5JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ZlZWRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ZlZWQgRW50aXR5JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbnRlbnRIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ0NvbnRlbnQgSGVpZ2h0JywgZGVmYXVsdDogNTIwIH0pO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0ZXh0RW50cnlUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdUZXh0IEVudHJ5IEFzc2V0JyB9KTtcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Nob2ljZUVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnQ2hvaWNlIEVudHJ5IEFzc2V0JyB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGludWVCdXR0b25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NvbnRpbnVlIEJ1dHRvbicgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRGlhbG9ndWVQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IERpYWxvZ3VlUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5jaG9pY2VzID0gW107XG5cbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uRW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjbGlja2VkOmNvbnRpbnVlJyk7XG4gICAgfSwgdGhpcyk7XG5cbn07XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVN0ZXAgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICB0aGlzLmNyZWF0ZVRleHQoc3RlcERhdGEuc3RlcCk7XG5cbiAgICBpZiAoc3RlcERhdGEuc3RlcC5jaG9pY2VzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcERhdGEuc3RlcC5jaG9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBzdGVwRGF0YS5zdGVwLmNob2ljZXNbaV07XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNob2ljZShpLCBjaG9pY2UudGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICBjb25zdCBuZXdUZXh0ID0gdGhpcy50ZXh0RW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld1RleHQuc2NyaXB0W1wiRGlhbG9ndWVUZXh0Q29tcG9uZW50XCJdLnNldHVwKHN0ZXBEYXRhKTtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3VGV4dCk7XG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVDaG9pY2UgPSBmdW5jdGlvbiAoaW5kZXgsIHRleHQpIHtcbiAgICBjb25zdCBuZXdDaG9pY2UgPSB0aGlzLmNob2ljZUVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdDaG9pY2Uuc2NyaXB0W1wiRGlhbG9ndWVDaG9pY2VDb21wb25lbnRcIl0uc2V0dXAoaW5kZXgsIHRleHQpO1xuICAgIG5ld0Nob2ljZS5lbGVtZW50LnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdDaG9pY2UpO1xuICAgIHRoaXMuY2hvaWNlcy5wdXNoKG5ld0Nob2ljZSk7XG5cbiAgICBuZXdDaG9pY2Uub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuXG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhckRpYWxvZ3VlQ2hvaWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGNvbnN0IGNob2ljZSBvZiB0aGlzLmNob2ljZXMpIHtcbiAgICAgICAgY2hvaWNlLm9mZignY2xpY2snLCB0aGlzLmhhbmRsZVNlbGVjdENob2ljZSwgdGhpcyk7XG4gICAgICAgIGNob2ljZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5jaG9pY2VzID0gW107XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2hpbGUgKHRoaXMuZmVlZEVudGl0eS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuZmVlZEVudGl0eS5jaGlsZHJlblswXS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVTZWxlY3RDaG9pY2UgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGlja2VkOmNob2ljZScsIGluZGV4KTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUucmVzaXplVG9Db250ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc3BhY2luZ1ZlcnRpY2FsID0gdGhpcy5mZWVkRW50aXR5LmxheW91dGdyb3VwLnNwYWNpbmcueTtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcblxuICAgIGZvciAoY29uc3QgZmVlZENoaWxkIG9mIHRoaXMuZmVlZEVudGl0eS5jaGlsZHJlbikge1xuICAgICAgICBoZWlnaHQgKz0gZmVlZENoaWxkLmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICBoZWlnaHQgKz0gc3BhY2luZ1ZlcnRpY2FsO1xuICAgIH1cblxuICAgIHRoaXMuY29udGVudEVudGl0eS5lbGVtZW50LmhlaWdodCA9IE1hdGgubWF4KHRoaXMuY29udGVudEhlaWdodCwgaGVpZ2h0KTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2V0Q29udGludWVCdXR0b24gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uRW50aXR5LmVuYWJsZWQgPSB2YWx1ZTtcbn1cbiIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVDaG9pY2VDb21wb25lbnQnKTtcblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2luZGV4RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJbmRleCBFbnRpdHknIH0pO1xuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoaW5kZXgsIGxhYmVsKSB7XG4gICAgdGhpcy5pbmRleEVudGl0eS5lbGVtZW50LnRleHQgPSAoaW5kZXggKyAxKSArIFwiLlwiO1xuICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gbGFiZWw7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2snLCBpbmRleClcbiAgICB9KTtcbn1cblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcblxufVxuIiwiZXhwb3J0IGNvbnN0IERlZmF1bHRBbmltYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RlZmF1bHRBbmltYXRpb25Db21wb25lbnQnKTtcblxuRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFuaW1hdGlvbk5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQW5pbWF0aW9uIE5hbWVcIlxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkodGhpcy5hbmltYXRpb25OYW1lLCAwLjEpO1xufSIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVRleHRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlVGV4dENvbXBvbmVudCcpO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3dpdGhJbWFnZVdpZHRoJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdXaXRoIEltYWdlIFdpZHRoJywgZGVmYXVsdDogMzQwIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd3aXRob3V0SW1hZ2VXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnV2l0aCBJbWFnZSBXaWR0aCcsIGRlZmF1bHQ6IDM2MCB9KTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0ZXh0Q29udGFpbmVyJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUZXh0IENvbnRhaW5lcicgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RpdGxlRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaXRsZSBFbnRpdHknIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdib2R5RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdCb2R5IEVudGl0eScgfSk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGh1bWJuYWlsQ29udGFpbmVyJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaHVtYm5haWwgQ29udGFpbmVyJyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGh1bWJuYWlsSW1hZ2UnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RodW1ibmFpbCBJbWFnZScgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKHN0ZXBEYXRhKSB7XG4gICAgaWYgKHN0ZXBEYXRhLnRpdGxlKSB7XG4gICAgICAgIHRoaXMudGl0bGVFbnRpdHkuZWxlbWVudC50ZXh0ID0gc3RlcERhdGEudGl0bGU7XG5cbiAgICAgICAgaWYgKHN0ZXBEYXRhLnRpdGxlQ29sb3VyKSB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVsZW1lbnQuY29sb3IuZnJvbVN0cmluZyhzdGVwRGF0YS50aXRsZUNvbG91cik7XG5cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGl0bGVFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdGVwRGF0YS50aHVtYm5haWwpIHtcbiAgICAgICAgdGhpcy50ZXh0Q29udGFpbmVyLmVsZW1lbnQud2lkdGggPSB0aGlzLndpdGhJbWFnZVdpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5lbGVtZW50LndpZHRoID0gdGhpcy53aXRob3V0SW1hZ2VXaWR0aDtcbiAgICAgICAgdGhpcy50aHVtYm5haWxDb250YWluZXIuZW5hYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5ib2R5RW50aXR5LmVsZW1lbnQudGV4dCA9IHN0ZXBEYXRhLnRleHQ7XG4gICAgLy8gdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBtaW5IZWlnaHQgPSAodGhpcy50aHVtYm5haWxDb250YWluZXIuZW5hYmxlKSA/IHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVsZW1lbnQuaGVpZ2h0IDogMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICBsZXQgc3BhY2luZyA9IHRoaXMudGV4dENvbnRhaW5lci5sYXlvdXRncm91cC5zcGFjaW5nLnk7XG4gICAgZm9yIChjb25zdCB0ZXh0Q2hpbGQgb2YgdGhpcy50ZXh0Q29udGFpbmVyLmNoaWxkcmVuKSB7XG4gICAgICAgIGhlaWdodCArPSB0ZXh0Q2hpbGQuZWxlbWVudC5oZWlnaHQgKyBzcGFjaW5nO1xuICAgIH1cblxuXG4gICAgaWYgKCF0aGlzLnRpdGxlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5ib2R5RW50aXR5LmVsZW1lbnQud2lkdGggPSB0aGlzLndpdGhJbWFnZVdpZHRoO1xuXG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSBNYXRoLm1heChtaW5IZWlnaHQsIGhlaWdodCk7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldEhlaWdodCgpO1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgLy90aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQXR0YWNrQnV0dG9uTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBdHRhY2tCdXR0b25NZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazp0b2dnbGVBdHRhY2snLCB0aGlzLmhhbmRsZVRvZ2dsZUF0dGFjaywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uTmFtZSA9PT0gXCJhdHRhY2tcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBdHRhY2tCdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQXR0YWNrQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVUb2dnbGVBdHRhY2soYXR0YWNrRW5hYmxlZCkge1xuICAgICAgICBpZiAoYXR0YWNrRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIFwiYXR0YWNrXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIFwiaW50ZXJhY3RcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQXR0YWNrQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBdHRhY2tCdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQXR0YWNrQnV0dG9uTWVkaWF0b3IgfSBmcm9tICcuL0F0dGFja0J1dHRvbk1lZGlhdG9yJztcblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoQXR0YWNrQnV0dG9uTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQXR0YWNrQnV0dG9uTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQXR0YWNrQnV0dG9uTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BdHRhY2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOnRvZ2dsZUF0dGFjaycsICF0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkKTtcbn1cblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS50b2dnbGVIaWdobGlnaHQgPSBmdW5jdGlvbiAoaXNFbmFibGVkKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGlzRW5hYmxlZDtcbn0iLCJleHBvcnQgY29uc3QgVmVoaWNsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVmVoaWNsZUNvbXBvbmVudCcpO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWFzc1wiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXNzXCIsXG4gICAgZGVmYXVsdDogM1xufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXhTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXggU3BlZWRcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1heEZvcmNlXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1heCBGb3JjZVwiLFxuICAgIGRlZmF1bHQ6IDAuNVxufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhcnJpdmVUaHJlc2hvbGRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQXJyaXZhbCBUaHJlc2hvbGRcIixcbiAgICBkZWZhdWx0OiAxXG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IHBjLlZlYzMoKTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBuZXcgcGMuVmVjMygpO1xufVxuXG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NWZWxvY2l0eSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKTtcblxuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IGNsYW1wVmVjMyh0aGlzLnN0ZWVyaW5nRm9yY2UsICh0aGlzLm1heEZvcmNlKSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLnNjYWxlKDEgLyAodGhpcy5tYXNzKSk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMudmVsb2NpdHkuYWRkKHRoaXMuc3RlZXJpbmdGb3JjZSk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IGNsYW1wVmVjMyh0aGlzLnZlbG9jaXR5LCAodGhpcy5tYXhTcGVlZCAqIGR0KSk7XG5cbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBuZXcgcGMuVmVjMygpO1xuXG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eSkpO1xuXG4gICAgY29uc3QgeVJvdGF0aW9uID0gZ2V0QW5nbGUodGhpcy52ZWxvY2l0eSkgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIHlSb3RhdGlvbiwgMCk7XG59XG5cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uICh0YXJnZXQsIGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IGRlc2lyZWRWZWxvY2l0eSA9IHRhcmdldC5jbG9uZSgpLnN1Yihwb3NpdGlvbik7XG4gICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5Lm5vcm1hbGl6ZSgpXG4gICAgZGVzaXJlZFZlbG9jaXR5LnNjYWxlKHRoaXMubWF4U3BlZWQgKiBkdCk7XG4gICAgY29uc3QgZm9yY2UgPSBkZXNpcmVkVmVsb2NpdHkuc3ViKHRoaXMudmVsb2NpdHkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5hZGQoZm9yY2UpO1xufVxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5hcnJpdmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpO1xuICAgIGxldCBkZXNpcmVkVmVsb2NpdHkgPSB0YXJnZXQuY2xvbmUoKS5zdWIocG9zaXRpb24pLm5vcm1hbGl6ZSgpLnNjYWxlKHRoaXMubWF4U3BlZWQpO1xuICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBwb3NpdGlvbi5kaXN0YW5jZSh0YXJnZXQpO1xuXG4gICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPiB0aGlzLmFycml2YWxUaHJlc2hvbGQpIHtcbiAgICAgICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5LnNjYWxlKHRoaXMubWF4U3BlZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5zY2FsZSgodGhpcy5tYXhTcGVlZCAqIGRpc3RhbmNlVG9UYXJnZXQgLyB0aGlzLmFycml2ZVRocmVzaG9sZCkpO1xuXG4gICAgfVxuICAgIGNvbnN0IGZvcmNlID0gZGVzaXJlZFZlbG9jaXR5LnN1Yih0aGlzLnZlbG9jaXR5KTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2UuYWRkKGZvcmNlKTtcbn1cblxuZnVuY3Rpb24gY2xhbXBWZWMzKHZlYzMsIG1heFZhbHVlKSB7XG4gICAgaWYgKHZlYzMubGVuZ3RoKCkgPCBtYXhWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdmVjMztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmVjMy5ub3JtYWxpemUoKS5zY2FsZShtYXhWYWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmdsZSh2ZWMzKSB7XG4gICAgcmV0dXJuIE1hdGguYXRhbjIodmVjMy54LCB2ZWMzLnopO1xufSIsImV4cG9ydCBjb25zdCBTY3JlZW5SZXNpemVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NjcmVlblJlc2l6ZUNvbXBvbmVudCcpO1xuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLndpbmRvdyA9IHdpbmRvdztcblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbn1cblxuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGdyYXBoaWNzRGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgLy8gRmxpcCBibGVuZFxuICAgIGlmIChncmFwaGljc0RldmljZS53aWR0aCA8IGdyYXBoaWNzRGV2aWNlLmhlaWdodCkge1xuICAgICAgICB0aGlzLmVudGl0eS5zY3JlZW4uc2NhbGVCbGVuZCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2NyZWVuLnNjYWxlQmxlbmQgPSAwO1xuICAgIH1cblxuICAgIHRoaXMuZW50aXR5LnNjcmVlbi5yZWZlcmVuY2VSZXNvbHV0aW9uID0gbmV3IHBjLlZlYzIoZ3JhcGhpY3NEZXZpY2Uud2lkdGgsIGdyYXBoaWNzRGV2aWNlLmhlaWdodCk7XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBQdXJlTVZDIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IENhY29nZW5HYW1lIH0gZnJvbSAnLi92aWV3L0NhY29nZW5HYW1lJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEhpdGJveENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvblBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IFVJU3RvcFByb3BhZ2F0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uJztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50JztcbmltcG9ydCB7IFByb2plY3RpbGVDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50JztcbmltcG9ydCB7IEZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUG9ydGFsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZUNob2ljZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvZGVmYXVsdEFuaW0vRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVRleHRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVRleHRDb21wb25lbnQnO1xuaW1wb3J0IHsgQXR0YWNrQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25Db21wb25lbnQnO1xuaW1wb3J0IHsgVmVoaWNsZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy92ZWhpY2xlL1ZlaGljbGVDb21wb25lbnQnO1xuaW1wb3J0IHsgU2NyZWVuUmVzaXplQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQnO1xuXG5jbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IEdhbWVGYWNhZGUuZ2V0SW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKEZhY2FkZSk7XG5cbiAgICAgICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zdGFydHVwKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==