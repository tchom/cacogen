(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),s=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=s},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),s=i(542),r=i(999),a=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=s.PureMVC.debug?s.PureMVC.logNotification:s.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),r.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=r.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=a},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),r=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=r.PureMVC.debug?r.PureMVC.logMediator:r.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(s.Notifier);e.Mediator=a},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),r=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=r.PureMVC.debug?r.PureMVC.logProxy:r.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(s.Notifier);e.Proxy=a},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var s=o[n];this.removeObserver(s,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var s=o[n];this.registerObserver(s,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var s=i(651);e.Mediator=s.Mediator;var r=i(433);e.Model=r.Model;var a=i(117);e.Notifier=a.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,n,s,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,s||t,r),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function r(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,r=new Array(s);o<s;o++)r[o]=n[o].fn;return r},a.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,s,r){var a=i?i+t:t;if(!this._events[a])return!1;var c,h,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,s),!0;case 6:return d.fn.call(d.context,e,n,o,s,r),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,n,o){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return r(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||r(this,s);else{for(var c=0,h=[],d=a.length;c<d;c++)(a[c].fn!==e||o&&!a[c].once||n&&a[c].context!==n)&&h.push(a[c]);h.length?this._events[s]=1===h.length?h[0]:h:r(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&r(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},828:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>ee});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var s=i(969),r=i(434);const{Facade:a}=i(710);function c(t,e,...i){const c=a.getInstance(t),y=pc.Application.getApplication(),g=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(y),m=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(y,g),f=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(y,g),A=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(y),N=function(t){const e=[];for(const i of t)E(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=r.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);r.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(g);c.hasProxy(s.h.NAME)&&c.removeProxy(s.h.NAME),c.registerProxy(new s.h(g,m,f,A,N)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),s=Math.round(i.x-.5*n.x),r=Math.round(i.z-.5*n.z);for(let t=s;t<s+n.x;t++)for(let i=r;i<r+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),s=Math.round(n.x),r=Math.round(n.z),a=Math.round(i.x-s/2),c=i.y,h=Math.round(i.z-r/2);for(let t=h;t<h+r;t++)for(let i=a;i<a+s;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),s=Math.round(n.y-.5*o.y),r=Math.round(n.x-.5*o.x),a=Math.round(n.z-.5*o.z);for(let t=r;t<r+o.x;t++)for(let n=a;n<a+o.z;n++){const o=new pc.Vec3(t,s,n);i.push(o);const r=e.findIndex((e=>e.equalsPoint(t,s,n)));if(r>-1){const t=e.splice(r,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function E(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),s=new pc.Vec3(t.x+1,t.y,t.z),r=new pc.Vec3(t.x+1,t.y,t.z+1),a=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(s))))&&(e.some((t=>t.equals(r)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(s))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(h)))))}var y=i(917);const{Proxy:g}=i(710);class m extends g{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(m.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:f}=i(710),{StoryVO:A}=i(553);class N extends f{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],s=t.assets.get(o).resource;i.set(n,s)}super(N.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Proxy:T}=i(710),{InventoryVO:_}=i(713);class C extends T{get vo(){return this.getData()}static get NAME(){return"InventoryProxy"}constructor(){super(C.NAME,new _)}get inventoryItems(){return this.vo.inventoryItems}set inventoryItems(t){this.vo.inventoryItems=t}get equipmentSlots(){return this.vo.equipmentSlots}reorderInventoryItem(t,e){const i=this.inventoryItems.findIndex((e=>e.uuid===t)),n=this.inventoryItems.splice(i,1);let o=0,s=0;for(let t=0;t<this.inventoryItems.length;t++){const i=this.inventoryItems[t];e>=o&&e<o+i.size&&(s=t),o+=i.size}if(e>=o&&(s=this.inventoryItems.length),"[object Array]"!==Object.prototype.toString.call(this.inventoryItems))throw new Error("Please provide a valid array");if(!n.length)throw new Error("There is no item in the array at index "+i);this.inventoryItems.splice(s,0,n[0])}attemptToEquipItemToSlot(t,e){if(("1hand"===t||"2hand"===t)&&"weapon"===e.type){const i=this.equipmentSlots.get(t);if(i&&"2hand"===i.equipSlot&&(this.equipmentSlots.delete("1hand"),this.equipmentSlots.delete("2hand")),"1hand"===e.equipSlot){if(this.equipmentSlots.set(t,e),"1hand"===t){const t=this.equipmentSlots.get("2hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("2hand")}else if("2hand"===t){const t=this.equipmentSlots.get("1hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("1hand")}}else this.equipmentSlots.set("1hand",e),this.equipmentSlots.set("2hand",e);return!0}return!1}addInventoryItem(t){this.inventoryItems.push(t)}getEquippedItem(t){return this.equipmentSlots.get(t)}}const{Proxy:M}=i(710);class v extends M{get vo(){return this.getData()}static get NAME(){return"ItemsProxy"}constructor(t){super(v.NAME,t)}getItemData(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(console.log(i),Object.hasOwnProperty.call(i,t))return{id:t,type:e,...this.vo[e][t]}}throw new Error("Cannot find data for item:: "+t)}}const{Proxy:I}=i(710),{BotBehavioursVO:S}=i(812);class P extends I{get vo(){return this.getData()}static get NAME(){return"BotBehaviourProxy"}constructor(){super(P.NAME,new S)}getTree(t){return this.vo.getTree(t)}}const{Facade:O}=i(710);function b(t,e){O.getInstance(t).registerProxy(new y.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;O.getInstance(t).registerProxy(new m(e));const o=i.assets.get(40814027).resource;O.getInstance(t).registerProxy(new v(o)),O.getInstance(t).registerProxy(new N),O.getInstance(t).registerProxy(new C),O.getInstance(t).registerProxy(new P),O.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"sword"),O.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"pistolet"),O.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"fusil"),O.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"chainmail"),O.getInstance(t).sendNotification(n.i.EQUIP_ITEM_TO_SLOT,"unarmed","1hand"),O.getInstance(t).sendNotification(n.i.EQUIP_ITEM_TO_SLOT,"unarmed","2hand")}}const{Facade:x}=i(710);function L(t,e,...i){const o=pc.Application.getApplication(),s=i[0],r=i[1];console.log("Changing scene "+s);const a=o.root.findByName("Root"),c=o.scenes.find(s);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):a&&a.destroy(),x.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,s),x.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,s),x.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,r)}))}function D(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var w=i(958);const{Proxy:R}=i(710),{CombatVO:G}=i(201);class k extends R{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(k.NAME,new G(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(w.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=D(t);for(;"end_round"===e[0];)e=D(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var U=i(448);const{Facade:H}=i(710);function V(t,e,...i){const o=i[0],s=H.getInstance(t);s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),s.retrieveProxy(y.u.NAME).updateGameStateType(U.gameplayModeTypes.COMBAT);const r=s.retrieveProxy(w.b.NAME+o);s.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",r);const a=new Map,c=["player"];a.set("player_team",c);const h=[o].concat(r.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));a.set("opposing_team",h);const d=c.concat(h),l=s.retrieveProxy(w.b.NAME+"player");for(const t of d)s.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?s.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):s.sendNotification(n.i.CHARACTER_LOOK_AT+t,r.currentNode);const p=new k(d,a);s.registerProxy(p),setTimeout((()=>{s.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:B}=i(710);function F(t,e,...i){const n=B.getInstance(t),o=n.retrieveProxy(y.u.NAME),s=n.retrieveProxy(k.NAME);o.vo.gameplayMode===U.gameplayModeTypes.COMBAT&&s.nextTurn()}const{Facade:z}=i(710);function q(t,e,...i){const o=z.getInstance(t),s=o.retrieveProxy(y.u.NAME),r=o.retrieveProxy(k.NAME);s.vo.gameplayMode===U.gameplayModeTypes.COMBAT&&(r.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,r.vo.nextTurnCharacterId))}const{Facade:Y}=i(710);function W(t,e,...i){setTimeout((()=>{const e=Y.getInstance(t),i=e.retrieveProxy(k.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var K=i(226);const{Facade:j}=i(710);function Q(t,e,...i){const n=i[0],o=j.getInstance(t),r=(o.retrieveProxy(s.h.NAME),o.retrieveProxy(w.b.NAME+n).currentNode);o.retrieveProxy(w.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(r))),(new K.o).runCommands(o,n)}var $=i(710);function X(t,e,...i){const o=$.Facade.getInstance(t),r=o.retrieveProxy(y.u.NAME),a=o.retrieveProxy(s.h.NAME),c=i[0];a.hasValidNode(c)&&(r.currentMode===U.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):r.currentMode===U.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(k.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:J}=i(710);function Z(t,e,...i){const n=J.getInstance(t),o=i[0],s=i[1],a=n.retrieveProxy(w.b.NAME+o),c=a.vo,h=r.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(s)&&tt(n,a,s)}function tt(t,e,i){const o=e.vo,s=r.q.calculatePath(o.currentNode,i);s&&s.length>0&&(o.availableMovement-=s.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,s))}function et(t,e,...i){const n=i[0],o=pc.Application.getApplication(),s=o.assets.get(40235966),r=o.root.findByName("WorldObjects");for(const t of n){const e=s.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),r.addChild(e)}}function it(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function nt(t,e,...i){const o=i[0],s=$.Facade.getInstance(t),a=s.retrieveProxy(w.b.NAME+o).vo,c=r.q.breadthFirstSearch(a.currentNode,a.availableMovement);s.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function ot(t,e,...i){const o=$.Facade.getInstance(t),s=i[0],r=i[1];if(o.retrieveProxy(w.b.NAME+s).currentNode=r,o.retrieveProxy(y.u.NAME).currentMode===U.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(k.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,s):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),500))}}var st=i(467);function rt(t,e,...i){const o=$.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(y.u.NAME),h=o.retrieveProxy(s.h.NAME),d=o.retrieveProxy(w.b.NAME+a),l=o.retrieveProxy(w.b.NAME+"player"),p=o.retrieveProxy(m.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===U.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?at(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,a):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,a);else if(c.currentMode===U.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(k.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)at(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=r.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=r.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function at(t,e,i){const n=(0,st.z)(e),o=(0,st.z)(i);return!t.rayIntersectsWall(n,o)}var ct=i(829);function ht(t,e,...i){const o=$.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(w.b.NAME+s),a=i[1],c=o.retrieveProxy(w.b.NAME+a);o.sendNotification(n.i.CHARACTER_LOOK_AT+s,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,r.currentNode);const h=o.retrieveProxy(m.NAME),d=r.equippedWeapon+"Fighting",l=c.equippedWeapon+"Fighting",p=r.getSkillTotal(d),u=r.getSkillTotal(l),E=lt(p),y=lt(u);if(r.availableActions-=1,E===y)o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.DISPLAY_ATTACK+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${E}/${y})`);else if(E>y){const t=dt(E,y),e=h.getDamage(r.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+s),c.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,a):(o.sendNotification(n.i.DISPLAY_HIT+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${a} for ${e}`))}else{const t="melee"===h.getWeaponCategory(c.equippedWeapon),e=dt(y,E),i=t?c.equippedWeapon:ct.j.UNARMED,d=h.getDamage(i,e);r.applyDamage(d),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${a} damages ${s} for ${d}`),o.sendNotification(n.i.DISPLAY_ATTACK+a),r.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,s):o.sendNotification(n.i.DISPLAY_HIT+s)}const g=o.retrieveProxy(k.NAME);g&&"player"!==g.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),1500)}function dt(t,e){return t-e}function lt(t){return t+pt()+pt()}function pt(){return Math.round(6*Math.random())}var ut=i(321);const{Facade:Et}=i(710);function yt(t,e,...i){const o=Et.getInstance(t),s=i[0],r=i[1],a=i[2];o.retrieveProxy(w.b.NAME+s).useMovement(a.length-1);const c=o.retrieveMediator(ut.y.NAME+s);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(a).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,s,r)}))}function gt(t,e,...i){const o=$.Facade.getInstance(t),s=i[0];console.log("Kill character:: "+s);const r=o.retrieveProxy(w.b.NAME+s);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",r),o.sendNotification(n.i.DISPLAY_DEATH+s),r&&(r.currentNode.occupied=!1);const a=o.retrieveProxy(k.NAME);a&&a.removeCharacterFromCombat(s)}const{Facade:mt}=i(710);function ft(t,e,...i){const o=i[0],s=mt.getInstance(t);s.hasMediator(k.NAME)&&s.removeMediator(k.NAME),s.sendNotification(n.i.HIDE_WALKABLE_AREA);const r=s.retrieveProxy(y.u.NAME);"player_team"===o?(r.updateGameStateType(U.gameplayModeTypes.GAME_OVER),s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(r.updateGameStateType(U.gameplayModeTypes.EXPLORATION),s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}function At(t,e,...i){const n=$.Facade.getInstance(t),o=i[0],s=n.retrieveProxy(w.b.NAME+o),r=n.retrieveProxy(P.NAME).getTree(s.botBehaviour);r&&r.runCommands(n,o)}i(316),i(744);var Nt=i(852);function Tt(t,e,...i){const o=$.Facade.getInstance(t);let r=0,a=0;const c=i[0],h=o.retrieveProxy(w.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(w.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode);const E=h.equippedWeapon+"Fighting",y=h.getSkillTotal(E);r+=_t(y),a+=_t(p.skill);const g=o.retrieveProxy(m.NAME);o.retrieveProxy(s.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(a+=2);const f=o.retrieveMediator(Nt.N.NAME),A=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),N=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),f.createProjectile("crossbow_bolt",A,N).then((()=>{if(r>a){const t=o.retrieveProxy(k.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(w.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(w.b.NAME+l)}const e=r-a,i=g.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,l):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(k.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function _t(t){return t+Ct()+Ct()}function Ct(){return Math.round(6*Math.random())}const{Facade:Mt}=i(710);function vt(t,e,...i){const o=Mt.getInstance(t);if(o.retrieveProxy(y.u.NAME).currentMode===U.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(k.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const s=i[0],r=i[1],a=o.retrieveProxy(w.b.NAME+s);a&&(a.equippedWeapon=r,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} equips ${r}`))}function It(t,e,...i){const o=$.Facade.getInstance(t),r=i[0],a=i[1],c=i[2],h=o.retrieveProxy(s.h.NAME).findNearestNode(r);o.retrieveMediator(ut.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,a,c)}))}const{Facade:St}=i(710);function Pt(t,e,...i){const n=St.getInstance(t),o=i[0],r=pc.Application.getApplication(),a=r.assets.get(40523336),c=r.root.findByName("WorldObjects"),h=a.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(s.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:Ot}=i(710);function bt(t,e,...i){const o=Ot.getInstance(t),s=i[0],a=o.retrieveProxy(w.b.NAME+"player"),c=o.retrieveProxy(w.b.NAME+s),h=o.retrieveMediator(ut.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=r.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=r.q.calculatePath(n,t[i]);(!e||o&&o.length<e.length)&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_DIALOGUE,s)}))}const{Facade:xt}=i(710);function Lt(t,e,...i){const o=xt.getInstance(t),s=o.retrieveProxy(y.u.NAME),r=i[0],a=o.retrieveProxy(N.NAME),c=o.retrieveProxy(w.b.NAME+"player"),h=o.retrieveProxy(w.b.NAME+r),d=h.dialogueTree;a.startDialogueTree(d),s.updateGameStateType(U.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=a.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function Dt(t,e,...i){const o=$.Facade.getInstance(t),s=o.retrieveProxy(N.NAME),r=s.continueCurrentNodeStep();if(r){if(r.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),r.notifications)for(const t of r.notifications)o.sendNotification(t.name,...t.args);o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:r})}else o.sendNotification(n.i.END_DIALOGUE)}function wt(t,e,...i){const o=$.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(N.NAME),a=r.selectChoice(s);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:a.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:c}),a.test?o.sendNotification(n.i.RESOLVE_DIALOGUE_SKILL_TEST,a.test):a.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,a.goto)}function Rt(t,e,...i){const o=$.Facade.getInstance(t),s=o.retrieveProxy(N.NAME),r=i[0];s.goToNode(r);const a=s.getCurrentNodeStep();if(a){if(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:a}),console.log("*****"),console.log(a),a.notifications)for(const t of a.notifications)console.log("SHOOT COMMAND: "+t.name),o.sendNotification(t.name,...t.args)}else o.sendNotification(n.i.END_DIALOGUE)}const{Facade:Gt}=i(710);function kt(t,e,...i){const o=Gt.getInstance(t);o.retrieveProxy(y.u.NAME).updateGameStateType(U.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:Ut}=i(710);function Ht(t,e,...i){const o=Ut.getInstance(t),s=i[0],a=o.retrieveProxy(w.b.NAME+"player"),c=o.retrieveProxy(w.b.NAME+s),h=o.retrieveMediator(ut.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=r.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=r.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,s),o.sendNotification(n.i.RESOLVE_ATTACK,"player",s)}))}const{Facade:Vt}=i(710);function Bt(t,e,...i){const n=Vt.getInstance(t),o=i[0];n.retrieveProxy(y.u.NAME).currentAction=o}function Ft(t,e,...i){const o=$.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(w.b.NAME+"player").getSkillTotal(s.skill),a=zt(),c=zt(),h=r>=a+c;o.sendNotification(n.i.DISPLAY_DIALOGUE_SKILL_TEST,s.skill,r,a,c,h),h?(console.log(`Succeeded ${s.skill} with a ${r} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.success.goto)):(console.log(`Failed ${s.skill} with a ${r} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.failure.goto))}function zt(){return Math.round(6*Math.random())}const{Facade:qt}=i(710);function Yt(t,e,...i){const o=qt.getInstance(t),s=o.retrieveProxy(C.NAME);o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}const{Facade:Wt}=i(710);function Kt(t,e,...i){const o=Wt.getInstance(t),s=o.retrieveProxy(C.NAME),r=i[0],a=i[1];s.reorderInventoryItem(r,a),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}var jt=i(340);function Qt(t,e,...i){const o=$.Facade.getInstance(t),s=o.retrieveProxy(C.NAME),r=i[0],a=i[1],c=s.inventoryItems.find((t=>t.id===r));if(c)s.attemptToEquipItemToSlot(a,c)&&"weapon"===c.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id);else{const t=o.retrieveProxy(v.NAME),e=o.retrieveProxy(C.NAME),i=new jt.R(t.getItemData(r));e.attemptToEquipItemToSlot(a,i)&&"weapon"===i.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",i.id)}o.sendNotification(n.i.DISPLAY_EQUIPPED_SLOT,s.equipmentSlots),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}const{Facade:$t}=i(710);function Xt(t,e,...i){const n=i[0],o=$t.getInstance(t),s=o.retrieveProxy(v.NAME),r=o.retrieveProxy(C.NAME),a=new jt.R(s.getItemData(n));r.addInventoryItem(a)}const{Facade:Jt}=i(710);function Zt(t,e,...i){const o=Jt.getInstance(t),s=o.retrieveProxy(C.NAME),r=o.retrieveProxy(y.u.NAME),a=i[0],c=s.getEquippedItem(a);c&&"weapon"===c.type&&("attack"!==r.currentAction?(o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id),r.currentAction="attack",o.sendNotification(n.i.SET_USE_ITEM_BUTTON_HIGHLIGHT,a,!0)):(r.currentAction="interact",o.sendNotification(n.i.SET_USE_ITEM_BUTTON_HIGHLIGHT,a,!1)))}const{Facade:te}=i(710);class ee extends te{static getInstance(t){return te.instanceMap[t]||(te.instanceMap[t]=new ee(t)),te.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return ee.NAME+"StartUp"}startup(t){this.sendNotification(ee.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(ee.STARTUP,b),this.registerCommand(n.i.CHANGE_SCENE,L),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,V),this.registerCommand(n.i.NEXT_COMBAT_TURN,F),this.registerCommand(n.i.NEXT_COMBAT_ROUND,q),this.registerCommand(n.i.END_COMBAT_TURN,W),this.registerCommand(n.i.ENEMY_TURN,Q),this.registerCommand(n.i.SELECTED_NODE,X),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,Z),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,At),this.registerCommand(n.i.SHOW_WALKABLE_AREA,et),this.registerCommand(n.i.HIDE_WALKABLE_AREA,it),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,nt),this.registerCommand(n.i.FINISHED_MOVE,ot),this.registerCommand(n.i.SELECT_GAME_CHARACTER,rt),this.registerCommand(n.i.RESOLVE_ATTACK,ht),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Tt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,yt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,Ht),this.registerCommand(n.i.KILL_GAME_CHARACTER,gt),this.registerCommand(n.i.END_COMBAT,ft),this.registerCommand(n.i.EQUIP_WEAPON,vt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,It),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,Pt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,bt),this.registerCommand(n.i.START_DIALOGUE,Lt),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,Dt),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,wt),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,Rt),this.registerCommand(n.i.END_DIALOGUE,kt),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,Bt),this.registerCommand(n.i.RESOLVE_DIALOGUE_SKILL_TEST,Ft),this.registerCommand(n.i.CLICK_INVENTORY_BUTTON,Yt),this.registerCommand(n.i.REORDER_INVETORY_ITEM,Kt),this.registerCommand(n.i.EQUIP_ITEM_TO_SLOT,Qt),this.registerCommand(n.i.ADD_ITEM_TO_INVENTORY,Xt),this.registerCommand(n.i.USE_EQUIPPED_ITEM,Zt)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},623:(t,e,i)=>{i.d(e,{P:()=>r});var n=i(379),o=i(935),s=i(68);class r extends n.H{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(s.i.END_COMBAT_TURN),o.d.SUCCESS}}},488:(t,e,i)=>{i.d(e,{o:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),o.d.SUCCESS}}},650:(t,e,i)=>{i.d(e,{s:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).availableActions>0?o.d.SUCCESS:o.d.FAILURE}}},658:(t,e,i)=>{i.d(e,{$:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).availableMovement>0?o.d.SUCCESS:o.d.FAILURE}}},94:(t,e,i)=>{i.d(e,{r:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).isDead?o.d.SUCCESS:o.d.FAILURE}}},30:(t,e,i)=>{i.d(e,{N:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).isDead?o.d.SUCCESS:o.d.FAILURE}}},379:(t,e,i)=>{i.d(e,{H:()=>s});var n=i(935),o=i(217);class s{constructor(t){this.initialize(t)}initialize(t){this.id=(0,o.L)(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==n.d.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return n.d.ERROR}close(t){}exit(t){}}},935:(t,e,i)=>{i.d(e,{d:()=>n});class n{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}},996:(t,e,i)=>{i.d(e,{q:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){for(const e of this.children)e.execute(t);return o.d.SUCCESS}}},96:(t,e,i)=>{i.d(e,{_:()=>s});var n=i(379),o=i(935);class s extends n.H{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==o.d.SUCCESS)return i===o.d.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return o.d.SUCCESS}}},890:(t,e,i)=>{i.d(e,{U:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==o.d.FAILURE)return i}return o.d.FAILURE}}},966:(t,e,i)=>{i.d(e,{M:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){const e=this.children[0];if(!e)return o.d.ERROR;let i=e.execute(t);return i==o.d.SUCCESS?i=o.d.FAILURE:i==o.d.FAILURE&&(i=o.d.SUCCESS),i}}},226:(t,e,i)=>{i.d(e,{o:()=>M});var n=i(996),o=i(541),s=i(890),r=i(488),a=i(379),c=i(935),h=i(68);class d extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(h.i.RESOLVE_ATTACK,i,n),c.d.SUCCESS}}var l=i(623),p=i(658),u=i(958);class E extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(u.b.NAME+i).currentNode;return e.retrieveProxy(u.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?c.d.SUCCESS:c.d.FAILURE}}var y=i(96),g=i(966),m=i(30),f=i(434);class A extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(u.b.NAME+i),s=o.currentNode,r=e.retrieveProxy(u.b.NAME+n).currentNode.connectedNodes.filter((t=>!t.occupied));if(r.length>0){let t=r.reduce(((t,e)=>N(s,t)<N(s,e)?t:e));const n=f.q.calculatePath(s,t);if(n&&n.length>0){const s=o.vo;for(;n.length>s.availableMovement;)n.shift();e.sendNotification(h.i.NAVIGATE_ALONG_PATH+i,n),o.currentNode=t}}return o.availableMovement=0,c.d.SUCCESS}}function N(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}var T=i(94),_=i(650);class C extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(u.b.NAME+i).availableMovement=0,c.d.SUCCESS}}class M extends o.p{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new n.q([new s.U([new y._([new r.o,new g.M([new T.r]),new g.M([new m.N]),new s.U([new y._([new E,new _.s,new r.o,new d,new C]),new y._([new p.$,new r.o,new A])])]),new l.P])])}}},744:(t,e,i)=>{i.d(e,{b:()=>P});var n=i(996),o=i(541),s=i(890),r=i(488),a=i(623),c=i(96),h=i(966),d=i(30),l=i(94),p=i(658),u=i(650),E=i(379),y=i(935),g=i(68);class m extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(g.i.RESOLVE_RANGED_ATTACK,i,n),y.d.SUCCESS}}var f=i(958),A=i(434);class N extends E.H{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(f.b.NAME+i),s=o.currentNode,r=e.retrieveProxy(f.b.NAME+n).currentNode,a=Math.pow(this.minDistance,2),c=Math.pow(this.maxDistance,2),h=o.availableMovement;o.availableMovement=0;const d=T(r,s);if(d>=a&&d<=c)return y.d.FAILURE;{const t=A.q.breadthFirstSearch(s,h);if(t.length>0){if(d<a){let n=t.reduce(((t,e)=>T(r,t)>T(r,e)?t:e));const a=A.q.calculatePath(s,n);a&&a.length>0&&(e.sendNotification(g.i.NAVIGATE_ALONG_PATH+i,a),o.currentNode=n)}else{let n=t.reduce(((t,e)=>T(r,t)<T(r,e)?t:e));const a=A.q.calculatePath(s,n);a&&a.length>0&&(e.sendNotification(g.i.NAVIGATE_ALONG_PATH+i,a),o.currentNode=n)}return y.d.SUCCESS}return y.d.FAILURE}}}function T(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class _ extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(g.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}var C=i(969),M=i(467);class v extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(f.b.NAME+i),s=(o.currentNode,e.retrieveProxy(f.b.NAME+n)),r=(s.currentNode,e.retrieveProxy(C.h.NAME)),a=(0,M.z)(o),c=(0,M.z)(s);return r.rayIntersectsWall(a,c)?y.d.FAILURE:y.d.SUCCESS}}class I extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(f.b.NAME+i),s=o.currentNode,r=e.retrieveProxy(f.b.NAME+n),a=r.currentNode.connectedNodes,c=e.retrieveProxy(C.h.NAME),h=a.filter((t=>!t.occupied));if(h.length>0){let t=h.reduce(((t,e)=>S(s,t)<S(s,e)?t:e));const n=A.q.calculatePath(s,t);if(n&&n.length>0){const s=o.vo;for(;n.length>s.availableMovement;)n.shift();const a=(0,M.z)(r);let h=0;for(let t=n.length-1;t>=0;t--){const e=n[t],i=new pc.Vec3(e.x,e.y+.5*o.height,e.z);if(!c.rayIntersectsWall(i,a)){h=t;break}}n.splice(0,h),e.sendNotification(g.i.NAVIGATE_ALONG_PATH+i,n),o.currentNode=t}}return o.availableMovement=0,y.d.SUCCESS}}function S(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class P extends o.p{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new n.q([new s.U([new c._([new r.o,new h.M([new l.r]),new h.M([new d.N]),new s.U([new c._([new p.$,new h.M([new v]),new I]),new c._([new p.$,new s.U([new N(9,12),new _])]),new c._([new u.s,new v,new m])])]),new a.P])])}}},541:(t,e,i)=>{i.d(e,{p:()=>r});class n{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class o{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class s{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new o;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],s=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,s.length)&&(r=t+1,n[t]===s[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",s,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class r{constructor(t){this.id="basicMeleeTree",this.blackboard=new n,this.tree=new s(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get DISPLAY_DIALOGUE_SKILL_TEST(){return"DISPLAY_DIALOGUE_SKILL_TEST"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get RESOLVE_DIALOGUE_SKILL_TEST(){return"RESOLVE_DIALOGUE_SKILL_TEST"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}static get CLICK_INVENTORY_BUTTON(){return"CLICK_INVENTORY_BUTTON"}static get DISPLAY_INVENTORY_PANEL(){return"DISPLAY_INVENTORY_PANEL"}static get REORDER_INVETORY_ITEM(){return"REORDER_INVETORY_ITEM"}static get EQUIP_ITEM_TO_SLOT(){return"EQUIP_ITEM_TO_SLOT"}static get ADD_ITEM_TO_INVENTORY(){return"ADD_ITEM_TO_INVENTORY"}static get DISPLAY_EQUIPPED_SLOT(){return"DISPLAY_EQUIPPED_SLOT"}static get USE_EQUIPPED_ITEM(){return"USE_EQUIPPED_ITEM"}static get SET_USE_ITEM_BUTTON_HIGHLIGHT(){return"SET_USE_ITEM_BUTTON_HIGHLIGHT"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},812:(t,e,i)=>{i.r(e),i.d(e,{BotBehavioursVO:()=>r});var n=i(316),o=i(226),s=i(744);class r{constructor(t,e){this.behaviourTrees=new Map,this.behaviourTrees.set(n.r.BASIC_MELEE,new o.o),this.behaviourTrees.set(n.r.BASIC_RANGED,new s.b)}getTree(t){return this.behaviourTrees.get(t)}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>r});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:s}=i(940);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(r.NAME+t.id,new s(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}getSkillTotal(t){return this.vo.advancedSkills.has(t)?this.skill+this.vo.advancedSkills.get(t):this.skill}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||new Map,this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>r});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:s}=i(438);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(r.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const s of e){const e=n.q.getDistSquared(s,t);e<o&&(o=e,i=s)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const s of e){const e=n.q.getDistSquared(s,t);e<o&&(o=e,i=s)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),s=this.vo.wallBoundingBoxes;for(const e of s){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let s=0;for(;i.length>0&&s<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const s=e.connectedNodes[i];s.occupied||o.has(s)||(t.push(s),n.push(s),o.set(s,e))}i=t,s++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,s=new Map;for(o.set(t,t),s.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const r=t.connectedNodes[n],a=s.get(t)+1;if(!r.occupied&&(!s.has(r)||a<s.get(r))){s.set(r,a);let n=a+this.heuristic(r,e);i.push(r,n),o.set(r,t)}}}let r=e,a=!1;const c=[];for(c.push(r);!r.equals(t)&&!a;)o.has(r)||!r.equals(e)?(r=o.get(r),c.push(r)):a=!0;return a?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,s=new Map;for(o.set(t,t),s.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const r=t.connectedNodes[n],a=this.getDistSquared(r,t),c=s.get(t)+a;if(!r.occupied&&(!s.has(r)||c<s.get(r))){s.set(r,c);let n=c+this.heuristic(r,e);i.push(r,n),o.set(r,t)}}}let r=e,a=!1;const c=[];for(c.push(r);!r.equals(t)&&!a;)o.has(r)||!r.equals(e)?(r=o.get(r),c.push(r)):a=!0;return a?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,s=n-e,r=Math.abs(o),a=Math.abs(s);const c=o>0?1:-1,h=s>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<r||e<a;)(.5+t)/r<(.5+e)/a?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>s});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class s extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(s.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},713:(t,e,i)=>{i.r(e),i.d(e,{InventoryVO:()=>o});var n=i(340);class o{constructor(){this.inventoryItems=[],this.equipmentSlots=new Map}addItem(t){this.inventoryItems.push(new n.R(t))}}},340:(t,e,i)=>{i.d(e,{R:()=>o});var n=i(217);class o{constructor(t){this.uuid=(0,n.L)(),this.id=t.id,this.icon=t.icon,this.name=t.name,this.description=t.description,this.type=t.type,this.size=t.size??1,this.equipSlot=t.equipSlot??"none"}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},467:(t,e,i)=>{function n(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}i.d(e,{z:()=>n})},217:(t,e,i)=>{function n(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}i.d(e,{L:()=>n})},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),s=i(434),r=i(958);const{Mediator:a}=i(710);class c extends a{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(r.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const s=this.viewComponent.findByName("Hitbox");s&&s.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=s.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,a=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=s.q.calculateWaypointsPath(a,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let s=!0;for(;o.length>1&&s;)e.hasValidLine(o[o.length-2],n)?o.pop():s=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=s.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(r.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(r.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(828),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(828),s=pc.createScript("CacogenGame");s.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},s.prototype.update=function(t){};var r=i(434);const a=pc.createScript("NavigationComponent");a.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),a.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},a.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},a.prototype.setGrid=function(t){this.nodeGrid=t},a.prototype.getGrid=function(){return this.nodeGrid},a.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=r.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=r.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const E=pc.createScript("GameCharacterComponent");function y(t){const e=new Map;for(const i of t)e.set(i.skillName,i.skillValue);return e}E.attributes.add("characterId",{type:"string",title:"Character Id"}),E.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),E.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),E.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),E.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),E.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"number"}],array:!0}),E.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),E.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),E.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),E.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),E.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},E.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:y(this.advancedSkills),equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1)},E.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},E.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},E.prototype.update=function(t){this.moveAlongPath(t)},E.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},E.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},E.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},E.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},E.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var g=i(917),m=i(448);const f=pc.createScript("AgroGameCharacterComponent");f.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),f.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},f.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},f.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(g.u.NAME).vo.gameplayMode!==m.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const s=this.characterProxy.currentNode,r=new pc.Vec3(s.x,s.y,s.z),a=new pc.Vec3(n.x,n.y,n.z);if(r.distance(a)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);r.y+=this.characterProxy.height,t.rayIntersectsWall(r,a)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:A}=i(710);class N extends A{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const T=pc.createScript("ToastMessageComponent");T.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),T.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},T.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},T.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:_}=i(710);class C extends _{static get NAME(){return"InputLayerMediator"}constructor(t){super(C.NAME),this.subscribeNotification([]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const M=pc.createScript("GameCamera");M.attributes.add("distance",{type:"number",default:100,title:"Distance"}),M.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),M.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),M.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),M.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(I.NAME)&&this.facade.removeMediator(I.NAME),this.facade.registerMediator(new I(this.entity))},M.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},M.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},M.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},M.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,s=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,s),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class I extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(I.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const S=pc.createScript("InputLayerComponent");S.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),S.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),S.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.facade.registerMediator(new C(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},S.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},S.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},S.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},S.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},S.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},S.prototype.update=function(t){this.processInputQueue()},S.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},S.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},S.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},S.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:P}=i(710);class O extends P{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(O.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const b=pc.createScript("PlayerCombatPanelComponent");b.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),b.prototype.initialize=function(){},b.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(O.NAME)&&this.facade.removeMediator(O.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new O(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},b.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:L}=i(710);class D extends L{static get NAME(){return"ActionPanelMediator"}constructor(t){super(D.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const w=pc.createScript("ActionButtonComponent");w.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),w.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),w.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),w.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},w.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},w.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(D.NAME)&&this.facade.removeMediator(D.NAME),this.facade.registerMediator(new D(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var G=i(852);const k=pc.createScript("ProjectileCreatorComponent");k.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),k.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(G.N.NAME)&&this.facade.removeMediator(G.N.NAME),this.facade.registerMediator(new G.N(this.entity))},k.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const s=this.projectileTypes.find((e=>e.projectileName===t));if(!s)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=s.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const U=pc.createScript("ProjectileComponent");U.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),U.prototype.initialize=function(){},U.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},U.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},U.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:H}=i(710);class V extends H{static get NAME(){return"StaminaBarMediator"}constructor(t){super(V.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const B=pc.createScript("StaminaBarComponent");B.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),B.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),B.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(V.NAME)&&this.facade.removeMediator(V.NAME),this.facade.registerMediator(new V(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},B.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:F}=i(710);class z extends F{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(z.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const q=pc.createScript("ActionsRemainingPanelComponent");q.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(z.NAME)&&this.facade.removeMediator(z.NAME),this.facade.registerMediator(new z(this.entity)),this.pips=[]},q.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},q.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const Y=pc.createScript("ActionsRemainingPipComponent");Y.attributes.add("pipFront",{type:"entity",title:"Pip front"}),Y.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:W}=i(710);class K extends W{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,s=i.x/o,r=(this.device.height-i.y)/o;return new pc.Vec3(s,r,0)}};const Q=pc.createScript("FloatingStatusCreatorComponent");Q.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),Q.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),Q.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),Q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},Q.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:$}=i(710);class X extends ${static get NAME(){return"PortalMediator"}constructor(t){super(X.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(g.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,s=i.standingPoint.getPosition();t.currentMode===m.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,s,n,o)}}const J=pc.createScript("PortalComponent");J.attributes.add("portalId",{type:"string",title:"Portal Id"}),J.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),J.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),J.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),J.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),J.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(X.NAME)&&this.facade.removeMediator(X.NAME),this.facade.registerMediator(new X(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:Z}=i(710);class tt extends Z{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(tt.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.DISPLAY_DIALOGUE_SKILL_TEST,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:setTimeout((()=>{this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1}),100);break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.DISPLAY_DIALOGUE_SKILL_TEST:this.viewComponent.script.DialoguePanelComponent.createSkillTest(...i);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const et=pc.createScript("DialoguePanelComponent");et.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),et.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),et.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),et.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),et.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),et.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),et.attributes.add("skillTestEntryTemplate",{type:"asset",title:"Skill Test Entry Asset"}),et.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(tt.NAME)&&this.facade.removeMediator(tt.NAME),this.facade.registerMediator(new tt(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},et.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},et.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createSkillTest=function(t,e,i,n,o){const s=this.skillTestEntryTemplate.resource.instantiate();s.script.DialogueSkillTestComponent.setup(t,e,i,n,o),this.feedEntity.addChild(s),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},et.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},et.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},et.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},et.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const it=pc.createScript("DialogueChoiceComponent");it.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),it.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),it.prototype.initialize=function(){},it.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},it.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const nt=pc.createScript("DefaultAnimationComponent");nt.attributes.add("animationName",{type:"string",title:"Animation Name"}),nt.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const ot=pc.createScript("DialogueTextComponent");ot.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),ot.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),ot.attributes.add("textContainer",{type:"entity",title:"Text Container"}),ot.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),ot.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),ot.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),ot.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),ot.prototype.initialize=function(){},ot.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},ot.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},ot.prototype.postInitialize=function(){this.setHeight()},ot.prototype.update=function(t){};const{Mediator:st}=i(710);class rt extends st{static get NAME(){return"AttackButtonMediator"}constructor(t){super(rt.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const at=pc.createScript("AttackButtonComponent");at.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),at.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(rt.NAME)&&this.facade.removeMediator(rt.NAME),this.facade.registerMediator(new rt(this.entity)),this.entity.element.on("click",this.handleClick,this)},at.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},at.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const{Mediator:ct}=i(710);class ht extends ct{static get NAME(){return"UseItemButtonMediator"}constructor(t,i){super(ht.NAME+i),this.equipmentSlotKey=i,this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED,e.i.DISPLAY_EQUIPPED_SLOT,e.i.SET_USE_ITEM_BUTTON_HIGHLIGHT]),this.viewComponent=t,this.viewComponent.on("click:useItem",this.handleUseItem,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!0):this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!1);break;case e.i.DISPLAY_EQUIPPED_SLOT:const t=i[0].get(this.equipmentSlotKey);t&&t.icon?this.viewComponent.script.UseItemButtonComponent.setIcon(t.icon):this.viewComponent.script.UseItemButtonComponent.setDefaultIcon();break;case e.i.SET_USE_ITEM_BUTTON_HIGHLIGHT:const n=i[0];if(console.log(`Highlight: ${n} vs ${this.equipmentSlotKey}`),n===this.equipmentSlotKey){const t=i[1];this.viewComponent.script.UseItemButtonComponent.toggleHighlight(t)}}}handleUseItem(){this.facade.sendNotification(e.i.USE_EQUIPPED_ITEM,this.equipmentSlotKey)}}const dt=pc.createScript("UseItemButtonComponent");dt.attributes.add("equipmentSlotKey",{type:"string",title:"Equipment Slot Key"}),dt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),dt.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),dt.attributes.add("defaultIcon",{type:"asset",title:"Default Icon"}),dt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(ht.NAME+this.equipmentSlotKey)&&this.facade.removeMediator(ht.NAME+this.equipmentSlotKey),this.facade.registerMediator(new ht(this.entity,this.equipmentSlotKey)),this.entity.element.on("click",this.handleClick,this)},dt.prototype.setIcon=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},dt.prototype.setDefaultIcon=function(){this.iconEntity.element.spriteAsset=this.defaultIcon},dt.prototype.handleClick=function(t){this.entity.fire("click:useItem")},dt.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const lt=pc.createScript("VehicleComponent");function pt(t,e){return t.length()<e?t:t.normalize().scale(e)}lt.attributes.add("mass",{type:"number",title:"Mass",default:3}),lt.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),lt.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),lt.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),lt.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},lt.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=pt(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=pt(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},lt.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},lt.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const ut=pc.createScript("ScreenResizeComponent");ut.prototype.window=window,ut.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},ut.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const Et=pc.createScript("DialogueSkillTestComponent");Et.attributes.add("skillNameLabel",{type:"entity",title:"Skill Name Label"}),Et.attributes.add("skillValueLabel",{type:"entity",title:"Skill Value Label"}),Et.attributes.add("die1Label",{type:"entity",title:"Die 1 Label"}),Et.attributes.add("die2Label",{type:"entity",title:"Die 2 Label"}),Et.attributes.add("successLabel",{type:"entity",title:"Success Label"}),Et.attributes.add("failureLabel",{type:"entity",title:"Failure Label"}),Et.prototype.initialize=function(){},Et.prototype.setup=function(t,e,i,n,o){this.skillNameLabel.element.text=t,this.skillValueLabel.element.text=e,this.die1Label.element.text=i,this.die2Label.element.text=n,this.successLabel.enabled=o,this.failureLabel.enabled=!o};const yt=pc.createScript("InventoryItemComponent");yt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),yt.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),yt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),yt.attributes.add("expandedEntity",{type:"entity",title:"Expanded Entity"}),yt.prototype.setup=function(t){this.icon=t.icon;const e=this.app.assets.get(this.icon);this.iconEntity.element.spriteAsset=e,this.size=t.size,this.labelEntity.element.text=t.name,this.entity.element.height=this.slotHeight*this.size,this.expandedEntity.element.height=this.slotHeight*this.size,this.itemData=t},yt.prototype.collapse=function(){this.expandedEntity.enabled=!1},yt.prototype.expand=function(){this.expandedEntity.enabled=!0},yt.prototype.postInitialize=function(){new pc.ElementDragHelper(this.entity.element,null).on("drag:start",this.onDragStart,this)},yt.prototype.onDragStart=function(){this.entity.parent.fire("drag:start",this.entity,this.size)};const{Mediator:gt}=i(710);class mt extends gt{static get NAME(){return"InventoryPanelMediator"}constructor(t){super(mt.NAME),this.subscribeNotification([e.i.DISPLAY_INVENTORY_PANEL]),this.viewComponent=t,this.viewComponent.on("reorderItem",this.handeReorderItem,this),this.viewComponent.on("equipItem",this.handleEquipItem,this),this.viewComponent.on("close",this.handleClose,this),this.viewComponent.enabled=!1}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_INVENTORY_PANEL:const t=i[0],n=i[1];this.viewComponent.script.InventoryPanelComponent.displayItems(t,n),this.viewComponent.enabled=!0}}handeReorderItem(t,i){this.facade.sendNotification(e.i.REORDER_INVETORY_ITEM,t,i)}handleEquipItem(t,i){this.facade.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,t,i)}handleClose(){setTimeout((()=>{this.viewComponent.enabled=!1}),100)}}const ft=pc.createScript("InventoryPanelComponent");function At(t,e){return t.x>e.x1&&t.x<e.x2&&t.y>e.y1&&t.y<e.y2}ft.attributes.add("slotContainer",{type:"entity",title:"Slot Container"}),ft.attributes.add("topSlotPosition",{type:"entity",title:"Top Slot Position"}),ft.attributes.add("closeButton",{type:"entity",title:"Close Button"}),ft.attributes.add("itemAsset",{type:"asset",title:"Item Asset"}),ft.attributes.add("dragIcon",{type:"entity",title:"Drag Icon"}),ft.attributes.add("slotWidth",{type:"number",title:"Slot Width",default:320}),ft.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),ft.attributes.add("maxSlots",{type:"number",title:"Max Slots",default:12}),ft.attributes.add("equipmentSlots",{type:"json",schema:[{name:"key",title:"Equipment Slot Key",type:"string"},{name:"entity",title:"Equipment Slot Entity",type:"entity"}],array:!0,title:"Equipment Slots"}),ft.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(mt.NAME)&&this.facade.removeMediator(mt.NAME),this.facade.registerMediator(new mt(this.entity)),this.entity.on("drag:start",this.handleDragStart,this),this.closeButton.element.on("click",this.handleClose,this),this.inventoryItemEntities=[]},ft.prototype.handleDragStart=function(t,e){t.reparent(this.entity),this.dragIcon.reparent(this.entity),this.app.touch?(this.app.touch.on(pc.EVENT_TOUCHMOVE,(i=>{i.touches.length>0&&this.handleMouseMove(t,e,i.touches[0])}),this),this.app.touch.on(pc.EVENT_TOUCHEND,(i=>{i.changedTouches.length>0&&this.handleMouseUp(t,e,i.changedTouches[0])}),this)):(this.entity.element.on(pc.EVENT_MOUSEMOVE,(i=>{this.handleMouseMove(t,e,i)}),this),this.entity.element.on(pc.EVENT_MOUSEUP,(i=>{this.handleMouseUp(t,e,i)}),this))},ft.prototype.localPositionFromMouseEvent=function(t){const e=new pc.Vec3(t.x,t.y,0),i=this.app.graphicsDevice.maxPixelRatio;e.x*=i,e.y*=i;const n=this.entity.element.screen.screen,o=this.app.graphicsDevice,s=n.scale,r=e.x/s,a=(o.height-e.y)/s;return new pc.Vec3(r,a,0)},ft.prototype.handleMouseMove=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.setLocalPosition(n),this.displayPotentialList(t,e,n)},ft.prototype.handleMouseUp=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.enabled=!1,t.script.InventoryItemComponent.expand(),this.entity.element.off(pc.EVENT_MOUSEMOVE),this.entity.element.off(pc.EVENT_MOUSEUP),this.app.touch&&(this.app.touch.off(pc.EVENT_TOUCHMOVE),this.app.touch.off(pc.EVENT_TOUCHEND));const o=this.topSlotPosition.getLocalPosition();if(At(n,{x1:o.x,y1:o.y-this.maxSlots*this.slotHeight,x2:o.x+this.slotWidth,y2:o.y})){const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},n=this.localPositionFromMouseEvent(i),s=Math.max(0,Math.floor((o.y-n.y)/this.slotHeight)),r=t.script.InventoryItemComponent.itemData;this.entity.fire("reorderItem",r.uuid,s)}else this.checkDropOnEquipmentSlot(t,i)},ft.prototype.checkDropOnEquipmentSlot=function(t,e){for(const i of this.equipmentSlots){const n=i.key,o=i.entity.element.screenCorners,s=this.app.graphicsDevice.height;if(At({x:e.x,y:s-e.y},{x1:o[0].x,y1:o[0].y,x2:o[2].x,y2:o[2].y})){const e=t.script.InventoryItemComponent.itemData;this.entity.fire("equipItem",e.id,n)}}},ft.prototype.handleItemMove=function(t,e){this.isInBounds(e)?t.script.InventoryItemComponent.expand():t.script.InventoryItemComponent.collapse(),this.setHighlightPosition(e)},ft.prototype.handleClose=function(t){t.event.stopImmediatePropagation(),this.entity.fire("close")},ft.prototype.displayItems=function(t,e){this.clearPanel();const i=this.topSlotPosition.getLocalPosition();let n=0;for(let e=0;e<t.length;e++){const o=t[e];n+=o.size;const s=this.itemAsset.resource.instantiate();s.script.InventoryItemComponent.setup(o),s.setLocalPosition(i.x,i.y-n*this.slotHeight,0),this.inventoryItemEntities.push(s),this.entity.addChild(s)}for(const t of this.equipmentSlots){const i=t.key,n=t.entity;if(e.has(i)){const t=e.get(i);n.script.InventoryEquippedSlotComponent.setup(t.icon)}else n.script.InventoryEquippedSlotComponent.clear()}},ft.prototype.displayPotentialList=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();if(At(i,{x1:n.x,y1:n.y-this.maxSlots*this.slotHeight,x2:n.x+this.slotWidth,y2:n.y})){t.script.InventoryItemComponent.expand(),this.dragIcon.enabled=!1;const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},o=this.localPositionFromMouseEvent(i),s=Math.max(0,Math.floor((n.y-o.y)/this.slotHeight));this.reorderListWithGap(t,t.script.InventoryItemComponent.size,s)}else t.script.InventoryItemComponent.collapse(),this.dragIcon.enabled=!0},ft.prototype.reorderListWithGap=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();let o=0;for(let s=0;s<this.inventoryItemEntities.length;s++){const r=this.inventoryItemEntities[s];t!==r&&(i>=o&&i<o+r.script.InventoryItemComponent.size&&(o+=e),o+=r.script.InventoryItemComponent.size,r.setLocalPosition(n.x,n.y-o*this.slotHeight,0))}},ft.prototype.clearPanel=function(){for(;this.inventoryItemEntities.length>0;)this.inventoryItemEntities.pop().destroy()};const Nt=pc.createScript("InventoryDragIconComponent");Nt.prototype.initialize=function(){},Nt.prototype.setup=function(t,e){};const Tt=pc.createScript("InventoryEquippedSlotComponent");Tt.attributes.add("defaultAsset",{type:"asset",title:"Default Asset"}),Tt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),Tt.prototype.initialize=function(){},Tt.prototype.setup=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},Tt.prototype.clear=function(){this.iconEntity.element.spriteAsset=this.defaultAsset};const{Facade:_t}=i(710),{PureMVC:Ct}=i(710);new class{constructor(){Ct.debug=!0,_t.getInstance=t.GameFacade.getInstance,console.log(_t),this.facade=_t.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2JvdEJlaGF2aW91ci9Cb3RCZWhhdmlvdXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Db250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Hb1RvRGlhbG9ndWVOb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VxdWlwSXRlbVRvU2xvdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9BZGRJdGVtdG9JbnZlbnRvcnlDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvVXNlRXF1aXBwZWRJdGVtQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0Jhc2VOb2RlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CZWhhdmlvdXJTdGF0dXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL01hc3Rlck5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL01lbVNlcXVlbmNlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9Qcmlvcml0eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JsYWNrYm9hcmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL1RpY2suanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9DaGFyYWN0ZXJDb21tYW5kVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dhbWVDb21tYW5kcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9kYXRhL1dlYXBvblR5cGVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2JvdEJlaGF2aW91ci9Cb3RCZWhhdmlvdXJzVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvY29tYmF0L0NvbWJhdFZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL0FkamFjZW50UG9pbnRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvR2FtZU1hcFZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Qcmlvcml0eVF1ZXVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9pbnZlbnRvcnkvaXRlbXMvSW52ZW50b3J5SXRlbS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9zdG9yeVByb3h5L1N0b3J5Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvQ2Fjb2dlbkdhbWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvbkJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvY29tcG9uZW50cy9UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2RlZmF1bHRBbmltL0RlZmF1bHRBbmltYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC91c2VJdGVtQnV0dG9uL1VzZUl0ZW1CdXR0b25NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUHVyZU1WQ18xIiwiVmlld18xIiwiQ29udHJvbGxlciIsImtleSIsInRoaXMiLCJjb21tYW5kTWFwIiwiaW5zdGFuY2VNYXAiLCJFcnJvciIsIm11bHRpdG9uS2V5IiwibG9nZ2VyIiwiUHVyZU1WQyIsImRlYnVnIiwibG9nQ29tbWFuZCIsImxvZ05vbmUiLCJpbml0aWFsaXplQ29udHJvbGxlciIsInJlbW92ZUNvbnRyb2xsZXIiLCJnZXRJbnN0YW5jZSIsInByb3RvdHlwZSIsInJlZ2lzdGVyQ29tbWFuZCIsIm5vdGlmaWNhdGlvbk5hbWUiLCJjb21tYW5kQ2xhc3NSZWYiLCJ2aWV3IiwicmVnaXN0ZXJPYnNlcnZlciIsImV4ZWN1dGVDb21tYW5kIiwiaGFzQ29tbWFuZCIsInVuZGVmaW5lZCIsInJlbW92ZUNvbW1hbmQiLCJyZW1vdmVPYnNlcnZlciIsIlZpZXciLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjb21tYW5kIiwiX2NvbnNvbGVBcmdzIiwibmFtZSIsImFwcGx5IiwiY29uY2F0IiwiQ29udHJvbGxlcl8xIiwiTW9kZWxfMSIsIkZhY2FkZSIsImxvZ05vdGlmaWNhdGlvbiIsImluaXRpYWxpemVOb3RpZmllciIsImluaXRpYWxpemVGYWNhZGUiLCJoYXNDb3JlIiwicmVtb3ZlQ29yZSIsIk1vZGVsIiwicmVtb3ZlTW9kZWwiLCJyZW1vdmVWaWV3IiwiaW5pdGlhbGl6ZU1vZGVsIiwiaW5pdGlhbGl6ZVZpZXciLCJjb250cm9sbGVyIiwicmVnaXN0ZXJQcm94eSIsInByb3h5IiwibW9kZWwiLCJyZXRyaWV2ZVByb3h5IiwicHJveHlOYW1lIiwicmVtb3ZlUHJveHkiLCJoYXNQcm94eSIsInJlZ2lzdGVyTWVkaWF0b3IiLCJtZWRpYXRvciIsInJldHJpZXZlTWVkaWF0b3IiLCJtZWRpYXRvck5hbWUiLCJyZW1vdmVNZWRpYXRvciIsInNsZWVwTWVkaWF0b3IiLCJhd2FrZU1lZGlhdG9yIiwiaGFzTWVkaWF0b3IiLCJzZW5kTm90aWZpY2F0aW9uIiwiX2EiLCJub3RpZnlPYnNlcnZlcnMiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIk5vdGlmaWVyXzEiLCJNZWRpYXRvciIsIl9zdXBlciIsInZpZXdDb21wb25lbnQiLCJfdGhpcyIsImNhbGwiLCJsb2dNZWRpYXRvciIsInNsZWVwaW5nIiwic3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ2V0TWVkaWF0b3JOYW1lIiwic2V0Vmlld0NvbXBvbmVudCIsImdldFZpZXdDb21wb25lbnQiLCJvblJlZ2lzdGVyIiwib25SZW1vdmUiLCJvblNsZWVwIiwib25Bd2FrZSIsInN1YnNjcmliZU5vdGlmaWNhdGlvbiIsImNoYW5nZVN1YnNjcmlwdGlvbiIsImFkZFN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlTm90aWZpY2F0aW9uIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiYWN0aW9uIiwib2xkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnMiLCJzbGljZSIsImNoYW5nZWQiLCJmb3JFYWNoIiwibm90aWZpY2F0aW9uIiwiaW5kZXhPZiIsInB1c2giLCJpbmRleCIsInNwbGljZSIsIk5vdGlmaWVyIiwicHJveHlNYXAiLCJnZXRQcm94eU5hbWUiLCJGYWNhZGVfMSIsImZhY2FkZSIsImdldEZhY2FkZSIsIlByb3h5IiwiZGF0YSIsImxvZ1Byb3h5Iiwic2V0RGF0YSIsImdldERhdGEiLCJjb25zb2xlQXJncyIsImNvbW1hbmROYW1lIiwiY29uc29sZSIsImxvZyIsIkV2ZW50RW1pdHRlciIsIm1lZGlhdG9yTWFwIiwiZXZlbnRFbWl0dGVyIiwib2JzZXJ2ZXJNZXRob2QiLCJjb250ZXh0IiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsImVtaXQiLCJyZWdpc3Rlck9ic2VydmVycyIsIm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJiaW5kIiwiaXNTbGVlcGluZyIsInJlbW92ZU9ic2VydmVycyIsImludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18xIiwiaW50ZXJlc3QiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMiIsIk1lZGlhdG9yXzEiLCJQcm94eV8xIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJmbiIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImkiLCJsIiwiZWUiLCJsaXN0ZW5lckNvdW50IiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImxlbiIsImoiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsIm1vZHVsZSIsIk5hdmlnYXRpb25Ob2RlIiwieCIsInkiLCJ6IiwiY29ubmVjdGVkTm9kZXMiLCJvY2N1cGllZCIsIm90aGVyTm9kZSIsInNvbWUiLCJub2RlIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0ZWROb2RlSW5kZXgiLCJmaW5kSW5kZXgiLCJlcXVhbHMiLCJwYXJzZUdhbWVNYXBDb21tYW5kIiwiYXBwIiwicGMiLCJBcHBsaWNhdGlvbiIsImdldEFwcGxpY2F0aW9uIiwiZmxvb3JHcmlkIiwibmF2aWdhdGlvbkZsb29ycyIsInJvb3QiLCJmaW5kQnlUYWciLCJjb21wbGV0ZWRHcmlkIiwibmF2aWdhdGlvbkNvbXBvbmVudHMiLCJmbG9vckVudGl0eSIsIm5hdkNvbXAiLCJzY3JpcHQiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZENvbXBFbnRpdHkiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiY29ubmVjdGVkTmF2Q29tcCIsImpvaW5Ub0FkamFjZW50R3JpZCIsImdldEdyaWQiLCJjcmVhdGVNYXBGbG9vciIsIndhbGxzIiwid2FsbHNCb3VuZGluZ0JveGVzIiwibWFwV2FsbEVudGl0aWVzIiwibWFwV2FsbEVudGl0eSIsImFhYmIiLCJjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkiLCJjcmVhdGVGbG9vclVuZGVyV2FsbHMiLCJkZXN0cm95IiwiY3JlYXRlTWFwV2FsbHMiLCJjb3ZlciIsImNvdmVyUG9pbnRzIiwiY292ZXJFbnRpdGllcyIsImNvdmVyRW50aXR5IiwiY3JlYXRlQ292ZXJQb2ludEZyb21Cb3giLCJjcmVhdGVNYXBDb3ZlciIsInBvcnRhbHMiLCJNYXAiLCJwb3J0YWxFbnRpdGllcyIsInBvcnRhbEVudGl0eSIsInBvcnRhbENvbXBvbmVudCIsInBvcnRhbElkIiwicG9ydGFsIiwiZGVzdGluYXRpb25TY2VuZSIsImRlc3RpbmF0aW9uUG9ydGFsIiwic3RhbmRpbmdQb2ludCIsImdldFBvc2l0aW9uIiwiaGl0Ym94UG9pbnQiLCJoaXRib3giLCJzZXQiLCJjcmVhdGVQb3J0YWxzIiwid2F5cG9pbnRzTWFwIiwid2F5cG9pbnRzIiwiZmxvb3JOb2RlIiwiaXNXYXlwb2ludCIsIndheXBvaW50Iiwib3RoZXJXYXlwb2ludCIsImxpbmUiLCJBc3RhciIsImFkZENvbm5lY3RlZE5vZGUiLCJjcmVhdGVXYXlwb2ludHNNYXAiLCJHYW1lTWFwUHJveHkiLCJHYW1lQ29tbWFuZHMiLCJib3hFbnRpdHkiLCJzY2FsZSIsImdldExvY2FsU2NhbGUiLCJoYWxmRXh0ZW50cyIsIlZlYzMiLCJCb3VuZGluZ0JveCIsIndhbGwiLCJ3YWxsUG9zIiwid2FsbFNjYWxlIiwiTWF0aCIsInJvdW5kIiwiY29ybmVyWCIsImNvcm5lcloiLCJtYXRjaGluZ05vZGVJbmRleCIsImVxdWFsc1BvaW50IiwiZGVsZXRlZE5vZGVzIiwiZGVsZXRlZE5vZGUiLCJkaXNjb25uZWN0ZWROb2RlIiwiZ3JpZCIsImZsb29yUG9zaXRpb24iLCJnZXRMb2NhbFBvc2l0aW9uIiwiZmxvb3JTaXplIiwic25hcHBlZFdpZHRoIiwic25hcHBlZEJyZWFkdGgiLCJzbmFwcGVkWCIsInNuYXBwZWRZIiwic25hcHBlZFoiLCJncmlkVG9Kb2luIiwiYm94IiwiYm94UG9zIiwiYm94U2NhbGUiLCJjb3ZlclBvaW50IiwiZmxvb3JNYXAiLCJub3J0aHdlc3QiLCJub3J0aCIsIm5vcnRoZWFzdCIsImVhc3QiLCJzb3V0aGVhc3QiLCJzb3V0aCIsInNvdXRod2VzdCIsIndlc3QiLCJuIiwiV2VhcG9uc1Byb3h5Iiwic3VwZXIiLCJOQU1FIiwid2VhcG9uTmFtZSIsImRhbWFnZVRpZXIiLCJjYXRlZ29yeUtleSIsInZvIiwiY2F0ZWdvcnkiLCJkYW1hZ2UiLCJtaW4iLCJTdG9yeVZPIiwiU3RvcnlQcm94eSIsInN0b3J5VHJlZXMiLCJhc3NldHMiLCJyZXNvdXJjZSIsInRyZWVzIiwic3RvcnlUcmVlTWFwIiwidHJlZUtleSIsInN0b3J5VHJlZUFzc2V0SWQiLCJzdG9yeVRyZWUiLCJjdXJyZW50VHJlZSIsImN1cnJlbnROb2RlIiwiY3VycmVudFN0ZXBJbmRleCIsImN1cnJlbnRDb25kaXRpb25zIiwidHJlZUlkIiwidHJlZSIsIm5vZGVJZCIsIm5vZGVzIiwic3RlcEluZGV4Iiwic3RlcHMiLCJnZXRUcmVlIiwiZ2V0Tm9kZSIsInZhbGlkU3RlcCIsImdldFZhbGlkU3RlcCIsIm9uY2VDb25kaXRpb24iLCJnZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiYWRkQ29uZGl0aW9uIiwibmV4dFZhbGlkU3RlcCIsImdldFN0ZXAiLCJ0ZXN0Q29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJnZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAiLCJjaG9pY2VJbmRleCIsImdldEN1cnJlbnROb2RlU3RlcCIsImNob2ljZXMiLCJjb25kaXRpb24iLCJzdWNjZXNzIiwib3JEZWxpbWl0ZXJlZCIsIm9yQ29uZGl0aW9ucyIsInNwbGl0Iiwib3JTdWNjZXNzIiwib3B0aW9uYWxDb25kaXRpb24iLCJjaGVja0NvbmRpdGlvbiIsInN0YXJ0c1dpdGgiLCJzdHJpcHBlZFN0cmluZyIsInJlbW92ZUNvbmRpdGlvbiIsIkludmVudG9yeVZPIiwiSW52ZW50b3J5UHJveHkiLCJpbnZlbnRvcnlJdGVtcyIsImVxdWlwbWVudFNsb3RzIiwiaXRlbVVVSUQiLCJzbG90SW5kZXgiLCJvcmlnaW5hbEluZGV4IiwiaXRlbSIsInV1aWQiLCJvcmlnaW5hbEl0ZW0iLCJydW5uaW5nSW5kZXhUb3RhbCIsIm5ld0luZGV4Iiwic2l6ZSIsInRvU3RyaW5nIiwic2xvdEtleSIsIml0ZW1EYXRhIiwidHlwZSIsImV4aXN0aW5nSXRlbSIsImVxdWlwU2xvdCIsImRlbGV0ZSIsIm90aGVyU2xvdCIsImludmVudG9yeUl0ZW1EYXRhIiwiSXRlbXNQcm94eSIsIml0ZW1JZCIsImlkIiwiQm90QmVoYXZpb3Vyc1ZPIiwiQm90QmVoYXZpb3VyUHJveHkiLCJzdGFydHVwQ29tbWFuZCIsIkdhbWVTdGF0ZVByb3h5Iiwid2VhcG9uc0RhdGEiLCJpdGVtc0RhdGEiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJmaW5kIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJ0ZWFtcyIsInBhcnRpY2lwYW50UHJveGllcyIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZmlsdGVyIiwiZSIsInRlYW0iLCJjaGFyYWN0ZXJJbmRleCIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwicGxheWVyVGVhbSIsIm9wcG9zaW5nVGVhbSIsImNvbWJhdEdyb3VwIiwicG9zIiwic2VsZiIsInBsYXllclByb3h5IiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsImVuZW15VHVybkNvbW1hbmQiLCJlbmVteUlkIiwiZW5lbXlDdXJyZW50Tm9kZSIsIkJhc2ljTWVsZWVUcmVlIiwicnVuQ29tbWFuZHMiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJnYW1lTWFwUHJveHkiLCJoYXNWYWxpZE5vZGUiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsInRhcmdldE5vZGUiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJtb3ZlYWJsZU5vZGVzIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJoYW5kbGVWYWxpZE1vdmUiLCJjaGFyYWN0ZXJQcm94eSIsInBhdGgiLCJzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlTm9kZXMiLCJ3YWxrYWJsZVRpbGVBc3NldCIsImNvbnRhaW5lciIsInRpbGUiLCJpbnN0YW50aWF0ZSIsInNldExvY2FsUG9zaXRpb24iLCJhZGRDaGlsZCIsImhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVUaWxlRW50aXRpZXMiLCJ3YWxrYWJsZVRpbGVFbnRpdHkiLCJhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCIsImVuZE1vdmVtZW50Q29tbWFuZCIsImVuZE5vZGUiLCJzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwidGFyZ2V0Q2hhcmFjdGVyUHJveHkiLCJwbGF5ZXJDaGFyYWN0ZXJQcm94eSIsIndlYXBvbkNhdGVnb3J5IiwiZ2V0V2VhcG9uQ2F0ZWdvcnkiLCJlcXVpcHBlZFdlYXBvbiIsImN1cnJlbnRBY3Rpb24iLCJjYW5TZWVUYXJnZXQiLCJhdmFpbGFibGVBY3Rpb25zIiwidGFyZ2V0Q3VycnJlbnROb2RlIiwiaXNUYXJnZXRBZGphY2VudCIsInBhdGhUb1RhcmdldCIsInVub2NjdXBpZWROb2RlcyIsInBsYXllck5vZGUiLCJzaG9ydGVzdFBhdGgiLCJvdGhlclBhdGgiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyIiwicGxheWVyUG9pbnQiLCJ0YXJnZXRQb2ludCIsInJheUludGVyc2VjdHNXYWxsIiwicmVzb2x2ZUF0dGFja0NvbW1hbmQiLCJhdHRhY2tlcklkIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVySWQiLCJkZWZlbmRlclByb3h5Iiwid2VhcG9uc1Byb3h5IiwiYXR0YWNrZXJXZWFwb25Ta2lsbCIsImRlZmVuZGVyV2VhcG9uU2tpbGwiLCJhdHRhY2tlclNraWxsVG90YWwiLCJnZXRTa2lsbFRvdGFsIiwiZGVmZW5kZXJTa2lsbFRvdGFsIiwiYXR0YWNrZXJSb2xsIiwicm9sbEF0dGFja1NraWxsIiwiZGVmZW5kZXJSb2xsIiwiZGV0ZXJtaW5lRGFtYWdlVGllciIsImdldERhbWFnZSIsImFwcGx5RGFtYWdlIiwiaXNEZWFkIiwiaGFzTWVsZWVXZWFwb24iLCJ3ZWFwb24iLCJXZWFwb25UeXBlcyIsImhpZ2hEYW1hZ2UiLCJsb3dEYW1hZ2UiLCJza2lsbCIsInJvbGxEaWNlIiwibW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQiLCJ0YXJnZXRJZCIsInVzZU1vdmVtZW50IiwiY2hhcmFjdGVyTWVkaWF0b3IiLCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3IiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlIiwidGhlbiIsImtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwibG9zaW5nVGVhbSIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsImVuZW15UHJveHkiLCJib3RCZWhhdmlvdXIiLCJyZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyU2NvcmUiLCJkZWZlbmRlclNjb3JlIiwiYXR0YWNrZXJOb2RlIiwiZGVmZW5kZXJOb2RlIiwiaXNJbkNvdmVyIiwicHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJwcm9qZWN0aWxlT3JpZ2luIiwicHJvamVjdGlsZVRhcmdldCIsImNyZWF0ZVByb2plY3RpbGUiLCJuZWlnaGJvdXJpbmdOb2RlcyIsInBvc3NpYmxlVGFyZ2V0cyIsImVxdWlwV2VhcG9uQ29tbWFuZCIsIm5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQiLCJzdGFuZGluZ1Bvc2l0aW9uIiwic3RhbmRpbmdOb2RlIiwiZmluZE5lYXJlc3ROb2RlIiwibW92ZVRvTm9kZVdpdGhQcm9taXNlIiwiYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIiwicGxheWVyQ2hhcmFjdGVyQXNzZXQiLCJwbGF5ZXJFbnRpdHkiLCJyZXRyaWV2ZVBvcnRhbCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCIsInRhcmdldENoYXJhY3RlcklkIiwicGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IiLCJzdGFydERpYWxvZ3VlQ29tbWFuZCIsImdhbWVzdGF0ZVByb3h5Iiwic3RvcnlQcm94eSIsImRpYWxvZ3VlVHJlZSIsInN0YXJ0RGlhbG9ndWVUcmVlIiwib3BlbmluZ1N0ZXAiLCJzdGVwIiwiY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIiwibmV4dFN0ZXAiLCJjb250aW51ZUN1cnJlbnROb2RlU3RlcCIsInNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCIsInNlbGVjdGVkQ2hvaWNlIiwic2VsZWN0Q2hvaWNlIiwicmVzcG9uc2UiLCJ0aXRsZSIsInRleHQiLCJ0aXRsZUNvbG91ciIsInRlc3QiLCJnb3RvIiwiZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQiLCJuZXdOb2RlIiwiZ29Ub05vZGUiLCJjdXJyZW50U3RlcCIsImVuZERpYWxvZ3VlQ29tbWFuZCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kIiwiY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIiwibmV3QWN0aW9uIiwicmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCIsInBsYXllclNraWxsIiwiZGllMSIsImRpZTIiLCJmYWlsdXJlIiwiY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kIiwiaW52ZW50b3J5UHJveHkiLCJyZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQiLCJyZW9yZGVySW52ZW50b3J5SXRlbSIsImVxdWlwSXRlbVRvU2xvdENvbW1hbmQiLCJlcXVpcG1lbnRLZXkiLCJpdGVtSW5JbnZlbnRvcnkiLCJhdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3QiLCJpdGVtc1Byb3h5IiwiaW52ZW50b3J5SXRlbSIsIkludmVudG9yeUl0ZW0iLCJnZXRJdGVtRGF0YSIsImFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQiLCJhZGRJbnZlbnRvcnlJdGVtIiwidXNlRXF1aXBwZWRJdGVtQ29tbWFuZCIsImVxdWlwbWVudFNsb3RLZXkiLCJlcXVpcHBlZEl0ZW0iLCJnZXRFcXVpcHBlZEl0ZW0iLCJHYW1lRmFjYWRlIiwiZ2FtZSIsIlNUQVJUVVAiLCJCb3RCZWhhdmlvdXJUeXBlcyIsImJvdEJlaGF2aW91ckVudW1zIiwiTk9ORSIsIkJBU0lDX01FTEVFIiwiQkFTSUNfUkFOR0VEIiwiRW5kQ29tYmF0VHVybiIsInRpY2siLCJibGFja2JvYXJkIiwiU2V0UGxheWVyQXNUYXJnZXQiLCJIYXNBY3Rpb25zUmVtYWluaW5nIiwiSGFzTW92ZW1lbnRSZW1haW5pbmciLCJJc0RlYWQiLCJJc1RhcmdldERlYWQiLCJCYXNlTm9kZSIsImNoaWxkcmVuIiwiaW5pdGlhbGl6ZSIsIl9lbnRlciIsIl9vcGVuIiwic3RhdHVzIiwiX3RpY2siLCJfY2xvc2UiLCJfZXhpdCIsImVudGVyTm9kZSIsImVudGVyIiwib3Blbk5vZGUiLCJvcGVuIiwidGlja05vZGUiLCJjbG9zZU5vZGUiLCJjbG9zZSIsImV4aXROb2RlIiwiZXhpdCIsIkJlaGF2aW91clN0YXR1cyIsIk1hc3Rlck5vZGUiLCJjaGlsZE5vZGUiLCJleGVjdXRlIiwiTWVtU2VxdWVuY2UiLCJQcmlvcml0eSIsImNoaWxkIiwiSW52ZXJ0ZXIiLCJNZWxlZUF0dGFja1RhcmdldCIsIklzTmV4dFRvUGxheWVyIiwiY2hhcmFjdGVyQ3VycmVudE5vZGUiLCJNb3ZlVG93YXJkc1RhcmdldCIsInJlc3VsdCIsInJlZHVjZSIsImEiLCJkaXN0YW5jZVNxcnQiLCJwMSIsInAyIiwicG93IiwiUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIiwiQ2hhcmFjdGVyQ29tbWFuZFRyZWUiLCJSYW5nZUF0dGFja1RhcmdldCIsIk1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsInRhcmdldEN1cnJlbnROb2RlIiwibWluRGlzdGFuY2VTcXJ0IiwibWF4RGlzdGFuY2VTcXJ0IiwibW92ZVBvaW50c0F2YWlsYWJsZSIsImRpc3RhbmNlVG9UYXJnZXQiLCJQaWNrTmV4dEFjdGlvbiIsIkNhblNlZVRhcmdldCIsInRhcmdldFByb3h5IiwiZnJvbVBvcyIsInRvUG9zIiwiTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUiLCJkZWxldGVDb3VudCIsInBhdGhOb2RlIiwiaGVpZ2h0IiwiQmFzaWNSYW5nZWRUcmVlIiwiQmxhY2tib2FyZCIsImluaXRpYWxpc2UiLCJiYXNlTWVtb3J5IiwidHJlZU1lbW9yeSIsInRyZWVTY29wZSIsIm5vZGVNZW1vcnkiLCJvcGVuTm9kZXMiLCJub2RlU2NvcGUiLCJtZW1vcnkiLCJnZXRUcmVlTWVtb3J5IiwiZ2V0Tm9kZU1lbW9yeSIsImdldE1lbW9yeSIsIlRpY2siLCJub2RlQ291bnQiLCJ0YXJnZXQiLCJwb3AiLCJCZWhhdmlvdXJUcmVlIiwibGFzdE9wZW5Ob2RlcyIsImN1cnJPcGVuTm9kZXMiLCJzdGFydCIsIndlYXBvbkVudW1zIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJtYXAiLCJiZWhhdmlvdXJUcmVlcyIsIkdhbWVDaGFyYWN0ZXJWTyIsInBhcmFtcyIsIm1heE1vdmVtZW50IiwibWF4QWN0aW9uc1BlclR1cm4iLCJjb3N0IiwiZGFtYW5nZSIsImN1cnJlbnRTdGFtaW5hIiwibWF4IiwibWF4aW11bVN0YW1pbmEiLCJtYXhTdGFtaW5hIiwic2tpbGxLZXkiLCJhZHZhbmNlZFNraWxscyIsIm1heEx1Y2siLCJjdXJyZW50THVjayIsIkdhbWVNYXBWTyIsIm1hcEdyaWQiLCJ3YWxsQm91bmRpbmdCb3hlcyIsIm5hdkdyaWQiLCJuYXZpZ2F0aW9uR3JpZCIsIm5lYXJlc3ROb2RlIiwiZGlzdFNxcnRUb05lYXJlc3ROb2RlIiwiZGlzdFRvTm9kZSIsImZyb20iLCJ0byIsImRpc3RhbmNlIiwiZGlyZWN0aW9uIiwiY2xvbmUiLCJzdWIiLCJub3JtYWxpemUiLCJyYXkiLCJSYXkiLCJtYXBXYWxscyIsImhpdFBvc2l0aW9uIiwiaW50ZXJzZWN0c1JheSIsImF0dGFja2luZ0Zyb20iLCJhZGphY2VudENvdmVyUG9pbnRzIiwiYWRqYWNlbnRQb2ludHMiLCJwb2ludCIsInBvaW50cyIsImdldEFkamFjZW50UG9pbnRzIiwiYWRqYWNlbnRQb2ludCIsImFkamFjZW50Q292ZXJQb2ludCIsIm5vZGVBIiwibm9kZUIiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJJbmZpbml0eSIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsImRpc3RWYWx1ZSIsImdldERpc3RTcXVhcmVkIiwicHQxIiwicHQyIiwiYWJzIiwieDAiLCJ6MCIsIngxIiwiejEiLCJkeCIsImR5IiwibngiLCJueSIsInNpZ25feCIsInNpZ25feSIsIml4IiwiaXkiLCJpc1ZhbGlkTGluZSIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwic2VsZWN0ZWRBY3Rpb24iLCJFWFBMT1JBVElPTiIsIkNPTUJBVCIsIkRJQUxPR1VFIiwiR0FNRV9PVkVSIiwiaWNvbiIsImRlc2NyaXB0aW9uIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImNyZWF0ZVVVSUQiLCJzIiwiaGV4RGlnaXRzIiwic3Vic3RyIiwiam9pbiIsInByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJmaXJlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwibG9va0F0UG9pbnQiLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlQXR0YWNrIiwiYW5pbWF0ZUhpdCIsInNldFBhdGgiLCJuZWFyZXN0V2F5cG9pbnQiLCJmaW5kTmVhcmVzdFdheXBvaW50IiwibmVhcmVzdFRhcmdldFdheXBvaW50IiwiaGFzVmFsaWRMaW5lIiwiaGFzTGluZVRvUG9pbnQiLCJ1bnNoaWZ0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsIm9yaWdpblBvaW50IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkNhY29nZW5HYW1lIiwiY3JlYXRlU2NyaXB0IiwiS0VZIiwidXBkYXRlIiwiZHQiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiYXR0cmlidXRlcyIsImFkZCIsImVudGl0eSIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwic2NyZWVuUG9zIiwibm9kZUdyaWQiLCJnZXROZWFyZXN0Tm9kZSIsIkdhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwIiwiYWR2YW5jZWRTa2lsbHNTY2hlbWEiLCJza2lsbE9iamVjdCIsInNraWxsTmFtZSIsInNraWxsVmFsdWUiLCJkZWZhdWx0Iiwic2NoZW1hIiwiZW51bSIsInByZXJlZ2lzdGVyTm90aWZpY2F0aW9uIiwicG9zdEluaXRpYWxpemUiLCJtb3ZlbWVudFBhdGgiLCJzdGF0c092ZXJyaWRlcyIsInByb3h5UGFyYW1zIiwiY2hhcmFjdGVySGVpZ2h0IiwiZGlhbG9ndWVUcmVlTmFtZSIsImNvbWJhdEdyb3VwTmFtZSIsImNvbXJhZGVFbnRpdGllcyIsImNvbXJhZGVFbnRpdHkiLCJjb21yYWRlSWQiLCJ2ZWhpY2xlIiwiYW5pbWF0aW9uIiwicGxheSIsImxvb3AiLCJtb3ZlQWxvbmdQYXRoIiwibmV4dFBhdGhQb2ludCIsImxvY2FsUG9zIiwibm9kZVBvaW50IiwiY2hhcmFjdGVyU3BlZWQiLCJzZWVrIiwiYXJyaXZlIiwicHJvY2Vzc1ZlbG9jaXR5IiwiZHoiLCJhbmdsZVRvRGVzdCIsImF0YW4yIiwiUEkiLCJzZXRFdWxlckFuZ2xlcyIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsImNoYXJhY3RlclBvaW50Iiwic2lnaHRSYW5nZSIsIlRvYXN0TWVzc2FnZU1lZGlhdG9yIiwiYWRkTWVzc2FnZSIsIlRvYXN0TWVzc2FnZUNvbXBvbmVudCIsIm1lc3NhZ2VRdWV1ZSIsImN1cnJlbnRUaW1lb3V0IiwibWVzc2FnZSIsInNob3dOZXh0TWVzc2FnZSIsIm5leHRNZXNzYWdlIiwibGFiZWxFbnRpdHkiLCJlbGVtZW50IiwibWVzc2FnZVRpbWUiLCJJbnB1dExheWVyTWVkaWF0b3IiLCJoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyIiwiaGFuZGxlUGlja2VyTmF2aWdhdGlvbiIsImhhbmRsZVNjcm9sbGluZyIsImNoYXJhY3RlckVudGl0eSIsIkdhbWVDYW1lcmEiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsInZlcnRpY2FsU2Nyb2xsIiwibmV3Q2FtZXJhSGVpZ2h0IiwiZHJhZ011bHRpcGxpZXJZIiwibWF0aCIsImNsYW1wIiwibWluQ2FtZXJhSGVpZ2h0IiwibWF4Q2FtZXJhSGVpZ2h0IiwiZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24iLCJmb2N1c1BvaW50IiwiY2FtZXJhUG9zaXRpb24iLCJ0YXJnZXRYIiwic2luIiwidGFyZ2V0WiIsImNvcyIsImNhbWVyYVRhcmdldFBvc2l0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJjdXJyZW50UG9zIiwidHdlZW5YIiwidHdlZW5ZIiwidHdlZW5aIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsImlucHV0UXVldWUiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNsaWNrRG93blN0YXJ0IiwiaXNEcmFnZ2luZyIsImhhbmRsZVBpY2tlclJlc3VsdCIsIkVWRU5UX01PVVNFTU9WRSIsIm9uTW91c2VNb3ZlIiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJwaWNrZWRFbnRpdHkiLCJzY3JlZW5Qb3NpdGlvbiIsInByb2Nlc3NJbnB1dFF1ZXVlIiwiaGlnaGVzdFByaW9yaXR5UGljayIsImhpZ2hlc3RQcmlvcml0eSIsInBpY2siLCJwaWNrUHJpb3JpdHkiLCJ0YWdzIiwicGlja2VkR2FtZUNoYXJhY3RlciIsInBpY2tlZE5hdmlnYXRpb24iLCJwaWNrZWRQb3J0YWwiLCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIiwiaGFuZGxlRW5kVHVybiIsIlBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IiwiZW5kVHVybkJ1dHRvbiIsImNsaWNrRW5kVHVybiIsIkhpdGJveENvbXBvbmVudCIsImNlbnRlciIsIkFjdGlvblBhbmVsTWVkaWF0b3IiLCJoYW5kbGVGaXJlQ29tbWFuZCIsImFjdGlvbk5hbWUiLCJzZWxlY3RBY3Rpb24iLCJBY3Rpb25CdXR0b25Db21wb25lbnQiLCJoaWdobGlnaHRFbnRpdHkiLCJoYW5kbGVDaGFuZ2VBY3Rpb24iLCJoYW5kbGVDbGljayIsImNvbW1hbmRzIiwiY29tbWFuZEFyZ3MiLCJBY3Rpb25QYW5lbENvbXBvbmVudCIsImJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCIsInByb2plY3RpbGVOYW1lIiwicHJvamVjdGlsZVNjaGVtZSIsInByb2plY3RpbGVUeXBlcyIsInNjaGVtZSIsIm5ld1Byb2plY3RpbGUiLCJwcm9qZWN0aWxlVGVtcGxhdGUiLCJzZXRUYXJnZXQiLCJQcm9qZWN0aWxlQ29tcG9uZW50IiwibmV3UG9zaXRpb24iLCJzcGVlZCIsInByb2plY3RpbGVTcGVlZCIsInN1YjIiLCJtdWwiLCJTdGFtaW5hQmFyTWVkaWF0b3IiLCJuZXdTdGFtaW5hIiwidXBkYXRlU3RhbWluYSIsIlN0YW1pbmFCYXJDb21wb25lbnQiLCJiYXJFbnRpdHlNYXhXaWR0aCIsImJhckVudGl0eSIsIndpZHRoIiwibGVycCIsInJlY3QiLCJzdGFtaW5hTGFiZWwiLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciIsIm1heEFjdGlvbnMiLCJzaG93QXZhaWxhYmxlQWN0aW9uIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IiwicGlwcyIsImNyZWF0ZVBpcCIsIm5ld1BpcCIsInBpcFRlbXBsYXRlIiwiQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCIsInNob3ciLCJwaXBGcm9udCIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIiwic2NyaXB0Q29tcCIsImZsb2F0ZXJOYW1lIiwiZGlzcGxheVN0YXR1cyIsIlRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50Iiwic2V0V29ybGRQb3NpdGlvbiIsIndvcmxkUG9zaXRpb24iLCJzY3JlZW4iLCJkZXZpY2UiLCJncmFwaGljc0RldmljZSIsInNjcmVlbkVudGl0eSIsInBvc3RVcGRhdGUiLCJwb3NpdGlvbiIsIndvcmxkU3BhY2VUb1NjcmVlblNwYWNlIiwid29ybGRQb3MiLCJ3b3JsZFRvU2NyZWVuIiwicGl4ZWxSYXRpbyIsIm1heFBpeGVsUmF0aW8iLCJyYXRpb1NjYWxlIiwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IiwiZmxvYXRpbmdTdGF0dXNlcyIsIm90aGVyU2NoZW1lIiwidGFyZ2V0UG9zIiwibmV3U3RhdHVzIiwidGVtcGxhdGUiLCJQb3J0YWxNZWRpYXRvciIsInNlbGVjdGVkUG9ydGFsIiwiUG9ydGFsQ29tcG9uZW50IiwiRGlhbG9ndWVQYW5lbE1lZGlhdG9yIiwiaGFuZGxlQ2xpY2tDb250aW51ZSIsImhhbmRsZUNsaWNrQ2hvaWNlIiwiY2xlYXJQYW5lbCIsImNyZWF0ZVN0ZXAiLCJjcmVhdGVTa2lsbFRlc3QiLCJjbGVhckRpYWxvZ3VlQ2hvaWNlcyIsInNldENvbnRpbnVlQnV0dG9uIiwiRGlhbG9ndWVQYW5lbENvbXBvbmVudCIsImNvbnRpbnVlQnV0dG9uRW50aXR5Iiwic3RlcERhdGEiLCJjcmVhdGVUZXh0IiwiY2hvaWNlIiwiY3JlYXRlQ2hvaWNlIiwibmV3VGV4dCIsInRleHRFbnRyeVRlbXBsYXRlIiwic2V0dXAiLCJmZWVkRW50aXR5IiwicmVzaXplVG9Db250ZW50cyIsInNjcm9sbGJhclZpZXdFbnRpdHkiLCJzY3JvbGxiYXIiLCJuZXdDaG9pY2UiLCJjaG9pY2VFbnRyeVRlbXBsYXRlIiwiaGFuZGxlU2VsZWN0Q2hvaWNlIiwid2FzU3VjY2VzcyIsIm5ld1NraWxsVGVzdCIsInNraWxsVGVzdEVudHJ5VGVtcGxhdGUiLCJzcGFjaW5nVmVydGljYWwiLCJsYXlvdXRncm91cCIsInNwYWNpbmciLCJmZWVkQ2hpbGQiLCJjb250ZW50RW50aXR5IiwiY29udGVudEhlaWdodCIsIkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50IiwibGFiZWwiLCJpbmRleEVudGl0eSIsIkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQiLCJhbmltYXRpb25OYW1lIiwiRGlhbG9ndWVUZXh0Q29tcG9uZW50IiwidGl0bGVFbnRpdHkiLCJjb2xvciIsImZyb21TdHJpbmciLCJ0aHVtYm5haWwiLCJ0ZXh0Q29udGFpbmVyIiwid2l0aEltYWdlV2lkdGgiLCJ3aXRob3V0SW1hZ2VXaWR0aCIsInRodW1ibmFpbENvbnRhaW5lciIsImVuYWJsZSIsImJvZHlFbnRpdHkiLCJzZXRIZWlnaHQiLCJtaW5IZWlnaHQiLCJ0ZXh0Q2hpbGQiLCJBdHRhY2tCdXR0b25NZWRpYXRvciIsImhhbmRsZVRvZ2dsZUF0dGFjayIsInRvZ2dsZUhpZ2hsaWdodCIsImF0dGFja0VuYWJsZWQiLCJBdHRhY2tCdXR0b25Db21wb25lbnQiLCJpc0VuYWJsZWQiLCJVc2VJdGVtQnV0dG9uTWVkaWF0b3IiLCJoYW5kbGVVc2VJdGVtIiwiZXF1aXBwZWREYXRhIiwic2V0SWNvbiIsInNldERlZmF1bHRJY29uIiwidGFyZ2V0U2xvdCIsImlzSGlnaGxpZ2h0ZWQiLCJVc2VJdGVtQnV0dG9uQ29tcG9uZW50IiwiYXNzZXRJZCIsImljb25Bc3NldCIsImljb25FbnRpdHkiLCJzcHJpdGVBc3NldCIsImRlZmF1bHRJY29uIiwiVmVoaWNsZUNvbXBvbmVudCIsImNsYW1wVmVjMyIsInZlYzMiLCJtYXhWYWx1ZSIsInZlbG9jaXR5Iiwic3RlZXJpbmdGb3JjZSIsIm1heFNwZWVkIiwieVJvdGF0aW9uIiwiZGVzaXJlZFZlbG9jaXR5IiwiZm9yY2UiLCJhcnJpdmFsVGhyZXNob2xkIiwiYXJyaXZlVGhyZXNob2xkIiwiU2NyZWVuUmVzaXplQ29tcG9uZW50Iiwid2luZG93Iiwib25SZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwic2NhbGVCbGVuZCIsInJlZmVyZW5jZVJlc29sdXRpb24iLCJEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCIsInNraWxsTmFtZUxhYmVsIiwic2tpbGxWYWx1ZUxhYmVsIiwiZGllMUxhYmVsIiwiZGllMkxhYmVsIiwic3VjY2Vzc0xhYmVsIiwiZmFpbHVyZUxhYmVsIiwiSW52ZW50b3J5SXRlbUNvbXBvbmVudCIsInNsb3RIZWlnaHQiLCJleHBhbmRlZEVudGl0eSIsImNvbGxhcHNlIiwiZXhwYW5kIiwiRWxlbWVudERyYWdIZWxwZXIiLCJvbkRyYWdTdGFydCIsIkludmVudG9yeVBhbmVsTWVkaWF0b3IiLCJoYW5kZVJlb3JkZXJJdGVtIiwiaGFuZGxlRXF1aXBJdGVtIiwiaGFuZGxlQ2xvc2UiLCJpdGVtcyIsImVxdWlwcGVkTWFwIiwiZGlzcGxheUl0ZW1zIiwiSW52ZW50b3J5UGFuZWxDb21wb25lbnQiLCJpc0luQm91bmRzIiwiYm91bmRzIiwieDIiLCJ5MSIsInkyIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiY2xvc2VCdXR0b24iLCJpbnZlbnRvcnlJdGVtRW50aXRpZXMiLCJkcmFnRW50aXR5IiwicmVwYXJlbnQiLCJkcmFnSWNvbiIsImhhbmRsZU1vdXNlTW92ZSIsImNoYW5nZWRUb3VjaGVzIiwiaGFuZGxlTW91c2VVcCIsImxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCIsInNjcmVlbkNvbXAiLCJkaXNwbGF5UG90ZW50aWFsTGlzdCIsImRyYWdQb3MiLCJ0b3BTbG90UG9zaXRpb24iLCJtYXhTbG90cyIsInNsb3RXaWR0aCIsInNjcmVlbkhlaWdodCIsImNvcm5lclNjcmVlblBvcyIsInNjcmVlbkNvcm5lcnMiLCJjb3JuZXJQb3MiLCJjaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QiLCJkcmFnZ2luZ0VudGl0eSIsIm1vdXNlRXZlbnQiLCJlcXVpcFNsb3RLZXkiLCJjb3JuZXJzIiwiaGFuZGxlSXRlbU1vdmUiLCJzZXRIaWdobGlnaHRQb3NpdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJ1bm5pbmdJbmRleCIsIm5ld0l0ZW1Db21wb25lbnQiLCJpdGVtQXNzZXQiLCJlcXVpcFNsb3RFbnRpdHkiLCJjbGVhciIsInJlb3JkZXJMaXN0V2l0aEdhcCIsImdhcEluZGV4IiwiaW52ZW50b3J5SXRlbUVudGl0eSIsIkludmVudG9yeURyYWdJY29uQ29tcG9uZW50IiwiSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50IiwiaWNvbkFzc2V0SWQiLCJhc3NldCIsImRlZmF1bHRBc3NldCIsInN0YXJ0dXAiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSUMsRUFBWSxFQUFRLEtBQ3BCQyxFQUFTLEVBQVEsS0FFakJDLEVBQTRCLFdBQzVCLFNBQVNBLEVBQVdDLEdBRWhCLEdBREFDLEtBQUtDLFdBQWEsR0FDZEgsRUFBV0ksWUFBWUgsR0FDdkIsTUFBTSxJQUFJSSxNQUxILDREQU9YSCxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBS0ssT0FBU1QsRUFBVVUsUUFBUUMsTUFBUVgsRUFBVVUsUUFBUUUsV0FBYVosRUFBVVUsUUFBUUcsUUFDekZULEtBQUtVLHVCQXFEVCxPQW5EQVosRUFBV2EsaUJBQW1CLFNBQVVaLFVBQzdCQyxLQUFLRSxZQUFZSCxJQUU1QkQsRUFBV2MsWUFBYyxTQUFVYixHQUMvQixPQUFLQSxHQUdBQyxLQUFLRSxZQUFZSCxLQUNsQkMsS0FBS0UsWUFBWUgsR0FBTyxJQUFJRCxFQUFXQyxJQUVwQ0MsS0FBS0UsWUFBWUgsSUFMYixNQU9mRCxFQUFXZSxVQUFVQyxnQkFBa0IsU0FBVUMsRUFBa0JDLEdBQzFEaEIsS0FBS0MsV0FBV2MsSUFDakJmLEtBQUtpQixLQUFLQyxpQkFBaUJILEVBQWtCZixLQUFLbUIsZUFBZ0JuQixNQUV0RUEsS0FBS0MsV0FBV2MsR0FBb0JDLEdBRXhDbEIsRUFBV2UsVUFBVU8sV0FBYSxTQUFVTCxHQUN4QyxZQUE2Q00sSUFBdENyQixLQUFLQyxXQUFXYyxJQUUzQmpCLEVBQVdlLFVBQVVTLGNBQWdCLFNBQVVQLEdBQ3ZDZixLQUFLb0IsV0FBV0wsS0FDaEJmLEtBQUtpQixL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QUlsRHFsQixHQUEyQnpzQyxVQUFVaWtDLE1BQVEsU0FBVS9pQyxFQUFNdVYsS0NWdEQsTUFBTWkyQixHQUFpQzlnQyxHQUFHaXBCLGFBQWEsa0NBRTlENlgsR0FBK0J4WCxXQUFXQyxJQUFJLGVBQWdCLENBQUV0ZSxLQUFNLFFBQVNpTixNQUFPLGtCQUV0RjRvQixHQUErQnhYLFdBQVdDLElBQUksYUFBYyxDQUFFdGUsS0FBTSxTQUFVaU4sTUFBTyxnQkFFckY0b0IsR0FBK0Ixc0MsVUFBVW9uQixXQUFhLGFBRXREc2xCLEdBQStCMXNDLFVBQVVpa0MsTUFBUSxTQUFVMEksR0FDdkQsTUFBTUMsRUFBUXp0QyxLQUFLd00sSUFBSXVILE9BQU92TyxJQUFJZ29DLEdBQ2xDeHRDLEtBQUtrb0MsV0FBV3hPLFFBQVF5TyxZQUFjc0YsR0FLMUNGLEdBQStCMXNDLFVBQVVxc0MsTUFBUSxXQUM3Q2x0QyxLQUFLa29DLFdBQVd4TyxRQUFReU8sWUFBY25vQyxLQUFLMHRDLGNDaEIvQyxNQUFRdHJDLE9BQU0sSUFBSyxFQUFRLE1BQ3JCLFFBQUU5QixJQUFZLEVBQVEsS0E4Q2YsSUFYYixNQUNJLGNBQ0lBLEdBQVFDLE9BQVEsRUFDaEIsR0FBT0ssWUFBY21tQixFQUFXLFdBQVgsWUFDckJoZixRQUFRQyxJQUFJLElBRVpoSSxLQUFLc0gsT0FBUyxHQUFPMUcsWUFBWW1tQixFQUFXLFdBQVgsS0FDakMvbUIsS0FBS3NILE9BQU9xbUMsUUFBUTN0QyxTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJjb250cm9sbGVyIGtleSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZFwiO1xudmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29udHJvbGxlcihrZXkpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kTWFwID0ge307XG4gICAgICAgIGlmIChDb250cm9sbGVyLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dDb21tYW5kIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgIH1cbiAgICBDb250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBDb250cm9sbGVyKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSA9IGNvbW1hbmRDbGFzc1JlZjtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZU9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZXhlY3V0ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tbWFuZCA9IHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIoQ29udHJvbGxlci5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQuYXBwbHkodm9pZCAwLCBbdGhpcy5tdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNENEJGRTBcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzg3MjRCRFwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiXG4gICAgXTtcbiAgICBDb250cm9sbGVyLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIENvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2xsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRyb2xsZXJcIik7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL01vZGVsXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIkZhY2FkZSBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBGYWNhZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFjYWRlKGtleSkge1xuICAgICAgICBpZiAoRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVOb3RpZmllcihrZXkpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVGYWNhZGUoKTtcbiAgICB9XG4gICAgRmFjYWRlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLmhhc0NvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEZhY2FkZS5yZW1vdmVDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE1vZGVsXzEuTW9kZWwucmVtb3ZlTW9kZWwoa2V5KTtcbiAgICAgICAgVmlld18xLlZpZXcucmVtb3ZlVmlldyhrZXkpO1xuICAgICAgICBDb250cm9sbGVyXzEuQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyKGtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZWdpc3RlckNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZW1vdmVDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHRoaXMubW9kZWwucmVnaXN0ZXJQcm94eShwcm94eSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJldHJpZXZlUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZW1vdmVQcm94eShwcm94eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuaGFzUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJNZWRpYXRvcihtZWRpYXRvcik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmV0cmlldmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZW1vdmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnNsZWVwTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hd2FrZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lmhhc01lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLmFwcGx5KHRoaXMsIFtGYWNhZGUuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAoX2EgPSB0aGlzLnZpZXcpLm5vdGlmeU9ic2VydmVycy5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlci5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwgPSBNb2RlbF8xLk1vZGVsLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMkYyRTE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiNGRkYzMjVcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIlxuICAgIF07XG4gICAgRmFjYWRlLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIEZhY2FkZTtcbn0oKSk7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2FkZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIk1lZGlhdG9yXCI7XG52YXIgTWVkaWF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lZGlhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lZGlhdG9yKG1lZGlhdG9yTmFtZSwgdmlld0NvbXBvbmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ01lZGlhdG9yIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgX3RoaXMubWVkaWF0b3JOYW1lID0gbWVkaWF0b3JOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICBfdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zID0gW107XG4gICAgICAgIF90aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldE1lZGlhdG9yTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JOYW1lO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnNldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAodmlld0NvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblNsZWVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwic2xlZXBcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25Bd2FrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJhd2FrZVwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwiaXNTbGVlcGluZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xlZXBpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmFkZFN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUudW5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuY2hhbmdlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2xkTm90aWZpY2F0aW9ucyA9IHRoaXMubm90aWZpY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uTmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25OYW1lLmZvckVhY2goZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbChfdGhpcywgbm90aWZpY2F0aW9uKSB8fCBjaGFuZ2VkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwodGhpcywgbm90aWZpY2F0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKHRoaXMsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuYWRkU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRjRGNkZFXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMzNjU2QzFcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIlxuICAgIF07XG4gICAgcmV0dXJuIE1lZGlhdG9yO1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZWRpYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIk1vZGVsIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGVsKGtleSkge1xuICAgICAgICB0aGlzLnByb3h5TWFwID0ge307XG4gICAgICAgIGlmIChNb2RlbC5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgIH1cbiAgICBNb2RlbC5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgTW9kZWwoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucmVtb3ZlTW9kZWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICBwcm94eS5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIHRoaXMucHJveHlNYXBbcHJveHkuZ2V0UHJveHlOYW1lKCldID0gcHJveHk7XG4gICAgICAgIHByb3h5Lm9uUmVnaXN0ZXIoKTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHByb3h5Lm9uUmVtb3ZlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBNb2RlbC5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBNb2RlbDtcbn0oKSk7XG5leHBvcnRzLk1vZGVsID0gTW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9GYWNhZGVcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJtdWx0aXRvbktleSBmb3IgdGhpcyBOb3RpZmllciBub3QgeWV0IGluaXRpYWxpemVkIVwiO1xudmFyIE5vdGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIH1cbiAgICBOb3RpZmllci5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmZhY2FkZSA9IHRoaXMuZ2V0RmFjYWRlKCk7XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZmFjYWRlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZhY2FkZSkuc2VuZE5vdGlmaWNhdGlvbi5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5nZXRGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpdG9uS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlXzEuRmFjYWRlLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vdGlmaWVyO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIlByb3h5XCI7XG52YXIgUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3h5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb3h5KHByb3h5TmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm94eU5hbWUgPSBwcm94eU5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dQcm94eSA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUHJveHkucHJvdG90eXBlLmdldFByb3h5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlOYW1lO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIFByb3h5Ll9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMTAyNDE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMyN0QwNENcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIlxuICAgIF07XG4gICAgcmV0dXJuIFByb3h5O1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLlByb3h5ID0gUHJveHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm94eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1cmVNVkMoKSB7XG4gICAgfVxuICAgIFB1cmVNVkMubG9nQ29tbWFuZCA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZE5hbWUpIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiID0+ICBcIiArIGNvbW1hbmROYW1lICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIjogYXJncyBbIFwiICsgYXJncyArIFwiIF0gJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTWVkaWF0b3IgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nUHJveHkgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm9uZSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncykge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgcmV0dXJuIFB1cmVNVkM7XG59KCkpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1cmVNVkMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJWaWV3IGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlldyhrZXkpIHtcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKFZpZXcuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH1cbiAgICBWaWV3LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBWaWV3KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucmVtb3ZlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24obm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmV2ZW50RW1pdHRlcikuZW1pdC5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWUsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhdG9yLmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG1lZGlhdG9yIGZvciByZXRyaWV2YWwgYnkgbmFtZVxuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSA9IG1lZGlhdG9yO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgbWVkaWF0b3Iub25SZWdpc3Rlcih0aGlzLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIGF3YWtlblxuICAgICAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVkaWF0b3IgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgbWVkaWF0b3Iub25SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKG1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBzbGVwdFxuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBmb3IgZXZlcnkgbm90aWZpY2F0aW9uIHRoZSBtZWRpYXRvciBpcyBpbnRlcmVzdGVkIGluLi4uXG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18xID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18xW19pXTtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmVzdFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGdldCBub3RpZmljYXRpb24gaW50ZXJlc3RzIGlmIGFueVxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIC8vIHJlZ2lzdGVyIG1lZGlhdG9yIGFzIGFuIG9ic2VydmVyIGZvciBlYWNoIG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzJbX2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBmdW5jdGlvbiAobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIFZpZXcuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gVmlldztcbn0oKSk7XG5leHBvcnRzLlZpZXcgPSBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlclwiKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyO1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0ZhY2FkZVwiKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlXzEuRmFjYWRlO1xudmFyIE1lZGlhdG9yXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTWVkaWF0b3JcIik7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3JfMS5NZWRpYXRvcjtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01vZGVsXCIpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsXzEuTW9kZWw7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Ob3RpZmllclwiKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcl8xLk5vdGlmaWVyO1xudmFyIFByb3h5XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHJveHlcIik7XG5leHBvcnRzLlByb3h5ID0gUHJveHlfMS5Qcm94eTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQ1wiKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkNfMS5QdXJlTVZDO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9WaWV3XCIpO1xuZXhwb3J0cy5WaWV3ID0gVmlld18xLlZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCJleHBvcnQgY2xhc3MgTmF2aWdhdGlvbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZE5vZGVzLnNvbWUobm9kZSA9PiBub2RlLnggPT09IG90aGVyTm9kZS54XG4gICAgICAgICAgICAmJiBub2RlLnkgPT09IG90aGVyTm9kZS55ICYmIG5vZGUueiA9PT0gb3RoZXJOb2RlLnopO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gb3RoZXJOb2RlLnggJiYgdGhpcy55ID09PSBvdGhlck5vZGUueSAmJiB0aGlzLnogPT09IG90aGVyTm9kZS56O1xuICAgIH1cblxuICAgIGVxdWFsc1BvaW50KHgsIHksIHopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHkgJiYgdGhpcy56ID09PSB6O1xuICAgIH1cblxuICAgIGFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZChvdGhlck5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnB1c2gob3RoZXJOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVJbmRleCA9IHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZEluZGV4KG5vZGUgPT4gbm9kZS5lcXVhbHMob3RoZXJOb2RlKSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMuc3BsaWNlKGNvbm5lY3RlZE5vZGVJbmRleCwgMSk7XG4gICAgfVxufSIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUdhbWVNYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAvLyBPbmNlIGEgZ2FtZU1hcCBzY2VuZSBpcyBsb2FkZWQsIHBhcnNlIGdhbWVNYXAgVk8sIGdlbmVyYXRlIG5hdiBtZXNoLCBldGNcbiAgICAvLyBHZXQgbmF2aWdhdGlvbiBmbG9vcnNcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZU1hcEZsb29yKGFwcCk7XG4gICAgY29uc3Qgd2FsbHMgPSBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgY292ZXIgPSBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgcG9ydGFscyA9IGNyZWF0ZVBvcnRhbHMoYXBwKTtcblxuICAgIC8vIHdheXBvaW50c1xuICAgIGNvbnN0IHdheXBvaW50c01hcCA9IGNyZWF0ZVdheXBvaW50c01hcChmbG9vckdyaWQpO1xuXG4gICAgLy8gUmVnaXN0ZXIgbWVkaWF0b3JzXG5cbiAgICBpZiAoZmFjYWRlLmhhc1Byb3h5KEdhbWVNYXBQcm94eS5OQU1FKSkge1xuICAgICAgICAvLyByZW1vdmUgb2xkIG1hcFxuICAgICAgICBmYWNhZGUucmVtb3ZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpXG4gICAgfVxuXG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVNYXBQcm94eShmbG9vckdyaWQsIHdhbGxzLCBjb3ZlciwgcG9ydGFscywgd2F5cG9pbnRzTWFwKSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBGbG9vcihhcHApIHtcbiAgICBjb25zdCBuYXZpZ2F0aW9uRmxvb3JzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCduYXZpZ2F0aW9uX2Zsb29yJyk7XG5cbiAgICBsZXQgY29tcGxldGVkR3JpZCA9IFtdO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkNvbXBvbmVudHMgPSBbXTtcbiAgICAvLyBGaXJzdCBwYXJzZSAtIGNyZWF0ZSBub2RlcyBhbmQgY29ubmVjdGlvbnMgZm9yIGluZGl2aWR1YWwgXG4gICAgLy8gbmF2aWdhdGlvbiBjb21wb25lbnRzXG4gICAgZm9yIChjb25zdCBmbG9vckVudGl0eSBvZiBuYXZpZ2F0aW9uRmxvb3JzKSB7XG4gICAgICAgIGNvbnN0IG5hdkNvbXAgPSBmbG9vckVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICAgICAgbmF2aWdhdGlvbkNvbXBvbmVudHMucHVzaChuYXZDb21wKTtcblxuICAgICAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSlcbiAgICAgICAgbmF2Q29tcC5zZXRHcmlkKGZsb29yR3JpZCk7XG4gICAgfVxuXG4gICAgLy8gU2Vjb25kIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wbGV0ZWRHcmlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxzQm91bmRpbmdCb3hlcyA9IFtdO1xuICAgIGNvbnN0IG1hcFdhbGxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2FsbCcpO1xuICAgIGZvciAoY29uc3QgbWFwV2FsbEVudGl0eSBvZiBtYXBXYWxsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgYWFiYiA9IGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShtYXBXYWxsRW50aXR5KTtcbiAgICAgICAgd2FsbHNCb3VuZGluZ0JveGVzLnB1c2goYWFiYik7XG4gICAgICAgIGNyZWF0ZUZsb29yVW5kZXJXYWxscyhtYXBXYWxsRW50aXR5LCBmbG9vckdyaWQpO1xuICAgICAgICBtYXBXYWxsRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2FsbHNCb3VuZGluZ0JveGVzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShib3hFbnRpdHkpIHtcbiAgICBjb25zdCBzY2FsZSA9IGJveEVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICBjb25zdCBhYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KGJveEVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgcmV0dXJuIGFhYmI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZsb29yVW5kZXJXYWxscyh3YWxsLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsUG9zID0gd2FsbC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHdhbGxTY2FsZSA9IHdhbGwuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHdhbGxQb3MueSAtICh3YWxsU2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQod2FsbFBvcy54IC0gKHdhbGxTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQod2FsbFBvcy56IC0gKHdhbGxTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyB3YWxsU2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIHdhbGxTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBsZXQgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBjb3ZlckVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdjb3ZlcicpO1xuICAgIGZvciAoY29uc3QgY292ZXJFbnRpdHkgb2YgY292ZXJFbnRpdGllcykge1xuICAgICAgICBjb3ZlclBvaW50cyA9IGNvdmVyUG9pbnRzLmNvbmNhdChjcmVhdGVDb3ZlclBvaW50RnJvbUJveChjb3ZlckVudGl0eSwgZmxvb3JHcmlkKSk7XG4gICAgICAgIGNvdmVyRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goYm94LCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGJveFBvcyA9IGJveC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJveFNjYWxlID0gYm94LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChib3hQb3MueSAtIChib3hTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZChib3hQb3MueCAtIChib3hTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQoYm94UG9zLnogLSAoYm94U2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgYm94U2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIGJveFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgY292ZXJQb2ludCA9IG5ldyBwYy5WZWMzKHgsIHksIHopO1xuICAgICAgICAgICAgY292ZXJQb2ludHMucHVzaChjb3ZlclBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3J0YWxzKGFwcCkge1xuICAgIGNvbnN0IHBvcnRhbHMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcG9ydGFsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3BvcnRhbCcpO1xuICAgIGZvciAoY29uc3QgcG9ydGFsRW50aXR5IG9mIHBvcnRhbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHBvcnRhbEVudGl0eS5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBwb3J0YWxJZCA9IHBvcnRhbENvbXBvbmVudC5wb3J0YWxJZDtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb2ludCA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhpdGJveFBvaW50ID0gcG9ydGFsQ29tcG9uZW50LmhpdGJveC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHBvcnRhbCA9IHtcbiAgICAgICAgICAgIHBvcnRhbElkOiBwb3J0YWxJZCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uU2NlbmU6IGRlc3RpbmF0aW9uU2NlbmUsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblBvcnRhbDogZGVzdGluYXRpb25Qb3J0YWwsXG4gICAgICAgICAgICBzdGFuZGluZ1BvaW50OiBzdGFuZGluZ1BvaW50LFxuICAgICAgICAgICAgaGl0Ym94UG9pbnQ6IGhpdGJveFBvaW50XG4gICAgICAgIH1cblxuICAgICAgICBwb3J0YWxzLnNldChwb3J0YWxJZCwgcG9ydGFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9ydGFscztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2F5cG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBmbG9vck5vZGUgb2YgZmxvb3JHcmlkKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRpYWdvbmFscyBpbnRlcnNlY3Qgd2FsbHNcblxuICAgICAgICBpZiAoaXNXYXlwb2ludChmbG9vck5vZGUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgIHdheXBvaW50cy5wdXNoKG5ldyBOYXZpZ2F0aW9uTm9kZShmbG9vck5vZGUueCwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHdheXBvaW50IG9mIHdheXBvaW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyV2F5cG9pbnQgb2Ygd2F5cG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAoIXdheXBvaW50LmVxdWFscyhvdGhlcldheXBvaW50KSB8fCAhb3RoZXJXYXlwb2ludC5pc0Nvbm5lY3RlZCh3YXlwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gQXN0YXIuY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh3YXlwb2ludC54LCB3YXlwb2ludC56LCBvdGhlcldheXBvaW50LngsIG90aGVyV2F5cG9pbnQueik7XG4gICAgICAgICAgICAgICAgaWYgKEFzdGFyLmNoZWNrVmFsaWRMaW5lKGxpbmUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2F5cG9pbnQuYWRkQ29ubmVjdGVkTm9kZShvdGhlcldheXBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJXYXlwb2ludC5hZGRDb25uZWN0ZWROb2RlKHdheXBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBpc1dheXBvaW50KGZsb29yTm9kZSwgZmxvb3JNYXApIHtcbiAgICAvL0NoZWNrIG53XG4gICAgY29uc3Qgbm9ydGh3ZXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggLSAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG4gICAgY29uc3Qgc291dGhlYXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggKyAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG5cbiAgICAvLyBub3J0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3J0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG5cbiAgICBnZXRXZWFwb25DYXRlZ29yeSh3ZWFwb25OYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2F0ZWdvcnkgZm9yIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcblxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IFN0b3J5Vk8gfSA9IHJlcXVpcmUoJy4vU3RvcnlWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBTdG9yeVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0b3J5UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJ1bmsgPSBhcHAuYXNzZXRzLmdldCg0MDUyOTkyMCkucmVzb3VyY2U7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJlZXMgPSBzdG9yeVRydW5rLnRyZWVzO1xuICAgICAgICBjb25zdCBzdG9yeVRyZWVNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0cmVlS2V5IGluIHN0b3J5VHJlZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzdG9yeVRyZWVzLCB0cmVlS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZUFzc2V0SWQgPSBzdG9yeVRyZWVzW3RyZWVLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZSA9IGFwcC5hc3NldHMuZ2V0KHN0b3J5VHJlZUFzc2V0SWQpLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgc3RvcnlUcmVlTWFwLnNldCh0cmVlS2V5LCBzdG9yeVRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoU3RvcnlQcm94eS5OQU1FLCBzdG9yeVRyZWVNYXApO1xuXG4gICAgICAgIC8vIFByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGdldFRyZWUodHJlZUlkKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmhhcyh0cmVlSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52by5nZXQodHJlZUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROb2RlKHRyZWUsIG5vZGVJZCkge1xuICAgICAgICBjb25zdCBub2RlcyA9IHRyZWUubm9kZXM7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChub2Rlcywgbm9kZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVzW25vZGVJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RlcChub2RlLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBub2RlLnN0ZXBzO1xuICAgICAgICBpZiAoc3RlcEluZGV4IDwgc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcHNbc3RlcEluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb1RvTm9kZShub2RlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5vZGVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBzdGFydERpYWxvZ3VlVHJlZSh0cmVlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHRyZWVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IFwiZW50cnlcIjtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcblxuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBpZiAoIXRyZWUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3Qgc3RhcnQgZGlhbG9ndWU6IFRyZWUgJHt0aGlzLmN1cnJlbnRUcmVlfSBub3QgZm91bmRgKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgQ2Fubm90IHN0YXJ0IGRpYWxvZ3VlOiBubyBcImVudHJ5XCIgbm9kZSBkZWZpbmVkIG9uICR7dHJlZUlkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudE5vZGVTdGVwKCkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgY29uc3QgdmFsaWRTdGVwID0gdGhpcy5nZXRWYWxpZFN0ZXAoY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgIGlmICh2YWxpZFN0ZXAgJiYgdmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKG9uY2VDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFN0ZXA7XG4gICAgfVxuXG5cbiAgICBjb250aW51ZUN1cnJlbnROb2RlU3RlcCgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSlcbiAgICAgICAgLy8gaW5jcmVtZW50IHN0ZXBJbmRleFxuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXgrKztcblxuICAgICAgICBjb25zdCB2YWxpZFN0ZXAgPSB0aGlzLmdldFZhbGlkU3RlcChjdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgaWYgKHZhbGlkU3RlcCAmJiB2YWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24ob25jZUNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkU3RlcDtcbiAgICB9XG5cbiAgICBnZXRWYWxpZFN0ZXAobm9kZSwgc3RlcEluZGV4KSB7XG4gICAgICAgIGxldCBuZXh0VmFsaWRTdGVwID0gdGhpcy5nZXRTdGVwKG5vZGUsIHN0ZXBJbmRleCk7XG5cblxuICAgICAgICBpZiAobmV4dFZhbGlkU3RlcCkge1xuICAgICAgICAgICAgbGV0IHRlc3RDb25kaXRpb25zID0gW107XG4gICAgICAgICAgICBpZiAobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGVzdENvbmRpdGlvbnMgPSB0ZXN0Q29uZGl0aW9ucy5jb25jYXQobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCBzdGVwSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRlc3RDb25kaXRpb25zID0gdGVzdENvbmRpdGlvbnMuY29uY2F0KG9uY2VDb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZXN0IHZhbGlkIHN0ZXAnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXN0Q29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRlc3RDb25kaXRpb25zKHRlc3RDb25kaXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VmFsaWRTdGVwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSBzdGVwSW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbGlkU3RlcChub2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFZhbGlkU3RlcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodHJlZUlkLCBub2RlSWQsIHN0ZXBJbmRleCkge1xuICAgICAgICByZXR1cm4gYCR7dHJlZUlkfSR7bm9kZUlkfSR7c3RlcEluZGV4fWA7XG4gICAgfVxuXG4gICAgZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRyZWVJZCwgbm9kZUlkLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGAhJHt0cmVlSWR9JHtub2RlSWR9JHtzdGVwSW5kZXh9YDtcbiAgICB9XG5cbiAgICBzZWxlY3RDaG9pY2UoY2hvaWNlSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IGN1cnJlbnROb2RlLmNob2ljZXNbY2hvaWNlSW5kZXhdO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRDaG9pY2U7XG4gICAgfVxuXG4gICAgYWRkQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlc3RDb25kaXRpb25zKGNvbmRpdGlvbnMpIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBvcGVyYXRvcnNcbiAgICAgICAgICAgIGNvbnN0IG9yRGVsaW1pdGVyZWQgPSBcInx8XCI7XG4gICAgICAgICAgICBjb25zdCBvckNvbmRpdGlvbnMgPSBjb25kaXRpb24uc3BsaXQob3JEZWxpbWl0ZXJlZCk7XG5cbiAgICAgICAgICAgIGlmIChvckNvbmRpdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgb25lIG5lZWRzIHRvIGJlIHRydWVcbiAgICAgICAgICAgICAgICBsZXQgb3JTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb25hbENvbmRpdGlvbiBvZiBvckNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tDb25kaXRpb24ob3B0aW9uYWxDb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvclN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBvclN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdGhpcy5jaGVja0NvbmRpdGlvbihjb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cblxuICAgIGNoZWNrQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHBvc2l0aXZlIG9mIG5lZ2F0aXZlXG4gICAgICAgIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIiFcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKHN0cmlwcGVkU3RyaW5nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiK1wiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihzdHJpcHBlZFN0cmluZyk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIi1cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb25kaXRpb24oc3RyaXBwZWRTdHJpbmcpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBJbnZlbnRvcnlWTyB9ID0gcmVxdWlyZSgnLi9JbnZlbnRvcnlWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBJbnZlbnRvcnlQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnZlbnRvcnlQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoSW52ZW50b3J5UHJveHkuTkFNRSwgbmV3IEludmVudG9yeVZPKCkpO1xuICAgIH1cblxuICAgIGdldCBpbnZlbnRvcnlJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaW52ZW50b3J5SXRlbXM7XG4gICAgfVxuXG4gICAgc2V0IGludmVudG9yeUl0ZW1zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uaW52ZW50b3J5SXRlbXMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBtZW50U2xvdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwbWVudFNsb3RzO1xuICAgIH1cblxuXG4gICAgcmVvcmRlckludmVudG9yeUl0ZW0oaXRlbVVVSUQsIHNsb3RJbmRleCkge1xuICAgICAgICAvLyBEZWxldGUgdGhlIGl0ZW0gZnJvbSBpdCdzIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRleCA9IHRoaXMuaW52ZW50b3J5SXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS51dWlkID09PSBpdGVtVVVJRCk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSXRlbSA9IHRoaXMuaW52ZW50b3J5SXRlbXMuc3BsaWNlKG9yaWdpbmFsSW5kZXgsIDEpO1xuICAgICAgICBsZXQgcnVubmluZ0luZGV4VG90YWwgPSAwO1xuICAgICAgICBsZXQgbmV3SW5kZXggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW52ZW50b3J5SXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmludmVudG9yeUl0ZW1zW2ldO1xuXG5cbiAgICAgICAgICAgIGlmIChzbG90SW5kZXggPj0gcnVubmluZ0luZGV4VG90YWwgJiYgc2xvdEluZGV4IDwgcnVubmluZ0luZGV4VG90YWwgKyBpdGVtLnNpemUpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJ1bm5pbmdJbmRleFRvdGFsICs9IGl0ZW0uc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzbG90SW5kZXggPj0gcnVubmluZ0luZGV4VG90YWwpIHtcbiAgICAgICAgICAgIG5ld0luZGV4ID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHN1cmUgYSB2YWxpZCBhcnJheSBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMuaW52ZW50b3J5SXRlbXMpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgYXJyYXknKTtcbiAgICAgICAgfVxuXG5cblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmUncyBhbiBpdGVtIHRvIG1vdmVcbiAgICAgICAgaWYgKCFvcmlnaW5hbEl0ZW0ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGl0ZW0gaW4gdGhlIGFycmF5IGF0IGluZGV4ICcgKyBvcmlnaW5hbEluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgdGhlIGl0ZW0gdG8gaXRzIG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnNwbGljZShuZXdJbmRleCwgMCwgb3JpZ2luYWxJdGVtWzBdKTtcbiAgICB9XG5cbiAgICBhdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3Qoc2xvdEtleSwgaXRlbURhdGEpIHtcbiAgICAgICAgLy8gY2hlY2sgZXF1aXAgd2VhcG9uXG4gICAgICAgIGlmICgoc2xvdEtleSA9PT0gJzFoYW5kJyB8fCBzbG90S2V5ID09PSAnMmhhbmQnKSAmJiBpdGVtRGF0YS50eXBlID09PSBcIndlYXBvblwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0l0ZW0gPSB0aGlzLmVxdWlwbWVudFNsb3RzLmdldChzbG90S2V5KTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgYm90aCBzbG90cyBpdCBsYXN0IGl0ZW0gd2FzIHR3by1oYW5kZWRcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0l0ZW0gJiYgZXhpc3RpbmdJdGVtLmVxdWlwU2xvdCA9PT0gJzJoYW5kJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuZGVsZXRlKCcxaGFuZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuZGVsZXRlKCcyaGFuZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXRlbURhdGEuZXF1aXBTbG90ID09PSAnMWhhbmQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5zZXQoc2xvdEtleSwgaXRlbURhdGEpO1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGlzIGlzbid0IGFscmVhZHkgZXF1aXBwZWQgaW4gdGhlIG90aGVyIGhhbmRcbiAgICAgICAgICAgICAgICBpZiAoc2xvdEtleSA9PT0gJzFoYW5kJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdGhlclNsb3QgPSB0aGlzLmVxdWlwbWVudFNsb3RzLmdldCgnMmhhbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyU2xvdCAmJiBvdGhlclNsb3QudXVpZCA9PT0gaXRlbURhdGEudXVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzJoYW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNsb3RLZXkgPT09ICcyaGFuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJTbG90ID0gdGhpcy5lcXVpcG1lbnRTbG90cy5nZXQoJzFoYW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdGhlclNsb3QgJiYgb3RoZXJTbG90LnV1aWQgPT09IGl0ZW1EYXRhLnV1aWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuZGVsZXRlKCcxaGFuZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5zZXQoJzFoYW5kJywgaXRlbURhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuc2V0KCcyaGFuZCcsIGl0ZW1EYXRhKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRJbnZlbnRvcnlJdGVtKGludmVudG9yeUl0ZW1EYXRhKSB7XG4gICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMucHVzaChpbnZlbnRvcnlJdGVtRGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0RXF1aXBwZWRJdGVtKHNsb3RLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXF1aXBtZW50U2xvdHMuZ2V0KHNsb3RLZXkpO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cblxuZXhwb3J0IGNsYXNzIEl0ZW1zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSXRlbXNQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKEl0ZW1zUHJveHkuTkFNRSwgZGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0SXRlbURhdGEoaXRlbUlkKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjYXRlZ29yeSwgaXRlbUlkKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY2F0ZWdvcnlLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnZvW2NhdGVnb3J5S2V5XVtpdGVtSWRdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCBkYXRhIGZvciBpdGVtOjogJHtpdGVtSWR9YCk7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBCb3RCZWhhdmlvdXJzVk8gfSA9IHJlcXVpcmUoJy4vQm90QmVoYXZpb3Vyc1ZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEJvdEJlaGF2aW91clByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkJvdEJlaGF2aW91clByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihCb3RCZWhhdmlvdXJQcm94eS5OQU1FLCBuZXcgQm90QmVoYXZpb3Vyc1ZPKCkpO1xuICAgIH1cblxuICAgIGdldFRyZWUodHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5nZXRUcmVlKHR5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgSXRlbXNQcm94eSB9IGZyb20gJy4uL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQm90QmVoYXZpb3VyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9ib3RCZWhhdmlvdXIvQm90QmVoYXZpb3VyUHJveHknO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXBwLWxldmVsIG1lZGlhdG9ycy9wcm94aWVzL2NvbW1hbmRzIGhlcmVcblxuICAgIC8vIENyZWF0ZSBnYW1lIHN0YXRlIHByb3h5XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lU3RhdGVQcm94eSgpKTtcblxuICAgIC8vIExvYWQgd2VhcG9ucyBkYXRhIGFuZCBjcmVhdGUgcHJveHlcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGlmIChhcHApIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDQxNTYzMSkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgV2VhcG9uc1Byb3h5KHdlYXBvbnNEYXRhKSk7XG4gICAgICAgIGNvbnN0IGl0ZW1zRGF0YSA9IGFwcC5hc3NldHMuZ2V0KDQwODE0MDI3KS5yZXNvdXJjZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBJdGVtc1Byb3h5KGl0ZW1zRGF0YSkpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IFN0b3J5UHJveHkoKSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgSW52ZW50b3J5UHJveHkoKSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgQm90QmVoYXZpb3VyUHJveHkoKSk7XG5cbiAgICAgICAgLy8gQWRkIGRlZmF1bHQgZXF1aXBtZW50XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInN3b3JkXCIpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgXCJwaXN0b2xldFwiKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwiZnVzaWxcIik7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcImNoYWlubWFpbFwiKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIFwidW5hcm1lZFwiLCBcIjFoYW5kXCIpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgXCJ1bmFybWVkXCIsIFwiMmhhbmRcIik7XG5cbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVNjZW5lQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgc2NlbmVOYW1lID0gYXJnc1swXTtcbiAgICBjb25zdCBwb3J0YWxJZCA9IGFyZ3NbMV07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCwgcG9ydGFsSWQpO1xuXG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGhcbiAgICBsZXQgdGVtcG9yYXJ5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gLTE7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcblxuICAgICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcblxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgICAgIHRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTtcbiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgc2h1ZmZsZUFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvU2h1ZmZsZUFycmF5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgQ29tYmF0Vk8gfSA9IHJlcXVpcmUoJy4vQ29tYmF0Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgQ29tYmF0UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ29tYmF0UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzLCB0ZWFtcykge1xuICAgICAgICBzdXBlcihDb21iYXRQcm94eS5OQU1FLCBuZXcgQ29tYmF0Vk8ocGFydGljaXBhbnRzLCB0ZWFtcykpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuc2V0KHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFByb3h5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRUdXJuKCkge1xuICAgICAgICBjb25zdCByb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZTtcblxuICAgICAgICBpZiAocm91bmRJbml0aWF0aXZlICYmIHJvdW5kSW5pdGlhdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHVybklkID0gcm91bmRJbml0aWF0aXZlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gbmV4dFR1cm5JZDtcblxuICAgICAgICAgICAgaWYgKG5leHRUdXJuSWQgIT09ICdlbmRfcm91bmQnKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV4dCBUdXJuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVHVybiAke25leHRUdXJuSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5nZXQobmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgcHJveHkucmVzZXRDb21iYXRUdXJuU3RhdGUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm94eS5pc05QQykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRpYXRpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRXZlcnlvbmUgaXMgb3V0IG9mIHRoZSBjb21iYXQgc29tZWhvdywgcHJvYmFibHkgZGVhZFxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZW5kIG9mIHJvdW5kIHRva2VuXG4gICAgICAgIGluaXRpYXRpdmVzLnB1c2goJ2VuZF9yb3VuZCcpO1xuXG4gICAgICAgIGxldCBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoaW5pdGlhdGl2ZXMpO1xuICAgICAgICAvLyBlbnN1cmUgcm91bmQgZG9lc24ndCBzdGFydCB3aXRoIFwiZW5kX3JvdW5kXCJcbiAgICAgICAgd2hpbGUgKHNodWZmbGVkSW5pdGlhdGl2ZVswXSA9PT0gXCJlbmRfcm91bmRcIikge1xuICAgICAgICAgICAgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KHNodWZmbGVkSW5pdGlhdGl2ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gc2h1ZmZsZWRJbml0aWF0aXZlO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5uZXh0VHVybkNoYXJhY3RlcklkO1xuICAgIH1cblxuICAgIGdldCBhY3RpdmVQYXJ0aWNpcGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQ7XG4gICAgfVxuXG4gICAgc2V0IGFjdGl2ZVBhcnRpY2lwYW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgZ2V0IHRlYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by50ZWFtcztcbiAgICB9XG5cbiAgICByZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIHBhcnRpY2NpcGFudHNcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZGVsZXRlKGNoYXJhY3RlcklkKTtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gaW5pdGlhdGl2ZVxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlLmZpbHRlcihlID0+IGUgIT09IGNoYXJhY3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHRlYW1dIG9mIHRoaXMudGVhbXMuZW50cmllcygpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckluZGV4ID0gdGVhbS5pbmRleE9mKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGVhbS5zcGxpY2UoY2hhcmFjdGVySW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGVhbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcInNwb3R0ZWRcIiwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSk7XG5cblxuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCB0ZWFtcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwbGF5ZXJUZWFtID0gWydwbGF5ZXInXTtcbiAgICB0ZWFtcy5zZXQoJ3BsYXllcl90ZWFtJywgcGxheWVyVGVhbSk7XG5cbiAgICBjb25zdCBvcHBvc2luZ1RlYW0gPSBbaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZF0uY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT0gcG9zO1xuICAgIH0pO1xuICAgIHRlYW1zLnNldCgnb3Bwb3NpbmdfdGVhbScsIG9wcG9zaW5nVGVhbSk7XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBwbGF5ZXJUZWFtLmNvbmNhdChvcHBvc2luZ1RlYW0pO1xuXG5cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX01PVkVNRU5UICsgcGFydGljaXBhbnQpO1xuICAgICAgICBpZiAocGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KHBhcnRpY2lwYW50cywgdGVhbXMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgIH0sIDIwMDApO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgfSwgNTAwKTtcbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG5cbiAgICBjb25zdCBub2RlID0gYXJnc1swXTtcblxuICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWROb2RlKG5vZGUpKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHZvID0gZ2FtZUNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtb3ZlYWJsZU5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmVxdWFscyh0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgZ2FtZUNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgY2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHZvLmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gKHBhdGgubGVuZ3RoIC0gMSk7IC8vIERldHJhY3QgYnkgb25lLi4uIHRoZSBmaXJzdCBwYXRoIG5vZGUgZG9lc24ndCBjb3VudFxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHZvLmlkLCBwYXRoKTtcbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgd2Fsa2FibGVOb2RlcyA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVBc3NldCA9IGFwcC5hc3NldHMuZ2V0KDQwMjM1OTY2KTtcbiAgICBjb25zdCBjb250YWluZXIgPSBhcHAucm9vdC5maW5kQnlOYW1lKFwiV29ybGRPYmplY3RzXCIpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHdhbGthYmxlTm9kZXMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHdhbGthYmxlVGlsZUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIHRpbGUuc2V0TG9jYWxQb3NpdGlvbihub2RlLngsIG5vZGUueSwgbm9kZS56KTtcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRpbGUpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2Fsa2FibGVfdGlsZScpO1xuICAgIGZvciAoY29uc3Qgd2Fsa2FibGVUaWxlRW50aXR5IG9mIHdhbGthYmxlVGlsZUVudGl0aWVzKSB7XG4gICAgICAgIHdhbGthYmxlVGlsZUVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3RhclwiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBtb3ZlYWJsZU5vZGVzKTtcblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSBcIi4vR2FtZUNvbW1hbmRzXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRNb3ZlbWVudENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBlbmROb2RlO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgaWQpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCB3ZWFwb25Qcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvblByb3h5LmdldFdlYXBvbkNhdGVnb3J5KHBsYXllckNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snICYmIHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSywgaWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEssIGlkKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmICghY29tYmF0UHJveHkgfHwgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIC8vIG5vdCB5b3VyIHR1cm5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJDaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIDw9IDApIHtcbiAgICAgICAgICAgIC8vIG91dCBvZiBhY3Rpb25zXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk91dCBvZiBhY3Rpb25zXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJObyBsaW5lIG9mIHNpZ2h0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgICAgICAgICAgLy8gcGF0aCBsZW5ndGggaW5jbHVkZXMgY3VycmVudCBub2RlLCBzbyBkZWR1Y3Qgb24gdG8gd29yayBvdXQgYWN0dWFsIG1vdmVhYmxlIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhUb1RhcmdldCAmJiBwYXRoVG9UYXJnZXQubGVuZ3RoIC0gMSA8PSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS52by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3ZWFwb24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCwgcGF0aFRvVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBwYXRoVG9UYXJnZXQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIkNhbm5vdCByZWFjaCB0YXJnZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHRhcmdldEN1cnJyZW50Tm9kZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgcmV0dXJuIGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh0YXJnZXRDdXJycmVudE5vZGUpKTtcbn1cblxuZnVuY3Rpb24gY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgcGxheWVyUG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHBsYXllckNoYXJhY3RlclByb3h5KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuXG4gICAgcmV0dXJuICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwocGxheWVyUG9pbnQsIHRhcmdldFBvaW50KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25UeXBlcyB9IGZyb20gJy4uL2RhdGEvV2VhcG9uVHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgYXR0YWNrZXJXZWFwb25Ta2lsbCA9IGAke2F0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuICAgIGNvbnN0IGRlZmVuZGVyV2VhcG9uU2tpbGwgPSBgJHtkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcblxuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlcldlYXBvblNraWxsKTtcbiAgICBjb25zdCBkZWZlbmRlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoZGVmZW5kZXJXZWFwb25Ta2lsbCk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJTa2lsbFRvdGFsKTtcbiAgICBjb25zdCBkZWZlbmRlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJTa2lsbFRvdGFsKTtcblxuICAgIC8vIFJlZHVjZSBhY3Rpb25zXG4gICAgYXR0YWNrZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIC09IDE7XG5cbiAgICAvLyBEZXRlcm1pbmUgd2lubmVyXG4gICAgaWYgKGF0dGFja2VyUm9sbCA9PT0gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbkNhdGVnb3J5ID0gd2VhcG9uc1Byb3h5LmdldFdlYXBvbkNhdGVnb3J5KGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24pO1xuICAgICAgICAgICAgY29uc3QgaGFzTWVsZWVXZWFwb24gPSB3ZWFwb25DYXRlZ29yeSA9PT0gXCJtZWxlZVwiO1xuXG4gICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihkZWZlbmRlclJvbGwsIGF0dGFja2VyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb24gPSAoaGFzTWVsZWVXZWFwb24pID8gZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA6IFdlYXBvblR5cGVzLlVOQVJNRUQ7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKHdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBhdHRhY2tlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtkZWZlbmRlcklkfSBkYW1hZ2VzICR7YXR0YWNrZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICAgICAgaWYgKGF0dGFja2VyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSAmJiBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHRhcmdldElkID0gYXJnc1sxXTtcbiAgICBjb25zdCBwYXRoID0gYXJnc1syXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY2hhcmFjdGVyUHJveHkudXNlTW92ZW1lbnQocGF0aC5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuXG4gICAgY29uc3QgZmluaXNoTW92ZVByb21pc2UgPSBjaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpO1xuICAgIGZpbmlzaE1vdmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGNoYXJhY3RlcklkLCB0YXJnZXRJZCk7XG5cbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnNvbGUubG9nKGBLaWxsIGNoYXJhY3Rlcjo6ICR7Y2hhcmFjdGVySWR9YCk7XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZGVhdGhcIiwgY2hhcmFjdGVyUHJveHkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICBpZiAoY2hhcmFjdGVyUHJveHkpIHtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICBjb21iYXRQcm94eS5yZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGxvc2luZ1RlYW0gPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgaWYgKGZhY2FkZS5oYXNNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKSkge1xuICAgICAgICBmYWNhZGUucmVtb3ZlTWVkaWF0b3IoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG5cbiAgICBpZiAobG9zaW5nVGVhbSA9PT0gJ3BsYXllcl90ZWFtJykge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkdBTUVfT1ZFUik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBHYW1lIE92ZXJgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFZpY3RvcnlgKTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEJhc2ljTWVsZWVUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZSc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEJvdEJlaGF2aW91clR5cGVzIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcyc7XG5pbXBvcnQgeyBCYXNpY1JhbmdlZFRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2JvdEJlaGF2aW91ci9Cb3RCZWhhdmlvdXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZW5lbXlJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgYm90QmVoYXZpb3VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShCb3RCZWhhdmlvdXJQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0cmVlID0gYm90QmVoYXZpb3VyUHJveHkuZ2V0VHJlZShlbmVteVByb3h5LmJvdEJlaGF2aW91cik7XG4gICAgaWYgKHRyZWUpIHtcbiAgICAgICAgdHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIC8vIFNjb3JlcyBmb3IgY29tcGFyaXNzb25cbiAgICBsZXQgYXR0YWNrZXJTY29yZSA9IDA7XG4gICAgbGV0IGRlZmVuZGVyU2NvcmUgPSAwO1xuXG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgYXR0YWNrZXJOb2RlID0gYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBsZXQgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgbGV0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVyTm9kZSA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGNvbnN0IGF0dGFja2VyV2VhcG9uU2tpbGwgPSBgJHthdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcbiAgICBjb25zdCBhdHRhY2tlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoYXR0YWNrZXJXZWFwb25Ta2lsbCk7XG5cbiAgICBhdHRhY2tlclNjb3JlICs9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclNraWxsVG90YWwpO1xuICAgIGRlZmVuZGVyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpc0luQ292ZXIgPSBnYW1lTWFwUHJveHkuaXNJbkNvdmVyKFxuICAgICAgICBuZXcgcGMuVmVjMyhkZWZlbmRlck5vZGUueCwgZGVmZW5kZXJOb2RlLnksIGRlZmVuZGVyTm9kZS56KSxcbiAgICAgICAgbmV3IHBjLlZlYzMoYXR0YWNrZXJOb2RlLngsIGF0dGFja2VyTm9kZS55LCBhdHRhY2tlck5vZGUueikpO1xuXG4gICAgaWYgKGlzSW5Db3Zlcikge1xuICAgICAgICBkZWZlbmRlclNjb3JlICs9IDI7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgLy8gVE9ETzogbWFrZSB0aGlzIG1vcmUgc29waGlzdGljYXRlZFxuICAgIGNvbnN0IHByb2plY3RpbGVPcmlnaW4gPSBuZXcgcGMuVmVjMyhhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlVGFyZ2V0ID0gbmV3IHBjLlZlYzMoZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZS54LFxuICAgICAgICBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLnkgKyAxLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLnopO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgIHByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuY3JlYXRlUHJvamVjdGlsZSgnY3Jvc3Nib3dfYm9sdCcsIHByb2plY3RpbGVPcmlnaW4sIHByb2plY3RpbGVUYXJnZXQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBvdXRjb21lXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJTY29yZSA+IGRlZmVuZGVyU2NvcmUpIHtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBpcyBpbiBtZWxlZSBhbmQgcm9sbCBmb3IgbmV3IHRhcmdldFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVpZ2hib3VyaW5nTm9kZXMgPSBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZVRhcmdldHMgPSBbZGVmZW5kZXJJZF07XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBjb21iYXRQcm94eS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFydGljaXBhbnRQcm94eS5pc0RlYWQgJiYgbmVpZ2hib3VyaW5nTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBhcnRpY2lwYW50UHJveHkuY3VycmVudE5vZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlVGFyZ2V0cy5wdXNoKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVySWQgPSBwb3NzaWJsZVRhcmdldHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGVUYXJnZXRzLmxlbmd0aCldO1xuICAgICAgICAgICAgICAgICAgICBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclNjb3JlLCBkZWZlbmRlclNjb3JlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7YXR0YWNrZXJJZH0gZGFtYWdlcyAke2RlZmVuZGVySWR9IGZvciAke2RhbWFnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRvZGdlXCIsIGRlZmVuZGVyUHJveHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWlwV2VhcG9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYE11c3QgY2hhbmdlIHdlYXBvbiBvbiB5b3VyIHR1cm5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB3ZWFwb24gPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA9IHdlYXBvbjtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtjaGFyYWN0ZXJJZH0gZXF1aXBzICR7d2VhcG9ufWApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHN0YW5kaW5nTm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUoc3RhbmRpbmdQb3NpdGlvbik7XG4gICAgY29uc3QgcGxheWVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgcGxheWVyTWVkaWF0b3IubW92ZVRvTm9kZVdpdGhQcm9taXNlKHN0YW5kaW5nTm9kZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlckFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDA1MjMzMzYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG4gICAgY29uc3QgcGxheWVyRW50aXR5ID0gcGxheWVyQ2hhcmFjdGVyQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBjb250YWluZXIuYWRkQ2hpbGQocGxheWVyRW50aXR5KTtcblxuICAgIGNvbnN0IG1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHBvcnRhbCA9IG1hcFByb3h5LnJldHJpZXZlUG9ydGFsKHBvcnRhbElkKTtcbiAgICBwbGF5ZXJFbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3J0YWwuc3RhbmRpbmdQb2ludCk7XG5cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuXG4gICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoVG9UYXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICghc2hvcnRlc3RQYXRoIHx8IChvdGhlclBhdGggJiYgb3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIilcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IGRpYWxvZ3VlVHJlZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmRpYWxvZ3VlVHJlZTtcbiAgICBjb25zdCBzdG9yeVRyZWUgPSBzdG9yeVByb3h5LnN0YXJ0RGlhbG9ndWVUcmVlKGRpYWxvZ3VlVHJlZSk7XG5cbiAgICBnYW1lc3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkRJQUxPR1VFKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0YXJnZXRDaGFyYWN0ZXJJZCwgcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMKTtcblxuICAgIGNvbnN0IG9wZW5pbmdTdGVwID0gc3RvcnlQcm94eS5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogZGlhbG9ndWVUcmVlLFxuICAgICAgICBzdGVwOiBvcGVuaW5nU3RlcFxuICAgIH0pO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5leHRTdGVwID0gc3RvcnlQcm94eS5jb250aW51ZUN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGlmIChuZXh0U3RlcCkge1xuXG4gICAgICAgIGlmIChuZXh0U3RlcC5jaG9pY2VzKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbiBvZiBuZXh0U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLm5hbWUsIC4uLm5vdGlmaWNhdGlvbi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaG9pY2VJbmRleCA9IGFyZ3NbMF07XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRDaG9pY2UgPSBzdG9yeVByb3h5LnNlbGVjdENob2ljZShjaG9pY2VJbmRleCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgdGl0bGU6IFwiWU9VXCIsXG4gICAgICAgIHRleHQ6IHNlbGVjdGVkQ2hvaWNlLnRleHQsXG4gICAgICAgIHRpdGxlQ29sb3VyOiAnI0RCODMxQydcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgc3RlcDogcmVzcG9uc2VcbiAgICB9KTtcblxuICAgIGlmIChzZWxlY3RlZENob2ljZS50ZXN0KSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1QsIHNlbGVjdGVkQ2hvaWNlLnRlc3QpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkQ2hvaWNlLmdvdG8pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBzZWxlY3RlZENob2ljZS5nb3RvKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5ld05vZGUgPSBhcmdzWzBdO1xuICAgIHN0b3J5UHJveHkuZ29Ub05vZGUobmV3Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudFN0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuXG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IGN1cnJlbnRTdGVwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50U3RlcCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90aWZpY2F0aW9uIG9mIGN1cnJlbnRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU0hPT1QgQ09NTUFORDogJHtub3RpZmljYXRpb24ubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24ubmFtZSwgLi4ubm90aWZpY2F0aW9uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZXN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTik7XG5cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMKTtcblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cblxuICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICBpZiAocGF0aFRvVGFyZ2V0KSB7XG4gICAgICAgIHBsYXllckNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aFRvVGFyZ2V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IG5ld0FjdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gbmV3QWN0aW9uO1xuXG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCB0ZXN0ID0gYXJnc1swXTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCBwbGF5ZXJTa2lsbCA9IGNoYXJhY3RlclByb3h5LmdldFNraWxsVG90YWwodGVzdC5za2lsbClcblxuICAgIC8vIFJvbGwgZGljZVxuICAgIGNvbnN0IGRpZTEgPSByb2xsRGljZSgpO1xuICAgIGNvbnN0IGRpZTIgPSByb2xsRGljZSgpO1xuXG4gICAgY29uc3QgdG90YWxSb2xsID0gZGllMSArIGRpZTI7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gcGxheWVyU2tpbGwgPj0gdG90YWxSb2xsO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCwgdGVzdC5za2lsbCwgcGxheWVyU2tpbGwsIGRpZTEsIGRpZTIsIHN1Y2Nlc3MpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFN1Y2NlZWRlZCAke3Rlc3Quc2tpbGx9IHdpdGggYSAke3BsYXllclNraWxsfSB2cyAke2RpZTF9KyR7ZGllMn1gKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHRlc3Quc3VjY2Vzcy5nb3RvKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgJHt0ZXN0LnNraWxsfSB3aXRoIGEgJHtwbGF5ZXJTa2lsbH0gdnMgJHtkaWUxfSske2RpZTJ9YCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCB0ZXN0LmZhaWx1cmUuZ290byk7XG5cbiAgICB9XG59XG5cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBJbnZlbnRvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUwsIGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zLCBpbnZlbnRvcnlQcm94eS5lcXVpcG1lbnRTbG90cyk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpbnZlbnRvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEludmVudG9yeVByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgaXRlbVVVSUQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IG5ld0luZGV4ID0gYXJnc1sxXTtcblxuICAgIGludmVudG9yeVByb3h5LnJlb3JkZXJJbnZlbnRvcnlJdGVtKGl0ZW1VVUlELCBuZXdJbmRleCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUwsIGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zLCBpbnZlbnRvcnlQcm94eS5lcXVpcG1lbnRTbG90cyk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgSXRlbXNQcm94eSB9IGZyb20gJy4uL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5SXRlbSB9IGZyb20gXCIuLi9tb2RlbC9pbnZlbnRvcnkvaXRlbXMvSW52ZW50b3J5SXRlbVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpbnZlbnRvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEludmVudG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGl0ZW1JZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZXF1aXBtZW50S2V5ID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGl0ZW1JbkludmVudG9yeSA9IGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xuXG4gICAgaWYgKGl0ZW1JbkludmVudG9yeSkge1xuICAgICAgICBjb25zdCBzdWNjZXNzZnVsbHlFcXVpcHBlZCA9IGludmVudG9yeVByb3h5LmF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdChlcXVpcG1lbnRLZXksIGl0ZW1JbkludmVudG9yeSk7XG5cbiAgICAgICAgaWYgKHN1Y2Nlc3NmdWxseUVxdWlwcGVkKSB7XG4gICAgICAgICAgICBpZiAoaXRlbUluSW52ZW50b3J5LnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBcInBsYXllclwiLCBpdGVtSW5JbnZlbnRvcnkuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbXNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEl0ZW1zUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW0gPSBuZXcgSW52ZW50b3J5SXRlbShpdGVtc1Byb3h5LmdldEl0ZW1EYXRhKGl0ZW1JZCkpO1xuXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxseUVxdWlwcGVkID0gaW52ZW50b3J5UHJveHkuYXR0ZW1wdFRvRXF1aXBJdGVtVG9TbG90KGVxdWlwbWVudEtleSwgaW52ZW50b3J5SXRlbSk7XG5cbiAgICAgICAgaWYgKHN1Y2Nlc3NmdWxseUVxdWlwcGVkKSB7XG4gICAgICAgICAgICBpZiAoaW52ZW50b3J5SXRlbS50eXBlID09PSBcIndlYXBvblwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgXCJwbGF5ZXJcIiwgaW52ZW50b3J5SXRlbS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc3QgaXRlbSA9IGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zW2l0ZW1JbmRleF07XG5cblxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRVFVSVBQRURfU0xPVCwgaW52ZW50b3J5UHJveHkuZXF1aXBtZW50U2xvdHMpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCwgaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXMsIGludmVudG9yeVByb3h5LmVxdWlwbWVudFNsb3RzKTtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBJdGVtc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvaXRlbXMvSXRlbXNQcm94eSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlJdGVtIH0gZnJvbSAnLi4vbW9kZWwvaW52ZW50b3J5L2l0ZW1zL0ludmVudG9yeUl0ZW0nO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGl0ZW1JZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpdGVtc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSXRlbXNQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpbnZlbnRvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEludmVudG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGludmVudG9yeUl0ZW0gPSBuZXcgSW52ZW50b3J5SXRlbShpdGVtc1Byb3h5LmdldEl0ZW1EYXRhKGl0ZW1JZCkpO1xuICAgIGludmVudG9yeVByb3h5LmFkZEludmVudG9yeUl0ZW0oaW52ZW50b3J5SXRlbSk7XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRXF1aXBwZWRJdGVtQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaW52ZW50b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJbnZlbnRvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZXF1aXBtZW50U2xvdEtleSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZXF1aXBwZWRJdGVtID0gaW52ZW50b3J5UHJveHkuZ2V0RXF1aXBwZWRJdGVtKGVxdWlwbWVudFNsb3RLZXkpO1xuXG4gICAgaWYgKGVxdWlwcGVkSXRlbSkge1xuICAgICAgICBpZiAoZXF1aXBwZWRJdGVtLnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uICE9PSBcImF0dGFja1wiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgXCJwbGF5ZXJcIiwgZXF1aXBwZWRJdGVtLmlkKTtcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJhdHRhY2tcIjtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX1VTRV9JVEVNX0JVVFRPTl9ISUdITElHSFQsIGVxdWlwbWVudFNsb3RLZXksIHRydWUpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPSBcImludGVyYWN0XCI7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hULCBlcXVpcG1lbnRTbG90S2V5LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBwYXJzZUdhbWVNYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnR1cENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlU2NlbmVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZVNjZW5lQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydENvbWJhdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kJztcbmltcG9ydCB7IGVuZENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IGVuZW15VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5lbXlUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZE5vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TaG93V2Fsa2FibGVBcmVhQ29tbWFuZCc7XG5pbXBvcnQgeyBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCc7XG5pbXBvcnQgeyBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCc7XG5pbXBvcnQgeyBlbmRNb3ZlbWVudENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IGVuZENvbWJhdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGVxdWlwV2VhcG9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FcXVpcFdlYXBvbkNvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kJztcbmltcG9ydCB7IGFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9BZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrJztcbmltcG9ydCB7IHN0YXJ0RGlhbG9ndWVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0RGlhbG9ndWVDb21tYW5kJztcbmltcG9ydCB7IGNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCc7XG5pbXBvcnQgeyBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Hb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmREaWFsb2d1ZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kRGlhbG9ndWVDb21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kJztcbmltcG9ydCB7IGNsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCc7XG5pbXBvcnQgeyBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VxdWlwSXRlbVRvU2xvdENvbW1hbmQnO1xuaW1wb3J0IHsgYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9BZGRJdGVtdG9JbnZlbnRvcnlDb21tYW5kJztcbmltcG9ydCB7IHVzZUVxdWlwcGVkSXRlbUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvVXNlRXF1aXBwZWRJdGVtQ29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0ssIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGVuZENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBlcXVpcFdlYXBvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsIG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLLCBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9ESUFMT0dVRSwgc3RhcnREaWFsb2d1ZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09OVElOVUVfRElBTE9HVUVfTk9ERSwgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UsIHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUsIGVuZERpYWxvZ3VlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCwgcmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCk7XG5cbiAgICAgICAgLy8gSW52ZW50b3J5IGNvbW1hbmRzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DTElDS19JTlZFTlRPUllfQlVUVE9OLCBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVPUkRFUl9JTlZFVE9SWV9JVEVNLCByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfSVRFTV9UT19TTE9ULCBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5VU0VfRVFVSVBQRURfSVRFTSwgdXNlRXF1aXBwZWRJdGVtQ29tbWFuZCk7XG4gICAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIEJvdEJlaGF2aW91clR5cGVzIHtcbiAgICBzdGF0aWMgZ2V0IE5PTkUoKSB7IHJldHVybiAwIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19NRUxFRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IEJBU0lDX1JBTkdFRCgpIHsgcmV0dXJuIDIgfTtcblxufVxuXG5leHBvcnQgY29uc3QgYm90QmVoYXZpb3VyRW51bXMgPSBbXG4gICAgeyBOT05FOiBCb3RCZWhhdmlvdXJUeXBlcy5OT05FIH0sXG4gICAgeyBCQVNJQ19NRUxFRTogQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfTUVMRUUgfSxcbiAgICB7IEJBU0lDX1JBTkdFRDogQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfUkFOR0VEIH0sXG5dIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIEVuZENvbWJhdFR1cm4gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFNldFBsYXllckFzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCd0YXJnZXQnLCAncGxheWVyJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzQWN0aW9uc1JlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBIYXNNb3ZlbWVudFJlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc0RlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzVGFyZ2V0RGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmlkID0gY3JlYXRlVVVJRCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgW107XG4gICAgfVxuXG4gICAgZXhlY3V0ZSh0aWNrKSB7XG4gICAgICAgIC8qIEVOVEVSICovXG4gICAgICAgIHRoaXMuX2VudGVyKHRpY2spO1xuXG4gICAgICAgIC8qIE9QRU4gKi9cbiAgICAgICAgaWYgKCF0aWNrLmJsYWNrYm9hcmQuZ2V0KCdpc09wZW4nLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9vcGVuKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVElDSyAqL1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLl90aWNrKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFICovXG4gICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIEVYSVQgKi9cbiAgICAgICAgdGhpcy5fZXhpdCh0aWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIF9lbnRlcih0aWNrKSB7XG4gICAgICAgIHRpY2suZW50ZXJOb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmVudGVyKHRpY2spO1xuICAgIH1cblxuICAgIF9vcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5vcGVuTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgdHJ1ZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5vcGVuKHRpY2spO1xuICAgIH1cblxuICAgIF90aWNrKHRpY2spIHtcbiAgICAgICAgdGljay50aWNrTm9kZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGljayh0aWNrKTtcbiAgICB9XG5cbiAgICBfY2xvc2UodGljaykge1xuICAgICAgICB0aWNrLmNsb3NlTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgZmFsc2UsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuY2xvc2UodGljayk7XG4gICAgfVxuXG4gICAgX2V4aXQodGljaykge1xuICAgICAgICB0aWNrLmV4aXROb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4aXQodGljayk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcmlkZSB0aGVzZVxuICAgIGVudGVyKHRpY2spIHsgfVxuICAgIG9wZW4odGljaykgeyB9XG4gICAgdGljayh0aWNrKSB7IHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1IgfVxuICAgIGNsb3NlKHRpY2spIHsgfVxuICAgIGV4aXQodGljaykgeyB9XG59IiwiZXhwb3J0IGNsYXNzIEJlaGF2aW91clN0YXR1cyB7XG4gICAgc3RhdGljIGdldCBTVUNDRVNTKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgRkFJTFVSRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IFJVTk5JTkcoKSB7IHJldHVybiAyIH07XG4gICAgc3RhdGljIGdldCBFUlJPUigpIHsgcmV0dXJuIDMgfTtcbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWFzdGVyTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZE5vZGUgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGROb2RlLmV4ZWN1dGUodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNZW1TZXF1ZW5jZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBvcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgMCwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdydW5uaW5nQ2hpbGQnLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBjaGlsZDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmNoaWxkcmVuW2ldLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgaSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgUHJpb3JpdHkgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgIH1cblxufSIsIlxuaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi9CZWhhdmlvdXJTdGF0dXMnO1xuZXhwb3J0IGNsYXNzIEludmVydGVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuXG4gICAgICAgIC8vIHByZXN1bWUgaW52ZXJ0ZXIgaGFzIG9uZSBjaGlsZFxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIGlmIChzdGF0dXMgPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpXG4gICAgICAgICAgICBzdGF0dXMgPSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIE1lbGVlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzTmV4dFRvUGxheWVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhjaGFyYWN0ZXJDdXJyZW50Tm9kZSkpO1xuXG4gICAgICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgTWVsZWVBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IElzTmV4dFRvUGxheWVyIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0JztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNNZWxlZVRyZWUgZXh0ZW5kcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2Jhc2ljTWVsZWVUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IElzTmV4dFRvUGxheWVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVsZWVBdHRhY2tUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihtaW5EaXN0YW5jZSwgbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgc3VwZXIoW10pO1xuICAgICAgICB0aGlzLm1pbkRpc3RhbmNlID0gbWluRGlzdGFuY2U7XG4gICAgICAgIHRoaXMubWF4RGlzdGFuY2UgPSBtYXhEaXN0YW5jZTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgbWluRGlzdGFuY2VTcXJ0ID0gTWF0aC5wb3codGhpcy5taW5EaXN0YW5jZSwgMik7XG4gICAgICAgIGNvbnN0IG1heERpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWF4RGlzdGFuY2UsIDIpO1xuXG4gICAgICAgIGNvbnN0IG1vdmVQb2ludHNBdmFpbGFibGUgPSBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgY2hhcmFjdGVyQ3VycmVudE5vZGUpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA+PSBtaW5EaXN0YW5jZVNxcnQgJiYgZGlzdGFuY2VUb1RhcmdldCA8PSBtYXhEaXN0YW5jZVNxcnQpIHtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgd2l0aGluIHJhbmdlLCBnZXQgb24gd2l0aCBpdFxuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbW92ZVBvaW50c0F2YWlsYWJsZSk7XG4gICAgICAgICAgICBpZiAobW92ZWFibGVOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPCBtaW5EaXN0YW5jZVNxcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb28gZmFyIGF3YXlcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBtb3ZlYWJsZU5vZGVzLnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikgKyBNYXRoLnBvdyhwMi56IC0gcDEueiwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgUGlja05leHRBY3Rpb24gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGNoYXJhY3RlcklkKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcblxuZXhwb3J0IGNsYXNzIENhblNlZVRhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgLy8gTG9vayB0byB0aGUgY2VudGVyIG9mIGVhY2ggY2hhcmFjdGVyXG4gICAgICAgIGNvbnN0IGZyb21Qb3MgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KGNoYXJhY3RlclByb3h5KTtcbiAgICAgICAgY29uc3QgdG9Qb3MgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHRhcmdldFByb3h5KTtcblxuICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdG9Qb3MgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHRhcmdldFByb3h5KTtcblxuICAgICAgICAgICAgICAgIC8vIEZvbGxvdyBwYXRoIHRvIHNlZSBpZiB0YXJnZXQgaXMgdmlzaWJsZSBmcm9tIGFueSBwb2ludFxuICAgICAgICAgICAgICAgIGxldCBkZWxldGVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aE5vZGUgPSBwYXRoW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Qb3MgPSBuZXcgcGMuVmVjMyhwYXRoTm9kZS54LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5vZGUueSArIGNoYXJhY3RlclByb3h5LmhlaWdodCAqIDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnopO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhblNlZVRhcmdldCA9ICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoZnJvbVBvcywgdG9Qb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDb3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRyaW0gdG8gcG9pbnQgb2YgdmlzaWJpbGl0eVxuICAgICAgICAgICAgICAgIHBhdGguc3BsaWNlKDAsIGRlbGV0ZUNvdW50KTtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKTtcbn1cbiIsImltcG9ydCB7IE1hc3Rlck5vZGUgfSBmcm9tICcuLi9jb3JlL01hc3Rlck5vZGUnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ29tbWFuZFRyZWUgfSBmcm9tICcuL0NoYXJhY3RlckNvbW1hbmRUcmVlJztcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSAnLi4vY29yZS9Qcmlvcml0eSc7XG5pbXBvcnQgeyBTZXRQbGF5ZXJBc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldCc7XG5pbXBvcnQgeyBFbmRDb21iYXRUdXJuIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4nO1xuaW1wb3J0IHsgTWVtU2VxdWVuY2UgfSBmcm9tICcuLi9jb3JlL01lbVNlcXVlbmNlJztcbmltcG9ydCB7IEludmVydGVyIH0gZnJvbSAnLi4vY29yZS9kZWNvcmF0b3JzL0ludmVydGVyJztcbmltcG9ydCB7IElzVGFyZ2V0RGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQnO1xuaW1wb3J0IHsgSXNEZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZCc7XG5pbXBvcnQgeyBIYXNNb3ZlbWVudFJlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZyc7XG5pbXBvcnQgeyBIYXNBY3Rpb25zUmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcnO1xuaW1wb3J0IHsgUmFuZ2VBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUmFuZ2VBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQnO1xuaW1wb3J0IHsgUGlja05leHRBY3Rpb24gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUGlja05leHRBY3Rpb24nO1xuaW1wb3J0IHsgQ2FuU2VlVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldCc7XG5pbXBvcnQgeyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBCYXNpY1JhbmdlZFRyZWUgZXh0ZW5kcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2Jhc2ljUmFuZ2VkVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBDYW5TZWVUYXJnZXQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0KDksIDEyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQaWNrTmV4dEFjdGlvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc0FjdGlvbnNSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhblNlZVRhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmFuZ2VBdHRhY2tUYXJnZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IEVuZENvbWJhdFR1cm4oKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApXG4gICAgICAgIF0pO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgQmxhY2tib2FyZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMuYmFzZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIGdsb2JhbCBpbmZvcm1hdGlvblxuICAgICAgICB0aGlzLnRyZWVNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSB0cmVlIGFuZCBub2RlIGluZm9ybWF0aW9uXG4gICAgfVxuXG4gICAgZ2V0VHJlZU1lbW9yeSh0cmVlU2NvcGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSkge1xuICAgICAgICAgICAgdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0gPSB7XG4gICAgICAgICAgICAgICAgbm9kZU1lbW9yeToge30sXG4gICAgICAgICAgICAgICAgb3Blbk5vZGVzOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0Tm9kZU1lbW9yeSh0cmVlTWVtb3J5LCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdHJlZU1lbW9yeVsnbm9kZU1lbW9yeSddO1xuICAgICAgICBpZiAoIW1lbW9yeS5oYXNPd25Qcm9wZXJ0eShub2RlU2NvcGUpKSB7XG4gICAgICAgICAgICBtZW1vcnlbbm9kZVNjb3BlXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeVtub2RlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICB2YXIgbWVtb3J5ID0gdGhpcy5iYXNlTWVtb3J5O1xuXG4gICAgICAgIGlmICh0cmVlU2NvcGUpIHtcbiAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0VHJlZU1lbW9yeSh0cmVlU2NvcGUpO1xuXG4gICAgICAgICAgICBpZiAobm9kZVNjb3BlKSB7XG4gICAgICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXROb2RlTWVtb3J5KG1lbW9yeSwgbm9kZVNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnk7XG4gICAgfTtcblxuICAgIHNldChrZXksIHZhbHVlLCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIG1lbW9yeVtrZXldID0gdmFsdWU7XG4gICAgfTtcblxuICAgIGdldChrZXksIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgcmV0dXJuIG1lbW9yeVtrZXldO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgVGljayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmRlYnVnID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVudGVyTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMubm9kZUNvdW50Kys7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnB1c2gobm9kZSk7XG4gICAgfVxuXG4gICAgb3Blbk5vZGUobm9kZSkge1xuXG4gICAgfVxuXG4gICAgdGlja05vZGUobm9kZSkge1xuXG4gICAgfVxuXG4gICAgY2xvc2VOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucG9wKCk7XG4gICAgfVxuXG4gICAgZXhpdE5vZGUobm9kZSkge1xuXG4gICAgfVxufSIsImltcG9ydCB7IFRpY2sgfSBmcm9tIFwiLi9UaWNrXCI7XG5cbmV4cG9ydCBjbGFzcyBCZWhhdmlvdXJUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoaWQpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdGljayh0YXJnZXQsIGJsYWNrYm9hcmQpIHtcbiAgICAgICAgLyogQ1JFQVRFIEEgVElDSyBPQkpFQ1QgKi9cbiAgICAgICAgY29uc3QgdGljayA9IG5ldyBUaWNrKCk7XG4gICAgICAgIHRpY2sudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQgPSBibGFja2JvYXJkO1xuICAgICAgICB0aWNrLnRyZWUgPSB0aGlzO1xuXG4gICAgICAgIC8qIFRJQ0sgTk9ERSAqL1xuICAgICAgICB0aGlzLnJvb3QuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSBOT0RFUyBGUk9NIExBU1QgVElDSywgSUYgTkVFREVEICovXG4gICAgICAgIGNvbnN0IGxhc3RPcGVuTm9kZXMgPSBibGFja2JvYXJkLmdldCgnb3Blbk5vZGVzJywgdGhpcy5pZCkgfHwgW107XG4gICAgICAgIGNvbnN0IGN1cnJPcGVuTm9kZXMgPSB0aWNrLm9wZW5Ob2Rlcy5zbGljZSgwKTtcblxuICAgICAgICAvLyBkb2VzIG5vdCBjbG9zZSBpZiBpdCBpcyBzdGlsbCBvcGVuIGluIHRoaXMgdGlja1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGxhc3RPcGVuTm9kZXMubGVuZ3RoLCBjdXJyT3Blbk5vZGVzLmxlbmd0aCk7IGkrKykge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIGlmIChsYXN0T3Blbk5vZGVzW2ldICE9PSBjdXJyT3Blbk5vZGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbG9zZSB0aGUgbm9kZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGxhc3RPcGVuTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgaS0tKSB7XG4gICAgICAgICAgICBsYXN0T3Blbk5vZGVzW2ldLmNsb3NlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogUE9QVUxBVEUgQkxBQ0tCT0FSRCAqL1xuICAgICAgICBibGFja2JvYXJkLnNldCgnb3Blbk5vZGVzJywgY3Vyck9wZW5Ob2RlcywgdGhpcy5pZCk7XG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdub2RlQ291bnQnLCB0aWNrLm5vZGVDb3VudCwgdGhpcy5pZCk7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmxhY2tib2FyZCB9IGZyb20gJy4uL2NvcmUvQmxhY2tib2FyZCc7XG5pbXBvcnQgeyBCZWhhdmlvdXJUcmVlIH0gZnJvbSAnLi4vY29yZS9CZWhhdmlvdXJUcmVlJztcblxuZXhwb3J0IGNsYXNzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmlkID0gJ2Jhc2ljTWVsZWVUcmVlJztcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gbmV3IEJsYWNrYm9hcmQoKTtcbiAgICAgICAgdGhpcy50cmVlID0gbmV3IEJlaGF2aW91clRyZWUoaWQpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIC8vIE92ZXJyaWRlIHRvIHNldCB0cmVlXG4gICAgfVxuXG4gICAgcnVuQ29tbWFuZHMoZmFjYWRlLCBjaGFyYWN0ZXJJZCkge1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiZmFjYWRlXCIsIGZhY2FkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImNoYXJhY3RlcklkXCIsIGNoYXJhY3RlcklkLCB0aGlzLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRyZWUudGljayh0aGlzLCB0aGlzLmJsYWNrYm9hcmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBHYW1lQ29tbWFuZHMge1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NDRU5FX0NPTVBMRVRFKCkgeyByZXR1cm4gXCJDSEFOR0VfU0NFTkVfQ09NUExFVEVcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVBQX0lOSVRJQUxJU0VEKCkgeyByZXR1cm4gXCJBUFBfSU5JVElBTElTRURcIiB9O1xuICAgIHN0YXRpYyBnZXQgUEFSU0VfR0FNRU1BUCgpIHsgcmV0dXJuIFwiUEFSU0VfR0FNRU1BUFwiIH07XG4gICAgc3RhdGljIGdldCBNQVBfR1JJRF9DUkVBVEVEKCkgeyByZXR1cm4gXCJNQVBfR1JJRF9DUkVBVEVEXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19XQVlQT0lOVCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fV0FZUE9JTlRcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwoKSB7IHJldHVybiBcIk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENPTUJBVF9OQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJDT01CQVRfTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0FNRVJBX1RBUkdFVCgpIHsgcmV0dXJuIFwiU0VUX0NBTUVSQV9UQVJHRVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgSU5QVVRfRFJBR19NT1VTRSgpIHsgcmV0dXJuIFwiSU5QVVRfRFJBR19NT1VTRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE1PVkVEX1RPX05PREUoKSB7IHJldHVybiBcIk1PVkVEX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgRklOSVNIRURfTU9WRSgpIHsgcmV0dXJuIFwiRklOSVNIRURfTU9WRVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVF9DT01CQVQoKSB7IHJldHVybiBcIlNUQVJUX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX1RPQVNUX01FU1NBR0UoKSB7IHJldHVybiBcIlNIT1dfVE9BU1RfTUVTU0FHRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfUk9VTkQoKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1JPVU5EXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVCgpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIkVORF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBFTkVNWV9UVVJOKCkgeyByZXR1cm4gXCJFTkVNWV9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVEVEX05PREUoKSB7IHJldHVybiBcIlNFTEVDVEVEX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OKCkgeyByZXR1cm4gXCJERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9BTE9OR19QQVRIKCkgeyByZXR1cm4gXCJOQVZJR0FURV9BTE9OR19QQVRIXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0hPV19XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJTSE9XX1dBTEtBQkxFX0FSRUFcIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJISURFX1dBTEtBQkxFX0FSRUFcIiB9O1xuXG5cbiAgICBzdGF0aWMgZ2V0IEVORF9NT1ZFTUVOVCgpIHsgcmV0dXJuIFwiRU5EX01PVkVNRU5UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQoKSB7IHJldHVybiBcIkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NIQVJBQ1RFUl9UT19OT0RFKCkgeyByZXR1cm4gXCJTRVRfQ0hBUkFDVEVSX1RPX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRUxFQ1RfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIlNFTEVDVF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFRPR0dMRV9CVVRUT04oKSB7IHJldHVybiBcIlRPR0dMRV9CVVRUT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBVU0VfUExBWUVSX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX1BMQVlFUl9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBSRVNPTFZFX0FUVEFDSygpIHsgcmV0dXJuIFwiUkVTT0xWRV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9SQU5HRURfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX1JBTkdFRF9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0soKSB7IHJldHVybiBcIk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVVBEQVRFX1NUQU1JTkEoKSB7IHJldHVybiBcIlVQREFURV9TVEFNSU5BXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfREVBVEgoKSB7IHJldHVybiBcIkRJU1BMQVlfREVBVEhcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9BVFRBQ0soKSB7IHJldHVybiBcIkRJU1BMQVlfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfSElUKCkgeyByZXR1cm4gXCJESVNQTEFZX0hJVFwiIH07XG4gICAgc3RhdGljIGdldCBLSUxMX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJLSUxMX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgQ0hBUkFDVEVSX0xPT0tfQVQoKSB7IHJldHVybiBcIkNIQVJBQ1RFUl9MT09LX0FUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TVEFNSU5BKCkgeyByZXR1cm4gXCJDSEFOR0VfU1RBTUlOQVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVRVUlQX1dFQVBPTigpIHsgcmV0dXJuIFwiRVFVSVBfV0VBUE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVTRV9BQ1RJT04oKSB7IHJldHVybiBcIlVTRV9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUygpIHsgcmV0dXJuIFwiRElTUExBWV9GTE9BVElOR19TVEFUVVNcIiB9O1xuICAgIHN0YXRpYyBnZXQgQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQKCkgeyByZXR1cm4gXCJBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVBcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEsoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMS1wiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19ESUFMT0dVRV9QQU5FTCgpIHsgcmV0dXJuIFwiU0hPV19ESUFMT0dVRV9QQU5FTFwiIH07XG4gICAgc3RhdGljIGdldCBISURFX0RJQUxPR1VFX1BBTkVMKCkgeyByZXR1cm4gXCJISURFX0RJQUxPR1VFX1BBTkVMXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04oKSB7IHJldHVybiBcIlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKCkgeyByZXR1cm4gXCJISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRElBTE9HVUVfU1RFUCgpIHsgcmV0dXJuIFwiRElTUExBWV9ESUFMT0dVRV9TVEVQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCgpIHsgcmV0dXJuIFwiRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgQ09OVElOVUVfRElBTE9HVUVfTk9ERSgpIHsgcmV0dXJuIFwiQ09OVElOVUVfRElBTE9HVUVfTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RfRElBTE9HVUVfQ0hPSUNFKCkgeyByZXR1cm4gXCJTRUxFQ1RfRElBTE9HVUVfQ0hPSUNFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCgpIHsgcmV0dXJuIFwiUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMRUFSX0RJQUxPR1VFX0NIT0lDRVMoKSB7IHJldHVybiBcIkNMRUFSX0RJQUxPR1VFX0NIT0lDRVNcIiB9O1xuICAgIHN0YXRpYyBnZXQgR09fVE9fRElBTE9HVUVfTk9ERSgpIHsgcmV0dXJuIFwiR09fVE9fRElBTE9HVUVfTk9ERVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0RJQUxPR1VFKCkgeyByZXR1cm4gXCJTVEFSVF9ESUFMT0dVRVwiIH07XG4gICAgc3RhdGljIGdldCBFTkRfRElBTE9HVUUoKSB7IHJldHVybiBcIkVORF9ESUFMT0dVRVwiIH07XG5cblxuICAgIHN0YXRpYyBnZXQgR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQoKSB7IHJldHVybiBcIkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEXCIgfTtcblxuICAgIC8vIEludmVudG9yeSBDb21tYW5kc1xuICAgIHN0YXRpYyBnZXQgQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTigpIHsgcmV0dXJuIFwiQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTlwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCgpIHsgcmV0dXJuIFwiRElTUExBWV9JTlZFTlRPUllfUEFORUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVPUkRFUl9JTlZFVE9SWV9JVEVNKCkgeyByZXR1cm4gXCJSRU9SREVSX0lOVkVUT1JZX0lURU1cIiB9O1xuICAgIHN0YXRpYyBnZXQgRVFVSVBfSVRFTV9UT19TTE9UKCkgeyByZXR1cm4gXCJFUVVJUF9JVEVNX1RPX1NMT1RcIiB9O1xuICAgIHN0YXRpYyBnZXQgQUREX0lURU1fVE9fSU5WRU5UT1JZKCkgeyByZXR1cm4gXCJBRERfSVRFTV9UT19JTlZFTlRPUllcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9FUVVJUFBFRF9TTE9UKCkgeyByZXR1cm4gXCJESVNQTEFZX0VRVUlQUEVEX1NMT1RcIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0VRVUlQUEVEX0lURU0oKSB7IHJldHVybiBcIlVTRV9FUVVJUFBFRF9JVEVNXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0VUX1VTRV9JVEVNX0JVVFRPTl9ISUdITElHSFQoKSB7IHJldHVybiBcIlNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hUXCIgfTtcblxufVxuIiwiZXhwb3J0IGNsYXNzIFdlYXBvblR5cGVzIHtcbiAgICAvLyBNRUxFRVxuICAgIHN0YXRpYyBnZXQgU1dPUkQoKSB7IHJldHVybiBcInN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFYRSgpIHsgcmV0dXJuIFwiYXhlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtOSUZFKCkgeyByZXR1cm4gXCJrbmlmZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFGRigpIHsgcmV0dXJuIFwic3RhZmZcIiB9O1xuICAgIHN0YXRpYyBnZXQgSEFNTUVSKCkgeyByZXR1cm4gXCJoYW1tZXJcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1BFQVIoKSB7IHJldHVybiBcInNwZWFyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BQ0UoKSB7IHJldHVybiBcIm1hY2VcIiB9O1xuICAgIHN0YXRpYyBnZXQgUE9MRUFSTSgpIHsgcmV0dXJuIFwicG9sZWFybVwiIH07XG4gICAgc3RhdGljIGdldCBNQVVMKCkgeyByZXR1cm4gXCJtYXVsXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEdSRUFUU1dPUkQoKSB7IHJldHVybiBcImdyZWF0c3dvcmRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0xVQigpIHsgcmV0dXJuIFwiY2x1YlwiIH07XG4gICAgc3RhdGljIGdldCBVTkFSTUVEKCkgeyByZXR1cm4gXCJ1bmFybWVkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNISUVMRCgpIHsgcmV0dXJuIFwic2hpZWxkXCIgfTtcblxuICAgIC8vIFJBTkdFRFxuICAgIHN0YXRpYyBnZXQgRlVTSUwoKSB7IHJldHVybiBcImZ1c2lsXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEJPVygpIHsgcmV0dXJuIFwiYm93XCIgfTtcbiAgICBzdGF0aWMgZ2V0IENST1NTQk9XKCkgeyByZXR1cm4gXCJjcm9zc2Jvd1wiIH07XG4gICAgc3RhdGljIGdldCBQSVNUT0xFVCgpIHsgcmV0dXJuIFwicGlzdG9sZXRcIiB9O1xufVxuXG5leHBvcnQgY29uc3Qgd2VhcG9uRW51bXMgPSBPYmplY3QuZW50cmllcyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhXZWFwb25UeXBlcykpXG4gICAgLmZpbHRlcigoW2tleSwgZGVzY3JpcHRvcl0pID0+IHR5cGVvZiBkZXNjcmlwdG9yLmdldCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAubWFwKChba2V5XSkgPT4ge1xuICAgICAgICByZXR1cm4geyBba2V5XTogV2VhcG9uVHlwZXNba2V5XSB9O1xuICAgIH0pOyIsImltcG9ydCB7IEJvdEJlaGF2aW91clR5cGVzIH0gZnJvbSBcIi4uLy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXNcIjtcbmltcG9ydCB7IEJhc2ljTWVsZWVUcmVlIH0gZnJvbSBcIi4uLy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWVcIjtcbmltcG9ydCB7IEJhc2ljUmFuZ2VkVHJlZSB9IGZyb20gJy4uLy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNSYW5nZWRUcmVlJztcblxuZXhwb3J0IGNsYXNzIEJvdEJlaGF2aW91cnNWTyB7XG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzLCB0ZWFtcykge1xuICAgICAgICB0aGlzLmJlaGF2aW91clRyZWVzID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIHRoaXMuYmVoYXZpb3VyVHJlZXMuc2V0KEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFLCBuZXcgQmFzaWNNZWxlZVRyZWUoKSk7XG4gICAgICAgIHRoaXMuYmVoYXZpb3VyVHJlZXMuc2V0KEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRCwgbmV3IEJhc2ljUmFuZ2VkVHJlZSgpKTtcbiAgICB9XG5cbiAgICBnZXRUcmVlKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmVoYXZpb3VyVHJlZXMuZ2V0KHR5cGUpO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgQ29tYmF0Vk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGVhbXMgPSB0ZWFtcztcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmRJbml0aWF0aXZlWzBdO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVDaGFyYWN0ZXJWTyB9ID0gcmVxdWlyZSgnLi9HYW1lQ2hhcmFjdGVyVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJQcm94eV9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFyYW1zLmlkLCBuZXcgR2FtZUNoYXJhY3RlclZPKHBhcmFtcykpO1xuICAgIH1cblxuICAgIHJlc2V0Q29tYmF0VHVyblN0YXRlKCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy52by5tYXhNb3ZlbWVudDtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICB1c2VNb3ZlbWVudChjb3N0KSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gY29zdDtcbiAgICB9XG5cbiAgICBhcHBseURhbWFnZShkYW1hbmdlKSB7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgLT0gZGFtYW5nZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSA9IE1hdGgubWF4KDAsIHRoaXMudm8uY3VycmVudFN0YW1pbmEpO1xuXG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID4gMCkge1xuICAgICAgICAgICAgLy8gQWxpdmVcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVQREFURV9TVEFNSU5BICsgdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hLCB0aGlzLnZvLm1heGltdW1TdGFtaW5hKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlYWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaWR9IGRpZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgdGhpcy5pZCwgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhTdGFtaW5hKTtcbiAgICB9XG5cbiAgICBnZXRTa2lsbFRvdGFsKHNraWxsS2V5KSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmFkdmFuY2VkU2tpbGxzLmhhcyhza2lsbEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNraWxsICsgdGhpcy52by5hZHZhbmNlZFNraWxscy5nZXQoc2tpbGxLZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2tpbGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlkO1xuICAgIH1cblxuICAgIGdldCBkaWFsb2d1ZVRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmRpYWxvZ3VlVHJlZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnROb2RlO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZU1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlTW92ZW1lbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVBY3Rpb25zO1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVBY3Rpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgdGhpcy5pZCxcbiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucywgdGhpcy5tYXhBY3Rpb25zUGVyVHVybik7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFjdGlvbnNQZXJUdXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICBnZXQgc2tpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNraWxsO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50U3RhbWluYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJWTyB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIHRoaXMuaXNOUEMgPSBwYXJhbXMuaXNOUEM7XG4gICAgICAgIHRoaXMuY29tYmF0R3JvdXAgPSBwYXJhbXMuY29tYmF0R3JvdXAgfHwgW107XG4gICAgICAgIHRoaXMuZGlhbG9ndWVUcmVlID0gcGFyYW1zLmRpYWxvZ3VlVHJlZSB8fCB0aGlzLmlkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRyb2lrYSBzdGF0c1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUgPSBwYXJhbXMuaW5pdGlhdGl2ZSB8fCAyO1xuICAgICAgICB0aGlzLm1heE1vdmVtZW50ID0gcGFyYW1zLm1heE1vdmVtZW50IHx8IDY7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcGFyYW1zLmhlaWdodCB8fCAxLjg7XG4gICAgICAgIHRoaXMubWF4QWN0aW9uc1BlclR1cm4gPSAxO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy5tYXhNb3ZlbWVudDtcblxuICAgICAgICB0aGlzLnNraWxsID0gcGFyYW1zLnNraWxsIHx8IDE7XG5cbiAgICAgICAgdGhpcy5tYXhTdGFtaW5hID0gcGFyYW1zLm1heFN0YW1pbmEgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhbWluYSA9IHRoaXMubWF4U3RhbWluYTtcblxuICAgICAgICB0aGlzLm1heEx1Y2sgPSBwYXJhbXMubWF4THVjayB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRMdWNrID0gdGhpcy5tYXhMdWNrO1xuXG4gICAgICAgIHRoaXMuYWR2YW5jZWRTa2lsbHMgPSBwYXJhbXMuYWR2YW5jZWRTa2lsbHMgfHwgbmV3IE1hcCgpO1xuXG4gICAgICAgIHRoaXMuYm90QmVoYXZpb3VyID0gcGFyYW1zLmJvdEJlaGF2aW91ciB8fCAwO1xuXG4gICAgICAgIHRoaXMuZXF1aXBwZWRXZWFwb24gPSBwYXJhbXMuZXF1aXBwZWRXZWFwb24gfHwgXCJ1bmFybWVkXCI7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgZ2V0QWRqYWNlbnRQb2ludHMgfSBmcm9tICcuLi8uLi91dGlscy9BZGphY2VudFBvaW50cyc7XG5jb25zdCB7IEdhbWVNYXBWTyB9ID0gcmVxdWlyZSgnLi9HYW1lTWFwVk8nKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCwgd2FsbEJvdW5kaW5nQm94ZXMsIGNvdmVyLCBwb3J0YWxzLCBuYXZHcmlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFwR3JpZDogbWFwR3JpZCxcbiAgICAgICAgICAgIHdhbGxCb3VuZGluZ0JveGVzOiB3YWxsQm91bmRpbmdCb3hlcyxcbiAgICAgICAgICAgIGNvdmVyOiBjb3ZlcixcbiAgICAgICAgICAgIHBvcnRhbHM6IHBvcnRhbHMsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uR3JpZDogbmF2R3JpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuXG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3ROb2RlKHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEdyaWQgPSB0aGlzLnZvLm1hcEdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbWFwR3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtYXBHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIGZpbmROZWFyZXN0V2F5cG9pbnQodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbmF2R3JpZCA9IHRoaXMudm8ubmF2aWdhdGlvbkdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbmF2R3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBuYXZHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIHJheUludGVyc2VjdHNXYWxsKGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZSh0byk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRvLmNsb25lKCkuc3ViKGZyb20uY2xvbmUoKSkubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IHJheSA9IG5ldyBwYy5SYXkoZnJvbSwgZGlyZWN0aW9uKTtcblxuICAgICAgICBjb25zdCBtYXBXYWxscyA9IHRoaXMudm8ud2FsbEJvdW5kaW5nQm94ZXM7XG4gICAgICAgIGZvciAoY29uc3Qgd2FsbCBvZiBtYXBXYWxscykge1xuICAgICAgICAgICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gd2FsbC5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9IaXQgPSBoaXRQb3NpdGlvbi5kaXN0YW5jZShmcm9tKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvSGl0IDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldCBjb3ZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY292ZXI7XG4gICAgfVxuXG5cbiAgICBpc0luQ292ZXIodGFyZ2V0UG9pbnQsIGF0dGFja2luZ0Zyb20pIHtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBhZGphY2VudFBvaW50cyA9IGdldEFkamFjZW50UG9pbnRzKHRhcmdldFBvaW50KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50UG9pbnQgb2YgYWRqYWNlbnRQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZSA9IHRoaXMuY292ZXIuZmluZCgoY292ZXJQb2ludCkgPT4gYWRqYWNlbnRQb2ludC5lcXVhbHMoY292ZXJQb2ludCkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZSkge1xuICAgICAgICAgICAgICAgIGFkamFjZW50Q292ZXJQb2ludHMucHVzaChhZGphY2VudFBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGphY2VudENvdmVyUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSB0YXJnZXRQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50IG9mIGFkamFjZW50Q292ZXJQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvQ292ZXIgPSBhZGphY2VudENvdmVyUG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9Db3ZlciA8IGRpc3RhbmNlVG9UYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0cmlldmVQb3J0YWwocG9ydGFsSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ucG9ydGFscy5nZXQocG9ydGFsSWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTGluZShub2RlQSwgbm9kZUIpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IEFzdGFyLmNhbGN1bGF0ZUJyZXNlbmhhbUxpbmUobm9kZUEueCwgbm9kZUEueiwgbm9kZUIueCwgbm9kZUIueik7XG4gICAgICAgIHJldHVybiBBc3Rhci5jaGVja1ZhbGlkTGluZShsaW5lLCB0aGlzLnZvLm1hcEdyaWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTm9kZShub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm1hcEdyaWQuc29tZShuID0+IG4uZXF1YWxzKG5vZGUpKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRBZGphY2VudFBvaW50cyhwb2ludCkge1xuICAgIGNvbnN0IHBvaW50cyA9IFtdXG4gICAgLy9Ob3J0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogLSAxKSk7XG4gICAgLy9FYXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCArIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1dlc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54IC0gMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vU291dGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56ICsgMSkpO1xuXG4gICAgcmV0dXJuIHBvaW50cztcbn0iLCJleHBvcnQgY2xhc3MgR2FtZU1hcFZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXBHcmlkID0gW107XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgfVxuXG4gICAgcHVzaCh2YWx1ZSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgbWluID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLmRhdGFbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgICBpZiAoTWF0aC5taW4obWluLCBwcmlvcml0eSkgPT09IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgbWluID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc3BsaWNlKGluZGV4LCAxKVswXS52YWx1ZTtcbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aFxuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3RhciB7XG4gICAgc3RhdGljIGJyZWFkdGhGaXJzdFNlYXJjaChzdGFydCwgcmFuZ2VMaW1pdCkge1xuICAgICAgICBsZXQgZnJvbnRpZXIgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VhcmNoZWRBcmVhID0gW107XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcblxuICAgICAgICBsZXQgcmFuZ2UgPSAwO1xuXG4gICAgICAgIHdoaWxlIChmcm9udGllci5sZW5ndGggPiAwICYmIHJhbmdlIDwgcmFuZ2VMaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRpZXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBmcm9udGllcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjYW1lRnJvbS5oYXMobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGcm9udGllci5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRBcmVhLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb250aWVyID0gbmV3RnJvbnRpZXI7XG5cbiAgICAgICAgICAgIHJhbmdlKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VhcmNoZWRBcmVhO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVBhdGgoc3RhcnQsIGdvYWwpIHtcbiAgICAgICAgY29uc3QgZnJvbnRpZXIgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0LCAwKTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY29zdFNvRmFyID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuICAgICAgICBjb3N0U29GYXIuc2V0KHN0YXJ0LCAwKTtcblxuICAgICAgICB3aGlsZSAoIWZyb250aWVyLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBmcm9udGllci5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29zdCA9IGNvc3RTb0Zhci5nZXQoY3VycmVudCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVXYXlwb2ludHNQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgZGlzdFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh4MCwgejAsIHgxLCB6MSkge1xuICAgICAgICBsZXQgZHggPSB4MSAtIHgwO1xuICAgICAgICBsZXQgZHkgPSB6MSAtIHowO1xuICAgICAgICBsZXQgbnggPSBNYXRoLmFicyhkeCk7XG4gICAgICAgIGxldCBueSA9IE1hdGguYWJzKGR5KTtcblxuICAgICAgICBjb25zdCBzaWduX3ggPSBkeCA+IDAgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IHNpZ25feSA9IGR5ID4gMCA/IDEgOiAtMTtcblxuXG4gICAgICAgIGNvbnN0IHAgPSB7IHg6IHgwLCB5OiAwLCB6OiB6MCB9O1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIGl5ID0gMDsgaXggPCBueCB8fCBpeSA8IG55Oykge1xuICAgICAgICAgICAgaWYgKCgwLjUgKyBpeCkgLyBueCA8ICgwLjUgKyBpeSkgLyBueSkge1xuICAgICAgICAgICAgICAgIC8vIG5leHQgc3RlcCBpcyBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgcC54ICs9IHNpZ25feDtcbiAgICAgICAgICAgICAgICBpeCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IHN0ZXAgaXMgdmVydGljYWxcbiAgICAgICAgICAgICAgICBwLnogKz0gc2lnbl95O1xuICAgICAgICAgICAgICAgIGl5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7IHg6IHAueCwgeTogMCwgejogcC56IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50cztcblxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja1ZhbGlkTGluZShsaW5lLCBtYXApIHtcbiAgICAgICAgbGV0IGlzVmFsaWRMaW5lID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBsaW5lKSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5zb21lKG4gPT4gbi5lcXVhbHMocG9pbnQpKSkge1xuICAgICAgICAgICAgICAgIGlzVmFsaWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNWYWxpZExpbmU7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZVN0YXRlVk8gfSA9IHJlcXVpcmUoJy4vR2FtZVN0YXRlVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZVN0YXRlUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZVByb3h5Lk5BTUUsIG5ldyBHYW1lU3RhdGVWTygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVHYW1lU3RhdGVUeXBlKG5ld1N0YXRlVHlwZSkge1xuICAgICAgICB0aGlzLnZvLmdhbWVwbGF5TW9kZSA9IG5ld1N0YXRlVHlwZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmdhbWVwbGF5TW9kZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEFjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb247XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5zZWxlY3RlZEFjdGlvbiA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBnYW1lcGxheU1vZGVUeXBlcyA9IHtcbiAgICBFWFBMT1JBVElPTjogJ0VYUExPUkFUSU9OJyxcbiAgICBDT01CQVQ6ICdDT01CQVQnLFxuICAgIERJQUxPR1VFOiAnRElBTE9HVUUnLFxuICAgIEdBTUVfT1ZFUjogJ0dBTUVfT1ZFUicsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IFwibm9uZVwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBJbnZlbnRvcnlJdGVtIH0gZnJvbSBcIi4vaXRlbXMvSW52ZW50b3J5SXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5Vk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMgPSBuZXcgTWFwKCk7XG5cbiAgICB9XG5cbiAgICBhZGRJdGVtKGl0ZW1EYXRhKSB7XG4gICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMucHVzaChcbiAgICAgICAgICAgIG5ldyBJbnZlbnRvcnlJdGVtKGl0ZW1EYXRhKVxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBjcmVhdGVVVUlEIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvR1VJRCc7XG5cbmV4cG9ydCBjbGFzcyBJbnZlbnRvcnlJdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMudXVpZCA9IGNyZWF0ZVVVSUQoKTtcbiAgICAgICAgdGhpcy5pZCA9IGRhdGEuaWQ7XG4gICAgICAgIHRoaXMuaWNvbiA9IGRhdGEuaWNvbjtcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50eXBlID0gZGF0YS50eXBlO1xuICAgICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemUgPz8gMTtcbiAgICAgICAgdGhpcy5lcXVpcFNsb3QgPSBkYXRhLmVxdWlwU2xvdCA/PyBcIm5vbmVcIjtcbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgU3RvcnlWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIHJldHVybiBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LFxuICAgICAgICBjdXJyZW50Tm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICBjdXJyZW50Tm9kZS56KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlVVVJRCgpIHtcbiAgICB2YXIgcyA9IFtdO1xuICAgIHZhciBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM2OyBpKyspIHtcbiAgICAgICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuICAgIH1cbiAgICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcbiAgICBzWzE0XSA9IFwiNFwiO1xuXG4gICAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcbiAgICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7XG5cbiAgICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XG5cbiAgICB2YXIgdXVpZCA9IHMuam9pbihcIlwiKTtcbiAgICByZXR1cm4gdXVpZDtcblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3JfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGlkLCB2aWV3Q29tcG9uZW50LCBwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgICAgIGxldCBub3RpZmljYXRpb25zID0gW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRFxuXG4gICAgICAgIF07XG5cbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuY29uY2F0KHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy52aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZmlyZShub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0S2V5IGluIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0LCBzY3JpcHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtzY3JpcHRLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb1dheXBvaW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgbG9va1BvaW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobG9va1BvaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGhpdGJveCA9IHRoaXMudmlld0NvbXBvbmVudC5maW5kQnlOYW1lKFwiSGl0Ym94XCIpO1xuICAgICAgICAgICAgICAgIGlmIChoaXRib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0Ym94LmZpcmUoJ3N0b3BMaXN0ZW5pbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVEZWF0aCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlQXR0YWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVIaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlVG9Ob2RlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZVRvV2F5cG9pbnQodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG5lYXJlc3RXYXlwb2ludCA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdFdheXBvaW50KHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICBjb25zdCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3RXYXlwb2ludCh0YXJnZXROb2RlKTtcblxuICAgICAgICAvKmNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVXYXlwb2ludHNQYXRoKG5lYXJlc3RXYXlwb2ludCwgbmVhcmVzdFRhcmdldFdheXBvaW50KTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaGFzTGluZVRvUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gMCAmJiBoYXNMaW5lVG9Qb2ludCkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbcGF0aC5sZW5ndGggLSAxXSwgY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTGluZVRvUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWUgaWYgZW5kIG9mIHBhdGggY2FuIGJlIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoWzFdLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXRoLnVuc2hpZnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfSovXG5cbiAgICAgICAgLy8gSXMgc3RyYWlnaHQgbGluZT9cbiAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUoY3VycmVudE5vZGUsIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gW3RhcmdldE5vZGUsIGN1cnJlbnROb2RlXTtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVXYXlwb2ludHNQYXRoKG5lYXJlc3RXYXlwb2ludCwgbmVhcmVzdFRhcmdldFdheXBvaW50KTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGlmIGVuZCBvZiBwYXRoIGNhbiBiZSB0cmltbWVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbMV0sIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaGFzTGluZVRvUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDEgJiYgaGFzTGluZVRvUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFtwYXRoLmxlbmd0aCAtIDJdLCBjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNMaW5lVG9Qb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBtb3ZlVG9Ob2RlV2l0aFByb21pc2UodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgaWYgKCFnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpIHtcbiAgICAgICAgfVxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VycmVudE5vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQobm9kZSk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcblxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50J10uY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lRmFjYWRlIH0gPSByZXF1aXJlKCcuLi9HYW1lRmFjYWRlJyk7XG5cbmV4cG9ydCBjb25zdCBDYWNvZ2VuR2FtZSA9IHBjLmNyZWF0ZVNjcmlwdCgnQ2Fjb2dlbkdhbWUnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkNhY29nZW5HYW1lLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgXCJQb3J0IFRhcmluZ29cIiwgXCJlbnRyYW5jZVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5XCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBib3RCZWhhdmlvdXJFbnVtcyB9IGZyb20gJy4uLy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgd2VhcG9uRW51bXMgfSBmcm9tIFwiLi4vLi4vZGF0YS9XZWFwb25UeXBlc1wiO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgY29uc3QgR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuXG5jb25zdCBzdGF0c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbCcsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbWF4U3RhbWluYScsXG4gICAgICAgIHRpdGxlOiAnU3RhbWluYScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4THVjaycsXG4gICAgICAgIHRpdGxlOiAnTHVjaycsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnaW5pdGlhdGl2ZScsXG4gICAgICAgIHRpdGxlOiAnSW5pdGlhdGl2ZScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAyXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4TW92ZW1lbnQnLFxuICAgICAgICB0aXRsZTogJ01vdmVtZW50JyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDZcbiAgICB9XG5dO1xuXG5jb25zdCBhZHZhbmNlZFNraWxsc1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbE5hbWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxWYWx1ZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgVmFsdWUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xuICAgIH1cbl07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJJZFwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSWRcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA0XG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySGVpZ2h0XCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBIZWlnaHRcIixcbiAgICBkZWZhdWx0OiAxLjhcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiaXNOUENcIiwge1xuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHRpdGxlOiBcImlzIE5QQ1wiLFxuICAgIGRlZmF1bHQ6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic3RhdHNPdmVycmlkZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlN0YXRzIE92ZXJyaWRlc1wiLFxuICAgIHNjaGVtYTogc3RhdHNTY2hlbWFcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYWR2YW5jZWRTa2lsbHNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIkFkdmFuY2VkIFNraWxsc1wiLFxuICAgIHNjaGVtYTogYWR2YW5jZWRTa2lsbHNTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29tYmF0R3JvdXBOYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNvbWJhdCBHcm91cCBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZGlhbG9ndWVUcmVlTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJEaWFsb2d1ZSBUcmVlIE5hbWVcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJib3RCZWhhdmlvdXJcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQm90IEJlaGF2aW91clwiLFxuICAgIGVudW06IGJvdEJlaGF2aW91ckVudW1zLFxuICAgIGRlZmF1bHQ6IDBcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJlcXVpcHBlZFdlYXBvblwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJFcXVpcHBlZCBXZWFwb25cIixcbiAgICBlbnVtOiB3ZWFwb25FbnVtcyxcbiAgICBkZWZhdWx0OiBcInVuYXJtZWRcIlxufSk7XG5cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xufVxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG5cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHNPdmVycmlkZXMgPSB0aGlzLnN0YXRzT3ZlcnJpZGVzO1xuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUEMsXG4gICAgICAgIGhlaWdodDogdGhpcy5jaGFyYWN0ZXJIZWlnaHQsXG4gICAgICAgIGFkdmFuY2VkU2tpbGxzOiBhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwKHRoaXMuYWR2YW5jZWRTa2lsbHMpLFxuICAgICAgICBlcXVpcHBlZFdlYXBvbjogdGhpcy5lcXVpcHBlZFdlYXBvbixcbiAgICAgICAgLi4uc3RhdHNPdmVycmlkZXMsXG4gICAgICAgIGJvdEJlaGF2aW91cjogdGhpcy5ib3RCZWhhdmlvdXIsXG4gICAgICAgIGRpYWxvZ3VlVHJlZTogdGhpcy5kaWFsb2d1ZVRyZWVOYW1lXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZGlzYWJsZWQgZW50aXRpZXNcbiAgICAgICAgICAgIGlmIChjb21yYWRlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgICAgIGNvbWJhdEdyb3VwLnB1c2goY29tcmFkZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm94eVBhcmFtcy5jb21iYXRHcm91cCA9IGNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc1Byb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgLy8gdGhpcy5mYWNhZGUucmVtb3ZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpO1xuICAgICAgICAvLyBTZXQgY3VycmVudCBub2RlIGlmIGdhbWUgY2hhcmFjdGVyIHdhcyBjcmVhdGVkIGFmdGVyIHRoZSBtYXBcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChnYW1lTWFwUHJveHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gY3VycmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KGNoYXJhY3RlclByb3h5KTtcbiAgICB9XG5cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDaGFyYWN0ZXJNZWRpYXRvcih0aGlzLmNoYXJhY3RlcklkLCB0aGlzLmVudGl0eSwgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykpO1xuXG4gICAgdGhpcy52ZWhpY2xlID0gdGhpcy5lbnRpdHkuc2NyaXB0WydWZWhpY2xlQ29tcG9uZW50J107XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcblxufTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zZXRQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGggJiYgdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjYW5jZWxNb3ZlJyk7XG4gICAgfVxuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gcGF0aDtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnd2Fsay5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc3RvcE1vdmVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnROb2RlKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLm1vdmVBbG9uZ1BhdGgoZHQpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBub2RlUG9pbnQgPSBuZXcgcGMuVmVjMyhuZXh0UGF0aFBvaW50LngsIG5leHRQYXRoUG9pbnQueSwgbmV4dFBhdGhQb2ludC56KTtcblxuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IGxvY2FsUG9zLmRpc3RhbmNlKG5vZGVQb2ludCk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvTmV4dFBhdGggPD0gKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5tb3ZlbWVudFBhdGgucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdmaW5pc2hlZE1vdmUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCd1cGRhdGVDdXJyZW50Tm9kZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnNlZWsobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5hcnJpdmUobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlaGljbGUucHJvY2Vzc1ZlbG9jaXR5KGR0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlRGVhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnZGllLmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVIaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaGl0LmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVBdHRhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnYXR0YWNrLmdsYicsIDAuMSk7XG59XG5cbmZ1bmN0aW9uIGFkdmFuY2VkU2tpbGxzU2NoZW1hVG9NYXAoYWR2YW5jZWRTa2lsbHNTY2hlbWEpIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cbiAgICBmb3IgKGNvbnN0IHNraWxsT2JqZWN0IG9mIGFkdmFuY2VkU2tpbGxzU2NoZW1hKSB7XG4gICAgICAgIG1hcC5zZXQoc2tpbGxPYmplY3Quc2tpbGxOYW1lLCBza2lsbE9iamVjdC5za2lsbFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xufSIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG4gICAgY29uc29sZS5sb2coJ1dhaXQgZm9yIGluaXRpYWwnKTtcbn07XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNYXBHcmlkQ3JlYXRlZCA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5jaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xufVxuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW92ZWRUb05vZGUgPSBmdW5jdGlvbiAoaWQsIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuXG4gICAgLy8gSWdub3JlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgZXhwbG9yaW5nXG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgIT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OIHx8IHRoaXMuY2hhcmFjdGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY2hhcmFjdGVyUG9pbnQgPSBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55LCB0YXJnZXROb2RlLnopO1xuXG4gICAgaWYgKGNoYXJhY3RlclBvaW50LmRpc3RhbmNlKHRhcmdldFBvaW50KSA8PSB0aGlzLnNpZ2h0UmFuZ2UpIHtcbiAgICAgICAgLy8gTWlnaHQgYmUgc2VlbiAtIGNoZWNrIGZvciB3YWxsc1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNoYXJhY3RlclBvaW50LnkgKz0gdGhpcy5jaGFyYWN0ZXJQcm94eS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoY2hhcmFjdGVyUG9pbnQsIHRhcmdldFBvaW50KSkge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IFNldENhbWVyYVRhcmdldENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VULCB0aGlzLmVudGl0eSk7XG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnB1dExheWVyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOmdhbWVDaGFyYWN0ZXInLCB0aGlzLmhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpuYXZpZ2F0aW9uJywgdGhpcy5oYW5kbGVQaWNrZXJOYXZpZ2F0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIoY2hhcmFjdGVyRW50aXR5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgY2hhcmFjdGVyRW50aXR5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgbm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2Nyb2xsaW5nKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBkaXJlY3Rpb24pO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEdhbWVDYW1lcmEgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDYW1lcmEnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkaXN0YW5jZScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdEaXN0YW5jZScgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclgnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWScsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuXG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCd2ZXJ0aWNhbFNjcm9sbCcsIHsgdHlwZTogJ2Jvb2xlYW4nLCBkZWZhdWx0OiBmYWxzZSwgdGl0bGU6ICdWZXJ0aWNhbCBTY3JvbGwnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWluQ2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNaW4gQ2FtZXJhIEhlaWdodCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtYXhDYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnTWF4IENhbWVyYSBIZWlnaHQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNhbWVyYU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLnNldENhbWVyYVRhcmdldCA9IGZ1bmN0aW9uIChjYW1lcmFUYXJnZXQpIHtcbiAgICB0aGlzLmNhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5lbnRpdHkuZ2V0RXVsZXJBbmdsZXMoKS55O1xuICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpLnk7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmhhbmRsZURyYWcgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbiArPSBkaXJlY3Rpb24ueCAqIHRoaXMuZHJhZ011bHRpcGxpZXJYO1xuXG4gICAgaWYgKHRoaXMudmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgbGV0IG5ld0NhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhSGVpZ2h0IC0gKGRpcmVjdGlvbi55ICogdGhpcy5kcmFnTXVsdGlwbGllclkpO1xuICAgICAgICBuZXdDYW1lcmFIZWlnaHQgPSBwYy5tYXRoLmNsYW1wKG5ld0NhbWVyYUhlaWdodCwgdGhpcy5taW5DYW1lcmFIZWlnaHQsIHRoaXMubWF4Q2FtZXJhSGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jYW1lcmFIZWlnaHQgPSBuZXdDYW1lcmFIZWlnaHQ7XG4gICAgfVxufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uIChmb2N1c1BvaW50KSB7XG4gICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKClcblxuICAgIGNvbnN0IHRhcmdldFggPSBNYXRoLnNpbigodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG4gICAgY29uc3QgdGFyZ2V0WiA9IE1hdGguY29zKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyhmb2N1c1BvaW50LnggKyB0YXJnZXRYLCBjYW1lcmFQb3NpdGlvbi55LCBmb2N1c1BvaW50LnogKyB0YXJnZXRaKTtcbn1cblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy5jYW1lcmFUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhVGFyZ2V0UG9zaXRpb24gPSB0aGlzLmNhbWVyYVRhcmdldC5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGhpcy5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdHdlZW5YID0gKHRhcmdldFBvc2l0aW9uLnggKyBjdXJyZW50UG9zLnggKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblkgPSAodGhpcy5jYW1lcmFIZWlnaHQgKyBjdXJyZW50UG9zLnkgKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblogPSAodGFyZ2V0UG9zaXRpb24ueiArIGN1cnJlbnRQb3MueiAqIDkpIC8gMTA7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0d2VlblgsIHR3ZWVuWSwgdHdlZW5aKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5sb29rQXQoY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuICAgIH1cblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYSB9IGZyb20gJy4vR2FtZUNhbWVyYSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2FtZXJhTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2FtZXJhTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVRcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uc2V0Q2FtZXJhVGFyZ2V0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uaGFuZGxlRHJhZyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnB1dExheWVyTWVkaWF0b3IgfSBmcm9tICcuL0lucHV0TGF5ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuLi9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbmV4cG9ydCBjb25zdCBJbnB1dExheWVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnB1dExheWVyQ29tcG9uZW50Jyk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjYW1lcmFFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQ2FtZXJhIEVudGl0eVwiXG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRyYWdUaW1lXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkRyYWcgVGltZVwiLFxuICAgIGRlZmF1bHQ6IDAuNFxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IElucHV0TGF5ZXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMucmF5ID0gbmV3IHBjLlJheSgpO1xuICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgLy8gRHJhZyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5hcHAubW91c2UuZGlzYWJsZUNvbnRleHRNZW51KCk7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IDA7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJlc3VsdCcsIHRoaXMuaGFuZGxlUGlja2VyUmVzdWx0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmFwcC5tb3VzZSkge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgdGhpcy5vbk1vdXNlRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSh0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24odG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IHBjLlZlYzIodGhpcy5jbGlja1N0YXJ0UG9pbnQueCAtIGV2dC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55IC0gZXZ0LnkpO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdzY3JvbGxpbmcnLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuY2xpY2tEb3duU3RhcnQgPCAodGhpcy5kcmFnVGltZSAqIDEwMDApKSB7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrU3RhcnRQb2ludCkge1xuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuZmlyZSgndmFsaWRDbGljaycsIHRoaXMuY2xpY2tTdGFydFBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnModGhpcy5jbGlja1N0YXJ0UG9pbnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBjb25zdCBjYW1lcmFFbnRpdHkgPSB0aGlzLmNhbWVyYUVudGl0eTtcbiAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmE7XG4gICAgY2FtZXJhQ29tcG9uZW50LnNjcmVlblRvV29ybGQoeCwgeSwgY2FtZXJhQ29tcG9uZW50LmZhckNsaXAsIHRoaXMucmF5LmRpcmVjdGlvbik7XG4gICAgdGhpcy5yYXkub3JpZ2luLmNvcHkoY2FtZXJhRW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgIHRoaXMucmF5LmRpcmVjdGlvbi5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5yYXksIHsgeCwgeSB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUGlja2VyUmVzdWx0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcykge1xuICAgIHRoaXMuaW5wdXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgZW50aXR5OiBwaWNrZWRFbnRpdHksXG4gICAgICAgIGhpdFBvc2l0aW9uOiBoaXRQb3NpdGlvbixcbiAgICAgICAgc2NyZWVuUG9zaXRpb246IHNjcmVlblBvc1xuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLnByb2Nlc3NJbnB1dFF1ZXVlKCk7XG59XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc0lucHV0UXVldWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5pbnB1dFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGhpZ2hlc3RQcmlvcml0eVBpY2sgPSB0aGlzLmlucHV0UXVldWVbMF07XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHkgPSAtMTtcbiAgICAgICAgLy8gRmluZCBoaWdoZXN0IHByaW9yaXR5XG4gICAgICAgIGZvciAoY29uc3QgcGljayBvZiB0aGlzLmlucHV0UXVldWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpY2tQcmlvcml0eSA9IGdldFByaW9yaXR5KHBpY2suZW50aXR5KVxuICAgICAgICAgICAgaWYgKHBpY2tQcmlvcml0eSA+IGhpZ2hlc3RQcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVBpY2sgPSBwaWNrO1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eSA9IHBpY2tQcmlvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRQb3J0YWwoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkR2FtZUNoYXJhY3RlciA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOmdhbWVDaGFyYWN0ZXInLCBwaWNrZWRFbnRpdHkpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWROYXZpZ2F0aW9uID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBjb25zdCBuYXZDb21wID0gcGlja2VkRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgIGNvbnN0IG5lYXJlc3ROb2RlID0gbmF2Q29tcC5nZXROZWFyZXN0Tm9kZShoaXRQb3NpdGlvbik7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOm5hdmlnYXRpb24nLCBuZWFyZXN0Tm9kZSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZFBvcnRhbCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgcGlja2VkRW50aXR5LmZpcmUoJ3BpY2tlcjpwb3J0YWwnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ3BvcnRhbCcpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazplbmRUdXJuJywgdGhpcy5oYW5kbGVFbmRUdXJuLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVFbmRUdXJuKGV2dCkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciB9IGZyb20gXCIuL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCcpO1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZW5kVHVybkJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRW5kIFR1cm4gYnV0dG9uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW5kVHVybkJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xpY2tFbmRUdXJuLCB0aGlzKTtcbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGlja0VuZFR1cm4gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6ZW5kVHVybicpO1xufVxuIiwiZXhwb3J0IGNvbnN0IEhpdGJveENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSGl0Ym94Q29tcG9uZW50Jyk7XG5cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdzdG9wTGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHkucGFyZW50LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5hYWJiLmNlbnRlci5jb3B5KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpmaXJlQ29tbWFuZCcsIHRoaXMuaGFuZGxlRmlyZUNvbW1hbmQsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25QYW5lbENvbXBvbmVudCddLnNlbGVjdEFjdGlvbihhY3Rpb25OYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGaXJlQ29tbWFuZChjb21tYW5kTmFtZSwgLi4uYXJncykge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKGNvbW1hbmROYW1lLCAuLi5hcmdzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5jb25zdCBjb21tYW5kU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmROYW1lJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIG5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29tbWFuZEFyZ3MnLFxuICAgICAgICB0aXRsZTogJ0NvbW1hbmQgYXJndW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsIGFycmF5OiB0cnVlXG4gICAgfVxuXTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbW1hbmRzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogY29tbWFuZFNjaGVtYSwgdGl0bGU6ICdDb21tYW5kIG5hbWUnLCBhcnJheTogdHJ1ZSB9KTs7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdzZWxlY3Q6YWN0aW9uJywgdGhpcy5oYW5kbGVDaGFuZ2VBY3Rpb24sIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gY29tbWFuZC5jb21tYW5kTmFtZTtcbiAgICAgICAgY29uc3QgY29tbWFuZEFyZ3MgPSBjb21tYW5kLmNvbW1hbmRBcmdzO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnY2xpY2s6ZmlyZUNvbW1hbmQnLCBjb21tYW5kTmFtZSwgLi4uY29tbWFuZEFyZ3MpO1xuXG4gICAgfVxufVxuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNoYW5nZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5lbnRpdHkubmFtZSA9PT0gYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEFjdGlvblBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25QYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25QYW5lbE1lZGlhdG9yJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vQWN0aW9uQnV0dG9uQ29tcG9uZW50JztcblxuQWN0aW9uUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbkJ1dHRvbnMnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0FjdGlvbiBCdXR0b25zJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25QYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZWxlY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBidXR0b24uZmlyZSgnc2VsZWN0OmFjdGlvbicsIGFjdGlvbk5hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBVSVN0b3BQcm9wYWdhdGlvbiA9IHBjLmNyZWF0ZVNjcmlwdCgnVUlTdG9wUHJvcGFnYXRpb24nKTtcblxuVUlTdG9wUHJvcGFnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSBcIi4vUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHByb2plY3RpbGVTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZU5hbWUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwcm9qZWN0aWxlVGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJwcm9qZWN0aWxlVHlwZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgVHlwZXNcIixcbiAgICBzY2hlbWE6IHByb2plY3RpbGVTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQcm9qZWN0aWxlID0gZnVuY3Rpb24gKHByb2plY3RpbGVOYW1lLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RpbGVTY2hlbWUgPSB0aGlzLnByb2plY3RpbGVUeXBlcy5maW5kKHNjaGVtZSA9PiBzY2hlbWUucHJvamVjdGlsZU5hbWUgPT09IHByb2plY3RpbGVOYW1lKTtcbiAgICAgICAgaWYgKHByb2plY3RpbGVTY2hlbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3RpbGUgPSBwcm9qZWN0aWxlU2NoZW1lLnByb2plY3RpbGVUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3UHJvamVjdGlsZSk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0aWxlLm9uY2UoJ3Byb2plY3RpbGVBcnJpdmVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5zY3JpcHRbJ1Byb2plY3RpbGVDb21wb25lbnQnXS5zZXRUYXJnZXQob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGUgcHJvamVjdGlsZSBcIiR7cHJvamVjdGlsZU5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIlxuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUHJvamVjdGlsZUNvbXBvbmVudCcpO1xuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA4XG59KTtcblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIChvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnksIG9yaWdpblBvaW50LnopO1xuICAgIHRoaXMudGFyZ2V0UG9pbnQgPSB0YXJnZXRQb2ludDtcbiAgICB0aGlzLmxvb2tBdFBvaW50KHRoaXMudGFyZ2V0UG9pbnQpO1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1YjIodGhpcy50YXJnZXRQb2ludC5jbG9uZSgpLCBsb2NhbFBvcyk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuZXdQb3NpdGlvbi5tdWwoc3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5hZGQobG9jYWxQb3MpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IG5ld1Bvc2l0aW9uLmRpc3RhbmNlKHRoaXMudGFyZ2V0UG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkKSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncHJvamVjdGlsZUFycml2ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFN0YW1pbmFCYXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0YW1pbmFCYXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIlxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFtaW5hID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhTdGFtaW5hID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiU3RhbWluYUJhckNvbXBvbmVudFwiXS51cGRhdGVTdGFtaW5hKG5ld1N0YW1pbmEsIG1heFN0YW1pbmEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgU3RhbWluYUJhck1lZGlhdG9yIH0gZnJvbSBcIi4vU3RhbWluYUJhck1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBTdGFtaW5hQmFyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTdGFtaW5hQmFyQ29tcG9uZW50Jyk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJiYXJFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQmFyIEVudGl0eVwiXG59KTtcblxuU3RhbWluYUJhckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YW1pbmFMYWJlbFwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJTdGFtaW5hIExhYmVsXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU3RhbWluYUJhckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFN0YW1pbmFCYXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCA9IHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGg7XG59O1xuXG5cblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVN0YW1pbmEgPSBmdW5jdGlvbiAoY3VycmVudFN0YW1pbmEsIG1heFN0YW1pbmEpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBjLm1hdGguY2xhbXAoY3VycmVudFN0YW1pbmEgLyBtYXhTdGFtaW5hLCAwLCAxKTtcbiAgICBjb25zdCB3aWR0aCA9IHBjLm1hdGgubGVycCgwLCB0aGlzLmJhckVudGl0eU1heFdpZHRoLCB2YWx1ZSk7XG4gICAgLy8gc2V0IHRoZSB3aWR0aCBvZiB0aGUgZmlsbCBpbWFnZSBlbGVtZW50XG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC53aWR0aCA9IHdpZHRoO1xuXG4gICAgLy8gU2V0IHRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudCdzIHJlY3QgKHJlY3QueikgdG8gYmUgdGhlIHNhbWVcbiAgICAvLyB2YWx1ZSBhcyBvdXIgMC0xIHByb2dyZXNzLlxuICAgIC8vIFRoaXMgaXMgc28gdGhhdCB0aGUgZmlsbCBpbWFnZSB3aWxsIG9ubHkgc2hvdyB0aGUgcG9ydGlvblxuICAgIC8vIG9mIHRoZSB0ZXh0dXJlIHRoYXQgaXMgdmlzaWJsZVxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdC56ID0gdmFsdWU7XG4gICAgLy8gZm9yY2UgcmVjdCB1cGRhdGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QgPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3Q7XG5cbiAgICB0aGlzLnN0YW1pbmFMYWJlbC5lbGVtZW50LnRleHQgPSBgJHtjdXJyZW50U3RhbWluYX0vJHttYXhTdGFtaW5hfWA7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBwbGF5ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFjdGlvbnMgPSBwbGF5ZXJQcm94eS5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCddLnNob3dBdmFpbGFibGVBY3Rpb24oYXJnc1swXSwgYXJnc1sxXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcic7XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncGlwVGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnUGlwIFRlbXBsYXRlJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnBpcHMgPSBbXTtcbn1cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zaG93QXZhaWxhYmxlQWN0aW9uID0gZnVuY3Rpb24gKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpIHtcbiAgICB3aGlsZSAodGhpcy5waXBzLmxlbmd0aCA8IG1heEFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVQaXAoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGF2YWlsYWJsZUFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UGlwID0gdGhpcy5waXBUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1BpcCk7XG4gICAgdGhpcy5waXBzLnB1c2gobmV3UGlwKTtcbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Jyk7XG5cbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcEZyb250JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdQaXAgZnJvbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5vbigndG9nZ2xlUGlwJywgKHNob3cpID0+IHtcbiAgICAgICAgdGhpcy5waXBGcm9udC5lbmFibGVkID0gc2hvdztcbiAgICB9KTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVNcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUzpcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50J107XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXRlck5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHNjcmlwdENvbXAuZGlzcGxheVN0YXR1cyhmbG9hdGVyTmFtZSwgdGFyZ2V0UHJveHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCcpO1xuXG4vLyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuc2V0V29ybGRQb3NpdGlvbiA9IGZ1bmN0aW9uICh3b3JsZFBvc2l0aW9uLCBjYW1lcmEsIHNjcmVlbikge1xuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMud29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb247XG4gICAgdGhpcy5kZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICB0aGlzLmNhbWVyYUVudGl0eSA9IGNhbWVyYTtcbiAgICB0aGlzLnNjcmVlbkVudGl0eSA9IHNjcmVlbjtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfSwgMTAwMCk7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnBvc3RVcGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UodGhpcy53b3JsZFBvc2l0aW9uLmNsb25lKCkpO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9XG59O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHRoaXMuZGV2aWNlICYmIHRoaXMuY2FtZXJhRW50aXR5ICYmIHRoaXMuc2NyZWVuRW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHdvcmxkUG9zID0gcG9zLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIC8vIGdldCBzY3JlZW4gc3BhY2UgY28tb3JkXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LmNhbWVyYS53b3JsZFRvU2NyZWVuKHdvcmxkUG9zLCBzY3JlZW5Qb3MpO1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UubWF4UGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnggKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgICAgICBjb25zdCBzY3JlZW5Db21wID0gdGhpcy5zY3JlZW5FbnRpdHkuc2NyZWVuO1xuXG4gICAgICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnNjYWxlO1xuICAgICAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgICAgIGNvbnN0IHkgPSAodGhpcy5kZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgICAgICByZXR1cm4gbmV3IHBjLlZlYzMoeCwgeSwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcblxufSIsImV4cG9ydCBjb25zdCBGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciB9IGZyb20gJy4vRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnO1xuXG5jb25zdCBmbG9hdGluZ1N0YXR1c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3RlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdUZW1wbGF0ZScsXG4gICAgICAgIHR5cGU6ICdhc3NldCdcbiAgICB9XG5dO1xuXG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NjcmVlbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2NyZWVuIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NhbWVyYUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2FtZXJhIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Zsb2F0aW5nU3RhdHVzZXMnLCB7IHR5cGU6ICdqc29uJywgc2NoZW1hOiBmbG9hdGluZ1N0YXR1c1NjaGVtYSwgdGl0bGU6ICdGbG9hdGluZyBTdGF0dXNlcycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5U3RhdHVzID0gZnVuY3Rpb24gKG5hbWUsIHRhcmdldFByb3h5LCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgc2NoZW1lID0gdGhpcy5mbG9hdGluZ1N0YXR1c2VzLmZpbmQoKG90aGVyU2NoZW1lKSA9PiBvdGhlclNjaGVtZS5uYW1lID09PSBuYW1lKTtcbiAgICBpZiAoc2NoZW1lKSB7XG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55ICsgdGFyZ2V0UHJveHkuaGVpZ2h0LCB0YXJnZXROb2RlLnopO1xuICAgICAgICBjb25zdCBuZXdTdGF0dXMgPSBzY2hlbWUudGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgbmV3U3RhdHVzLnNjcmlwdFsnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnXS5zZXRXb3JsZFBvc2l0aW9uKHRhcmdldFBvcyxcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LCB0aGlzLnNjcmVlbkVudGl0eSk7XG4gICAgICAgIHRoaXMuZW50aXR5LnBhcmVudC5hZGRDaGlsZChuZXdTdGF0dXMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGZsb2F0aW5nIHN0YXR1czogJHtuYW1lfWApO1xuICAgIH1cblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQb3J0YWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBvcnRhbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOnBvcnRhbCcsIHRoaXMuc2VsZWN0ZWRQb3J0YWwsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RlZFBvcnRhbCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQb3J0YWxDb21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsXG4gICAgICAgICAgICAgICAgc3RhbmRpbmdQb3NpdGlvbiwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFBvcnRhbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUG9ydGFsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IFBvcnRhbE1lZGlhdG9yIH0gZnJvbSAnLi9Qb3J0YWxNZWRpYXRvcic7XG5cblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncG9ydGFsSWQnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ1BvcnRhbCBJZCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uU2NlbmUnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFNjZW5lJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVzdGluYXRpb25Qb3J0YWwnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFBvcnRhbCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpdGJveCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGl0Ym94JyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc3RhbmRpbmdQb2ludCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU3RhbmRpbmcgUG9pbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUG9ydGFsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUG9ydGFsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuc3RhbmRpbmdQb2ludC5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkRpYWxvZ3VlUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVMsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNvbnRpbnVlJywgdGhpcy5oYW5kbGVDbGlja0NvbnRpbnVlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNob2ljZScsIHRoaXMuaGFuZGxlQ2xpY2tDaG9pY2UsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9QQU5FTDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMOlxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY2xlYXJQYW5lbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVA6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNyZWF0ZVN0ZXAoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1Q6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNyZWF0ZVNraWxsVGVzdCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVM6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyRGlhbG9ndWVDaG9pY2VzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24oZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0NvbnRpbnVlKCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT05USU5VRV9ESUFMT0dVRV9OT0RFKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0Nob2ljZShpbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfRElBTE9HVUVfQ0hPSUNFLCBpbmRleCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9EaWFsb2d1ZVBhbmVsTWVkaWF0b3InO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JvbGxiYXJWaWV3RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTY3JvbGxiYXIgVmlldycgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDb250ZW50IEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmZWVkRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdGZWVkIEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdDb250ZW50IEhlaWdodCcsIGRlZmF1bHQ6IDUyMCB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dEVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnVGV4dCBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjaG9pY2VFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0Nob2ljZSBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbFRlc3RFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1NraWxsIFRlc3QgRW50cnkgQXNzZXQnIH0pO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250aW51ZUJ1dHRvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ29udGludWUgQnV0dG9uJyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRGlhbG9ndWVQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmNob2ljZXMgPSBbXTtcblxuICAgIHRoaXMuY29udGludWVCdXR0b25FbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrZWQ6Y29udGludWUnKTtcbiAgICB9LCB0aGlzKTtcblxufTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlU3RlcCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIHRoaXMuY3JlYXRlVGV4dChzdGVwRGF0YS5zdGVwKTtcblxuICAgIGlmIChzdGVwRGF0YS5zdGVwLmNob2ljZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwRGF0YS5zdGVwLmNob2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNob2ljZSA9IHN0ZXBEYXRhLnN0ZXAuY2hvaWNlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2hvaWNlKGksIGNob2ljZS50ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGNvbnN0IG5ld1RleHQgPSB0aGlzLnRleHRFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3VGV4dC5zY3JpcHRbXCJEaWFsb2d1ZVRleHRDb21wb25lbnRcIl0uc2V0dXAoc3RlcERhdGEpO1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdUZXh0KTtcbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUNob2ljZSA9IGZ1bmN0aW9uIChpbmRleCwgdGV4dCkge1xuICAgIGNvbnN0IG5ld0Nob2ljZSA9IHRoaXMuY2hvaWNlRW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld0Nob2ljZS5zY3JpcHRbXCJEaWFsb2d1ZUNob2ljZUNvbXBvbmVudFwiXS5zZXR1cChpbmRleCwgdGV4dCk7XG4gICAgbmV3Q2hvaWNlLmVsZW1lbnQudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld0Nob2ljZSk7XG4gICAgdGhpcy5jaG9pY2VzLnB1c2gobmV3Q2hvaWNlKTtcblxuICAgIG5ld0Nob2ljZS5vbignY2xpY2snLCB0aGlzLmhhbmRsZVNlbGVjdENob2ljZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVNraWxsVGVzdCA9IGZ1bmN0aW9uIChza2lsbE5hbWUsIHNraWxsVmFsdWUsIGRpZTEsIGRpZTIsIHdhc1N1Y2Nlc3MpIHtcbiAgICBjb25zdCBuZXdTa2lsbFRlc3QgPSB0aGlzLnNraWxsVGVzdEVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdTa2lsbFRlc3Quc2NyaXB0W1wiRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnRcIl0uc2V0dXAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKTtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3U2tpbGxUZXN0KTtcblxuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJEaWFsb2d1ZUNob2ljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChjb25zdCBjaG9pY2Ugb2YgdGhpcy5jaG9pY2VzKSB7XG4gICAgICAgIGNob2ljZS5vZmYoJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuICAgICAgICBjaG9pY2UuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhclBhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHdoaWxlICh0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW5bMF0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlU2VsZWN0Q2hvaWNlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2tlZDpjaG9pY2UnLCBpbmRleCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnJlc2l6ZVRvQ29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNwYWNpbmdWZXJ0aWNhbCA9IHRoaXMuZmVlZEVudGl0eS5sYXlvdXRncm91cC5zcGFjaW5nLnk7XG4gICAgbGV0IGhlaWdodCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGZlZWRDaGlsZCBvZiB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4pIHtcbiAgICAgICAgaGVpZ2h0ICs9IGZlZWRDaGlsZC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgaGVpZ2h0ICs9IHNwYWNpbmdWZXJ0aWNhbDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRFbnRpdHkuZWxlbWVudC5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmNvbnRlbnRIZWlnaHQsIGhlaWdodCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnNldENvbnRpbnVlQnV0dG9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbkVudGl0eS5lbmFibGVkID0gdmFsdWU7XG59XG4iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpbmRleEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSW5kZXggRW50aXR5JyB9KTtcbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGluZGV4LCBsYWJlbCkge1xuICAgIHRoaXMuaW5kZXhFbnRpdHkuZWxlbWVudC50ZXh0ID0gKGluZGV4ICsgMSkgKyBcIi5cIjtcbiAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IGxhYmVsO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrJywgaW5kZXgpXG4gICAgfSk7XG59XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbn1cbiIsImV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50Jyk7XG5cbkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhbmltYXRpb25OYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkFuaW1hdGlvbiBOYW1lXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KHRoaXMuYW5pbWF0aW9uTmFtZSwgMC4xKTtcbn0iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVUZXh0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVRleHRDb21wb25lbnQnKTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd3aXRoSW1hZ2VXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnV2l0aCBJbWFnZSBXaWR0aCcsIGRlZmF1bHQ6IDM0MCB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnd2l0aG91dEltYWdlV2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1dpdGggSW1hZ2UgV2lkdGgnLCBkZWZhdWx0OiAzNjAgfSk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGV4dCBDb250YWluZXInIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aXRsZUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGl0bGUgRW50aXR5JyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnYm9keUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQm9keSBFbnRpdHknIH0pO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGh1bWJuYWlsIENvbnRhaW5lcicgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbEltYWdlJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaHVtYm5haWwgSW1hZ2UnIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGlmIChzdGVwRGF0YS50aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVsZW1lbnQudGV4dCA9IHN0ZXBEYXRhLnRpdGxlO1xuXG4gICAgICAgIGlmIChzdGVwRGF0YS50aXRsZUNvbG91cikge1xuICAgICAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbGVtZW50LmNvbG9yLmZyb21TdHJpbmcoc3RlcERhdGEudGl0bGVDb2xvdXIpO1xuXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RlcERhdGEudGh1bWJuYWlsKSB7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aG91dEltYWdlV2lkdGg7XG4gICAgICAgIHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LnRleHQgPSBzdGVwRGF0YS50ZXh0O1xuICAgIC8vIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbWluSGVpZ2h0ID0gKHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSkgPyB0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbGVtZW50LmhlaWdodCA6IDA7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgbGV0IHNwYWNpbmcgPSB0aGlzLnRleHRDb250YWluZXIubGF5b3V0Z3JvdXAuc3BhY2luZy55O1xuICAgIGZvciAoY29uc3QgdGV4dENoaWxkIG9mIHRoaXMudGV4dENvbnRhaW5lci5jaGlsZHJlbikge1xuICAgICAgICBoZWlnaHQgKz0gdGV4dENoaWxkLmVsZW1lbnQuaGVpZ2h0ICsgc3BhY2luZztcbiAgICB9XG5cblxuICAgIGlmICghdGhpcy50aXRsZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcblxuICAgIH1cblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoZWlnaHQpO1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRIZWlnaHQoKTtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIC8vdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEF0dGFja0J1dHRvbk1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQXR0YWNrQnV0dG9uTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6dG9nZ2xlQXR0YWNrJywgdGhpcy5oYW5kbGVUb2dnbGVBdHRhY2ssIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUgPT09IFwiYXR0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQXR0YWNrQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0F0dGFja0J1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlVG9nZ2xlQXR0YWNrKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgaWYgKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImF0dGFja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImludGVyYWN0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEF0dGFja0J1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQXR0YWNrQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEF0dGFja0J1dHRvbk1lZGlhdG9yIH0gZnJvbSAnLi9BdHRhY2tCdXR0b25NZWRpYXRvcic7XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEF0dGFja0J1dHRvbk1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazp0b2dnbGVBdHRhY2snLCAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCk7XG59XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGlzRW5hYmxlZCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBpc0VuYWJsZWQ7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBVc2VJdGVtQnV0dG9uTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJVc2VJdGVtQnV0dG9uTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCwgZXF1aXBtZW50U2xvdEtleSkge1xuICAgICAgICBzdXBlcihVc2VJdGVtQnV0dG9uTWVkaWF0b3IuTkFNRSArIGVxdWlwbWVudFNsb3RLZXkpO1xuICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RLZXkgPSBlcXVpcG1lbnRTbG90S2V5O1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRVFVSVBQRURfU0xPVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfVVNFX0lURU1fQlVUVE9OX0hJR0hMSUdIVFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOnVzZUl0ZW0nLCB0aGlzLmhhbmRsZVVzZUl0ZW0sIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUgPT09IFwiYXR0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydVc2VJdGVtQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0VRVUlQUEVEX1NMT1Q6XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBtZW50U2xvdHMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWlwcGVkRGF0YSA9IGVxdWlwbWVudFNsb3RzLmdldCh0aGlzLmVxdWlwbWVudFNsb3RLZXkpO1xuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZERhdGEgJiYgZXF1aXBwZWREYXRhLmljb24pIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiVXNlSXRlbUJ1dHRvbkNvbXBvbmVudFwiXS5zZXRJY29uKGVxdWlwcGVkRGF0YS5pY29uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiVXNlSXRlbUJ1dHRvbkNvbXBvbmVudFwiXS5zZXREZWZhdWx0SWNvbigpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX1VTRV9JVEVNX0JVVFRPTl9ISUdITElHSFQ6XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0U2xvdCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEhpZ2hsaWdodDogJHt0YXJnZXRTbG90fSB2cyAke3RoaXMuZXF1aXBtZW50U2xvdEtleX1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xvdCA9PT0gdGhpcy5lcXVpcG1lbnRTbG90S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSGlnaGxpZ2h0ZWQgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiVXNlSXRlbUJ1dHRvbkNvbXBvbmVudFwiXS50b2dnbGVIaWdobGlnaHQoaXNIaWdobGlnaHRlZCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVVc2VJdGVtKCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfRVFVSVBQRURfSVRFTSwgdGhpcy5lcXVpcG1lbnRTbG90S2V5KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBVc2VJdGVtQnV0dG9uTWVkaWF0b3IgfSBmcm9tICcuL1VzZUl0ZW1CdXR0b25NZWRpYXRvcic7XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VxdWlwbWVudFNsb3RLZXknLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEtleScgfSk7XG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVmYXVsdEljb24nLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnRGVmYXVsdCBJY29uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihVc2VJdGVtQnV0dG9uTWVkaWF0b3IuTkFNRSArIHRoaXMuZXF1aXBtZW50U2xvdEtleSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVXNlSXRlbUJ1dHRvbk1lZGlhdG9yLk5BTUUgKyB0aGlzLmVxdWlwbWVudFNsb3RLZXkpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFVzZUl0ZW1CdXR0b25NZWRpYXRvcih0aGlzLmVudGl0eSwgdGhpcy5lcXVpcG1lbnRTbG90S2V5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0SWNvbiA9IGZ1bmN0aW9uIChhc3NldElkKSB7XG4gICAgY29uc3QgaWNvbkFzc2V0ID0gdGhpcy5hcHAuYXNzZXRzLmdldChhc3NldElkKTtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IGljb25Bc3NldDtcbn1cblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0RGVmYXVsdEljb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSB0aGlzLmRlZmF1bHRJY29uO1xufVxuXG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazp1c2VJdGVtJyk7XG59XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLnRvZ2dsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gaXNFbmFibGVkO1xufSIsImV4cG9ydCBjb25zdCBWZWhpY2xlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdWZWhpY2xlQ29tcG9uZW50Jyk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXNzXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1hc3NcIixcbiAgICBkZWZhdWx0OiAzXG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1heFNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1heCBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWF4Rm9yY2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWF4IEZvcmNlXCIsXG4gICAgZGVmYXVsdDogMC41XG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFycml2ZVRocmVzaG9sZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJBcnJpdmFsIFRocmVzaG9sZFwiLFxuICAgIGRlZmF1bHQ6IDFcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgcGMuVmVjMygpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IG5ldyBwYy5WZWMzKCk7XG59XG5cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc1ZlbG9jaXR5ID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpO1xuXG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gY2xhbXBWZWMzKHRoaXMuc3RlZXJpbmdGb3JjZSwgKHRoaXMubWF4Rm9yY2UpKTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2Uuc2NhbGUoMSAvICh0aGlzLm1hc3MpKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5zdGVlcmluZ0ZvcmNlKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gY2xhbXBWZWMzKHRoaXMudmVsb2NpdHksICh0aGlzLm1heFNwZWVkICogZHQpKTtcblxuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IG5ldyBwYy5WZWMzKCk7XG5cbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KSk7XG5cbiAgICBjb25zdCB5Um90YXRpb24gPSBnZXRBbmdsZSh0aGlzLnZlbG9jaXR5KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgeVJvdGF0aW9uLCAwKTtcbn1cblxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5zZWVrID0gZnVuY3Rpb24gKHRhcmdldCwgZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBsZXQgZGVzaXJlZFZlbG9jaXR5ID0gdGFyZ2V0LmNsb25lKCkuc3ViKHBvc2l0aW9uKTtcbiAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkubm9ybWFsaXplKClcbiAgICBkZXNpcmVkVmVsb2NpdHkuc2NhbGUodGhpcy5tYXhTcGVlZCAqIGR0KTtcbiAgICBjb25zdCBmb3JjZSA9IGRlc2lyZWRWZWxvY2l0eS5zdWIodGhpcy52ZWxvY2l0eSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLmFkZChmb3JjZSk7XG59XG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLmFycml2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCk7XG4gICAgbGV0IGRlc2lyZWRWZWxvY2l0eSA9IHRhcmdldC5jbG9uZSgpLnN1Yihwb3NpdGlvbikubm9ybWFsaXplKCkuc2NhbGUodGhpcy5tYXhTcGVlZCk7XG4gICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IHBvc2l0aW9uLmRpc3RhbmNlKHRhcmdldCk7XG5cbiAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA+IHRoaXMuYXJyaXZhbFRocmVzaG9sZCkge1xuICAgICAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkuc2NhbGUodGhpcy5tYXhTcGVlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5LnNjYWxlKCh0aGlzLm1heFNwZWVkICogZGlzdGFuY2VUb1RhcmdldCAvIHRoaXMuYXJyaXZlVGhyZXNob2xkKSk7XG5cbiAgICB9XG4gICAgY29uc3QgZm9yY2UgPSBkZXNpcmVkVmVsb2NpdHkuc3ViKHRoaXMudmVsb2NpdHkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5hZGQoZm9yY2UpO1xufVxuXG5mdW5jdGlvbiBjbGFtcFZlYzModmVjMywgbWF4VmFsdWUpIHtcbiAgICBpZiAodmVjMy5sZW5ndGgoKSA8IG1heFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2ZWMzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2ZWMzLm5vcm1hbGl6ZSgpLnNjYWxlKG1heFZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuZ2xlKHZlYzMpIHtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih2ZWMzLngsIHZlYzMueik7XG59IiwiZXhwb3J0IGNvbnN0IFNjcmVlblJlc2l6ZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2NyZWVuUmVzaXplQ29tcG9uZW50Jyk7XG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUud2luZG93ID0gd2luZG93O1xuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xufVxuXG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ3JhcGhpY3NEZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICAvLyBGbGlwIGJsZW5kXG4gICAgaWYgKGdyYXBoaWNzRGV2aWNlLndpZHRoIDwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmVlbi5zY2FsZUJsZW5kID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0eS5zY3JlZW4uc2NhbGVCbGVuZCA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdHkuc2NyZWVuLnJlZmVyZW5jZVJlc29sdXRpb24gPSBuZXcgcGMuVmVjMihncmFwaGljc0RldmljZS53aWR0aCwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KTtcblxufSIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQnKTtcblxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NraWxsTmFtZUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTa2lsbCBOYW1lIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbFZhbHVlTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NraWxsIFZhbHVlIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkaWUxTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RpZSAxIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkaWUyTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RpZSAyIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzdWNjZXNzTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N1Y2Nlc3MgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ZhaWx1cmVMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRmFpbHVyZSBMYWJlbCcgfSk7XG5cblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKHNraWxsTmFtZSwgc2tpbGxWYWx1ZSwgZGllMSwgZGllMiwgd2FzU3VjY2Vzcykge1xuICAgIHRoaXMuc2tpbGxOYW1lTGFiZWwuZWxlbWVudC50ZXh0ID0gc2tpbGxOYW1lO1xuICAgIHRoaXMuc2tpbGxWYWx1ZUxhYmVsLmVsZW1lbnQudGV4dCA9IHNraWxsVmFsdWU7XG4gICAgdGhpcy5kaWUxTGFiZWwuZWxlbWVudC50ZXh0ID0gZGllMTtcbiAgICB0aGlzLmRpZTJMYWJlbC5lbGVtZW50LnRleHQgPSBkaWUyO1xuICAgIHRoaXMuc3VjY2Vzc0xhYmVsLmVuYWJsZWQgPSB3YXNTdWNjZXNzO1xuICAgIHRoaXMuZmFpbHVyZUxhYmVsLmVuYWJsZWQgPSAhd2FzU3VjY2Vzcztcbn1cbiIsImV4cG9ydCBjb25zdCBJbnZlbnRvcnlJdGVtQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlJdGVtQ29tcG9uZW50Jyk7XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ljb25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ljb24gRW50aXR5JyB9KTtcbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZXhwYW5kZWRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0V4cGFuZGVkIEVudGl0eScgfSk7XG5cbi8vIERpc3BsYXkgTWV0aG9kc1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoaXRlbURhdGEpIHtcbiAgICB0aGlzLmljb24gPSBpdGVtRGF0YS5pY29uO1xuICAgIGNvbnN0IGljb25Bc3NldCA9IHRoaXMuYXBwLmFzc2V0cy5nZXQodGhpcy5pY29uKTtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IGljb25Bc3NldDtcbiAgICB0aGlzLnNpemUgPSBpdGVtRGF0YS5zaXplO1xuICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gaXRlbURhdGEubmFtZTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMuc2xvdEhlaWdodCAqIHRoaXMuc2l6ZTtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5zbG90SGVpZ2h0ICogdGhpcy5zaXplO1xuXG4gICAgdGhpcy5pdGVtRGF0YSA9IGl0ZW1EYXRhO1xufVxuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5jb2xsYXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbn1cblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuZXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZW5hYmxlZCA9IHRydWU7XG59XG5cbi8vIERyYWcgbWV0aG9kc1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBjb25zdCBkcmFnSGVscGVyID0gbmV3IHBjLkVsZW1lbnREcmFnSGVscGVyKHRoaXMuZW50aXR5LmVsZW1lbnQsIG51bGwpO1xuICAgIGRyYWdIZWxwZXIub24oJ2RyYWc6c3RhcnQnLCB0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKTtcbn07XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnBhcmVudC5maXJlKCdkcmFnOnN0YXJ0JywgdGhpcy5lbnRpdHksIHRoaXMuc2l6ZSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnZlbnRvcnlQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3Jlb3JkZXJJdGVtJywgdGhpcy5oYW5kZVJlb3JkZXJJdGVtLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdlcXVpcEl0ZW0nLCB0aGlzLmhhbmRsZUVxdWlwSXRlbSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xvc2UnLCB0aGlzLmhhbmRsZUNsb3NlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTDpcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBwZWRNYXAgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJJbnZlbnRvcnlQYW5lbENvbXBvbmVudFwiXS5kaXNwbGF5SXRlbXMoaXRlbXMsIGVxdWlwcGVkTWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kZVJlb3JkZXJJdGVtKGl0ZW1VVUlELCBuZXdJbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRU9SREVSX0lOVkVUT1JZX0lURU0sIGl0ZW1VVUlELCBuZXdJbmRleCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXF1aXBJdGVtKGl0ZW1JZCwgc2xvdEtleSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIGl0ZW1JZCwgc2xvdEtleSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xvc2UoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgMTAwKTtcblxuICAgIH1cbn1cbiIsIlxuY29uc3QgZXF1aXBtZW50U2xvdFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdrZXknLFxuICAgICAgICB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEtleScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRpdHknLFxuICAgICAgICB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEVudGl0eScsXG4gICAgICAgIHR5cGU6ICdlbnRpdHknXG4gICAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IEludmVudG9yeVBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9JbnZlbnRvcnlQYW5lbE1lZGlhdG9yJztcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1Nsb3QgQ29udGFpbmVyJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0b3BTbG90UG9zaXRpb24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RvcCBTbG90IFBvc2l0aW9uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjbG9zZUJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2xvc2UgQnV0dG9uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpdGVtQXNzZXQnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnSXRlbSBBc3NldCcgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkcmFnSWNvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRHJhZyBJY29uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90V2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgV2lkdGgnLCBkZWZhdWx0OiAzMjAgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtYXhTbG90cycsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnTWF4IFNsb3RzJywgZGVmYXVsdDogMTIgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlcXVpcG1lbnRTbG90cycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGVxdWlwbWVudFNsb3RTY2hlbWEsIGFycmF5OiB0cnVlLCB0aXRsZTogJ0VxdWlwbWVudCBTbG90cycgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEludmVudG9yeVBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLmVudGl0eS5vbignZHJhZzpzdGFydCcsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbG9zZSwgdGhpcyk7XG5cbiAgICB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcyA9IFtdO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUpIHtcbiAgICBkcmFnRW50aXR5LnJlcGFyZW50KHRoaXMuZW50aXR5KTtcbiAgICB0aGlzLmRyYWdJY29uLnJlcGFyZW50KHRoaXMuZW50aXR5KTtcblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSEVORCwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwKGRyYWdFbnRpdHksIHNpemUsIGV2dC5jaGFuZ2VkVG91Y2hlc1swXSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIChldnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2VNb3ZlKGRyYWdFbnRpdHksIHNpemUsIGV2dCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VVUCwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwKGRyYWdFbnRpdHksIHNpemUsIGV2dCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBjb25zdCBzY3JlZW5Qb3MgPSBuZXcgcGMuVmVjMyhldnQueCwgZXZ0LnksIDApO1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5tYXhQaXhlbFJhdGlvO1xuICAgIHNjcmVlblBvcy54ICo9IHBpeGVsUmF0aW87XG4gICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IHNjcmVlbkNvbXAgPSB0aGlzLmVudGl0eS5lbGVtZW50LnNjcmVlbi5zY3JlZW47XG4gICAgY29uc3QgZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG5cbiAgICBjb25zdCByYXRpb1NjYWxlID0gc2NyZWVuQ29tcC5zY2FsZTtcbiAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgY29uc3QgeSA9IChkZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyh4LCB5LCAwKTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBldnQpIHtcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGV2dCk7XG4gICAgdGhpcy5kcmFnSWNvbi5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgIHRoaXMuZGlzcGxheVBvdGVudGlhbExpc3QoZHJhZ0VudGl0eSwgc2l6ZSwgbmV3UG9zaXRpb24pO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBldnQpIHtcbiAgICBjb25zdCBkcmFnUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZXZ0KTtcbiAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmV4cGFuZCgpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vZmYocGMuRVZFTlRfTU9VU0VVUCk7XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub2ZmKHBjLkVWRU5UX1RPVUNITU9WRSk7XG4gICAgICAgIHRoaXMuYXBwLnRvdWNoLm9mZihwYy5FVkVOVF9UT1VDSEVORCk7XG4gICAgfVxuXG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgeDE6IHRvcFNsb3RQb3NpdGlvbi54LCB5MTogdG9wU2xvdFBvc2l0aW9uLnkgLSB0aGlzLm1heFNsb3RzICogdGhpcy5zbG90SGVpZ2h0LFxuICAgICAgICB4MjogdG9wU2xvdFBvc2l0aW9uLnggKyB0aGlzLnNsb3RXaWR0aCwgeTI6IHRvcFNsb3RQb3NpdGlvbi55XG4gICAgfTtcblxuICAgIGNvbnN0IGluQm91bmRzID0gaXNJbkJvdW5kcyhkcmFnUG9zLCBib3VuZHMpO1xuICAgIGlmIChpbkJvdW5kcykge1xuICAgICAgICBjb25zdCBzY3JlZW5IZWlnaHQgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gR2V0IHRoZSB0b3AgY29ybmVyIHBvc2l0aW9uIG9mIHRoZSBkcmFnZ2luZyBpdGVtIGFzIHRoZSB0YXJnZXRcbiAgICAgICAgY29uc3QgY29ybmVyU2NyZWVuUG9zID0geyB4OiBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS54LCB5OiBzY3JlZW5IZWlnaHQgLSBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS55IH1cbiAgICAgICAgY29uc3QgY29ybmVyUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoY29ybmVyU2NyZWVuUG9zKTtcblxuICAgICAgICBjb25zdCBzbG90SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCh0b3BTbG90UG9zaXRpb24ueSAtIGNvcm5lclBvcy55KSAvIHRoaXMuc2xvdEhlaWdodCkpO1xuICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uaXRlbURhdGE7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Jlb3JkZXJJdGVtJywgaXRlbURhdGEudXVpZCwgc2xvdEluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiBkcm9wcGVkIGluIGVxdWlwIHNsb3RcbiAgICAgICAgdGhpcy5jaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QoZHJhZ0VudGl0eSwgZXZ0KTtcbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QgPSBmdW5jdGlvbiAoZHJhZ2dpbmdFbnRpdHksIG1vdXNlRXZlbnQpIHtcbiAgICBmb3IgKGNvbnN0IGVxdWlwU2xvdCBvZiB0aGlzLmVxdWlwbWVudFNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEtleSA9IGVxdWlwU2xvdC5rZXk7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEVudGl0eSA9IGVxdWlwU2xvdC5lbnRpdHk7XG4gICAgICAgIGNvbnN0IGNvcm5lcnMgPSBlcXVpcFNsb3RFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHBvaW50ID0geyB4OiBtb3VzZUV2ZW50LngsIHk6IGhlaWdodCAtIG1vdXNlRXZlbnQueSB9O1xuICAgICAgICBjb25zdCBib3VuZHMgPSB7XG4gICAgICAgICAgICB4MTogY29ybmVyc1swXS54LCB5MTogY29ybmVyc1swXS55LFxuICAgICAgICAgICAgeDI6IGNvcm5lcnNbMl0ueCwgeTI6IGNvcm5lcnNbMl0ueSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaXNJbkJvdW5kcyhwb2ludCwgYm91bmRzKSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLml0ZW1EYXRhO1xuXG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdlcXVpcEl0ZW0nLCBpdGVtRGF0YS5pZCwgZXF1aXBTbG90S2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlSXRlbU1vdmUgPSBmdW5jdGlvbiAoZHJhZ2dpbmdFbnRpdHksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaXNJbkJvdW5kcyh2YWx1ZSkpIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uZXhwYW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICB9XG4gICAgdGhpcy5zZXRIaWdobGlnaHRQb3NpdGlvbih2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzSW5Cb3VuZHMocG9pbnQsIGJvdW5kcykge1xuICAgIHJldHVybiBwb2ludC54ID4gYm91bmRzLngxICYmIHBvaW50LnggPCBib3VuZHMueDIgJiYgcG9pbnQueSA+IGJvdW5kcy55MSAmJiBwb2ludC55IDwgYm91bmRzLnkyO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgZXZ0LmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2Nsb3NlJyk7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5SXRlbXMgPSBmdW5jdGlvbiAoaXRlbXMsIGVxdWlwcGVkTWFwKSB7XG4gICAgdGhpcy5jbGVhclBhbmVsKCk7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBydW5uaW5nSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICBydW5uaW5nSW5kZXggKz0gaXRlbS5zaXplO1xuXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1Db21wb25lbnQgPSB0aGlzLml0ZW1Bc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICBuZXdJdGVtQ29tcG9uZW50LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uc2V0dXAoaXRlbSk7XG4gICAgICAgIG5ld0l0ZW1Db21wb25lbnQuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG5cbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucHVzaChuZXdJdGVtQ29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdJdGVtQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVxdWlwU2xvdCBvZiB0aGlzLmVxdWlwbWVudFNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEtleSA9IGVxdWlwU2xvdC5rZXk7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEVudGl0eSA9IGVxdWlwU2xvdC5lbnRpdHk7XG5cbiAgICAgICAgaWYgKGVxdWlwcGVkTWFwLmhhcyhlcXVpcFNsb3RLZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBlcXVpcHBlZEl0ZW0gPSBlcXVpcHBlZE1hcC5nZXQoZXF1aXBTbG90S2V5KTtcbiAgICAgICAgICAgIGVxdWlwU2xvdEVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnRcIl0uc2V0dXAoZXF1aXBwZWRJdGVtLmljb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXF1aXBTbG90RW50aXR5LnNjcmlwdFtcIkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudFwiXS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5UG90ZW50aWFsTGlzdCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBkcmFnUG9zKSB7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgeDE6IHRvcFNsb3RQb3NpdGlvbi54LCB5MTogdG9wU2xvdFBvc2l0aW9uLnkgLSB0aGlzLm1heFNsb3RzICogdGhpcy5zbG90SGVpZ2h0LFxuICAgICAgICB4MjogdG9wU2xvdFBvc2l0aW9uLnggKyB0aGlzLnNsb3RXaWR0aCwgeTI6IHRvcFNsb3RQb3NpdGlvbi55XG4gICAgfTtcblxuICAgIGNvbnN0IGluQm91bmRzID0gaXNJbkJvdW5kcyhkcmFnUG9zLCBib3VuZHMpO1xuICAgIGlmIChpbkJvdW5kcykge1xuICAgICAgICAvLyBEbyB0aGUgc3R1ZmZcbiAgICAgICAgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcblxuICAgICAgICAvLyBHZXQgdGhlIHRvcCBjb3JuZXIgcG9zaXRpb24gb2YgdGhlIGRyYWdnaW5nIGl0ZW0gYXMgdGhlIHRhcmdldFxuICAgICAgICBjb25zdCBjb3JuZXJTY3JlZW5Qb3MgPSB7IHg6IGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLngsIHk6IHNjcmVlbkhlaWdodCAtIGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLnkgfVxuICAgICAgICBjb25zdCBjb3JuZXJQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChjb3JuZXJTY3JlZW5Qb3MpO1xuXG4gICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHRvcFNsb3RQb3NpdGlvbi55IC0gY29ybmVyUG9zLnkpIC8gdGhpcy5zbG90SGVpZ2h0KSk7XG4gICAgICAgIHRoaXMucmVvcmRlckxpc3RXaXRoR2FwKGRyYWdFbnRpdHksIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uc2l6ZSwgc2xvdEluZGV4KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5yZW9yZGVyTGlzdFdpdGhHYXAgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSwgZ2FwSW5kZXgpIHtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IHJ1bm5pbmdJbmRleCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW1FbnRpdHkgPSB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllc1tpXTtcblxuICAgICAgICAvLyBEb24ndCByZXBvc2l0aW9uIHRoZSBlbnRpdHkgYmVpbmcgZHJhZ2dlZFxuICAgICAgICBpZiAoZHJhZ0VudGl0eSAhPT0gaW52ZW50b3J5SXRlbUVudGl0eSkge1xuICAgICAgICAgICAgaWYgKGdhcEluZGV4ID49IHJ1bm5pbmdJbmRleCAmJiBnYXBJbmRleCA8IHJ1bm5pbmdJbmRleCArIGludmVudG9yeUl0ZW1FbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5SXRlbUNvbXBvbmVudFwiXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZ0luZGV4ICs9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5uaW5nSW5kZXggKz0gaW52ZW50b3J5SXRlbUVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLnNpemU7XG5cbiAgICAgICAgICAgIGludmVudG9yeUl0ZW1FbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2hpbGUgKHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucG9wKCk7XG4gICAgICAgIGVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEludmVudG9yeURyYWdJY29uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCcpO1xuXG4vKkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcbkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pOyovXG5cblxuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKG5hbWUsIHNpemUpIHtcblxufVxuXG4iLCJleHBvcnQgY29uc3QgSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQnKTtcblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZWZhdWx0QXNzZXQnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnRGVmYXVsdCBBc3NldCcgfSk7XG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7IH1cblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChpY29uQXNzZXRJZCkge1xuICAgIGNvbnN0IGFzc2V0ID0gdGhpcy5hcHAuYXNzZXRzLmdldChpY29uQXNzZXRJZCk7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSBhc3NldDtcblxufVxuXG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSB0aGlzLmRlZmF1bHRBc3NldDtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBQdXJlTVZDIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IENhY29nZW5HYW1lIH0gZnJvbSAnLi92aWV3L0NhY29nZW5HYW1lJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEhpdGJveENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvblBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IFVJU3RvcFByb3BhZ2F0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uJztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50JztcbmltcG9ydCB7IFByb2plY3RpbGVDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50JztcbmltcG9ydCB7IEZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUG9ydGFsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZUNob2ljZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvZGVmYXVsdEFuaW0vRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVRleHRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVRleHRDb21wb25lbnQnO1xuaW1wb3J0IHsgQXR0YWNrQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25Db21wb25lbnQnO1xuaW1wb3J0IHsgVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25QYW5lbC91c2VJdGVtQnV0dG9uL1VzZUl0ZW1CdXR0b25Db21wb25lbnQnO1xuaW1wb3J0IHsgVmVoaWNsZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy92ZWhpY2xlL1ZlaGljbGVDb21wb25lbnQnO1xuaW1wb3J0IHsgU2NyZWVuUmVzaXplQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeUl0ZW1Db21wb25lbnQnO1xuaW1wb3J0IHsgSW52ZW50b3J5UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQnO1xuaW1wb3J0IHsgSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudCc7XG5cblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=