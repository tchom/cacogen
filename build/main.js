(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),s=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=s},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),s=i(542),r=i(999),a=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=s.PureMVC.debug?s.PureMVC.logNotification:s.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),r.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=r.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=a},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),r=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=r.PureMVC.debug?r.PureMVC.logMediator:r.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(s.Notifier);e.Mediator=a},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(117),r=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=r.PureMVC.debug?r.PureMVC.logProxy:r.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(s.Notifier);e.Proxy=a},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var s=o[n];this.removeObserver(s,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var s=o[n];this.registerObserver(s,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var s=i(651);e.Mediator=s.Mediator;var r=i(433);e.Model=r.Model;var a=i(117);e.Notifier=a.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,n,s,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,s||t,r),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function r(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,r=new Array(s);o<s;o++)r[o]=n[o].fn;return r},a.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,s,r){var a=i?i+t:t;if(!this._events[a])return!1;var c,h,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,s),!0;case 6:return d.fn.call(d.context,e,n,o,s,r),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},a.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,n,o){var s=i?i+t:t;if(!this._events[s])return this;if(!e)return r(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||r(this,s);else{for(var c=0,h=[],d=a.length;c<d;c++)(a[c].fn!==e||o&&!a[c].once||n&&a[c].context!==n)&&h.push(a[c]);h.length?this._events[s]=1===h.length?h[0]:h:r(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&r(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},180:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>le});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var s=i(969),r=i(434);const{Facade:a}=i(710);function c(t,e,...i){const c=a.getInstance(t),y=pc.Application.getApplication(),m=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);for(const i of e.connectedComponents){const e=i.script.NavigationComponent;e.connectedComponents.includes(t)||e.connectedComponents.push(t)}const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(y),g=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(y,m),A=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(y,m),f=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(y),N=function(t){const e=[];for(const i of t)E(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=r.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);r.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(m);c.hasProxy(s.h.NAME)&&c.removeProxy(s.h.NAME),c.registerProxy(new s.h(m,g,A,f,N)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),s=Math.round(i.x-.5*n.x),r=Math.round(i.z-.5*n.z);for(let t=s;t<s+n.x;t++)for(let i=r;i<r+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),s=Math.round(n.x),r=Math.round(n.z),a=Math.round(i.x-s/2),c=i.y,h=Math.round(i.z-r/2);for(let t=h;t<h+r;t++)for(let i=a;i<a+s;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),s=Math.round(n.y-.5*o.y),r=Math.round(n.x-.5*o.x),a=Math.round(n.z-.5*o.z);for(let t=r;t<r+o.x;t++)for(let n=a;n<a+o.z;n++){const o=new pc.Vec3(t,s,n);i.push(o);const r=e.findIndex((e=>e.equalsPoint(t,s,n)));if(r>-1){const t=e.splice(r,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function E(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),s=new pc.Vec3(t.x+1,t.y,t.z),r=new pc.Vec3(t.x+1,t.y,t.z+1),a=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(s))))&&(e.some((t=>t.equals(r)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(s))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(h)))))}var y=i(917);const{Proxy:m}=i(710);class g extends m{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(g.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:A}=i(710),{StoryVO:f}=i(553);class N extends A{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],s=t.assets.get(o).resource;i.set(n,s)}super(N.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Proxy:T}=i(710);class _ extends T{get vo(){return this.getData()}static get NAME(){return"ItemsProxy"}constructor(t){super(_.NAME,t)}getItemData(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(console.log(i),Object.hasOwnProperty.call(i,t))return{id:t,type:e,...this.vo[e][t]}}throw new Error("Cannot find data for item:: "+t)}}const{Proxy:C}=i(710),{BotBehavioursVO:M}=i(812);class v extends C{get vo(){return this.getData()}static get NAME(){return"BotBehaviourProxy"}constructor(){super(v.NAME,new M)}getTree(t){return this.vo.getTree(t)}}class S{constructor(t){this.spellsLibrary=t}}const{Proxy:I}=i(710);class P extends I{get vo(){return this.getData()}static get NAME(){return"SpellsProxy"}constructor(t){super(P.NAME,new S(t))}retieveSpellDefinition(t){if(this.vo.spellsLibrary.hasOwnProperty(t))return this.vo.spellsLibrary[t]}get spellsLibrary(){return this.vo.spellsLibrary}}const{Facade:O}=i(710);function b(t,e){O.getInstance(t).registerProxy(new y.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;O.getInstance(t).registerProxy(new g(e));const n=i.assets.get(40814027).resource;O.getInstance(t).registerProxy(new _(n));const o=i.assets.get(41147204).resource;O.getInstance(t).registerProxy(new P(o)),O.getInstance(t).registerProxy(new N),O.getInstance(t).registerProxy(new v)}}const{Facade:x}=i(710);function L(t,e,...i){const o=pc.Application.getApplication(),s=i[0],r=i[1];console.log("Changing scene "+s);const a=o.root.findByName("Root"),c=o.scenes.find(s);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):a&&a.destroy(),x.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,s),x.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,s),x.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,r)}))}function D(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var w=i(958);const{Proxy:R}=i(710),{CombatVO:G}=i(201);class k extends R{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(k.NAME,new G(t,e))}onRegister(){const t=[...this.vo.participants];this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(w.b.NAME+e);t.isDead?this.vo.participants=this.vo.participants.filter((t=>t!==e)):this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=D(t);for(;"end_round"===e[0];)e=D(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var U=i(448);const{Facade:H}=i(710);function V(t,e,...i){const o=i[0],s=H.getInstance(t);s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),s.retrieveProxy(y.u.NAME).updateGameStateType(U.gameplayModeTypes.COMBAT);const r=s.retrieveProxy(w.b.NAME+o);s.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",r);const a=new Map,c=["player"];a.set("player_team",c);const h=[o].concat(r.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));a.set("opposing_team",h);const d=c.concat(h),l=s.retrieveProxy(w.b.NAME+"player");for(const t of d)s.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?s.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):s.sendNotification(n.i.CHARACTER_LOOK_AT+t,r.currentNode);const p=new k(d,a);s.registerProxy(p),setTimeout((()=>{s.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:B}=i(710);function F(t,e,...i){const n=B.getInstance(t),o=n.retrieveProxy(y.u.NAME),s=n.retrieveProxy(k.NAME);o.vo.gameplayMode===U.gameplayModeTypes.COMBAT&&s.nextTurn()}const{Facade:z}=i(710);function Y(t,e,...i){const o=z.getInstance(t),s=o.retrieveProxy(y.u.NAME),r=o.retrieveProxy(k.NAME);s.vo.gameplayMode===U.gameplayModeTypes.COMBAT&&(r.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,r.vo.nextTurnCharacterId))}const{Facade:W}=i(710);function q(t,e,...i){setTimeout((()=>{const e=W.getInstance(t),i=e.retrieveProxy(k.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var K=i(226);const{Facade:j}=i(710);function $(t,e,...i){const n=i[0],o=j.getInstance(t),r=(o.retrieveProxy(s.h.NAME),o.retrieveProxy(w.b.NAME+n).currentNode);o.retrieveProxy(w.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(r))),(new K.o).runCommands(o,n)}var Q=i(710);function X(t,e,...i){const o=Q.Facade.getInstance(t),r=o.retrieveProxy(y.u.NAME),a=o.retrieveProxy(s.h.NAME),c=i[0];a.hasValidNode(c)&&(r.currentMode===U.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):r.currentMode===U.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(k.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:J}=i(710);function Z(t,e,...i){const n=J.getInstance(t),o=i[0],s=i[1],a=n.retrieveProxy(w.b.NAME+o),c=a.vo,h=r.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(s)&&tt(n,a,s)}function tt(t,e,i){const o=e.vo,s=r.q.calculatePath(o.currentNode,i);s&&s.length>0&&(o.availableMovement-=s.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,s))}function et(t,e,...i){const n=i[0],o=pc.Application.getApplication(),s=o.assets.get(40235966),r=o.root.findByName("WorldObjects");for(const t of n){const e=s.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),r.addChild(e)}}function it(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function nt(t,e,...i){const o=i[0],s=Q.Facade.getInstance(t),a=s.retrieveProxy(w.b.NAME+o).vo,c=r.q.breadthFirstSearch(a.currentNode,a.availableMovement);s.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function ot(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0],r=i[1];if(o.retrieveProxy(w.b.NAME+s).currentNode=r,o.retrieveProxy(y.u.NAME).currentMode===U.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(k.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,s):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),500))}}var st=i(467);function rt(t,e,...i){const o=Q.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(y.u.NAME),h=o.retrieveProxy(s.h.NAME),d=o.retrieveProxy(w.b.NAME+a),l=o.retrieveProxy(w.b.NAME+"player"),p=o.retrieveProxy(g.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===U.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?at(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,a):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,a);else if(c.currentMode===U.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(k.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)at(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=r.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=r.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function at(t,e,i){const n=(0,st.z)(e),o=(0,st.z)(i);return!t.rayIntersectsWall(n,o)}var ct=i(829);function ht(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(w.b.NAME+s),a=i[1],c=o.retrieveProxy(w.b.NAME+a);o.sendNotification(n.i.CHARACTER_LOOK_AT+s,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,r.currentNode);const h=o.retrieveProxy(g.NAME),d=r.equippedWeapon+"Fighting",l=c.equippedWeapon+"Fighting",p=r.getSkillTotal(d),u=r.getSkillTotal(l),E=lt(p),y=lt(u);if(r.availableActions-=1,E===y)o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.DISPLAY_ATTACK+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${E}/${y})`);else if(E>y){const t=dt(E,y),e=h.getDamage(r.equippedWeapon,t),i=c.currentArmour,d=Math.max(1,e-i);c.applyDamage(d),o.sendNotification(n.i.DISPLAY_ATTACK+s),c.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,a):(o.sendNotification(n.i.DISPLAY_HIT+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${a} for ${d}`))}else{const t="melee"===h.getWeaponCategory(c.equippedWeapon),e=dt(y,E),i=t?c.equippedWeapon:ct.j.UNARMED,d=h.getDamage(i,e),l=r.currentArmour,p=Math.max(1,d-l);r.applyDamage(p),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${a} damages ${s} for ${p}`),o.sendNotification(n.i.DISPLAY_ATTACK+a),r.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,s):o.sendNotification(n.i.DISPLAY_HIT+s)}const m=o.retrieveProxy(k.NAME);m&&"player"!==m.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s)}),1500)}function dt(t,e){return t-e}function lt(t){return t+pt()+pt()}function pt(){return Math.round(6*Math.random())}var ut=i(321);const{Facade:Et}=i(710);function yt(t,e,...i){const o=Et.getInstance(t),s=i[0],r=i[1],a=i[2];o.retrieveProxy(w.b.NAME+s).useMovement(a.length-1);const c=o.retrieveMediator(ut.y.NAME+s);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(a).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,s,r)}))}function mt(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0];console.log("Kill character:: "+s);const r=o.retrieveProxy(w.b.NAME+s);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",r),o.sendNotification(n.i.DISPLAY_DEATH+s),r&&(r.currentStamina=0,r.currentNode.occupied=!1);const a=o.retrieveProxy(k.NAME);a&&a.removeCharacterFromCombat(s)}const{Facade:gt}=i(710);function At(t,e,...i){const o=i[0],s=gt.getInstance(t);s.hasMediator(k.NAME)&&s.removeMediator(k.NAME),s.sendNotification(n.i.HIDE_WALKABLE_AREA);const r=s.retrieveProxy(y.u.NAME);"player_team"===o?(r.updateGameStateType(U.gameplayModeTypes.GAME_OVER),s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(r.updateGameStateType(U.gameplayModeTypes.EXPLORATION),s.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}function ft(t,e,...i){const n=Q.Facade.getInstance(t),o=i[0],s=n.retrieveProxy(w.b.NAME+o),r=n.retrieveProxy(v.NAME).getTree(s.botBehaviour);r&&r.runCommands(n,o)}i(316),i(744);var Nt=i(852);function Tt(t,e,...i){const o=Q.Facade.getInstance(t);let r=0,a=0;const c=i[0],h=o.retrieveProxy(w.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(w.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode);const E=h.equippedWeapon+"Fighting",y=h.getSkillTotal(E);r+=_t(y),a+=_t(p.skill);const m=o.retrieveProxy(g.NAME);o.retrieveProxy(s.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(a+=2);const A=o.retrieveMediator(Nt.N.NAME),f=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),N=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),A.createProjectile("crossbow_bolt",f,N).then((()=>{if(r>a){const t=o.retrieveProxy(k.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(w.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(w.b.NAME+l)}const e=r-a,i=m.getDamage(h.equippedWeapon,e),s=p.currentArmour,d=Math.max(1,i-s);p.applyDamage(d),p.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,l):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${d}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(k.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function _t(t){return t+Ct()+Ct()}function Ct(){return Math.round(6*Math.random())}const{Facade:Mt}=i(710);function vt(t,e,...i){const o=Mt.getInstance(t);if(o.retrieveProxy(y.u.NAME).currentMode===U.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(k.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const s=i[0],r=i[1],a=o.retrieveProxy(w.b.NAME+s);a&&(a.equippedWeapon=r,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} equips ${r}`))}function St(t,e,...i){const o=Q.Facade.getInstance(t),r=i[0],a=i[1],c=i[2],h=o.retrieveProxy(s.h.NAME).findNearestNode(r);o.retrieveMediator(ut.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,a,c)}))}const{Facade:It}=i(710);function Pt(t,e,...i){const n=It.getInstance(t),o=i[0],r=pc.Application.getApplication(),a=r.assets.get(40523336),c=r.root.findByName("WorldObjects"),h=a.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(s.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:Ot}=i(710);function bt(t,e,...i){const o=Ot.getInstance(t),s=i[0],a=o.retrieveProxy(w.b.NAME+"player"),c=o.retrieveProxy(w.b.NAME+s),h=o.retrieveMediator(ut.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=r.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=r.q.calculatePath(n,t[i]);(!e||o&&o.length<e.length)&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const t=c.dialogueTree;o.sendNotification(n.i.START_DIALOGUE,t)}))}const{Facade:xt}=i(710);function Lt(t,e,...i){const o=xt.getInstance(t),s=o.retrieveProxy(y.u.NAME),r=i[0],a=o.retrieveProxy(N.NAME);a.startDialogueTree(r),s.updateGameStateType(U.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const c=a.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r,step:c})}function Dt(t,e,...i){const o=Q.Facade.getInstance(t),s=o.retrieveProxy(N.NAME),r=s.continueCurrentNodeStep();if(r){if(r.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),r.notifications)for(const t of r.notifications)o.sendNotification(t.name,...t.args);o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:r})}else o.sendNotification(n.i.END_DIALOGUE)}function wt(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(N.NAME),a=r.selectChoice(s);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:a.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:c}),a.test?o.sendNotification(n.i.RESOLVE_DIALOGUE_SKILL_TEST,a.test):a.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,a.goto)}function Rt(t,e,...i){const o=Q.Facade.getInstance(t),s=o.retrieveProxy(N.NAME),r=i[0];s.goToNode(r);const a=s.getCurrentNodeStep();if(a){if(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:a}),console.log("*****"),console.log(a),a.notifications)for(const t of a.notifications)console.log("SHOOT COMMAND: "+t.name),o.sendNotification(t.name,...t.args)}else o.sendNotification(n.i.END_DIALOGUE)}const{Facade:Gt}=i(710);function kt(t,e,...i){const o=Gt.getInstance(t);o.retrieveProxy(y.u.NAME).updateGameStateType(U.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:Ut}=i(710);function Ht(t,e,...i){const o=Ut.getInstance(t),s=i[0],a=o.retrieveProxy(w.b.NAME+"player"),c=o.retrieveProxy(w.b.NAME+s),h=o.retrieveMediator(ut.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=r.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=r.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,s),o.sendNotification(n.i.RESOLVE_ATTACK,"player",s)}))}const{Facade:Vt}=i(710);function Bt(t,e,...i){const n=Vt.getInstance(t),o=i[0];n.retrieveProxy(y.u.NAME).currentAction=o}function Ft(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0],r=o.retrieveProxy(w.b.NAME+"player").getSkillTotal(s.skill),a=zt(),c=zt(),h=r>=a+c;o.sendNotification(n.i.DISPLAY_DIALOGUE_SKILL_TEST,s.skill,r,a,c,h),h?(console.log(`Succeeded ${s.skill} with a ${r} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.success.goto)):(console.log(`Failed ${s.skill} with a ${r} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.failure.goto))}function zt(){return Math.round(6*Math.random())}const{Facade:Yt}=i(710);function Wt(t,e,...i){const o=Yt.getInstance(t),s=o.retrieveProxy(w.b.NAME+"player");o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL),o.sendNotification(n.i.UPDATE_INVENTORY_PANEL,s.inventoryItems,s.equipmentSlots)}const{Facade:qt}=i(710);function Kt(t,e,...i){const o=qt.getInstance(t),s=i[0],r=i[1],a=i[2],c=o.retrieveProxy(w.b.NAME+s);c.reorderInventoryItem(r,a),o.sendNotification(n.i.UPDATE_INVENTORY_PANEL,c.inventoryItems,c.equipmentSlots)}var jt=i(173);function $t(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0],r=i[1],a=i[2],c=o.retrieveProxy(w.b.NAME+s),h=c.inventoryItems.find((t=>t.id===r));if(h)c.attemptToEquipItemToSlot(a,h)&&"weapon"===h.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",h.id);else{const t=o.retrieveProxy(_.NAME),e=new jt.R(t.getItemData(r));c.attemptToEquipItemToSlot(a,e)&&"weapon"===e.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",e.id)}o.sendNotification(n.i.DISPLAY_EQUIPPED_SLOT,c.equipmentSlots),o.sendNotification(n.i.UPDATE_INVENTORY_PANEL,c.inventoryItems,c.equipmentSlots),console.log("Currently equipped armour: "+c.currentArmour)}const{Facade:Qt}=i(710);function Xt(t,e,...i){const n=i[0],o=i[1],s=Qt.getInstance(t),r=s.retrieveProxy(_.NAME);console.log(s),console.log(r);const a=s.retrieveProxy(w.b.NAME+n),c=new jt.R(r.getItemData(o));a.addInventoryItem(c)}const{Facade:Jt}=i(710);function Zt(t,e,...i){const o=Jt.getInstance(t),s=o.retrieveProxy(w.b.NAME+"player"),r=o.retrieveProxy(y.u.NAME),a=i[0],c=s.getEquippedItem(a);c&&"weapon"===c.type&&("attack"!==r.currentAction?(o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id),r.currentAction="attack",o.sendNotification(n.i.SET_USE_ITEM_BUTTON_HIGHLIGHT,a,!0)):(r.currentAction="interact",o.sendNotification(n.i.SET_USE_ITEM_BUTTON_HIGHLIGHT,a,!1)))}function te(t,e,...i){const o=Q.Facade.getInstance(t),r=i[0],a=i[1],c=o.retrieveProxy(s.h.NAME).findNearestNode(r);o.retrieveMediator(ut.y.NAME+"player").moveToNodeWithPromise(c).then((()=>{o.sendNotification(n.i.START_DIALOGUE,a)}))}const{Facade:ee}=i(710);function ie(t,e,...i){const o=ee.getInstance(t),s=o.retrieveProxy(P.NAME);o.sendNotification(n.i.DISPLAY_SPELLBOOK,s.spellsLibrary)}const{Facade:ne}=i(710);function oe(t,e,...i){const o=ne.getInstance(t),s=i[0],r=o.retrieveProxy(P.NAME),a=o.retrieveProxy(y.u.NAME);console.log(i),console.log(`Spell: ${s}.`);const c=r.retieveSpellDefinition(s);console.log(c),a.currentAction="cast_spell",a.selectedSpellCommand=c.command,o.sendNotification(n.i.GAMEPLAY_ACTION_CHANGED,"cast_spell")}function se(t,e,...i){const o=Q.Facade.getInstance(t),s=i[0],r=i[1],a=o.retrieveProxy(y.u.NAME);switch(a.currentAction){case"cast_spell":!function(t,e,i,n){t.hasCommand(e)?t.sendNotification(e,i,n):console.log("No registered command:: "+e),t.retrieveProxy(y.u.NAME).currentAction="interact"}(o,a.selectedSpellCommand,s,r);break;case"attack":default:!function(t,e,i){e.tags.has("gameCharacter")&&function(t,e,i){t.sendNotification(n.i.SELECT_GAME_CHARACTER,e)}(t,e),e.tags.has("navigation")&&function(t,e,i){const o=e.script.NavigationComponent.getNearestNode(i);t.sendNotification(n.i.SELECTED_NODE,o)}(t,e,i)}(o,s,r)}}class re{static get ZAP(){return"SPELL_ZAP"}}function ae(t,e,...i){const o=Q.Facade.getInstance(t),s=o.retrieveProxy(w.b.NAME+"player"),r=o.retrieveProxy(y.u.NAME),a=o.retrieveProxy(P.NAME).retieveSpellDefinition("zap"),c=i[0];if(i[1],c.tags.has("gameCharacter")){const t=c.script.GameCharacterComponent.characterId;!function(t,e,i){const o=t.retrieveProxy(g.NAME);let s=0,r=0;const a=t.retrieveProxy(w.b.NAME+e);let c=t.retrieveProxy(w.b.NAME+i);t.sendNotification(n.i.CHARACTER_LOOK_AT+e,c.currentNode);if(s+=ce(a.getSkillTotal("spellZap")),r+=ce(c.skill),s>r){const e=s-r,a=o.getDamage("zap",e);c.applyDamage(a),c.isDead?(t.sendNotification(n.i.KILL_GAME_CHARACTER,i),t.sendNotification(n.i.SHOW_TOAST_MESSAGE,`player zaps ${i} to death`)):(t.sendNotification(n.i.DISPLAY_HIT+i),t.sendNotification(n.i.SHOW_TOAST_MESSAGE,`player zaps ${i} for ${a}`))}else t.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",c)}(o,"player",t),r.currentMode===U.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.START_COMBAT,t):r.currentMode===U.gameplayModeTypes.COMBAT&&(s.availableActions-=1),s.applyDamage(a.stamina)}}function ce(t){return t+he()+he()}function he(){return Math.round(6*Math.random())}const{Facade:de}=i(710);class le extends de{static getInstance(t){return de.instanceMap[t]||(de.instanceMap[t]=new le(t)),de.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return le.NAME+"StartUp"}startup(t){this.sendNotification(le.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(le.STARTUP,b),this.registerCommand(n.i.CHANGE_SCENE,L),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,V),this.registerCommand(n.i.NEXT_COMBAT_TURN,F),this.registerCommand(n.i.NEXT_COMBAT_ROUND,Y),this.registerCommand(n.i.END_COMBAT_TURN,q),this.registerCommand(n.i.ENEMY_TURN,$),this.registerCommand(n.i.SELECTED_NODE,X),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,Z),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,ft),this.registerCommand(n.i.SHOW_WALKABLE_AREA,et),this.registerCommand(n.i.HIDE_WALKABLE_AREA,it),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,nt),this.registerCommand(n.i.FINISHED_MOVE,ot),this.registerCommand(n.i.SELECT_GAME_CHARACTER,rt),this.registerCommand(n.i.RESOLVE_ATTACK,ht),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Tt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,yt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,Ht),this.registerCommand(n.i.KILL_GAME_CHARACTER,mt),this.registerCommand(n.i.END_COMBAT,At),this.registerCommand(n.i.EQUIP_WEAPON,vt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,St),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,Pt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,bt),this.registerCommand(n.i.NAVIGATE_TO_WORLD_OBJECT,te),this.registerCommand(n.i.START_DIALOGUE,Lt),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,Dt),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,wt),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,Rt),this.registerCommand(n.i.END_DIALOGUE,kt),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,Bt),this.registerCommand(n.i.RESOLVE_DIALOGUE_SKILL_TEST,Ft),this.registerCommand(n.i.HANDLE_WORLD_INPUT,se),this.registerCommand(n.i.CLICK_INVENTORY_BUTTON,Wt),this.registerCommand(n.i.REORDER_INVETORY_ITEM,Kt),this.registerCommand(n.i.EQUIP_ITEM_TO_SLOT,$t),this.registerCommand(n.i.ADD_ITEM_TO_INVENTORY,Xt),this.registerCommand(n.i.USE_EQUIPPED_ITEM,Zt),this.registerCommand(n.i.OPEN_SPELLBOOK,ie),this.registerCommand(n.i.AWAIT_SPELL_CAST,oe),this.registerCommand(re.ZAP,ae)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},623:(t,e,i)=>{i.d(e,{P:()=>r});var n=i(379),o=i(935),s=i(68);class r extends n.H{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(s.i.END_COMBAT_TURN),o.d.SUCCESS}}},488:(t,e,i)=>{i.d(e,{o:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),o.d.SUCCESS}}},650:(t,e,i)=>{i.d(e,{s:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).availableActions>0?o.d.SUCCESS:o.d.FAILURE}}},658:(t,e,i)=>{i.d(e,{$:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).availableMovement>0?o.d.SUCCESS:o.d.FAILURE}}},94:(t,e,i)=>{i.d(e,{r:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).isDead?o.d.SUCCESS:o.d.FAILURE}}},30:(t,e,i)=>{i.d(e,{N:()=>r});var n=i(379),o=i(935),s=i(958);class r extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(s.b.NAME+i).isDead?o.d.SUCCESS:o.d.FAILURE}}},379:(t,e,i)=>{i.d(e,{H:()=>s});var n=i(935),o=i(217);class s{constructor(t){this.initialize(t)}initialize(t){this.id=(0,o.L)(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==n.d.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return n.d.ERROR}close(t){}exit(t){}}},935:(t,e,i)=>{i.d(e,{d:()=>n});class n{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}},996:(t,e,i)=>{i.d(e,{q:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){for(const e of this.children)e.execute(t);return o.d.SUCCESS}}},96:(t,e,i)=>{i.d(e,{_:()=>s});var n=i(379),o=i(935);class s extends n.H{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==o.d.SUCCESS)return i===o.d.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return o.d.SUCCESS}}},890:(t,e,i)=>{i.d(e,{U:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==o.d.FAILURE)return i}return o.d.FAILURE}}},966:(t,e,i)=>{i.d(e,{M:()=>s});var n=i(379),o=i(935);class s extends n.H{tick(t){const e=this.children[0];if(!e)return o.d.ERROR;let i=e.execute(t);return i==o.d.SUCCESS?i=o.d.FAILURE:i==o.d.FAILURE&&(i=o.d.SUCCESS),i}}},226:(t,e,i)=>{i.d(e,{o:()=>M});var n=i(996),o=i(541),s=i(890),r=i(488),a=i(379),c=i(935),h=i(68);class d extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(h.i.RESOLVE_ATTACK,i,n),c.d.SUCCESS}}var l=i(623),p=i(658),u=i(958);class E extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(u.b.NAME+i).currentNode;return e.retrieveProxy(u.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?c.d.SUCCESS:c.d.FAILURE}}var y=i(96),m=i(966),g=i(30),A=i(434);class f extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(u.b.NAME+i),s=o.currentNode,r=e.retrieveProxy(u.b.NAME+n).currentNode.connectedNodes.filter((t=>!t.occupied));if(r.length>0){let t=r.reduce(((t,e)=>N(s,t)<N(s,e)?t:e));const n=A.q.calculatePath(s,t);if(n&&n.length>0){const s=o.vo;for(;n.length>s.availableMovement;)n.shift();e.sendNotification(h.i.NAVIGATE_ALONG_PATH+i,n),o.currentNode=t}}else setTimeout((()=>{e.sendNotification(h.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500);return o.availableMovement=0,c.d.SUCCESS}}function N(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}var T=i(94),_=i(650);class C extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(u.b.NAME+i).availableMovement=0,c.d.SUCCESS}}class M extends o.p{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new n.q([new s.U([new y._([new r.o,new m.M([new T.r]),new m.M([new g.N]),new s.U([new y._([new E,new _.s,new r.o,new d,new C]),new y._([new p.$,new r.o,new f])])]),new l.P])])}}},744:(t,e,i)=>{i.d(e,{b:()=>P});var n=i(996),o=i(541),s=i(890),r=i(488),a=i(623),c=i(96),h=i(966),d=i(30),l=i(94),p=i(658),u=i(650),E=i(379),y=i(935),m=i(68);class g extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(m.i.RESOLVE_RANGED_ATTACK,i,n),y.d.SUCCESS}}var A=i(958),f=i(434);class N extends E.H{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(A.b.NAME+i),s=o.currentNode,r=e.retrieveProxy(A.b.NAME+n).currentNode,a=Math.pow(this.minDistance,2),c=Math.pow(this.maxDistance,2),h=o.availableMovement;o.availableMovement=0;const d=T(r,s);if(d>=a&&d<=c)return y.d.FAILURE;{const t=f.q.breadthFirstSearch(s,h);if(t.length>0){if(d<a){let n=t.reduce(((t,e)=>T(r,t)>T(r,e)?t:e));const a=f.q.calculatePath(s,n);a&&a.length>0&&(e.sendNotification(m.i.NAVIGATE_ALONG_PATH+i,a),o.currentNode=n)}else{let n=t.reduce(((t,e)=>T(r,t)<T(r,e)?t:e));const a=f.q.calculatePath(s,n);a&&a.length>0&&(e.sendNotification(m.i.NAVIGATE_ALONG_PATH+i,a),o.currentNode=n)}return y.d.SUCCESS}return y.d.FAILURE}}}function T(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class _ extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(m.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}var C=i(969),M=i(467);class v extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(A.b.NAME+i),s=(o.currentNode,e.retrieveProxy(A.b.NAME+n)),r=(s.currentNode,e.retrieveProxy(C.h.NAME)),a=(0,M.z)(o),c=(0,M.z)(s);return r.rayIntersectsWall(a,c)?y.d.FAILURE:y.d.SUCCESS}}class S extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(A.b.NAME+i),s=o.currentNode,r=e.retrieveProxy(A.b.NAME+n),a=r.currentNode.connectedNodes,c=e.retrieveProxy(C.h.NAME),h=a.filter((t=>!t.occupied));if(h.length>0){let t=h.reduce(((t,e)=>I(s,t)<I(s,e)?t:e));const n=f.q.calculatePath(s,t);if(n&&n.length>0){const s=o.vo;for(;n.length>s.availableMovement;)n.shift();const a=(0,M.z)(r);let h=0;for(let t=n.length-1;t>=0;t--){const e=n[t],i=new pc.Vec3(e.x,e.y+.5*o.height,e.z);if(!c.rayIntersectsWall(i,a)){h=t;break}}n.splice(0,h),e.sendNotification(m.i.NAVIGATE_ALONG_PATH+i,n),o.currentNode=t}}return o.availableMovement=0,y.d.SUCCESS}}function I(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class P extends o.p{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new n.q([new s.U([new c._([new r.o,new h.M([new l.r]),new h.M([new d.N]),new s.U([new c._([new p.$,new h.M([new v]),new S]),new c._([new p.$,new s.U([new N(9,12),new _])]),new c._([new u.s,new v,new g])])]),new a.P])])}}},541:(t,e,i)=>{i.d(e,{p:()=>r});class n{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class o{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class s{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new o;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],s=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,s.length)&&(r=t+1,n[t]===s[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",s,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class r{constructor(t){this.id="basicMeleeTree",this.blackboard=new n,this.tree=new s(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_TO_WORLD_OBJECT(){return"NAVIGATE_TO_WORLD_OBJECT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get DISPLAY_DIALOGUE_SKILL_TEST(){return"DISPLAY_DIALOGUE_SKILL_TEST"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get RESOLVE_DIALOGUE_SKILL_TEST(){return"RESOLVE_DIALOGUE_SKILL_TEST"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get HANDLE_WORLD_INPUT(){return"HANDLE_WORLD_INPUT"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}static get CLICK_INVENTORY_BUTTON(){return"CLICK_INVENTORY_BUTTON"}static get DISPLAY_INVENTORY_PANEL(){return"DISPLAY_INVENTORY_PANEL"}static get UPDATE_INVENTORY_PANEL(){return"UPDATE_INVENTORY_PANEL"}static get REORDER_INVETORY_ITEM(){return"REORDER_INVETORY_ITEM"}static get EQUIP_ITEM_TO_SLOT(){return"EQUIP_ITEM_TO_SLOT"}static get ADD_ITEM_TO_INVENTORY(){return"ADD_ITEM_TO_INVENTORY"}static get DISPLAY_EQUIPPED_SLOT(){return"DISPLAY_EQUIPPED_SLOT"}static get USE_EQUIPPED_ITEM(){return"USE_EQUIPPED_ITEM"}static get SET_USE_ITEM_BUTTON_HIGHLIGHT(){return"SET_USE_ITEM_BUTTON_HIGHLIGHT"}static get OPEN_SPELLBOOK(){return"OPEN_SPELLBOOK"}static get DISPLAY_SPELLBOOK(){return"DISPLAY_SPELLBOOK"}static get AWAIT_SPELL_CAST(){return"AWAIT_SPELL_CAST"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},812:(t,e,i)=>{i.r(e),i.d(e,{BotBehavioursVO:()=>r});var n=i(316),o=i(226),s=i(744);class r{constructor(t,e){this.behaviourTrees=new Map,this.behaviourTrees.set(n.r.BASIC_MELEE,new o.o),this.behaviourTrees.set(n.r.BASIC_RANGED,new s.b)}getTree(t){return this.behaviourTrees.get(t)}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>r});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:s}=i(940);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(r.NAME+t.id,new s(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}getSkillTotal(t){return this.vo.advancedSkills.has(t)?this.skill+this.vo.advancedSkills.get(t):this.skill}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}set currentStamina(t){this.vo.currentStamina=t}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}reorderInventoryItem(t,e){const i=this.inventoryItems.findIndex((e=>e.uuid===t)),n=this.inventoryItems.splice(i,1);let o=0,s=0;for(let t=0;t<this.inventoryItems.length;t++){const i=this.inventoryItems[t];e>=o&&e<o+i.size&&(s=t),o+=i.size}if(e>=o&&(s=this.inventoryItems.length),"[object Array]"!==Object.prototype.toString.call(this.inventoryItems))throw new Error("Please provide a valid array");if(!n.length)throw new Error("There is no item in the array at index "+i);this.inventoryItems.splice(s,0,n[0])}attemptToEquipItemToSlot(t,e){if(("1hand"===t||"2hand"===t)&&"weapon"===e.type){const i=this.equipmentSlots.get(t);if(i&&"2hand"===i.equipSlot&&(this.equipmentSlots.delete("1hand"),this.equipmentSlots.delete("2hand")),"1hand"===e.equipSlot){if(this.equipmentSlots.set(t,e),"1hand"===t){const t=this.equipmentSlots.get("2hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("2hand")}else if("2hand"===t){const t=this.equipmentSlots.get("1hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("1hand")}}else this.equipmentSlots.set("1hand",e),this.equipmentSlots.set("2hand",e);return!0}return"armour"===t&&"armour"===e.type&&(this.equipmentSlots.set(t,e),!0)}addInventoryItem(t){this.inventoryItems.push(t)}getEquippedItem(t){return this.equipmentSlots.get(t)}get inventoryItems(){return this.vo.inventoryItems}set inventoryItems(t){this.vo.inventoryItems=t}get equipmentSlots(){return this.vo.equipmentSlots}get currentArmour(){let t=0;for(const[e,i]of this.vo.equipmentSlots.entries())i.properties.armour&&(t+=i.properties.armour);return t}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>o});var n=i(173);class o{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||new Map,this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed",this.inventoryItems=[],this.equipmentSlots=new Map}addItem(t){this.inventoryItems.push(new n.R(t))}}},969:(t,e,i)=>{i.d(e,{h:()=>r});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:s}=i(438);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(r.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const s of e){const e=n.q.getDistSquared(s,t);e<o&&(o=e,i=s)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const s of e){const e=n.q.getDistSquared(s,t);e<o&&(o=e,i=s)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),s=this.vo.wallBoundingBoxes;for(const e of s){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let s=0;for(;i.length>0&&s<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const s=e.connectedNodes[i];s.occupied||o.has(s)||(t.push(s),n.push(s),o.set(s,e))}i=t,s++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,s=new Map;for(o.set(t,t),s.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const r=t.connectedNodes[n],a=s.get(t)+1;if(!r.occupied&&(!s.has(r)||a<s.get(r))){s.set(r,a);let n=a+this.heuristic(r,e);i.push(r,n),o.set(r,t)}}}let r=e,a=!1;const c=[];for(c.push(r);!r.equals(t)&&!a;)o.has(r)||!r.equals(e)?(r=o.get(r),c.push(r)):a=!0;return a?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,s=new Map;for(o.set(t,t),s.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const r=t.connectedNodes[n],a=this.getDistSquared(r,t),c=s.get(t)+a;if(!r.occupied&&(!s.has(r)||c<s.get(r))){s.set(r,c);let n=c+this.heuristic(r,e);i.push(r,n),o.set(r,t)}}}let r=e,a=!1;const c=[];for(c.push(r);!r.equals(t)&&!a;)o.has(r)||!r.equals(e)?(r=o.get(r),c.push(r)):a=!0;return a?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,s=n-e,r=Math.abs(o),a=Math.abs(s);const c=o>0?1:-1,h=s>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<r||e<a;)(.5+t)/r<(.5+e)/a?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>s});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class s extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(s.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}get selectedSpellCommand(){return this.vo.selectedSpellCommand}set selectedSpellCommand(t){this.vo.selectedSpellCommand=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none",this.selectedSpellCommand=void 0}}},173:(t,e,i)=>{i.d(e,{R:()=>o});var n=i(217);class o{constructor(t){this.uuid=(0,n.L)(),this.id=t.id,this.icon=t.icon,this.name=t.name,this.description=t.description,this.type=t.type,this.size=t.size??1,this.equipSlot=t.equipSlot??"none",this.properties=t.properties??{}}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},467:(t,e,i)=>{function n(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}i.d(e,{z:()=>n})},217:(t,e,i)=>{function n(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}i.d(e,{L:()=>n})},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),s=i(434),r=i(958);const{Mediator:a}=i(710);class c extends a{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(r.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const s=this.viewComponent.findByName("Hitbox");s&&s.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=s.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,a=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=s.q.calculateWaypointsPath(a,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let s=!0;for(;o.length>1&&s;)e.hasValidLine(o[o.length-2],n)?o.pop():s=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(r.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=s.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(r.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(r.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(180),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(180),s=pc.createScript("CacogenGame");s.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},s.prototype.update=function(t){};var r=i(434);const a=pc.createScript("NavigationComponent");a.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),a.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},a.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},a.prototype.setGrid=function(t){this.nodeGrid=t},a.prototype.getGrid=function(){return this.nodeGrid},a.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=r.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=r.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const E=pc.createScript("GameCharacterComponent");function y(t){const e=new Map;for(const i of t)e.set(i.skillName,i.skillValue);return e}E.attributes.add("characterId",{type:"string",title:"Character Id"}),E.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),E.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),E.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),E.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),E.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"number"}],array:!0}),E.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),E.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),E.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),E.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),E.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},E.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:y(this.advancedSkills),equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1),this.entity.fire("created:gameCharacter")},E.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},E.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},E.prototype.update=function(t){this.moveAlongPath(t)},E.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},E.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},E.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},E.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},E.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var m=i(917),g=i(448);const A=pc.createScript("AgroGameCharacterComponent");A.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),A.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},A.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},A.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(m.u.NAME).vo.gameplayMode!==g.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const s=this.characterProxy.currentNode,r=new pc.Vec3(s.x,s.y,s.z),a=new pc.Vec3(n.x,n.y,n.z);if(r.distance(a)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);r.y+=this.characterProxy.height,t.rayIntersectsWall(r,a)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:f}=i(710);class N extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const T=pc.createScript("ToastMessageComponent");T.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),T.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},T.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},T.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:_}=i(710);class C extends _{static get NAME(){return"InputLayerMediator"}constructor(t){super(C.NAME),this.subscribeNotification([]),this.viewComponent=t,this.viewComponent.on("picker:worldInput",this.prcoessWorldInput,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}prcoessWorldInput(t,i){this.facade.sendNotification(e.i.HANDLE_WORLD_INPUT,t,i)}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const M=pc.createScript("GameCamera");M.attributes.add("distance",{type:"number",default:100,title:"Distance"}),M.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),M.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),M.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),M.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(S.NAME)&&this.facade.removeMediator(S.NAME),this.facade.registerMediator(new S(this.entity))},M.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},M.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},M.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},M.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,s=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,s),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class S extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(S.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const I=pc.createScript("InputLayerComponent");I.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),I.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),I.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.facade.registerMediator(new C(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},I.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},I.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},I.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},I.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},I.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},I.prototype.update=function(t){this.processInputQueue()},I.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("interactionObject")?4:t.tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],this.entity.fire("picker:worldInput",e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition),e.entity.tags.has("interactionObject")&&this.pickedWorldObject(e.entity,e.hitPosition)}var t},I.prototype.pickedPortal=function(t,e){t.fire("picker:portal")},I.prototype.pickedWorldObject=function(t,e){t.fire("picker:interactionObject")};const{Mediator:P}=i(710);class O extends P{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(O.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const b=pc.createScript("PlayerCombatPanelComponent");b.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),b.prototype.initialize=function(){},b.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(O.NAME)&&this.facade.removeMediator(O.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new O(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},b.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:L}=i(710);class D extends L{static get NAME(){return"ActionPanelMediator"}constructor(t){super(D.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const w=pc.createScript("ActionButtonComponent");w.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),w.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),w.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),w.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},w.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},w.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(D.NAME)&&this.facade.removeMediator(D.NAME),this.facade.registerMediator(new D(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var G=i(852);const k=pc.createScript("ProjectileCreatorComponent");k.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),k.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(G.N.NAME)&&this.facade.removeMediator(G.N.NAME),this.facade.registerMediator(new G.N(this.entity))},k.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const s=this.projectileTypes.find((e=>e.projectileName===t));if(!s)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=s.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const U=pc.createScript("ProjectileComponent");U.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),U.prototype.initialize=function(){},U.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},U.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},U.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:H}=i(710);class V extends H{static get NAME(){return"StaminaBarMediator"}constructor(t){super(V.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const B=pc.createScript("StaminaBarComponent");B.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),B.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),B.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(V.NAME)&&this.facade.removeMediator(V.NAME),this.facade.registerMediator(new V(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},B.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:F}=i(710);class z extends F{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(z.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const Y=pc.createScript("ActionsRemainingPanelComponent");Y.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),Y.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(z.NAME)&&this.facade.removeMediator(z.NAME),this.facade.registerMediator(new z(this.entity)),this.pips=[]},Y.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},Y.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const W=pc.createScript("ActionsRemainingPipComponent");W.attributes.add("pipFront",{type:"entity",title:"Pip front"}),W.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:q}=i(710);class K extends q{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,s=i.x/o,r=(this.device.height-i.y)/o;return new pc.Vec3(s,r,0)}};const $=pc.createScript("FloatingStatusCreatorComponent");$.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),$.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),$.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),$.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},$.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:Q}=i(710);class X extends Q{static get NAME(){return"PortalMediator"}constructor(t){super(X.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(m.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,s=i.standingPoint.getPosition();t.currentMode===g.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,s,n,o)}}const J=pc.createScript("PortalComponent");J.attributes.add("portalId",{type:"string",title:"Portal Id"}),J.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),J.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),J.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),J.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),J.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(X.NAME)&&this.facade.removeMediator(X.NAME),this.facade.registerMediator(new X(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:Z}=i(710);class tt extends Z{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(tt.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.DISPLAY_DIALOGUE_SKILL_TEST,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:setTimeout((()=>{this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1}),100);break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.DISPLAY_DIALOGUE_SKILL_TEST:this.viewComponent.script.DialoguePanelComponent.createSkillTest(...i);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const et=pc.createScript("DialoguePanelComponent");et.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),et.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),et.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),et.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),et.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),et.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),et.attributes.add("skillTestEntryTemplate",{type:"asset",title:"Skill Test Entry Asset"}),et.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(tt.NAME)&&this.facade.removeMediator(tt.NAME),this.facade.registerMediator(new tt(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},et.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},et.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createSkillTest=function(t,e,i,n,o){const s=this.skillTestEntryTemplate.resource.instantiate();s.script.DialogueSkillTestComponent.setup(t,e,i,n,o),this.feedEntity.addChild(s),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},et.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},et.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},et.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},et.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const it=pc.createScript("DialogueChoiceComponent");it.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),it.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),it.prototype.initialize=function(){},it.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},it.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const nt=pc.createScript("DefaultAnimationComponent");nt.attributes.add("animationName",{type:"string",title:"Animation Name"}),nt.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const ot=pc.createScript("DialogueTextComponent");ot.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),ot.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),ot.attributes.add("textContainer",{type:"entity",title:"Text Container"}),ot.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),ot.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),ot.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),ot.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),ot.prototype.initialize=function(){},ot.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},ot.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},ot.prototype.postInitialize=function(){this.setHeight()},ot.prototype.update=function(t){};const{Mediator:st}=i(710);class rt extends st{static get NAME(){return"AttackButtonMediator"}constructor(t){super(rt.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const at=pc.createScript("AttackButtonComponent");at.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),at.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(rt.NAME)&&this.facade.removeMediator(rt.NAME),this.facade.registerMediator(new rt(this.entity)),this.entity.element.on("click",this.handleClick,this)},at.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},at.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const{Mediator:ct}=i(710);class ht extends ct{static get NAME(){return"UseItemButtonMediator"}constructor(t,i){super(ht.NAME+i),this.equipmentSlotKey=i,this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED,e.i.DISPLAY_EQUIPPED_SLOT,e.i.SET_USE_ITEM_BUTTON_HIGHLIGHT]),this.viewComponent=t,this.viewComponent.on("click:useItem",this.handleUseItem,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!0):this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!1);break;case e.i.DISPLAY_EQUIPPED_SLOT:const t=i[0].get(this.equipmentSlotKey);t&&t.icon?this.viewComponent.script.UseItemButtonComponent.setIcon(t.icon):this.viewComponent.script.UseItemButtonComponent.setDefaultIcon();break;case e.i.SET_USE_ITEM_BUTTON_HIGHLIGHT:const n=i[0];if(console.log(`Highlight: ${n} vs ${this.equipmentSlotKey}`),n===this.equipmentSlotKey){const t=i[1];this.viewComponent.script.UseItemButtonComponent.toggleHighlight(t)}}}handleUseItem(){this.facade.sendNotification(e.i.USE_EQUIPPED_ITEM,this.equipmentSlotKey)}}const dt=pc.createScript("UseItemButtonComponent");dt.attributes.add("equipmentSlotKey",{type:"string",title:"Equipment Slot Key"}),dt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),dt.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),dt.attributes.add("defaultIcon",{type:"asset",title:"Default Icon"}),dt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(ht.NAME+this.equipmentSlotKey)&&this.facade.removeMediator(ht.NAME+this.equipmentSlotKey),this.facade.registerMediator(new ht(this.entity,this.equipmentSlotKey)),this.entity.element.on("click",this.handleClick,this)},dt.prototype.setIcon=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},dt.prototype.setDefaultIcon=function(){this.iconEntity.element.spriteAsset=this.defaultIcon},dt.prototype.handleClick=function(t){this.entity.fire("click:useItem")},dt.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const lt=pc.createScript("VehicleComponent");function pt(t,e){return t.length()<e?t:t.normalize().scale(e)}lt.attributes.add("mass",{type:"number",title:"Mass",default:3}),lt.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),lt.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),lt.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),lt.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},lt.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=pt(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=pt(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},lt.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},lt.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const ut=pc.createScript("ScreenResizeComponent");ut.prototype.window=window,ut.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},ut.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const Et=pc.createScript("DialogueSkillTestComponent");Et.attributes.add("skillNameLabel",{type:"entity",title:"Skill Name Label"}),Et.attributes.add("skillValueLabel",{type:"entity",title:"Skill Value Label"}),Et.attributes.add("die1Label",{type:"entity",title:"Die 1 Label"}),Et.attributes.add("die2Label",{type:"entity",title:"Die 2 Label"}),Et.attributes.add("successLabel",{type:"entity",title:"Success Label"}),Et.attributes.add("failureLabel",{type:"entity",title:"Failure Label"}),Et.prototype.initialize=function(){},Et.prototype.setup=function(t,e,i,n,o){this.skillNameLabel.element.text=t,this.skillValueLabel.element.text=e,this.die1Label.element.text=i,this.die2Label.element.text=n,this.successLabel.enabled=o,this.failureLabel.enabled=!o};const yt=pc.createScript("InventoryItemComponent");yt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),yt.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),yt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),yt.attributes.add("expandedEntity",{type:"entity",title:"Expanded Entity"}),yt.prototype.setup=function(t){this.icon=t.icon;const e=this.app.assets.get(this.icon);this.iconEntity.element.spriteAsset=e,this.size=t.size,this.labelEntity.element.text=t.name,this.entity.element.height=this.slotHeight*this.size,this.expandedEntity.element.height=this.slotHeight*this.size,this.itemData=t},yt.prototype.collapse=function(){this.expandedEntity.enabled=!1},yt.prototype.expand=function(){this.expandedEntity.enabled=!0},yt.prototype.postInitialize=function(){new pc.ElementDragHelper(this.entity.element,null).on("drag:start",this.onDragStart,this)},yt.prototype.onDragStart=function(){this.entity.parent.fire("drag:start",this.entity,this.size)};const{Mediator:mt}=i(710);class gt extends mt{static get NAME(){return"InventoryPanelMediator"}constructor(t){super(gt.NAME),this.subscribeNotification([e.i.DISPLAY_INVENTORY_PANEL,e.i.UPDATE_INVENTORY_PANEL]),this.viewComponent=t,this.viewComponent.on("reorderItem",this.handeReorderItem,this),this.viewComponent.on("equipItem",this.handleEquipItem,this),this.viewComponent.on("close",this.handleClose,this),this.viewComponent.enabled=!1}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_INVENTORY_PANEL:this.viewComponent.enabled=!0;break;case e.i.UPDATE_INVENTORY_PANEL:const t=i[0],n=i[1];this.viewComponent.script.InventoryPanelComponent.displayItems(t,n)}}handeReorderItem(t,i){this.facade.sendNotification(e.i.REORDER_INVETORY_ITEM,"player",t,i)}handleEquipItem(t,i){this.facade.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,"player",t,i)}handleClose(){setTimeout((()=>{this.viewComponent.enabled=!1}),100)}}const At=pc.createScript("InventoryPanelComponent");function ft(t,e){return t.x>e.x1&&t.x<e.x2&&t.y>e.y1&&t.y<e.y2}At.attributes.add("slotContainer",{type:"entity",title:"Slot Container"}),At.attributes.add("topSlotPosition",{type:"entity",title:"Top Slot Position"}),At.attributes.add("closeButton",{type:"entity",title:"Close Button"}),At.attributes.add("itemAsset",{type:"asset",title:"Item Asset"}),At.attributes.add("dragIcon",{type:"entity",title:"Drag Icon"}),At.attributes.add("slotWidth",{type:"number",title:"Slot Width",default:320}),At.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),At.attributes.add("maxSlots",{type:"number",title:"Max Slots",default:12}),At.attributes.add("equipmentSlots",{type:"json",schema:[{name:"key",title:"Equipment Slot Key",type:"string"},{name:"entity",title:"Equipment Slot Entity",type:"entity"}],array:!0,title:"Equipment Slots"}),At.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(gt.NAME)&&this.facade.removeMediator(gt.NAME),this.facade.registerMediator(new gt(this.entity)),this.entity.on("drag:start",this.handleDragStart,this),this.closeButton.element.on("click",this.handleClose,this),this.inventoryItemEntities=[]},At.prototype.handleDragStart=function(t,e){t.reparent(this.entity),this.dragIcon.reparent(this.entity),this.app.touch?(this.app.touch.on(pc.EVENT_TOUCHMOVE,(i=>{i.touches.length>0&&this.handleMouseMove(t,e,i.touches[0])}),this),this.app.touch.on(pc.EVENT_TOUCHEND,(i=>{i.changedTouches.length>0&&this.handleMouseUp(t,e,i.changedTouches[0])}),this)):(this.entity.element.on(pc.EVENT_MOUSEMOVE,(i=>{this.handleMouseMove(t,e,i)}),this),this.entity.element.on(pc.EVENT_MOUSEUP,(i=>{this.handleMouseUp(t,e,i)}),this))},At.prototype.localPositionFromMouseEvent=function(t){const e=new pc.Vec3(t.x,t.y,0),i=this.app.graphicsDevice.maxPixelRatio;e.x*=i,e.y*=i;const n=this.entity.element.screen.screen,o=this.app.graphicsDevice,s=n.scale,r=e.x/s,a=(o.height-e.y)/s;return new pc.Vec3(r,a,0)},At.prototype.handleMouseMove=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.setLocalPosition(n),this.displayPotentialList(t,e,n)},At.prototype.handleMouseUp=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.enabled=!1,t.script.InventoryItemComponent.expand(),this.entity.element.off(pc.EVENT_MOUSEMOVE),this.entity.element.off(pc.EVENT_MOUSEUP),this.app.touch&&(this.app.touch.off(pc.EVENT_TOUCHMOVE),this.app.touch.off(pc.EVENT_TOUCHEND));const o=this.topSlotPosition.getLocalPosition();if(ft(n,{x1:o.x,y1:o.y-this.maxSlots*this.slotHeight,x2:o.x+this.slotWidth,y2:o.y})){const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},n=this.localPositionFromMouseEvent(i),s=Math.max(0,Math.floor((o.y-n.y)/this.slotHeight)),r=t.script.InventoryItemComponent.itemData;this.entity.fire("reorderItem",r.uuid,s)}else this.checkDropOnEquipmentSlot(t,i)},At.prototype.checkDropOnEquipmentSlot=function(t,e){for(const i of this.equipmentSlots){const n=i.key,o=i.entity.element.screenCorners,s=this.app.graphicsDevice.height;if(ft({x:e.x,y:s-e.y},{x1:o[0].x,y1:o[0].y,x2:o[2].x,y2:o[2].y})){const e=t.script.InventoryItemComponent.itemData;this.entity.fire("equipItem",e.id,n)}}},At.prototype.handleItemMove=function(t,e){this.isInBounds(e)?t.script.InventoryItemComponent.expand():t.script.InventoryItemComponent.collapse(),this.setHighlightPosition(e)},At.prototype.handleClose=function(t){t.event.stopImmediatePropagation(),this.entity.fire("close")},At.prototype.displayItems=function(t,e){this.clearPanel();const i=this.topSlotPosition.getLocalPosition();let n=0;for(let e=0;e<t.length;e++){const o=t[e];n+=o.size;const s=this.itemAsset.resource.instantiate();s.script.InventoryItemComponent.setup(o),s.setLocalPosition(i.x,i.y-n*this.slotHeight,0),this.inventoryItemEntities.push(s),this.entity.addChild(s)}for(const t of this.equipmentSlots){const i=t.key,n=t.entity;if(e.has(i)){const t=e.get(i);n.script.InventoryEquippedSlotComponent.setup(t.icon)}else n.script.InventoryEquippedSlotComponent.clear()}},At.prototype.displayPotentialList=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();if(ft(i,{x1:n.x,y1:n.y-this.maxSlots*this.slotHeight,x2:n.x+this.slotWidth,y2:n.y})){t.script.InventoryItemComponent.expand(),this.dragIcon.enabled=!1;const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},o=this.localPositionFromMouseEvent(i),s=Math.max(0,Math.floor((n.y-o.y)/this.slotHeight));this.reorderListWithGap(t,t.script.InventoryItemComponent.size,s)}else t.script.InventoryItemComponent.collapse(),this.dragIcon.enabled=!0},At.prototype.reorderListWithGap=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();let o=0;for(let s=0;s<this.inventoryItemEntities.length;s++){const r=this.inventoryItemEntities[s];t!==r&&(i>=o&&i<o+r.script.InventoryItemComponent.size&&(o+=e),o+=r.script.InventoryItemComponent.size,r.setLocalPosition(n.x,n.y-o*this.slotHeight,0))}},At.prototype.clearPanel=function(){for(;this.inventoryItemEntities.length>0;)this.inventoryItemEntities.pop().destroy()};const Nt=pc.createScript("InventoryDragIconComponent");Nt.prototype.initialize=function(){},Nt.prototype.setup=function(t,e){};const Tt=pc.createScript("InventoryEquippedSlotComponent");Tt.attributes.add("defaultAsset",{type:"asset",title:"Default Asset"}),Tt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),Tt.prototype.initialize=function(){},Tt.prototype.setup=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},Tt.prototype.clear=function(){this.iconEntity.element.spriteAsset=this.defaultAsset},pc.createScript("PlayerCharacterComponent").prototype.initialize=function(){this.entity.on("created:gameCharacter",(()=>{const i=c.Facade.getInstance(t.GameFacade.KEY);i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","sword"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","pistolet"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","fusil"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","chainmail"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","shield"),i.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,"player","unarmed","1hand"),i.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,"player","unarmed","2hand")}))};const{Mediator:_t}=i(710);class Ct extends _t{static get NAME(){return"InteractionObjectMediator"}constructor(t){super(Ct.NAME),this.subscribeNotification([]),this.viewComponent=t,this.viewComponent.on("picker:interactionObject",this.selectInteractionObject,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectInteractionObject(){const t=this.facade.retrieveProxy(m.u.NAME),i=this.viewComponent.script.InteractionObjectComponent,n=i.dialogueTreeId,o=i.standingPoint.getPosition();t.currentMode===g.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_TO_WORLD_OBJECT,o,n)}}const Mt=pc.createScript("InteractionObjectComponent");Mt.attributes.add("id",{type:"string",title:"Id"}),Mt.attributes.add("dialogueTreeId",{type:"string",title:"Dialogue Tree Id"}),Mt.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),Mt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Ct.NAME)&&this.facade.removeMediator(Ct.NAME),this.facade.registerMediator(new Ct(this.entity)),this.standingPoint.enabled=!1};const{Mediator:vt}=i(710);class St extends vt{static get NAME(){return"SpellbookPanelMediator"}constructor(t){super(St.NAME),this.subscribeNotification([e.i.DISPLAY_SPELLBOOK]),this.viewComponent=t,this.viewComponent.on("click:cast",this.handleCast,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_SPELLBOOK:const t=i[0];this.viewComponent.script.SpellbookPanelComponent.open(t),this.viewComponent.enabled=!0}}handleCast(t){this.facade.sendNotification(e.i.AWAIT_SPELL_CAST,t),this.viewComponent.enabled=!1}}const It=pc.createScript("SpellbookPanelButtonComponent");It.attributes.add("titleLabelEntity",{type:"entity",title:"Title label entity"}),It.prototype.initialize=function(){},It.prototype.setup=function(t){this.titleLabelEntity.element.text=t.name};const Pt=pc.createScript("SpellbookPanelComponent");Pt.attributes.add("spellButtonTemplate",{type:"asset",title:"Spell Button Template"}),Pt.attributes.add("spellListContainer",{type:"entity",title:"Spell List Container"}),Pt.attributes.add("detailsNameEntity",{type:"entity",title:"Details Name Entity"}),Pt.attributes.add("detailsCostEntity",{type:"entity",title:"Details Cost Entity"}),Pt.attributes.add("detailsDescriptionEntity",{type:"entity",title:"Details Description Entity"}),Pt.attributes.add("detailsIconEntity",{type:"entity",title:"Details Icon Entity"}),Pt.attributes.add("castButton",{type:"entity",title:"Cast Button"}),Pt.attributes.add("closeButton",{type:"entity",title:"Close Button"}),Pt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(St.NAME)&&this.facade.removeMediator(St.NAME),this.facade.registerMediator(new St(this.entity)),this.entity.enabled=!1,this.closeButton.element.on("click",this.handleClose,this)},Pt.prototype.open=function(t){this.clearPanel();let e=!1;for(const i in t)if(Object.hasOwnProperty.call(t,i)){const n=t[i],o=this.spellButtonTemplate.resource.instantiate();o.script.SpellbookPanelButtonComponent.setup(n),this.spellListContainer.addChild(o),e||(e=!0,this.displayDetails(i,n)),o.element.on("click",(()=>{this.displayDetails(i,n)}))}},Pt.prototype.displayDetails=function(t,e){this.castButton.element.off("click"),this.castButton.element.on("click",(()=>{this.handleCast(t)})),this.detailsNameEntity.element.text=e.name,this.detailsCostEntity.element.text=e.stamina,this.detailsDescriptionEntity.element.text=e.description},Pt.prototype.clearPanel=function(){for(;this.spellListContainer.children.length>0;)this.spellListContainer.element.off("click"),this.spellListContainer.children[0].destroy()},Pt.prototype.handleCast=function(t){this.entity.fire("click:cast",t)},Pt.prototype.handleClose=function(t){this.entity.enabled=!1};const{Mediator:Ot}=i(710);class bt extends Ot{static get NAME(){return"OpenSpellbookButtonMediator"}constructor(t){super(bt.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:openSpellbook",this.handleOpenSpellbook,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"cast_spell"===i[0]?this.viewComponent.script.OpenSpellbookButtonComponent.toggleHighlight(!0):this.viewComponent.script.OpenSpellbookButtonComponent.toggleHighlight(!1)}}handleOpenSpellbook(t){this.facade.sendNotification(e.i.OPEN_SPELLBOOK,t)}}const xt=pc.createScript("OpenSpellbookButtonComponent");xt.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),xt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(bt.NAME)&&this.facade.removeMediator(bt.NAME),this.facade.registerMediator(new bt(this.entity)),this.entity.element.on("click",this.handleClick,this)},xt.prototype.handleClick=function(t){this.entity.fire("click:openSpellbook",!this.highlightEntity.enabled)},xt.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const{Facade:Lt}=i(710),{PureMVC:Dt}=i(710);new class{constructor(){Dt.debug=!0,Lt.getInstance=t.GameFacade.getInstance,console.log(Lt),this.facade=Lt.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvYm90QmVoYXZpb3VyL0JvdEJlaGF2aW91clByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL3NwZWxscy9TcGVsbHNWby5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9zcGVsbHMvU3BlbGxzUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydHVwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZVNjZW5lQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9TaHVmZmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZENvbWJhdFR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5lbXlUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TaG93V2Fsa2FibGVBcmVhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9BZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0RGlhbG9ndWVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQWRkSXRlbXRvSW52ZW50b3J5Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1VzZUVxdWlwcGVkSXRlbUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvSW50ZXJhY3Rpb25PYmplY3RDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvc3BlbGxzL09wZW5TcGVsbGJvb2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvc3BlbGxzL0F3YWl0U3BlbGxDYXN0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0hhbmRsZVdvcmxkSW5wdXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvc3BlbGxzL1NwZWxsQ29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9zcGVsbHMvU3BlbGxaYXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmFzZU5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clN0YXR1cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWVtU2VxdWVuY2UuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL1ByaW9yaXR5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9kZWNvcmF0b3JzL0ludmVydGVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JlbGlucXVpc2hNb3ZlbWVudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2RhdGEvV2VhcG9uVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvYm90QmVoYXZpb3VyL0JvdEJlaGF2aW91cnNWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQWRqYWNlbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvaXRlbXMvSW52ZW50b3J5SXRlbS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9zdG9yeVByb3h5L1N0b3J5Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvQ2Fjb2dlbkdhbWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvbkJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvY29tcG9uZW50cy9UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2RlZmF1bHRBbmltL0RlZmF1bHRBbmltYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC91c2VJdGVtQnV0dG9uL1VzZUl0ZW1CdXR0b25NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9wbGF5ZXJJbml0L1BsYXllckNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludGVyYWN0aW9uT2JqZWN0L0ludGVyYWN0aW9uT2JqZWN0TWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnRlcmFjdGlvbk9iamVjdC9JbnRlcmFjdGlvbk9iamVjdENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3NwZWxsYm9vay9zcGVsbGJvb2tQYW5lbC9TcGVsbGJvb2tQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3BlbGxib29rL3NwZWxsYm9va1BhbmVsL1NwZWxsYm9va1BhbmVsQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3BlbGxib29rL3NwZWxsYm9va1BhbmVsL1NwZWxsYm9va1BhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3BlbGxib29rL29wZW5CdXR0b24vT3BlblNwZWxsYm9va0J1dHRvbk1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3BlbGxib29rL29wZW5CdXR0b24vT3BlblNwZWxsYm9va0J1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlB1cmVNVkNfMSIsIlZpZXdfMSIsIkNvbnRyb2xsZXIiLCJrZXkiLCJ0aGlzIiwiY29tbWFuZE1hcCIsImluc3RhbmNlTWFwIiwiRXJyb3IiLCJtdWx0aXRvbktleSIsImxvZ2dlciIsIlB1cmVNVkMiLCJkZWJ1ZyIsImxvZ0NvbW1hbmQiLCJsb2dOb25lIiwiaW5pdGlhbGl6ZUNvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyIiwiZ2V0SW5zdGFuY2UiLCJwcm90b3R5cGUiLCJyZWdpc3RlckNvbW1hbmQiLCJub3RpZmljYXRpb25OYW1lIiwiY29tbWFuZENsYXNzUmVmIiwidmlldyIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJleGVjdXRlQ29tbWFuZCIsImhhc0NvbW1hbmQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDb21tYW5kIiwicmVtb3ZlT2JzZXJ2ZXIiLCJWaWV3IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tbWFuZCIsIl9jb25zb2xlQXJncyIsIm5hbWUiLCJhcHBseSIsImNvbmNhdCIsIkNvbnRyb2xsZXJfMSIsIk1vZGVsXzEiLCJGYWNhZGUiLCJsb2dOb3RpZmljYXRpb24iLCJpbml0aWFsaXplTm90aWZpZXIiLCJpbml0aWFsaXplRmFjYWRlIiwiaGFzQ29yZSIsInJlbW92ZUNvcmUiLCJNb2RlbCIsInJlbW92ZU1vZGVsIiwicmVtb3ZlVmlldyIsImluaXRpYWxpemVNb2RlbCIsImluaXRpYWxpemVWaWV3IiwiY29udHJvbGxlciIsInJlZ2lzdGVyUHJveHkiLCJwcm94eSIsIm1vZGVsIiwicmV0cmlldmVQcm94eSIsInByb3h5TmFtZSIsInJlbW92ZVByb3h5IiwiaGFzUHJveHkiLCJyZWdpc3Rlck1lZGlhdG9yIiwibWVkaWF0b3IiLCJyZXRyaWV2ZU1lZGlhdG9yIiwibWVkaWF0b3JOYW1lIiwicmVtb3ZlTWVkaWF0b3IiLCJzbGVlcE1lZGlhdG9yIiwiYXdha2VNZWRpYXRvciIsImhhc01lZGlhdG9yIiwic2VuZE5vdGlmaWNhdGlvbiIsIl9hIiwibm90aWZ5T2JzZXJ2ZXJzIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJOb3RpZmllcl8xIiwiTWVkaWF0b3IiLCJfc3VwZXIiLCJ2aWV3Q29tcG9uZW50IiwiX3RoaXMiLCJjYWxsIiwibG9nTWVkaWF0b3IiLCJzbGVlcGluZyIsInN1YnNjcmliZWROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldE1lZGlhdG9yTmFtZSIsInNldFZpZXdDb21wb25lbnQiLCJnZXRWaWV3Q29tcG9uZW50Iiwib25SZWdpc3RlciIsIm9uUmVtb3ZlIiwib25TbGVlcCIsIm9uQXdha2UiLCJzdWJzY3JpYmVOb3RpZmljYXRpb24iLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJhZGRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZU5vdGlmaWNhdGlvbiIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImFjdGlvbiIsIm9sZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zIiwic2xpY2UiLCJjaGFuZ2VkIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImluZGV4T2YiLCJwdXNoIiwiaW5kZXgiLCJzcGxpY2UiLCJOb3RpZmllciIsInByb3h5TWFwIiwiZ2V0UHJveHlOYW1lIiwiRmFjYWRlXzEiLCJmYWNhZGUiLCJnZXRGYWNhZGUiLCJQcm94eSIsImRhdGEiLCJsb2dQcm94eSIsInNldERhdGEiLCJnZXREYXRhIiwiY29uc29sZUFyZ3MiLCJjb21tYW5kTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJFdmVudEVtaXR0ZXIiLCJtZWRpYXRvck1hcCIsImV2ZW50RW1pdHRlciIsIm9ic2VydmVyTWV0aG9kIiwiY29udGV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJlbWl0IiwicmVnaXN0ZXJPYnNlcnZlcnMiLCJvbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiYmluZCIsImlzU2xlZXBpbmciLCJyZW1vdmVPYnNlcnZlcnMiLCJpbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMSIsImludGVyZXN0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzIiLCJNZWRpYXRvcl8xIiwiUHJveHlfMSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJpIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJsZW4iLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJtb2R1bGUiLCJOYXZpZ2F0aW9uTm9kZSIsIngiLCJ5IiwieiIsImNvbm5lY3RlZE5vZGVzIiwib2NjdXBpZWQiLCJvdGhlck5vZGUiLCJzb21lIiwibm9kZSIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGVkTm9kZUluZGV4IiwiZmluZEluZGV4IiwiZXF1YWxzIiwicGFyc2VHYW1lTWFwQ29tbWFuZCIsImFwcCIsInBjIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsImZsb29yR3JpZCIsIm5hdmlnYXRpb25GbG9vcnMiLCJyb290IiwiZmluZEJ5VGFnIiwiY29tcGxldGVkR3JpZCIsIm5hdmlnYXRpb25Db21wb25lbnRzIiwiZmxvb3JFbnRpdHkiLCJuYXZDb21wIiwic2NyaXB0IiwiY29ubmVjdGVkQ29tcEVudGl0eSIsImNvbm5lY3RlZENvbXBvbmVudHMiLCJjb25uZWN0ZWRDb21wIiwiaW5jbHVkZXMiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZE5hdkNvbXAiLCJqb2luVG9BZGphY2VudEdyaWQiLCJnZXRHcmlkIiwiY3JlYXRlTWFwRmxvb3IiLCJ3YWxscyIsIndhbGxzQm91bmRpbmdCb3hlcyIsIm1hcFdhbGxFbnRpdGllcyIsIm1hcFdhbGxFbnRpdHkiLCJhYWJiIiwiY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5IiwiY3JlYXRlRmxvb3JVbmRlcldhbGxzIiwiZGVzdHJveSIsImNyZWF0ZU1hcFdhbGxzIiwiY292ZXIiLCJjb3ZlclBvaW50cyIsImNvdmVyRW50aXRpZXMiLCJjb3ZlckVudGl0eSIsImNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94IiwiY3JlYXRlTWFwQ292ZXIiLCJwb3J0YWxzIiwiTWFwIiwicG9ydGFsRW50aXRpZXMiLCJwb3J0YWxFbnRpdHkiLCJwb3J0YWxDb21wb25lbnQiLCJwb3J0YWxJZCIsInBvcnRhbCIsImRlc3RpbmF0aW9uU2NlbmUiLCJkZXN0aW5hdGlvblBvcnRhbCIsInN0YW5kaW5nUG9pbnQiLCJnZXRQb3NpdGlvbiIsImhpdGJveFBvaW50IiwiaGl0Ym94Iiwic2V0IiwiY3JlYXRlUG9ydGFscyIsIndheXBvaW50c01hcCIsIndheXBvaW50cyIsImZsb29yTm9kZSIsImlzV2F5cG9pbnQiLCJ3YXlwb2ludCIsIm90aGVyV2F5cG9pbnQiLCJsaW5lIiwiQXN0YXIiLCJhZGRDb25uZWN0ZWROb2RlIiwiY3JlYXRlV2F5cG9pbnRzTWFwIiwiR2FtZU1hcFByb3h5IiwiR2FtZUNvbW1hbmRzIiwiYm94RW50aXR5Iiwic2NhbGUiLCJnZXRMb2NhbFNjYWxlIiwiaGFsZkV4dGVudHMiLCJWZWMzIiwiQm91bmRpbmdCb3giLCJ3YWxsIiwid2FsbFBvcyIsIndhbGxTY2FsZSIsIk1hdGgiLCJyb3VuZCIsImNvcm5lclgiLCJjb3JuZXJaIiwibWF0Y2hpbmdOb2RlSW5kZXgiLCJlcXVhbHNQb2ludCIsImRlbGV0ZWROb2RlcyIsImRlbGV0ZWROb2RlIiwiZGlzY29ubmVjdGVkTm9kZSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsInNuYXBwZWRXaWR0aCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiZ3JpZFRvSm9pbiIsImJveCIsImJveFBvcyIsImJveFNjYWxlIiwiY292ZXJQb2ludCIsImZsb29yTWFwIiwibm9ydGh3ZXN0Iiwibm9ydGgiLCJub3J0aGVhc3QiLCJlYXN0Iiwic291dGhlYXN0Iiwic291dGgiLCJzb3V0aHdlc3QiLCJ3ZXN0IiwibiIsIldlYXBvbnNQcm94eSIsInN1cGVyIiwiTkFNRSIsIndlYXBvbk5hbWUiLCJkYW1hZ2VUaWVyIiwiY2F0ZWdvcnlLZXkiLCJ2byIsImNhdGVnb3J5IiwiZGFtYWdlIiwibWluIiwiU3RvcnlWTyIsIlN0b3J5UHJveHkiLCJzdG9yeVRyZWVzIiwiYXNzZXRzIiwicmVzb3VyY2UiLCJ0cmVlcyIsInN0b3J5VHJlZU1hcCIsInRyZWVLZXkiLCJzdG9yeVRyZWVBc3NldElkIiwic3RvcnlUcmVlIiwiY3VycmVudFRyZWUiLCJjdXJyZW50Tm9kZSIsImN1cnJlbnRTdGVwSW5kZXgiLCJjdXJyZW50Q29uZGl0aW9ucyIsInRyZWVJZCIsInRyZWUiLCJub2RlSWQiLCJub2RlcyIsInN0ZXBJbmRleCIsInN0ZXBzIiwiZ2V0VHJlZSIsImdldE5vZGUiLCJ2YWxpZFN0ZXAiLCJnZXRWYWxpZFN0ZXAiLCJvbmNlQ29uZGl0aW9uIiwiZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCIsImFkZENvbmRpdGlvbiIsIm5leHRWYWxpZFN0ZXAiLCJnZXRTdGVwIiwidGVzdENvbmRpdGlvbnMiLCJjb25kaXRpb25zIiwiZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiY2hvaWNlSW5kZXgiLCJnZXRDdXJyZW50Tm9kZVN0ZXAiLCJjaG9pY2VzIiwiY29uZGl0aW9uIiwic3VjY2VzcyIsIm9yRGVsaW1pdGVyZWQiLCJvckNvbmRpdGlvbnMiLCJzcGxpdCIsIm9yU3VjY2VzcyIsIm9wdGlvbmFsQ29uZGl0aW9uIiwiY2hlY2tDb25kaXRpb24iLCJzdGFydHNXaXRoIiwic3RyaXBwZWRTdHJpbmciLCJyZW1vdmVDb25kaXRpb24iLCJJdGVtc1Byb3h5IiwiaXRlbUlkIiwiaWQiLCJ0eXBlIiwiQm90QmVoYXZpb3Vyc1ZPIiwiQm90QmVoYXZpb3VyUHJveHkiLCJTcGVsbHNWTyIsInNwZWxsc0xpYnJhcnkiLCJTcGVsbHNQcm94eSIsInNwZWxsS2V5Iiwic3RhcnR1cENvbW1hbmQiLCJHYW1lU3RhdGVQcm94eSIsIndlYXBvbnNEYXRhIiwiaXRlbXNEYXRhIiwic3BlbGxzRGF0YSIsImNoYW5nZVNjZW5lQ29tbWFuZCIsInNjZW5lTmFtZSIsIm9sZEhpZXJhcmNoeSIsImZpbmRCeU5hbWUiLCJzY2VuZSIsInNjZW5lcyIsImZpbmQiLCJsb2FkU2NlbmVIaWVyYXJjaHkiLCJ1cmwiLCJlcnIiLCJwYXJlbnQiLCJlcnJvciIsInNodWZmbGVBcnJheSIsImFycmF5IiwiY3VycmVudEluZGV4IiwidGVtcG9yYXJ5VmFsdWUiLCJyYW5kb21JbmRleCIsImZsb29yIiwicmFuZG9tIiwiQ29tYmF0Vk8iLCJDb21iYXRQcm94eSIsInBhcnRpY2lwYW50cyIsInRlYW1zIiwicGFydGljaXBhbnRQcm94aWVzIiwicGFydGljaXBhbnQiLCJwYXJ0aWNpcGFudFByb3h5IiwiR2FtZUNoYXJhY3RlclByb3h5IiwiaXNEZWFkIiwiZmlsdGVyIiwiZSIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZGVsZXRlIiwidGVhbSIsImNoYXJhY3RlckluZGV4Iiwic3RhcnRDb21iYXRDb21tYW5kIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCIsInVwZGF0ZUdhbWVTdGF0ZVR5cGUiLCJnYW1lcGxheU1vZGVUeXBlcyIsImluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkiLCJwbGF5ZXJUZWFtIiwib3Bwb3NpbmdUZWFtIiwiY29tYmF0R3JvdXAiLCJpdGVtIiwicG9zIiwic2VsZiIsInBsYXllclByb3h5IiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsImVuZW15VHVybkNvbW1hbmQiLCJlbmVteUlkIiwiZW5lbXlDdXJyZW50Tm9kZSIsIkJhc2ljTWVsZWVUcmVlIiwicnVuQ29tbWFuZHMiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJnYW1lTWFwUHJveHkiLCJoYXNWYWxpZE5vZGUiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsInRhcmdldE5vZGUiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJtb3ZlYWJsZU5vZGVzIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJoYW5kbGVWYWxpZE1vdmUiLCJjaGFyYWN0ZXJQcm94eSIsInBhdGgiLCJzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlTm9kZXMiLCJ3YWxrYWJsZVRpbGVBc3NldCIsImNvbnRhaW5lciIsInRpbGUiLCJpbnN0YW50aWF0ZSIsInNldExvY2FsUG9zaXRpb24iLCJhZGRDaGlsZCIsImhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVUaWxlRW50aXRpZXMiLCJ3YWxrYWJsZVRpbGVFbnRpdHkiLCJhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCIsImVuZE1vdmVtZW50Q29tbWFuZCIsImVuZE5vZGUiLCJzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwidGFyZ2V0Q2hhcmFjdGVyUHJveHkiLCJwbGF5ZXJDaGFyYWN0ZXJQcm94eSIsIndlYXBvbkNhdGVnb3J5IiwiZ2V0V2VhcG9uQ2F0ZWdvcnkiLCJlcXVpcHBlZFdlYXBvbiIsImN1cnJlbnRBY3Rpb24iLCJjYW5TZWVUYXJnZXQiLCJhdmFpbGFibGVBY3Rpb25zIiwidGFyZ2V0Q3VycnJlbnROb2RlIiwiaXNUYXJnZXRBZGphY2VudCIsInBhdGhUb1RhcmdldCIsInVub2NjdXBpZWROb2RlcyIsInBsYXllck5vZGUiLCJzaG9ydGVzdFBhdGgiLCJvdGhlclBhdGgiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyIiwicGxheWVyUG9pbnQiLCJ0YXJnZXRQb2ludCIsInJheUludGVyc2VjdHNXYWxsIiwicmVzb2x2ZUF0dGFja0NvbW1hbmQiLCJhdHRhY2tlcklkIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVySWQiLCJkZWZlbmRlclByb3h5Iiwid2VhcG9uc1Byb3h5IiwiYXR0YWNrZXJXZWFwb25Ta2lsbCIsImRlZmVuZGVyV2VhcG9uU2tpbGwiLCJhdHRhY2tlclNraWxsVG90YWwiLCJnZXRTa2lsbFRvdGFsIiwiZGVmZW5kZXJTa2lsbFRvdGFsIiwiYXR0YWNrZXJSb2xsIiwicm9sbEF0dGFja1NraWxsIiwiZGVmZW5kZXJSb2xsIiwiZGV0ZXJtaW5lRGFtYWdlVGllciIsImdldERhbWFnZSIsImRlZmVuZGVyQXJtb3VyIiwiY3VycmVudEFybW91ciIsImRhbWFnZUFmdGVyQXJtb3VyIiwibWF4IiwiYXBwbHlEYW1hZ2UiLCJoYXNNZWxlZVdlYXBvbiIsIndlYXBvbiIsIldlYXBvblR5cGVzIiwiYXR0YWNrZXJBcm1vdXIiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwic2tpbGwiLCJyb2xsRGljZSIsIm1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIiwidGFyZ2V0SWQiLCJ1c2VNb3ZlbWVudCIsImNoYXJhY3Rlck1lZGlhdG9yIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZSIsInRoZW4iLCJraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJjdXJyZW50U3RhbWluYSIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwibG9zaW5nVGVhbSIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsImVuZW15UHJveHkiLCJib3RCZWhhdmlvdXIiLCJyZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyU2NvcmUiLCJkZWZlbmRlclNjb3JlIiwiYXR0YWNrZXJOb2RlIiwiZGVmZW5kZXJOb2RlIiwiaXNJbkNvdmVyIiwicHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJwcm9qZWN0aWxlT3JpZ2luIiwicHJvamVjdGlsZVRhcmdldCIsImNyZWF0ZVByb2plY3RpbGUiLCJuZWlnaGJvdXJpbmdOb2RlcyIsInBvc3NpYmxlVGFyZ2V0cyIsImVxdWlwV2VhcG9uQ29tbWFuZCIsIm5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQiLCJzdGFuZGluZ1Bvc2l0aW9uIiwic3RhbmRpbmdOb2RlIiwiZmluZE5lYXJlc3ROb2RlIiwibW92ZVRvTm9kZVdpdGhQcm9taXNlIiwiYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIiwicGxheWVyQ2hhcmFjdGVyQXNzZXQiLCJwbGF5ZXJFbnRpdHkiLCJyZXRyaWV2ZVBvcnRhbCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCIsInRhcmdldENoYXJhY3RlcklkIiwicGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IiLCJkaWFsb2d1ZVRyZWUiLCJzdGFydERpYWxvZ3VlQ29tbWFuZCIsImdhbWVzdGF0ZVByb3h5Iiwic3RvcnlQcm94eSIsInN0YXJ0RGlhbG9ndWVUcmVlIiwib3BlbmluZ1N0ZXAiLCJzdGVwIiwiY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIiwibmV4dFN0ZXAiLCJjb250aW51ZUN1cnJlbnROb2RlU3RlcCIsInNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCIsInNlbGVjdGVkQ2hvaWNlIiwic2VsZWN0Q2hvaWNlIiwicmVzcG9uc2UiLCJ0aXRsZSIsInRleHQiLCJ0aXRsZUNvbG91ciIsInRlc3QiLCJnb3RvIiwiZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQiLCJuZXdOb2RlIiwiZ29Ub05vZGUiLCJjdXJyZW50U3RlcCIsImVuZERpYWxvZ3VlQ29tbWFuZCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kIiwiY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIiwibmV3QWN0aW9uIiwicmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCIsInBsYXllclNraWxsIiwiZGllMSIsImRpZTIiLCJmYWlsdXJlIiwiY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kIiwiaW52ZW50b3J5SXRlbXMiLCJlcXVpcG1lbnRTbG90cyIsInJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCIsInBsYXllcklkIiwiaXRlbVVVSUQiLCJuZXdJbmRleCIsInJlb3JkZXJJbnZlbnRvcnlJdGVtIiwiZXF1aXBJdGVtVG9TbG90Q29tbWFuZCIsImVxdWlwbWVudEtleSIsIml0ZW1JbkludmVudG9yeSIsImF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdCIsIml0ZW1zUHJveHkiLCJpbnZlbnRvcnlJdGVtIiwiSW52ZW50b3J5SXRlbSIsImdldEl0ZW1EYXRhIiwiYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZCIsImFkZEludmVudG9yeUl0ZW0iLCJ1c2VFcXVpcHBlZEl0ZW1Db21tYW5kIiwiZXF1aXBtZW50U2xvdEtleSIsImVxdWlwcGVkSXRlbSIsImdldEVxdWlwcGVkSXRlbSIsIm5hdmlnYXRlVG9JbnRlcmFjdGlvbk9iamVjdENvbW1hbmQiLCJkaWFsb2d1ZVRyZWVJZCIsIm9wZW5TcGVsbGJvb2tDb21tYW5kIiwic3BlbGxzUHJveHkiLCJhd2FpdFNwZWxsQ2FzdENvbW1hbmQiLCJzcGVsbFByb3h5IiwicmV0aWV2ZVNwZWxsRGVmaW5pdGlvbiIsInNlbGVjdGVkU3BlbGxDb21tYW5kIiwiaGFuZGxlV29ybGRJbnB1dENvbW1hbmQiLCJwaWNrZWRFbnRpdHkiLCJoaXRQb3NpdGlvbiIsInNwZWxsQ29tbWFuZCIsImhhbmRsZUNhc3RTcGVsbCIsInRhZ3MiLCJoYW5kbGVHYW1lQ2hhcmFjdGVyIiwibmVhcmVzdE5vZGUiLCJnZXROZWFyZXN0Tm9kZSIsImhhbmRsZU5hdmlnYXRpb24iLCJoYW5kbGVEZWZhdWx0IiwiU3BlbGxDb21tYW5kcyIsInNwZWxsWmFwQ29tbWFuZCIsInphcERhdGEiLCJyZXNvbHZlWmFwQXR0YWNrIiwic3RhbWluYSIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsIlpBUCIsIkJvdEJlaGF2aW91clR5cGVzIiwiYm90QmVoYXZpb3VyRW51bXMiLCJOT05FIiwiQkFTSUNfTUVMRUUiLCJCQVNJQ19SQU5HRUQiLCJFbmRDb21iYXRUdXJuIiwidGljayIsImJsYWNrYm9hcmQiLCJTZXRQbGF5ZXJBc1RhcmdldCIsIkhhc0FjdGlvbnNSZW1haW5pbmciLCJIYXNNb3ZlbWVudFJlbWFpbmluZyIsIklzRGVhZCIsIklzVGFyZ2V0RGVhZCIsIkJhc2VOb2RlIiwiY2hpbGRyZW4iLCJpbml0aWFsaXplIiwiX2VudGVyIiwiX29wZW4iLCJzdGF0dXMiLCJfdGljayIsIl9jbG9zZSIsIl9leGl0IiwiZW50ZXJOb2RlIiwiZW50ZXIiLCJvcGVuTm9kZSIsIm9wZW4iLCJ0aWNrTm9kZSIsImNsb3NlTm9kZSIsImNsb3NlIiwiZXhpdE5vZGUiLCJleGl0IiwiQmVoYXZpb3VyU3RhdHVzIiwiTWFzdGVyTm9kZSIsImNoaWxkTm9kZSIsImV4ZWN1dGUiLCJNZW1TZXF1ZW5jZSIsIlByaW9yaXR5IiwiY2hpbGQiLCJJbnZlcnRlciIsIk1lbGVlQXR0YWNrVGFyZ2V0IiwiSXNOZXh0VG9QbGF5ZXIiLCJjaGFyYWN0ZXJDdXJyZW50Tm9kZSIsIk1vdmVUb3dhcmRzVGFyZ2V0IiwicmVzdWx0IiwicmVkdWNlIiwiYSIsImRpc3RhbmNlU3FydCIsInAxIiwicDIiLCJwb3ciLCJSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMiLCJDaGFyYWN0ZXJDb21tYW5kVHJlZSIsIlJhbmdlQXR0YWNrVGFyZ2V0IiwiTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwidGFyZ2V0Q3VycmVudE5vZGUiLCJtaW5EaXN0YW5jZVNxcnQiLCJtYXhEaXN0YW5jZVNxcnQiLCJtb3ZlUG9pbnRzQXZhaWxhYmxlIiwiZGlzdGFuY2VUb1RhcmdldCIsIlBpY2tOZXh0QWN0aW9uIiwiQ2FuU2VlVGFyZ2V0IiwidGFyZ2V0UHJveHkiLCJmcm9tUG9zIiwidG9Qb3MiLCJNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSIsImRlbGV0ZUNvdW50IiwicGF0aE5vZGUiLCJoZWlnaHQiLCJCYXNpY1JhbmdlZFRyZWUiLCJCbGFja2JvYXJkIiwiaW5pdGlhbGlzZSIsImJhc2VNZW1vcnkiLCJ0cmVlTWVtb3J5IiwidHJlZVNjb3BlIiwibm9kZU1lbW9yeSIsIm9wZW5Ob2RlcyIsIm5vZGVTY29wZSIsIm1lbW9yeSIsImdldFRyZWVNZW1vcnkiLCJnZXROb2RlTWVtb3J5IiwiZ2V0TWVtb3J5IiwiVGljayIsIm5vZGVDb3VudCIsInRhcmdldCIsInBvcCIsIkJlaGF2aW91clRyZWUiLCJsYXN0T3Blbk5vZGVzIiwiY3Vyck9wZW5Ob2RlcyIsInN0YXJ0Iiwid2VhcG9uRW51bXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm1hcCIsImJlaGF2aW91clRyZWVzIiwiR2FtZUNoYXJhY3RlclZPIiwicGFyYW1zIiwibWF4TW92ZW1lbnQiLCJtYXhBY3Rpb25zUGVyVHVybiIsImNvc3QiLCJkYW1hbmdlIiwibWF4aW11bVN0YW1pbmEiLCJtYXhTdGFtaW5hIiwic2tpbGxLZXkiLCJhZHZhbmNlZFNraWxscyIsInNsb3RJbmRleCIsIm9yaWdpbmFsSW5kZXgiLCJ1dWlkIiwib3JpZ2luYWxJdGVtIiwicnVubmluZ0luZGV4VG90YWwiLCJzaXplIiwidG9TdHJpbmciLCJzbG90S2V5IiwiaXRlbURhdGEiLCJleGlzdGluZ0l0ZW0iLCJlcXVpcFNsb3QiLCJvdGhlclNsb3QiLCJpbnZlbnRvcnlJdGVtRGF0YSIsImFybW91ciIsInByb3BlcnRpZXMiLCJtYXhMdWNrIiwiY3VycmVudEx1Y2siLCJHYW1lTWFwVk8iLCJtYXBHcmlkIiwid2FsbEJvdW5kaW5nQm94ZXMiLCJuYXZHcmlkIiwibmF2aWdhdGlvbkdyaWQiLCJkaXN0U3FydFRvTmVhcmVzdE5vZGUiLCJkaXN0VG9Ob2RlIiwiZnJvbSIsInRvIiwiZGlzdGFuY2UiLCJkaXJlY3Rpb24iLCJjbG9uZSIsInN1YiIsIm5vcm1hbGl6ZSIsInJheSIsIlJheSIsIm1hcFdhbGxzIiwiaW50ZXJzZWN0c1JheSIsImF0dGFja2luZ0Zyb20iLCJhZGphY2VudENvdmVyUG9pbnRzIiwiYWRqYWNlbnRQb2ludHMiLCJwb2ludCIsInBvaW50cyIsImdldEFkamFjZW50UG9pbnRzIiwiYWRqYWNlbnRQb2ludCIsImFkamFjZW50Q292ZXJQb2ludCIsIm5vZGVBIiwibm9kZUIiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJJbmZpbml0eSIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsImRpc3RWYWx1ZSIsImdldERpc3RTcXVhcmVkIiwicHQxIiwicHQyIiwiYWJzIiwieDAiLCJ6MCIsIngxIiwiejEiLCJkeCIsImR5IiwibngiLCJueSIsInNpZ25feCIsInNpZ25feSIsIml4IiwiaXkiLCJpc1ZhbGlkTGluZSIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwic2VsZWN0ZWRBY3Rpb24iLCJFWFBMT1JBVElPTiIsIkNPTUJBVCIsIkRJQUxPR1VFIiwiR0FNRV9PVkVSIiwiaWNvbiIsImRlc2NyaXB0aW9uIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImNyZWF0ZVVVSUQiLCJzIiwiaGV4RGlnaXRzIiwic3Vic3RyIiwiam9pbiIsInByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJmaXJlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwibG9va0F0UG9pbnQiLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlQXR0YWNrIiwiYW5pbWF0ZUhpdCIsInNldFBhdGgiLCJuZWFyZXN0V2F5cG9pbnQiLCJmaW5kTmVhcmVzdFdheXBvaW50IiwibmVhcmVzdFRhcmdldFdheXBvaW50IiwiaGFzVmFsaWRMaW5lIiwiaGFzTGluZVRvUG9pbnQiLCJ1bnNoaWZ0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsIm9yaWdpblBvaW50IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkNhY29nZW5HYW1lIiwiY3JlYXRlU2NyaXB0IiwiS0VZIiwidXBkYXRlIiwiZHQiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiYXR0cmlidXRlcyIsImFkZCIsImVudGl0eSIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwic2NyZWVuUG9zIiwibm9kZUdyaWQiLCJHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiYWR2YW5jZWRTa2lsbHNTY2hlbWFUb01hcCIsImFkdmFuY2VkU2tpbGxzU2NoZW1hIiwic2tpbGxPYmplY3QiLCJza2lsbE5hbWUiLCJza2lsbFZhbHVlIiwiZGVmYXVsdCIsInNjaGVtYSIsImVudW0iLCJwcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwic3RhdHNPdmVycmlkZXMiLCJwcm94eVBhcmFtcyIsImNoYXJhY3RlckhlaWdodCIsImRpYWxvZ3VlVHJlZU5hbWUiLCJjb21iYXRHcm91cE5hbWUiLCJjb21yYWRlRW50aXRpZXMiLCJjb21yYWRlRW50aXR5IiwiY29tcmFkZUlkIiwidmVoaWNsZSIsImFuaW1hdGlvbiIsInBsYXkiLCJsb29wIiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5vZGVQb2ludCIsImNoYXJhY3RlclNwZWVkIiwic2VlayIsImFycml2ZSIsInByb2Nlc3NWZWxvY2l0eSIsImR6IiwiYW5nbGVUb0Rlc3QiLCJhdGFuMiIsIlBJIiwic2V0RXVsZXJBbmdsZXMiLCJBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCIsImhhbmRsZU1hcEdyaWRDcmVhdGVkIiwiaGFuZGxlTW92ZWRUb05vZGUiLCJjaGFyYWN0ZXJQb2ludCIsInNpZ2h0UmFuZ2UiLCJUb2FzdE1lc3NhZ2VNZWRpYXRvciIsImFkZE1lc3NhZ2UiLCJUb2FzdE1lc3NhZ2VDb21wb25lbnQiLCJtZXNzYWdlUXVldWUiLCJjdXJyZW50VGltZW91dCIsIm1lc3NhZ2UiLCJzaG93TmV4dE1lc3NhZ2UiLCJuZXh0TWVzc2FnZSIsImxhYmVsRW50aXR5IiwiZWxlbWVudCIsIm1lc3NhZ2VUaW1lIiwiSW5wdXRMYXllck1lZGlhdG9yIiwicHJjb2Vzc1dvcmxkSW5wdXQiLCJoYW5kbGVTY3JvbGxpbmciLCJoaXRQb2ludCIsImNoYXJhY3RlckVudGl0eSIsIkdhbWVDYW1lcmEiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsInZlcnRpY2FsU2Nyb2xsIiwibmV3Q2FtZXJhSGVpZ2h0IiwiZHJhZ011bHRpcGxpZXJZIiwibWF0aCIsImNsYW1wIiwibWluQ2FtZXJhSGVpZ2h0IiwibWF4Q2FtZXJhSGVpZ2h0IiwiZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24iLCJmb2N1c1BvaW50IiwiY2FtZXJhUG9zaXRpb24iLCJ0YXJnZXRYIiwic2luIiwidGFyZ2V0WiIsImNvcyIsImNhbWVyYVRhcmdldFBvc2l0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJjdXJyZW50UG9zIiwidHdlZW5YIiwidHdlZW5ZIiwidHdlZW5aIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsImlucHV0UXVldWUiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNsaWNrRG93blN0YXJ0IiwiaXNEcmFnZ2luZyIsImhhbmRsZVBpY2tlclJlc3VsdCIsIkVWRU5UX01PVVNFTU9WRSIsIm9uTW91c2VNb3ZlIiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJzY3JlZW5Qb3NpdGlvbiIsInByb2Nlc3NJbnB1dFF1ZXVlIiwiaGlnaGVzdFByaW9yaXR5UGljayIsImhpZ2hlc3RQcmlvcml0eSIsInBpY2siLCJwaWNrUHJpb3JpdHkiLCJwaWNrZWRQb3J0YWwiLCJwaWNrZWRXb3JsZE9iamVjdCIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwiSGl0Ym94Q29tcG9uZW50IiwiY2VudGVyIiwiQWN0aW9uUGFuZWxNZWRpYXRvciIsImhhbmRsZUZpcmVDb21tYW5kIiwiYWN0aW9uTmFtZSIsInNlbGVjdEFjdGlvbiIsIkFjdGlvbkJ1dHRvbkNvbXBvbmVudCIsImhpZ2hsaWdodEVudGl0eSIsImhhbmRsZUNoYW5nZUFjdGlvbiIsImhhbmRsZUNsaWNrIiwiY29tbWFuZHMiLCJjb21tYW5kQXJncyIsIkFjdGlvblBhbmVsQ29tcG9uZW50IiwiYnV0dG9uIiwiYWN0aW9uQnV0dG9ucyIsInN0b3BQcm9wYWdhdGlvbiIsIlByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IiwicHJvamVjdGlsZU5hbWUiLCJwcm9qZWN0aWxlU2NoZW1lIiwicHJvamVjdGlsZVR5cGVzIiwic2NoZW1lIiwibmV3UHJvamVjdGlsZSIsInByb2plY3RpbGVUZW1wbGF0ZSIsInNldFRhcmdldCIsIlByb2plY3RpbGVDb21wb25lbnQiLCJuZXdQb3NpdGlvbiIsInNwZWVkIiwicHJvamVjdGlsZVNwZWVkIiwic3ViMiIsIm11bCIsIlN0YW1pbmFCYXJNZWRpYXRvciIsIm5ld1N0YW1pbmEiLCJ1cGRhdGVTdGFtaW5hIiwiU3RhbWluYUJhckNvbXBvbmVudCIsImJhckVudGl0eU1heFdpZHRoIiwiYmFyRW50aXR5Iiwid2lkdGgiLCJsZXJwIiwicmVjdCIsInN0YW1pbmFMYWJlbCIsIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIiwibWF4QWN0aW9ucyIsInNob3dBdmFpbGFibGVBY3Rpb24iLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQiLCJwaXBzIiwiY3JlYXRlUGlwIiwibmV3UGlwIiwicGlwVGVtcGxhdGUiLCJBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Iiwic2hvdyIsInBpcEZyb250IiwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IiLCJzY3JpcHRDb21wIiwiZmxvYXRlck5hbWUiLCJkaXNwbGF5U3RhdHVzIiwiVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQiLCJzZXRXb3JsZFBvc2l0aW9uIiwid29ybGRQb3NpdGlvbiIsInNjcmVlbiIsImRldmljZSIsImdyYXBoaWNzRGV2aWNlIiwic2NyZWVuRW50aXR5IiwicG9zdFVwZGF0ZSIsInBvc2l0aW9uIiwid29ybGRTcGFjZVRvU2NyZWVuU3BhY2UiLCJ3b3JsZFBvcyIsIndvcmxkVG9TY3JlZW4iLCJwaXhlbFJhdGlvIiwibWF4UGl4ZWxSYXRpbyIsInJhdGlvU2NhbGUiLCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQiLCJmbG9hdGluZ1N0YXR1c2VzIiwib3RoZXJTY2hlbWUiLCJ0YXJnZXRQb3MiLCJuZXdTdGF0dXMiLCJ0ZW1wbGF0ZSIsIlBvcnRhbE1lZGlhdG9yIiwic2VsZWN0ZWRQb3J0YWwiLCJQb3J0YWxDb21wb25lbnQiLCJEaWFsb2d1ZVBhbmVsTWVkaWF0b3IiLCJoYW5kbGVDbGlja0NvbnRpbnVlIiwiaGFuZGxlQ2xpY2tDaG9pY2UiLCJjbGVhclBhbmVsIiwiY3JlYXRlU3RlcCIsImNyZWF0ZVNraWxsVGVzdCIsImNsZWFyRGlhbG9ndWVDaG9pY2VzIiwic2V0Q29udGludWVCdXR0b24iLCJEaWFsb2d1ZVBhbmVsQ29tcG9uZW50IiwiY29udGludWVCdXR0b25FbnRpdHkiLCJzdGVwRGF0YSIsImNyZWF0ZVRleHQiLCJjaG9pY2UiLCJjcmVhdGVDaG9pY2UiLCJuZXdUZXh0IiwidGV4dEVudHJ5VGVtcGxhdGUiLCJzZXR1cCIsImZlZWRFbnRpdHkiLCJyZXNpemVUb0NvbnRlbnRzIiwic2Nyb2xsYmFyVmlld0VudGl0eSIsInNjcm9sbGJhciIsIm5ld0Nob2ljZSIsImNob2ljZUVudHJ5VGVtcGxhdGUiLCJoYW5kbGVTZWxlY3RDaG9pY2UiLCJ3YXNTdWNjZXNzIiwibmV3U2tpbGxUZXN0Iiwic2tpbGxUZXN0RW50cnlUZW1wbGF0ZSIsInNwYWNpbmdWZXJ0aWNhbCIsImxheW91dGdyb3VwIiwic3BhY2luZyIsImZlZWRDaGlsZCIsImNvbnRlbnRFbnRpdHkiLCJjb250ZW50SGVpZ2h0IiwiRGlhbG9ndWVDaG9pY2VDb21wb25lbnQiLCJsYWJlbCIsImluZGV4RW50aXR5IiwiRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCIsImFuaW1hdGlvbk5hbWUiLCJEaWFsb2d1ZVRleHRDb21wb25lbnQiLCJ0aXRsZUVudGl0eSIsImNvbG9yIiwiZnJvbVN0cmluZyIsInRodW1ibmFpbCIsInRleHRDb250YWluZXIiLCJ3aXRoSW1hZ2VXaWR0aCIsIndpdGhvdXRJbWFnZVdpZHRoIiwidGh1bWJuYWlsQ29udGFpbmVyIiwiZW5hYmxlIiwiYm9keUVudGl0eSIsInNldEhlaWdodCIsIm1pbkhlaWdodCIsInRleHRDaGlsZCIsIkF0dGFja0J1dHRvbk1lZGlhdG9yIiwiaGFuZGxlVG9nZ2xlQXR0YWNrIiwidG9nZ2xlSGlnaGxpZ2h0IiwiYXR0YWNrRW5hYmxlZCIsIkF0dGFja0J1dHRvbkNvbXBvbmVudCIsImlzRW5hYmxlZCIsIlVzZUl0ZW1CdXR0b25NZWRpYXRvciIsImhhbmRsZVVzZUl0ZW0iLCJlcXVpcHBlZERhdGEiLCJzZXRJY29uIiwic2V0RGVmYXVsdEljb24iLCJ0YXJnZXRTbG90IiwiaXNIaWdobGlnaHRlZCIsIlVzZUl0ZW1CdXR0b25Db21wb25lbnQiLCJhc3NldElkIiwiaWNvbkFzc2V0IiwiaWNvbkVudGl0eSIsInNwcml0ZUFzc2V0IiwiZGVmYXVsdEljb24iLCJWZWhpY2xlQ29tcG9uZW50IiwiY2xhbXBWZWMzIiwidmVjMyIsIm1heFZhbHVlIiwidmVsb2NpdHkiLCJzdGVlcmluZ0ZvcmNlIiwibWF4U3BlZWQiLCJ5Um90YXRpb24iLCJkZXNpcmVkVmVsb2NpdHkiLCJmb3JjZSIsImFycml2YWxUaHJlc2hvbGQiLCJhcnJpdmVUaHJlc2hvbGQiLCJTY3JlZW5SZXNpemVDb21wb25lbnQiLCJ3aW5kb3ciLCJvblJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzY2FsZUJsZW5kIiwicmVmZXJlbmNlUmVzb2x1dGlvbiIsIkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50Iiwic2tpbGxOYW1lTGFiZWwiLCJza2lsbFZhbHVlTGFiZWwiLCJkaWUxTGFiZWwiLCJkaWUyTGFiZWwiLCJzdWNjZXNzTGFiZWwiLCJmYWlsdXJlTGFiZWwiLCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50Iiwic2xvdEhlaWdodCIsImV4cGFuZGVkRW50aXR5IiwiY29sbGFwc2UiLCJleHBhbmQiLCJFbGVtZW50RHJhZ0hlbHBlciIsIm9uRHJhZ1N0YXJ0IiwiSW52ZW50b3J5UGFuZWxNZWRpYXRvciIsImhhbmRlUmVvcmRlckl0ZW0iLCJoYW5kbGVFcXVpcEl0ZW0iLCJoYW5kbGVDbG9zZSIsIml0ZW1zIiwiZXF1aXBwZWRNYXAiLCJkaXNwbGF5SXRlbXMiLCJJbnZlbnRvcnlQYW5lbENvbXBvbmVudCIsImlzSW5Cb3VuZHMiLCJib3VuZHMiLCJ4MiIsInkxIiwieTIiLCJoYW5kbGVEcmFnU3RhcnQiLCJjbG9zZUJ1dHRvbiIsImludmVudG9yeUl0ZW1FbnRpdGllcyIsImRyYWdFbnRpdHkiLCJyZXBhcmVudCIsImRyYWdJY29uIiwiaGFuZGxlTW91c2VNb3ZlIiwiY2hhbmdlZFRvdWNoZXMiLCJoYW5kbGVNb3VzZVVwIiwibG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50Iiwic2NyZWVuQ29tcCIsImRpc3BsYXlQb3RlbnRpYWxMaXN0IiwiZHJhZ1BvcyIsInRvcFNsb3RQb3NpdGlvbiIsIm1heFNsb3RzIiwic2xvdFdpZHRoIiwic2NyZWVuSGVpZ2h0IiwiY29ybmVyU2NyZWVuUG9zIiwic2NyZWVuQ29ybmVycyIsImNvcm5lclBvcyIsImNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdCIsImRyYWdnaW5nRW50aXR5IiwibW91c2VFdmVudCIsImVxdWlwU2xvdEtleSIsImNvcm5lcnMiLCJoYW5kbGVJdGVtTW92ZSIsInNldEhpZ2hsaWdodFBvc2l0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicnVubmluZ0luZGV4IiwibmV3SXRlbUNvbXBvbmVudCIsIml0ZW1Bc3NldCIsImVxdWlwU2xvdEVudGl0eSIsImNsZWFyIiwicmVvcmRlckxpc3RXaXRoR2FwIiwiZ2FwSW5kZXgiLCJpbnZlbnRvcnlJdGVtRW50aXR5IiwiSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQiLCJJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQiLCJpY29uQXNzZXRJZCIsImFzc2V0IiwiZGVmYXVsdEFzc2V0IiwiSW50ZXJhY3Rpb25PYmplY3RNZWRpYXRvciIsInNlbGVjdEludGVyYWN0aW9uT2JqZWN0IiwiaW50ZXJhY3Rpb25PYmplY3RDb21wb25lbnQiLCJJbnRlcmFjdGlvbk9iamVjdENvbXBvbmVudCIsIlNwZWxsYm9va1BhbmVsTWVkaWF0b3IiLCJoYW5kbGVDYXN0Iiwic3BlbGxzRGljdCIsIlNwZWxsYm9va1BhbmVsQnV0dG9uQ29tcG9uZW50Iiwic3BlbGxEYXRhIiwidGl0bGVMYWJlbEVudGl0eSIsIlNwZWxsYm9va1BhbmVsQ29tcG9uZW50IiwiZGVmYXVsdFNob3duIiwic3BlbGxidXR0b24iLCJzcGVsbEJ1dHRvblRlbXBsYXRlIiwic3BlbGxMaXN0Q29udGFpbmVyIiwiZGlzcGxheURldGFpbHMiLCJjYXN0QnV0dG9uIiwiZGV0YWlsc05hbWVFbnRpdHkiLCJkZXRhaWxzQ29zdEVudGl0eSIsImRldGFpbHNEZXNjcmlwdGlvbkVudGl0eSIsIk9wZW5TcGVsbGJvb2tCdXR0b25NZWRpYXRvciIsImhhbmRsZU9wZW5TcGVsbGJvb2siLCJpc1Zpc2libGUiLCJPcGVuU3BlbGxib29rQnV0dG9uQ29tcG9uZW50Iiwic3RhcnR1cCJdLCJtYXBwaW5ncyI6IndDQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUFZLEVBQVEsS0FDcEJDLEVBQVMsRUFBUSxLQUVqQkMsRUFBNEIsV0FDNUIsU0FBU0EsRUFBV0MsR0FFaEIsR0FEQUMsS0FBS0MsV0FBYSxHQUNkSCxFQUFXSSxZQUFZSCxHQUN2QixNQUFNLElBQUlJLE1BTEgsNERBT1hILEtBQUtJLFlBQWNMLEVBQ25CQyxLQUFLSyxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFRRSxXQUFhWixFQUFVVSxRQUFRRyxRQUN6RlQsS0FBS1UsdUJBcURULE9BbkRBWixFQUFXYSxpQkFBbUIsU0FBVVosVUFDN0JDLEtBQUtFLFlBQVlILElBRTVCRCxFQUFXYyxZQUFjLFNBQVViLEdBQy9CLE9BQUtBLEdBR0FDLEtBQUtFLFlB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Z0JBQWtCLFNBQVVHLEdBQy9EcnBDLEtBQUtvaEMsZ0JBQWdCL0ksUUFBVWdSLEdDeEJuQyxNQUFRam5DLE9BQU0sSUFBSyxFQUFRLE1BQ3JCLFFBQUU5QixJQUFZLEVBQVEsS0FrRGYsSUFYYixNQUNJLGNBQ0lBLEdBQVFDLE9BQVEsRUFDaEIsR0FBT0ssWUFBY3luQixFQUFXLFdBQVgsWUFDckJ0Z0IsUUFBUUMsSUFBSSxJQUVaaEksS0FBS3NILE9BQVMsR0FBTzFHLFlBQVl5bkIsRUFBVyxXQUFYLEtBQ2pDcm9CLEtBQUtzSCxPQUFPMnBDLFFBQVFqeEMsUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiY29udHJvbGxlciBrZXkgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWRcIjtcbnZhciBDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoa2V5KSB7XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcCA9IHt9O1xuICAgICAgICBpZiAoQ29udHJvbGxlci5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nQ29tbWFuZCA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgQ29udHJvbGxlcihrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gPSBjb21tYW5kQ2xhc3NSZWY7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmV4ZWN1dGVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIGlmICghY29tbWFuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kLm5hbWUpO1xuICAgICAgICBjb21tYW5kLmFwcGx5KHZvaWQgMCwgW3RoaXMubXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRDRCRkUwXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiM4NzI0QkRcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIlxuICAgIF07XG4gICAgQ29udHJvbGxlci5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9Db250cm9sbGVyXCIpO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9Nb2RlbFwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJGYWNhZGUgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgRmFjYWRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2FkZShrZXkpIHtcbiAgICAgICAgaWYgKEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTm90aWZpY2F0aW9uIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTm90aWZpZXIoa2V5KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplRmFjYWRlKCk7XG4gICAgfVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5oYXNDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBGYWNhZGUucmVtb3ZlQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RlbF8xLk1vZGVsLnJlbW92ZU1vZGVsKGtleSk7XG4gICAgICAgIFZpZXdfMS5WaWV3LnJlbW92ZVZpZXcoa2V5KTtcbiAgICAgICAgQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlcihrZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplRmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVnaXN0ZXJDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVtb3ZlQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICB0aGlzLm1vZGVsLnJlZ2lzdGVyUHJveHkocHJveHkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZXRyaWV2ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmVtb3ZlUHJveHkocHJveHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmhhc1Byb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyTWVkaWF0b3IobWVkaWF0b3IpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJldHJpZXZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmVtb3ZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zbGVlcE1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuYXdha2VNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oYXNNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5hcHBseSh0aGlzLCBbRmFjYWRlLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgKF9hID0gdGhpcy52aWV3KS5ub3RpZnlPYnNlcnZlcnMuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsID0gTW9kZWxfMS5Nb2RlbC5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzJGMkUxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjRkZGMzI1XCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCJcbiAgICBdO1xuICAgIEZhY2FkZS5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBGYWNhZGU7XG59KCkpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNhZGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJNZWRpYXRvclwiO1xudmFyIE1lZGlhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZWRpYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZWRpYXRvcihtZWRpYXRvck5hbWUsIHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dNZWRpYXRvciA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIF90aGlzLm1lZGlhdG9yTmFtZSA9IG1lZGlhdG9yTmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgX3RoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwibm90aWZpY2F0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRNZWRpYXRvck5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTmFtZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25TbGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInNsZWVwXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uQXdha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwiYXdha2VcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcImlzU2xlZXBpbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsZWVwaW5nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5hZGRTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnVuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmNoYW5nZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9sZE5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuc2xpY2UoKTtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwoX3RoaXMsIG5vdGlmaWNhdGlvbikgfHwgY2hhbmdlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKHRoaXMsIG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkICYmIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSh0aGlzLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnJlbW92ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Y0RjZGRVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMzY1NkMxXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCJcbiAgICBdO1xuICAgIHJldHVybiBNZWRpYXRvcjtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVkaWF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTVVMVElUT05fTVNHID0gXCJNb2RlbCBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RlbChrZXkpIHtcbiAgICAgICAgdGhpcy5wcm94eU1hcCA9IHt9O1xuICAgICAgICBpZiAoTW9kZWwuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICB9XG4gICAgTW9kZWwuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IE1vZGVsKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnJlbW92ZU1vZGVsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgcHJveHkuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICB0aGlzLnByb3h5TWFwW3Byb3h5LmdldFByb3h5TmFtZSgpXSA9IHByb3h5O1xuICAgICAgICBwcm94eS5vblJlZ2lzdGVyKCk7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5wcm94eU1hcFtwcm94eU5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgcHJveHkgPSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICBwcm94eS5vblJlbW92ZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgTW9kZWwuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gTW9kZWw7XG59KCkpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vRmFjYWRlXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwibXVsdGl0b25LZXkgZm9yIHRoaXMgTm90aWZpZXIgbm90IHlldCBpbml0aWFsaXplZCFcIjtcbnZhciBOb3RpZmllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmllcigpIHtcbiAgICB9XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5mYWNhZGUgPSB0aGlzLmdldEZhY2FkZSgpO1xuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmZhY2FkZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5mYWNhZGUpLnNlbmROb3RpZmljYXRpb24uYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuZ2V0RmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tdWx0aXRvbktleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZV8xLkZhY2FkZS5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmllcjtcbn0oKSk7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJQcm94eVwiO1xudmFyIFByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm94eSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm94eShwcm94eU5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJveHlOYW1lID0gcHJveHlOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nUHJveHkgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb3h5LnByb3RvdHlwZS5nZXRQcm94eU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TmFtZTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBQcm94eS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzEwMjQxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMjdEMDRDXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCJcbiAgICBdO1xuICAgIHJldHVybiBQcm94eTtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJveHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXJlTVZDKCkge1xuICAgIH1cbiAgICBQdXJlTVZDLmxvZ0NvbW1hbmQgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmROYW1lKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIiA9PiAgXCIgKyBjb21tYW5kTmFtZSArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCI6IGFyZ3MgWyBcIiArIGFyZ3MgKyBcIiBdICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ01lZGlhdG9yID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ1Byb3h5ID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vbmUgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgIHJldHVybiBQdXJlTVZDO1xufSgpKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdXJlTVZDLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiVmlldyBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXcoa2V5KSB7XG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIGlmIChWaWV3Lmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9XG4gICAgVmlldy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgVmlldyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnJlbW92ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5ldmVudEVtaXR0ZXIpLmVtaXQuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICBpZiAodGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYXRvci5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBtZWRpYXRvciBmb3IgcmV0cmlldmFsIGJ5IG5hbWVcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0gPSBtZWRpYXRvcjtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgIG1lZGlhdG9yLm9uUmVnaXN0ZXIodGhpcy5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKCFtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBhd2FrZW5cbiAgICAgICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1lZGlhdG9yIGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gc2xlcHRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IG5vdGlmaWNhdGlvbiB0aGUgbWVkaWF0b3IgaXMgaW50ZXJlc3RlZCBpbi4uLlxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMSA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMVtfaV07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJlc3RcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBnZXQgbm90aWZpY2F0aW9uIGludGVyZXN0cyBpZiBhbnlcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYXRvciBhcyBhbiBvYnNlcnZlciBmb3IgZWFjaCBub3RpZmljYXRpb25cbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18yID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18yW19pXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgfTtcbiAgICBWaWV3Lmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIFZpZXc7XG59KCkpO1xuZXhwb3J0cy5WaWV3ID0gVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0NvbnRyb2xsZXJcIik7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlcjtcbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9GYWNhZGVcIik7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZV8xLkZhY2FkZTtcbnZhciBNZWRpYXRvcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01lZGlhdG9yXCIpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yXzEuTWVkaWF0b3I7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Nb2RlbFwiKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbF8xLk1vZGVsO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTm90aWZpZXJcIik7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXJfMS5Ob3RpZmllcjtcbnZhciBQcm94eV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1Byb3h5XCIpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5XzEuUHJveHk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1B1cmVNVkNcIik7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDXzEuUHVyZU1WQztcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvVmlld1wiKTtcbmV4cG9ydHMuVmlldyA9IFZpZXdfMS5WaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Ob2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWROb2Rlcy5zb21lKG5vZGUgPT4gbm9kZS54ID09PSBvdGhlck5vZGUueFxuICAgICAgICAgICAgJiYgbm9kZS55ID09PSBvdGhlck5vZGUueSAmJiBub2RlLnogPT09IG90aGVyTm9kZS56KTtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyTm9kZS54ICYmIHRoaXMueSA9PT0gb3RoZXJOb2RlLnkgJiYgdGhpcy56ID09PSBvdGhlck5vZGUuejtcbiAgICB9XG5cbiAgICBlcXVhbHNQb2ludCh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gejtcbiAgICB9XG5cbiAgICBhZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQob3RoZXJOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5wdXNoKG90aGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlSW5kZXggPSB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUuZXF1YWxzKG90aGVyTm9kZSkpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnNwbGljZShjb25uZWN0ZWROb2RlSW5kZXgsIDEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG4gICAgLy8gR2V0IG5hdmlnYXRpb24gZmxvb3JzXG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVNYXBGbG9vcihhcHApO1xuICAgIGNvbnN0IHdhbGxzID0gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IGNvdmVyID0gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IHBvcnRhbHMgPSBjcmVhdGVQb3J0YWxzKGFwcCk7XG5cbiAgICAvLyB3YXlwb2ludHNcbiAgICBjb25zdCB3YXlwb2ludHNNYXAgPSBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKTtcblxuICAgIC8vIFJlZ2lzdGVyIG1lZGlhdG9yc1xuXG4gICAgaWYgKGZhY2FkZS5oYXNQcm94eShHYW1lTWFwUHJveHkuTkFNRSkpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBtYXBcbiAgICAgICAgZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKVxuICAgIH1cblxuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lTWFwUHJveHkoZmxvb3JHcmlkLCB3YWxscywgY292ZXIsIHBvcnRhbHMsIHdheXBvaW50c01hcCkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwRmxvb3IoYXBwKSB7XG4gICAgY29uc3QgbmF2aWdhdGlvbkZsb29ycyA9IGFwcC5yb290LmZpbmRCeVRhZygnbmF2aWdhdGlvbl9mbG9vcicpO1xuXG4gICAgbGV0IGNvbXBsZXRlZEdyaWQgPSBbXTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25Db21wb25lbnRzID0gW107XG4gICAgLy8gRmlyc3QgcGFyc2UgLSBjcmVhdGUgbm9kZXMgYW5kIGNvbm5lY3Rpb25zIGZvciBpbmRpdmlkdWFsIFxuICAgIC8vIG5hdmlnYXRpb24gY29tcG9uZW50c1xuICAgIGZvciAoY29uc3QgZmxvb3JFbnRpdHkgb2YgbmF2aWdhdGlvbkZsb29ycykge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gZmxvb3JFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgICAgIG5hdmlnYXRpb25Db21wb25lbnRzLnB1c2gobmF2Q29tcCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdkNvbXAuY29ubmVjdGVkQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkQ29tcCA9IGNvbm5lY3RlZENvbXBFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG5cbiAgICAgICAgICAgIGlmICghY29ubmVjdGVkQ29tcC5jb25uZWN0ZWRDb21wb25lbnRzLmluY2x1ZGVzKGZsb29yRW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZENvbXAuY29ubmVjdGVkQ29tcG9uZW50cy5wdXNoKGZsb29yRW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KVxuICAgICAgICBuYXZDb21wLnNldEdyaWQoZmxvb3JHcmlkKTtcbiAgICB9XG5cblxuICAgIC8vIFRoaXJkIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wbGV0ZWRHcmlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxzQm91bmRpbmdCb3hlcyA9IFtdO1xuICAgIGNvbnN0IG1hcFdhbGxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2FsbCcpO1xuICAgIGZvciAoY29uc3QgbWFwV2FsbEVudGl0eSBvZiBtYXBXYWxsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgYWFiYiA9IGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShtYXBXYWxsRW50aXR5KTtcbiAgICAgICAgd2FsbHNCb3VuZGluZ0JveGVzLnB1c2goYWFiYik7XG4gICAgICAgIGNyZWF0ZUZsb29yVW5kZXJXYWxscyhtYXBXYWxsRW50aXR5LCBmbG9vckdyaWQpO1xuICAgICAgICBtYXBXYWxsRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2FsbHNCb3VuZGluZ0JveGVzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShib3hFbnRpdHkpIHtcbiAgICBjb25zdCBzY2FsZSA9IGJveEVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICBjb25zdCBhYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KGJveEVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgcmV0dXJuIGFhYmI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZsb29yVW5kZXJXYWxscyh3YWxsLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsUG9zID0gd2FsbC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHdhbGxTY2FsZSA9IHdhbGwuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHdhbGxQb3MueSAtICh3YWxsU2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQod2FsbFBvcy54IC0gKHdhbGxTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQod2FsbFBvcy56IC0gKHdhbGxTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyB3YWxsU2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIHdhbGxTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBsZXQgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBjb3ZlckVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdjb3ZlcicpO1xuICAgIGZvciAoY29uc3QgY292ZXJFbnRpdHkgb2YgY292ZXJFbnRpdGllcykge1xuICAgICAgICBjb3ZlclBvaW50cyA9IGNvdmVyUG9pbnRzLmNvbmNhdChjcmVhdGVDb3ZlclBvaW50RnJvbUJveChjb3ZlckVudGl0eSwgZmxvb3JHcmlkKSk7XG4gICAgICAgIGNvdmVyRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goYm94LCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGJveFBvcyA9IGJveC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJveFNjYWxlID0gYm94LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChib3hQb3MueSAtIChib3hTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZChib3hQb3MueCAtIChib3hTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQoYm94UG9zLnogLSAoYm94U2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgYm94U2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIGJveFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgY292ZXJQb2ludCA9IG5ldyBwYy5WZWMzKHgsIHksIHopO1xuICAgICAgICAgICAgY292ZXJQb2ludHMucHVzaChjb3ZlclBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3J0YWxzKGFwcCkge1xuICAgIGNvbnN0IHBvcnRhbHMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcG9ydGFsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3BvcnRhbCcpO1xuICAgIGZvciAoY29uc3QgcG9ydGFsRW50aXR5IG9mIHBvcnRhbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHBvcnRhbEVudGl0eS5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBwb3J0YWxJZCA9IHBvcnRhbENvbXBvbmVudC5wb3J0YWxJZDtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb2ludCA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhpdGJveFBvaW50ID0gcG9ydGFsQ29tcG9uZW50LmhpdGJveC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHBvcnRhbCA9IHtcbiAgICAgICAgICAgIHBvcnRhbElkOiBwb3J0YWxJZCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uU2NlbmU6IGRlc3RpbmF0aW9uU2NlbmUsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblBvcnRhbDogZGVzdGluYXRpb25Qb3J0YWwsXG4gICAgICAgICAgICBzdGFuZGluZ1BvaW50OiBzdGFuZGluZ1BvaW50LFxuICAgICAgICAgICAgaGl0Ym94UG9pbnQ6IGhpdGJveFBvaW50XG4gICAgICAgIH1cblxuICAgICAgICBwb3J0YWxzLnNldChwb3J0YWxJZCwgcG9ydGFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9ydGFscztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2F5cG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBmbG9vck5vZGUgb2YgZmxvb3JHcmlkKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRpYWdvbmFscyBpbnRlcnNlY3Qgd2FsbHNcblxuICAgICAgICBpZiAoaXNXYXlwb2ludChmbG9vck5vZGUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgIHdheXBvaW50cy5wdXNoKG5ldyBOYXZpZ2F0aW9uTm9kZShmbG9vck5vZGUueCwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHdheXBvaW50IG9mIHdheXBvaW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyV2F5cG9pbnQgb2Ygd2F5cG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAoIXdheXBvaW50LmVxdWFscyhvdGhlcldheXBvaW50KSB8fCAhb3RoZXJXYXlwb2ludC5pc0Nvbm5lY3RlZCh3YXlwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gQXN0YXIuY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh3YXlwb2ludC54LCB3YXlwb2ludC56LCBvdGhlcldheXBvaW50LngsIG90aGVyV2F5cG9pbnQueik7XG4gICAgICAgICAgICAgICAgaWYgKEFzdGFyLmNoZWNrVmFsaWRMaW5lKGxpbmUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2F5cG9pbnQuYWRkQ29ubmVjdGVkTm9kZShvdGhlcldheXBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJXYXlwb2ludC5hZGRDb25uZWN0ZWROb2RlKHdheXBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBpc1dheXBvaW50KGZsb29yTm9kZSwgZmxvb3JNYXApIHtcbiAgICAvL0NoZWNrIG53XG4gICAgY29uc3Qgbm9ydGh3ZXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggLSAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG4gICAgY29uc3Qgc291dGhlYXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggKyAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG5cbiAgICAvLyBub3J0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3J0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG5cbiAgICBnZXRXZWFwb25DYXRlZ29yeSh3ZWFwb25OYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2F0ZWdvcnkgZm9yIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcblxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IFN0b3J5Vk8gfSA9IHJlcXVpcmUoJy4vU3RvcnlWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBTdG9yeVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0b3J5UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJ1bmsgPSBhcHAuYXNzZXRzLmdldCg0MDUyOTkyMCkucmVzb3VyY2U7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJlZXMgPSBzdG9yeVRydW5rLnRyZWVzO1xuICAgICAgICBjb25zdCBzdG9yeVRyZWVNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0cmVlS2V5IGluIHN0b3J5VHJlZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzdG9yeVRyZWVzLCB0cmVlS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZUFzc2V0SWQgPSBzdG9yeVRyZWVzW3RyZWVLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZSA9IGFwcC5hc3NldHMuZ2V0KHN0b3J5VHJlZUFzc2V0SWQpLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgc3RvcnlUcmVlTWFwLnNldCh0cmVlS2V5LCBzdG9yeVRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoU3RvcnlQcm94eS5OQU1FLCBzdG9yeVRyZWVNYXApO1xuXG4gICAgICAgIC8vIFByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGdldFRyZWUodHJlZUlkKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmhhcyh0cmVlSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52by5nZXQodHJlZUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROb2RlKHRyZWUsIG5vZGVJZCkge1xuICAgICAgICBjb25zdCBub2RlcyA9IHRyZWUubm9kZXM7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChub2Rlcywgbm9kZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVzW25vZGVJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RlcChub2RlLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBub2RlLnN0ZXBzO1xuICAgICAgICBpZiAoc3RlcEluZGV4IDwgc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcHNbc3RlcEluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb1RvTm9kZShub2RlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5vZGVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBzdGFydERpYWxvZ3VlVHJlZSh0cmVlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHRyZWVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IFwiZW50cnlcIjtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcblxuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBpZiAoIXRyZWUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3Qgc3RhcnQgZGlhbG9ndWU6IFRyZWUgJHt0aGlzLmN1cnJlbnRUcmVlfSBub3QgZm91bmRgKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgQ2Fubm90IHN0YXJ0IGRpYWxvZ3VlOiBubyBcImVudHJ5XCIgbm9kZSBkZWZpbmVkIG9uICR7dHJlZUlkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudE5vZGVTdGVwKCkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgY29uc3QgdmFsaWRTdGVwID0gdGhpcy5nZXRWYWxpZFN0ZXAoY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgIGlmICh2YWxpZFN0ZXAgJiYgdmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKG9uY2VDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFN0ZXA7XG4gICAgfVxuXG5cbiAgICBjb250aW51ZUN1cnJlbnROb2RlU3RlcCgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSlcbiAgICAgICAgLy8gaW5jcmVtZW50IHN0ZXBJbmRleFxuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXgrKztcblxuICAgICAgICBjb25zdCB2YWxpZFN0ZXAgPSB0aGlzLmdldFZhbGlkU3RlcChjdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgaWYgKHZhbGlkU3RlcCAmJiB2YWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24ob25jZUNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkU3RlcDtcbiAgICB9XG5cbiAgICBnZXRWYWxpZFN0ZXAobm9kZSwgc3RlcEluZGV4KSB7XG4gICAgICAgIGxldCBuZXh0VmFsaWRTdGVwID0gdGhpcy5nZXRTdGVwKG5vZGUsIHN0ZXBJbmRleCk7XG5cblxuICAgICAgICBpZiAobmV4dFZhbGlkU3RlcCkge1xuICAgICAgICAgICAgbGV0IHRlc3RDb25kaXRpb25zID0gW107XG4gICAgICAgICAgICBpZiAobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGVzdENvbmRpdGlvbnMgPSB0ZXN0Q29uZGl0aW9ucy5jb25jYXQobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCBzdGVwSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRlc3RDb25kaXRpb25zID0gdGVzdENvbmRpdGlvbnMuY29uY2F0KG9uY2VDb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZXN0IHZhbGlkIHN0ZXAnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXN0Q29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRlc3RDb25kaXRpb25zKHRlc3RDb25kaXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VmFsaWRTdGVwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSBzdGVwSW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbGlkU3RlcChub2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFZhbGlkU3RlcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodHJlZUlkLCBub2RlSWQsIHN0ZXBJbmRleCkge1xuICAgICAgICByZXR1cm4gYCR7dHJlZUlkfSR7bm9kZUlkfSR7c3RlcEluZGV4fWA7XG4gICAgfVxuXG4gICAgZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRyZWVJZCwgbm9kZUlkLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGAhJHt0cmVlSWR9JHtub2RlSWR9JHtzdGVwSW5kZXh9YDtcbiAgICB9XG5cbiAgICBzZWxlY3RDaG9pY2UoY2hvaWNlSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IGN1cnJlbnROb2RlLmNob2ljZXNbY2hvaWNlSW5kZXhdO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRDaG9pY2U7XG4gICAgfVxuXG4gICAgYWRkQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlc3RDb25kaXRpb25zKGNvbmRpdGlvbnMpIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBvcGVyYXRvcnNcbiAgICAgICAgICAgIGNvbnN0IG9yRGVsaW1pdGVyZWQgPSBcInx8XCI7XG4gICAgICAgICAgICBjb25zdCBvckNvbmRpdGlvbnMgPSBjb25kaXRpb24uc3BsaXQob3JEZWxpbWl0ZXJlZCk7XG5cbiAgICAgICAgICAgIGlmIChvckNvbmRpdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgb25lIG5lZWRzIHRvIGJlIHRydWVcbiAgICAgICAgICAgICAgICBsZXQgb3JTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb25hbENvbmRpdGlvbiBvZiBvckNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tDb25kaXRpb24ob3B0aW9uYWxDb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvclN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBvclN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdGhpcy5jaGVja0NvbmRpdGlvbihjb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cblxuICAgIGNoZWNrQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHBvc2l0aXZlIG9mIG5lZ2F0aXZlXG4gICAgICAgIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIiFcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKHN0cmlwcGVkU3RyaW5nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiK1wiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihzdHJpcHBlZFN0cmluZyk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIi1cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb25kaXRpb24oc3RyaXBwZWRTdHJpbmcpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBJdGVtc1Byb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkl0ZW1zUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihJdGVtc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldEl0ZW1EYXRhKGl0ZW1JZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIGl0ZW1JZCkpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNhdGVnb3J5S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy52b1tjYXRlZ29yeUtleV1baXRlbUlkXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZGF0YSBmb3IgaXRlbTo6ICR7aXRlbUlkfWApO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmNvbnN0IHsgQm90QmVoYXZpb3Vyc1ZPIH0gPSByZXF1aXJlKCcuL0JvdEJlaGF2aW91cnNWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJCb3RCZWhhdmlvdXJQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoQm90QmVoYXZpb3VyUHJveHkuTkFNRSwgbmV3IEJvdEJlaGF2aW91cnNWTygpKTtcbiAgICB9XG5cbiAgICBnZXRUcmVlKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2V0VHJlZSh0eXBlKTtcbiAgICB9XG59XG4iLCJcblxuZXhwb3J0IGNsYXNzIFNwZWxsc1ZPIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVsbHNMaWJyYXJ5KSB7XG4gICAgICAgIHRoaXMuc3BlbGxzTGlicmFyeSA9IHNwZWxsc0xpYnJhcnk7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IFNwZWxsc1ZPIH0gZnJvbSAnLi9TcGVsbHNWbyc7XG5cbmV4cG9ydCBjbGFzcyBTcGVsbHNQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTcGVsbHNQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHN1cGVyKFNwZWxsc1Byb3h5Lk5BTUUsIG5ldyBTcGVsbHNWTyhkYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0aWV2ZVNwZWxsRGVmaW5pdGlvbihzcGVsbEtleSkge1xuICAgICAgICBpZiAodGhpcy52by5zcGVsbHNMaWJyYXJ5Lmhhc093blByb3BlcnR5KHNwZWxsS2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudm8uc3BlbGxzTGlicmFyeVtzcGVsbEtleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgc3BlbGxzTGlicmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc3BlbGxzTGlicmFyeTtcbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBJdGVtc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvaXRlbXMvSXRlbXNQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2JvdEJlaGF2aW91ci9Cb3RCZWhhdmlvdXJQcm94eSc7XG5pbXBvcnQgeyBTcGVsbHNQcm94eSB9IGZyb20gJy4uL21vZGVsL3NwZWxscy9TcGVsbHNQcm94eSc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAvLyBSZWdpc3RlciBhcHAtbGV2ZWwgbWVkaWF0b3JzL3Byb3hpZXMvY29tbWFuZHMgaGVyZVxuXG4gICAgLy8gQ3JlYXRlIGdhbWUgc3RhdGUgcHJveHlcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVTdGF0ZVByb3h5KCkpO1xuXG4gICAgLy8gTG9hZCB3ZWFwb25zIGRhdGEgYW5kIGNyZWF0ZSBwcm94eVxuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgaWYgKGFwcCkge1xuICAgICAgICBjb25zdCB3ZWFwb25zRGF0YSA9IGFwcC5hc3NldHMuZ2V0KDQwNDE1NjMxKS5yZXNvdXJjZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBXZWFwb25zUHJveHkod2VhcG9uc0RhdGEpKTtcbiAgICAgICAgY29uc3QgaXRlbXNEYXRhID0gYXBwLmFzc2V0cy5nZXQoNDA4MTQwMjcpLnJlc291cmNlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEl0ZW1zUHJveHkoaXRlbXNEYXRhKSk7XG4gICAgICAgIGNvbnN0IHNwZWxsc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MTE0NzIwNCkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgU3BlbGxzUHJveHkoc3BlbGxzRGF0YSkpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IFN0b3J5UHJveHkoKSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgQm90QmVoYXZpb3VyUHJveHkoKSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTY2VuZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHNjZW5lTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc3QgcG9ydGFsSWQgPSBhcmdzWzFdO1xuICAgIGNvbnNvbGUubG9nKGBDaGFuZ2luZyBzY2VuZSAke3NjZW5lTmFtZX1gKTtcblxuICAgIC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgc2NlbmUncyByb290IG9iamVjdFxuICAgIGNvbnN0IG9sZEhpZXJhcmNoeSA9IGFwcC5yb290LmZpbmRCeU5hbWUoJ1Jvb3QnKTtcblxuICAgIC8vIEdldCB0aGUgcGF0aCB0byB0aGUgc2NlbmVcbiAgICBjb25zdCBzY2VuZSA9IGFwcC5zY2VuZXMuZmluZChzY2VuZU5hbWUpO1xuXG4gICAgLy8gTG9hZCB0aGUgc2NlbmVzIGVudGl0eSBoaWVyYXJjaHlcbiAgICBhcHAuc2NlbmVzLmxvYWRTY2VuZUhpZXJhcmNoeShzY2VuZS51cmwsIGZ1bmN0aW9uIChlcnIsIHBhcmVudCkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgaWYgKG9sZEhpZXJhcmNoeSkge1xuICAgICAgICAgICAgICAgIG9sZEhpZXJhcmNoeS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAsIHBvcnRhbElkKTtcblxuICAgIH0pO1xufSIsImV4cG9ydCBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoXG4gICAgbGV0IHRlbXBvcmFyeVZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGxldCByYW5kb21JbmRleCA9IC0xO1xuXG4gICAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGUuLi5cbiAgICB3aGlsZSAoMCAhPT0gY3VycmVudEluZGV4KSB7XG5cbiAgICAgICAgLy8gUGljayBhIHJlbWFpbmluZyBlbGVtZW50Li4uXG4gICAgICAgIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY3VycmVudEluZGV4KTtcbiAgICAgICAgY3VycmVudEluZGV4IC09IDE7XG5cbiAgICAgICAgLy8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgICAgICB0ZW1wb3JhcnlWYWx1ZSA9IGFycmF5W2N1cnJlbnRJbmRleF07XG4gICAgICAgIGFycmF5W2N1cnJlbnRJbmRleF0gPSBhcnJheVtyYW5kb21JbmRleF07XG4gICAgICAgIGFycmF5W3JhbmRvbUluZGV4XSA9IHRlbXBvcmFyeVZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHNodWZmbGVBcnJheSB9IGZyb20gJy4uLy4uL3V0aWxzL1NodWZmbGVBcnJheSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IENvbWJhdFZPIH0gPSByZXF1aXJlKCcuL0NvbWJhdFZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIENvbWJhdFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNvbWJhdFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgc3VwZXIoQ29tYmF0UHJveHkuTkFNRSwgbmV3IENvbWJhdFZPKHBhcnRpY2lwYW50cywgdGVhbXMpKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuICAgICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBbLi4udGhpcy52by5wYXJ0aWNpcGFudHNdO1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLnNldChwYXJ0aWNpcGFudCwgcGFydGljaXBhbnRQcm94eSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgZGVhZC4uLiBtb3ZlIG9uXG4gICAgICAgICAgICAgICAgdGhpcy52by5wYXJ0aWNpcGFudHMgPSB0aGlzLnZvLnBhcnRpY2lwYW50cy5maWx0ZXIoZSA9PiBlICE9PSBwYXJ0aWNpcGFudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRUdXJuKCkge1xuICAgICAgICBjb25zdCByb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZTtcblxuICAgICAgICBpZiAocm91bmRJbml0aWF0aXZlICYmIHJvdW5kSW5pdGlhdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHVybklkID0gcm91bmRJbml0aWF0aXZlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gbmV4dFR1cm5JZDtcblxuICAgICAgICAgICAgaWYgKG5leHRUdXJuSWQgIT09ICdlbmRfcm91bmQnKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV4dCBUdXJuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVHVybiAke25leHRUdXJuSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5nZXQobmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgcHJveHkucmVzZXRDb21iYXRUdXJuU3RhdGUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm94eS5pc05QQykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRpYXRpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRXZlcnlvbmUgaXMgb3V0IG9mIHRoZSBjb21iYXQgc29tZWhvdywgcHJvYmFibHkgZGVhZFxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZW5kIG9mIHJvdW5kIHRva2VuXG4gICAgICAgIGluaXRpYXRpdmVzLnB1c2goJ2VuZF9yb3VuZCcpO1xuXG4gICAgICAgIGxldCBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoaW5pdGlhdGl2ZXMpO1xuICAgICAgICAvLyBlbnN1cmUgcm91bmQgZG9lc24ndCBzdGFydCB3aXRoIFwiZW5kX3JvdW5kXCJcbiAgICAgICAgd2hpbGUgKHNodWZmbGVkSW5pdGlhdGl2ZVswXSA9PT0gXCJlbmRfcm91bmRcIikge1xuICAgICAgICAgICAgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KHNodWZmbGVkSW5pdGlhdGl2ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gc2h1ZmZsZWRJbml0aWF0aXZlO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5uZXh0VHVybkNoYXJhY3RlcklkO1xuICAgIH1cblxuICAgIGdldCBhY3RpdmVQYXJ0aWNpcGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQ7XG4gICAgfVxuXG4gICAgc2V0IGFjdGl2ZVBhcnRpY2lwYW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgZ2V0IHRlYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by50ZWFtcztcbiAgICB9XG5cbiAgICByZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIHBhcnRpY2NpcGFudHNcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZGVsZXRlKGNoYXJhY3RlcklkKTtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gaW5pdGlhdGl2ZVxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlLmZpbHRlcihlID0+IGUgIT09IGNoYXJhY3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHRlYW1dIG9mIHRoaXMudGVhbXMuZW50cmllcygpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckluZGV4ID0gdGVhbS5pbmRleE9mKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGVhbS5zcGxpY2UoY2hhcmFjdGVySW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGVhbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcInNwb3R0ZWRcIiwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSk7XG5cblxuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCB0ZWFtcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwbGF5ZXJUZWFtID0gWydwbGF5ZXInXTtcbiAgICB0ZWFtcy5zZXQoJ3BsYXllcl90ZWFtJywgcGxheWVyVGVhbSk7XG5cbiAgICBjb25zdCBvcHBvc2luZ1RlYW0gPSBbaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZF0uY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT0gcG9zO1xuICAgIH0pO1xuICAgIHRlYW1zLnNldCgnb3Bwb3NpbmdfdGVhbScsIG9wcG9zaW5nVGVhbSk7XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBwbGF5ZXJUZWFtLmNvbmNhdChvcHBvc2luZ1RlYW0pO1xuXG5cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX01PVkVNRU5UICsgcGFydGljaXBhbnQpO1xuICAgICAgICBpZiAocGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KHBhcnRpY2lwYW50cywgdGVhbXMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgIH0sIDIwMDApO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgfSwgNTAwKTtcbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG5cbiAgICBjb25zdCBub2RlID0gYXJnc1swXTtcblxuICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWROb2RlKG5vZGUpKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHZvID0gZ2FtZUNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtb3ZlYWJsZU5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmVxdWFscyh0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgZ2FtZUNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgY2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHZvLmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gKHBhdGgubGVuZ3RoIC0gMSk7IC8vIERldHJhY3QgYnkgb25lLi4uIHRoZSBmaXJzdCBwYXRoIG5vZGUgZG9lc24ndCBjb3VudFxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHZvLmlkLCBwYXRoKTtcbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgd2Fsa2FibGVOb2RlcyA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVBc3NldCA9IGFwcC5hc3NldHMuZ2V0KDQwMjM1OTY2KTtcbiAgICBjb25zdCBjb250YWluZXIgPSBhcHAucm9vdC5maW5kQnlOYW1lKFwiV29ybGRPYmplY3RzXCIpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHdhbGthYmxlTm9kZXMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHdhbGthYmxlVGlsZUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIHRpbGUuc2V0TG9jYWxQb3NpdGlvbihub2RlLngsIG5vZGUueSwgbm9kZS56KTtcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRpbGUpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2Fsa2FibGVfdGlsZScpO1xuICAgIGZvciAoY29uc3Qgd2Fsa2FibGVUaWxlRW50aXR5IG9mIHdhbGthYmxlVGlsZUVudGl0aWVzKSB7XG4gICAgICAgIHdhbGthYmxlVGlsZUVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3RhclwiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBtb3ZlYWJsZU5vZGVzKTtcblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSBcIi4vR2FtZUNvbW1hbmRzXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRNb3ZlbWVudENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBlbmROb2RlO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgaWQpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCB3ZWFwb25Qcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvblByb3h5LmdldFdlYXBvbkNhdGVnb3J5KHBsYXllckNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snICYmIHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSywgaWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEssIGlkKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmICghY29tYmF0UHJveHkgfHwgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIC8vIG5vdCB5b3VyIHR1cm5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJDaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIDw9IDApIHtcbiAgICAgICAgICAgIC8vIG91dCBvZiBhY3Rpb25zXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk91dCBvZiBhY3Rpb25zXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJObyBsaW5lIG9mIHNpZ2h0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgICAgICAgICAgLy8gcGF0aCBsZW5ndGggaW5jbHVkZXMgY3VycmVudCBub2RlLCBzbyBkZWR1Y3Qgb24gdG8gd29yayBvdXQgYWN0dWFsIG1vdmVhYmxlIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhUb1RhcmdldCAmJiBwYXRoVG9UYXJnZXQubGVuZ3RoIC0gMSA8PSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS52by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3ZWFwb24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCwgcGF0aFRvVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBwYXRoVG9UYXJnZXQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIkNhbm5vdCByZWFjaCB0YXJnZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHRhcmdldEN1cnJyZW50Tm9kZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgcmV0dXJuIGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh0YXJnZXRDdXJycmVudE5vZGUpKTtcbn1cblxuZnVuY3Rpb24gY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgcGxheWVyUG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHBsYXllckNoYXJhY3RlclByb3h5KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuXG4gICAgcmV0dXJuICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwocGxheWVyUG9pbnQsIHRhcmdldFBvaW50KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25UeXBlcyB9IGZyb20gJy4uL2RhdGEvV2VhcG9uVHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgYXR0YWNrZXJXZWFwb25Ta2lsbCA9IGAke2F0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuICAgIGNvbnN0IGRlZmVuZGVyV2VhcG9uU2tpbGwgPSBgJHtkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcblxuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlcldlYXBvblNraWxsKTtcbiAgICBjb25zdCBkZWZlbmRlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoZGVmZW5kZXJXZWFwb25Ta2lsbCk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJTa2lsbFRvdGFsKTtcbiAgICBjb25zdCBkZWZlbmRlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJTa2lsbFRvdGFsKTtcblxuICAgIC8vIFJlZHVjZSBhY3Rpb25zXG4gICAgYXR0YWNrZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIC09IDE7XG5cbiAgICAvLyBEZXRlcm1pbmUgd2lubmVyXG4gICAgaWYgKGF0dGFja2VyUm9sbCA9PT0gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgY29uc3QgZGVmZW5kZXJBcm1vdXIgPSBkZWZlbmRlclByb3h5LmN1cnJlbnRBcm1vdXI7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VBZnRlckFybW91ciA9IE1hdGgubWF4KDEsIGRhbWFnZSAtIGRlZmVuZGVyQXJtb3VyKTtcblxuICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2VBZnRlckFybW91cik7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2VBZnRlckFybW91cn1gKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvbnNQcm94eS5nZXRXZWFwb25DYXRlZ29yeShkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc01lbGVlV2VhcG9uID0gd2VhcG9uQ2F0ZWdvcnkgPT09IFwibWVsZWVcIjtcblxuICAgICAgICAgICAgLy8gRGVmZW5kZXIgd2luc1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlVGllciA9IGRldGVybWluZURhbWFnZVRpZXIoZGVmZW5kZXJSb2xsLCBhdHRhY2tlclJvbGwpO1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uID0gKGhhc01lbGVlV2VhcG9uKSA/IGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24gOiBXZWFwb25UeXBlcy5VTkFSTUVEO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uc1Byb3h5LmdldERhbWFnZSh3ZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgY29uc3QgYXR0YWNrZXJBcm1vdXIgPSBhdHRhY2tlclByb3h5LmN1cnJlbnRBcm1vdXI7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VBZnRlckFybW91ciA9IE1hdGgubWF4KDEsIGRhbWFnZSAtIGF0dGFja2VyQXJtb3VyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlQWZ0ZXJBcm1vdXIpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7ZGVmZW5kZXJJZH0gZGFtYWdlcyAke2F0dGFja2VySWR9IGZvciAke2RhbWFnZUFmdGVyQXJtb3VyfWApO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICAgICAgaWYgKGF0dGFja2VyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSAmJiBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHRhcmdldElkID0gYXJnc1sxXTtcbiAgICBjb25zdCBwYXRoID0gYXJnc1syXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY2hhcmFjdGVyUHJveHkudXNlTW92ZW1lbnQocGF0aC5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuXG4gICAgY29uc3QgZmluaXNoTW92ZVByb21pc2UgPSBjaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpO1xuICAgIGZpbmlzaE1vdmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGNoYXJhY3RlcklkLCB0YXJnZXRJZCk7XG5cbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnNvbGUubG9nKGBLaWxsIGNoYXJhY3Rlcjo6ICR7Y2hhcmFjdGVySWR9YCk7XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZGVhdGhcIiwgY2hhcmFjdGVyUHJveHkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICBpZiAoY2hhcmFjdGVyUHJveHkpIHtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudFN0YW1pbmEgPSAwO1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgIGNvbWJhdFByb3h5LnJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbG9zaW5nVGVhbSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBpZiAoZmFjYWRlLmhhc01lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIGZhY2FkZS5yZW1vdmVNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChsb3NpbmdUZWFtID09PSAncGxheWVyX3RlYW0nKSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuR0FNRV9PVkVSKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEdhbWUgT3ZlcmApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVmljdG9yeWApO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgQmFzaWNNZWxlZVRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQm90QmVoYXZpb3VyVHlwZXMgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IEJhc2ljUmFuZ2VkVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNSYW5nZWRUcmVlJztcbmltcG9ydCB7IEJvdEJlaGF2aW91clByb3h5IH0gZnJvbSAnLi4vbW9kZWwvYm90QmVoYXZpb3VyL0JvdEJlaGF2aW91clByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmVteVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBlbmVteUlkKTtcbiAgICBjb25zdCBib3RCZWhhdmlvdXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEJvdEJlaGF2aW91clByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHRyZWUgPSBib3RCZWhhdmlvdXJQcm94eS5nZXRUcmVlKGVuZW15UHJveHkuYm90QmVoYXZpb3VyKTtcbiAgICBpZiAodHJlZSkge1xuICAgICAgICB0cmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgLy8gU2NvcmVzIGZvciBjb21wYXJpc3NvblxuICAgIGxldCBhdHRhY2tlclNjb3JlID0gMDtcbiAgICBsZXQgZGVmZW5kZXJTY29yZSA9IDA7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBhdHRhY2tlck5vZGUgPSBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGxldCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBsZXQgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJOb2RlID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgY29uc3QgYXR0YWNrZXJXZWFwb25Ta2lsbCA9IGAke2F0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlcldlYXBvblNraWxsKTtcblxuICAgIGF0dGFja2VyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyU2tpbGxUb3RhbCk7XG4gICAgZGVmZW5kZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGlzSW5Db3ZlciA9IGdhbWVNYXBQcm94eS5pc0luQ292ZXIoXG4gICAgICAgIG5ldyBwYy5WZWMzKGRlZmVuZGVyTm9kZS54LCBkZWZlbmRlck5vZGUueSwgZGVmZW5kZXJOb2RlLnopLFxuICAgICAgICBuZXcgcGMuVmVjMyhhdHRhY2tlck5vZGUueCwgYXR0YWNrZXJOb2RlLnksIGF0dGFja2VyTm9kZS56KSk7XG5cbiAgICBpZiAoaXNJbkNvdmVyKSB7XG4gICAgICAgIGRlZmVuZGVyU2NvcmUgKz0gMjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmZW5kZXJBcm1vdXIgPSBkZWZlbmRlclByb3h5LmN1cnJlbnRBcm1vdXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlQWZ0ZXJBcm1vdXIgPSBNYXRoLm1heCgxLCBkYW1hZ2UgLSBkZWZlbmRlckFybW91cik7XG5cbiAgICAgICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZUFmdGVyQXJtb3VyKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZWZlbmRlclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2VBZnRlckFybW91cn1gKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRvZGdlXCIsIGRlZmVuZGVyUHJveHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWlwV2VhcG9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYE11c3QgY2hhbmdlIHdlYXBvbiBvbiB5b3VyIHR1cm5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB3ZWFwb24gPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA9IHdlYXBvbjtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtjaGFyYWN0ZXJJZH0gZXF1aXBzICR7d2VhcG9ufWApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHN0YW5kaW5nTm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUoc3RhbmRpbmdQb3NpdGlvbik7XG4gICAgY29uc3QgcGxheWVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgcGxheWVyTWVkaWF0b3IubW92ZVRvTm9kZVdpdGhQcm9taXNlKHN0YW5kaW5nTm9kZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlckFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDA1MjMzMzYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG4gICAgY29uc3QgcGxheWVyRW50aXR5ID0gcGxheWVyQ2hhcmFjdGVyQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBjb250YWluZXIuYWRkQ2hpbGQocGxheWVyRW50aXR5KTtcblxuICAgIGNvbnN0IG1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHBvcnRhbCA9IG1hcFByb3h5LnJldHJpZXZlUG9ydGFsKHBvcnRhbElkKTtcbiAgICBwbGF5ZXJFbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3J0YWwuc3RhbmRpbmdQb2ludCk7XG5cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuXG4gICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoVG9UYXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gTG9vayBhdCB0YXJnZXRcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRhcmdldENoYXJhY3RlcklkLCBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAvLyBTdGFydCBkaWFsb2d1ZVxuICAgICAgICAgICAgY29uc3QgZGlhbG9ndWVUcmVlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuZGlhbG9ndWVUcmVlO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCBkaWFsb2d1ZVRyZWUpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBsYXllck5vZGUpKTtcblxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIC8vIEFscmVhZHkgdGhlcmVcbiAgICAgICAgcmV0dXJuIFtwbGF5ZXJOb2RlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgICAgIGlmICh1bm9jY3VwaWVkTm9kZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHVub2NjdXBpZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNob3J0ZXN0UGF0aCB8fCAob3RoZXJQYXRoICYmIG90aGVyUGF0aC5sZW5ndGggPCBzaG9ydGVzdFBhdGgubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RGlhbG9ndWVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lc3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGRpYWxvZ3VlVHJlZSA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcblxuICAgIGNvbnN0IHN0b3J5VHJlZSA9IHN0b3J5UHJveHkuc3RhcnREaWFsb2d1ZVRyZWUoZGlhbG9ndWVUcmVlKTtcblxuICAgIGdhbWVzdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRElBTE9HVUUpO1xuXG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9QQU5FTCk7XG5cbiAgICBjb25zdCBvcGVuaW5nU3RlcCA9IHN0b3J5UHJveHkuZ2V0Q3VycmVudE5vZGVTdGVwKCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICB0cmVlSWQ6IGRpYWxvZ3VlVHJlZSxcbiAgICAgICAgc3RlcDogb3BlbmluZ1N0ZXBcbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBuZXh0U3RlcCA9IHN0b3J5UHJveHkuY29udGludWVDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICBpZiAobmV4dFN0ZXApIHtcblxuICAgICAgICBpZiAobmV4dFN0ZXAuY2hvaWNlcykge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dFN0ZXAubm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBub3RpZmljYXRpb24gb2YgbmV4dFN0ZXAubm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5uYW1lLCAuLi5ub3RpZmljYXRpb24uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgICAgICB0cmVlSWQ6IHN0b3J5UHJveHkuY3VycmVudFRyZWUsXG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0RJQUxPR1VFKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hvaWNlSW5kZXggPSBhcmdzWzBdO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHNlbGVjdGVkQ2hvaWNlID0gc3RvcnlQcm94eS5zZWxlY3RDaG9pY2UoY2hvaWNlSW5kZXgpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVMpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIHRpdGxlOiBcIllPVVwiLFxuICAgICAgICB0ZXh0OiBzZWxlY3RlZENob2ljZS50ZXh0LFxuICAgICAgICB0aXRsZUNvbG91cjogJyNEQjgzMUMnXG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICB0cmVlSWQ6IHN0b3J5UHJveHkuY3VycmVudFRyZWUsXG4gICAgICAgIHN0ZXA6IHJlc3BvbnNlXG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWRDaG9pY2UudGVzdCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNULCBzZWxlY3RlZENob2ljZS50ZXN0KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZWxlY3RlZENob2ljZS5nb3RvKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR09fVE9fRElBTE9HVUVfTk9ERSwgc2VsZWN0ZWRDaG9pY2UuZ290byk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBuZXdOb2RlID0gYXJnc1swXTtcbiAgICBzdG9yeVByb3h5LmdvVG9Ob2RlKG5ld05vZGUpO1xuICAgIGNvbnN0IGN1cnJlbnRTdGVwID0gc3RvcnlQcm94eS5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcblxuICAgIGlmIChjdXJyZW50U3RlcCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgICAgICB0cmVlSWQ6IHN0b3J5UHJveHkuY3VycmVudFRyZWUsXG4gICAgICAgICAgICBzdGVwOiBjdXJyZW50U3RlcFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKlwiKTtcbiAgICAgICAgY29uc29sZS5sb2coY3VycmVudFN0ZXApO1xuXG4gICAgICAgIGlmIChjdXJyZW50U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbiBvZiBjdXJyZW50U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFNIT09UIENPTU1BTkQ6ICR7bm90aWZpY2F0aW9uLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLm5hbWUsIC4uLm5vdGlmaWNhdGlvbi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUpO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kRGlhbG9ndWVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lc3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVzdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuXG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTCk7XG5cbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlcklkID0gYXJnc1swXTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG5cbiAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgaWYgKHBhdGhUb1RhcmdldCkge1xuICAgICAgICBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGhUb1RhcmdldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBsYXllck5vZGUpKTtcblxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIC8vIEFscmVhZHkgdGhlcmVcbiAgICAgICAgcmV0dXJuIFtwbGF5ZXJOb2RlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgICAgIGlmICh1bm9jY3VwaWVkTm9kZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHVub2NjdXBpZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhcmdzWzBdO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IG5ld0FjdGlvbjtcblxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgdGVzdCA9IGFyZ3NbMF07XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgY29uc3QgcGxheWVyU2tpbGwgPSBjaGFyYWN0ZXJQcm94eS5nZXRTa2lsbFRvdGFsKHRlc3Quc2tpbGwpXG5cbiAgICAvLyBSb2xsIGRpY2VcbiAgICBjb25zdCBkaWUxID0gcm9sbERpY2UoKTtcbiAgICBjb25zdCBkaWUyID0gcm9sbERpY2UoKTtcblxuICAgIGNvbnN0IHRvdGFsUm9sbCA9IGRpZTEgKyBkaWUyO1xuXG4gICAgY29uc3Qgc3VjY2VzcyA9IHBsYXllclNraWxsID49IHRvdGFsUm9sbDtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1QsIHRlc3Quc2tpbGwsIHBsYXllclNraWxsLCBkaWUxLCBkaWUyLCBzdWNjZXNzKTtcblxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTdWNjZWVkZWQgJHt0ZXN0LnNraWxsfSB3aXRoIGEgJHtwbGF5ZXJTa2lsbH0gdnMgJHtkaWUxfSske2RpZTJ9YCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCB0ZXN0LnN1Y2Nlc3MuZ290byk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgRmFpbGVkICR7dGVzdC5za2lsbH0gd2l0aCBhICR7cGxheWVyU2tpbGx9IHZzICR7ZGllMX0rJHtkaWUyfWApO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR09fVE9fRElBTE9HVUVfTk9ERSwgdGVzdC5mYWlsdXJlLmdvdG8pO1xuXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVBEQVRFX0lOVkVOVE9SWV9QQU5FTCwgZ2FtZUNoYXJhY3RlclByb3h5LmludmVudG9yeUl0ZW1zLCBnYW1lQ2hhcmFjdGVyUHJveHkuZXF1aXBtZW50U2xvdHMpO1xufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBwbGF5ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgaXRlbVVVSUQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IG5ld0luZGV4ID0gYXJnc1syXTtcblxuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGxheWVySWQpO1xuXG4gICAgZ2FtZUNoYXJhY3RlclByb3h5LnJlb3JkZXJJbnZlbnRvcnlJdGVtKGl0ZW1VVUlELCBuZXdJbmRleCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVQREFURV9JTlZFTlRPUllfUEFORUwsIGdhbWVDaGFyYWN0ZXJQcm94eS5pbnZlbnRvcnlJdGVtcywgZ2FtZUNoYXJhY3RlclByb3h5LmVxdWlwbWVudFNsb3RzKTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBJdGVtc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvaXRlbXMvSXRlbXNQcm94eSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlJdGVtIH0gZnJvbSBcIi4uL21vZGVsL2l0ZW1zL0ludmVudG9yeUl0ZW1cIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBJdGVtVG9TbG90Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGl0ZW1JZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgZXF1aXBtZW50S2V5ID0gYXJnc1syXTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjb25zdCBpdGVtSW5JbnZlbnRvcnkgPSBnYW1lQ2hhcmFjdGVyUHJveHkuaW52ZW50b3J5SXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGl0ZW1JZCk7XG5cbiAgICBpZiAoaXRlbUluSW52ZW50b3J5KSB7XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxseUVxdWlwcGVkID0gZ2FtZUNoYXJhY3RlclByb3h5LmF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdChlcXVpcG1lbnRLZXksIGl0ZW1JbkludmVudG9yeSk7XG5cbiAgICAgICAgaWYgKHN1Y2Nlc3NmdWxseUVxdWlwcGVkKSB7XG4gICAgICAgICAgICBpZiAoaXRlbUluSW52ZW50b3J5LnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBcInBsYXllclwiLCBpdGVtSW5JbnZlbnRvcnkuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbXNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEl0ZW1zUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW0gPSBuZXcgSW52ZW50b3J5SXRlbShpdGVtc1Byb3h5LmdldEl0ZW1EYXRhKGl0ZW1JZCkpO1xuXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NmdWxseUVxdWlwcGVkID0gZ2FtZUNoYXJhY3RlclByb3h5LmF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdChlcXVpcG1lbnRLZXksIGludmVudG9yeUl0ZW0pO1xuXG4gICAgICAgIGlmIChzdWNjZXNzZnVsbHlFcXVpcHBlZCkge1xuICAgICAgICAgICAgaWYgKGludmVudG9yeUl0ZW0udHlwZSA9PT0gXCJ3ZWFwb25cIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIFwicGxheWVyXCIsIGludmVudG9yeUl0ZW0uaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNvbnN0IGl0ZW0gPSBpbnZlbnRvcnlQcm94eS5pbnZlbnRvcnlJdGVtc1tpdGVtSW5kZXhdO1xuXG5cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0VRVUlQUEVEX1NMT1QsIGdhbWVDaGFyYWN0ZXJQcm94eS5lcXVpcG1lbnRTbG90cyk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVQREFURV9JTlZFTlRPUllfUEFORUwsIGdhbWVDaGFyYWN0ZXJQcm94eS5pbnZlbnRvcnlJdGVtcywgZ2FtZUNoYXJhY3RlclByb3h5LmVxdWlwbWVudFNsb3RzKTtcbiAgICBjb25zb2xlLmxvZyhgQ3VycmVudGx5IGVxdWlwcGVkIGFybW91cjogJHtnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudEFybW91cn1gKTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgSXRlbXNQcm94eSB9IGZyb20gJy4uL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5SXRlbSB9IGZyb20gJy4uL21vZGVsL2l0ZW1zL0ludmVudG9yeUl0ZW0nO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBpdGVtSWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaXRlbXNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEl0ZW1zUHJveHkuTkFNRSk7XG4gICAgY29uc29sZS5sb2coZmFjYWRlKTtcbiAgICBjb25zb2xlLmxvZyhpdGVtc1Byb3h5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjb25zdCBpbnZlbnRvcnlJdGVtID0gbmV3IEludmVudG9yeUl0ZW0oaXRlbXNQcm94eS5nZXRJdGVtRGF0YShpdGVtSWQpKTtcbiAgICBnYW1lQ2hhcmFjdGVyUHJveHkuYWRkSW52ZW50b3J5SXRlbShpbnZlbnRvcnlJdGVtKTtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VFcXVpcHBlZEl0ZW1Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBlcXVpcG1lbnRTbG90S2V5ID0gYXJnc1swXTtcbiAgICBjb25zdCBlcXVpcHBlZEl0ZW0gPSBnYW1lQ2hhcmFjdGVyUHJveHkuZ2V0RXF1aXBwZWRJdGVtKGVxdWlwbWVudFNsb3RLZXkpO1xuXG4gICAgaWYgKGVxdWlwcGVkSXRlbSkge1xuICAgICAgICBpZiAoZXF1aXBwZWRJdGVtLnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uICE9PSBcImF0dGFja1wiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgXCJwbGF5ZXJcIiwgZXF1aXBwZWRJdGVtLmlkKTtcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJhdHRhY2tcIjtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VUX1VTRV9JVEVNX0JVVFRPTl9ISUdITElHSFQsIGVxdWlwbWVudFNsb3RLZXksIHRydWUpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPSBcImludGVyYWN0XCI7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hULCBlcXVpcG1lbnRTbG90S2V5LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0ludGVyYWN0aW9uT2JqZWN0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZGlhbG9ndWVUcmVlSWQgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHN0YW5kaW5nTm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUoc3RhbmRpbmdQb3NpdGlvbik7XG4gICAgY29uc3QgcGxheWVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgcGxheWVyTWVkaWF0b3IubW92ZVRvTm9kZVdpdGhQcm9taXNlKHN0YW5kaW5nTm9kZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCBkaWFsb2d1ZVRyZWVJZCk7XG4gICAgICAgIH0pO1xufSIsImltcG9ydCB7IFNwZWxsc1Byb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvc3BlbGxzL1NwZWxsc1Byb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL0dhbWVDb21tYW5kcyc7XG5cbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5TcGVsbGJvb2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzcGVsbHNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFNwZWxsc1Byb3h5Lk5BTUUpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfU1BFTExCT09LLCBzcGVsbHNQcm94eS5zcGVsbHNMaWJyYXJ5KTtcblxufSIsImltcG9ydCB7IFNwZWxsc1Byb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvc3BlbGxzL1NwZWxsc1Byb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5cbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdFNwZWxsQ2FzdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHNwZWxsS2V5ID0gYXJnc1swXTtcbiAgICBjb25zdCBzcGVsbFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3BlbGxzUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zb2xlLmxvZyhhcmdzKTtcbiAgICBjb25zb2xlLmxvZyhgU3BlbGw6ICR7c3BlbGxLZXl9LmApO1xuICAgIGNvbnN0IHNwZWxsc0RhdGEgPSBzcGVsbFByb3h5LnJldGlldmVTcGVsbERlZmluaXRpb24oc3BlbGxLZXkpO1xuICAgIGNvbnNvbGUubG9nKHNwZWxsc0RhdGEpO1xuXG4gICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IFwiY2FzdF9zcGVsbFwiO1xuICAgIGdhbWVTdGF0ZVByb3h5LnNlbGVjdGVkU3BlbGxDb21tYW5kID0gc3BlbGxzRGF0YS5jb21tYW5kO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImNhc3Rfc3BlbGxcIik7XG5cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVdvcmxkSW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBwaWNrZWRFbnRpdHkgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG5cbiAgICBzd2l0Y2ggKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24pIHtcblxuICAgICAgICBjYXNlIFwiY2FzdF9zcGVsbFwiOlxuICAgICAgICAgICAgaGFuZGxlQ2FzdFNwZWxsKGZhY2FkZSwgZ2FtZVN0YXRlUHJveHkuc2VsZWN0ZWRTcGVsbENvbW1hbmQsIHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhdHRhY2tcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGhhbmRsZURlZmF1bHQoZmFjYWRlLCBwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FzdFNwZWxsKGZhY2FkZSwgc3BlbGxDb21tYW5kLCBwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgaWYgKGZhY2FkZS5oYXNDb21tYW5kKHNwZWxsQ29tbWFuZCkpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oc3BlbGxDb21tYW5kLCBwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgTm8gcmVnaXN0ZXJlZCBjb21tYW5kOjogJHtzcGVsbENvbW1hbmR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJpbnRlcmFjdFwiO1xuXG5cbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVmYXVsdChmYWNhZGUsIHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBpZiAocGlja2VkRW50aXR5LnRhZ3MuaGFzKCdnYW1lQ2hhcmFjdGVyJykpIHtcbiAgICAgICAgaGFuZGxlR2FtZUNoYXJhY3RlcihmYWNhZGUsIHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChwaWNrZWRFbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICBoYW5kbGVOYXZpZ2F0aW9uKGZhY2FkZSwgcGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVHYW1lQ2hhcmFjdGVyKGZhY2FkZSwgcGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHBpY2tlZEVudGl0eSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRpb24oZmFjYWRlLCBwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RFRF9OT0RFLCBuZWFyZXN0Tm9kZSk7XG59IiwiZXhwb3J0IGNsYXNzIFNwZWxsQ29tbWFuZHMge1xuICAgIHN0YXRpYyBnZXQgWkFQKCkgeyByZXR1cm4gXCJTUEVMTF9aQVBcIiB9O1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IFNwZWxsc1Byb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvc3BlbGxzL1NwZWxsc1Byb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcblxuXG5leHBvcnQgZnVuY3Rpb24gc3BlbGxaYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBzcGVsbHNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFNwZWxsc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHphcERhdGEgPSBzcGVsbHNQcm94eS5yZXRpZXZlU3BlbGxEZWZpbml0aW9uKFwiemFwXCIpO1xuICAgIGNvbnN0IHBpY2tlZEVudGl0eSA9IGFyZ3NbMF07XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBhcmdzWzFdO1xuXG5cbiAgICBpZiAocGlja2VkRW50aXR5LnRhZ3MuaGFzKCdnYW1lQ2hhcmFjdGVyJykpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlckNvbXAgPSBwaWNrZWRFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gZ2FtZUNoYXJhY3RlckNvbXAuY2hhcmFjdGVySWQ7XG5cbiAgICAgICAgLy8gZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIHRhcmdldElkKTtcbiAgICAgICAgcmVzb2x2ZVphcEF0dGFjayhmYWNhZGUsIFwicGxheWVyXCIsIHRhcmdldElkKTtcblxuICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0YXJnZXRJZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICAgICAgcGxheWVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcGxheWVyUHJveHkuYXBwbHlEYW1hZ2UoemFwRGF0YS5zdGFtaW5hKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlWmFwQXR0YWNrKGZhY2FkZSwgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCkge1xuICAgIGNvbnN0IHdlYXBvbnNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcblxuICAgIC8vIFNjb3JlcyBmb3IgY29tcGFyaXNzb25cbiAgICBsZXQgYXR0YWNrZXJTY29yZSA9IDA7XG4gICAgbGV0IGRlZmVuZGVyU2NvcmUgPSAwO1xuXG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgbGV0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCBhdHRhY2tlclNwZWxsU2tpbGwgPSBgc3BlbGxaYXBgO1xuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlclNwZWxsU2tpbGwpO1xuXG4gICAgYXR0YWNrZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJTa2lsbFRvdGFsKTtcbiAgICBkZWZlbmRlclNjb3JlICs9IHJvbGxBdHRhY2tTa2lsbChkZWZlbmRlclByb3h5LnNraWxsKTtcblxuXG4gICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICBpZiAoYXR0YWNrZXJTY29yZSA+IGRlZmVuZGVyU2NvcmUpIHtcblxuICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKCd6YXAnLCBkYW1hZ2VUaWVyKTtcblxuXG4gICAgICAgIGRlZmVuZGVyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcblxuICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IHphcHMgJHtkZWZlbmRlcklkfSB0byBkZWF0aGApO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IHphcHMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgIH1cblxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmZW5kZXIgd2luc1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZG9kZ2VcIiwgZGVmZW5kZXJQcm94eSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmVteVR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWROb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kJztcbmltcG9ydCB7IGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kTW92ZW1lbnRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZUF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBlcXVpcFdlYXBvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCc7XG5pbXBvcnQgeyBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsayc7XG5pbXBvcnQgeyBzdGFydERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQnO1xuaW1wb3J0IHsgZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kRGlhbG9ndWVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCc7XG5pbXBvcnQgeyBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kJztcbmltcG9ydCB7IHJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBJdGVtVG9TbG90Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kJztcbmltcG9ydCB7IGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkSXRlbXRvSW52ZW50b3J5Q29tbWFuZCc7XG5pbXBvcnQgeyB1c2VFcXVpcHBlZEl0ZW1Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1VzZUVxdWlwcGVkSXRlbUNvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUb0ludGVyYWN0aW9uT2JqZWN0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvSW50ZXJhY3Rpb25PYmplY3RDb21tYW5kJztcbmltcG9ydCB7IG9wZW5TcGVsbGJvb2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL3NwZWxscy9PcGVuU3BlbGxib29rQ29tbWFuZCc7XG5pbXBvcnQgeyBhd2FpdFNwZWxsQ2FzdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvc3BlbGxzL0F3YWl0U3BlbGxDYXN0Q29tbWFuZCc7XG5pbXBvcnQgeyBoYW5kbGVXb3JsZElucHV0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9IYW5kbGVXb3JsZElucHV0Q29tbWFuZCc7XG5pbXBvcnQgeyBTcGVsbENvbW1hbmRzIH0gZnJvbSAnLi9jb250cm9sbGVyL3NwZWxscy9TcGVsbENvbW1hbmRzJztcbmltcG9ydCB7IHNwZWxsWmFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9zcGVsbHMvU3BlbGxaYXBDb21tYW5kJztcblxuZXhwb3J0IGNsYXNzIEdhbWVGYWNhZGUgZXh0ZW5kcyBGYWNhZGUge1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShrZXkpIHtcbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgR2FtZUZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IEtFWSgpIHsgcmV0dXJuIFwiQ2Fjb2dlblwiIH07XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDYWNvZ2VuRmFjYWRlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUVVAoKSB7IHJldHVybiBHYW1lRmFjYWRlLk5BTUUgKyBcIlN0YXJ0VXBcIiB9O1xuXG4gICAgc3RhcnR1cChnYW1lKSB7XG4gICAgICAgIHRoaXMuc2VuZE5vdGlmaWNhdGlvbihHYW1lRmFjYWRlLlNUQVJUVVAsIGdhbWUpO1xuICAgIH1cblxuICAgIHNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzdXBlci5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDb250cm9sbGVyKCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lRmFjYWRlLlNUQVJUVVAsIHN0YXJ0dXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgY2hhbmdlU2NlbmVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHBhcnNlR2FtZU1hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBzdGFydENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgbmV4dENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5ELCBuZXh0Q29tYmF0Um91bmRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTiwgZW5kQ29tYmF0VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5FTVlfVFVSTiwgZW5lbXlUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RFRF9OT0RFLCBzZWxlY3RlZE5vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TSE9XX1dBTEtBQkxFX0FSRUEsIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSwgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgZW5kTW92ZW1lbnRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCByZXNvbHZlQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSywgbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCwgZW5kQ29tYmF0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIGVxdWlwV2VhcG9uQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9USFJPVUdIX1BPUlRBTCwgbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAsIGFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEssIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZClcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX1dPUkxEX09CSkVDVCwgbmF2aWdhdGVUb0ludGVyYWN0aW9uT2JqZWN0Q29tbWFuZClcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCBzdGFydERpYWxvZ3VlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT05USU5VRV9ESUFMT0dVRV9OT0RFLCBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNUX0RJQUxPR1VFX0NIT0lDRSwgc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIGdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSwgZW5kRGlhbG9ndWVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNULCByZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkhBTkRMRV9XT1JMRF9JTlBVVCwgaGFuZGxlV29ybGRJbnB1dENvbW1hbmQpO1xuXG4gICAgICAgIC8vIEludmVudG9yeSBjb21tYW5kc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTiwgY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFT1JERVJfSU5WRVRPUllfSVRFTSwgcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgZXF1aXBJdGVtVG9TbG90Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuVVNFX0VRVUlQUEVEX0lURU0sIHVzZUVxdWlwcGVkSXRlbUNvbW1hbmQpO1xuXG4gICAgICAgIC8vIFNwZWxsc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuT1BFTl9TUEVMTEJPT0ssIG9wZW5TcGVsbGJvb2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1NQRUxMX0NBU1QsIGF3YWl0U3BlbGxDYXN0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKFNwZWxsQ29tbWFuZHMuWkFQLCBzcGVsbFphcENvbW1hbmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJUeXBlcyB7XG4gICAgc3RhdGljIGdldCBOT05FKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfTUVMRUUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19SQU5HRUQoKSB7IHJldHVybiAyIH07XG5cbn1cblxuZXhwb3J0IGNvbnN0IGJvdEJlaGF2aW91ckVudW1zID0gW1xuICAgIHsgTk9ORTogQm90QmVoYXZpb3VyVHlwZXMuTk9ORSB9LFxuICAgIHsgQkFTSUNfTUVMRUU6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFIH0sXG4gICAgeyBCQVNJQ19SQU5HRUQ6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRCB9LFxuXSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBFbmRDb21iYXRUdXJuIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBTZXRQbGF5ZXJBc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgndGFyZ2V0JywgJ3BsYXllcicsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc0FjdGlvbnNSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzTW92ZW1lbnRSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNEZWFkIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc1RhcmdldERlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IGNyZWF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy9HVUlEJztcblxuZXhwb3J0IGNsYXNzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pZCA9IGNyZWF0ZVVVSUQoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuIHx8IFtdO1xuICAgIH1cblxuICAgIGV4ZWN1dGUodGljaykge1xuICAgICAgICAvKiBFTlRFUiAqL1xuICAgICAgICB0aGlzLl9lbnRlcih0aWNrKTtcblxuICAgICAgICAvKiBPUEVOICovXG4gICAgICAgIGlmICghdGljay5ibGFja2JvYXJkLmdldCgnaXNPcGVuJywgdGljay50cmVlLmlkLCB0aGlzLmlkKSkge1xuICAgICAgICAgICAgdGhpcy5fb3Blbih0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFRJQ0sgKi9cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5fdGljayh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSAqL1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBFWElUICovXG4gICAgICAgIHRoaXMuX2V4aXQodGljayk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG5cbiAgICBfZW50ZXIodGljaykge1xuICAgICAgICB0aWNrLmVudGVyTm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRlcih0aWNrKTtcbiAgICB9XG5cbiAgICBfb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2sub3Blbk5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIHRydWUsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMub3Blbih0aWNrKTtcbiAgICB9XG5cbiAgICBfdGljayh0aWNrKSB7XG4gICAgICAgIHRpY2sudGlja05vZGUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRpY2sodGljayk7XG4gICAgfVxuXG4gICAgX2Nsb3NlKHRpY2spIHtcbiAgICAgICAgdGljay5jbG9zZU5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIGZhbHNlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLmNsb3NlKHRpY2spO1xuICAgIH1cblxuICAgIF9leGl0KHRpY2spIHtcbiAgICAgICAgdGljay5leGl0Tm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGl0KHRpY2spO1xuICAgIH1cblxuICAgIC8vIE92ZXJpZGUgdGhlc2VcbiAgICBlbnRlcih0aWNrKSB7IH1cbiAgICBvcGVuKHRpY2spIHsgfVxuICAgIHRpY2sodGljaykgeyByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkVSUk9SIH1cbiAgICBjbG9zZSh0aWNrKSB7IH1cbiAgICBleGl0KHRpY2spIHsgfVxufSIsImV4cG9ydCBjbGFzcyBCZWhhdmlvdXJTdGF0dXMge1xuICAgIHN0YXRpYyBnZXQgU1VDQ0VTUygpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEZBSUxVUkUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBSVU5OSU5HKCkgeyByZXR1cm4gMiB9O1xuICAgIHN0YXRpYyBnZXQgRVJST1IoKSB7IHJldHVybiAzIH07XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1hc3Rlck5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZS5leGVjdXRlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWVtU2VxdWVuY2UgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIDAsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGljay5ibGFja2JvYXJkLmdldCgncnVubmluZ0NoaWxkJywgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gY2hpbGQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5jaGlsZHJlbltpXS5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIGksIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFByaW9yaXR5IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGNoaWxkLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vQmVoYXZpb3VyU3RhdHVzJztcbmV4cG9ydCBjbGFzcyBJbnZlcnRlciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcblxuICAgICAgICAvLyBwcmVzdW1lIGludmVydGVyIGhhcyBvbmUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSlcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBNZWxlZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc05leHRUb1BsYXllciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllck5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIGlzIGFscmVhZHkgYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoY2hhcmFjdGVyQ3VycmVudE5vZGUpKTtcblxuICAgICAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldEN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hc3Rlck5vZGUgfSBmcm9tICcuLi9jb3JlL01hc3Rlck5vZGUnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ29tbWFuZFRyZWUgfSBmcm9tICcuL0NoYXJhY3RlckNvbW1hbmRUcmVlJztcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSAnLi4vY29yZS9Qcmlvcml0eSc7XG5pbXBvcnQgeyBTZXRQbGF5ZXJBc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldCc7XG5pbXBvcnQgeyBNZWxlZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBFbmRDb21iYXRUdXJuIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4nO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSXNOZXh0VG9QbGF5ZXIgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNOZXh0VG9QbGF5ZXInO1xuaW1wb3J0IHsgTWVtU2VxdWVuY2UgfSBmcm9tICcuLi9jb3JlL01lbVNlcXVlbmNlJztcbmltcG9ydCB7IEludmVydGVyIH0gZnJvbSAnLi4vY29yZS9kZWNvcmF0b3JzL0ludmVydGVyJztcbmltcG9ydCB7IElzVGFyZ2V0RGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQnO1xuaW1wb3J0IHsgSXNEZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZCc7XG5pbXBvcnQgeyBIYXNBY3Rpb25zUmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcnO1xuaW1wb3J0IHsgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JlbGlucXVpc2hNb3ZlbWVudFBvaW50cyc7XG5cbmV4cG9ydCBjbGFzcyBCYXNpY01lbGVlVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNNZWxlZVRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSXNOZXh0VG9QbGF5ZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc0FjdGlvbnNSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZWxlZUF0dGFja1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVRvd2FyZHNUYXJnZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgXSksXG5cbiAgICAgICAgICAgICAgICAgICAgbmV3IEVuZENvbWJhdFR1cm4oKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApXG4gICAgICAgIF0pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VBdHRhY2tUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGF0dGFja2VySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkZWZlbmRlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNsYXNzIE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKG1pbkRpc3RhbmNlLCBtYXhEaXN0YW5jZSkge1xuICAgICAgICBzdXBlcihbXSk7XG4gICAgICAgIHRoaXMubWluRGlzdGFuY2UgPSBtaW5EaXN0YW5jZTtcbiAgICAgICAgdGhpcy5tYXhEaXN0YW5jZSA9IG1heERpc3RhbmNlO1xuICAgIH1cblxuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3VycmVudE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBtaW5EaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1pbkRpc3RhbmNlLCAyKTtcbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2VTcXJ0ID0gTWF0aC5wb3codGhpcy5tYXhEaXN0YW5jZSwgMik7XG5cbiAgICAgICAgY29uc3QgbW92ZVBvaW50c0F2YWlsYWJsZSA9IGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50O1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0ID49IG1pbkRpc3RhbmNlU3FydCAmJiBkaXN0YW5jZVRvVGFyZ2V0IDw9IG1heERpc3RhbmNlU3FydCkge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSB3aXRoaW4gcmFuZ2UsIGdldCBvbiB3aXRoIGl0XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBtb3ZlUG9pbnRzQXZhaWxhYmxlKTtcbiAgICAgICAgICAgIGlmIChtb3ZlYWJsZU5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA8IG1pbkRpc3RhbmNlU3FydCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb28gY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBtb3ZlYWJsZU5vZGVzLnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBhKSA+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBmYXIgYXdheVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSArIE1hdGgucG93KHAyLnogLSBwMS56LCAyKTtcbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBQaWNrTmV4dEFjdGlvbiBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgY2hhcmFjdGVySWQpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgQ2FuU2VlVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICAvLyBMb29rIHRvIHRoZSBjZW50ZXIgb2YgZWFjaCBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZnJvbVBvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpO1xuICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgIGNvbnN0IGNhblNlZVRhcmdldCA9ICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoZnJvbVBvcywgdG9Qb3MpO1xuICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cblxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlcmUgaXMgYSBub2RlIHRvIG1vdmUgdG8gXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9sbG93IHBhdGggdG8gc2VlIGlmIHRhcmdldCBpcyB2aXNpYmxlIGZyb20gYW55IHBvaW50XG4gICAgICAgICAgICAgICAgbGV0IGRlbGV0ZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoTm9kZSA9IHBhdGhbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBvcyA9IG5ldyBwYy5WZWMzKHBhdGhOb2RlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5vZGUueik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVHJpbSB0byBwb2ludCBvZiB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgcGF0aC5zcGxpY2UoMCwgZGVsZXRlQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSYW5nZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCc7XG5pbXBvcnQgeyBQaWNrTmV4dEFjdGlvbiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbic7XG5pbXBvcnQgeyBDYW5TZWVUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvQ2FuU2VlVGFyZ2V0JztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljUmFuZ2VkVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNSYW5nZWRUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IENhblNlZVRhcmdldCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQoOSwgMTIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBpY2tOZXh0QWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FuU2VlVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZUF0dGFja1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBCbGFja2JvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy5iYXNlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgZ2xvYmFsIGluZm9ybWF0aW9uXG4gICAgICAgIHRoaXMudHJlZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIHRyZWUgYW5kIG5vZGUgaW5mb3JtYXRpb25cbiAgICB9XG5cbiAgICBnZXRUcmVlTWVtb3J5KHRyZWVTY29wZSkge1xuICAgICAgICBpZiAoIXRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSA9IHtcbiAgICAgICAgICAgICAgICBub2RlTWVtb3J5OiB7fSxcbiAgICAgICAgICAgICAgICBvcGVuTm9kZXM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXROb2RlTWVtb3J5KHRyZWVNZW1vcnksIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0cmVlTWVtb3J5Wydub2RlTWVtb3J5J107XG4gICAgICAgIGlmICghbWVtb3J5Lmhhc093blByb3BlcnR5KG5vZGVTY29wZSkpIHtcbiAgICAgICAgICAgIG1lbW9yeVtub2RlU2NvcGVdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5W25vZGVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIHZhciBtZW1vcnkgPSB0aGlzLmJhc2VNZW1vcnk7XG5cbiAgICAgICAgaWYgKHRyZWVTY29wZSkge1xuICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXRUcmVlTWVtb3J5KHRyZWVTY29wZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldE5vZGVNZW1vcnkobWVtb3J5LCBub2RlU2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeTtcbiAgICB9O1xuXG4gICAgc2V0KGtleSwgdmFsdWUsIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgbWVtb3J5W2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgZ2V0KGtleSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICByZXR1cm4gbWVtb3J5W2tleV07XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBUaWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wZW5Ob2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm5vZGVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZGVidWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZW50ZXJOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQrKztcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG5cbiAgICBvcGVuTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICB0aWNrTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICBjbG9zZU5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wb3AoKTtcbiAgICB9XG5cbiAgICBleGl0Tm9kZShub2RlKSB7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgVGljayB9IGZyb20gXCIuL1RpY2tcIjtcblxuZXhwb3J0IGNsYXNzIEJlaGF2aW91clRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZShpZCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZShpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aWNrKHRhcmdldCwgYmxhY2tib2FyZCkge1xuICAgICAgICAvKiBDUkVBVEUgQSBUSUNLIE9CSkVDVCAqL1xuICAgICAgICBjb25zdCB0aWNrID0gbmV3IFRpY2soKTtcbiAgICAgICAgdGljay50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZCA9IGJsYWNrYm9hcmQ7XG4gICAgICAgIHRpY2sudHJlZSA9IHRoaXM7XG5cbiAgICAgICAgLyogVElDSyBOT0RFICovXG4gICAgICAgIHRoaXMucm9vdC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFIE5PREVTIEZST00gTEFTVCBUSUNLLCBJRiBORUVERUQgKi9cbiAgICAgICAgY29uc3QgbGFzdE9wZW5Ob2RlcyA9IGJsYWNrYm9hcmQuZ2V0KCdvcGVuTm9kZXMnLCB0aGlzLmlkKSB8fCBbXTtcbiAgICAgICAgY29uc3QgY3Vyck9wZW5Ob2RlcyA9IHRpY2sub3Blbk5vZGVzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIGRvZXMgbm90IGNsb3NlIGlmIGl0IGlzIHN0aWxsIG9wZW4gaW4gdGhpcyB0aWNrXG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4obGFzdE9wZW5Ob2Rlcy5sZW5ndGgsIGN1cnJPcGVuTm9kZXMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKGxhc3RPcGVuTm9kZXNbaV0gIT09IGN1cnJPcGVuTm9kZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsb3NlIHRoZSBub2Rlc1xuICAgICAgICBmb3IgKGxldCBpID0gbGFzdE9wZW5Ob2Rlcy5sZW5ndGggLSAxOyBpID49IHN0YXJ0OyBpLS0pIHtcbiAgICAgICAgICAgIGxhc3RPcGVuTm9kZXNbaV0uY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBQT1BVTEFURSBCTEFDS0JPQVJEICovXG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdvcGVuTm9kZXMnLCBjdXJyT3Blbk5vZGVzLCB0aGlzLmlkKTtcbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ25vZGVDb3VudCcsIHRpY2subm9kZUNvdW50LCB0aGlzLmlkKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCbGFja2JvYXJkIH0gZnJvbSAnLi4vY29yZS9CbGFja2JvYXJkJztcbmltcG9ydCB7IEJlaGF2aW91clRyZWUgfSBmcm9tICcuLi9jb3JlL0JlaGF2aW91clRyZWUnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSAnYmFzaWNNZWxlZVRyZWUnO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSBuZXcgQmxhY2tib2FyZCgpO1xuICAgICAgICB0aGlzLnRyZWUgPSBuZXcgQmVoYXZpb3VyVHJlZShpZCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgLy8gT3ZlcnJpZGUgdG8gc2V0IHRyZWVcbiAgICB9XG5cbiAgICBydW5Db21tYW5kcyhmYWNhZGUsIGNoYXJhY3RlcklkKSB7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJmYWNhZGVcIiwgZmFjYWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiY2hhcmFjdGVySWRcIiwgY2hhcmFjdGVySWQsIHRoaXMudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMudHJlZS50aWNrKHRoaXMsIHRoaXMuYmxhY2tib2FyZCk7XG4gICAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIEdhbWVDb21tYW5kcyB7XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORVwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkVfQ09NUExFVEUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORV9DT01QTEVURVwiIH07XG4gICAgc3RhdGljIGdldCBBUFBfSU5JVElBTElTRUQoKSB7IHJldHVybiBcIkFQUF9JTklUSUFMSVNFRFwiIH07XG4gICAgc3RhdGljIGdldCBQQVJTRV9HQU1FTUFQKCkgeyByZXR1cm4gXCJQQVJTRV9HQU1FTUFQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BUF9HUklEX0NSRUFURUQoKSB7IHJldHVybiBcIk1BUF9HUklEX0NSRUFURURcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX1dBWVBPSU5UKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19XQVlQT0lOVFwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19XT1JMRF9PQkpFQ1QoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX1dPUkxEX09CSkVDVFwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9USFJPVUdIX1BPUlRBTCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVEhST1VHSF9QT1JUQUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ09NQkFUX05BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIkNPTUJBVF9OQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DQU1FUkFfVEFSR0VUKCkgeyByZXR1cm4gXCJTRVRfQ0FNRVJBX1RBUkdFVFwiIH07XG4gICAgc3RhdGljIGdldCBJTlBVVF9EUkFHX01PVVNFKCkgeyByZXR1cm4gXCJJTlBVVF9EUkFHX01PVVNFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTU9WRURfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTU9WRURfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBGSU5JU0hFRF9NT1ZFKCkgeyByZXR1cm4gXCJGSU5JU0hFRF9NT1ZFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0NPTUJBVCgpIHsgcmV0dXJuIFwiU1RBUlRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfVE9BU1RfTUVTU0FHRSgpIHsgcmV0dXJuIFwiU0hPV19UT0FTVF9NRVNTQUdFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9ST1VORCgpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfUk9VTkRcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORU1ZX1RVUk4oKSB7IHJldHVybiBcIkVORU1ZX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VMRUNURURfTk9ERSgpIHsgcmV0dXJuIFwiU0VMRUNURURfTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04oKSB7IHJldHVybiBcIkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX0FMT05HX1BBVEgoKSB7IHJldHVybiBcIk5BVklHQVRFX0FMT05HX1BBVEhcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIlNIT1dfV0FMS0FCTEVfQVJFQVwiIH07XG4gICAgc3RhdGljIGdldCBISURFX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIkhJREVfV0FMS0FCTEVfQVJFQVwiIH07XG5cblxuICAgIHN0YXRpYyBnZXQgRU5EX01PVkVNRU5UKCkgeyByZXR1cm4gXCJFTkRfTU9WRU1FTlRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCgpIHsgcmV0dXJuIFwiQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVFwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0hBUkFDVEVSX1RPX05PREUoKSB7IHJldHVybiBcIlNFVF9DSEFSQUNURVJfVE9fTk9ERVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiU0VMRUNUX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVE9HR0xFX0JVVFRPTigpIHsgcmV0dXJuIFwiVE9HR0xFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX1JBTkdFRF9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfUkFOR0VEX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NUQU1JTkEoKSB7IHJldHVybiBcIkNIQU5HRV9TVEFNSU5BXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRVFVSVBfV0VBUE9OKCkgeyByZXR1cm4gXCJFUVVJUF9XRUFQT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRkxPQVRJTkdfU1RBVFVTKCkgeyByZXR1cm4gXCJESVNQTEFZX0ZMT0FUSU5HX1NUQVRVU1wiIH07XG4gICAgc3RhdGljIGdldCBBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAoKSB7IHJldHVybiBcIkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSygpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX1BBTkVMKCkgeyByZXR1cm4gXCJTSE9XX0RJQUxPR1VFX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfRElBTE9HVUVfUEFORUwoKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfUEFORUxcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTigpIHsgcmV0dXJuIFwiU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04oKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TVEVQKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NURVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1RcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDT05USU5VRV9ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJDT05USU5VRV9ESUFMT0dVRV9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UoKSB7IHJldHVybiBcIlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0VcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNUKCkgeyByZXR1cm4gXCJSRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1RcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUygpIHsgcmV0dXJuIFwiQ0xFQVJfRElBTE9HVUVfQ0hPSUNFU1wiIH07XG4gICAgc3RhdGljIGdldCBHT19UT19ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJHT19UT19ESUFMT0dVRV9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhBTkRMRV9XT1JMRF9JTlBVVCgpIHsgcmV0dXJuIFwiSEFORExFX1dPUkxEX0lOUFVUXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU1RBUlRfRElBTE9HVUUoKSB7IHJldHVybiBcIlNUQVJUX0RJQUxPR1VFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9ESUFMT0dVRSgpIHsgcmV0dXJuIFwiRU5EX0RJQUxPR1VFXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBHQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCgpIHsgcmV0dXJuIFwiR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcIiB9O1xuXG4gICAgLy8gSW52ZW50b3J5IENvbW1hbmRzXG4gICAgc3RhdGljIGdldCBDTElDS19JTlZFTlRPUllfQlVUVE9OKCkgeyByZXR1cm4gXCJDTElDS19JTlZFTlRPUllfQlVUVE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfSU5WRU5UT1JZX1BBTkVMKCkgeyByZXR1cm4gXCJESVNQTEFZX0lOVkVOVE9SWV9QQU5FTFwiIH07XG4gICAgc3RhdGljIGdldCBVUERBVEVfSU5WRU5UT1JZX1BBTkVMKCkgeyByZXR1cm4gXCJVUERBVEVfSU5WRU5UT1JZX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFT1JERVJfSU5WRVRPUllfSVRFTSgpIHsgcmV0dXJuIFwiUkVPUkRFUl9JTlZFVE9SWV9JVEVNXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVRVUlQX0lURU1fVE9fU0xPVCgpIHsgcmV0dXJuIFwiRVFVSVBfSVRFTV9UT19TTE9UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFERF9JVEVNX1RPX0lOVkVOVE9SWSgpIHsgcmV0dXJuIFwiQUREX0lURU1fVE9fSU5WRU5UT1JZXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRVFVSVBQRURfU0xPVCgpIHsgcmV0dXJuIFwiRElTUExBWV9FUVVJUFBFRF9TTE9UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVTRV9FUVVJUFBFRF9JVEVNKCkgeyByZXR1cm4gXCJVU0VfRVFVSVBQRURfSVRFTVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hUKCkgeyByZXR1cm4gXCJTRVRfVVNFX0lURU1fQlVUVE9OX0hJR0hMSUdIVFwiIH07XG5cbiAgICAvLyBTcGVsbHNcbiAgICBzdGF0aWMgZ2V0IE9QRU5fU1BFTExCT09LKCkgeyByZXR1cm4gXCJPUEVOX1NQRUxMQk9PS1wiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX1NQRUxMQk9PSygpIHsgcmV0dXJuIFwiRElTUExBWV9TUEVMTEJPT0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVdBSVRfU1BFTExfQ0FTVCgpIHsgcmV0dXJuIFwiQVdBSVRfU1BFTExfQ0FTVFwiIH07XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBXZWFwb25UeXBlcyB7XG4gICAgLy8gTUVMRUVcbiAgICBzdGF0aWMgZ2V0IFNXT1JEKCkgeyByZXR1cm4gXCJzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBBWEUoKSB7IHJldHVybiBcImF4ZVwiIH07XG4gICAgc3RhdGljIGdldCBLTklGRSgpIHsgcmV0dXJuIFwia25pZmVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBRkYoKSB7IHJldHVybiBcInN0YWZmXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhBTU1FUigpIHsgcmV0dXJuIFwiaGFtbWVyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNQRUFSKCkgeyByZXR1cm4gXCJzcGVhclwiIH07XG4gICAgc3RhdGljIGdldCBNQUNFKCkgeyByZXR1cm4gXCJtYWNlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBPTEVBUk0oKSB7IHJldHVybiBcInBvbGVhcm1cIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFVTCgpIHsgcmV0dXJuIFwibWF1bFwiIH07XG4gICAgc3RhdGljIGdldCBHUkVBVFNXT1JEKCkgeyByZXR1cm4gXCJncmVhdHN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMVUIoKSB7IHJldHVybiBcImNsdWJcIiB9O1xuICAgIHN0YXRpYyBnZXQgVU5BUk1FRCgpIHsgcmV0dXJuIFwidW5hcm1lZFwiIH07XG4gICAgc3RhdGljIGdldCBTSElFTEQoKSB7IHJldHVybiBcInNoaWVsZFwiIH07XG5cbiAgICAvLyBSQU5HRURcbiAgICBzdGF0aWMgZ2V0IEZVU0lMKCkgeyByZXR1cm4gXCJmdXNpbFwiIH07XG4gICAgc3RhdGljIGdldCBCT1coKSB7IHJldHVybiBcImJvd1wiIH07XG4gICAgc3RhdGljIGdldCBDUk9TU0JPVygpIHsgcmV0dXJuIFwiY3Jvc3Nib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgUElTVE9MRVQoKSB7IHJldHVybiBcInBpc3RvbGV0XCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYXBvbkVudW1zID0gT2JqZWN0LmVudHJpZXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoV2VhcG9uVHlwZXMpKVxuICAgIC5maWx0ZXIoKFtrZXksIGRlc2NyaXB0b3JdKSA9PiB0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicpXG4gICAgLm1hcCgoW2tleV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHsgW2tleV06IFdlYXBvblR5cGVzW2tleV0gfTtcbiAgICB9KTsiLCJpbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gXCIuLi8uLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzXCI7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gXCIuLi8uLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlXCI7XG5pbXBvcnQgeyBCYXNpY1JhbmdlZFRyZWUgfSBmcm9tICcuLi8uLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJzVk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgdGhpcy5iZWhhdmlvdXJUcmVlcyA9IG5ldyBNYXAoKTtcblxuICAgICAgICB0aGlzLmJlaGF2aW91clRyZWVzLnNldChCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRSwgbmV3IEJhc2ljTWVsZWVUcmVlKCkpO1xuICAgICAgICB0aGlzLmJlaGF2aW91clRyZWVzLnNldChCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQsIG5ldyBCYXNpY1JhbmdlZFRyZWUoKSk7XG4gICAgfVxuXG4gICAgZ2V0VHJlZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlaGF2aW91clRyZWVzLmdldCh0eXBlKTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnJvdW5kSW5pdGlhdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRlYW1zID0gdGVhbXM7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPSBNYXRoLm1heCgwLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hKTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIHRoaXMuaWQsIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4U3RhbWluYSk7XG4gICAgfVxuXG4gICAgZ2V0U2tpbGxUb3RhbChza2lsbEtleSkge1xuICAgICAgICBpZiAodGhpcy52by5hZHZhbmNlZFNraWxscy5oYXMoc2tpbGxLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5za2lsbCArIHRoaXMudm8uYWR2YW5jZWRTa2lsbHMuZ2V0KHNraWxsS2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNraWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgZGlhbG9ndWVUcmVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5kaWFsb2d1ZVRyZWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50Tm9kZTtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGNvbWJhdEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBnZXQgaXNOUEMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlzTlBDO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVNb3ZlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZU1vdmVtZW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlQWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucztcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlQWN0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIHRoaXMuaWQsXG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMsIHRoaXMubWF4QWN0aW9uc1BlclR1cm4pO1xuICAgIH1cblxuICAgIGdldCBtYXhBY3Rpb25zUGVyVHVybigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgZ2V0IHNraWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5za2lsbDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFN0YW1pbmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50U3RhbWluYSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxuICAgIC8vIEludmVudG9yeSBcbiAgICByZW9yZGVySW52ZW50b3J5SXRlbShpdGVtVVVJRCwgc2xvdEluZGV4KSB7XG4gICAgICAgIC8vIERlbGV0ZSB0aGUgaXRlbSBmcm9tIGl0J3MgY3VycmVudCBwb3NpdGlvblxuICAgICAgICBjb25zdCBvcmlnaW5hbEluZGV4ID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGl0ZW1VVUlEKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJdGVtID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5zcGxpY2Uob3JpZ2luYWxJbmRleCwgMSk7XG4gICAgICAgIGxldCBydW5uaW5nSW5kZXhUb3RhbCA9IDA7XG4gICAgICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnZlbnRvcnlJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaW52ZW50b3J5SXRlbXNbaV07XG5cblxuICAgICAgICAgICAgaWYgKHNsb3RJbmRleCA+PSBydW5uaW5nSW5kZXhUb3RhbCAmJiBzbG90SW5kZXggPCBydW5uaW5nSW5kZXhUb3RhbCArIGl0ZW0uc2l6ZSkge1xuICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcnVubmluZ0luZGV4VG90YWwgKz0gaXRlbS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNsb3RJbmRleCA+PSBydW5uaW5nSW5kZXhUb3RhbCkge1xuICAgICAgICAgICAgbmV3SW5kZXggPSB0aGlzLmludmVudG9yeUl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhIHZhbGlkIGFycmF5IGlzIHByb3ZpZGVkXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcy5pbnZlbnRvcnlJdGVtcykgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBhcnJheScpO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSdzIGFuIGl0ZW0gdG8gbW92ZVxuICAgICAgICBpZiAoIW9yaWdpbmFsSXRlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gaXRlbSBpbiB0aGUgYXJyYXkgYXQgaW5kZXggJyArIG9yaWdpbmFsSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgaXRlbSB0byBpdHMgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMuc3BsaWNlKG5ld0luZGV4LCAwLCBvcmlnaW5hbEl0ZW1bMF0pO1xuICAgIH1cblxuICAgIGF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdChzbG90S2V5LCBpdGVtRGF0YSkge1xuICAgICAgICAvLyBjaGVjayBlcXVpcCB3ZWFwb25cbiAgICAgICAgaWYgKChzbG90S2V5ID09PSAnMWhhbmQnIHx8IHNsb3RLZXkgPT09ICcyaGFuZCcpICYmIGl0ZW1EYXRhLnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IHRoaXMuZXF1aXBtZW50U2xvdHMuZ2V0KHNsb3RLZXkpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciBib3RoIHNsb3RzIGl0IGxhc3QgaXRlbSB3YXMgdHdvLWhhbmRlZFxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbSAmJiBleGlzdGluZ0l0ZW0uZXF1aXBTbG90ID09PSAnMmhhbmQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzFoYW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzJoYW5kJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtRGF0YS5lcXVpcFNsb3QgPT09ICcxaGFuZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLnNldChzbG90S2V5LCBpdGVtRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoaXMgaXNuJ3QgYWxyZWFkeSBlcXVpcHBlZCBpbiB0aGUgb3RoZXIgaGFuZFxuICAgICAgICAgICAgICAgIGlmIChzbG90S2V5ID09PSAnMWhhbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyU2xvdCA9IHRoaXMuZXF1aXBtZW50U2xvdHMuZ2V0KCcyaGFuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJTbG90ICYmIG90aGVyU2xvdC51dWlkID09PSBpdGVtRGF0YS51dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLmRlbGV0ZSgnMmhhbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2xvdEtleSA9PT0gJzJoYW5kJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdGhlclNsb3QgPSB0aGlzLmVxdWlwbWVudFNsb3RzLmdldCgnMWhhbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyU2xvdCAmJiBvdGhlclNsb3QudXVpZCA9PT0gaXRlbURhdGEudXVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzFoYW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLnNldCgnMWhhbmQnLCBpdGVtRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5zZXQoJzJoYW5kJywgaXRlbURhdGEpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBlcXVpcCBhcm1vdXJcbiAgICAgICAgaWYgKHNsb3RLZXkgPT09ICdhcm1vdXInICYmIGl0ZW1EYXRhLnR5cGUgPT09IFwiYXJtb3VyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuc2V0KHNsb3RLZXksIGl0ZW1EYXRhKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkSW52ZW50b3J5SXRlbShpbnZlbnRvcnlJdGVtRGF0YSkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnB1c2goaW52ZW50b3J5SXRlbURhdGEpO1xuICAgIH1cblxuICAgIGdldEVxdWlwcGVkSXRlbShzbG90S2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVxdWlwbWVudFNsb3RzLmdldChzbG90S2V5KTtcbiAgICB9XG5cbiAgICBnZXQgaW52ZW50b3J5SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmludmVudG9yeUl0ZW1zO1xuICAgIH1cblxuICAgIHNldCBpbnZlbnRvcnlJdGVtcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmludmVudG9yeUl0ZW1zID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGVxdWlwbWVudFNsb3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5lcXVpcG1lbnRTbG90cztcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEFybW91cigpIHtcbiAgICAgICAgbGV0IGFybW91ciA9IDA7XG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy52by5lcXVpcG1lbnRTbG90cy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5wcm9wZXJ0aWVzLmFybW91cikge1xuICAgICAgICAgICAgICAgIGFybW91ciArPSB2YWx1ZS5wcm9wZXJ0aWVzLmFybW91cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJtb3VyO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgSW52ZW50b3J5SXRlbSB9IGZyb20gJy4uL2l0ZW1zL0ludmVudG9yeUl0ZW0nO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHBhcmFtcy5pZDtcbiAgICAgICAgdGhpcy5pc05QQyA9IHBhcmFtcy5pc05QQztcbiAgICAgICAgdGhpcy5jb21iYXRHcm91cCA9IHBhcmFtcy5jb21iYXRHcm91cCB8fCBbXTtcbiAgICAgICAgdGhpcy5kaWFsb2d1ZVRyZWUgPSBwYXJhbXMuZGlhbG9ndWVUcmVlIHx8IHRoaXMuaWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVHJvaWthIHN0YXRzXG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IHBhcmFtcy5pbml0aWF0aXZlIHx8IDI7XG4gICAgICAgIHRoaXMubWF4TW92ZW1lbnQgPSBwYXJhbXMubWF4TW92ZW1lbnQgfHwgNjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJhbXMuaGVpZ2h0IHx8IDEuODtcbiAgICAgICAgdGhpcy5tYXhBY3Rpb25zUGVyVHVybiA9IDE7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG4gICAgICAgIHRoaXMuc2tpbGwgPSBwYXJhbXMuc2tpbGwgfHwgMTtcblxuICAgICAgICB0aGlzLm1heFN0YW1pbmEgPSBwYXJhbXMubWF4U3RhbWluYSB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGFtaW5hID0gdGhpcy5tYXhTdGFtaW5hO1xuXG4gICAgICAgIHRoaXMubWF4THVjayA9IHBhcmFtcy5tYXhMdWNrIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudEx1Y2sgPSB0aGlzLm1heEx1Y2s7XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNraWxscyA9IHBhcmFtcy5hZHZhbmNlZFNraWxscyB8fCBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5ib3RCZWhhdmlvdXIgPSBwYXJhbXMuYm90QmVoYXZpb3VyIHx8IDA7XG5cbiAgICAgICAgdGhpcy5lcXVpcHBlZFdlYXBvbiA9IHBhcmFtcy5lcXVpcHBlZFdlYXBvbiB8fCBcInVuYXJtZWRcIjtcblxuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgYWRkSXRlbShpdGVtRGF0YSkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnB1c2goXG4gICAgICAgICAgICBuZXcgSW52ZW50b3J5SXRlbShpdGVtRGF0YSlcbiAgICAgICAgKTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgZ2V0QWRqYWNlbnRQb2ludHMgfSBmcm9tICcuLi8uLi91dGlscy9BZGphY2VudFBvaW50cyc7XG5jb25zdCB7IEdhbWVNYXBWTyB9ID0gcmVxdWlyZSgnLi9HYW1lTWFwVk8nKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCwgd2FsbEJvdW5kaW5nQm94ZXMsIGNvdmVyLCBwb3J0YWxzLCBuYXZHcmlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFwR3JpZDogbWFwR3JpZCxcbiAgICAgICAgICAgIHdhbGxCb3VuZGluZ0JveGVzOiB3YWxsQm91bmRpbmdCb3hlcyxcbiAgICAgICAgICAgIGNvdmVyOiBjb3ZlcixcbiAgICAgICAgICAgIHBvcnRhbHM6IHBvcnRhbHMsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uR3JpZDogbmF2R3JpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuXG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3ROb2RlKHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEdyaWQgPSB0aGlzLnZvLm1hcEdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbWFwR3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtYXBHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIGZpbmROZWFyZXN0V2F5cG9pbnQodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbmF2R3JpZCA9IHRoaXMudm8ubmF2aWdhdGlvbkdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbmF2R3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBuYXZHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIHJheUludGVyc2VjdHNXYWxsKGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZSh0byk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRvLmNsb25lKCkuc3ViKGZyb20uY2xvbmUoKSkubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IHJheSA9IG5ldyBwYy5SYXkoZnJvbSwgZGlyZWN0aW9uKTtcblxuICAgICAgICBjb25zdCBtYXBXYWxscyA9IHRoaXMudm8ud2FsbEJvdW5kaW5nQm94ZXM7XG4gICAgICAgIGZvciAoY29uc3Qgd2FsbCBvZiBtYXBXYWxscykge1xuICAgICAgICAgICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gd2FsbC5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9IaXQgPSBoaXRQb3NpdGlvbi5kaXN0YW5jZShmcm9tKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvSGl0IDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldCBjb3ZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY292ZXI7XG4gICAgfVxuXG5cbiAgICBpc0luQ292ZXIodGFyZ2V0UG9pbnQsIGF0dGFja2luZ0Zyb20pIHtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBhZGphY2VudFBvaW50cyA9IGdldEFkamFjZW50UG9pbnRzKHRhcmdldFBvaW50KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50UG9pbnQgb2YgYWRqYWNlbnRQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZSA9IHRoaXMuY292ZXIuZmluZCgoY292ZXJQb2ludCkgPT4gYWRqYWNlbnRQb2ludC5lcXVhbHMoY292ZXJQb2ludCkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZSkge1xuICAgICAgICAgICAgICAgIGFkamFjZW50Q292ZXJQb2ludHMucHVzaChhZGphY2VudFBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGphY2VudENvdmVyUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSB0YXJnZXRQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50IG9mIGFkamFjZW50Q292ZXJQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvQ292ZXIgPSBhZGphY2VudENvdmVyUG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9Db3ZlciA8IGRpc3RhbmNlVG9UYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0cmlldmVQb3J0YWwocG9ydGFsSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ucG9ydGFscy5nZXQocG9ydGFsSWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTGluZShub2RlQSwgbm9kZUIpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IEFzdGFyLmNhbGN1bGF0ZUJyZXNlbmhhbUxpbmUobm9kZUEueCwgbm9kZUEueiwgbm9kZUIueCwgbm9kZUIueik7XG4gICAgICAgIHJldHVybiBBc3Rhci5jaGVja1ZhbGlkTGluZShsaW5lLCB0aGlzLnZvLm1hcEdyaWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTm9kZShub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm1hcEdyaWQuc29tZShuID0+IG4uZXF1YWxzKG5vZGUpKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRBZGphY2VudFBvaW50cyhwb2ludCkge1xuICAgIGNvbnN0IHBvaW50cyA9IFtdXG4gICAgLy9Ob3J0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogLSAxKSk7XG4gICAgLy9FYXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCArIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1dlc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54IC0gMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vU291dGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56ICsgMSkpO1xuXG4gICAgcmV0dXJuIHBvaW50cztcbn0iLCJleHBvcnQgY2xhc3MgR2FtZU1hcFZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXBHcmlkID0gW107XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgfVxuXG4gICAgcHVzaCh2YWx1ZSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgbWluID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLmRhdGFbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgICBpZiAoTWF0aC5taW4obWluLCBwcmlvcml0eSkgPT09IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgbWluID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc3BsaWNlKGluZGV4LCAxKVswXS52YWx1ZTtcbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aFxuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3RhciB7XG4gICAgc3RhdGljIGJyZWFkdGhGaXJzdFNlYXJjaChzdGFydCwgcmFuZ2VMaW1pdCkge1xuICAgICAgICBsZXQgZnJvbnRpZXIgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VhcmNoZWRBcmVhID0gW107XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcblxuICAgICAgICBsZXQgcmFuZ2UgPSAwO1xuXG4gICAgICAgIHdoaWxlIChmcm9udGllci5sZW5ndGggPiAwICYmIHJhbmdlIDwgcmFuZ2VMaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRpZXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBmcm9udGllcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjYW1lRnJvbS5oYXMobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGcm9udGllci5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRBcmVhLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb250aWVyID0gbmV3RnJvbnRpZXI7XG5cbiAgICAgICAgICAgIHJhbmdlKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VhcmNoZWRBcmVhO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVBhdGgoc3RhcnQsIGdvYWwpIHtcbiAgICAgICAgY29uc3QgZnJvbnRpZXIgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0LCAwKTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY29zdFNvRmFyID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuICAgICAgICBjb3N0U29GYXIuc2V0KHN0YXJ0LCAwKTtcblxuICAgICAgICB3aGlsZSAoIWZyb250aWVyLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBmcm9udGllci5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29zdCA9IGNvc3RTb0Zhci5nZXQoY3VycmVudCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVXYXlwb2ludHNQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgZGlzdFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh4MCwgejAsIHgxLCB6MSkge1xuICAgICAgICBsZXQgZHggPSB4MSAtIHgwO1xuICAgICAgICBsZXQgZHkgPSB6MSAtIHowO1xuICAgICAgICBsZXQgbnggPSBNYXRoLmFicyhkeCk7XG4gICAgICAgIGxldCBueSA9IE1hdGguYWJzKGR5KTtcblxuICAgICAgICBjb25zdCBzaWduX3ggPSBkeCA+IDAgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IHNpZ25feSA9IGR5ID4gMCA/IDEgOiAtMTtcblxuXG4gICAgICAgIGNvbnN0IHAgPSB7IHg6IHgwLCB5OiAwLCB6OiB6MCB9O1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIGl5ID0gMDsgaXggPCBueCB8fCBpeSA8IG55Oykge1xuICAgICAgICAgICAgaWYgKCgwLjUgKyBpeCkgLyBueCA8ICgwLjUgKyBpeSkgLyBueSkge1xuICAgICAgICAgICAgICAgIC8vIG5leHQgc3RlcCBpcyBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgcC54ICs9IHNpZ25feDtcbiAgICAgICAgICAgICAgICBpeCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IHN0ZXAgaXMgdmVydGljYWxcbiAgICAgICAgICAgICAgICBwLnogKz0gc2lnbl95O1xuICAgICAgICAgICAgICAgIGl5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7IHg6IHAueCwgeTogMCwgejogcC56IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50cztcblxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja1ZhbGlkTGluZShsaW5lLCBtYXApIHtcbiAgICAgICAgbGV0IGlzVmFsaWRMaW5lID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBsaW5lKSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5zb21lKG4gPT4gbi5lcXVhbHMocG9pbnQpKSkge1xuICAgICAgICAgICAgICAgIGlzVmFsaWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNWYWxpZExpbmU7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZVN0YXRlVk8gfSA9IHJlcXVpcmUoJy4vR2FtZVN0YXRlVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZVN0YXRlUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZVByb3h5Lk5BTUUsIG5ldyBHYW1lU3RhdGVWTygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVHYW1lU3RhdGVUeXBlKG5ld1N0YXRlVHlwZSkge1xuICAgICAgICB0aGlzLnZvLmdhbWVwbGF5TW9kZSA9IG5ld1N0YXRlVHlwZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmdhbWVwbGF5TW9kZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEFjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb247XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5zZWxlY3RlZEFjdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBzZWxlY3RlZFNwZWxsQ29tbWFuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2VsZWN0ZWRTcGVsbENvbW1hbmQ7XG4gICAgfVxuXG4gICAgc2V0IHNlbGVjdGVkU3BlbGxDb21tYW5kKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uc2VsZWN0ZWRTcGVsbENvbW1hbmQgPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZ2FtZXBsYXlNb2RlVHlwZXMgPSB7XG4gICAgRVhQTE9SQVRJT046ICdFWFBMT1JBVElPTicsXG4gICAgQ09NQkFUOiAnQ09NQkFUJyxcbiAgICBESUFMT0dVRTogJ0RJQUxPR1VFJyxcbiAgICBHQU1FX09WRVI6ICdHQU1FX09WRVInLFxuXG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNb2RlID0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT047XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNwZWxsQ29tbWFuZCA9IHVuZGVmaW5lZDtcbiAgICB9XG59IiwiaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5SXRlbSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB0aGlzLnV1aWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgICB0aGlzLmljb24gPSBkYXRhLmljb247XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplID8/IDE7XG4gICAgICAgIHRoaXMuZXF1aXBTbG90ID0gZGF0YS5lcXVpcFNsb3QgPz8gXCJub25lXCI7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IGRhdGEucHJvcGVydGllcyA/PyB7fTtcbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgU3RvcnlWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIHJldHVybiBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LFxuICAgICAgICBjdXJyZW50Tm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICBjdXJyZW50Tm9kZS56KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlVVVJRCgpIHtcbiAgICB2YXIgcyA9IFtdO1xuICAgIHZhciBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM2OyBpKyspIHtcbiAgICAgICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuICAgIH1cbiAgICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcbiAgICBzWzE0XSA9IFwiNFwiO1xuXG4gICAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcbiAgICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7XG5cbiAgICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XG5cbiAgICB2YXIgdXVpZCA9IHMuam9pbihcIlwiKTtcbiAgICByZXR1cm4gdXVpZDtcblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3JfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGlkLCB2aWV3Q29tcG9uZW50LCBwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgICAgIGxldCBub3RpZmljYXRpb25zID0gW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRFxuXG4gICAgICAgIF07XG5cbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuY29uY2F0KHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy52aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZmlyZShub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0S2V5IGluIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0LCBzY3JpcHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtzY3JpcHRLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb1dheXBvaW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgbG9va1BvaW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobG9va1BvaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGhpdGJveCA9IHRoaXMudmlld0NvbXBvbmVudC5maW5kQnlOYW1lKFwiSGl0Ym94XCIpO1xuICAgICAgICAgICAgICAgIGlmIChoaXRib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0Ym94LmZpcmUoJ3N0b3BMaXN0ZW5pbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVEZWF0aCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlQXR0YWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVIaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlVG9Ob2RlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZVRvV2F5cG9pbnQodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG5lYXJlc3RXYXlwb2ludCA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdFdheXBvaW50KHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICBjb25zdCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3RXYXlwb2ludCh0YXJnZXROb2RlKTtcblxuICAgICAgICAvKmNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVXYXlwb2ludHNQYXRoKG5lYXJlc3RXYXlwb2ludCwgbmVhcmVzdFRhcmdldFdheXBvaW50KTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaGFzTGluZVRvUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gMCAmJiBoYXNMaW5lVG9Qb2ludCkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbcGF0aC5sZW5ndGggLSAxXSwgY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTGluZVRvUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWUgaWYgZW5kIG9mIHBhdGggY2FuIGJlIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoWzFdLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXRoLnVuc2hpZnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfSovXG5cbiAgICAgICAgLy8gSXMgc3RyYWlnaHQgbGluZT9cbiAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUoY3VycmVudE5vZGUsIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gW3RhcmdldE5vZGUsIGN1cnJlbnROb2RlXTtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVXYXlwb2ludHNQYXRoKG5lYXJlc3RXYXlwb2ludCwgbmVhcmVzdFRhcmdldFdheXBvaW50KTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGlmIGVuZCBvZiBwYXRoIGNhbiBiZSB0cmltbWVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbMV0sIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaGFzTGluZVRvUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDEgJiYgaGFzTGluZVRvUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFtwYXRoLmxlbmd0aCAtIDJdLCBjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNMaW5lVG9Qb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBtb3ZlVG9Ob2RlV2l0aFByb21pc2UodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgaWYgKCFnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpIHtcbiAgICAgICAgfVxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VycmVudE5vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQobm9kZSk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcblxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50J10uY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lRmFjYWRlIH0gPSByZXF1aXJlKCcuLi9HYW1lRmFjYWRlJyk7XG5cbmV4cG9ydCBjb25zdCBDYWNvZ2VuR2FtZSA9IHBjLmNyZWF0ZVNjcmlwdCgnQ2Fjb2dlbkdhbWUnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkNhY29nZW5HYW1lLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgXCJQb3J0IFRhcmluZ29cIiwgXCJlbnRyYW5jZVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5XCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBib3RCZWhhdmlvdXJFbnVtcyB9IGZyb20gJy4uLy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgd2VhcG9uRW51bXMgfSBmcm9tIFwiLi4vLi4vZGF0YS9XZWFwb25UeXBlc1wiO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgY29uc3QgR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuXG5jb25zdCBzdGF0c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbCcsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbWF4U3RhbWluYScsXG4gICAgICAgIHRpdGxlOiAnU3RhbWluYScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4THVjaycsXG4gICAgICAgIHRpdGxlOiAnTHVjaycsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnaW5pdGlhdGl2ZScsXG4gICAgICAgIHRpdGxlOiAnSW5pdGlhdGl2ZScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAyXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4TW92ZW1lbnQnLFxuICAgICAgICB0aXRsZTogJ01vdmVtZW50JyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDZcbiAgICB9XG5dO1xuXG5jb25zdCBhZHZhbmNlZFNraWxsc1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbE5hbWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxWYWx1ZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgVmFsdWUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xuICAgIH1cbl07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJJZFwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSWRcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA0XG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySGVpZ2h0XCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBIZWlnaHRcIixcbiAgICBkZWZhdWx0OiAxLjhcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiaXNOUENcIiwge1xuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHRpdGxlOiBcImlzIE5QQ1wiLFxuICAgIGRlZmF1bHQ6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic3RhdHNPdmVycmlkZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlN0YXRzIE92ZXJyaWRlc1wiLFxuICAgIHNjaGVtYTogc3RhdHNTY2hlbWFcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYWR2YW5jZWRTa2lsbHNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIkFkdmFuY2VkIFNraWxsc1wiLFxuICAgIHNjaGVtYTogYWR2YW5jZWRTa2lsbHNTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29tYmF0R3JvdXBOYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNvbWJhdCBHcm91cCBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZGlhbG9ndWVUcmVlTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJEaWFsb2d1ZSBUcmVlIE5hbWVcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJib3RCZWhhdmlvdXJcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQm90IEJlaGF2aW91clwiLFxuICAgIGVudW06IGJvdEJlaGF2aW91ckVudW1zLFxuICAgIGRlZmF1bHQ6IDBcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJlcXVpcHBlZFdlYXBvblwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJFcXVpcHBlZCBXZWFwb25cIixcbiAgICBlbnVtOiB3ZWFwb25FbnVtcyxcbiAgICBkZWZhdWx0OiBcInVuYXJtZWRcIlxufSk7XG5cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xufVxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG5cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHNPdmVycmlkZXMgPSB0aGlzLnN0YXRzT3ZlcnJpZGVzO1xuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUEMsXG4gICAgICAgIGhlaWdodDogdGhpcy5jaGFyYWN0ZXJIZWlnaHQsXG4gICAgICAgIGFkdmFuY2VkU2tpbGxzOiBhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwKHRoaXMuYWR2YW5jZWRTa2lsbHMpLFxuICAgICAgICBlcXVpcHBlZFdlYXBvbjogdGhpcy5lcXVpcHBlZFdlYXBvbixcbiAgICAgICAgLi4uc3RhdHNPdmVycmlkZXMsXG4gICAgICAgIGJvdEJlaGF2aW91cjogdGhpcy5ib3RCZWhhdmlvdXIsXG4gICAgICAgIGRpYWxvZ3VlVHJlZTogdGhpcy5kaWFsb2d1ZVRyZWVOYW1lXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZGlzYWJsZWQgZW50aXRpZXNcbiAgICAgICAgICAgIGlmIChjb21yYWRlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgICAgIGNvbWJhdEdyb3VwLnB1c2goY29tcmFkZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm94eVBhcmFtcy5jb21iYXRHcm91cCA9IGNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc1Byb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgLy8gdGhpcy5mYWNhZGUucmVtb3ZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpO1xuICAgICAgICAvLyBTZXQgY3VycmVudCBub2RlIGlmIGdhbWUgY2hhcmFjdGVyIHdhcyBjcmVhdGVkIGFmdGVyIHRoZSBtYXBcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChnYW1lTWFwUHJveHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gY3VycmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KGNoYXJhY3RlclByb3h5KTtcbiAgICB9XG5cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDaGFyYWN0ZXJNZWRpYXRvcih0aGlzLmNoYXJhY3RlcklkLCB0aGlzLmVudGl0eSwgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykpO1xuXG4gICAgdGhpcy52ZWhpY2xlID0gdGhpcy5lbnRpdHkuc2NyaXB0WydWZWhpY2xlQ29tcG9uZW50J107XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjcmVhdGVkOmdhbWVDaGFyYWN0ZXInKTtcblxufTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zZXRQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGggJiYgdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjYW5jZWxNb3ZlJyk7XG4gICAgfVxuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gcGF0aDtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnd2Fsay5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc3RvcE1vdmVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnROb2RlKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLm1vdmVBbG9uZ1BhdGgoZHQpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBub2RlUG9pbnQgPSBuZXcgcGMuVmVjMyhuZXh0UGF0aFBvaW50LngsIG5leHRQYXRoUG9pbnQueSwgbmV4dFBhdGhQb2ludC56KTtcblxuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IGxvY2FsUG9zLmRpc3RhbmNlKG5vZGVQb2ludCk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvTmV4dFBhdGggPD0gKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5tb3ZlbWVudFBhdGgucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdmaW5pc2hlZE1vdmUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCd1cGRhdGVDdXJyZW50Tm9kZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnNlZWsobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5hcnJpdmUobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlaGljbGUucHJvY2Vzc1ZlbG9jaXR5KGR0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlRGVhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnZGllLmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVIaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaGl0LmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVBdHRhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnYXR0YWNrLmdsYicsIDAuMSk7XG59XG5cbmZ1bmN0aW9uIGFkdmFuY2VkU2tpbGxzU2NoZW1hVG9NYXAoYWR2YW5jZWRTa2lsbHNTY2hlbWEpIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cbiAgICBmb3IgKGNvbnN0IHNraWxsT2JqZWN0IG9mIGFkdmFuY2VkU2tpbGxzU2NoZW1hKSB7XG4gICAgICAgIG1hcC5zZXQoc2tpbGxPYmplY3Quc2tpbGxOYW1lLCBza2lsbE9iamVjdC5za2lsbFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xufSIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG4gICAgY29uc29sZS5sb2coJ1dhaXQgZm9yIGluaXRpYWwnKTtcbn07XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNYXBHcmlkQ3JlYXRlZCA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5jaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xufVxuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW92ZWRUb05vZGUgPSBmdW5jdGlvbiAoaWQsIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuXG4gICAgLy8gSWdub3JlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgZXhwbG9yaW5nXG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgIT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OIHx8IHRoaXMuY2hhcmFjdGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY2hhcmFjdGVyUG9pbnQgPSBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55LCB0YXJnZXROb2RlLnopO1xuXG4gICAgaWYgKGNoYXJhY3RlclBvaW50LmRpc3RhbmNlKHRhcmdldFBvaW50KSA8PSB0aGlzLnNpZ2h0UmFuZ2UpIHtcbiAgICAgICAgLy8gTWlnaHQgYmUgc2VlbiAtIGNoZWNrIGZvciB3YWxsc1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNoYXJhY3RlclBvaW50LnkgKz0gdGhpcy5jaGFyYWN0ZXJQcm94eS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoY2hhcmFjdGVyUG9pbnQsIHRhcmdldFBvaW50KSkge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IFNldENhbWVyYVRhcmdldENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VULCB0aGlzLmVudGl0eSk7XG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnB1dExheWVyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOndvcmxkSW5wdXQnLCB0aGlzLnByY29lc3NXb3JsZElucHV0LCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByY29lc3NXb3JsZElucHV0KHBpY2tlZEVudGl0eSwgaGl0UG9pbnQpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSEFORExFX1dPUkxEX0lOUFVULCBwaWNrZWRFbnRpdHksIGhpdFBvaW50KTtcbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyKGNoYXJhY3RlckVudGl0eSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIGNoYXJhY3RlckVudGl0eSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgndmVydGljYWxTY3JvbGwnLCB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UsIHRpdGxlOiAnVmVydGljYWwgU2Nyb2xsJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21pbkNhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWluIENhbWVyYSBIZWlnaHQnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDYW1lcmEucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDYW1lcmFNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5zZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuZW50aXR5LmdldEV1bGVyQW5nbGVzKCkueTtcbiAgICB0aGlzLmNhbWVyYUhlaWdodCA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKS55O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgIHRoaXMucm90YXRpb24gKz0gZGlyZWN0aW9uLnggKiB0aGlzLmRyYWdNdWx0aXBsaWVyWDtcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIGxldCBuZXdDYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYUhlaWdodCAtIChkaXJlY3Rpb24ueSAqIHRoaXMuZHJhZ011bHRpcGxpZXJZKTtcbiAgICAgICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xuICAgIH1cbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24gPSBmdW5jdGlvbiAoZm9jdXNQb2ludCkge1xuICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpXG5cbiAgICBjb25zdCB0YXJnZXRYID0gTWF0aC5zaW4oKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuICAgIGNvbnN0IHRhcmdldFogPSBNYXRoLmNvcygodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoZm9jdXNQb2ludC54ICsgdGFyZ2V0WCwgY2FtZXJhUG9zaXRpb24ueSwgZm9jdXNQb2ludC56ICsgdGFyZ2V0Wik7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuR2FtZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0gdGhpcy5jYW1lcmFUYXJnZXQuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR3ZWVuWCA9ICh0YXJnZXRQb3NpdGlvbi54ICsgY3VycmVudFBvcy54ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5ZID0gKHRoaXMuY2FtZXJhSGVpZ2h0ICsgY3VycmVudFBvcy55ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5aID0gKHRhcmdldFBvc2l0aW9uLnogKyBjdXJyZW50UG9zLnogKiA5KSAvIDEwO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24odHdlZW5YLCB0d2VlblksIHR3ZWVuWik7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkubG9va0F0KGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDYW1lcmEgfSBmcm9tICcuL0dhbWVDYW1lcmEnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNhbWVyYU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNhbWVyYU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLnNldENhbWVyYVRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLmhhbmRsZURyYWcoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW5wdXRMYXllck1lZGlhdG9yIH0gZnJvbSAnLi9JbnB1dExheWVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi4vZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgSW5wdXRMYXllckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW5wdXRMYXllckNvbXBvbmVudCcpO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2FtZXJhRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkNhbWVyYSBFbnRpdHlcIlxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkcmFnVGltZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJEcmFnIFRpbWVcIixcbiAgICBkZWZhdWx0OiAwLjRcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5hcHAubW91c2UpIHtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmUodG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHkgPSBwaWNrUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgICAgICAvKmlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9Ki9cbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOndvcmxkSW5wdXQnLCBoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRQb3J0YWwoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ2ludGVyYWN0aW9uT2JqZWN0JykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkV29ybGRPYmplY3QoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuLypJbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRHYW1lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHBpY2tlZEVudGl0eSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZE5hdmlnYXRpb24gPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIGNvbnN0IG5hdkNvbXAgPSBwaWNrZWRFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgY29uc3QgbmVhcmVzdE5vZGUgPSBuYXZDb21wLmdldE5lYXJlc3ROb2RlKGhpdFBvc2l0aW9uKTtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6bmF2aWdhdGlvbicsIG5lYXJlc3ROb2RlKTtcbn0qL1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRQb3J0YWwgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHBpY2tlZEVudGl0eS5maXJlKCdwaWNrZXI6cG9ydGFsJyk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZFdvcmxkT2JqZWN0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBwaWNrZWRFbnRpdHkuZmlyZSgncGlja2VyOmludGVyYWN0aW9uT2JqZWN0Jyk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXR5KGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ2ludGVyYWN0aW9uT2JqZWN0JykpIHtcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfVxuXG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ3BvcnRhbCcpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazplbmRUdXJuJywgdGhpcy5oYW5kbGVFbmRUdXJuLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVFbmRUdXJuKGV2dCkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciB9IGZyb20gXCIuL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCcpO1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZW5kVHVybkJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRW5kIFR1cm4gYnV0dG9uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW5kVHVybkJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xpY2tFbmRUdXJuLCB0aGlzKTtcbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGlja0VuZFR1cm4gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6ZW5kVHVybicpO1xufVxuIiwiZXhwb3J0IGNvbnN0IEhpdGJveENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSGl0Ym94Q29tcG9uZW50Jyk7XG5cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdzdG9wTGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHkucGFyZW50LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5hYWJiLmNlbnRlci5jb3B5KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpmaXJlQ29tbWFuZCcsIHRoaXMuaGFuZGxlRmlyZUNvbW1hbmQsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25QYW5lbENvbXBvbmVudCddLnNlbGVjdEFjdGlvbihhY3Rpb25OYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGaXJlQ29tbWFuZChjb21tYW5kTmFtZSwgLi4uYXJncykge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKGNvbW1hbmROYW1lLCAuLi5hcmdzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5jb25zdCBjb21tYW5kU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmROYW1lJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIG5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29tbWFuZEFyZ3MnLFxuICAgICAgICB0aXRsZTogJ0NvbW1hbmQgYXJndW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsIGFycmF5OiB0cnVlXG4gICAgfVxuXTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbW1hbmRzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogY29tbWFuZFNjaGVtYSwgdGl0bGU6ICdDb21tYW5kIG5hbWUnLCBhcnJheTogdHJ1ZSB9KTs7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdzZWxlY3Q6YWN0aW9uJywgdGhpcy5oYW5kbGVDaGFuZ2VBY3Rpb24sIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gY29tbWFuZC5jb21tYW5kTmFtZTtcbiAgICAgICAgY29uc3QgY29tbWFuZEFyZ3MgPSBjb21tYW5kLmNvbW1hbmRBcmdzO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnY2xpY2s6ZmlyZUNvbW1hbmQnLCBjb21tYW5kTmFtZSwgLi4uY29tbWFuZEFyZ3MpO1xuXG4gICAgfVxufVxuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNoYW5nZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5lbnRpdHkubmFtZSA9PT0gYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEFjdGlvblBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25QYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25QYW5lbE1lZGlhdG9yJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vQWN0aW9uQnV0dG9uQ29tcG9uZW50JztcblxuQWN0aW9uUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbkJ1dHRvbnMnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0FjdGlvbiBCdXR0b25zJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25QYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZWxlY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBidXR0b24uZmlyZSgnc2VsZWN0OmFjdGlvbicsIGFjdGlvbk5hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBVSVN0b3BQcm9wYWdhdGlvbiA9IHBjLmNyZWF0ZVNjcmlwdCgnVUlTdG9wUHJvcGFnYXRpb24nKTtcblxuVUlTdG9wUHJvcGFnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSBcIi4vUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHByb2plY3RpbGVTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZU5hbWUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwcm9qZWN0aWxlVGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJwcm9qZWN0aWxlVHlwZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgVHlwZXNcIixcbiAgICBzY2hlbWE6IHByb2plY3RpbGVTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQcm9qZWN0aWxlID0gZnVuY3Rpb24gKHByb2plY3RpbGVOYW1lLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RpbGVTY2hlbWUgPSB0aGlzLnByb2plY3RpbGVUeXBlcy5maW5kKHNjaGVtZSA9PiBzY2hlbWUucHJvamVjdGlsZU5hbWUgPT09IHByb2plY3RpbGVOYW1lKTtcbiAgICAgICAgaWYgKHByb2plY3RpbGVTY2hlbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3RpbGUgPSBwcm9qZWN0aWxlU2NoZW1lLnByb2plY3RpbGVUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3UHJvamVjdGlsZSk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0aWxlLm9uY2UoJ3Byb2plY3RpbGVBcnJpdmVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5zY3JpcHRbJ1Byb2plY3RpbGVDb21wb25lbnQnXS5zZXRUYXJnZXQob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGUgcHJvamVjdGlsZSBcIiR7cHJvamVjdGlsZU5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIlxuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUHJvamVjdGlsZUNvbXBvbmVudCcpO1xuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA4XG59KTtcblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIChvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnksIG9yaWdpblBvaW50LnopO1xuICAgIHRoaXMudGFyZ2V0UG9pbnQgPSB0YXJnZXRQb2ludDtcbiAgICB0aGlzLmxvb2tBdFBvaW50KHRoaXMudGFyZ2V0UG9pbnQpO1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1YjIodGhpcy50YXJnZXRQb2ludC5jbG9uZSgpLCBsb2NhbFBvcyk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuZXdQb3NpdGlvbi5tdWwoc3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5hZGQobG9jYWxQb3MpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IG5ld1Bvc2l0aW9uLmRpc3RhbmNlKHRoaXMudGFyZ2V0UG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkKSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncHJvamVjdGlsZUFycml2ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFN0YW1pbmFCYXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0YW1pbmFCYXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIlxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFtaW5hID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhTdGFtaW5hID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiU3RhbWluYUJhckNvbXBvbmVudFwiXS51cGRhdGVTdGFtaW5hKG5ld1N0YW1pbmEsIG1heFN0YW1pbmEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgU3RhbWluYUJhck1lZGlhdG9yIH0gZnJvbSBcIi4vU3RhbWluYUJhck1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBTdGFtaW5hQmFyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTdGFtaW5hQmFyQ29tcG9uZW50Jyk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJiYXJFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQmFyIEVudGl0eVwiXG59KTtcblxuU3RhbWluYUJhckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YW1pbmFMYWJlbFwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJTdGFtaW5hIExhYmVsXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU3RhbWluYUJhckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFN0YW1pbmFCYXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCA9IHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGg7XG59O1xuXG5cblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVN0YW1pbmEgPSBmdW5jdGlvbiAoY3VycmVudFN0YW1pbmEsIG1heFN0YW1pbmEpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBjLm1hdGguY2xhbXAoY3VycmVudFN0YW1pbmEgLyBtYXhTdGFtaW5hLCAwLCAxKTtcbiAgICBjb25zdCB3aWR0aCA9IHBjLm1hdGgubGVycCgwLCB0aGlzLmJhckVudGl0eU1heFdpZHRoLCB2YWx1ZSk7XG4gICAgLy8gc2V0IHRoZSB3aWR0aCBvZiB0aGUgZmlsbCBpbWFnZSBlbGVtZW50XG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC53aWR0aCA9IHdpZHRoO1xuXG4gICAgLy8gU2V0IHRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudCdzIHJlY3QgKHJlY3QueikgdG8gYmUgdGhlIHNhbWVcbiAgICAvLyB2YWx1ZSBhcyBvdXIgMC0xIHByb2dyZXNzLlxuICAgIC8vIFRoaXMgaXMgc28gdGhhdCB0aGUgZmlsbCBpbWFnZSB3aWxsIG9ubHkgc2hvdyB0aGUgcG9ydGlvblxuICAgIC8vIG9mIHRoZSB0ZXh0dXJlIHRoYXQgaXMgdmlzaWJsZVxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdC56ID0gdmFsdWU7XG4gICAgLy8gZm9yY2UgcmVjdCB1cGRhdGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QgPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3Q7XG5cbiAgICB0aGlzLnN0YW1pbmFMYWJlbC5lbGVtZW50LnRleHQgPSBgJHtjdXJyZW50U3RhbWluYX0vJHttYXhTdGFtaW5hfWA7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBwbGF5ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFjdGlvbnMgPSBwbGF5ZXJQcm94eS5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCddLnNob3dBdmFpbGFibGVBY3Rpb24oYXJnc1swXSwgYXJnc1sxXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcic7XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncGlwVGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnUGlwIFRlbXBsYXRlJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnBpcHMgPSBbXTtcbn1cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zaG93QXZhaWxhYmxlQWN0aW9uID0gZnVuY3Rpb24gKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpIHtcbiAgICB3aGlsZSAodGhpcy5waXBzLmxlbmd0aCA8IG1heEFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVQaXAoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGF2YWlsYWJsZUFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UGlwID0gdGhpcy5waXBUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1BpcCk7XG4gICAgdGhpcy5waXBzLnB1c2gobmV3UGlwKTtcbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Jyk7XG5cbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcEZyb250JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdQaXAgZnJvbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5vbigndG9nZ2xlUGlwJywgKHNob3cpID0+IHtcbiAgICAgICAgdGhpcy5waXBGcm9udC5lbmFibGVkID0gc2hvdztcbiAgICB9KTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVNcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUzpcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50J107XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXRlck5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHNjcmlwdENvbXAuZGlzcGxheVN0YXR1cyhmbG9hdGVyTmFtZSwgdGFyZ2V0UHJveHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCcpO1xuXG4vLyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuc2V0V29ybGRQb3NpdGlvbiA9IGZ1bmN0aW9uICh3b3JsZFBvc2l0aW9uLCBjYW1lcmEsIHNjcmVlbikge1xuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMud29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb247XG4gICAgdGhpcy5kZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICB0aGlzLmNhbWVyYUVudGl0eSA9IGNhbWVyYTtcbiAgICB0aGlzLnNjcmVlbkVudGl0eSA9IHNjcmVlbjtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfSwgMTAwMCk7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnBvc3RVcGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UodGhpcy53b3JsZFBvc2l0aW9uLmNsb25lKCkpO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICB9XG59O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUud29ybGRTcGFjZVRvU2NyZWVuU3BhY2UgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHRoaXMuZGV2aWNlICYmIHRoaXMuY2FtZXJhRW50aXR5ICYmIHRoaXMuc2NyZWVuRW50aXR5KSB7XG4gICAgICAgIGNvbnN0IHdvcmxkUG9zID0gcG9zLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIC8vIGdldCBzY3JlZW4gc3BhY2UgY28tb3JkXG4gICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LmNhbWVyYS53b3JsZFRvU2NyZWVuKHdvcmxkUG9zLCBzY3JlZW5Qb3MpO1xuICAgICAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UubWF4UGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnggKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgICAgICBjb25zdCBzY3JlZW5Db21wID0gdGhpcy5zY3JlZW5FbnRpdHkuc2NyZWVuO1xuXG4gICAgICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnNjYWxlO1xuICAgICAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgICAgIGNvbnN0IHkgPSAodGhpcy5kZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgICAgICByZXR1cm4gbmV3IHBjLlZlYzMoeCwgeSwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcblxufSIsImV4cG9ydCBjb25zdCBGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciB9IGZyb20gJy4vRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnO1xuXG5jb25zdCBmbG9hdGluZ1N0YXR1c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3RlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdUZW1wbGF0ZScsXG4gICAgICAgIHR5cGU6ICdhc3NldCdcbiAgICB9XG5dO1xuXG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NjcmVlbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2NyZWVuIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NhbWVyYUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2FtZXJhIEVudGl0eScgfSk7XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Zsb2F0aW5nU3RhdHVzZXMnLCB7IHR5cGU6ICdqc29uJywgc2NoZW1hOiBmbG9hdGluZ1N0YXR1c1NjaGVtYSwgdGl0bGU6ICdGbG9hdGluZyBTdGF0dXNlcycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5U3RhdHVzID0gZnVuY3Rpb24gKG5hbWUsIHRhcmdldFByb3h5LCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgc2NoZW1lID0gdGhpcy5mbG9hdGluZ1N0YXR1c2VzLmZpbmQoKG90aGVyU2NoZW1lKSA9PiBvdGhlclNjaGVtZS5uYW1lID09PSBuYW1lKTtcbiAgICBpZiAoc2NoZW1lKSB7XG4gICAgICAgIC8vIFxuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvcyA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55ICsgdGFyZ2V0UHJveHkuaGVpZ2h0LCB0YXJnZXROb2RlLnopO1xuICAgICAgICBjb25zdCBuZXdTdGF0dXMgPSBzY2hlbWUudGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgbmV3U3RhdHVzLnNjcmlwdFsnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnXS5zZXRXb3JsZFBvc2l0aW9uKHRhcmdldFBvcyxcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhRW50aXR5LCB0aGlzLnNjcmVlbkVudGl0eSk7XG4gICAgICAgIHRoaXMuZW50aXR5LnBhcmVudC5hZGRDaGlsZChuZXdTdGF0dXMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGZsb2F0aW5nIHN0YXR1czogJHtuYW1lfWApO1xuICAgIH1cblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQb3J0YWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBvcnRhbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOnBvcnRhbCcsIHRoaXMuc2VsZWN0ZWRQb3J0YWwsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RlZFBvcnRhbCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBwb3J0YWxDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQb3J0YWxDb21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsXG4gICAgICAgICAgICAgICAgc3RhbmRpbmdQb3NpdGlvbiwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFBvcnRhbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUG9ydGFsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IFBvcnRhbE1lZGlhdG9yIH0gZnJvbSAnLi9Qb3J0YWxNZWRpYXRvcic7XG5cblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncG9ydGFsSWQnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ1BvcnRhbCBJZCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uU2NlbmUnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFNjZW5lJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVzdGluYXRpb25Qb3J0YWwnLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0Rlc3RpbmF0aW9uIFBvcnRhbCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpdGJveCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGl0Ym94JyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc3RhbmRpbmdQb2ludCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU3RhbmRpbmcgUG9pbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUG9ydGFsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUG9ydGFsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuc3RhbmRpbmdQb2ludC5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIERpYWxvZ3VlUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkRpYWxvZ3VlUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVMsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNvbnRpbnVlJywgdGhpcy5oYW5kbGVDbGlja0NvbnRpbnVlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNob2ljZScsIHRoaXMuaGFuZGxlQ2xpY2tDaG9pY2UsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9QQU5FTDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMOlxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY2xlYXJQYW5lbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVA6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNyZWF0ZVN0ZXAoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1Q6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNyZWF0ZVNraWxsVGVzdCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVM6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyRGlhbG9ndWVDaG9pY2VzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24oZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0NvbnRpbnVlKCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT05USU5VRV9ESUFMT0dVRV9OT0RFKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0Nob2ljZShpbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfRElBTE9HVUVfQ0hPSUNFLCBpbmRleCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9EaWFsb2d1ZVBhbmVsTWVkaWF0b3InO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JvbGxiYXJWaWV3RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTY3JvbGxiYXIgVmlldycgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDb250ZW50IEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmZWVkRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdGZWVkIEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdDb250ZW50IEhlaWdodCcsIGRlZmF1bHQ6IDUyMCB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dEVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnVGV4dCBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjaG9pY2VFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0Nob2ljZSBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbFRlc3RFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1NraWxsIFRlc3QgRW50cnkgQXNzZXQnIH0pO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250aW51ZUJ1dHRvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ29udGludWUgQnV0dG9uJyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRGlhbG9ndWVQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmNob2ljZXMgPSBbXTtcblxuICAgIHRoaXMuY29udGludWVCdXR0b25FbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrZWQ6Y29udGludWUnKTtcbiAgICB9LCB0aGlzKTtcblxufTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlU3RlcCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIHRoaXMuY3JlYXRlVGV4dChzdGVwRGF0YS5zdGVwKTtcblxuICAgIGlmIChzdGVwRGF0YS5zdGVwLmNob2ljZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwRGF0YS5zdGVwLmNob2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNob2ljZSA9IHN0ZXBEYXRhLnN0ZXAuY2hvaWNlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2hvaWNlKGksIGNob2ljZS50ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGNvbnN0IG5ld1RleHQgPSB0aGlzLnRleHRFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3VGV4dC5zY3JpcHRbXCJEaWFsb2d1ZVRleHRDb21wb25lbnRcIl0uc2V0dXAoc3RlcERhdGEpO1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdUZXh0KTtcbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUNob2ljZSA9IGZ1bmN0aW9uIChpbmRleCwgdGV4dCkge1xuICAgIGNvbnN0IG5ld0Nob2ljZSA9IHRoaXMuY2hvaWNlRW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld0Nob2ljZS5zY3JpcHRbXCJEaWFsb2d1ZUNob2ljZUNvbXBvbmVudFwiXS5zZXR1cChpbmRleCwgdGV4dCk7XG4gICAgbmV3Q2hvaWNlLmVsZW1lbnQudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld0Nob2ljZSk7XG4gICAgdGhpcy5jaG9pY2VzLnB1c2gobmV3Q2hvaWNlKTtcblxuICAgIG5ld0Nob2ljZS5vbignY2xpY2snLCB0aGlzLmhhbmRsZVNlbGVjdENob2ljZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVNraWxsVGVzdCA9IGZ1bmN0aW9uIChza2lsbE5hbWUsIHNraWxsVmFsdWUsIGRpZTEsIGRpZTIsIHdhc1N1Y2Nlc3MpIHtcbiAgICBjb25zdCBuZXdTa2lsbFRlc3QgPSB0aGlzLnNraWxsVGVzdEVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdTa2lsbFRlc3Quc2NyaXB0W1wiRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnRcIl0uc2V0dXAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKTtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3U2tpbGxUZXN0KTtcblxuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJEaWFsb2d1ZUNob2ljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChjb25zdCBjaG9pY2Ugb2YgdGhpcy5jaG9pY2VzKSB7XG4gICAgICAgIGNob2ljZS5vZmYoJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuICAgICAgICBjaG9pY2UuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhclBhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHdoaWxlICh0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW5bMF0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlU2VsZWN0Q2hvaWNlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2tlZDpjaG9pY2UnLCBpbmRleCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnJlc2l6ZVRvQ29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNwYWNpbmdWZXJ0aWNhbCA9IHRoaXMuZmVlZEVudGl0eS5sYXlvdXRncm91cC5zcGFjaW5nLnk7XG4gICAgbGV0IGhlaWdodCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGZlZWRDaGlsZCBvZiB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4pIHtcbiAgICAgICAgaGVpZ2h0ICs9IGZlZWRDaGlsZC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgaGVpZ2h0ICs9IHNwYWNpbmdWZXJ0aWNhbDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRFbnRpdHkuZWxlbWVudC5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmNvbnRlbnRIZWlnaHQsIGhlaWdodCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnNldENvbnRpbnVlQnV0dG9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbkVudGl0eS5lbmFibGVkID0gdmFsdWU7XG59XG4iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpbmRleEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSW5kZXggRW50aXR5JyB9KTtcbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGluZGV4LCBsYWJlbCkge1xuICAgIHRoaXMuaW5kZXhFbnRpdHkuZWxlbWVudC50ZXh0ID0gKGluZGV4ICsgMSkgKyBcIi5cIjtcbiAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IGxhYmVsO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrJywgaW5kZXgpXG4gICAgfSk7XG59XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbn1cbiIsImV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50Jyk7XG5cbkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhbmltYXRpb25OYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkFuaW1hdGlvbiBOYW1lXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KHRoaXMuYW5pbWF0aW9uTmFtZSwgMC4xKTtcbn0iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVUZXh0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVRleHRDb21wb25lbnQnKTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd3aXRoSW1hZ2VXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnV2l0aCBJbWFnZSBXaWR0aCcsIGRlZmF1bHQ6IDM0MCB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnd2l0aG91dEltYWdlV2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1dpdGggSW1hZ2UgV2lkdGgnLCBkZWZhdWx0OiAzNjAgfSk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGV4dCBDb250YWluZXInIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aXRsZUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGl0bGUgRW50aXR5JyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnYm9keUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQm9keSBFbnRpdHknIH0pO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGh1bWJuYWlsIENvbnRhaW5lcicgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbEltYWdlJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaHVtYm5haWwgSW1hZ2UnIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGlmIChzdGVwRGF0YS50aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVsZW1lbnQudGV4dCA9IHN0ZXBEYXRhLnRpdGxlO1xuXG4gICAgICAgIGlmIChzdGVwRGF0YS50aXRsZUNvbG91cikge1xuICAgICAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbGVtZW50LmNvbG9yLmZyb21TdHJpbmcoc3RlcERhdGEudGl0bGVDb2xvdXIpO1xuXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RlcERhdGEudGh1bWJuYWlsKSB7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aG91dEltYWdlV2lkdGg7XG4gICAgICAgIHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LnRleHQgPSBzdGVwRGF0YS50ZXh0O1xuICAgIC8vIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbWluSGVpZ2h0ID0gKHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSkgPyB0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbGVtZW50LmhlaWdodCA6IDA7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgbGV0IHNwYWNpbmcgPSB0aGlzLnRleHRDb250YWluZXIubGF5b3V0Z3JvdXAuc3BhY2luZy55O1xuICAgIGZvciAoY29uc3QgdGV4dENoaWxkIG9mIHRoaXMudGV4dENvbnRhaW5lci5jaGlsZHJlbikge1xuICAgICAgICBoZWlnaHQgKz0gdGV4dENoaWxkLmVsZW1lbnQuaGVpZ2h0ICsgc3BhY2luZztcbiAgICB9XG5cblxuICAgIGlmICghdGhpcy50aXRsZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcblxuICAgIH1cblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoZWlnaHQpO1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRIZWlnaHQoKTtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIC8vdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEF0dGFja0J1dHRvbk1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQXR0YWNrQnV0dG9uTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6dG9nZ2xlQXR0YWNrJywgdGhpcy5oYW5kbGVUb2dnbGVBdHRhY2ssIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUgPT09IFwiYXR0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQXR0YWNrQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0F0dGFja0J1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlVG9nZ2xlQXR0YWNrKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgaWYgKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImF0dGFja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImludGVyYWN0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEF0dGFja0J1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQXR0YWNrQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEF0dGFja0J1dHRvbk1lZGlhdG9yIH0gZnJvbSAnLi9BdHRhY2tCdXR0b25NZWRpYXRvcic7XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEF0dGFja0J1dHRvbk1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazp0b2dnbGVBdHRhY2snLCAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCk7XG59XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGlzRW5hYmxlZCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBpc0VuYWJsZWQ7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBVc2VJdGVtQnV0dG9uTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJVc2VJdGVtQnV0dG9uTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCwgZXF1aXBtZW50U2xvdEtleSkge1xuICAgICAgICBzdXBlcihVc2VJdGVtQnV0dG9uTWVkaWF0b3IuTkFNRSArIGVxdWlwbWVudFNsb3RLZXkpO1xuICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RLZXkgPSBlcXVpcG1lbnRTbG90S2V5O1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRVFVSVBQRURfU0xPVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfVVNFX0lURU1fQlVUVE9OX0hJR0hMSUdIVFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOnVzZUl0ZW0nLCB0aGlzLmhhbmRsZVVzZUl0ZW0sIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUgPT09IFwiYXR0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydVc2VJdGVtQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0VRVUlQUEVEX1NMT1Q6XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBtZW50U2xvdHMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWlwcGVkRGF0YSA9IGVxdWlwbWVudFNsb3RzLmdldCh0aGlzLmVxdWlwbWVudFNsb3RLZXkpO1xuICAgICAgICAgICAgICAgIGlmIChlcXVpcHBlZERhdGEgJiYgZXF1aXBwZWREYXRhLmljb24pIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiVXNlSXRlbUJ1dHRvbkNvbXBvbmVudFwiXS5zZXRJY29uKGVxdWlwcGVkRGF0YS5pY29uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiVXNlSXRlbUJ1dHRvbkNvbXBvbmVudFwiXS5zZXREZWZhdWx0SWNvbigpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX1VTRV9JVEVNX0JVVFRPTl9ISUdITElHSFQ6XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0U2xvdCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEhpZ2hsaWdodDogJHt0YXJnZXRTbG90fSB2cyAke3RoaXMuZXF1aXBtZW50U2xvdEtleX1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xvdCA9PT0gdGhpcy5lcXVpcG1lbnRTbG90S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSGlnaGxpZ2h0ZWQgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiVXNlSXRlbUJ1dHRvbkNvbXBvbmVudFwiXS50b2dnbGVIaWdobGlnaHQoaXNIaWdobGlnaHRlZCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVVc2VJdGVtKCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfRVFVSVBQRURfSVRFTSwgdGhpcy5lcXVpcG1lbnRTbG90S2V5KTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBVc2VJdGVtQnV0dG9uTWVkaWF0b3IgfSBmcm9tICcuL1VzZUl0ZW1CdXR0b25NZWRpYXRvcic7XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VxdWlwbWVudFNsb3RLZXknLCB7IHR5cGU6ICdzdHJpbmcnLCB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEtleScgfSk7XG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVmYXVsdEljb24nLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnRGVmYXVsdCBJY29uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihVc2VJdGVtQnV0dG9uTWVkaWF0b3IuTkFNRSArIHRoaXMuZXF1aXBtZW50U2xvdEtleSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVXNlSXRlbUJ1dHRvbk1lZGlhdG9yLk5BTUUgKyB0aGlzLmVxdWlwbWVudFNsb3RLZXkpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFVzZUl0ZW1CdXR0b25NZWRpYXRvcih0aGlzLmVudGl0eSwgdGhpcy5lcXVpcG1lbnRTbG90S2V5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0SWNvbiA9IGZ1bmN0aW9uIChhc3NldElkKSB7XG4gICAgY29uc3QgaWNvbkFzc2V0ID0gdGhpcy5hcHAuYXNzZXRzLmdldChhc3NldElkKTtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IGljb25Bc3NldDtcbn1cblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0RGVmYXVsdEljb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSB0aGlzLmRlZmF1bHRJY29uO1xufVxuXG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazp1c2VJdGVtJyk7XG59XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLnRvZ2dsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gaXNFbmFibGVkO1xufSIsImV4cG9ydCBjb25zdCBWZWhpY2xlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdWZWhpY2xlQ29tcG9uZW50Jyk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXNzXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1hc3NcIixcbiAgICBkZWZhdWx0OiAzXG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1heFNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1heCBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWF4Rm9yY2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWF4IEZvcmNlXCIsXG4gICAgZGVmYXVsdDogMC41XG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFycml2ZVRocmVzaG9sZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJBcnJpdmFsIFRocmVzaG9sZFwiLFxuICAgIGRlZmF1bHQ6IDFcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgcGMuVmVjMygpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IG5ldyBwYy5WZWMzKCk7XG59XG5cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc1ZlbG9jaXR5ID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpO1xuXG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gY2xhbXBWZWMzKHRoaXMuc3RlZXJpbmdGb3JjZSwgKHRoaXMubWF4Rm9yY2UpKTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2Uuc2NhbGUoMSAvICh0aGlzLm1hc3MpKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5zdGVlcmluZ0ZvcmNlKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gY2xhbXBWZWMzKHRoaXMudmVsb2NpdHksICh0aGlzLm1heFNwZWVkICogZHQpKTtcblxuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IG5ldyBwYy5WZWMzKCk7XG5cbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KSk7XG5cbiAgICBjb25zdCB5Um90YXRpb24gPSBnZXRBbmdsZSh0aGlzLnZlbG9jaXR5KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgeVJvdGF0aW9uLCAwKTtcbn1cblxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5zZWVrID0gZnVuY3Rpb24gKHRhcmdldCwgZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBsZXQgZGVzaXJlZFZlbG9jaXR5ID0gdGFyZ2V0LmNsb25lKCkuc3ViKHBvc2l0aW9uKTtcbiAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkubm9ybWFsaXplKClcbiAgICBkZXNpcmVkVmVsb2NpdHkuc2NhbGUodGhpcy5tYXhTcGVlZCAqIGR0KTtcbiAgICBjb25zdCBmb3JjZSA9IGRlc2lyZWRWZWxvY2l0eS5zdWIodGhpcy52ZWxvY2l0eSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLmFkZChmb3JjZSk7XG59XG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLmFycml2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCk7XG4gICAgbGV0IGRlc2lyZWRWZWxvY2l0eSA9IHRhcmdldC5jbG9uZSgpLnN1Yihwb3NpdGlvbikubm9ybWFsaXplKCkuc2NhbGUodGhpcy5tYXhTcGVlZCk7XG4gICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IHBvc2l0aW9uLmRpc3RhbmNlKHRhcmdldCk7XG5cbiAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA+IHRoaXMuYXJyaXZhbFRocmVzaG9sZCkge1xuICAgICAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkuc2NhbGUodGhpcy5tYXhTcGVlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5LnNjYWxlKCh0aGlzLm1heFNwZWVkICogZGlzdGFuY2VUb1RhcmdldCAvIHRoaXMuYXJyaXZlVGhyZXNob2xkKSk7XG5cbiAgICB9XG4gICAgY29uc3QgZm9yY2UgPSBkZXNpcmVkVmVsb2NpdHkuc3ViKHRoaXMudmVsb2NpdHkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5hZGQoZm9yY2UpO1xufVxuXG5mdW5jdGlvbiBjbGFtcFZlYzModmVjMywgbWF4VmFsdWUpIHtcbiAgICBpZiAodmVjMy5sZW5ndGgoKSA8IG1heFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2ZWMzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2ZWMzLm5vcm1hbGl6ZSgpLnNjYWxlKG1heFZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuZ2xlKHZlYzMpIHtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih2ZWMzLngsIHZlYzMueik7XG59IiwiZXhwb3J0IGNvbnN0IFNjcmVlblJlc2l6ZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2NyZWVuUmVzaXplQ29tcG9uZW50Jyk7XG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUud2luZG93ID0gd2luZG93O1xuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xufVxuXG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ3JhcGhpY3NEZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICAvLyBGbGlwIGJsZW5kXG4gICAgaWYgKGdyYXBoaWNzRGV2aWNlLndpZHRoIDwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmVlbi5zY2FsZUJsZW5kID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0eS5zY3JlZW4uc2NhbGVCbGVuZCA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdHkuc2NyZWVuLnJlZmVyZW5jZVJlc29sdXRpb24gPSBuZXcgcGMuVmVjMihncmFwaGljc0RldmljZS53aWR0aCwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KTtcblxufSIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQnKTtcblxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NraWxsTmFtZUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTa2lsbCBOYW1lIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbFZhbHVlTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NraWxsIFZhbHVlIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkaWUxTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RpZSAxIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkaWUyTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RpZSAyIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzdWNjZXNzTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N1Y2Nlc3MgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ZhaWx1cmVMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRmFpbHVyZSBMYWJlbCcgfSk7XG5cblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKHNraWxsTmFtZSwgc2tpbGxWYWx1ZSwgZGllMSwgZGllMiwgd2FzU3VjY2Vzcykge1xuICAgIHRoaXMuc2tpbGxOYW1lTGFiZWwuZWxlbWVudC50ZXh0ID0gc2tpbGxOYW1lO1xuICAgIHRoaXMuc2tpbGxWYWx1ZUxhYmVsLmVsZW1lbnQudGV4dCA9IHNraWxsVmFsdWU7XG4gICAgdGhpcy5kaWUxTGFiZWwuZWxlbWVudC50ZXh0ID0gZGllMTtcbiAgICB0aGlzLmRpZTJMYWJlbC5lbGVtZW50LnRleHQgPSBkaWUyO1xuICAgIHRoaXMuc3VjY2Vzc0xhYmVsLmVuYWJsZWQgPSB3YXNTdWNjZXNzO1xuICAgIHRoaXMuZmFpbHVyZUxhYmVsLmVuYWJsZWQgPSAhd2FzU3VjY2Vzcztcbn1cbiIsImV4cG9ydCBjb25zdCBJbnZlbnRvcnlJdGVtQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlJdGVtQ29tcG9uZW50Jyk7XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ljb25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ljb24gRW50aXR5JyB9KTtcbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZXhwYW5kZWRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0V4cGFuZGVkIEVudGl0eScgfSk7XG5cbi8vIERpc3BsYXkgTWV0aG9kc1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoaXRlbURhdGEpIHtcbiAgICB0aGlzLmljb24gPSBpdGVtRGF0YS5pY29uO1xuICAgIGNvbnN0IGljb25Bc3NldCA9IHRoaXMuYXBwLmFzc2V0cy5nZXQodGhpcy5pY29uKTtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IGljb25Bc3NldDtcbiAgICB0aGlzLnNpemUgPSBpdGVtRGF0YS5zaXplO1xuICAgIHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gaXRlbURhdGEubmFtZTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMuc2xvdEhlaWdodCAqIHRoaXMuc2l6ZTtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5zbG90SGVpZ2h0ICogdGhpcy5zaXplO1xuXG4gICAgdGhpcy5pdGVtRGF0YSA9IGl0ZW1EYXRhO1xufVxuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5jb2xsYXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbn1cblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuZXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZW5hYmxlZCA9IHRydWU7XG59XG5cbi8vIERyYWcgbWV0aG9kc1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBjb25zdCBkcmFnSGVscGVyID0gbmV3IHBjLkVsZW1lbnREcmFnSGVscGVyKHRoaXMuZW50aXR5LmVsZW1lbnQsIG51bGwpO1xuICAgIGRyYWdIZWxwZXIub24oJ2RyYWc6c3RhcnQnLCB0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKTtcbn07XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnBhcmVudC5maXJlKCdkcmFnOnN0YXJ0JywgdGhpcy5lbnRpdHksIHRoaXMuc2l6ZSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnZlbnRvcnlQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMLCBHYW1lQ29tbWFuZHMuVVBEQVRFX0lOVkVOVE9SWV9QQU5FTFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdyZW9yZGVySXRlbScsIHRoaXMuaGFuZGVSZW9yZGVySXRlbSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZXF1aXBJdGVtJywgdGhpcy5oYW5kbGVFcXVpcEl0ZW0sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2Nsb3NlJywgdGhpcy5oYW5kbGVDbG9zZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUw6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVVBEQVRFX0lOVkVOVE9SWV9QQU5FTDpcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBwZWRNYXAgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJJbnZlbnRvcnlQYW5lbENvbXBvbmVudFwiXS5kaXNwbGF5SXRlbXMoaXRlbXMsIGVxdWlwcGVkTWFwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRlUmVvcmRlckl0ZW0oaXRlbVVVSUQsIG5ld0luZGV4KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFT1JERVJfSU5WRVRPUllfSVRFTSwgXCJwbGF5ZXJcIiwgaXRlbVVVSUQsIG5ld0luZGV4KTtcbiAgICB9XG5cbiAgICBoYW5kbGVFcXVpcEl0ZW0oaXRlbUlkLCBzbG90S2V5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgXCJwbGF5ZXJcIiwgaXRlbUlkLCBzbG90S2V5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbG9zZSgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9LCAxMDApO1xuXG4gICAgfVxufVxuIiwiXG5jb25zdCBlcXVpcG1lbnRTbG90U2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2tleScsXG4gICAgICAgIHRpdGxlOiAnRXF1aXBtZW50IFNsb3QgS2V5JyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2VudGl0eScsXG4gICAgICAgIHRpdGxlOiAnRXF1aXBtZW50IFNsb3QgRW50aXR5JyxcbiAgICAgICAgdHlwZTogJ2VudGl0eSdcbiAgICB9XG5dO1xuXG5leHBvcnQgY29uc3QgSW52ZW50b3J5UGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeVBhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEludmVudG9yeVBhbmVsTWVkaWF0b3IgfSBmcm9tICcuL0ludmVudG9yeVBhbmVsTWVkaWF0b3InO1xuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2xvdCBDb250YWluZXInIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RvcFNsb3RQb3NpdGlvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVG9wIFNsb3QgUG9zaXRpb24nIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Nsb3NlQnV0dG9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDbG9zZSBCdXR0b24nIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2l0ZW1Bc3NldCcsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdJdGVtIEFzc2V0JyB9KTtcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RyYWdJY29uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdEcmFnIEljb24nIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBXaWR0aCcsIGRlZmF1bHQ6IDMyMCB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21heFNsb3RzJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdNYXggU2xvdHMnLCBkZWZhdWx0OiAxMiB9KTtcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VxdWlwbWVudFNsb3RzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogZXF1aXBtZW50U2xvdFNjaGVtYSwgYXJyYXk6IHRydWUsIHRpdGxlOiAnRXF1aXBtZW50IFNsb3RzJyB9KTtcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEludmVudG9yeVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgSW52ZW50b3J5UGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdkcmFnOnN0YXJ0JywgdGhpcy5oYW5kbGVEcmFnU3RhcnQsIHRoaXMpO1xuICAgIHRoaXMuY2xvc2VCdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsb3NlLCB0aGlzKTtcblxuICAgIHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzID0gW107XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSkge1xuICAgIGRyYWdFbnRpdHkucmVwYXJlbnQodGhpcy5lbnRpdHkpO1xuICAgIHRoaXMuZHJhZ0ljb24ucmVwYXJlbnQodGhpcy5lbnRpdHkpO1xuXG4gICAgaWYgKHRoaXMuYXBwLnRvdWNoKSB7XG4gICAgICAgIHRoaXMuYXBwLnRvdWNoLm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC50b3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlTW92ZShkcmFnRW50aXR5LCBzaXplLCBldnQudG91Y2hlc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYXBwLnRvdWNoLm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXAoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0LmNoYW5nZWRUb3VjaGVzWzBdKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFTU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0KTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRVVQLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXAoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKGV2dC54LCBldnQueSwgMCk7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLm1heFBpeGVsUmF0aW87XG4gICAgc2NyZWVuUG9zLnggKj0gcGl4ZWxSYXRpbztcbiAgICBzY3JlZW5Qb3MueSAqPSBwaXhlbFJhdGlvO1xuXG4gICAgY29uc3Qgc2NyZWVuQ29tcCA9IHRoaXMuZW50aXR5LmVsZW1lbnQuc2NyZWVuLnNjcmVlbjtcbiAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcblxuICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnNjYWxlO1xuICAgIGNvbnN0IHggPSAoc2NyZWVuUG9zLnggLyByYXRpb1NjYWxlKTtcbiAgICBjb25zdCB5ID0gKGRldmljZS5oZWlnaHQgLSBzY3JlZW5Qb3MueSkgLyByYXRpb1NjYWxlO1xuXG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKHgsIHksIDApO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGV2dCkge1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZXZ0KTtcbiAgICB0aGlzLmRyYWdJY29uLnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgdGhpcy5kaXNwbGF5UG90ZW50aWFsTGlzdChkcmFnRW50aXR5LCBzaXplLCBuZXdQb3NpdGlvbik7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGV2dCkge1xuICAgIGNvbnN0IGRyYWdQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChldnQpO1xuICAgIHRoaXMuZHJhZ0ljb24uZW5hYmxlZCA9IGZhbHNlO1xuICAgIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uZXhwYW5kKCk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vZmYocGMuRVZFTlRfTU9VU0VNT1ZFKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9mZihwYy5FVkVOVF9NT1VTRVVQKTtcblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vZmYocGMuRVZFTlRfVE9VQ0hNT1ZFKTtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub2ZmKHBjLkVWRU5UX1RPVUNIRU5EKTtcbiAgICB9XG5cbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm91bmRzID0ge1xuICAgICAgICB4MTogdG9wU2xvdFBvc2l0aW9uLngsIHkxOiB0b3BTbG90UG9zaXRpb24ueSAtIHRoaXMubWF4U2xvdHMgKiB0aGlzLnNsb3RIZWlnaHQsXG4gICAgICAgIHgyOiB0b3BTbG90UG9zaXRpb24ueCArIHRoaXMuc2xvdFdpZHRoLCB5MjogdG9wU2xvdFBvc2l0aW9uLnlcbiAgICB9O1xuXG4gICAgY29uc3QgaW5Cb3VuZHMgPSBpc0luQm91bmRzKGRyYWdQb3MsIGJvdW5kcyk7XG4gICAgaWYgKGluQm91bmRzKSB7XG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcblxuICAgICAgICAvLyBHZXQgdGhlIHRvcCBjb3JuZXIgcG9zaXRpb24gb2YgdGhlIGRyYWdnaW5nIGl0ZW0gYXMgdGhlIHRhcmdldFxuICAgICAgICBjb25zdCBjb3JuZXJTY3JlZW5Qb3MgPSB7IHg6IGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLngsIHk6IHNjcmVlbkhlaWdodCAtIGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLnkgfVxuICAgICAgICBjb25zdCBjb3JuZXJQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChjb3JuZXJTY3JlZW5Qb3MpO1xuXG4gICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHRvcFNsb3RQb3NpdGlvbi55IC0gY29ybmVyUG9zLnkpIC8gdGhpcy5zbG90SGVpZ2h0KSk7XG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhID0gZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5pdGVtRGF0YTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncmVvcmRlckl0ZW0nLCBpdGVtRGF0YS51dWlkLCBzbG90SW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRyb3BwZWQgaW4gZXF1aXAgc2xvdFxuICAgICAgICB0aGlzLmNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdChkcmFnRW50aXR5LCBldnQpO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdCA9IGZ1bmN0aW9uIChkcmFnZ2luZ0VudGl0eSwgbW91c2VFdmVudCkge1xuICAgIGZvciAoY29uc3QgZXF1aXBTbG90IG9mIHRoaXMuZXF1aXBtZW50U2xvdHMpIHtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90S2V5ID0gZXF1aXBTbG90LmtleTtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90RW50aXR5ID0gZXF1aXBTbG90LmVudGl0eTtcbiAgICAgICAgY29uc3QgY29ybmVycyA9IGVxdWlwU2xvdEVudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnM7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7IHg6IG1vdXNlRXZlbnQueCwgeTogaGVpZ2h0IC0gbW91c2VFdmVudC55IH07XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgICAgIHgxOiBjb3JuZXJzWzBdLngsIHkxOiBjb3JuZXJzWzBdLnksXG4gICAgICAgICAgICB4MjogY29ybmVyc1syXS54LCB5MjogY29ybmVyc1syXS55LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc0luQm91bmRzKHBvaW50LCBib3VuZHMpKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGRyYWdnaW5nRW50aXR5LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uaXRlbURhdGE7XG5cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2VxdWlwSXRlbScsIGl0ZW1EYXRhLmlkLCBlcXVpcFNsb3RLZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVJdGVtTW92ZSA9IGZ1bmN0aW9uIChkcmFnZ2luZ0VudGl0eSwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5pc0luQm91bmRzKHZhbHVlKSkge1xuICAgICAgICBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5jb2xsYXBzZSgpO1xuICAgIH1cbiAgICB0aGlzLnNldEhpZ2hsaWdodFBvc2l0aW9uKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNJbkJvdW5kcyhwb2ludCwgYm91bmRzKSB7XG4gICAgcmV0dXJuIHBvaW50LnggPiBib3VuZHMueDEgJiYgcG9pbnQueCA8IGJvdW5kcy54MiAmJiBwb2ludC55ID4gYm91bmRzLnkxICYmIHBvaW50LnkgPCBib3VuZHMueTI7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbG9zZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBldnQuZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xvc2UnKTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcywgZXF1aXBwZWRNYXApIHtcbiAgICB0aGlzLmNsZWFyUGFuZWwoKTtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IHJ1bm5pbmdJbmRleCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIHJ1bm5pbmdJbmRleCArPSBpdGVtLnNpemU7XG5cbiAgICAgICAgY29uc3QgbmV3SXRlbUNvbXBvbmVudCA9IHRoaXMuaXRlbUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIG5ld0l0ZW1Db21wb25lbnQuc2NyaXB0W1wiSW52ZW50b3J5SXRlbUNvbXBvbmVudFwiXS5zZXR1cChpdGVtKTtcbiAgICAgICAgbmV3SXRlbUNvbXBvbmVudC5zZXRMb2NhbFBvc2l0aW9uKHRvcFNsb3RQb3NpdGlvbi54LCB0b3BTbG90UG9zaXRpb24ueSAtIChydW5uaW5nSW5kZXggKiB0aGlzLnNsb3RIZWlnaHQpLCAwKTtcblxuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcy5wdXNoKG5ld0l0ZW1Db21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld0l0ZW1Db21wb25lbnQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZXF1aXBTbG90IG9mIHRoaXMuZXF1aXBtZW50U2xvdHMpIHtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90S2V5ID0gZXF1aXBTbG90LmtleTtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90RW50aXR5ID0gZXF1aXBTbG90LmVudGl0eTtcblxuICAgICAgICBpZiAoZXF1aXBwZWRNYXAuaGFzKGVxdWlwU2xvdEtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVxdWlwcGVkSXRlbSA9IGVxdWlwcGVkTWFwLmdldChlcXVpcFNsb3RLZXkpO1xuICAgICAgICAgICAgZXF1aXBTbG90RW50aXR5LnNjcmlwdFtcIkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudFwiXS5zZXR1cChlcXVpcHBlZEl0ZW0uaWNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcXVpcFNsb3RFbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50XCJdLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlQb3RlbnRpYWxMaXN0ID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGRyYWdQb3MpIHtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm91bmRzID0ge1xuICAgICAgICB4MTogdG9wU2xvdFBvc2l0aW9uLngsIHkxOiB0b3BTbG90UG9zaXRpb24ueSAtIHRoaXMubWF4U2xvdHMgKiB0aGlzLnNsb3RIZWlnaHQsXG4gICAgICAgIHgyOiB0b3BTbG90UG9zaXRpb24ueCArIHRoaXMuc2xvdFdpZHRoLCB5MjogdG9wU2xvdFBvc2l0aW9uLnlcbiAgICB9O1xuXG4gICAgY29uc3QgaW5Cb3VuZHMgPSBpc0luQm91bmRzKGRyYWdQb3MsIGJvdW5kcyk7XG4gICAgaWYgKGluQm91bmRzKSB7XG4gICAgICAgIC8vIERvIHRoZSBzdHVmZlxuICAgICAgICBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmV4cGFuZCgpO1xuICAgICAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEdldCB0aGUgdG9wIGNvcm5lciBwb3NpdGlvbiBvZiB0aGUgZHJhZ2dpbmcgaXRlbSBhcyB0aGUgdGFyZ2V0XG4gICAgICAgIGNvbnN0IGNvcm5lclNjcmVlblBvcyA9IHsgeDogZHJhZ0VudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnNbMl0ueCwgeTogc2NyZWVuSGVpZ2h0IC0gZHJhZ0VudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnNbMl0ueSB9XG4gICAgICAgIGNvbnN0IGNvcm5lclBvcyA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGNvcm5lclNjcmVlblBvcyk7XG5cbiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigodG9wU2xvdFBvc2l0aW9uLnkgLSBjb3JuZXJQb3MueSkgLyB0aGlzLnNsb3RIZWlnaHQpKTtcbiAgICAgICAgdGhpcy5yZW9yZGVyTGlzdFdpdGhHYXAoZHJhZ0VudGl0eSwgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5zaXplLCBzbG90SW5kZXgpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5jb2xsYXBzZSgpO1xuICAgICAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLnJlb3JkZXJMaXN0V2l0aEdhcCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBnYXBJbmRleCkge1xuICAgIGNvbnN0IHRvcFNsb3RQb3NpdGlvbiA9IHRoaXMudG9wU2xvdFBvc2l0aW9uLmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBsZXQgcnVubmluZ0luZGV4ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbUVudGl0eSA9IHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzW2ldO1xuXG4gICAgICAgIC8vIERvbid0IHJlcG9zaXRpb24gdGhlIGVudGl0eSBiZWluZyBkcmFnZ2VkXG4gICAgICAgIGlmIChkcmFnRW50aXR5ICE9PSBpbnZlbnRvcnlJdGVtRW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoZ2FwSW5kZXggPj0gcnVubmluZ0luZGV4ICYmIGdhcEluZGV4IDwgcnVubmluZ0luZGV4ICsgaW52ZW50b3J5SXRlbUVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLnNpemUpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nSW5kZXggKz0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bm5pbmdJbmRleCArPSBpbnZlbnRvcnlJdGVtRW50aXR5LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uc2l6ZTtcblxuICAgICAgICAgICAgaW52ZW50b3J5SXRlbUVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHRvcFNsb3RQb3NpdGlvbi54LCB0b3BTbG90UG9zaXRpb24ueSAtIChydW5uaW5nSW5kZXggKiB0aGlzLnNsb3RIZWlnaHQpLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aGlsZSAodGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcy5wb3AoKTtcbiAgICAgICAgZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50Jyk7XG5cbi8qSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgSGVpZ2h0JywgZGVmYXVsdDogNDQgfSk7Ki9cblxuXG5JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAobmFtZSwgc2l6ZSkge1xuXG59XG5cbiIsImV4cG9ydCBjb25zdCBJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudCcpO1xuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RlZmF1bHRBc3NldCcsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdEZWZhdWx0IEFzc2V0JyB9KTtcblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsgfVxuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGljb25Bc3NldElkKSB7XG4gICAgY29uc3QgYXNzZXQgPSB0aGlzLmFwcC5hc3NldHMuZ2V0KGljb25Bc3NldElkKTtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IGFzc2V0O1xuXG59XG5cblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmljb25FbnRpdHkuZWxlbWVudC5zcHJpdGVBc3NldCA9IHRoaXMuZGVmYXVsdEFzc2V0O1xufSIsImV4cG9ydCBjb25zdCBQbGF5ZXJDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BsYXllckNoYXJhY3RlckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5vbignY3JlYXRlZDpnYW1lQ2hhcmFjdGVyJywgKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwicGxheWVyXCIsIFwic3dvcmRcIik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwicGxheWVyXCIsIFwicGlzdG9sZXRcIik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwicGxheWVyXCIsIFwiZnVzaWxcIik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwicGxheWVyXCIsIFwiY2hhaW5tYWlsXCIpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInBsYXllclwiLCBcInNoaWVsZFwiKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgXCJwbGF5ZXJcIiwgXCJ1bmFybWVkXCIsIFwiMWhhbmRcIik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIFwicGxheWVyXCIsIFwidW5hcm1lZFwiLCBcIjJoYW5kXCIpO1xuICAgIH0pXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvbk9iamVjdE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW50ZXJhY3Rpb25PYmplY3RNZWRpYXRvclwiIH07XG5cblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW50ZXJhY3Rpb25PYmplY3RNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgLy8gR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjppbnRlcmFjdGlvbk9iamVjdCcsIHRoaXMuc2VsZWN0SW50ZXJhY3Rpb25PYmplY3QsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RJbnRlcmFjdGlvbk9iamVjdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbk9iamVjdENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0ludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IGRpYWxvZ3VlVHJlZUlkID0gaW50ZXJhY3Rpb25PYmplY3RDb21wb25lbnQuZGlhbG9ndWVUcmVlSWQ7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9zaXRpb24gPSBpbnRlcmFjdGlvbk9iamVjdENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV09STERfT0JKRUNULFxuICAgICAgICAgICAgICAgIHN0YW5kaW5nUG9zaXRpb24sIGRpYWxvZ3VlVHJlZUlkKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbk9iamVjdE1lZGlhdG9yIH0gZnJvbSBcIi4vSW50ZXJhY3Rpb25PYmplY3RNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgSW50ZXJhY3Rpb25PYmplY3RDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50Jyk7XG5cbkludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpZCcsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnSWQnIH0pO1xuSW50ZXJhY3Rpb25PYmplY3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RpYWxvZ3VlVHJlZUlkJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEaWFsb2d1ZSBUcmVlIElkJyB9KTtcbkludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzdGFuZGluZ1BvaW50JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTdGFuZGluZyBQb2ludCcgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW50ZXJhY3Rpb25PYmplY3RNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnRlcmFjdGlvbk9iamVjdE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEludGVyYWN0aW9uT2JqZWN0TWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuc3RhbmRpbmdQb2ludC5lbmFibGVkID0gZmFsc2U7XG59OyIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgU3BlbGxib29rUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlNwZWxsYm9va1BhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihTcGVsbGJvb2tQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9TUEVMTEJPT0tcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpjYXN0JywgdGhpcy5oYW5kbGVDYXN0LCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfU1BFTExCT09LOlxuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWxsc0RpY3QgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1NwZWxsYm9va1BhbmVsQ29tcG9uZW50J10ub3BlbihzcGVsbHNEaWN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDYXN0KHNwZWxsS2V5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1NQRUxMX0NBU1QsIHNwZWxsS2V5KTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgU3BlbGxib29rUGFuZWxCdXR0b25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NwZWxsYm9va1BhbmVsQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IFNwZWxsYm9va1BhbmVsTWVkaWF0b3IgfSBmcm9tICcuL1NwZWxsYm9va1BhbmVsTWVkaWF0b3InO1xuXG5TcGVsbGJvb2tQYW5lbEJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGl0bGVMYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGl0bGUgbGFiZWwgZW50aXR5JyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU3BlbGxib29rUGFuZWxCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cblNwZWxsYm9va1BhbmVsQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChzcGVsbERhdGEpIHtcbiAgICB0aGlzLnRpdGxlTGFiZWxFbnRpdHkuZWxlbWVudC50ZXh0ID0gc3BlbGxEYXRhLm5hbWU7XG59XG4iLCJleHBvcnQgY29uc3QgU3BlbGxib29rUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NwZWxsYm9va1BhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IFNwZWxsYm9va1BhbmVsTWVkaWF0b3IgfSBmcm9tICcuL1NwZWxsYm9va1BhbmVsTWVkaWF0b3InO1xuaW1wb3J0IHsgU3BlbGxib29rUGFuZWxCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL1NwZWxsYm9va1BhbmVsQnV0dG9uQ29tcG9uZW50JztcblxuLy8gU3BlbGxzIGxpc3RcblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzcGVsbEJ1dHRvblRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1NwZWxsIEJ1dHRvbiBUZW1wbGF0ZScgfSk7XG5TcGVsbGJvb2tQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc3BlbGxMaXN0Q29udGFpbmVyJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTcGVsbCBMaXN0IENvbnRhaW5lcicgfSk7XG4vLyBEZXRhaWxzXG5TcGVsbGJvb2tQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGV0YWlsc05hbWVFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RldGFpbHMgTmFtZSBFbnRpdHknIH0pO1xuU3BlbGxib29rUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RldGFpbHNDb3N0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdEZXRhaWxzIENvc3QgRW50aXR5JyB9KTtcblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXRhaWxzRGVzY3JpcHRpb25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RldGFpbHMgRGVzY3JpcHRpb24gRW50aXR5JyB9KTtcblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXRhaWxzSWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRGV0YWlscyBJY29uIEVudGl0eScgfSk7XG5cblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjYXN0QnV0dG9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDYXN0IEJ1dHRvbicgfSk7XG5TcGVsbGJvb2tQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY2xvc2VCdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0Nsb3NlIEJ1dHRvbicgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoU3BlbGxib29rUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihTcGVsbGJvb2tQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFNwZWxsYm9va1BhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuY2xvc2VCdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsb3NlLCB0aGlzKTtcbn07XG5cblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKHNwZWxsc0RpY3QpIHtcbiAgICB0aGlzLmNsZWFyUGFuZWwoKTtcbiAgICBsZXQgZGVmYXVsdFNob3duID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBzcGVsbEtleSBpbiBzcGVsbHNEaWN0KSB7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzcGVsbHNEaWN0LCBzcGVsbEtleSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwZWxsRGF0YSA9IHNwZWxsc0RpY3Rbc3BlbGxLZXldO1xuXG4gICAgICAgICAgICBjb25zdCBzcGVsbGJ1dHRvbiA9IHRoaXMuc3BlbGxCdXR0b25UZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICAgICAgc3BlbGxidXR0b24uc2NyaXB0WydTcGVsbGJvb2tQYW5lbEJ1dHRvbkNvbXBvbmVudCddLnNldHVwKHNwZWxsRGF0YSk7XG4gICAgICAgICAgICB0aGlzLnNwZWxsTGlzdENvbnRhaW5lci5hZGRDaGlsZChzcGVsbGJ1dHRvbik7XG5cbiAgICAgICAgICAgIGlmICghZGVmYXVsdFNob3duKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFNob3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlEZXRhaWxzKHNwZWxsS2V5LCBzcGVsbERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzcGVsbGJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlEZXRhaWxzKHNwZWxsS2V5LCBzcGVsbERhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuU3BlbGxib29rUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlEZXRhaWxzID0gZnVuY3Rpb24gKHNwZWxsS2V5LCBzcGVsbERhdGEpIHtcbiAgICB0aGlzLmNhc3RCdXR0b24uZWxlbWVudC5vZmYoJ2NsaWNrJyk7XG4gICAgdGhpcy5jYXN0QnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUNhc3Qoc3BlbGxLZXkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZXRhaWxzTmFtZUVudGl0eS5lbGVtZW50LnRleHQgPSBzcGVsbERhdGEubmFtZTtcbiAgICB0aGlzLmRldGFpbHNDb3N0RW50aXR5LmVsZW1lbnQudGV4dCA9IHNwZWxsRGF0YS5zdGFtaW5hO1xuICAgIHRoaXMuZGV0YWlsc0Rlc2NyaXB0aW9uRW50aXR5LmVsZW1lbnQudGV4dCA9IHNwZWxsRGF0YS5kZXNjcmlwdGlvbjtcbn1cblxuU3BlbGxib29rUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2hpbGUgKHRoaXMuc3BlbGxMaXN0Q29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zcGVsbExpc3RDb250YWluZXIuZWxlbWVudC5vZmYoJ2NsaWNrJyk7XG4gICAgICAgIHRoaXMuc3BlbGxMaXN0Q29udGFpbmVyLmNoaWxkcmVuWzBdLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cblNwZWxsYm9va1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDYXN0ID0gZnVuY3Rpb24gKHNwZWxsS2V5KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6Y2FzdCcsIHNwZWxsS2V5KTtcbn1cblxuU3BlbGxib29rUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsb3NlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgT3BlblNwZWxsYm9va0J1dHRvbk1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiT3BlblNwZWxsYm9va0J1dHRvbk1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoT3BlblNwZWxsYm9va0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpvcGVuU3BlbGxib29rJywgdGhpcy5oYW5kbGVPcGVuU3BlbGxib29rLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lID09PSBcImNhc3Rfc3BlbGxcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydPcGVuU3BlbGxib29rQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ09wZW5TcGVsbGJvb2tCdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU9wZW5TcGVsbGJvb2soaXNWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk9QRU5fU1BFTExCT09LLCBpc1Zpc2libGUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBPcGVuU3BlbGxib29rQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdPcGVuU3BlbGxib29rQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IE9wZW5TcGVsbGJvb2tCdXR0b25NZWRpYXRvciB9IGZyb20gJy4vT3BlblNwZWxsYm9va0J1dHRvbk1lZGlhdG9yJztcblxuT3BlblNwZWxsYm9va0J1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbk9wZW5TcGVsbGJvb2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihPcGVuU3BlbGxib29rQnV0dG9uTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoT3BlblNwZWxsYm9va0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IE9wZW5TcGVsbGJvb2tCdXR0b25NZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLCB0aGlzKTtcbn07XG5cbk9wZW5TcGVsbGJvb2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOm9wZW5TcGVsbGJvb2snLCAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCk7XG59XG5cbk9wZW5TcGVsbGJvb2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLnRvZ2dsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gaXNFbmFibGVkO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5jb25zdCB7IFB1cmVNVkMgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQ2Fjb2dlbkdhbWUgfSBmcm9tICcuL3ZpZXcvQ2Fjb2dlbkdhbWUnO1xuXG5pbXBvcnQgeyBOYXZpZ2F0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IFRvYXN0TWVzc2FnZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSGl0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgVUlTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24nO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YW1pbmFCYXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb3J0YWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50JztcbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9kZWZhdWx0QW5pbS9EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ3VlVGV4dENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudCc7XG5pbXBvcnQgeyBBdHRhY2tCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBVc2VJdGVtQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBWZWhpY2xlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTY3JlZW5SZXNpemVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3BsYXllckluaXQvUGxheWVyQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IEludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2ludGVyYWN0aW9uT2JqZWN0L0ludGVyYWN0aW9uT2JqZWN0Q29tcG9uZW50JztcbmltcG9ydCB7IFNwZWxsYm9va1BhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3NwZWxsYm9vay9zcGVsbGJvb2tQYW5lbC9TcGVsbGJvb2tQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBPcGVuU3BlbGxib29rQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3NwZWxsYm9vay9vcGVuQnV0dG9uL09wZW5TcGVsbGJvb2tCdXR0b25Db21wb25lbnQnO1xuXG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlID0gR2FtZUZhY2FkZS5nZXRJbnN0YW5jZTtcbiAgICAgICAgY29uc29sZS5sb2coRmFjYWRlKTtcblxuICAgICAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgICAgIHRoaXMuZmFjYWRlLnN0YXJ0dXAodGhpcyk7XG4gICAgfVxufVxuXG5jb25zdCBtYWluID0gbmV3IE1haW4oKTsiXSwic291cmNlUm9vdCI6IiJ9