(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var d=i(542);e.PureMVC=d.PureMVC;var h=i(999);e.View=h.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,d,h=this._events[s],p=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),p){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,o),!0;case 5:return h.fn.call(h.context,e,n,o,r),!0;case 6:return h.fn.call(h.context,e,n,o,r,a),!0}for(d=1,c=new Array(p-1);d<p;d++)c[d-1]=arguments[d];h.fn.apply(h.context,c)}else{var l,u=h.length;for(d=0;d<u;d++)switch(h[d].once&&this.removeListener(t,h[d].fn,void 0,!0),p){case 1:h[d].fn.call(h[d].context);break;case 2:h[d].fn.call(h[d].context,e);break;case 3:h[d].fn.call(h[d].context,e,n);break;case 4:h[d].fn.call(h[d].context,e,n,o);break;default:if(!c)for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];h[d].fn.apply(h[d].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,d=[],h=s.length;c<h;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&d.push(s[c]);d.length?this._events[r]=1===d.length?d[0]:d:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},834:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>$t});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(917),a=i(710);pc.createScript("GameMapComponent").prototype.postInitialize=function(){this.facade=a.Facade.getInstance($t.KEY),this.facade.hasMediator(c.NAME)&&this.facade.removeMediator(c.NAME),this.facade.registerMediator(new c(this.entity))},i(203);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameMapMediator"}constructor(t){super(c.NAME),this.subscribeNotification([n.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t}onRegister(t){super.onRegister(t),this.facade.sendNotification(n.i.PARSE_GAMEMAP)}handleNotification(t,...e){switch(t){case n.i.CHANGE_SCENE_COMPLETE:this.facade.retrieveProxy(r.u.NAME).vo,pc.Application.getApplication()}}}var d=i(969);const{GameMediator:h}=i(23),{Facade:p}=i(710);function l(t,e,...i){const o=p.getInstance(t),r=pc.Application.getApplication(),a=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=A(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;E(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(r),s=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=u(t);i.push(n),f(t,e),t.destroy()}return i}(r,a),c=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(m(t,e)),t.destroy();return i}(r,a);o.hasProxy(d.h.NAME)&&o.removeProxy(d.h.NAME),o.registerProxy(new d.h(a,s,c)),console.log("MAP_GRID_CREATED"),o.sendNotification(n.i.MAP_GRID_CREATED)}function u(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function f(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function A(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,d=Math.round(i.z-a/2);for(let t=d;t<d+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function E(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function m(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}const{Proxy:g}=i(710);class y extends g{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(y.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Facade:N}=i(710);function M(t,e){N.getInstance(t).registerProxy(new r.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;N.getInstance(t).registerProxy(new y(e))}}const{Facade:C}=i(710);function v(t,e,...i){const o=pc.Application.getApplication(),r=i[0];console.log("Changing scene "+r);const a=o.root.findByName("Root"),s=o.scenes.find(r);o.scenes.loadSceneHierarchy(s.url,(function(e,i){e?console.error(e):a&&a.destroy(),C.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),C.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r)}))}function T(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var _=i(958);const{Proxy:P}=i(710),{CombatVO:b}=i(201);class S extends P{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(S.NAME,new b(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(_.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=T(t);for(;"end_round"===e[0];)e=T(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var O=i(448);const{Facade:x}=i(710);function w(t,e,...i){const o=i[0],a=x.getInstance(t);a.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),a.retrieveProxy(r.u.NAME).updateGameStateType(O.gameplayModeTypes.COMBAT);const s=a.retrieveProxy(_.b.NAME+o);a.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",s);const c=new Map,d=["player"];c.set("player_team",d);const h=[o].concat(s.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));c.set("opposing_team",h);const p=d.concat(h),l=a.retrieveProxy(_.b.NAME+"player");for(const t of p)a.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?a.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):a.sendNotification(n.i.CHARACTER_LOOK_AT+t,s.currentNode);const u=new S(p,c);a.registerProxy(u),setTimeout((()=>{a.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:I}=i(710);function R(t,e,...i){const n=I.getInstance(t),o=n.retrieveProxy(r.u.NAME),a=n.retrieveProxy(S.NAME);o.vo.gameplayMode===O.gameplayModeTypes.COMBAT&&a.nextTurn()}const{Facade:G}=i(710);function L(t,e,...i){const o=G.getInstance(t),a=o.retrieveProxy(r.u.NAME),s=o.retrieveProxy(S.NAME);a.vo.gameplayMode===O.gameplayModeTypes.COMBAT&&(s.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:D}=i(710);function k(t,e,...i){setTimeout((()=>{const e=D.getInstance(t),i=e.retrieveProxy(S.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var H=i(434);class V{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class U{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==V.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return V.ERROR}close(t){}exit(t){}}class F extends U{tick(t){for(const e of this.children)e.execute(t);return V.SUCCESS}}class B{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class z{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class W{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new z;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class K{constructor(t){this.id="basicMeleeTree",this.blackboard=new B,this.tree=new W(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class Y extends U{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==V.FAILURE)return i}return V.FAILURE}}class j extends U{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),V.SUCCESS}}class q extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),V.SUCCESS}}class X extends U{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),V.SUCCESS}}class Q extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(_.b.NAME+i).availableMovement>0?V.SUCCESS:V.FAILURE}}class $ extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(_.b.NAME+i).currentNode;return e.retrieveProxy(_.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?V.SUCCESS:V.FAILURE}}class J extends U{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==V.SUCCESS)return i===V.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return V.SUCCESS}}class Z extends U{tick(t){const e=this.children[0];if(!e)return V.ERROR;let i=e.execute(t);return i==V.SUCCESS?i=V.FAILURE:i==V.FAILURE&&(i=V.SUCCESS),i}}class tt extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(_.b.NAME+i).isDead?V.SUCCESS:V.FAILURE}}class et extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(_.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(_.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(s.length>0){let t=s.reduce(((t,e)=>it(a,t)<it(a,e)?t:e));const o=H.q.calculatePath(a,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,V.SUCCESS}}function it(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class nt extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(_.b.NAME+i).isDead?V.SUCCESS:V.FAILURE}}class ot extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(_.b.NAME+i).availableActions>0?V.SUCCESS:V.FAILURE}}class rt extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(_.b.NAME+i).availableMovement=0,V.SUCCESS}}class at extends K{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new F([new Y([new J([new j,new Z([new nt]),new Z([new tt]),new Y([new J([new $,new ot,new j,new q,new rt]),new J([new Q,new j,new et])])]),new X])])}}const{Facade:st}=i(710);function ct(t,e,...i){const n=i[0],o=st.getInstance(t),r=(o.retrieveProxy(d.h.NAME),o.retrieveProxy(_.b.NAME+n).currentNode);o.retrieveProxy(_.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(r))),(new at).runCommands(o,n)}function dt(t,e,...i){const o=a.Facade.getInstance(t),s=o.retrieveProxy(r.u.NAME),c=i[0];s.currentMode===O.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_NODE+"player",c):s.currentMode===O.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(S.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c)}const{Facade:ht}=i(710);function pt(t,e,...i){const n=ht.getInstance(t),o=i[0],r=i[1],a=n.retrieveProxy(_.b.NAME+o),s=a.vo,c=H.q.breadthFirstSearch(s.currentNode,s.availableMovement);console.log(s),console.log(c),console.log(r);for(const t of c)t.equals(r)&&lt(n,a,r)}function lt(t,e,i){const o=e.vo,r=H.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function ut(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function ft(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function At(t,e,...i){const o=i[0],r=a.Facade.getInstance(t),s=r.retrieveProxy(_.b.NAME+o).vo,c=H.q.breadthFirstSearch(s.currentNode,s.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function Et(t,e,...i){const o=a.Facade.getInstance(t),s=i[0],c=i[1];if(o.retrieveProxy(_.b.NAME+s).currentNode=c,o.retrieveProxy(r.u.NAME).currentMode===O.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(S.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,s):o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,s))}}function mt(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function gt(t,e,...i){const o=a.Facade.getInstance(t),s=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(r.u.NAME),h=o.retrieveProxy(d.h.NAME),p=o.retrieveProxy(_.b.NAME+s),l=o.retrieveProxy(_.b.NAME+"player"),u=o.retrieveProxy(y.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===O.gameplayModeTypes.EXPLORATION)if("attack"===c.currentAction&&"ranged"===u)Nt(h,l,p)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s),o.sendNotification(n.i.START_COMBAT,s)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else{const t=yt(l,p);t&&o.sendNotification(n.i.NAVIGATE_ALONG_PATH+"player",t)}else if(c.currentMode===O.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(S.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===u)Nt(h,l,p)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,p))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,p.id);else{const t=yt(l,p);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",p.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function yt(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=H.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=H.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}function Nt(t,e,i){const n=mt(e),o=mt(i);return!t.rayIntersectsWall(n,o)}function Mt(t,e,...i){const o=a.Facade.getInstance(t),s=i[0],c=i[1],d=o.retrieveProxy(r.u.NAME);d.currentAction===s?d.currentAction="none":d.currentAction=s,o.sendNotification(n.i.TOGGLE_BUTTON,c)}var Ct=i(829);function vt(t,e,...i){const o=a.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(_.b.NAME+r),c=i[1],d=o.retrieveProxy(_.b.NAME+c);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,d.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+c,s.currentNode);const h=_t(s.skill),p=_t(d.skill),l=o.retrieveProxy(y.NAME);if(s.availableActions-=1,h===p)o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${h}/${p})`);else if(h>p){const t=Tt(h,p),e=l.getDamage(s.equippedWeapon,t);d.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),d.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+c),o.sendNotification(n.i.KILL_GAME_CHARACTER,c)):(o.sendNotification(n.i.DISPLAY_HIT+c),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${c} for ${e}`))}else{const t="melee"===l.getWeaponCategory(d.equippedWeapon),e=Tt(p,h),i=t?d.equippedWeapon:Ct.j.UNARMED,a=l.getDamage(i,e);s.applyDamage(a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${r} for ${a}`),o.sendNotification(n.i.DISPLAY_ATTACK+c),s.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+r),o.sendNotification(n.i.KILL_GAME_CHARACTER,r)):o.sendNotification(n.i.DISPLAY_HIT+r)}const u=o.retrieveProxy(S.NAME);u&&"player"!==u.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function Tt(t,e){return t-e}function _t(t){return t+Pt()+Pt()}function Pt(){return Math.round(6*Math.random())}var bt=i(321);const{Facade:St}=i(710);function Ot(t,e,...i){const o=St.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(_.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(bt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function xt(t,e,...i){const o=a.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(_.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",s),s&&(s.currentNode.occupied=!1);const c=o.retrieveProxy(S.NAME);c&&c.removeCharacterFromCombat(r)}const{Facade:wt}=i(710);function It(t,e,...i){const o=i[0],a=wt.getInstance(t);a.hasMediator(S.NAME)&&a.removeMediator(S.NAME),a.sendNotification(n.i.HIDE_WALKABLE_AREA),a.retrieveProxy(r.u.NAME).updateGameStateType(O.gameplayModeTypes.EXPLORATION),"player_team"===o?a.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over"):a.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory")}var Rt=i(316);class Gt extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),V.SUCCESS}}class Lt extends U{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(_.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(_.b.NAME+o).currentNode,c=Math.pow(this.minDistance,2),d=Math.pow(this.maxDistance,2),h=r.availableMovement;r.availableMovement=0;const p=Dt(s,a);if(p>=c&&p<=d)return V.FAILURE;{const t=H.q.breadthFirstSearch(a,h);if(t.length>0){if(p<c){let o=t.reduce(((t,e)=>Dt(s,t)>Dt(s,e)?t:e));const c=H.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Dt(s,t)<Dt(s,e)?t:e));const c=H.q.calculatePath(a,o);c&&c.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,c),r.currentNode=o)}return V.SUCCESS}return V.FAILURE}}}function Dt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class kt extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}),500)}}class Ht extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(_.b.NAME+i),r=(o.currentNode,e.retrieveProxy(_.b.NAME+n)),a=(r.currentNode,e.retrieveProxy(d.h.NAME)),s=mt(o),c=mt(r);return a.rayIntersectsWall(s,c)?V.FAILURE:V.SUCCESS}}class Vt extends U{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(_.b.NAME+i),a=r.currentNode,s=e.retrieveProxy(_.b.NAME+o),c=s.currentNode.connectedNodes,h=e.retrieveProxy(d.h.NAME),p=c.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>Ut(a,t)<Ut(a,e)?t:e));const o=H.q.calculatePath(a,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();const c=mt(s);let d=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*r.height,e.z);if(!h.rayIntersectsWall(i,c)){d=t;break}}o.splice(0,d),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,V.SUCCESS}}function Ut(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Ft extends K{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new F([new Y([new J([new j,new Z([new nt]),new Z([new tt]),new Y([new J([new Q,new Z([new Ht]),new Vt]),new J([new Q,new Y([new Lt(9,12),new kt])]),new J([new ot,new Ht,new Gt])])]),new X])])}}function Bt(t,e,...i){const n=a.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(_.b.NAME+o).botBehaviour){case Rt.r.BASIC_MELEE:(new at).runCommands(n,o);break;case Rt.r.BASIC_RANGED:(new Ft).runCommands(n,o)}}var zt=i(852);function Wt(t,e,...i){const o=a.Facade.getInstance(t);let r=0,s=0;const c=i[0],h=o.retrieveProxy(_.b.NAME+c),p=h.currentNode;let l=i[1],u=o.retrieveProxy(_.b.NAME+l);const f=u.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,u.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode),r+=Kt(h.skill),s+=Kt(u.skill);const A=o.retrieveProxy(y.NAME);o.retrieveProxy(d.h.NAME).isInCover(new pc.Vec3(f.x,f.y,f.z),new pc.Vec3(p.x,p.y,p.z))&&(s+=2);const E=o.retrieveMediator(zt.N.NAME),m=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),g=new pc.Vec3(u.currentNode.x,u.currentNode.y+1,u.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),E.createProjectile("crossbow_bolt",m,g).then((()=>{if(r>s){const t=o.retrieveProxy(S.NAME);if(t){const e=u.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(_.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],u=o.retrieveProxy(_.b.NAME+l)}const e=r-s,i=A.getDamage(h.equippedWeapon,e);u.applyDamage(i),u.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+l),o.sendNotification(n.i.KILL_GAME_CHARACTER,l)):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",u);const t=o.retrieveProxy(S.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function Kt(t){return t+Yt()+Yt()}function Yt(){return Math.round(6*Math.random())}const{Facade:jt}=i(710);function qt(t,e,...i){const o=jt.getInstance(t);if(o.retrieveProxy(r.u.NAME).currentMode===O.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(S.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const a=i[0],s=i[1];o.retrieveProxy(_.b.NAME+a).equippedWeapon=s,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${a} equips ${s}`)}function Xt(t,e,...i){const o=a.Facade.getInstance(t),r=i[0],s=i[1],c=(i[2],o.retrieveProxy(d.h.NAME).findNearestNode(r));o.retrieveProxy(_.b.NAME+"player"),o.retrieveMediator(bt.y.NAME+"player").moveToNodeWithPromise(c).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,s)}))}const{Facade:Qt}=i(710);class $t extends Qt{static getInstance(t){return Qt.instanceMap[t]||(Qt.instanceMap[t]=new $t(t)),Qt.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return $t.NAME+"StartUp"}startup(t){this.sendNotification($t.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand($t.STARTUP,M),this.registerCommand(n.i.CHANGE_SCENE,v),this.registerCommand(n.i.PARSE_GAMEMAP,l),this.registerCommand(n.i.START_COMBAT,w),this.registerCommand(n.i.NEXT_COMBAT_TURN,R),this.registerCommand(n.i.NEXT_COMBAT_ROUND,L),this.registerCommand(n.i.END_COMBAT_TURN,k),this.registerCommand(n.i.ENEMY_TURN,ct),this.registerCommand(n.i.SELECTED_NODE,dt),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,pt),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Bt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,ut),this.registerCommand(n.i.HIDE_WALKABLE_AREA,ft),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,At),this.registerCommand(n.i.FINISHED_MOVE,Et),this.registerCommand(n.i.SELECT_GAME_CHARACTER,gt),this.registerCommand(n.i.SET_PLAYER_ACTION,Mt),this.registerCommand(n.i.RESOLVE_ATTACK,vt),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Wt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,Ot),this.registerCommand(n.i.KILL_GAME_CHARACTER,xt),this.registerCommand(n.i.END_COMBAT,It),this.registerCommand(n.i.EQUIP_WEAPON,qt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,Xt)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get SET_PLAYER_ACTION(){return"SET_PLAYER_ACTION"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}get id(){return this.vo.id}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{},this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},23:(t,e,i)=>{i.r(e),i.d(e,{GameMediator:()=>r});var n=i(68);const{Mediator:o}=i(710);class r extends o{static get NAME(){return"GameMediator"}constructor(){console.log("Register mediator - GameMediator");const t=pc.Application.getApplication();super(r.NAME,t),this.subscribeNotification(n.i.APP_INITIALISED)}handleNotification(t,...e){switch(t){case n.i.APP_INITIALISED:}}}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),a=i(958);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},203:(t,e,i)=>{var n=i(710),o=i(834),r=i(68);i(917);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"InputLayerMediator"}constructor(t){super(s.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(r.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(r.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(r.i.INPUT_DRAG_MOUSE,t)}}const c=pc.createScript("GameCamera");c.attributes.add("distance",{type:"number",default:100,title:"Distance"}),c.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),c.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),c.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),c.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(h.NAME)&&this.facade.removeMediator(h.NAME),this.facade.registerMediator(new h(this.entity))},c.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},c.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},c.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},c.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:d}=i(710);class h extends d{static get NAME(){return"GameCameraMediator"}constructor(t){super(h.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE,r.i.INPUT_DRAG_MOUSE,r.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(e[0]);break;case r.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(e[0])}}}const p=pc.createScript("InputLayerComponent");p.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),p.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),p.prototype.window=window,p.prototype.initialize=function(){this.facade=n.Facade.getInstance(o.GameFacade.KEY),this.facade.hasMediator(s.NAME)&&this.facade.removeMediator(s.NAME),this.facade.registerMediator(new s(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()}))),this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},p.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.element.screen.screen.scaleBlend=1:this.entity.element.screen.screen.scaleBlend=0},p.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},p.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},p.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},p.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},p.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},p.prototype.update=function(t){this.processInputQueue()},p.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},p.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},p.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},p.prototype.pickedPortal=function(t,e){t.fire("picker:portal")}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(834),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(834),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),d=i(958),h=i(321),p=i(316),l=i(829);const u=pc.createScript("GameCharacterComponent");u.attributes.add("characterId",{type:"string",title:"Character Id"}),u.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),u.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),u.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),u.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),u.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),u.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),u.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:p._,default:0}),u.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:l.E,default:"unarmed"}),u.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},u.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:this.advancedSkills,equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}this.facade.hasProxy(d.b.NAME+this.characterId)&&this.facade.removeProxy(d.b.NAME+this.characterId),this.facade.hasMediator(h.y.NAME+this.characterId)&&this.facade.removeMediator(h.y.NAME+this.characterId),this.facade.registerProxy(new d.b(i)),this.facade.registerMediator(new h.y(this.characterId,this.entity,this.preregisteredNotifications)),this.entity.animation.play("idle.glb",.1)},u.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},u.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},u.prototype.update=function(t){this.moveAlongPath(t)},u.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3,o=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(n.sub2(r,i),n.normalize(),n.mul(o),n.add(i),this.entity.setLocalPosition(n),this.lookAtPoint(e),n.distance(r)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}}},u.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},u.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},u.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},u.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var f=i(969),A=i(917),E=i(448);const m=pc.createScript("AgroGameCharacterComponent");m.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),m.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},m.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(d.b.NAME+e)},m.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(A.u.NAME).vo.gameplayMode!==E.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,a=new pc.Vec3(r.x,r.y,r.z),s=new pc.Vec3(n.x,n.y,n.z);if(a.distance(s)<=this.sightRange){const t=o.retrieveProxy(f.h.NAME);a.y+=this.characterProxy.height,t.rayIntersectsWall(a,s)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:g}=i(710);class y extends g{static get NAME(){return"ToastMessageMediator"}constructor(t){super(y.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const N=pc.createScript("ToastMessageComponent");N.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),N.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),N.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(y.NAME)&&this.facade.removeMediator(y.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new y(this.entity))},N.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},N.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)},i(203);const{Mediator:M}=i(710);class C extends M{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(C.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const v=pc.createScript("PlayerCombatPanelComponent");v.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),v.prototype.initialize=function(){},v.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new C(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},v.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const T=pc.createScript("HitboxComponent");T.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},T.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},T.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:_}=i(710);class P extends _{static get NAME(){return"ActionPanelMediator"}constructor(t){super(P.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const b=pc.createScript("ActionButtonComponent");b.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),b.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),b.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),b.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},b.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},b.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const S=pc.createScript("ActionPanelComponent");S.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),S.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(P.NAME)&&this.facade.removeMediator(P.NAME),this.facade.registerMediator(new P(this.entity))},S.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var O=i(852);const x=pc.createScript("ProjectileCreatorComponent");x.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),x.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(O.N.NAME)&&this.facade.removeMediator(O.N.NAME),this.facade.registerMediator(new O.N(this.entity))},x.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const w=pc.createScript("ProjectileComponent");w.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),w.prototype.initialize=function(){},w.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},w.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},w.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:I}=i(710);class R extends I{static get NAME(){return"StaminaBarMediator"}constructor(t){super(R.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const G=pc.createScript("StaminaBarComponent");G.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),G.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),G.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(R.NAME)&&this.facade.removeMediator(R.NAME),this.facade.registerMediator(new R(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},G.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:L}=i(710);class D extends L{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(D.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(d.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const k=pc.createScript("ActionsRemainingPanelComponent");k.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),k.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(D.NAME)&&this.facade.removeMediator(D.NAME),this.facade.registerMediator(new D(this.entity)),this.pips=[]},k.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},k.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const H=pc.createScript("ActionsRemainingPipComponent");H.attributes.add("pipFront",{type:"entity",title:"Pip front"}),H.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:V}=i(710);class U extends V{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(U.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const F=pc.createScript("TemporaryFloatingStatusComponent");F.prototype.initialize=function(){},F.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},F.prototype.update=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},F.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.screenEntity.screen,o=n.referenceResolution.x/n.resolution.x,r=i.x*o,a=-1*i.y*o+this.screenEntity.screen.resolution.y*o;return new pc.Vec3(r,a,0)}};const B=pc.createScript("FloatingStatusCreatorComponent");B.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),B.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),B.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),B.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(U.NAME)&&this.facade.removeMediator(U.NAME),this.facade.registerMediator(new U(this.entity))},B.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.addChild(o)}};const{Mediator:z}=i(710);class W extends z{static get NAME(){return"PortalMediator"}constructor(t){super(W.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.viewComponent.script.PortalComponent,i=t.destinationScene,n=t.destinationPortal,o=t.standingPoint.getPosition();this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,o,i,n)}}const K=pc.createScript("PortalComponent");K.attributes.add("portalId",{type:"string",title:"Portal Id"}),K.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),K.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),K.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),K.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),K.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(W.NAME)&&this.facade.removeMediator(W.NAME),this.facade.registerMediator(new W(this.entity)),this.standingPoint.model.enabled=!1};const{Facade:Y}=i(710),{PureMVC:j}=i(710);new class{constructor(){console.log("Main start"),j.debug=!0,Y.getInstance=t.GameFacade.getInstance,console.log(Y),this.facade=Y.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clN0YXR1cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmFzZU5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9Qcmlvcml0eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NZW1TZXF1ZW5jZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VQbGF5ZXJBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvUmFuZ2VBdHRhY2tUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvUGlja05leHRBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvQ2FuU2VlVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNSYW5nZWRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FcXVpcFdlYXBvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dhbWVDb21tYW5kcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9kYXRhL1dlYXBvblR5cGVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9BZGphY2VudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0dhbWVNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmEuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0NhY29nZW5HYW1lLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvbkJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvY29tcG9uZW50cy9UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJQdXJlTVZDXzEiLCJWaWV3XzEiLCJDb250cm9sbGVyIiwia2V5IiwidGhpcyIsImNvbW1hbmRNYXAiLCJpbnN0YW5jZU1hcCIsIkVycm9yIiwibXVsdGl0b25LZXkiLCJsb2dnZXIiLCJQdXJlTVZDIiwiZGVidWciLCJsb2dDb21tYW5kIiwibG9nTm9uZSIsImluaXRpYWxpemVDb250cm9sbGVyIiwicmVtb3ZlQ29udHJvbGxlciIsImdldEluc3RhbmNlIiwicHJvdG90eXBlIiwicmVnaXN0ZXJDb21tYW5kIiwibm90aWZpY2F0aW9uTmFtZSIsImNvbW1hbmRDbGFzc1JlZiIsInZpZXciLCJyZWdpc3Rlck9ic2VydmVyIiwiZXhlY3V0ZUNvbW1hbmQiLCJoYXNDb21tYW5kIiwidW5kZWZpbmVkIiwicmVtb3ZlQ29tbWFuZCIsInJlbW92ZU9ic2VydmVyIiwiVmlldyIsImFyZ3MiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImNvbW1hbmQiLCJfY29uc29sZUFyZ3MiLCJuYW1lIiwiYXBwbHkiLCJjb25jYXQiLCJDb250cm9sbGVyXzEiLCJNb2RlbF8xIiwiRmFjYWRlIiwibG9nTm90aWZpY2F0aW9uIiwiaW5pdGlhbGl6ZU5vdGlmaWVyIiwiaW5pdGlhbGl6ZUZhY2FkZSIsImhhc0NvcmUiLCJyZW1vdmVDb3JlIiwiTW9kZWwiLCJyZW1vdmVNb2RlbCIsInJlbW92ZVZpZXciLCJpbml0aWFsaXplTW9kZWwiLCJpbml0aWFsaXplVmlldyIsImNvbnRyb2xsZXIiLCJyZWdpc3RlclByb3h5IiwicHJveHkiLCJtb2RlbCIsInJldHJpZXZlUHJveHkiLCJwcm94eU5hbWUiLCJyZW1vdmVQcm94eSIsImhhc1Byb3h5IiwicmVnaXN0ZXJNZWRpYXRvciIsIm1lZGlhdG9yIiwicmV0cmlldmVNZWRpYXRvciIsIm1lZGlhdG9yTmFtZSIsInJlbW92ZU1lZGlhdG9yIiwic2xlZXBNZWRpYXRvciIsImF3YWtlTWVkaWF0b3IiLCJoYXNNZWRpYXRvciIsInNlbmROb3RpZmljYXRpb24iLCJfYSIsIm5vdGlmeU9ic2VydmVycyIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiTm90aWZpZXJfMSIsIk1lZGlhdG9yIiwiX3N1cGVyIiwidmlld0NvbXBvbmVudCIsIl90aGlzIiwiY2FsbCIsImxvZ01lZGlhdG9yIiwic2xlZXBpbmciLCJzdWJzY3JpYmVkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXRNZWRpYXRvck5hbWUiLCJzZXRWaWV3Q29tcG9uZW50IiwiZ2V0Vmlld0NvbXBvbmVudCIsIm9uUmVnaXN0ZXIiLCJvblJlbW92ZSIsIm9uU2xlZXAiLCJvbkF3YWtlIiwic3Vic2NyaWJlTm90aWZpY2F0aW9uIiwiY2hhbmdlU3Vic2NyaXB0aW9uIiwiYWRkU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmVOb3RpZmljYXRpb24iLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJhY3Rpb24iLCJvbGROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsInNsaWNlIiwiY2hhbmdlZCIsImZvckVhY2giLCJub3RpZmljYXRpb24iLCJpbmRleE9mIiwicHVzaCIsImluZGV4Iiwic3BsaWNlIiwiTm90aWZpZXIiLCJwcm94eU1hcCIsImdldFByb3h5TmFtZSIsIkZhY2FkZV8xIiwiZmFjYWRlIiwiZ2V0RmFjYWRlIiwiUHJveHkiLCJkYXRhIiwibG9nUHJveHkiLCJzZXREYXRhIiwiZ2V0RGF0YSIsImNvbnNvbGVBcmdzIiwiY29tbWFuZE5hbWUiLCJjb25zb2xlIiwibG9nIiwiRXZlbnRFbWl0dGVyIiwibWVkaWF0b3JNYXAiLCJldmVudEVtaXR0ZXIiLCJvYnNlcnZlck1ldGhvZCIsImNvbnRleHQiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiZW1pdCIsInJlZ2lzdGVyT2JzZXJ2ZXJzIiwib25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSIsImJpbmQiLCJpc1NsZWVwaW5nIiwicmVtb3ZlT2JzZXJ2ZXJzIiwiaW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzEiLCJpbnRlcmVzdCIsImhhbmRsZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18yIiwiTWVkaWF0b3JfMSIsIlByb3h5XzEiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImZuIiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwiVHlwZUVycm9yIiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiaSIsImwiLCJlZSIsImxpc3RlbmVyQ291bnQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwibGVuIiwiaiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwibW9kdWxlIiwiTmF2aWdhdGlvbk5vZGUiLCJ4IiwieSIsInoiLCJjb25uZWN0ZWROb2RlcyIsIm9jY3VwaWVkIiwib3RoZXJOb2RlIiwiZmluZCIsIm5vZGUiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RlZE5vZGVJbmRleCIsImZpbmRJbmRleCIsImVxdWFscyIsInBjIiwiY3JlYXRlU2NyaXB0IiwicG9zdEluaXRpYWxpemUiLCJHYW1lRmFjYWRlIiwiS0VZIiwiR2FtZU1hcE1lZGlhdG9yIiwiTkFNRSIsImVudGl0eSIsInN1cGVyIiwiR2FtZUNvbW1hbmRzIiwiR2FtZVN0YXRlUHJveHkiLCJ2byIsIkFwcGxpY2F0aW9uIiwiZ2V0QXBwbGljYXRpb24iLCJHYW1lTWVkaWF0b3IiLCJwYXJzZUdhbWVNYXBDb21tYW5kIiwiYXBwIiwiZmxvb3JHcmlkIiwibmF2aWdhdGlvbkZsb29ycyIsInJvb3QiLCJmaW5kQnlUYWciLCJjb21wbGV0ZWRHcmlkIiwibmF2aWdhdGlvbkNvbXBvbmVudHMiLCJmbG9vckVudGl0eSIsIm5hdkNvbXAiLCJzY3JpcHQiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZENvbXBFbnRpdHkiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiY29ubmVjdGVkTmF2Q29tcCIsImpvaW5Ub0FkamFjZW50R3JpZCIsImdldEdyaWQiLCJjcmVhdGVNYXBGbG9vciIsIndhbGxzIiwid2FsbHNCb3VuZGluZ0JveGVzIiwibWFwV2FsbEVudGl0aWVzIiwibWFwV2FsbEVudGl0eSIsImFhYmIiLCJjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkiLCJjcmVhdGVGbG9vclVuZGVyV2FsbHMiLCJkZXN0cm95IiwiY3JlYXRlTWFwV2FsbHMiLCJjb3ZlciIsImNvdmVyUG9pbnRzIiwiY292ZXJFbnRpdGllcyIsImNvdmVyRW50aXR5IiwiY3JlYXRlQ292ZXJQb2ludEZyb21Cb3giLCJjcmVhdGVNYXBDb3ZlciIsIkdhbWVNYXBQcm94eSIsImJveEVudGl0eSIsInNjYWxlIiwiZ2V0TG9jYWxTY2FsZSIsImhhbGZFeHRlbnRzIiwiVmVjMyIsIkJvdW5kaW5nQm94IiwiZ2V0UG9zaXRpb24iLCJ3YWxsIiwid2FsbFBvcyIsIndhbGxTY2FsZSIsIk1hdGgiLCJyb3VuZCIsImNvcm5lclgiLCJjb3JuZXJaIiwibWF0Y2hpbmdOb2RlSW5kZXgiLCJlcXVhbHNQb2ludCIsImRlbGV0ZWROb2RlcyIsImRlbGV0ZWROb2RlIiwiZGlzY29ubmVjdGVkTm9kZSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsInNuYXBwZWRXaWR0aCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiYWRkQ29ubmVjdGVkTm9kZSIsImdyaWRUb0pvaW4iLCJib3giLCJib3hQb3MiLCJib3hTY2FsZSIsImNvdmVyUG9pbnQiLCJXZWFwb25zUHJveHkiLCJ3ZWFwb25OYW1lIiwiZGFtYWdlVGllciIsImNhdGVnb3J5S2V5IiwiY2F0ZWdvcnkiLCJkYW1hZ2UiLCJtaW4iLCJzdGFydHVwQ29tbWFuZCIsIndlYXBvbnNEYXRhIiwiYXNzZXRzIiwicmVzb3VyY2UiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJsb2FkU2NlbmVIaWVyYXJjaHkiLCJ1cmwiLCJlcnIiLCJwYXJlbnQiLCJlcnJvciIsInNodWZmbGVBcnJheSIsImFycmF5IiwiY3VycmVudEluZGV4IiwidGVtcG9yYXJ5VmFsdWUiLCJyYW5kb21JbmRleCIsImZsb29yIiwicmFuZG9tIiwiQ29tYmF0Vk8iLCJDb21iYXRQcm94eSIsInBhcnRpY2lwYW50cyIsInRlYW1zIiwicGFydGljaXBhbnRQcm94aWVzIiwiTWFwIiwicGFydGljaXBhbnQiLCJwYXJ0aWNpcGFudFByb3h5IiwiR2FtZUNoYXJhY3RlclByb3h5Iiwic2V0Iiwicm91bmRJbml0aWF0aXZlIiwibmV4dFR1cm5JZCIsInNoaWZ0IiwiYWN0aXZlUGFydGljaXBhbnQiLCJyZXNldENvbWJhdFR1cm5TdGF0ZSIsImlzTlBDIiwic2V0VGltZW91dCIsImluaXRpYXRpdmVzIiwiY2hhcmFjdGVySWQiLCJlbnRyaWVzIiwiaW5pdGlhdGl2ZSIsInNodWZmbGVkSW5pdGlhdGl2ZSIsIm5leHRUdXJuQ2hhcmFjdGVySWQiLCJkZWxldGUiLCJmaWx0ZXIiLCJlIiwidGVhbSIsImNoYXJhY3RlckluZGV4Iiwic3RhcnRDb21iYXRDb21tYW5kIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCIsInVwZGF0ZUdhbWVTdGF0ZVR5cGUiLCJnYW1lcGxheU1vZGVUeXBlcyIsImluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkiLCJwbGF5ZXJUZWFtIiwib3Bwb3NpbmdUZWFtIiwiY29tYmF0R3JvdXAiLCJpdGVtIiwicG9zIiwic2VsZiIsInBsYXllclByb3h5IiwiY3VycmVudE5vZGUiLCJjb21iYXRQcm94eSIsIm5leHRDb21iYXRUdXJuQ29tbWFuZCIsImdhbWVTdGF0ZSIsImdhbWVwbGF5TW9kZSIsIm5leHRUdXJuIiwibmV4dENvbWJhdFJvdW5kQ29tbWFuZCIsIm5leHRSb3VuZCIsImVuZENvbWJhdFR1cm5Db21tYW5kIiwiQmVoYXZpb3VyU3RhdHVzIiwiQmFzZU5vZGUiLCJjaGlsZHJlbiIsImluaXRpYWxpemUiLCJpZCIsInMiLCJoZXhEaWdpdHMiLCJzdWJzdHIiLCJqb2luIiwiY3JlYXRlVVVJRCIsInRpY2siLCJfZW50ZXIiLCJibGFja2JvYXJkIiwidHJlZSIsIl9vcGVuIiwic3RhdHVzIiwiX3RpY2siLCJSVU5OSU5HIiwiX2Nsb3NlIiwiX2V4aXQiLCJlbnRlck5vZGUiLCJlbnRlciIsIm9wZW5Ob2RlIiwib3BlbiIsInRpY2tOb2RlIiwiY2xvc2VOb2RlIiwiY2xvc2UiLCJleGl0Tm9kZSIsImV4aXQiLCJFUlJPUiIsIk1hc3Rlck5vZGUiLCJjaGlsZE5vZGUiLCJleGVjdXRlIiwiU1VDQ0VTUyIsIkJsYWNrYm9hcmQiLCJpbml0aWFsaXNlIiwiYmFzZU1lbW9yeSIsInRyZWVNZW1vcnkiLCJ0cmVlU2NvcGUiLCJub2RlTWVtb3J5Iiwib3Blbk5vZGVzIiwibm9kZVNjb3BlIiwibWVtb3J5IiwiZ2V0VHJlZU1lbW9yeSIsImdldE5vZGVNZW1vcnkiLCJnZXRNZW1vcnkiLCJUaWNrIiwibm9kZUNvdW50IiwidGFyZ2V0IiwicG9wIiwiQmVoYXZpb3VyVHJlZSIsImxhc3RPcGVuTm9kZXMiLCJjdXJyT3Blbk5vZGVzIiwic3RhcnQiLCJDaGFyYWN0ZXJDb21tYW5kVHJlZSIsIlByaW9yaXR5IiwiY2hpbGQiLCJGQUlMVVJFIiwiU2V0UGxheWVyQXNUYXJnZXQiLCJNZWxlZUF0dGFja1RhcmdldCIsImF0dGFja2VySWQiLCJkZWZlbmRlcklkIiwiRW5kQ29tYmF0VHVybiIsIkhhc01vdmVtZW50UmVtYWluaW5nIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJJc05leHRUb1BsYXllciIsImNoYXJhY3RlckN1cnJlbnROb2RlIiwic29tZSIsIm4iLCJNZW1TZXF1ZW5jZSIsIkludmVydGVyIiwiSXNUYXJnZXREZWFkIiwidGFyZ2V0SWQiLCJpc0RlYWQiLCJNb3ZlVG93YXJkc1RhcmdldCIsImNoYXJhY3RlclByb3h5IiwicmVzdWx0IiwicmVkdWNlIiwiYSIsImRpc3RhbmNlU3FydCIsInBhdGgiLCJBc3RhciIsInAxIiwicDIiLCJwb3ciLCJJc0RlYWQiLCJIYXNBY3Rpb25zUmVtYWluaW5nIiwiYXZhaWxhYmxlQWN0aW9ucyIsIlJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyIsIkJhc2ljTWVsZWVUcmVlIiwiZW5lbXlUdXJuQ29tbWFuZCIsImVuZW15SWQiLCJlbmVteUN1cnJlbnROb2RlIiwicnVuQ29tbWFuZHMiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsInRhcmdldE5vZGUiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJtb3ZlYWJsZU5vZGVzIiwiaGFuZGxlVmFsaWRNb3ZlIiwic2hvd1dhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZU5vZGVzIiwid2Fsa2FibGVUaWxlQXNzZXQiLCJjb250YWluZXIiLCJ0aWxlIiwiaW5zdGFudGlhdGUiLCJzZXRMb2NhbFBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlVGlsZUVudGl0aWVzIiwid2Fsa2FibGVUaWxlRW50aXR5IiwiYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQiLCJlbmRNb3ZlbWVudENvbW1hbmQiLCJlbmROb2RlIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImhlaWdodCIsInNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJnYW1lTWFwUHJveHkiLCJ0YXJnZXRDaGFyYWN0ZXJQcm94eSIsInBsYXllckNoYXJhY3RlclByb3h5Iiwid2VhcG9uQ2F0ZWdvcnkiLCJnZXRXZWFwb25DYXRlZ29yeSIsImVxdWlwcGVkV2VhcG9uIiwiY3VycmVudEFjdGlvbiIsImNhblNlZVRhcmdldCIsInBhdGhUb1RhcmdldCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXIiLCJ0YXJnZXRDdXJycmVudE5vZGUiLCJpc1RhcmdldEFkamFjZW50IiwidW5vY2N1cGllZE5vZGVzIiwicGxheWVyTm9kZSIsInNob3J0ZXN0UGF0aCIsIm90aGVyUGF0aCIsInBsYXllclBvaW50IiwidGFyZ2V0UG9pbnQiLCJyYXlJbnRlcnNlY3RzV2FsbCIsImNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQiLCJhY3Rpb25OYW1lIiwiYnV0dG9uTmFtZSIsInJlc29sdmVBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVyUHJveHkiLCJhdHRhY2tlclJvbGwiLCJyb2xsQXR0YWNrU2tpbGwiLCJza2lsbCIsImRlZmVuZGVyUm9sbCIsIndlYXBvbnNQcm94eSIsImRldGVybWluZURhbWFnZVRpZXIiLCJnZXREYW1hZ2UiLCJhcHBseURhbWFnZSIsImhhc01lbGVlV2VhcG9uIiwid2VhcG9uIiwiV2VhcG9uVHlwZXMiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwicm9sbERpY2UiLCJtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCIsInVzZU1vdmVtZW50IiwiY2hhcmFjdGVyTWVkaWF0b3IiLCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3IiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlIiwidGhlbiIsImtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwibG9zaW5nVGVhbSIsIlJhbmdlQXR0YWNrVGFyZ2V0IiwiTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwidGFyZ2V0Q3VycmVudE5vZGUiLCJtaW5EaXN0YW5jZVNxcnQiLCJtYXhEaXN0YW5jZVNxcnQiLCJtb3ZlUG9pbnRzQXZhaWxhYmxlIiwiZGlzdGFuY2VUb1RhcmdldCIsIlBpY2tOZXh0QWN0aW9uIiwiQ2FuU2VlVGFyZ2V0IiwidGFyZ2V0UHJveHkiLCJmcm9tUG9zIiwidG9Qb3MiLCJNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSIsImRlbGV0ZUNvdW50IiwicGF0aE5vZGUiLCJCYXNpY1JhbmdlZFRyZWUiLCJkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQiLCJib3RCZWhhdmlvdXIiLCJCb3RCZWhhdmlvdXJUeXBlcyIsInJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJTY29yZSIsImRlZmVuZGVyU2NvcmUiLCJhdHRhY2tlck5vZGUiLCJkZWZlbmRlck5vZGUiLCJpc0luQ292ZXIiLCJwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIiwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsInByb2plY3RpbGVPcmlnaW4iLCJwcm9qZWN0aWxlVGFyZ2V0IiwiY3JlYXRlUHJvamVjdGlsZSIsIm5laWdoYm91cmluZ05vZGVzIiwicG9zc2libGVUYXJnZXRzIiwiZXF1aXBXZWFwb25Db21tYW5kIiwibmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCIsInN0YW5kaW5nUG9zaXRpb24iLCJkZXN0aW5hdGlvblNjZW5lIiwic3RhbmRpbmdOb2RlIiwiZmluZE5lYXJlc3ROb2RlIiwibW92ZVRvTm9kZVdpdGhQcm9taXNlIiwiZ2FtZSIsIlNUQVJUVVAiLCJib3RCZWhhdmlvdXJFbnVtcyIsIk5PTkUiLCJCQVNJQ19NRUxFRSIsIkJBU0lDX1JBTkdFRCIsIndlYXBvbkVudW1zIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJtYXAiLCJHYW1lQ2hhcmFjdGVyVk8iLCJwYXJhbXMiLCJtYXhNb3ZlbWVudCIsIm1heEFjdGlvbnNQZXJUdXJuIiwiY29zdCIsImRhbWFuZ2UiLCJjdXJyZW50U3RhbWluYSIsIm1heCIsIm1heGltdW1TdGFtaW5hIiwibWF4U3RhbWluYSIsIm1heEx1Y2siLCJjdXJyZW50THVjayIsImFkdmFuY2VkU2tpbGxzIiwiR2FtZU1hcFZPIiwibWFwR3JpZCIsIndhbGxCb3VuZGluZ0JveGVzIiwibmVhcmVzdE5vZGUiLCJkaXN0U3FydFRvTmVhcmVzdE5vZGUiLCJkaXN0VG9Ob2RlIiwiZnJvbSIsInRvIiwiZGlzdGFuY2UiLCJkaXJlY3Rpb24iLCJjbG9uZSIsInN1YiIsIm5vcm1hbGl6ZSIsInJheSIsIlJheSIsIm1hcFdhbGxzIiwiaGl0UG9zaXRpb24iLCJpbnRlcnNlY3RzUmF5IiwiYXR0YWNraW5nRnJvbSIsImFkamFjZW50Q292ZXJQb2ludHMiLCJhZGphY2VudFBvaW50cyIsInBvaW50IiwicG9pbnRzIiwiZ2V0QWRqYWNlbnRQb2ludHMiLCJhZGphY2VudFBvaW50IiwiYWRqYWNlbnRDb3ZlclBvaW50IiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5IiwiSW5maW5pdHkiLCJyYW5nZUxpbWl0IiwiZnJvbnRpZXIiLCJzZWFyY2hlZEFyZWEiLCJjYW1lRnJvbSIsInJhbmdlIiwibmV3RnJvbnRpZXIiLCJjdXJyZW50IiwibmV4dCIsImdvYWwiLCJjb3N0U29GYXIiLCJlbXB0eSIsIm5ld0Nvc3QiLCJoZXVyaXN0aWMiLCJwYXRoSXNCcm9rZW4iLCJwdDEiLCJwdDIiLCJhYnMiLCJHYW1lU3RhdGVWTyIsIm5ld1N0YXRlVHlwZSIsInNlbGVjdGVkQWN0aW9uIiwiRVhQTE9SQVRJT04iLCJDT01CQVQiLCJESUFMT0dVRSIsInByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJmaXJlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwibG9va0F0UG9pbnQiLCJoaXRib3giLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlQXR0YWNrIiwiYW5pbWF0ZUhpdCIsInNldFBhdGgiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5ld05vZGUiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsIklucHV0TGF5ZXJNZWRpYXRvciIsImhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIiLCJoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uIiwiaGFuZGxlU2Nyb2xsaW5nIiwiY2hhcmFjdGVyRW50aXR5IiwiR2FtZUNhbWVyYSIsImF0dHJpYnV0ZXMiLCJhZGQiLCJ0eXBlIiwiZGVmYXVsdCIsInRpdGxlIiwiR2FtZUNhbWVyYU1lZGlhdG9yIiwic2V0Q2FtZXJhVGFyZ2V0IiwiY2FtZXJhVGFyZ2V0Iiwicm90YXRpb24iLCJnZXRFdWxlckFuZ2xlcyIsImNhbWVyYUhlaWdodCIsImhhbmRsZURyYWciLCJkcmFnTXVsdGlwbGllclgiLCJ2ZXJ0aWNhbFNjcm9sbCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsIlBJIiwidGFyZ2V0WiIsImNvcyIsInVwZGF0ZSIsImR0IiwiY2FtZXJhVGFyZ2V0UG9zaXRpb24iLCJ0YXJnZXRQb3NpdGlvbiIsImN1cnJlbnRQb3MiLCJ0d2VlblgiLCJ0d2VlblkiLCJ0d2VlbloiLCJsb29rQXQiLCJJbnB1dExheWVyQ29tcG9uZW50Iiwid2luZG93IiwiaW5wdXRRdWV1ZSIsIm1vdXNlIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiY2xpY2tEb3duU3RhcnQiLCJpc0RyYWdnaW5nIiwiaGFuZGxlUGlja2VyUmVzdWx0IiwiRVZFTlRfTU9VU0VNT1ZFIiwib25Nb3VzZU1vdmUiLCJlbGVtZW50IiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJvblJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJncmFwaGljc0RldmljZSIsIndpZHRoIiwic2NyZWVuIiwic2NhbGVCbGVuZCIsIkRhdGUiLCJub3ciLCJjbGlja1N0YXJ0UG9pbnQiLCJWZWMyIiwiZHJhZ1RpbWUiLCJoYW5kbGVSYXljYXN0Q29sbGlzaW9ucyIsImNhbWVyYUVudGl0eSIsImNhbWVyYUNvbXBvbmVudCIsImNhbWVyYSIsInNjcmVlblRvV29ybGQiLCJmYXJDbGlwIiwib3JpZ2luIiwiY29weSIsInBpY2tlZEVudGl0eSIsInNjcmVlblBvcyIsInNjcmVlblBvc2l0aW9uIiwicHJvY2Vzc0lucHV0UXVldWUiLCJoaWdoZXN0UHJpb3JpdHlQaWNrIiwiaGlnaGVzdFByaW9yaXR5IiwicGljayIsInBpY2tQcmlvcml0eSIsInRhZ3MiLCJwaWNrZWRHYW1lQ2hhcmFjdGVyIiwicGlja2VkTmF2aWdhdGlvbiIsInBpY2tlZFBvcnRhbCIsImdldE5lYXJlc3ROb2RlIiwib3JpZ2luUG9pbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiQ2Fjb2dlbkdhbWUiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiaGFuZGxlUmF5Q2FzdCIsImVuYWJsZWQiLCJub2RlR3JpZCIsIkdhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJzY2hlbWEiLCJlbnVtIiwicHJlcmVnaXN0ZXJOb3RpZmljYXRpb24iLCJtb3ZlbWVudFBhdGgiLCJzdGF0c092ZXJyaWRlcyIsInByb3h5UGFyYW1zIiwiY2hhcmFjdGVySGVpZ2h0IiwiY29tYmF0R3JvdXBOYW1lIiwiY29tcmFkZUVudGl0aWVzIiwiY29tcmFkZUVudGl0eSIsImNvbXJhZGVJZCIsImFuaW1hdGlvbiIsInBsYXkiLCJsb29wIiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5ld1Bvc2l0aW9uIiwic3BlZWQiLCJjaGFyYWN0ZXJTcGVlZCIsIm5vZGVQb2ludCIsInN1YjIiLCJtdWwiLCJkeCIsImR6IiwiYW5nbGVUb0Rlc3QiLCJhdGFuMiIsInNldEV1bGVyQW5nbGVzIiwiQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJoYW5kbGVNYXBHcmlkQ3JlYXRlZCIsImhhbmRsZU1vdmVkVG9Ob2RlIiwiY2hhcmFjdGVyUG9pbnQiLCJzaWdodFJhbmdlIiwiVG9hc3RNZXNzYWdlTWVkaWF0b3IiLCJhZGRNZXNzYWdlIiwiVG9hc3RNZXNzYWdlQ29tcG9uZW50IiwibWVzc2FnZVF1ZXVlIiwiY3VycmVudFRpbWVvdXQiLCJtZXNzYWdlIiwic2hvd05leHRNZXNzYWdlIiwibmV4dE1lc3NhZ2UiLCJsYWJlbEVudGl0eSIsInRleHQiLCJtZXNzYWdlVGltZSIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwiSGl0Ym94Q29tcG9uZW50IiwiY2VudGVyIiwiQWN0aW9uUGFuZWxNZWRpYXRvciIsImhhbmRsZUZpcmVDb21tYW5kIiwic2VsZWN0QWN0aW9uIiwiQWN0aW9uQnV0dG9uQ29tcG9uZW50IiwiaGlnaGxpZ2h0RW50aXR5IiwiaGFuZGxlQ2hhbmdlQWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJjb21tYW5kcyIsImNvbW1hbmRBcmdzIiwiQWN0aW9uUGFuZWxDb21wb25lbnQiLCJidXR0b24iLCJhY3Rpb25CdXR0b25zIiwic3RvcFByb3BhZ2F0aW9uIiwiUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQiLCJwcm9qZWN0aWxlTmFtZSIsInByb2plY3RpbGVTY2hlbWUiLCJwcm9qZWN0aWxlVHlwZXMiLCJzY2hlbWUiLCJuZXdQcm9qZWN0aWxlIiwicHJvamVjdGlsZVRlbXBsYXRlIiwic2V0VGFyZ2V0IiwiUHJvamVjdGlsZUNvbXBvbmVudCIsInByb2plY3RpbGVTcGVlZCIsIlN0YW1pbmFCYXJNZWRpYXRvciIsIm5ld1N0YW1pbmEiLCJ1cGRhdGVTdGFtaW5hIiwiU3RhbWluYUJhckNvbXBvbmVudCIsImJhckVudGl0eU1heFdpZHRoIiwiYmFyRW50aXR5IiwibGVycCIsInJlY3QiLCJzdGFtaW5hTGFiZWwiLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciIsIm1heEFjdGlvbnMiLCJzaG93QXZhaWxhYmxlQWN0aW9uIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IiwicGlwcyIsImNyZWF0ZVBpcCIsIm5ld1BpcCIsInBpcFRlbXBsYXRlIiwiQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCIsInNob3ciLCJwaXBGcm9udCIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIiwic2NyaXB0Q29tcCIsImZsb2F0ZXJOYW1lIiwiZGlzcGxheVN0YXR1cyIsIlRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50Iiwic2V0V29ybGRQb3NpdGlvbiIsIndvcmxkUG9zaXRpb24iLCJkZXZpY2UiLCJzY3JlZW5FbnRpdHkiLCJwb3NpdGlvbiIsIndvcmxkU3BhY2VUb1NjcmVlblNwYWNlIiwid29ybGRQb3MiLCJ3b3JsZFRvU2NyZWVuIiwic2NyZWVuQ29tcCIsInJhdGlvU2NhbGUiLCJyZWZlcmVuY2VSZXNvbHV0aW9uIiwicmVzb2x1dGlvbiIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCIsImZsb2F0aW5nU3RhdHVzZXMiLCJvdGhlclNjaGVtZSIsInRhcmdldFBvcyIsIm5ld1N0YXR1cyIsInRlbXBsYXRlIiwiUG9ydGFsTWVkaWF0b3IiLCJzZWxlY3RlZFBvcnRhbCIsInBvcnRhbENvbXBvbmVudCIsImRlc3RpbmF0aW9uUG9ydGFsIiwic3RhbmRpbmdQb2ludCIsIlBvcnRhbENvbXBvbmVudCIsInN0YXJ0dXAiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSUMsRUFBWSxFQUFRLEtBQ3BCQyxFQUFTLEVBQVEsS0FFakJDLEVBQTRCLFdBQzVCLFNBQVNBLEVBQVdDLEdBRWhCLEdBREFDLEtBQUtDLFdBQWEsR0FDZEgsRUFBV0ksWUFBWUgsR0FDdkIsTUFBTSxJQUFJSSxNQUxILDREQU9YSCxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBS0ssT0FBU1QsRUFBVVUsUUFBUUMsTUFBUVgsRUFBVVUsUUFBUUUsV0FBYVosRUFBVVUsUUFBUUcsUUFDekZULEtBQUtVLHVCQXFEVCxPQW5EQVosRUFBV2EsaUJBQW1CLFNBQVVaLFVBQzdCQyxLQUFLRSxZQUFZSCxJQUU1QkQsRUFBV2MsWUFBYyxTQUFVYixHQUMvQixPQUFLQSxHQUdBQyxLQUFLRSxZQUFZSCxLQUNsQkMsS0FBS0UsWUFBWUgsR0FBTyxJQUFJRCxFQUFXQyxJQUVwQ0MsS0FBS0UsWUFBWUgsSUFMYixNQU9mRCxFQUFXZSxVQUFVQyxnQkFBa0IsU0FBVUMsRUFBa0JDLEdBQzFEaEIsS0FBS0MsV0FBV2MsSUFDakJmLEtBQUtpQixLQUFLQyxpQkFBaUJILEVBQWtCZixLQUFLbUIsZUFBZ0JuQixNQUV0RUEsS0FBS0MsV0FBV2MsR0FBb0JDLEdBRXhDbEIsRUFBV2UsVUFBVU8sV0FBYSxTQUFVTCxHQUN4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aVYsSUNwQ3pDLE1BQU1FLEVBQWtCbnNCLEdBQUdDLGFBQWEsbUJBSy9Da3NCLEVBQWdCdE8sV0FBV0MsSUFBSSxXQUFZLENBQUVDLEtBQU0sU0FBVUUsTUFBTyxjQUNwRWtPLEVBQWdCdE8sV0FBV0MsSUFBSSxtQkFBb0IsQ0FBRUMsS0FBTSxTQUFVRSxNQUFPLHNCQUM1RWtPLEVBQWdCdE8sV0FBV0MsSUFBSSxvQkFBcUIsQ0FBRUMsS0FBTSxTQUFVRSxNQUFPLHVCQUM3RWtPLEVBQWdCdE8sV0FBV0MsSUFBSSxTQUFVLENBQUVDLEtBQU0sU0FBVUUsTUFBTyxXQUNsRWtPLEVBQWdCdE8sV0FBV0MsSUFBSSxnQkFBaUIsQ0FBRUMsS0FBTSxTQUFVRSxNQUFPLG1CQUd6RWtPLEVBQWdCNzNCLFVBQVVnVyxXQUFhLFdBQ25DN1csS0FBS3NILE9BQVMsRUFBQWxGLE9BQUEsWUFBbUJzSyxFQUFXLFdBQVgsS0FDN0IxTSxLQUFLc0gsT0FBT3hELFlBQVl1MEIsRUFBZXhyQixPQUN2QzdNLEtBQUtzSCxPQUFPM0QsZUFBZTAwQixFQUFleHJCLE1BRzlDN00sS0FBS3NILE9BQU8vRCxpQkFBaUIsSUFBSTgwQixFQUFlcjRCLEtBQUs4TSxTQUVyRDlNLEtBQUt5NEIsY0FBY3YxQixNQUFNMnRCLFNBQVUsR0NwQnZDLE1BQVF6dUIsT0FBTSxHQUFLLEVBQVEsTUFDckIsUUFBRTlCLEdBQVksRUFBUSxLQWlDZixJQVpiLE1BQ0ksY0FDSXlILFFBQVFDLElBQUksY0FDWjFILEVBQVFDLE9BQVEsRUFDaEIsRUFBT0ssWUFBYzhMLEVBQVcsV0FBWCxZQUNyQjNFLFFBQVFDLElBQUksR0FFWmhJLEtBQUtzSCxPQUFTLEVBQU8xRyxZQUFZOEwsRUFBVyxXQUFYLEtBQ2pDMU0sS0FBS3NILE9BQU9xeEIsUUFBUTM0QixTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJjb250cm9sbGVyIGtleSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZFwiO1xudmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29udHJvbGxlcihrZXkpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kTWFwID0ge307XG4gICAgICAgIGlmIChDb250cm9sbGVyLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dDb21tYW5kIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgIH1cbiAgICBDb250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBDb250cm9sbGVyKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSA9IGNvbW1hbmRDbGFzc1JlZjtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZU9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZXhlY3V0ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tbWFuZCA9IHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIoQ29udHJvbGxlci5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQuYXBwbHkodm9pZCAwLCBbdGhpcy5tdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNENEJGRTBcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzg3MjRCRFwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiXG4gICAgXTtcbiAgICBDb250cm9sbGVyLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIENvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2xsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRyb2xsZXJcIik7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL01vZGVsXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIkZhY2FkZSBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBGYWNhZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFjYWRlKGtleSkge1xuICAgICAgICBpZiAoRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVOb3RpZmllcihrZXkpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVGYWNhZGUoKTtcbiAgICB9XG4gICAgRmFjYWRlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLmhhc0NvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEZhY2FkZS5yZW1vdmVDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE1vZGVsXzEuTW9kZWwucmVtb3ZlTW9kZWwoa2V5KTtcbiAgICAgICAgVmlld18xLlZpZXcucmVtb3ZlVmlldyhrZXkpO1xuICAgICAgICBDb250cm9sbGVyXzEuQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyKGtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZWdpc3RlckNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZW1vdmVDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHRoaXMubW9kZWwucmVnaXN0ZXJQcm94eShwcm94eSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJldHJpZXZlUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZW1vdmVQcm94eShwcm94eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuaGFzUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJNZWRpYXRvcihtZWRpYXRvcik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmV0cmlldmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZW1vdmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnNsZWVwTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hd2FrZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lmhhc01lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLmFwcGx5KHRoaXMsIFtGYWNhZGUuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAoX2EgPSB0aGlzLnZpZXcpLm5vdGlmeU9ic2VydmVycy5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlci5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwgPSBNb2RlbF8xLk1vZGVsLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMkYyRTE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiNGRkYzMjVcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIlxuICAgIF07XG4gICAgRmFjYWRlLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIEZhY2FkZTtcbn0oKSk7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2FkZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIk1lZGlhdG9yXCI7XG52YXIgTWVkaWF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lZGlhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lZGlhdG9yKG1lZGlhdG9yTmFtZSwgdmlld0NvbXBvbmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ01lZGlhdG9yIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgX3RoaXMubWVkaWF0b3JOYW1lID0gbWVkaWF0b3JOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICBfdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zID0gW107XG4gICAgICAgIF90aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldE1lZGlhdG9yTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JOYW1lO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnNldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAodmlld0NvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblNsZWVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwic2xlZXBcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25Bd2FrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJhd2FrZVwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwiaXNTbGVlcGluZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xlZXBpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmFkZFN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUudW5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuY2hhbmdlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2xkTm90aWZpY2F0aW9ucyA9IHRoaXMubm90aWZpY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uTmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25OYW1lLmZvckVhY2goZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbChfdGhpcywgbm90aWZpY2F0aW9uKSB8fCBjaGFuZ2VkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwodGhpcywgbm90aWZpY2F0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKHRoaXMsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuYWRkU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRjRGNkZFXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMzNjU2QzFcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIlxuICAgIF07XG4gICAgcmV0dXJuIE1lZGlhdG9yO1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZWRpYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIk1vZGVsIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGVsKGtleSkge1xuICAgICAgICB0aGlzLnByb3h5TWFwID0ge307XG4gICAgICAgIGlmIChNb2RlbC5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgIH1cbiAgICBNb2RlbC5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgTW9kZWwoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucmVtb3ZlTW9kZWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICBwcm94eS5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIHRoaXMucHJveHlNYXBbcHJveHkuZ2V0UHJveHlOYW1lKCldID0gcHJveHk7XG4gICAgICAgIHByb3h5Lm9uUmVnaXN0ZXIoKTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHByb3h5Lm9uUmVtb3ZlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBNb2RlbC5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBNb2RlbDtcbn0oKSk7XG5leHBvcnRzLk1vZGVsID0gTW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9GYWNhZGVcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJtdWx0aXRvbktleSBmb3IgdGhpcyBOb3RpZmllciBub3QgeWV0IGluaXRpYWxpemVkIVwiO1xudmFyIE5vdGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIH1cbiAgICBOb3RpZmllci5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmZhY2FkZSA9IHRoaXMuZ2V0RmFjYWRlKCk7XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZmFjYWRlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZhY2FkZSkuc2VuZE5vdGlmaWNhdGlvbi5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5nZXRGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpdG9uS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlXzEuRmFjYWRlLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vdGlmaWVyO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIlByb3h5XCI7XG52YXIgUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3h5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb3h5KHByb3h5TmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm94eU5hbWUgPSBwcm94eU5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dQcm94eSA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUHJveHkucHJvdG90eXBlLmdldFByb3h5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlOYW1lO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIFByb3h5Ll9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMTAyNDE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMyN0QwNENcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIlxuICAgIF07XG4gICAgcmV0dXJuIFByb3h5O1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLlByb3h5ID0gUHJveHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm94eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1cmVNVkMoKSB7XG4gICAgfVxuICAgIFB1cmVNVkMubG9nQ29tbWFuZCA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZE5hbWUpIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiID0+ICBcIiArIGNvbW1hbmROYW1lICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIjogYXJncyBbIFwiICsgYXJncyArIFwiIF0gJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTWVkaWF0b3IgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nUHJveHkgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm9uZSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncykge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgcmV0dXJuIFB1cmVNVkM7XG59KCkpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1cmVNVkMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJWaWV3IGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlldyhrZXkpIHtcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKFZpZXcuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH1cbiAgICBWaWV3LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBWaWV3KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucmVtb3ZlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24obm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmV2ZW50RW1pdHRlcikuZW1pdC5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWUsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhdG9yLmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG1lZGlhdG9yIGZvciByZXRyaWV2YWwgYnkgbmFtZVxuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSA9IG1lZGlhdG9yO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgbWVkaWF0b3Iub25SZWdpc3Rlcih0aGlzLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIGF3YWtlblxuICAgICAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVkaWF0b3IgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgbWVkaWF0b3Iub25SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKG1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBzbGVwdFxuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBmb3IgZXZlcnkgbm90aWZpY2F0aW9uIHRoZSBtZWRpYXRvciBpcyBpbnRlcmVzdGVkIGluLi4uXG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18xID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18xW19pXTtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmVzdFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGdldCBub3RpZmljYXRpb24gaW50ZXJlc3RzIGlmIGFueVxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIC8vIHJlZ2lzdGVyIG1lZGlhdG9yIGFzIGFuIG9ic2VydmVyIGZvciBlYWNoIG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzJbX2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBmdW5jdGlvbiAobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIFZpZXcuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gVmlldztcbn0oKSk7XG5leHBvcnRzLlZpZXcgPSBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlclwiKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyO1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0ZhY2FkZVwiKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlXzEuRmFjYWRlO1xudmFyIE1lZGlhdG9yXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTWVkaWF0b3JcIik7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3JfMS5NZWRpYXRvcjtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01vZGVsXCIpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsXzEuTW9kZWw7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Ob3RpZmllclwiKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcl8xLk5vdGlmaWVyO1xudmFyIFByb3h5XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHJveHlcIik7XG5leHBvcnRzLlByb3h5ID0gUHJveHlfMS5Qcm94eTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQ1wiKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkNfMS5QdXJlTVZDO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9WaWV3XCIpO1xuZXhwb3J0cy5WaWV3ID0gVmlld18xLlZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCJleHBvcnQgY2xhc3MgTmF2aWdhdGlvbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmQobm9kZSA9PiBub2RlLnggPT09IG90aGVyTm9kZS54XG4gICAgICAgICAgICAmJiBub2RlLnkgPT09IG90aGVyTm9kZS55ICYmIG5vZGUueiA9PT0gb3RoZXJOb2RlLnopICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlck5vZGUueCAmJiB0aGlzLnkgPT09IG90aGVyTm9kZS55ICYmIHRoaXMueiA9PT0gb3RoZXJOb2RlLno7XG4gICAgfVxuXG4gICAgZXF1YWxzUG9pbnQoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSB4ICYmIHRoaXMueSA9PT0geSAmJiB0aGlzLnogPT09IHo7XG4gICAgfVxuXG4gICAgYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKG90aGVyTm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMucHVzaChvdGhlck5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZUluZGV4ID0gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kSW5kZXgobm9kZSA9PiBub2RlLmVxdWFscyhvdGhlck5vZGUpKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5zcGxpY2UoY29ubmVjdGVkTm9kZUluZGV4LCAxKTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEdhbWVNYXBDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVNYXBDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZU1hcE1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lTWFwTWVkaWF0b3InO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZU1hcENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lTWFwTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZU1hcE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVNYXBNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcENvbXBvbmVudCB9IGZyb20gJy4vR2FtZU1hcENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNYXBNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQKTtcblxuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoYXBwKSB7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImNvbnN0IHsgR2FtZU1lZGlhdG9yIH0gPSByZXF1aXJlKCcuLi92aWV3L0dhbWVNZWRpYXRvcicpO1xuaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGUnO1xuaW1wb3J0IHsgR2FtZU1hcE1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lTWFwL0dhbWVNYXBNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG4gICAgLy8gR2V0IG5hdmlnYXRpb24gZmxvb3JzXG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVNYXBGbG9vcihhcHApO1xuICAgIGNvbnN0IHdhbGxzID0gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IGNvdmVyID0gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpO1xuXG5cbiAgICAvLyBSZWdpc3RlciBtZWRpYXRvcnNcblxuICAgIGlmIChmYWNhZGUuaGFzUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIC8vIHJlbW92ZSBvbGQgbWFwXG4gICAgICAgIGZhY2FkZS5yZW1vdmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSlcbiAgICB9XG5cbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShuZXcgR2FtZU1hcFByb3h5KGZsb29yR3JpZCwgd2FsbHMsIGNvdmVyKSk7XG4gICAgY29uc29sZS5sb2coJ01BUF9HUklEX0NSRUFURUQnKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcEZsb29yKGFwcCkge1xuICAgIGNvbnN0IG5hdmlnYXRpb25GbG9vcnMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ25hdmlnYXRpb25fZmxvb3InKTtcblxuICAgIGxldCBjb21wbGV0ZWRHcmlkID0gW107XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uQ29tcG9uZW50cyA9IFtdO1xuICAgIC8vIEZpcnN0IHBhcnNlIC0gY3JlYXRlIG5vZGVzIGFuZCBjb25uZWN0aW9ucyBmb3IgaW5kaXZpZHVhbCBcbiAgICAvLyBuYXZpZ2F0aW9uIGNvbXBvbmVudHNcbiAgICBmb3IgKGNvbnN0IGZsb29yRW50aXR5IG9mIG5hdmlnYXRpb25GbG9vcnMpIHtcbiAgICAgICAgY29uc3QgbmF2Q29tcCA9IGZsb29yRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgICAgICBuYXZpZ2F0aW9uQ29tcG9uZW50cy5wdXNoKG5hdkNvbXApO1xuXG4gICAgICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KVxuICAgICAgICBuYXZDb21wLnNldEdyaWQoZmxvb3JHcmlkKTtcbiAgICB9XG5cbiAgICAvLyBTZWNvbmQgcGFyc2UgLSBzdGl0Y2ggdG9nZXRoZXIgYWRqYWNlbnQgbm9kZXMgaW4gXG4gICAgLy8gY29ubmVjdGVkIG5hdmlnYXRpb24gbWVzaGVzXG4gICAgZm9yIChjb25zdCBuYXZpZ2F0aW9uQ29tcCBvZiBuYXZpZ2F0aW9uQ29tcG9uZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbm5lY3RlZENvbXBFbnRpdHkgb2YgbmF2aWdhdGlvbkNvbXAuY29ubmVjdGVkQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkTmF2Q29tcCA9IGNvbm5lY3RlZENvbXBFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG5cbiAgICAgICAgICAgIGpvaW5Ub0FkamFjZW50R3JpZChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCksIGNvbm5lY3RlZE5hdkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZEdyaWQgPSBjb21wbGV0ZWRHcmlkLmNvbmNhdChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBsZXRlZEdyaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcFdhbGxzKGFwcCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2FsbHNCb3VuZGluZ0JveGVzID0gW107XG4gICAgY29uc3QgbWFwV2FsbEVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCd3YWxsJyk7XG4gICAgZm9yIChjb25zdCBtYXBXYWxsRW50aXR5IG9mIG1hcFdhbGxFbnRpdGllcykge1xuICAgICAgICBjb25zdCBhYWJiID0gY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5KG1hcFdhbGxFbnRpdHkpO1xuICAgICAgICB3YWxsc0JvdW5kaW5nQm94ZXMucHVzaChhYWJiKTtcbiAgICAgICAgY3JlYXRlRmxvb3JVbmRlcldhbGxzKG1hcFdhbGxFbnRpdHksIGZsb29yR3JpZCk7XG4gICAgICAgIG1hcFdhbGxFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJldHVybiB3YWxsc0JvdW5kaW5nQm94ZXM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5KGJveEVudGl0eSkge1xuICAgIGNvbnN0IHNjYWxlID0gYm94RW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIGNvbnN0IGFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3goYm94RW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICByZXR1cm4gYWFiYjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmxvb3JVbmRlcldhbGxzKHdhbGwsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxQb3MgPSB3YWxsLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3Qgd2FsbFNjYWxlID0gd2FsbC5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgeSA9IE1hdGgucm91bmQod2FsbFBvcy55IC0gKHdhbGxTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZCh3YWxsUG9zLnggLSAod2FsbFNjYWxlLnggKiAwLjUpKTtcbiAgICBjb25zdCBjb3JuZXJaID0gTWF0aC5yb3VuZCh3YWxsUG9zLnogLSAod2FsbFNjYWxlLnogKiAwLjUpKTtcblxuICAgIGZvciAobGV0IHggPSBjb3JuZXJYOyB4IDwgY29ybmVyWCArIHdhbGxTY2FsZS54OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IGNvcm5lclo7IHogPCBjb3JuZXJaICsgd2FsbFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlSW5kZXggPSBmbG9vckdyaWQuZmluZEluZGV4KChub2RlKSA9PiBub2RlLmVxdWFsc1BvaW50KHgsIHksIHopKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZE5vZGVzID0gZmxvb3JHcmlkLnNwbGljZShtYXRjaGluZ05vZGVJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWROb2RlIG9mIGRlbGV0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZGVsZXRlZE5vZGUuY29ubmVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkTm9kZShkZWxldGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KSB7XG4gICAgLy8gc25hcCB0byBncmlkXG4gICAgY29uc3QgZ3JpZCA9IFtdO1xuXG4gICAgY29uc3QgZmxvb3JQb3NpdGlvbiA9IGZsb29yRW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBmbG9vclNpemUgPSBmbG9vckVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG5cbiAgICBjb25zdCBzbmFwcGVkV2lkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS54KTtcbiAgICBjb25zdCBzbmFwcGVkQnJlYWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLnopO1xuXG4gICAgY29uc3Qgc25hcHBlZFggPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueCAtIChzbmFwcGVkV2lkdGggLyAyKSk7XG4gICAgY29uc3Qgc25hcHBlZFkgPSBmbG9vclBvc2l0aW9uLnk7XG4gICAgY29uc3Qgc25hcHBlZFogPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueiAtIChzbmFwcGVkQnJlYWR0aCAvIDIpKTtcblxuICAgIGZvciAobGV0IHogPSBzbmFwcGVkWjsgeiA8IHNuYXBwZWRaICsgc25hcHBlZEJyZWFkdGg7IHorKykge1xuICAgICAgICBmb3IgKGxldCB4ID0gc25hcHBlZFg7IHggPCBzbmFwcGVkWCArIHNuYXBwZWRXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5hdmlnYXRpb25Ob2RlKHgsIHNuYXBwZWRZLCB6KTtcbiAgICAgICAgICAgIGdyaWQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWQpIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JpZDtcbn1cblxuZnVuY3Rpb24gam9pblRvQWRqYWNlbnRHcmlkKGdyaWQsIGdyaWRUb0pvaW4pIHtcbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkVG9Kb2luKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCkge1xuICAgIGxldCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGNvdmVyRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ2NvdmVyJyk7XG4gICAgZm9yIChjb25zdCBjb3ZlckVudGl0eSBvZiBjb3ZlckVudGl0aWVzKSB7XG4gICAgICAgIGNvdmVyUG9pbnRzID0gY292ZXJQb2ludHMuY29uY2F0KGNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94KGNvdmVyRW50aXR5LCBmbG9vckdyaWQpKTtcbiAgICAgICAgY292ZXJFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb3ZlclBvaW50RnJvbUJveChib3gsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IGNvdmVyUG9pbnRzID0gW107XG4gICAgY29uc3QgYm94UG9zID0gYm94LmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm94U2NhbGUgPSBib3guZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKGJveFBvcy55IC0gKGJveFNjYWxlLnkgKiAwLjUpKTtcblxuICAgIGNvbnN0IGNvcm5lclggPSBNYXRoLnJvdW5kKGJveFBvcy54IC0gKGJveFNjYWxlLnggKiAwLjUpKTtcbiAgICBjb25zdCBjb3JuZXJaID0gTWF0aC5yb3VuZChib3hQb3MueiAtIChib3hTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyBib3hTY2FsZS54OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IGNvcm5lclo7IHogPCBjb3JuZXJaICsgYm94U2NhbGUuejsgeisrKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlclBvaW50ID0gbmV3IHBjLlZlYzMoeCwgeSwgeik7XG4gICAgICAgICAgICBjb3ZlclBvaW50cy5wdXNoKGNvdmVyUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlSW5kZXggPSBmbG9vckdyaWQuZmluZEluZGV4KChub2RlKSA9PiBub2RlLmVxdWFsc1BvaW50KHgsIHksIHopKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZE5vZGVzID0gZmxvb3JHcmlkLnNwbGljZShtYXRjaGluZ05vZGVJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWROb2RlIG9mIGRlbGV0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZGVsZXRlZE5vZGUuY29ubmVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkTm9kZShkZWxldGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdmVyUG9pbnRzO1xuXG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG5cbiAgICBnZXRXZWFwb25DYXRlZ29yeSh3ZWFwb25OYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2F0ZWdvcnkgZm9yIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAvLyBSZWdpc3RlciBhcHAtbGV2ZWwgbWVkaWF0b3JzL3Byb3hpZXMvY29tbWFuZHMgaGVyZVxuXG4gICAgLy8gQ3JlYXRlIGdhbWUgc3RhdGUgcHJveHlcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVTdGF0ZVByb3h5KCkpO1xuXG4gICAgLy8gTG9hZCB3ZWFwb25zIGRhdGEgYW5kIGNyZWF0ZSBwcm94eVxuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgaWYgKGFwcCkge1xuICAgICAgICBjb25zdCB3ZWFwb25zRGF0YSA9IGFwcC5hc3NldHMuZ2V0KDQwNDE1NjMxKS5yZXNvdXJjZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBXZWFwb25zUHJveHkod2VhcG9uc0RhdGEpKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVNjZW5lQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgc2NlbmVOYW1lID0gYXJnc1swXTtcbiAgICBjb25zb2xlLmxvZyhgQ2hhbmdpbmcgc2NlbmUgJHtzY2VuZU5hbWV9YCk7XG5cbiAgICAvLyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgcm9vdCBvYmplY3RcbiAgICBjb25zdCBvbGRIaWVyYXJjaHkgPSBhcHAucm9vdC5maW5kQnlOYW1lKCdSb290Jyk7XG5cbiAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIHNjZW5lXG4gICAgY29uc3Qgc2NlbmUgPSBhcHAuc2NlbmVzLmZpbmQoc2NlbmVOYW1lKTtcblxuICAgIC8vIExvYWQgdGhlIHNjZW5lcyBlbnRpdHkgaGllcmFyY2h5XG4gICAgYXBwLnNjZW5lcy5sb2FkU2NlbmVIaWVyYXJjaHkoc2NlbmUudXJsLCBmdW5jdGlvbiAoZXJyLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGlmIChvbGRIaWVyYXJjaHkpIHtcbiAgICAgICAgICAgICAgICBvbGRIaWVyYXJjaHkuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHNjZW5lTmFtZSk7XG5cbiAgICB9KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aFxuICAgIGxldCB0ZW1wb3JhcnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSAtMTtcblxuICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlLi4uXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xuXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxuICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJbmRleCAtPSAxO1xuXG4gICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xuICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBzaHVmZmxlQXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy9TaHVmZmxlQXJyYXknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBDb21iYXRWTyB9ID0gcmVxdWlyZSgnLi9Db21iYXRWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBDb21iYXRQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDb21iYXRQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHN1cGVyKENvbWJhdFByb3h5Lk5BTUUsIG5ldyBDb21iYXRWTyhwYXJ0aWNpcGFudHMsIHRlYW1zKSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5zZXQocGFydGljaXBhbnQsIHBhcnRpY2lwYW50UHJveHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFR1cm4oKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlO1xuXG4gICAgICAgIGlmIChyb3VuZEluaXRpYXRpdmUgJiYgcm91bmRJbml0aWF0aXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUdXJuSWQgPSByb3VuZEluaXRpYXRpdmUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSBuZXh0VHVybklkO1xuXG4gICAgICAgICAgICBpZiAobmV4dFR1cm5JZCAhPT0gJ2VuZF9yb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBOZXh0IFR1cm5cbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBUdXJuICR7bmV4dFR1cm5JZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMucGFydGljaXBhbnRQcm94aWVzLmdldChuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICBwcm94eS5yZXNldENvbWJhdFR1cm5TdGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3h5LmlzTlBDKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQgcm91bmRcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBFbmQgcm91bmRgKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFJvdW5kKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vICBOZXcgcm91bmQgIC8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zdCBpbml0aWF0aXZlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtjaGFyYWN0ZXJJZCwgcHJveHldIG9mIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgdm8gPSBwcm94eS52bztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm8uaW5pdGlhdGl2ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhdGl2ZXMucHVzaChjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdGlhdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBFdmVyeW9uZSBpcyBvdXQgb2YgdGhlIGNvbWJhdCBzb21laG93LCBwcm9iYWJseSBkZWFkXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBlbmQgb2Ygcm91bmQgdG9rZW5cbiAgICAgICAgaW5pdGlhdGl2ZXMucHVzaCgnZW5kX3JvdW5kJyk7XG5cbiAgICAgICAgbGV0IHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShpbml0aWF0aXZlcyk7XG4gICAgICAgIC8vIGVuc3VyZSByb3VuZCBkb2Vzbid0IHN0YXJ0IHdpdGggXCJlbmRfcm91bmRcIlxuICAgICAgICB3aGlsZSAoc2h1ZmZsZWRJbml0aWF0aXZlWzBdID09PSBcImVuZF9yb3VuZFwiKSB7XG4gICAgICAgICAgICBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoc2h1ZmZsZWRJbml0aWF0aXZlKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSBzaHVmZmxlZEluaXRpYXRpdmU7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm5leHRUdXJuQ2hhcmFjdGVySWQ7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGl2ZVBhcnRpY2lwYW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudDtcbiAgICB9XG5cbiAgICBzZXQgYWN0aXZlUGFydGljaXBhbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnBhcnRpY2lwYW50cztcbiAgICB9XG5cbiAgICBnZXQgdGVhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnRlYW1zO1xuICAgIH1cblxuICAgIHJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcGFydGljY2lwYW50c1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5kZWxldGUoY2hhcmFjdGVySWQpO1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBpbml0aWF0aXZlXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmUuZmlsdGVyKGUgPT4gZSAhPT0gY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdGVhbV0gb2YgdGhpcy50ZWFtcy5lbnRyaWVzKCkpIHtcblxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVySW5kZXggPSB0ZWFtLmluZGV4T2YoY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgaWYgKGNoYXJhY3RlckluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZWFtLnNwbGljZShjaGFyYWN0ZXJJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZWFtLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydENvbWJhdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBpbnN0aWdhdGluZ0NoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiU3RhcnQgQ29tYmF0XCIpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCk7XG5cbiAgICBjb25zdCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpbnN0aWdhdGluZ0NoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwic3BvdHRlZFwiLCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5KTtcblxuXG4gICAgLy8gU2V0dXAgdGhlIGNvbWJhdFxuICAgIGNvbnN0IHRlYW1zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBsYXllclRlYW0gPSBbJ3BsYXllciddO1xuICAgIHRlYW1zLnNldCgncGxheWVyX3RlYW0nLCBwbGF5ZXJUZWFtKTtcblxuICAgIGNvbnN0IG9wcG9zaW5nVGVhbSA9IFtpbnN0aWdhdGluZ0NoYXJhY3RlcklkXS5jb25jYXQoaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jb21iYXRHcm91cCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3M7XG4gICAgfSk7XG4gICAgdGVhbXMuc2V0KCdvcHBvc2luZ190ZWFtJywgb3Bwb3NpbmdUZWFtKTtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHBsYXllclRlYW0uY29uY2F0KG9wcG9zaW5nVGVhbSk7XG5cblxuICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfTU9WRU1FTlQgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgIGlmIChwYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgcGFydGljaXBhbnQsIHBsYXllclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBuZXcgQ29tYmF0UHJveHkocGFydGljaXBhbnRzLCB0ZWFtcyk7XG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkoY29tYmF0UHJveHkpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgfSwgMjAwMCk7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0VHVybigpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0Um91bmRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRSb3VuZCgpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG5cbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS5uZXh0VHVybkNoYXJhY3RlcklkKTtcbiAgICB9LCA1MDApO1xufVxuIiwiZXhwb3J0IGNsYXNzIEJlaGF2aW91clN0YXR1cyB7XG4gICAgc3RhdGljIGdldCBTVUNDRVNTKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgRkFJTFVSRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IFJVTk5JTkcoKSB7IHJldHVybiAyIH07XG4gICAgc3RhdGljIGdldCBFUlJPUigpIHsgcmV0dXJuIDMgfTtcbn0iLCJpbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBjcmVhdGVVVUlEIH0gZnJvbSAnLi4vLi4vdXRpbHMvR1VJRCc7XG5cbmV4cG9ydCBjbGFzcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBbXTtcbiAgICB9XG5cbiAgICBleGVjdXRlKHRpY2spIHtcbiAgICAgICAgLyogRU5URVIgKi9cbiAgICAgICAgdGhpcy5fZW50ZXIodGljayk7XG5cbiAgICAgICAgLyogT1BFTiAqL1xuICAgICAgICBpZiAoIXRpY2suYmxhY2tib2FyZC5nZXQoJ2lzT3BlbicsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29wZW4odGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBUSUNLICovXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuX3RpY2sodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgKi9cbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogRVhJVCAqL1xuICAgICAgICB0aGlzLl9leGl0KHRpY2spO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgX2VudGVyKHRpY2spIHtcbiAgICAgICAgdGljay5lbnRlck5vZGUodGhpcyk7XG4gICAgICAgIHRoaXMuZW50ZXIodGljayk7XG4gICAgfVxuXG4gICAgX29wZW4odGljaykge1xuICAgICAgICB0aWNrLm9wZW5Ob2RlKHRoaXMpO1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdpc09wZW4nLCB0cnVlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLm9wZW4odGljayk7XG4gICAgfVxuXG4gICAgX3RpY2sodGljaykge1xuICAgICAgICB0aWNrLnRpY2tOb2RlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy50aWNrKHRpY2spO1xuICAgIH1cblxuICAgIF9jbG9zZSh0aWNrKSB7XG4gICAgICAgIHRpY2suY2xvc2VOb2RlKHRoaXMpO1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdpc09wZW4nLCBmYWxzZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5jbG9zZSh0aWNrKTtcbiAgICB9XG5cbiAgICBfZXhpdCh0aWNrKSB7XG4gICAgICAgIHRpY2suZXhpdE5vZGUodGhpcyk7XG4gICAgICAgIHRoaXMuZXhpdCh0aWNrKTtcbiAgICB9XG5cbiAgICAvLyBPdmVyaWRlIHRoZXNlXG4gICAgZW50ZXIodGljaykgeyB9XG4gICAgb3Blbih0aWNrKSB7IH1cbiAgICB0aWNrKHRpY2spIHsgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUiB9XG4gICAgY2xvc2UodGljaykgeyB9XG4gICAgZXhpdCh0aWNrKSB7IH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlVVVJRCgpIHtcbiAgICB2YXIgcyA9IFtdO1xuICAgIHZhciBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM2OyBpKyspIHtcbiAgICAgICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuICAgIH1cbiAgICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcbiAgICBzWzE0XSA9IFwiNFwiO1xuXG4gICAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcbiAgICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7XG5cbiAgICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XG5cbiAgICB2YXIgdXVpZCA9IHMuam9pbihcIlwiKTtcbiAgICByZXR1cm4gdXVpZDtcblxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1hc3Rlck5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZS5leGVjdXRlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgQmxhY2tib2FyZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMuYmFzZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIGdsb2JhbCBpbmZvcm1hdGlvblxuICAgICAgICB0aGlzLnRyZWVNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSB0cmVlIGFuZCBub2RlIGluZm9ybWF0aW9uXG4gICAgfVxuXG4gICAgZ2V0VHJlZU1lbW9yeSh0cmVlU2NvcGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSkge1xuICAgICAgICAgICAgdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0gPSB7XG4gICAgICAgICAgICAgICAgbm9kZU1lbW9yeToge30sXG4gICAgICAgICAgICAgICAgb3Blbk5vZGVzOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0Tm9kZU1lbW9yeSh0cmVlTWVtb3J5LCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdHJlZU1lbW9yeVsnbm9kZU1lbW9yeSddO1xuICAgICAgICBpZiAoIW1lbW9yeS5oYXNPd25Qcm9wZXJ0eShub2RlU2NvcGUpKSB7XG4gICAgICAgICAgICBtZW1vcnlbbm9kZVNjb3BlXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeVtub2RlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICB2YXIgbWVtb3J5ID0gdGhpcy5iYXNlTWVtb3J5O1xuXG4gICAgICAgIGlmICh0cmVlU2NvcGUpIHtcbiAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0VHJlZU1lbW9yeSh0cmVlU2NvcGUpO1xuXG4gICAgICAgICAgICBpZiAobm9kZVNjb3BlKSB7XG4gICAgICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXROb2RlTWVtb3J5KG1lbW9yeSwgbm9kZVNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnk7XG4gICAgfTtcblxuICAgIHNldChrZXksIHZhbHVlLCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIG1lbW9yeVtrZXldID0gdmFsdWU7XG4gICAgfTtcblxuICAgIGdldChrZXksIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgcmV0dXJuIG1lbW9yeVtrZXldO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgVGljayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmRlYnVnID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVudGVyTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMubm9kZUNvdW50Kys7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnB1c2gobm9kZSk7XG4gICAgfVxuXG4gICAgb3Blbk5vZGUobm9kZSkge1xuXG4gICAgfVxuXG4gICAgdGlja05vZGUobm9kZSkge1xuXG4gICAgfVxuXG4gICAgY2xvc2VOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucG9wKCk7XG4gICAgfVxuXG4gICAgZXhpdE5vZGUobm9kZSkge1xuXG4gICAgfVxufSIsImltcG9ydCB7IFRpY2sgfSBmcm9tIFwiLi9UaWNrXCI7XG5cbmV4cG9ydCBjbGFzcyBCZWhhdmlvdXJUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoaWQpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdGljayh0YXJnZXQsIGJsYWNrYm9hcmQpIHtcbiAgICAgICAgLyogQ1JFQVRFIEEgVElDSyBPQkpFQ1QgKi9cbiAgICAgICAgY29uc3QgdGljayA9IG5ldyBUaWNrKCk7XG4gICAgICAgIHRpY2sudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQgPSBibGFja2JvYXJkO1xuICAgICAgICB0aWNrLnRyZWUgPSB0aGlzO1xuXG4gICAgICAgIC8qIFRJQ0sgTk9ERSAqL1xuICAgICAgICB0aGlzLnJvb3QuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSBOT0RFUyBGUk9NIExBU1QgVElDSywgSUYgTkVFREVEICovXG4gICAgICAgIGNvbnN0IGxhc3RPcGVuTm9kZXMgPSBibGFja2JvYXJkLmdldCgnb3Blbk5vZGVzJywgdGhpcy5pZCkgfHwgW107XG4gICAgICAgIGNvbnN0IGN1cnJPcGVuTm9kZXMgPSB0aWNrLm9wZW5Ob2Rlcy5zbGljZSgwKTtcblxuICAgICAgICAvLyBkb2VzIG5vdCBjbG9zZSBpZiBpdCBpcyBzdGlsbCBvcGVuIGluIHRoaXMgdGlja1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGxhc3RPcGVuTm9kZXMubGVuZ3RoLCBjdXJyT3Blbk5vZGVzLmxlbmd0aCk7IGkrKykge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIGlmIChsYXN0T3Blbk5vZGVzW2ldICE9PSBjdXJyT3Blbk5vZGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbG9zZSB0aGUgbm9kZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGxhc3RPcGVuTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgaS0tKSB7XG4gICAgICAgICAgICBsYXN0T3Blbk5vZGVzW2ldLmNsb3NlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogUE9QVUxBVEUgQkxBQ0tCT0FSRCAqL1xuICAgICAgICBibGFja2JvYXJkLnNldCgnb3Blbk5vZGVzJywgY3Vyck9wZW5Ob2RlcywgdGhpcy5pZCk7XG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdub2RlQ291bnQnLCB0aWNrLm5vZGVDb3VudCwgdGhpcy5pZCk7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmxhY2tib2FyZCB9IGZyb20gJy4uL2NvcmUvQmxhY2tib2FyZCc7XG5pbXBvcnQgeyBCZWhhdmlvdXJUcmVlIH0gZnJvbSAnLi4vY29yZS9CZWhhdmlvdXJUcmVlJztcblxuZXhwb3J0IGNsYXNzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmlkID0gJ2Jhc2ljTWVsZWVUcmVlJztcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gbmV3IEJsYWNrYm9hcmQoKTtcbiAgICAgICAgdGhpcy50cmVlID0gbmV3IEJlaGF2aW91clRyZWUoaWQpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIC8vIE92ZXJyaWRlIHRvIHNldCB0cmVlXG4gICAgfVxuXG4gICAgcnVuQ29tbWFuZHMoZmFjYWRlLCBjaGFyYWN0ZXJJZCkge1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiZmFjYWRlXCIsIGZhY2FkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImNoYXJhY3RlcklkXCIsIGNoYXJhY3RlcklkLCB0aGlzLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRyZWUudGljayh0aGlzLCB0aGlzLmJsYWNrYm9hcmQpO1xuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBQcmlvcml0eSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFNldFBsYXllckFzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCd0YXJnZXQnLCAncGxheWVyJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgTWVsZWVBdHRhY2tUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGF0dGFja2VySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkZWZlbmRlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgRW5kQ29tYmF0VHVybiBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzTW92ZW1lbnRSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNOZXh0VG9QbGF5ZXIgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJOb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGNoYXJhY3RlckN1cnJlbnROb2RlKSk7XG5cbiAgICAgICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1lbVNlcXVlbmNlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIG9wZW4odGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdydW5uaW5nQ2hpbGQnLCAwLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgIH1cblxuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3J1bm5pbmdDaGlsZCcsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuY2hpbGRyZW5baV0uZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdydW5uaW5nQ2hpbGQnLCBpLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cblxufSIsIlxuaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi9CZWhhdmlvdXJTdGF0dXMnO1xuZXhwb3J0IGNsYXNzIEludmVydGVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuXG4gICAgICAgIC8vIHByZXN1bWUgaW52ZXJ0ZXIgaGFzIG9uZSBjaGlsZFxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIGlmIChzdGF0dXMgPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpXG4gICAgICAgICAgICBzdGF0dXMgPSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzVGFyZ2V0RGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3VycmVudE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlcmUgaXMgYSBub2RlIHRvIG1vdmUgdG8gXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNEZWFkIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBIYXNBY3Rpb25zUmVtYWluaW5nIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgTWVsZWVBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IElzTmV4dFRvUGxheWVyIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0JztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNNZWxlZVRyZWUgZXh0ZW5kcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2Jhc2ljTWVsZWVUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IElzTmV4dFRvUGxheWVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVsZWVBdHRhY2tUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEJhc2ljTWVsZWVUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmVteVR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZW5lbXlJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBlbmVteVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBlbmVteUlkKTtcbiAgICBjb25zdCBlbmVteUN1cnJlbnROb2RlID0gZW5lbXlQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJOb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIGlzIGFscmVhZHkgYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhlbmVteUN1cnJlbnROb2RlKSk7XG5cbiAgICBjb25zdCBiYXNpY01lbGVlVHJlZSA9IG5ldyBCYXNpY01lbGVlVHJlZSgpO1xuICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG5cbiAgICAvKi8vIHdlJ3JlIGFscmVhZHkgdGhlcmVcbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGVuZW15UHJveHkuaWQsIHBsYXllclByb3h5LmlkKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoZW5lbXlDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoZW5lbXlDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChlbmVteUN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICBjb25zdCB2byA9IGVuZW15UHJveHkudm87XG4gICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgIGNvbnN0IGVuZFBvaW50ID0gcGF0aFswXTtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50SXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhlbmRQb2ludCkpO1xuXG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRJc0FkamFjZW50KSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBlbmVteUlkLCBcInBsYXllclwiLCBwYXRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBlbmVteUlkLCBwYXRoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBlbmVteVByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDE1MDApO1xuICAgIH0qL1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHlcIjtcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0ZWROb2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBub2RlID0gYXJnc1swXTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyBcInBsYXllclwiLCBub2RlKTtcbiAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHZvID0gZ2FtZUNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcbiAgICBjb25zb2xlLmxvZyh2byk7XG4gICAgY29uc29sZS5sb2cobW92ZWFibGVOb2Rlcyk7XG4gICAgY29uc29sZS5sb2codGFyZ2V0Tm9kZSk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIG1vdmVhYmxlTm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuZXF1YWxzKHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICBoYW5kbGVWYWxpZE1vdmUoZmFjYWRlLCBnYW1lQ2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVWYWxpZE1vdmUoZmFjYWRlLCBjaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSkge1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgodm8uY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB2by5hdmFpbGFibGVNb3ZlbWVudCAtPSAocGF0aC5sZW5ndGggLSAxKTsgLy8gRGV0cmFjdCBieSBvbmUuLi4gdGhlIGZpcnN0IHBhdGggbm9kZSBkb2Vzbid0IGNvdW50XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdm8uaWQsIHBhdGgpO1xuICAgIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB3YWxrYWJsZU5vZGVzID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHdhbGthYmxlVGlsZUFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDAyMzU5NjYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygd2Fsa2FibGVOb2Rlcykge1xuICAgICAgICBjb25zdCB0aWxlID0gd2Fsa2FibGVUaWxlQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgdGlsZS5zZXRMb2NhbFBvc2l0aW9uKG5vZGUueCwgbm9kZS55LCBub2RlLnopO1xuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGlsZSk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHdhbGthYmxlVGlsZUVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCd3YWxrYWJsZV90aWxlJyk7XG4gICAgZm9yIChjb25zdCB3YWxrYWJsZVRpbGVFbnRpdHkgb2Ygd2Fsa2FibGVUaWxlRW50aXRpZXMpIHtcbiAgICAgICAgd2Fsa2FibGVUaWxlRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1dBTEtBQkxFX0FSRUEsIG1vdmVhYmxlTm9kZXMpO1xuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tIFwiLi9HYW1lQ29tbWFuZHNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZE1vdmVtZW50Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZE5vZGUgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGVuZE5vZGU7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBpZiAoZ2FtZVN0YXRlLmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcbiAgICAgICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KGNoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoY3VycmVudE5vZGUueCxcbiAgICAgICAgY3VycmVudE5vZGUueSArIGNoYXJhY3RlclByb3h5LmhlaWdodCAqIDAuNSxcbiAgICAgICAgY3VycmVudE5vZGUueik7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlckVudGl0eSA9IGFyZ3NbMF07XG4gICAgY29uc3QgaWQgPSBnYW1lQ2hhcmFjdGVyRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgY29uc3Qgd2VhcG9uUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25Qcm94eS5nZXRXZWFwb25DYXRlZ29yeShwbGF5ZXJDaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJyAmJiB3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk5vIGxpbmUgb2Ygc2lnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgICAgICBpZiAocGF0aFRvVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBcInBsYXllclwiLCBwYXRoVG9UYXJnZXQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKCFjb21iYXRQcm94eSB8fCBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgLy8gbm90IHlvdXIgdHVyblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllckNoYXJhY3RlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgPD0gMCkge1xuICAgICAgICAgICAgLy8gb3V0IG9mIGFjdGlvbnNcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiT3V0IG9mIGFjdGlvbnNcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2VhcG9uQ2F0ZWdvcnkgPT09IFwicmFuZ2VkXCIpIHtcbiAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgXCJwbGF5ZXJcIiwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk5vIGxpbmUgb2Ygc2lnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgICAgICAvLyBwYXRoIGxlbmd0aCBpbmNsdWRlcyBjdXJyZW50IG5vZGUsIHNvIGRlZHVjdCBvbiB0byB3b3JrIG91dCBhY3R1YWwgbW92ZWFibGUgZGlzdGFuY2VcbiAgICAgICAgICAgICAgICBpZiAocGF0aFRvVGFyZ2V0ICYmIHBhdGhUb1RhcmdldC5sZW5ndGggLSAxIDw9IHBsYXllckNoYXJhY3RlclByb3h5LnZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgd2VhcG9uIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuaWQsIHBhdGhUb1RhcmdldCk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBwYXRoVG9UYXJnZXQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIkNhbm5vdCByZWFjaCB0YXJnZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHRhcmdldEN1cnJyZW50Tm9kZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgcmV0dXJuIGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh0YXJnZXRDdXJycmVudE5vZGUpKTtcbn1cblxuZnVuY3Rpb24gY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgcGxheWVyUG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHBsYXllckNoYXJhY3RlclByb3h5KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuXG4gICAgcmV0dXJuICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwocGxheWVyUG9pbnQsIHRhcmdldFBvaW50KTtcbn1cbiIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc3QgYnV0dG9uTmFtZSA9IGFyZ3NbMV07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSBhY3Rpb25OYW1lKSB7XG4gICAgICAgIC8vIERlc2VsZWN0IGFjdGlvblxuICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJub25lXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IGFjdGlvbk5hbWU7XG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT04sIGJ1dHRvbk5hbWUpO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25UeXBlcyB9IGZyb20gJy4uL2RhdGEvV2VhcG9uVHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgY29uc3QgZGVmZW5kZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIC8vIERldGVybWluZSB3aW5uZXJcbiAgICBpZiAoYXR0YWNrZXJSb2xsID09PSBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEF0dGFjayB0aWVkKCR7YXR0YWNrZXJSb2xsfS8ke2RlZmVuZGVyUm9sbH0pYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGF0dGFja2VyUm9sbCA+IGRlZmVuZGVyUm9sbCkge1xuICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlVGllciA9IGRldGVybWluZURhbWFnZVRpZXIoYXR0YWNrZXJSb2xsLCBkZWZlbmRlclJvbGwpO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uc1Byb3h5LmdldERhbWFnZShhdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGRlZmVuZGVyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgIGlmIChkZWZlbmRlclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbkNhdGVnb3J5ID0gd2VhcG9uc1Byb3h5LmdldFdlYXBvbkNhdGVnb3J5KGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24pO1xuICAgICAgICAgICAgY29uc3QgaGFzTWVsZWVXZWFwb24gPSB3ZWFwb25DYXRlZ29yeSA9PT0gXCJtZWxlZVwiO1xuXG4gICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihkZWZlbmRlclJvbGwsIGF0dGFja2VyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb24gPSAoaGFzTWVsZWVXZWFwb24pID8gZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA6IFdlYXBvblR5cGVzLlVOQVJNRUQ7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKHdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBhdHRhY2tlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtkZWZlbmRlcklkfSBkYW1hZ2VzICR7YXR0YWNrZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICAgICAgaWYgKGF0dGFja2VyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgYXR0YWNrZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5mdW5jdGlvbiByb2xsQXR0YWNrU2tpbGwoc2tpbGwpIHtcbiAgICByZXR1cm4gc2tpbGwgKyByb2xsRGljZSgpICsgcm9sbERpY2UoKTtcbn1cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0SWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IHBhdGggPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS51c2VNb3ZlbWVudChwYXRoLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cbiAgICBjb25zdCBmaW5pc2hNb3ZlUHJvbWlzZSA9IGNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCk7XG4gICAgZmluaXNoTW92ZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgY2hhcmFjdGVySWQsIHRhcmdldElkKTtcblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuXG5leHBvcnQgZnVuY3Rpb24ga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZGVhdGhcIiwgY2hhcmFjdGVyUHJveHkpO1xuXG4gICAgaWYgKGNoYXJhY3RlclByb3h5KSB7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkpIHtcbiAgICAgICAgY29tYmF0UHJveHkucmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdChjaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBsb3NpbmdUZWFtID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGlmIChmYWNhZGUuaGFzTWVkaWF0b3IoQ29tYmF0UHJveHkuTkFNRSkpIHtcbiAgICAgICAgZmFjYWRlLnJlbW92ZU1lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIH1cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuXG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuXG4gICAgaWYgKGxvc2luZ1RlYW0gPT09ICdwbGF5ZXJfdGVhbScpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEdhbWUgT3ZlcmApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBWaWN0b3J5YCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFJhbmdlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihtaW5EaXN0YW5jZSwgbWF4RGlzdGFuY2UpIHtcbiAgICAgICAgc3VwZXIoW10pO1xuICAgICAgICB0aGlzLm1pbkRpc3RhbmNlID0gbWluRGlzdGFuY2U7XG4gICAgICAgIHRoaXMubWF4RGlzdGFuY2UgPSBtYXhEaXN0YW5jZTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgbWluRGlzdGFuY2VTcXJ0ID0gTWF0aC5wb3codGhpcy5taW5EaXN0YW5jZSwgMik7XG4gICAgICAgIGNvbnN0IG1heERpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWF4RGlzdGFuY2UsIDIpO1xuXG4gICAgICAgIGNvbnN0IG1vdmVQb2ludHNBdmFpbGFibGUgPSBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgY2hhcmFjdGVyQ3VycmVudE5vZGUpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA+PSBtaW5EaXN0YW5jZVNxcnQgJiYgZGlzdGFuY2VUb1RhcmdldCA8PSBtYXhEaXN0YW5jZVNxcnQpIHtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgd2l0aGluIHJhbmdlLCBnZXQgb24gd2l0aCBpdFxuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbW92ZVBvaW50c0F2YWlsYWJsZSk7XG4gICAgICAgICAgICBpZiAobW92ZWFibGVOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPCBtaW5EaXN0YW5jZVNxcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGNsb3NlXG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb28gZmFyIGF3YXlcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBtb3ZlYWJsZU5vZGVzLnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMikgKyBNYXRoLnBvdyhwMi56IC0gcDEueiwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgUGlja05leHRBY3Rpb24gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBDYW5TZWVUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIC8vIExvb2sgdG8gdGhlIGNlbnRlciBvZiBlYWNoIGNoYXJhY3RlclxuICAgICAgICBjb25zdCBmcm9tUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb2xsb3cgcGF0aCB0byBzZWUgaWYgdGFyZ2V0IGlzIHZpc2libGUgZnJvbSBhbnkgcG9pbnRcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhOb2RlID0gcGF0aFtpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tUG9zID0gbmV3IHBjLlZlYzMocGF0aE5vZGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS56KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmltIHRvIHBvaW50IG9mIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICBwYXRoLnNwbGljZSgwLCBkZWxldGVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJhbmdlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0JztcbmltcG9ydCB7IFBpY2tOZXh0QWN0aW9uIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uJztcbmltcG9ydCB7IENhblNlZVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNSYW5nZWRUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY1JhbmdlZFRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgQ2FuU2VlVGFyZ2V0KCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCg5LCAxMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGlja05leHRBY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5TZWVUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlQXR0YWNrVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiXG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgQmFzaWNSYW5nZWRUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuXG4gICAgc3dpdGNoIChlbmVteVByb3h5LmJvdEJlaGF2aW91cikge1xuICAgICAgICBjYXNlIEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICAgICAgICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQ6XG4gICAgICAgICAgICBjb25zdCBiYXNpY1JhbmdlZFRyZWUgPSBuZXcgQmFzaWNSYW5nZWRUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY1JhbmdlZFRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgLy8gU2NvcmVzIGZvciBjb21wYXJpc3NvblxuICAgIGxldCBhdHRhY2tlclNjb3JlID0gMDtcbiAgICBsZXQgZGVmZW5kZXJTY29yZSA9IDA7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBhdHRhY2tlck5vZGUgPSBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGxldCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBsZXQgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJOb2RlID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgYXR0YWNrZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgZGVmZW5kZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGlzSW5Db3ZlciA9IGdhbWVNYXBQcm94eS5pc0luQ292ZXIoXG4gICAgICAgIG5ldyBwYy5WZWMzKGRlZmVuZGVyTm9kZS54LCBkZWZlbmRlck5vZGUueSwgZGVmZW5kZXJOb2RlLnopLFxuICAgICAgICBuZXcgcGMuVmVjMyhhdHRhY2tlck5vZGUueCwgYXR0YWNrZXJOb2RlLnksIGF0dGFja2VyTm9kZS56KSk7XG5cbiAgICBpZiAoaXNJbkNvdmVyKSB7XG4gICAgICAgIGRlZmVuZGVyU2NvcmUgKz0gMjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZG9kZ2VcIiwgZGVmZW5kZXJQcm94eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBXZWFwb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgTXVzdCBjaGFuZ2Ugd2VhcG9uIG9uIHlvdXIgdHVybmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHdlYXBvbiA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uID0gd2VhcG9uO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7Y2hhcmFjdGVySWR9IGVxdWlwcyAke3dlYXBvbn1gKTtcblxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc3RhbmRpbmdOb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZShzdGFuZGluZ1Bvc2l0aW9uKTtcbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgcGxheWVyTWVkaWF0b3IubW92ZVRvTm9kZVdpdGhQcm9taXNlKHN0YW5kaW5nTm9kZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgZGVzdGluYXRpb25TY2VuZSk7XG4gICAgICAgIH0pO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHBhcnNlR2FtZU1hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydHVwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydHVwQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VTY2VuZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0Q29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0Um91bmRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgZW5lbXlUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kJztcbmltcG9ydCB7IHNob3dXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kJztcbmltcG9ydCB7IGVuZE1vdmVtZW50Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVBsYXllckFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Nb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IGVuZENvbWJhdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGVxdWlwV2VhcG9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FcXVpcFdlYXBvbkNvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kJztcblxuZXhwb3J0IGNsYXNzIEdhbWVGYWNhZGUgZXh0ZW5kcyBGYWNhZGUge1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShrZXkpIHtcbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgR2FtZUZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IEtFWSgpIHsgcmV0dXJuIFwiQ2Fjb2dlblwiIH07XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDYWNvZ2VuRmFjYWRlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUVVAoKSB7IHJldHVybiBHYW1lRmFjYWRlLk5BTUUgKyBcIlN0YXJ0VXBcIiB9O1xuXG4gICAgc3RhcnR1cChnYW1lKSB7XG4gICAgICAgIHRoaXMuc2VuZE5vdGlmaWNhdGlvbihHYW1lRmFjYWRlLlNUQVJUVVAsIGdhbWUpO1xuICAgIH1cblxuICAgIHNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzdXBlci5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDb250cm9sbGVyKCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lRmFjYWRlLlNUQVJUVVAsIHN0YXJ0dXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgY2hhbmdlU2NlbmVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHBhcnNlR2FtZU1hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBzdGFydENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgbmV4dENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5ELCBuZXh0Q29tYmF0Um91bmRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTiwgZW5kQ29tYmF0VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5FTVlfVFVSTiwgZW5lbXlUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RFRF9OT0RFLCBzZWxlY3RlZE5vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TSE9XX1dBTEtBQkxFX0FSRUEsIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSwgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgZW5kTW92ZW1lbnRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9HQU1FX0NIQVJBQ1RFUiwgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgY2hhbmdlUGxheWVyQWN0aW9uQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCByZXNvbHZlQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBlbmRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgZXF1aXBXZWFwb25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLCBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgQm90QmVoYXZpb3VyVHlwZXMge1xuICAgIHN0YXRpYyBnZXQgTk9ORSgpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEJBU0lDX01FTEVFKCkgeyByZXR1cm4gMSB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfUkFOR0VEKCkgeyByZXR1cm4gMiB9O1xuXG59XG5cbmV4cG9ydCBjb25zdCBib3RCZWhhdmlvdXJFbnVtcyA9IFtcbiAgICB7IE5PTkU6IEJvdEJlaGF2aW91clR5cGVzLk5PTkUgfSxcbiAgICB7IEJBU0lDX01FTEVFOiBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRSB9LFxuICAgIHsgQkFTSUNfUkFOR0VEOiBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQgfSxcbl0iLCJleHBvcnQgY2xhc3MgR2FtZUNvbW1hbmRzIHtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORV9DT01QTEVURSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFQUF9JTklUSUFMSVNFRCgpIHsgcmV0dXJuIFwiQVBQX0lOSVRJQUxJU0VEXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBBUlNFX0dBTUVNQVAoKSB7IHJldHVybiBcIlBBUlNFX0dBTUVNQVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFQX0dSSURfQ1JFQVRFRCgpIHsgcmV0dXJuIFwiTUFQX0dSSURfQ1JFQVRFRFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwoKSB7IHJldHVybiBcIk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENPTUJBVF9OQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJDT01CQVRfTkFWSUdBVEVfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0FNRVJBX1RBUkdFVCgpIHsgcmV0dXJuIFwiU0VUX0NBTUVSQV9UQVJHRVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgSU5QVVRfRFJBR19NT1VTRSgpIHsgcmV0dXJuIFwiSU5QVVRfRFJBR19NT1VTRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE1PVkVEX1RPX05PREUoKSB7IHJldHVybiBcIk1PVkVEX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgRklOSVNIRURfTU9WRSgpIHsgcmV0dXJuIFwiRklOSVNIRURfTU9WRVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVF9DT01CQVQoKSB7IHJldHVybiBcIlNUQVJUX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX1RPQVNUX01FU1NBR0UoKSB7IHJldHVybiBcIlNIT1dfVE9BU1RfTUVTU0FHRVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfUk9VTkQoKSB7IHJldHVybiBcIk5FWFRfQ09NQkFUX1JPVU5EXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVCgpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVFwiIH07XG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUX1RVUk4oKSB7IHJldHVybiBcIkVORF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBFTkVNWV9UVVJOKCkgeyByZXR1cm4gXCJFTkVNWV9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVEVEX05PREUoKSB7IHJldHVybiBcIlNFTEVDVEVEX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OKCkgeyByZXR1cm4gXCJERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9BTE9OR19QQVRIKCkgeyByZXR1cm4gXCJOQVZJR0FURV9BTE9OR19QQVRIXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0hPV19XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJTSE9XX1dBTEtBQkxFX0FSRUFcIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9XQUxLQUJMRV9BUkVBKCkgeyByZXR1cm4gXCJISURFX1dBTEtBQkxFX0FSRUFcIiB9O1xuXG5cbiAgICBzdGF0aWMgZ2V0IEVORF9NT1ZFTUVOVCgpIHsgcmV0dXJuIFwiRU5EX01PVkVNRU5UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQoKSB7IHJldHVybiBcIkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NIQVJBQ1RFUl9UT19OT0RFKCkgeyByZXR1cm4gXCJTRVRfQ0hBUkFDVEVSX1RPX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTRUxFQ1RfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIlNFTEVDVF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFVF9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJTRVRfUExBWUVSX0FDVElPTlwiIH07XG4gICAgc3RhdGljIGdldCBUT0dHTEVfQlVUVE9OKCkgeyByZXR1cm4gXCJUT0dHTEVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVVNFX1BMQVlFUl9BQ1RJT04oKSB7IHJldHVybiBcIlVTRV9QTEFZRVJfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfUkFOR0VEX0FUVEFDSygpIHsgcmV0dXJuIFwiUkVTT0xWRV9SQU5HRURfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDS1wiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVQREFURV9TVEFNSU5BKCkgeyByZXR1cm4gXCJVUERBVEVfU1RBTUlOQVwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0RFQVRIKCkgeyByZXR1cm4gXCJESVNQTEFZX0RFQVRIXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfQVRUQUNLKCkgeyByZXR1cm4gXCJESVNQTEFZX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0hJVCgpIHsgcmV0dXJuIFwiRElTUExBWV9ISVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgS0lMTF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiS0lMTF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IENIQVJBQ1RFUl9MT09LX0FUKCkgeyByZXR1cm4gXCJDSEFSQUNURVJfTE9PS19BVFwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU1RBTUlOQSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NUQU1JTkFcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFUVVJUF9XRUFQT04oKSB7IHJldHVybiBcIkVRVUlQX1dFQVBPTlwiIH07XG4gICAgc3RhdGljIGdldCBVU0VfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9GTE9BVElOR19TVEFUVVMoKSB7IHJldHVybiBcIkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXCIgfTtcblxuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBXZWFwb25UeXBlcyB7XG4gICAgLy8gTUVMRUVcbiAgICBzdGF0aWMgZ2V0IFNXT1JEKCkgeyByZXR1cm4gXCJzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBBWEUoKSB7IHJldHVybiBcImF4ZVwiIH07XG4gICAgc3RhdGljIGdldCBLTklGRSgpIHsgcmV0dXJuIFwia25pZmVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBRkYoKSB7IHJldHVybiBcInN0YWZmXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhBTU1FUigpIHsgcmV0dXJuIFwiaGFtbWVyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNQRUFSKCkgeyByZXR1cm4gXCJzcGVhclwiIH07XG4gICAgc3RhdGljIGdldCBNQUNFKCkgeyByZXR1cm4gXCJtYWNlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBPTEVBUk0oKSB7IHJldHVybiBcInBvbGVhcm1cIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFVTCgpIHsgcmV0dXJuIFwibWF1bFwiIH07XG4gICAgc3RhdGljIGdldCBHUkVBVFNXT1JEKCkgeyByZXR1cm4gXCJncmVhdHN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMVUIoKSB7IHJldHVybiBcImNsdWJcIiB9O1xuICAgIHN0YXRpYyBnZXQgVU5BUk1FRCgpIHsgcmV0dXJuIFwidW5hcm1lZFwiIH07XG4gICAgc3RhdGljIGdldCBTSElFTEQoKSB7IHJldHVybiBcInNoaWVsZFwiIH07XG5cbiAgICAvLyBSQU5HRURcbiAgICBzdGF0aWMgZ2V0IEZVU0lMKCkgeyByZXR1cm4gXCJmdXNpbFwiIH07XG4gICAgc3RhdGljIGdldCBCT1coKSB7IHJldHVybiBcImJvd1wiIH07XG4gICAgc3RhdGljIGdldCBDUk9TU0JPVygpIHsgcmV0dXJuIFwiY3Jvc3Nib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgUElTVE9MRVQoKSB7IHJldHVybiBcInBpc3RvbGV0XCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYXBvbkVudW1zID0gT2JqZWN0LmVudHJpZXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoV2VhcG9uVHlwZXMpKVxuICAgIC5maWx0ZXIoKFtrZXksIGRlc2NyaXB0b3JdKSA9PiB0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicpXG4gICAgLm1hcCgoW2tleV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHsgW2tleV06IFdlYXBvblR5cGVzW2tleV0gfTtcbiAgICB9KTsiLCJleHBvcnQgY2xhc3MgQ29tYmF0Vk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGVhbXMgPSB0ZWFtcztcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmRJbml0aWF0aXZlWzBdO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVDaGFyYWN0ZXJWTyB9ID0gcmVxdWlyZSgnLi9HYW1lQ2hhcmFjdGVyVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJQcm94eV9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFyYW1zLmlkLCBuZXcgR2FtZUNoYXJhY3RlclZPKHBhcmFtcykpO1xuICAgIH1cblxuICAgIHJlc2V0Q29tYmF0VHVyblN0YXRlKCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy52by5tYXhNb3ZlbWVudDtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICB1c2VNb3ZlbWVudChjb3N0KSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gY29zdDtcbiAgICB9XG5cbiAgICBhcHBseURhbWFnZShkYW1hbmdlKSB7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgLT0gZGFtYW5nZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSA9IE1hdGgubWF4KDAsIHRoaXMudm8uY3VycmVudFN0YW1pbmEpO1xuXG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID4gMCkge1xuICAgICAgICAgICAgLy8gQWxpdmVcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVQREFURV9TVEFNSU5BICsgdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hLCB0aGlzLnZvLm1heGltdW1TdGFtaW5hKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlYWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaWR9IGRpZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgdGhpcy5pZCwgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhTdGFtaW5hKTtcbiAgICB9XG5cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlkO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudE5vZGU7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnROb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBjb21iYXRHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgZ2V0IGlzTlBDKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pc05QQztcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlTW92ZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50O1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVNb3ZlbWVudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZUFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnM7XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZUFjdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVBY3Rpb25zID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyB0aGlzLmlkLFxuICAgICAgICAgICAgdGhpcy5hdmFpbGFibGVBY3Rpb25zLCB0aGlzLm1heEFjdGlvbnNQZXJUdXJuKTtcbiAgICB9XG5cbiAgICBnZXQgbWF4QWN0aW9uc1BlclR1cm4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgIH1cblxuICAgIGdldCBza2lsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2tpbGw7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTdGFtaW5hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEx1Y2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIGdldCBpc0RlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIDw9IDA7XG4gICAgfVxuXG4gICAgZ2V0IGJvdEJlaGF2aW91cigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYm90QmVoYXZpb3VyO1xuICAgIH1cblxuICAgIGdldCBlcXVpcHBlZFdlYXBvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZXF1aXBwZWRXZWFwb247XG4gICAgfVxuXG4gICAgc2V0IGVxdWlwcGVkV2VhcG9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uZXF1aXBwZWRXZWFwb24gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5oZWlnaHQ7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHBhcmFtcy5pZDtcbiAgICAgICAgdGhpcy5pc05QQyA9IHBhcmFtcy5pc05QQztcbiAgICAgICAgdGhpcy5jb21iYXRHcm91cCA9IHBhcmFtcy5jb21iYXRHcm91cCB8fCBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBUcm9pa2Egc3RhdHNcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlID0gcGFyYW1zLmluaXRpYXRpdmUgfHwgMjtcbiAgICAgICAgdGhpcy5tYXhNb3ZlbWVudCA9IHBhcmFtcy5tYXhNb3ZlbWVudCB8fCA2O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHBhcmFtcy5oZWlnaHQgfHwgMS44O1xuICAgICAgICB0aGlzLm1heEFjdGlvbnNQZXJUdXJuID0gMTtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgdGhpcy5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMubWF4TW92ZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5za2lsbCA9IHBhcmFtcy5za2lsbCB8fCAxO1xuXG4gICAgICAgIHRoaXMubWF4U3RhbWluYSA9IHBhcmFtcy5tYXhTdGFtaW5hIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YW1pbmEgPSB0aGlzLm1heFN0YW1pbmE7XG5cbiAgICAgICAgdGhpcy5tYXhMdWNrID0gcGFyYW1zLm1heEx1Y2sgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50THVjayA9IHRoaXMubWF4THVjaztcblxuICAgICAgICB0aGlzLmFkdmFuY2VkU2tpbGxzID0gcGFyYW1zLmFkdmFuY2VkU2tpbGxzIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuYm90QmVoYXZpb3VyID0gcGFyYW1zLmJvdEJlaGF2aW91ciB8fCAwO1xuXG4gICAgICAgIHRoaXMuZXF1aXBwZWRXZWFwb24gPSBwYXJhbXMuZXF1aXBwZWRXZWFwb24gfHwgXCJ1bmFybWVkXCI7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgZ2V0QWRqYWNlbnRQb2ludHMgfSBmcm9tICcuLi8uLi91dGlscy9BZGphY2VudFBvaW50cyc7XG5jb25zdCB7IEdhbWVNYXBWTyB9ID0gcmVxdWlyZSgnLi9HYW1lTWFwVk8nKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCwgd2FsbEJvdW5kaW5nQm94ZXMsIGNvdmVyKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFwR3JpZDogbWFwR3JpZCxcbiAgICAgICAgICAgIHdhbGxCb3VuZGluZ0JveGVzOiB3YWxsQm91bmRpbmdCb3hlcyxcbiAgICAgICAgICAgIGNvdmVyOiBjb3ZlclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuXG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3ROb2RlKHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEdyaWQgPSB0aGlzLnZvLm1hcEdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbWFwR3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtYXBHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIHJheUludGVyc2VjdHNXYWxsKGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZSh0byk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRvLmNsb25lKCkuc3ViKGZyb20uY2xvbmUoKSkubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IHJheSA9IG5ldyBwYy5SYXkoZnJvbSwgZGlyZWN0aW9uKTtcblxuICAgICAgICBjb25zdCBtYXBXYWxscyA9IHRoaXMudm8ud2FsbEJvdW5kaW5nQm94ZXM7XG4gICAgICAgIGZvciAoY29uc3Qgd2FsbCBvZiBtYXBXYWxscykge1xuICAgICAgICAgICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gd2FsbC5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9IaXQgPSBoaXRQb3NpdGlvbi5kaXN0YW5jZShmcm9tKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvSGl0IDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldCBjb3ZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY292ZXI7XG4gICAgfVxuXG5cbiAgICBpc0luQ292ZXIodGFyZ2V0UG9pbnQsIGF0dGFja2luZ0Zyb20pIHtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBhZGphY2VudFBvaW50cyA9IGdldEFkamFjZW50UG9pbnRzKHRhcmdldFBvaW50KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50UG9pbnQgb2YgYWRqYWNlbnRQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZSA9IHRoaXMuY292ZXIuZmluZCgoY292ZXJQb2ludCkgPT4gYWRqYWNlbnRQb2ludC5lcXVhbHMoY292ZXJQb2ludCkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZSkge1xuICAgICAgICAgICAgICAgIGFkamFjZW50Q292ZXJQb2ludHMucHVzaChhZGphY2VudFBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGphY2VudENvdmVyUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSB0YXJnZXRQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50IG9mIGFkamFjZW50Q292ZXJQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvQ292ZXIgPSBhZGphY2VudENvdmVyUG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9Db3ZlciA8IGRpc3RhbmNlVG9UYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEFkamFjZW50UG9pbnRzKHBvaW50KSB7XG4gICAgY29uc3QgcG9pbnRzID0gW11cbiAgICAvL05vcnRoXG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiAtIDEpKTtcbiAgICAvL0Vhc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54ICsgMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vV2VzdFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LnggLSAxLCBwb2ludC55LCBwb2ludC56KSk7XG4gICAgLy9Tb3V0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogKyAxKSk7XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufSIsImV4cG9ydCBjbGFzcyBHYW1lTWFwVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcEdyaWQgPSBbXTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFByaW9yaXR5UXVldWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB9XG5cbiAgICBwdXNoKHZhbHVlLCBwcmlvcml0eSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMuZGF0YVtpXS5wcmlvcml0eTtcbiAgICAgICAgICAgIGlmIChNYXRoLm1pbihtaW4sIHByaW9yaXR5KSA9PT0gcHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zcGxpY2UoaW5kZXgsIDEpWzBdLnZhbHVlO1xuICAgIH1cblxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoXG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQcmlvcml0eVF1ZXVlIH0gZnJvbSAnLi9Qcmlvcml0eVF1ZXVlJztcblxuZXhwb3J0IGNsYXNzIEFzdGFyIHtcbiAgICBzdGF0aWMgYnJlYWR0aEZpcnN0U2VhcmNoKHN0YXJ0LCByYW5nZUxpbWl0KSB7XG4gICAgICAgIGxldCBmcm9udGllciA9IFtdO1xuICAgICAgICBjb25zdCBzZWFyY2hlZEFyZWEgPSBbXTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuXG4gICAgICAgIGxldCByYW5nZSA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGZyb250aWVyLmxlbmd0aCA+IDAgJiYgcmFuZ2UgPCByYW5nZUxpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGcm9udGllciA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGZyb250aWVyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNhbWVGcm9tLmhhcyhuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Zyb250aWVyLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hlZEFyZWEucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJvbnRpZXIgPSBuZXdGcm9udGllcjtcblxuICAgICAgICAgICAgcmFuZ2UrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWFyY2hlZEFyZWE7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlUGF0aChzdGFydCwgZ29hbCkge1xuICAgICAgICBjb25zdCBmcm9udGllciA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQsIDApO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjb3N0U29GYXIgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIGNvc3RTb0Zhci5zZXQoc3RhcnQsIDApO1xuXG4gICAgICAgIHdoaWxlICghZnJvbnRpZXIuZW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGZyb250aWVyLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3N0ID0gY29zdFNvRmFyLmdldChjdXJyZW50KSArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjb3N0U29GYXIuaGFzKG5leHQpIHx8IG5ld0Nvc3QgPCBjb3N0U29GYXIuZ2V0KG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3N0U29GYXIuc2V0KG5leHQsIG5ld0Nvc3QpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSBuZXdDb3N0ICsgdGhpcy5oZXVyaXN0aWMobmV4dCwgZ29hbCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb250aWVyLnB1c2gobmV4dCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IGdvYWw7XG4gICAgICAgIGxldCBwYXRoSXNCcm9rZW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG5cbiAgICAgICAgd2hpbGUgKCFjdXJyZW50LmVxdWFscyhzdGFydCkgJiYgIXBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgaWYgKGNhbWVGcm9tLmhhcyhjdXJyZW50KSB8fCAhY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2FtZUZyb20uZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aElzQnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3BhdGgucHVzaChzdGFydCk7XG4gICAgICAgICAgICAvLyBwYXRoLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3RTcXVhcmVkKHB0MSwgcHQyKSB7XG4gICAgICAgIHJldHVybiAoKHB0MS54IC0gcHQyLngpICogKHB0MS54IC0gcHQyLngpXG4gICAgICAgICAgICArIChwdDEueSAtIHB0Mi55KSAqIChwdDEueSAtIHB0Mi55KVxuICAgICAgICAgICAgKyAocHQxLnogLSBwdDIueikgKiAocHQxLnogLSBwdDIueikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBoZXVyaXN0aWMoYSwgYikge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoYS54IC0gYi54KSArIE1hdGguYWJzKGEueSAtIGIueSkgKyBNYXRoLmFicyhhLnogLSBiLnopO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVTdGF0ZVZPIH0gPSByZXF1aXJlKCcuL0dhbWVTdGF0ZVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVTdGF0ZVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihHYW1lU3RhdGVQcm94eS5OQU1FLCBuZXcgR2FtZVN0YXRlVk8oKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlR2FtZVN0YXRlVHlwZShuZXdTdGF0ZVR5cGUpIHtcbiAgICAgICAgdGhpcy52by5nYW1lcGxheU1vZGUgPSBuZXdTdGF0ZVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5nYW1lcGxheU1vZGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRBY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50QWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb24gPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZ2FtZXBsYXlNb2RlVHlwZXMgPSB7XG4gICAgRVhQTE9SQVRJT046ICdFWFBMT1JBVElPTicsXG4gICAgQ09NQkFUOiAnQ09NQkFUJyxcbiAgICBESUFMT0dVRTogJ0RJQUxPR1VFJyxcblxufVxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWVwbGF5TW9kZSA9IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQWN0aW9uID0gXCJub25lXCI7XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlZ2lzdGVyIG1lZGlhdG9yIC0gR2FtZU1lZGlhdG9yXCIpO1xuICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICBzdXBlcihHYW1lTWVkaWF0b3IuTkFNRSwgYXBwKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgfVxuXG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3JfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGlkLCB2aWV3Q29tcG9uZW50LCBwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgICAgIGxldCBub3RpZmljYXRpb25zID0gW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEXG5cbiAgICAgICAgXTtcblxuICAgICAgICBub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucy5jb25jYXQocHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9mZigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5maXJlKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzY3JpcHRLZXkgaW4gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQsIHNjcmlwdEtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W3NjcmlwdEtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24gPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFUOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU3RhcnRDb21iYXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNldENoYXJhY3RlclRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBsb29rUG9pbnQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChsb29rUG9pbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0Ym94ID0gdGhpcy52aWV3Q29tcG9uZW50LmZpbmRCeU5hbWUoXCJIaXRib3hcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhpdGJveCkge1xuICAgICAgICAgICAgICAgICAgICBoaXRib3guZmlyZSgnc3RvcExpc3RlbmluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZURlYXRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVBdHRhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgfVxuXG4gICAgbW92ZVRvTm9kZVdpdGhQcm9taXNlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjYW5jZWxNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUN1cnJlbnROb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIHRoaXMuaWQsIG5ld05vZGUpO1xuXG4gICAgfVxuXG4gICAgaGFuZGxlRmluaXNoZWRNb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgdGhpcy5pZCwgbmV3Tm9kZSk7XG4gICAgfVxuXG4gICAgbG9va0ZvckNoYXJhY3RlcihpZCwgbm9kZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaE5vZGUgb2YgdGhpcy5zZWFyY2hBcmVhKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoTm9kZS5lcXVhbHMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0aGlzLnZpZXdDb21wb25lbnQsIFtpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlU3RhcnRDb21iYXQoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJWTyA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKS52bztcblxuICAgICAgICAvLyB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KG5vZGUpO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4vSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnB1dExheWVyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEVcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOmdhbWVDaGFyYWN0ZXInLCB0aGlzLmhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpuYXZpZ2F0aW9uJywgdGhpcy5oYW5kbGVQaWNrZXJOYXZpZ2F0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyKGNoYXJhY3RlckVudGl0eSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIGNoYXJhY3RlckVudGl0eSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgndmVydGljYWxTY3JvbGwnLCB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UsIHRpdGxlOiAnVmVydGljYWwgU2Nyb2xsJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21pbkNhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWluIENhbWVyYSBIZWlnaHQnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDYW1lcmEucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDYW1lcmFNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5zZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuZW50aXR5LmdldEV1bGVyQW5nbGVzKCkueTtcbiAgICB0aGlzLmNhbWVyYUhlaWdodCA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKS55O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgIHRoaXMucm90YXRpb24gKz0gZGlyZWN0aW9uLnggKiB0aGlzLmRyYWdNdWx0aXBsaWVyWDtcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIGxldCBuZXdDYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYUhlaWdodCAtIChkaXJlY3Rpb24ueSAqIHRoaXMuZHJhZ011bHRpcGxpZXJZKTtcbiAgICAgICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xuICAgIH1cbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24gPSBmdW5jdGlvbiAoZm9jdXNQb2ludCkge1xuICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpXG5cbiAgICBjb25zdCB0YXJnZXRYID0gTWF0aC5zaW4oKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuICAgIGNvbnN0IHRhcmdldFogPSBNYXRoLmNvcygodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoZm9jdXNQb2ludC54ICsgdGFyZ2V0WCwgY2FtZXJhUG9zaXRpb24ueSwgZm9jdXNQb2ludC56ICsgdGFyZ2V0Wik7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuR2FtZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0gdGhpcy5jYW1lcmFUYXJnZXQuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR3ZWVuWCA9ICh0YXJnZXRQb3NpdGlvbi54ICsgY3VycmVudFBvcy54ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5ZID0gKHRoaXMuY2FtZXJhSGVpZ2h0ICsgY3VycmVudFBvcy55ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5aID0gKHRhcmdldFBvc2l0aW9uLnogKyBjdXJyZW50UG9zLnogKiA5KSAvIDEwO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24odHdlZW5YLCB0d2VlblksIHR3ZWVuWik7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkubG9va0F0KGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDYW1lcmEgfSBmcm9tICcuL0dhbWVDYW1lcmEnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNhbWVyYU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNhbWVyYU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLnNldENhbWVyYVRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLmhhbmRsZURyYWcoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW5wdXRMYXllck1lZGlhdG9yIH0gZnJvbSAnLi9JbnB1dExheWVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi4vZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgSW5wdXRMYXllckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW5wdXRMYXllckNvbXBvbmVudCcpO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2FtZXJhRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkNhbWVyYSBFbnRpdHlcIlxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkcmFnVGltZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJEcmFnIFRpbWVcIixcbiAgICBkZWZhdWx0OiAwLjRcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS53aW5kb3cgPSB3aW5kb3c7XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IElucHV0TGF5ZXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMucmF5ID0gbmV3IHBjLlJheSgpO1xuICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgLy8gRHJhZyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5hcHAubW91c2UuZGlzYWJsZUNvbnRleHRNZW51KCk7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IDA7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJlc3VsdCcsIHRoaXMuaGFuZGxlUGlja2VyUmVzdWx0LCB0aGlzKTtcblxuICAgIGlmICh0aGlzLmFwcC5tb3VzZSkge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgdGhpcy5vbk1vdXNlRG93biwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZSh0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24odG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ3JhcGhpY3NEZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcblxuICAgIC8vIEZsaXAgYmxlbmRcbiAgICBpZiAoZ3JhcGhpY3NEZXZpY2Uud2lkdGggPCBncmFwaGljc0RldmljZS5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5zY3JlZW4uc2NyZWVuLnNjYWxlQmxlbmQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuc2NyZWVuLnNjcmVlbi5zY2FsZUJsZW5kID0gMDtcbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VEb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgdGhpcy5jbGlja0Rvd25TdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VNb3ZlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gbmV3IHBjLlZlYzIodGhpcy5jbGlja1N0YXJ0UG9pbnQueCAtIGV2dC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55IC0gZXZ0LnkpO1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdzY3JvbGxpbmcnLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG5cbiAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuY2xpY2tEb3duU3RhcnQgPCAodGhpcy5kcmFnVGltZSAqIDEwMDApKSB7XG4gICAgICAgIGlmICh0aGlzLmNsaWNrU3RhcnRQb2ludCkge1xuICAgICAgICAgICAgLy8gdGhpcy5lbnRpdHkuZmlyZSgndmFsaWRDbGljaycsIHRoaXMuY2xpY2tTdGFydFBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnModGhpcy5jbGlja1N0YXJ0UG9pbnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBjb25zdCBjYW1lcmFFbnRpdHkgPSB0aGlzLmNhbWVyYUVudGl0eTtcbiAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmE7XG4gICAgY2FtZXJhQ29tcG9uZW50LnNjcmVlblRvV29ybGQoeCwgeSwgY2FtZXJhQ29tcG9uZW50LmZhckNsaXAsIHRoaXMucmF5LmRpcmVjdGlvbik7XG4gICAgdGhpcy5yYXkub3JpZ2luLmNvcHkoY2FtZXJhRW50aXR5LmdldFBvc2l0aW9uKCkpO1xuICAgIHRoaXMucmF5LmRpcmVjdGlvbi5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5yYXksIHsgeCwgeSB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUGlja2VyUmVzdWx0ID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcykge1xuICAgIHRoaXMuaW5wdXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgZW50aXR5OiBwaWNrZWRFbnRpdHksXG4gICAgICAgIGhpdFBvc2l0aW9uOiBoaXRQb3NpdGlvbixcbiAgICAgICAgc2NyZWVuUG9zaXRpb246IHNjcmVlblBvc1xuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLnByb2Nlc3NJbnB1dFF1ZXVlKCk7XG59XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc0lucHV0UXVldWUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAodGhpcy5pbnB1dFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGhpZ2hlc3RQcmlvcml0eVBpY2sgPSB0aGlzLmlucHV0UXVldWVbMF07XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHkgPSAtMTtcbiAgICAgICAgLy8gRmluZCBoaWdoZXN0IHByaW9yaXR5XG4gICAgICAgIGZvciAoY29uc3QgcGljayBvZiB0aGlzLmlucHV0UXVldWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpY2tQcmlvcml0eSA9IGdldFByaW9yaXR5KHBpY2suZW50aXR5KVxuICAgICAgICAgICAgaWYgKHBpY2tQcmlvcml0eSA+IGhpZ2hlc3RQcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVBpY2sgPSBwaWNrO1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eSA9IHBpY2tQcmlvcml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5wdXRRdWV1ZSA9IFtdO1xuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZEdhbWVDaGFyYWN0ZXIoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWROYXZpZ2F0aW9uKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRQb3J0YWwoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkR2FtZUNoYXJhY3RlciA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOmdhbWVDaGFyYWN0ZXInLCBwaWNrZWRFbnRpdHkpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWROYXZpZ2F0aW9uID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBjb25zdCBuYXZDb21wID0gcGlja2VkRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgIGNvbnN0IG5lYXJlc3ROb2RlID0gbmF2Q29tcC5nZXROZWFyZXN0Tm9kZShoaXRQb3NpdGlvbik7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOm5hdmlnYXRpb24nLCBuZWFyZXN0Tm9kZSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZFBvcnRhbCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgcGlja2VkRW50aXR5LmZpcmUoJ3BpY2tlcjpwb3J0YWwnKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpb3JpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnZ2FtZUNoYXJhY3RlcicpKSB7XG4gICAgICAgIHJldHVybiAzO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ3BvcnRhbCcpKSB7XG4gICAgICAgIHJldHVybiAyO1xuICAgIH1cblxuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ25hdmlnYXRpb24nKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcblxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50J10uY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lRmFjYWRlIH0gPSByZXF1aXJlKCcuLi9HYW1lRmFjYWRlJyk7XG5cbmV4cG9ydCBjb25zdCBDYWNvZ2VuR2FtZSA9IHBjLmNyZWF0ZVNjcmlwdCgnQ2Fjb2dlbkdhbWUnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkNhY29nZW5HYW1lLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgXCJNYXAxXCIpO1xufTtcblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG5cbn07IiwiaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdOYXZpZ2F0aW9uQ29tcG9uZW50Jyk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb25uZWN0ZWRDb21wb25lbnRzXCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIGFycmF5OiB0cnVlLFxuICAgIHRpdGxlOiBcIkNvbm5lY3RlZCBDb21wb25lbnRzXCJcbn0pO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIDAuMDUsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5maW5kQnlOYW1lKCdQbGFuZScpLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Q2FzdCA9IGZ1bmN0aW9uIChyYXksIHNjcmVlblBvcykge1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFhYmIuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmVudGl0eSwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8TmF2aWdhdGlvbk5vZGU+fSBub2RlR3JpZCAtIEFycmF5IG9mIG5vZGVzIHJlcHJlc2VudGluZyBwb2ludHMgb24gdGhlIGdyaWQuXG4gKi9cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLnNldEdyaWQgPSBmdW5jdGlvbiAobm9kZUdyaWQpIHtcbiAgICB0aGlzLm5vZGVHcmlkID0gbm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldEdyaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZUdyaWQ7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmdldE5lYXJlc3ROb2RlID0gZnVuY3Rpb24gKHRhcmdldFBvaW50KSB7XG4gICAgbGV0IG5lYXJlc3ROb2RlID0gdGhpcy5ub2RlR3JpZFswXTtcbiAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5ub2RlR3JpZCkge1xuICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tIFwiLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHlcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IGJvdEJlaGF2aW91ckVudW1zIH0gZnJvbSAnLi4vLi4vYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcyc7XG5pbXBvcnQgeyB3ZWFwb25FbnVtcyB9IGZyb20gXCIuLi8uLi9kYXRhL1dlYXBvblR5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2hhcmFjdGVyQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHN0YXRzU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdtYXhTdGFtaW5hJyxcbiAgICAgICAgdGl0bGU6ICdTdGFtaW5hJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdtYXhMdWNrJyxcbiAgICAgICAgdGl0bGU6ICdMdWNrJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdpbml0aWF0aXZlJyxcbiAgICAgICAgdGl0bGU6ICdJbml0aWF0aXZlJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDJcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdtYXhNb3ZlbWVudCcsXG4gICAgICAgIHRpdGxlOiAnTW92ZW1lbnQnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogNlxuICAgIH1cbl07XG5cbmNvbnN0IGFkdmFuY2VkU2tpbGxzU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsTmFtZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbFZhbHVlJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBWYWx1ZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfVxuXTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlcklkXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBJZFwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlclNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDRcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJIZWlnaHRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIEhlaWdodFwiLFxuICAgIGRlZmF1bHQ6IDEuOFxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJpc05QQ1wiLCB7XG4gICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgdGl0bGU6IFwiaXMgTlBDXCIsXG4gICAgZGVmYXVsdDogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGF0c092ZXJyaWRlc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiU3RhdHMgT3ZlcnJpZGVzXCIsXG4gICAgc2NoZW1hOiBzdGF0c1NjaGVtYVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhZHZhbmNlZFNraWxsc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiQWR2YW5jZWQgU2tpbGxzXCIsXG4gICAgc2NoZW1hOiBhZHZhbmNlZFNraWxsc1NjaGVtYSxcbiAgICBhcnJheTogdHJ1ZVxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjb21iYXRHcm91cE5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ29tYmF0IEdyb3VwIE5hbWVcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJib3RCZWhhdmlvdXJcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQm90IEJlaGF2aW91clwiLFxuICAgIGVudW06IGJvdEJlaGF2aW91ckVudW1zLFxuICAgIGRlZmF1bHQ6IDBcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJlcXVpcHBlZFdlYXBvblwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJFcXVpcHBlZCBXZWFwb25cIixcbiAgICBlbnVtOiB3ZWFwb25FbnVtcyxcbiAgICBkZWZhdWx0OiBcInVuYXJtZWRcIlxufSk7XG5cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xufVxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG5cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHNPdmVycmlkZXMgPSB0aGlzLnN0YXRzT3ZlcnJpZGVzO1xuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUEMsXG4gICAgICAgIGhlaWdodDogdGhpcy5jaGFyYWN0ZXJIZWlnaHQsXG4gICAgICAgIGFkdmFuY2VkU2tpbGxzOiB0aGlzLmFkdmFuY2VkU2tpbGxzLFxuICAgICAgICBlcXVpcHBlZFdlYXBvbjogdGhpcy5lcXVpcHBlZFdlYXBvbixcbiAgICAgICAgLi4uc3RhdHNPdmVycmlkZXMsXG4gICAgICAgIGJvdEJlaGF2aW91cjogdGhpcy5ib3RCZWhhdmlvdXJcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuY29tYmF0R3JvdXBOYW1lICYmIHRoaXMuY29tYmF0R3JvdXBOYW1lICE9PSBcIlwiKSB7XG4gICAgICAgIGNvbnN0IGNvbXJhZGVFbnRpdGllcyA9IHRoaXMuYXBwLnJvb3QuZmluZEJ5VGFnKGBjb21iYXRHcm91cDoke3RoaXMuY29tYmF0R3JvdXBOYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IGNvbWJhdEdyb3VwID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY29tcmFkZUVudGl0eSBvZiBjb21yYWRlRW50aXRpZXMpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBkaXNhYmxlZCBlbnRpdGllc1xuICAgICAgICAgICAgaWYgKGNvbXJhZGVFbnRpdHkuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXJhZGVJZCA9IGNvbXJhZGVFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgICAgICAgICAgICAgY29tYmF0R3JvdXAucHVzaChjb21yYWRlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3h5UGFyYW1zLmNvbWJhdEdyb3VwID0gY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc1Byb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVDaGFyYWN0ZXJQcm94eShwcm94eVBhcmFtcykpO1xuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDaGFyYWN0ZXJNZWRpYXRvcih0aGlzLmNoYXJhY3RlcklkLCB0aGlzLmVudGl0eSwgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykpO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcblxufTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zZXRQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGggJiYgdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjYW5jZWxNb3ZlJyk7XG4gICAgfVxuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gcGF0aDtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnd2Fsay5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc3RvcE1vdmVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnROb2RlKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLm1vdmVBbG9uZ1BhdGgoZHQpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkLCBkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQsIGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCk7XG4gICAgICAgIGNvbnN0IG5vZGVQb2ludCA9IG5ldyBwYy5WZWMzKG5leHRQYXRoUG9pbnQueCwgbmV4dFBhdGhQb2ludC55LCBuZXh0UGF0aFBvaW50LnopO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKG5vZGVQb2ludCwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5sb29rQXRQb2ludChuZXh0UGF0aFBvaW50KTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMubW92ZW1lbnRQYXRoLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnZmluaXNoZWRNb3ZlJywgY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgndXBkYXRlQ3VycmVudE5vZGUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmxvb2tBdFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCBkeCA9IHBvaW50LnggLSBsb2NhbFBvcy54O1xuICAgIGNvbnN0IGR6ID0gcG9pbnQueiAtIGxvY2FsUG9zLno7XG4gICAgY29uc3QgYW5nbGVUb0Rlc3QgPSBNYXRoLmF0YW4yKGR4LCBkeikgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIGFuZ2xlVG9EZXN0LCAwKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZURlYXRoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2RpZS5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlSGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2hpdC5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlQXR0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2F0dGFjay5nbGInLCAwLjEpO1xufSIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG4gICAgY29uc29sZS5sb2coJ1dhaXQgZm9yIGluaXRpYWwnKTtcbn07XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNYXBHcmlkQ3JlYXRlZCA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5jaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xufVxuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW92ZWRUb05vZGUgPSBmdW5jdGlvbiAoaWQsIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuXG4gICAgLy8gSWdub3JlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgZXhwbG9yaW5nXG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgIT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OIHx8IHRoaXMuY2hhcmFjdGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY2hhcmFjdGVyUG9pbnQgPSBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55LCB0YXJnZXROb2RlLnopO1xuXG4gICAgaWYgKGNoYXJhY3RlclBvaW50LmRpc3RhbmNlKHRhcmdldFBvaW50KSA8PSB0aGlzLnNpZ2h0UmFuZ2UpIHtcbiAgICAgICAgLy8gTWlnaHQgYmUgc2VlbiAtIGNoZWNrIGZvciB3YWxsc1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNoYXJhY3RlclBvaW50LnkgKz0gdGhpcy5jaGFyYWN0ZXJQcm94eS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoY2hhcmFjdGVyUG9pbnQsIHRhcmdldFBvaW50KSkge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IFNldENhbWVyYVRhcmdldENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VULCB0aGlzLmVudGl0eSk7XG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW5wdXRMYXllckNvbXBvbmVudCB9IGZyb20gJy4uL2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazplbmRUdXJuJywgdGhpcy5oYW5kbGVFbmRUdXJuLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVFbmRUdXJuKGV2dCkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciB9IGZyb20gXCIuL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCcpO1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZW5kVHVybkJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRW5kIFR1cm4gYnV0dG9uJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50VGltZW91dCA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW5kVHVybkJ1dHRvbi5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xpY2tFbmRUdXJuLCB0aGlzKTtcbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGlja0VuZFR1cm4gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6ZW5kVHVybicpO1xufVxuIiwiZXhwb3J0IGNvbnN0IEhpdGJveENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSGl0Ym94Q29tcG9uZW50Jyk7XG5cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdzdG9wTGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5vZmYoJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHkucGFyZW50LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5hYWJiLmNlbnRlci5jb3B5KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCkpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfUExBWUVSX0FDVElPTiwgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazpmaXJlQ29tbWFuZCcsIHRoaXMuaGFuZGxlRmlyZUNvbW1hbmQsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25QYW5lbENvbXBvbmVudCddLnNlbGVjdEFjdGlvbihhY3Rpb25OYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGaXJlQ29tbWFuZChjb21tYW5kTmFtZSwgLi4uYXJncykge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKGNvbW1hbmROYW1lLCAuLi5hcmdzKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uQnV0dG9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuXG5jb25zdCBjb21tYW5kU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmROYW1lJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIG5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29tbWFuZEFyZ3MnLFxuICAgICAgICB0aXRsZTogJ0NvbW1hbmQgYXJndW1lbnRzJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsIGFycmF5OiB0cnVlXG4gICAgfVxuXTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaWdobGlnaHRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpZ2hsaWdodCBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbW1hbmRzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogY29tbWFuZFNjaGVtYSwgdGl0bGU6ICdDb21tYW5kIG5hbWUnLCBhcnJheTogdHJ1ZSB9KTs7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdzZWxlY3Q6YWN0aW9uJywgdGhpcy5oYW5kbGVDaGFuZ2VBY3Rpb24sIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljaywgdGhpcyk7XG59O1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gY29tbWFuZC5jb21tYW5kTmFtZTtcbiAgICAgICAgY29uc3QgY29tbWFuZEFyZ3MgPSBjb21tYW5kLmNvbW1hbmRBcmdzO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnY2xpY2s6ZmlyZUNvbW1hbmQnLCBjb21tYW5kTmFtZSwgLi4uY29tbWFuZEFyZ3MpO1xuXG4gICAgfVxufVxuXG5BY3Rpb25CdXR0b25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZUNoYW5nZUFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5lbnRpdHkubmFtZSA9PT0gYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IEFjdGlvblBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25QYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25QYW5lbE1lZGlhdG9yJztcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vQWN0aW9uQnV0dG9uQ29tcG9uZW50JztcblxuQWN0aW9uUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2FjdGlvbkJ1dHRvbnMnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0FjdGlvbiBCdXR0b25zJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25QYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZWxlY3RBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSkge1xuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBidXR0b24uZmlyZSgnc2VsZWN0OmFjdGlvbicsIGFjdGlvbk5hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBVSVN0b3BQcm9wYWdhdGlvbiA9IHBjLmNyZWF0ZVNjcmlwdCgnVUlTdG9wUHJvcGFnYXRpb24nKTtcblxuVUlTdG9wUHJvcGFnYXRpb24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSFNUQVJULCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hFTkQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSBcIi4vUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50Jyk7XG5cbmNvbnN0IHByb2plY3RpbGVTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZU5hbWUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwcm9qZWN0aWxlVGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1Byb2plY3RpbGUgVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJwcm9qZWN0aWxlVHlwZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgVHlwZXNcIixcbiAgICBzY2hlbWE6IHByb2plY3RpbGVTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG59O1xuXG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQcm9qZWN0aWxlID0gZnVuY3Rpb24gKHByb2plY3RpbGVOYW1lLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RpbGVTY2hlbWUgPSB0aGlzLnByb2plY3RpbGVUeXBlcy5maW5kKHNjaGVtZSA9PiBzY2hlbWUucHJvamVjdGlsZU5hbWUgPT09IHByb2plY3RpbGVOYW1lKTtcbiAgICAgICAgaWYgKHByb2plY3RpbGVTY2hlbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Byb2plY3RpbGUgPSBwcm9qZWN0aWxlU2NoZW1lLnByb2plY3RpbGVUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3UHJvamVjdGlsZSk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0aWxlLm9uY2UoJ3Byb2plY3RpbGVBcnJpdmVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5zY3JpcHRbJ1Byb2plY3RpbGVDb21wb25lbnQnXS5zZXRUYXJnZXQob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGUgcHJvamVjdGlsZSBcIiR7cHJvamVjdGlsZU5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIlxuXG5leHBvcnQgY29uc3QgUHJvamVjdGlsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUHJvamVjdGlsZUNvbXBvbmVudCcpO1xuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlByb2plY3RpbGUgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA4XG59KTtcblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uIChvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG9yaWdpblBvaW50LngsIG9yaWdpblBvaW50LnksIG9yaWdpblBvaW50LnopO1xuICAgIHRoaXMudGFyZ2V0UG9pbnQgPSB0YXJnZXRQb2ludDtcbiAgICB0aGlzLmxvb2tBdFBvaW50KHRoaXMudGFyZ2V0UG9pbnQpO1xuXG59XG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLnRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCwgZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnN1YjIodGhpcy50YXJnZXRQb2ludC5jbG9uZSgpLCBsb2NhbFBvcyk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm5vcm1hbGl6ZSgpO1xuICAgICAgICBuZXdQb3NpdGlvbi5tdWwoc3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5hZGQobG9jYWxQb3MpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IG5ld1Bvc2l0aW9uLmRpc3RhbmNlKHRoaXMudGFyZ2V0UG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkKSkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncHJvamVjdGlsZUFycml2ZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFN0YW1pbmFCYXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0YW1pbmFCYXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIlxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFtaW5hID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhTdGFtaW5hID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiU3RhbWluYUJhckNvbXBvbmVudFwiXS51cGRhdGVTdGFtaW5hKG5ld1N0YW1pbmEsIG1heFN0YW1pbmEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgU3RhbWluYUJhck1lZGlhdG9yIH0gZnJvbSBcIi4vU3RhbWluYUJhck1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBTdGFtaW5hQmFyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTdGFtaW5hQmFyQ29tcG9uZW50Jyk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJiYXJFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQmFyIEVudGl0eVwiXG59KTtcblxuU3RhbWluYUJhckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YW1pbmFMYWJlbFwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJTdGFtaW5hIExhYmVsXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU3RhbWluYUJhckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFN0YW1pbmFCYXJNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCA9IHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGg7XG59O1xuXG5cblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZVN0YW1pbmEgPSBmdW5jdGlvbiAoY3VycmVudFN0YW1pbmEsIG1heFN0YW1pbmEpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHBjLm1hdGguY2xhbXAoY3VycmVudFN0YW1pbmEgLyBtYXhTdGFtaW5hLCAwLCAxKTtcbiAgICBjb25zdCB3aWR0aCA9IHBjLm1hdGgubGVycCgwLCB0aGlzLmJhckVudGl0eU1heFdpZHRoLCB2YWx1ZSk7XG4gICAgLy8gc2V0IHRoZSB3aWR0aCBvZiB0aGUgZmlsbCBpbWFnZSBlbGVtZW50XG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC53aWR0aCA9IHdpZHRoO1xuXG4gICAgLy8gU2V0IHRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudCdzIHJlY3QgKHJlY3QueikgdG8gYmUgdGhlIHNhbWVcbiAgICAvLyB2YWx1ZSBhcyBvdXIgMC0xIHByb2dyZXNzLlxuICAgIC8vIFRoaXMgaXMgc28gdGhhdCB0aGUgZmlsbCBpbWFnZSB3aWxsIG9ubHkgc2hvdyB0aGUgcG9ydGlvblxuICAgIC8vIG9mIHRoZSB0ZXh0dXJlIHRoYXQgaXMgdmlzaWJsZVxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdC56ID0gdmFsdWU7XG4gICAgLy8gZm9yY2UgcmVjdCB1cGRhdGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QgPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3Q7XG5cbiAgICB0aGlzLnN0YW1pbmFMYWJlbC5lbGVtZW50LnRleHQgPSBgJHtjdXJyZW50U3RhbWluYX0vJHttYXhTdGFtaW5hfWA7XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBwbGF5ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFjdGlvbnMgPSBwbGF5ZXJQcm94eS5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCddLnNob3dBdmFpbGFibGVBY3Rpb24oYXJnc1swXSwgYXJnc1sxXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcic7XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncGlwVGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnUGlwIFRlbXBsYXRlJyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnBpcHMgPSBbXTtcbn1cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zaG93QXZhaWxhYmxlQWN0aW9uID0gZnVuY3Rpb24gKGF2YWlsYWJsZUFjdGlvbnMsIG1heEFjdGlvbnMpIHtcbiAgICB3aGlsZSAodGhpcy5waXBzLmxlbmd0aCA8IG1heEFjdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVQaXAoKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGF2YWlsYWJsZUFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGlwc1tpXS5maXJlKCd0b2dnbGVQaXAnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVQaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbmV3UGlwID0gdGhpcy5waXBUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1BpcCk7XG4gICAgdGhpcy5waXBzLnB1c2gobmV3UGlwKTtcbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Jyk7XG5cbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcEZyb250JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdQaXAgZnJvbnQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5vbigndG9nZ2xlUGlwJywgKHNob3cpID0+IHtcbiAgICAgICAgdGhpcy5waXBGcm9udC5lbmFibGVkID0gc2hvdztcbiAgICB9KTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVNcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUzpcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50J107XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXRlck5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gYXJnc1sxXTtcblxuICAgICAgICAgICAgICAgIHNjcmlwdENvbXAuZGlzcGxheVN0YXR1cyhmbG9hdGVyTmFtZSwgdGFyZ2V0UHJveHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCcpO1xuXG4vLyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuc2V0V29ybGRQb3NpdGlvbiA9IGZ1bmN0aW9uICh3b3JsZFBvc2l0aW9uLCBjYW1lcmEsIHNjcmVlbikge1xuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMud29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb247XG4gICAgdGhpcy5kZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICB0aGlzLmNhbWVyYUVudGl0eSA9IGNhbWVyYTtcbiAgICB0aGlzLnNjcmVlbkVudGl0eSA9IHNjcmVlbjtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgfSwgMTAwMCk7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy53b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSh0aGlzLndvcmxkUG9zaXRpb24uY2xvbmUoKSk7XG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24ocG9zaXRpb24pO1xuICAgIH1cbn07XG5cblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS53b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICBpZiAodGhpcy5kZXZpY2UgJiYgdGhpcy5jYW1lcmFFbnRpdHkgJiYgdGhpcy5zY3JlZW5FbnRpdHkpIHtcbiAgICAgICAgY29uc3Qgd29ybGRQb3MgPSBwb3MuY2xvbmUoKTtcbiAgICAgICAgY29uc3Qgc2NyZWVuUG9zID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgLy8gZ2V0IHNjcmVlbiBzcGFjZSBjby1vcmRcbiAgICAgICAgdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhLndvcmxkVG9TY3JlZW4od29ybGRQb3MsIHNjcmVlblBvcyk7XG4gICAgICAgIGNvbnN0IHNjcmVlbkNvbXAgPSB0aGlzLnNjcmVlbkVudGl0eS5zY3JlZW47XG5cbiAgICAgICAgY29uc3QgcmF0aW9TY2FsZSA9IHNjcmVlbkNvbXAucmVmZXJlbmNlUmVzb2x1dGlvbi54IC8gc2NyZWVuQ29tcC5yZXNvbHV0aW9uLng7XG5cbiAgICAgICAgY29uc3QgeCA9IChzY3JlZW5Qb3MueCAqIHJhdGlvU2NhbGUpO1xuICAgICAgICBjb25zdCB5ID0gKC0xICogc2NyZWVuUG9zLnkgKiByYXRpb1NjYWxlKSArIHRoaXMuc2NyZWVuRW50aXR5LnNjcmVlbi5yZXNvbHV0aW9uLnkgKiByYXRpb1NjYWxlO1xuXG5cbiAgICAgICAgcmV0dXJuIG5ldyBwYy5WZWMzKHgsIHksIDApO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbn0iLCJleHBvcnQgY29uc3QgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50JztcblxuY29uc3QgZmxvYXRpbmdTdGF0dXNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0ZW1wbGF0ZScsXG4gICAgICAgIHRpdGxlOiAnVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JlZW5FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NjcmVlbiBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjYW1lcmFFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NhbWVyYSBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmbG9hdGluZ1N0YXR1c2VzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogZmxvYXRpbmdTdGF0dXNTY2hlbWEsIHRpdGxlOiAnRmxvYXRpbmcgU3RhdHVzZXMnLCBhcnJheTogdHJ1ZSB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheVN0YXR1cyA9IGZ1bmN0aW9uIChuYW1lLCB0YXJnZXRQcm94eSwgLi4uYXJncykge1xuICAgIGNvbnN0IHNjaGVtZSA9IHRoaXMuZmxvYXRpbmdTdGF0dXNlcy5maW5kKChvdGhlclNjaGVtZSkgPT4gb3RoZXJTY2hlbWUubmFtZSA9PT0gbmFtZSk7XG4gICAgaWYgKHNjaGVtZSkge1xuICAgICAgICAvLyBcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSArIHRhcmdldFByb3h5LmhlaWdodCwgdGFyZ2V0Tm9kZS56KTtcbiAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gc2NoZW1lLnRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIG5ld1N0YXR1cy5zY3JpcHRbJ1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50J10uc2V0V29ybGRQb3NpdGlvbih0YXJnZXRQb3MsXG4gICAgICAgICAgICB0aGlzLmNhbWVyYUVudGl0eSwgdGhpcy5zY3JlZW5FbnRpdHkpO1xuICAgICAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdTdGF0dXMpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY3JlYXRlIGZsb2F0aW5nIHN0YXR1czogJHtuYW1lfWApO1xuICAgIH1cblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQb3J0YWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBvcnRhbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUG9ydGFsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOnBvcnRhbCcsIHRoaXMuc2VsZWN0ZWRQb3J0YWwsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RlZFBvcnRhbCgpIHtcbiAgICAgICAgY29uc3QgcG9ydGFsQ29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnUG9ydGFsQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25TY2VuZTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25Qb3J0YWw7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9zaXRpb24gPSBwb3J0YWxDb21wb25lbnQuc3RhbmRpbmdQb2ludC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLFxuICAgICAgICAgICAgc3RhbmRpbmdQb3NpdGlvbiwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBQb3J0YWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BvcnRhbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBQb3J0YWxNZWRpYXRvciB9IGZyb20gJy4vUG9ydGFsTWVkaWF0b3InO1xuXG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BvcnRhbElkJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdQb3J0YWwgSWQnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXN0aW5hdGlvblNjZW5lJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBTY2VuZScgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uUG9ydGFsJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBQb3J0YWwnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaXRib3gnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpdGJveCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3N0YW5kaW5nUG9pbnQnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N0YW5kaW5nIFBvaW50JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBvcnRhbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBvcnRhbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnN0YW5kaW5nUG9pbnQubW9kZWwuZW5hYmxlZCA9IGZhbHNlO1xuXG59O1xuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmNvbnN0IHsgUHVyZU1WQyB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBDYWNvZ2VuR2FtZSB9IGZyb20gJy4vdmlldy9DYWNvZ2VuR2FtZSc7XG5cbmltcG9ydCB7IE5hdmlnYXRpb25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQnO1xuaW1wb3J0IHsgU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBIaXRib3hDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBVSVN0b3BQcm9wYWdhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbic7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDb21wb25lbnQnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCc7XG5pbXBvcnQgeyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50JztcbmltcG9ydCB7IFBvcnRhbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wb3J0YWwvUG9ydGFsQ29tcG9uZW50JztcblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWFpbiBzdGFydFwiKTtcbiAgICAgICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IEdhbWVGYWNhZGUuZ2V0SW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKEZhY2FkZSk7XG5cbiAgICAgICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zdGFydHVwKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==