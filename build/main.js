(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),s=i(999),a=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),s.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=s.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=a},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),s=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=s.PureMVC.debug?s.PureMVC.logMediator:s.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=a},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),s=i(542),a=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=s.PureMVC.debug?s.PureMVC.logProxy:s.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=a},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var s=i(433);e.Model=s.Model;var a=i(117);e.Notifier=a.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,r||t,s),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,s=new Array(r);o<r;o++)s[o]=n[o].fn;return s},a.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,r,s){var a=i?i+t:t;if(!this._events[a])return!1;var c,h,d=this._events[a],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,s),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},a.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return s(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||s(this,r);else{for(var c=0,h=[],d=a.length;c<d;c++)(a[c].fn!==e||o&&!a[c].once||n&&a[c].context!==n)&&h.push(a[c]);h.length?this._events[r]=1===h.length?h[0]:h:s(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&s(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},409:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Jt});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(969),s=i(434);const{Facade:a}=i(710);function c(t,e,...i){const c=a.getInstance(t),y=pc.Application.getApplication(),m=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);for(const i of e.connectedComponents){const e=i.script.NavigationComponent;e.connectedComponents.includes(t)||e.connectedComponents.push(t)}const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(y),g=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(y,m),f=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(y,m),A=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(y),N=function(t){const e=[];for(const i of t)E(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=s.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);s.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(m);c.hasProxy(r.h.NAME)&&c.removeProxy(r.h.NAME),c.registerProxy(new r.h(m,g,f,A,N)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),s=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=s;i<s+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),s=Math.round(n.z),a=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-s/2);for(let t=h;t<h+s;t++)for(let i=a;i<a+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),s=Math.round(n.x-.5*o.x),a=Math.round(n.z-.5*o.z);for(let t=s;t<s+o.x;t++)for(let n=a;n<a+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const s=e.findIndex((e=>e.equalsPoint(t,r,n)));if(s>-1){const t=e.splice(s,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function E(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),r=new pc.Vec3(t.x+1,t.y,t.z),s=new pc.Vec3(t.x+1,t.y,t.z+1),a=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(h)))))}var y=i(917);const{Proxy:m}=i(710);class g extends m{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(g.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:f}=i(710),{StoryVO:A}=i(553);class N extends f{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],r=t.assets.get(o).resource;i.set(n,r)}super(N.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Proxy:T}=i(710);class _ extends T{get vo(){return this.getData()}static get NAME(){return"ItemsProxy"}constructor(t){super(_.NAME,t)}getItemData(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(console.log(i),Object.hasOwnProperty.call(i,t))return{id:t,type:e,...this.vo[e][t]}}throw new Error("Cannot find data for item:: "+t)}}const{Proxy:C}=i(710),{BotBehavioursVO:M}=i(812);class v extends C{get vo(){return this.getData()}static get NAME(){return"BotBehaviourProxy"}constructor(){super(v.NAME,new M)}getTree(t){return this.vo.getTree(t)}}const{Facade:I}=i(710);function S(t,e){I.getInstance(t).registerProxy(new y.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;I.getInstance(t).registerProxy(new g(e));const n=i.assets.get(40814027).resource;console.log("Startup - ItemsProxy"),I.getInstance(t).registerProxy(new _(n)),I.getInstance(t).registerProxy(new N),I.getInstance(t).registerProxy(new v)}}const{Facade:P}=i(710);function O(t,e,...i){const o=pc.Application.getApplication(),r=i[0],s=i[1];console.log("Changing scene "+r);const a=o.root.findByName("Root"),c=o.scenes.find(r);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):a&&a.destroy(),P.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),P.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r),P.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,s)}))}function b(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var x=i(958);const{Proxy:D}=i(710),{CombatVO:L}=i(201);class w extends D{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(w.NAME,new L(t,e))}onRegister(){const t=[...this.vo.participants];this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(x.b.NAME+e);t.isDead?this.vo.participants=this.vo.participants.filter((t=>t!==e)):this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=b(t);for(;"end_round"===e[0];)e=b(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var R=i(448);const{Facade:G}=i(710);function U(t,e,...i){const o=i[0],r=G.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(y.u.NAME).updateGameStateType(R.gameplayModeTypes.COMBAT);const s=r.retrieveProxy(x.b.NAME+o);r.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",s);const a=new Map,c=["player"];a.set("player_team",c);const h=[o].concat(s.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));a.set("opposing_team",h);const d=c.concat(h),l=r.retrieveProxy(x.b.NAME+"player");for(const t of d)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,s.currentNode);const p=new w(d,a);r.registerProxy(p),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:k}=i(710);function H(t,e,...i){const n=k.getInstance(t),o=n.retrieveProxy(y.u.NAME),r=n.retrieveProxy(w.NAME);o.vo.gameplayMode===R.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:V}=i(710);function F(t,e,...i){const o=V.getInstance(t),r=o.retrieveProxy(y.u.NAME),s=o.retrieveProxy(w.NAME);r.vo.gameplayMode===R.gameplayModeTypes.COMBAT&&(s.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:B}=i(710);function z(t,e,...i){setTimeout((()=>{const e=B.getInstance(t),i=e.retrieveProxy(w.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}var q=i(226);const{Facade:Y}=i(710);function W(t,e,...i){const n=i[0],o=Y.getInstance(t),s=(o.retrieveProxy(r.h.NAME),o.retrieveProxy(x.b.NAME+n).currentNode);o.retrieveProxy(x.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(s))),(new q.o).runCommands(o,n)}var K=i(710);function j(t,e,...i){const o=K.Facade.getInstance(t),s=o.retrieveProxy(y.u.NAME),a=o.retrieveProxy(r.h.NAME),c=i[0];a.hasValidNode(c)&&(s.currentMode===R.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):s.currentMode===R.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(w.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:Q}=i(710);function $(t,e,...i){const n=Q.getInstance(t),o=i[0],r=i[1],a=n.retrieveProxy(x.b.NAME+o),c=a.vo,h=s.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(r)&&X(n,a,r)}function X(t,e,i){const o=e.vo,r=s.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function J(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),s=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),s.addChild(e)}}function Z(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function tt(t,e,...i){const o=i[0],r=K.Facade.getInstance(t),a=r.retrieveProxy(x.b.NAME+o).vo,c=s.q.breadthFirstSearch(a.currentNode,a.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function et(t,e,...i){const o=K.Facade.getInstance(t),r=i[0],s=i[1];if(o.retrieveProxy(x.b.NAME+r).currentNode=s,o.retrieveProxy(y.u.NAME).currentMode===R.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(w.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),500))}}var it=i(467);function nt(t,e,...i){const o=K.Facade.getInstance(t),a=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(y.u.NAME),h=o.retrieveProxy(r.h.NAME),d=o.retrieveProxy(x.b.NAME+a),l=o.retrieveProxy(x.b.NAME+"player"),p=o.retrieveProxy(g.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===R.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?ot(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a),o.sendNotification(n.i.START_COMBAT,a)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,a):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,a);else if(c.currentMode===R.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(w.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)ot(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",a):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=s.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=s.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function ot(t,e,i){const n=(0,it.z)(e),o=(0,it.z)(i);return!t.rayIntersectsWall(n,o)}var rt=i(829);function st(t,e,...i){const o=K.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(x.b.NAME+r),a=i[1],c=o.retrieveProxy(x.b.NAME+a);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,s.currentNode);const h=o.retrieveProxy(g.NAME),d=s.equippedWeapon+"Fighting",l=c.equippedWeapon+"Fighting",p=s.getSkillTotal(d),u=s.getSkillTotal(l),E=ct(p),y=ct(u);if(s.availableActions-=1,E===y)o.sendNotification(n.i.DISPLAY_ATTACK+r),o.sendNotification(n.i.DISPLAY_ATTACK+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${E}/${y})`);else if(E>y){const t=at(E,y),e=h.getDamage(s.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,a):(o.sendNotification(n.i.DISPLAY_HIT+a),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${a} for ${e}`))}else{const t="melee"===h.getWeaponCategory(c.equippedWeapon),e=at(y,E),i=t?c.equippedWeapon:rt.j.UNARMED,d=h.getDamage(i,e);s.applyDamage(d),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${a} damages ${r} for ${d}`),o.sendNotification(n.i.DISPLAY_ATTACK+a),s.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,r):o.sendNotification(n.i.DISPLAY_HIT+r)}const m=o.retrieveProxy(w.NAME);m&&"player"!==m.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function at(t,e){return t-e}function ct(t){return t+ht()+ht()}function ht(){return Math.round(6*Math.random())}var dt=i(321);const{Facade:lt}=i(710);function pt(t,e,...i){const o=lt.getInstance(t),r=i[0],s=i[1],a=i[2];o.retrieveProxy(x.b.NAME+r).useMovement(a.length-1);const c=o.retrieveMediator(dt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(a).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,s)}))}function ut(t,e,...i){const o=K.Facade.getInstance(t),r=i[0];console.log("Kill character:: "+r);const s=o.retrieveProxy(x.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",s),o.sendNotification(n.i.DISPLAY_DEATH+r),s&&(s.currentStamina=0,s.currentNode.occupied=!1);const a=o.retrieveProxy(w.NAME);a&&a.removeCharacterFromCombat(r)}const{Facade:Et}=i(710);function yt(t,e,...i){const o=i[0],r=Et.getInstance(t);r.hasMediator(w.NAME)&&r.removeMediator(w.NAME),r.sendNotification(n.i.HIDE_WALKABLE_AREA);const s=r.retrieveProxy(y.u.NAME);"player_team"===o?(s.updateGameStateType(R.gameplayModeTypes.GAME_OVER),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(s.updateGameStateType(R.gameplayModeTypes.EXPLORATION),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}function mt(t,e,...i){const n=K.Facade.getInstance(t),o=i[0],r=n.retrieveProxy(x.b.NAME+o),s=n.retrieveProxy(v.NAME).getTree(r.botBehaviour);s&&s.runCommands(n,o)}i(316),i(744);var gt=i(852);function ft(t,e,...i){const o=K.Facade.getInstance(t);let s=0,a=0;const c=i[0],h=o.retrieveProxy(x.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(x.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode);const E=h.equippedWeapon+"Fighting",y=h.getSkillTotal(E);s+=At(y),a+=At(p.skill);const m=o.retrieveProxy(g.NAME);o.retrieveProxy(r.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(a+=2);const f=o.retrieveMediator(gt.N.NAME),A=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),N=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),f.createProjectile("crossbow_bolt",A,N).then((()=>{if(s>a){const t=o.retrieveProxy(w.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(x.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(x.b.NAME+l)}const e=s-a,i=m.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,l):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(w.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function At(t){return t+Nt()+Nt()}function Nt(){return Math.round(6*Math.random())}const{Facade:Tt}=i(710);function _t(t,e,...i){const o=Tt.getInstance(t);if(o.retrieveProxy(y.u.NAME).currentMode===R.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(w.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const r=i[0],s=i[1],a=o.retrieveProxy(x.b.NAME+r);a&&(a.equippedWeapon=s,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} equips ${s}`))}function Ct(t,e,...i){const o=K.Facade.getInstance(t),s=i[0],a=i[1],c=i[2],h=o.retrieveProxy(r.h.NAME).findNearestNode(s);o.retrieveMediator(dt.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,a,c)}))}const{Facade:Mt}=i(710);function vt(t,e,...i){const n=Mt.getInstance(t),o=i[0],s=pc.Application.getApplication(),a=s.assets.get(40523336),c=s.root.findByName("WorldObjects"),h=a.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(r.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:It}=i(710);function St(t,e,...i){const o=It.getInstance(t),r=i[0],a=o.retrieveProxy(x.b.NAME+"player"),c=o.retrieveProxy(x.b.NAME+r),h=o.retrieveMediator(dt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=s.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=s.q.calculatePath(n,t[i]);(!e||o&&o.length<e.length)&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_DIALOGUE,r)}))}const{Facade:Pt}=i(710);function Ot(t,e,...i){const o=Pt.getInstance(t),r=o.retrieveProxy(y.u.NAME),s=i[0],a=o.retrieveProxy(N.NAME),c=o.retrieveProxy(x.b.NAME+"player"),h=o.retrieveProxy(x.b.NAME+s),d=h.dialogueTree;a.startDialogueTree(d),r.updateGameStateType(R.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=a.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function bt(t,e,...i){const o=K.Facade.getInstance(t),r=o.retrieveProxy(N.NAME),s=r.continueCurrentNodeStep();if(s){if(s.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),s.notifications)for(const t of s.notifications)o.sendNotification(t.name,...t.args);o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:s})}else o.sendNotification(n.i.END_DIALOGUE)}function xt(t,e,...i){const o=K.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(N.NAME),a=s.selectChoice(r);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:a.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:s.currentTree,step:c}),a.test?o.sendNotification(n.i.RESOLVE_DIALOGUE_SKILL_TEST,a.test):a.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,a.goto)}function Dt(t,e,...i){const o=K.Facade.getInstance(t),r=o.retrieveProxy(N.NAME),s=i[0];r.goToNode(s);const a=r.getCurrentNodeStep();if(a){if(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:a}),console.log("*****"),console.log(a),a.notifications)for(const t of a.notifications)console.log("SHOOT COMMAND: "+t.name),o.sendNotification(t.name,...t.args)}else o.sendNotification(n.i.END_DIALOGUE)}const{Facade:Lt}=i(710);function wt(t,e,...i){const o=Lt.getInstance(t);o.retrieveProxy(y.u.NAME).updateGameStateType(R.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:Rt}=i(710);function Gt(t,e,...i){const o=Rt.getInstance(t),r=i[0],a=o.retrieveProxy(x.b.NAME+"player"),c=o.retrieveProxy(x.b.NAME+r),h=o.retrieveMediator(dt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=s.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=s.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(a,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,r),o.sendNotification(n.i.RESOLVE_ATTACK,"player",r)}))}const{Facade:Ut}=i(710);function kt(t,e,...i){const n=Ut.getInstance(t),o=i[0];n.retrieveProxy(y.u.NAME).currentAction=o}function Ht(t,e,...i){const o=K.Facade.getInstance(t),r=i[0],s=o.retrieveProxy(x.b.NAME+"player").getSkillTotal(r.skill),a=Vt(),c=Vt(),h=s>=a+c;o.sendNotification(n.i.DISPLAY_DIALOGUE_SKILL_TEST,r.skill,s,a,c,h),h?(console.log(`Succeeded ${r.skill} with a ${s} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,r.success.goto)):(console.log(`Failed ${r.skill} with a ${s} vs ${a}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,r.failure.goto))}function Vt(){return Math.round(6*Math.random())}const{Facade:Ft}=i(710);function Bt(t,e,...i){const o=Ft.getInstance(t),r=o.retrieveProxy(x.b.NAME+"player");o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL),o.sendNotification(n.i.UPDATE_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}const{Facade:zt}=i(710);function qt(t,e,...i){const o=zt.getInstance(t),r=i[0],s=i[1],a=i[2],c=o.retrieveProxy(x.b.NAME+r);c.reorderInventoryItem(s,a),o.sendNotification(n.i.UPDATE_INVENTORY_PANEL,c.inventoryItems,c.equipmentSlots)}var Yt=i(173);function Wt(t,e,...i){const o=K.Facade.getInstance(t),r=i[0],s=i[1],a=i[2],c=o.retrieveProxy(x.b.NAME+r),h=c.inventoryItems.find((t=>t.id===s));if(h)c.attemptToEquipItemToSlot(a,h)&&"weapon"===h.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",h.id);else{const t=o.retrieveProxy(_.NAME),e=new Yt.R(t.getItemData(s));c.attemptToEquipItemToSlot(a,e)&&"weapon"===e.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",e.id)}o.sendNotification(n.i.DISPLAY_EQUIPPED_SLOT,c.equipmentSlots),o.sendNotification(n.i.UPDATE_INVENTORY_PANEL,c.inventoryItems,c.equipmentSlots)}const{Facade:Kt}=i(710);function jt(t,e,...i){const n=i[0],o=i[1],r=Kt.getInstance(t),s=r.retrieveProxy(_.NAME);console.log(r),console.log(s);const a=r.retrieveProxy(x.b.NAME+n),c=new Yt.R(s.getItemData(o));a.addInventoryItem(c)}const{Facade:Qt}=i(710);function $t(t,e,...i){const o=Qt.getInstance(t),r=o.retrieveProxy(x.b.NAME+"player"),s=o.retrieveProxy(y.u.NAME),a=i[0],c=r.getEquippedItem(a);c&&"weapon"===c.type&&("attack"!==s.currentAction?(o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id),s.currentAction="attack",o.sendNotification(n.i.SET_USE_ITEM_BUTTON_HIGHLIGHT,a,!0)):(s.currentAction="interact",o.sendNotification(n.i.SET_USE_ITEM_BUTTON_HIGHLIGHT,a,!1)))}const{Facade:Xt}=i(710);class Jt extends Xt{static getInstance(t){return Xt.instanceMap[t]||(Xt.instanceMap[t]=new Jt(t)),Xt.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Jt.NAME+"StartUp"}startup(t){this.sendNotification(Jt.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Jt.STARTUP,S),this.registerCommand(n.i.CHANGE_SCENE,O),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,U),this.registerCommand(n.i.NEXT_COMBAT_TURN,H),this.registerCommand(n.i.NEXT_COMBAT_ROUND,F),this.registerCommand(n.i.END_COMBAT_TURN,z),this.registerCommand(n.i.ENEMY_TURN,W),this.registerCommand(n.i.SELECTED_NODE,j),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,$),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,mt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,J),this.registerCommand(n.i.HIDE_WALKABLE_AREA,Z),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,tt),this.registerCommand(n.i.FINISHED_MOVE,et),this.registerCommand(n.i.SELECT_GAME_CHARACTER,nt),this.registerCommand(n.i.RESOLVE_ATTACK,st),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,ft),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,pt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,Gt),this.registerCommand(n.i.KILL_GAME_CHARACTER,ut),this.registerCommand(n.i.END_COMBAT,yt),this.registerCommand(n.i.EQUIP_WEAPON,_t),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,Ct),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,vt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,St),this.registerCommand(n.i.START_DIALOGUE,Ot),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,bt),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,xt),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,Dt),this.registerCommand(n.i.END_DIALOGUE,wt),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,kt),this.registerCommand(n.i.RESOLVE_DIALOGUE_SKILL_TEST,Ht),this.registerCommand(n.i.CLICK_INVENTORY_BUTTON,Bt),this.registerCommand(n.i.REORDER_INVETORY_ITEM,qt),this.registerCommand(n.i.EQUIP_ITEM_TO_SLOT,Wt),this.registerCommand(n.i.ADD_ITEM_TO_INVENTORY,jt),this.registerCommand(n.i.USE_EQUIPPED_ITEM,$t)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},623:(t,e,i)=>{i.d(e,{P:()=>s});var n=i(379),o=i(935),r=i(68);class s extends n.H{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(r.i.END_COMBAT_TURN),o.d.SUCCESS}}},488:(t,e,i)=>{i.d(e,{o:()=>r});var n=i(379),o=i(935);class r extends n.H{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),o.d.SUCCESS}}},650:(t,e,i)=>{i.d(e,{s:()=>s});var n=i(379),o=i(935),r=i(958);class s extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(r.b.NAME+i).availableActions>0?o.d.SUCCESS:o.d.FAILURE}}},658:(t,e,i)=>{i.d(e,{$:()=>s});var n=i(379),o=i(935),r=i(958);class s extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(r.b.NAME+i).availableMovement>0?o.d.SUCCESS:o.d.FAILURE}}},94:(t,e,i)=>{i.d(e,{r:()=>s});var n=i(379),o=i(935),r=i(958);class s extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(r.b.NAME+i).isDead?o.d.SUCCESS:o.d.FAILURE}}},30:(t,e,i)=>{i.d(e,{N:()=>s});var n=i(379),o=i(935),r=i(958);class s extends n.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(r.b.NAME+i).isDead?o.d.SUCCESS:o.d.FAILURE}}},379:(t,e,i)=>{i.d(e,{H:()=>r});var n=i(935),o=i(217);class r{constructor(t){this.initialize(t)}initialize(t){this.id=(0,o.L)(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==n.d.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return n.d.ERROR}close(t){}exit(t){}}},935:(t,e,i)=>{i.d(e,{d:()=>n});class n{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}},996:(t,e,i)=>{i.d(e,{q:()=>r});var n=i(379),o=i(935);class r extends n.H{tick(t){for(const e of this.children)e.execute(t);return o.d.SUCCESS}}},96:(t,e,i)=>{i.d(e,{_:()=>r});var n=i(379),o=i(935);class r extends n.H{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==o.d.SUCCESS)return i===o.d.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return o.d.SUCCESS}}},890:(t,e,i)=>{i.d(e,{U:()=>r});var n=i(379),o=i(935);class r extends n.H{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==o.d.FAILURE)return i}return o.d.FAILURE}}},966:(t,e,i)=>{i.d(e,{M:()=>r});var n=i(379),o=i(935);class r extends n.H{tick(t){const e=this.children[0];if(!e)return o.d.ERROR;let i=e.execute(t);return i==o.d.SUCCESS?i=o.d.FAILURE:i==o.d.FAILURE&&(i=o.d.SUCCESS),i}}},226:(t,e,i)=>{i.d(e,{o:()=>M});var n=i(996),o=i(541),r=i(890),s=i(488),a=i(379),c=i(935),h=i(68);class d extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(h.i.RESOLVE_ATTACK,i,n),c.d.SUCCESS}}var l=i(623),p=i(658),u=i(958);class E extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(u.b.NAME+i).currentNode;return e.retrieveProxy(u.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?c.d.SUCCESS:c.d.FAILURE}}var y=i(96),m=i(966),g=i(30),f=i(434);class A extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(u.b.NAME+i),r=o.currentNode,s=e.retrieveProxy(u.b.NAME+n).currentNode.connectedNodes.filter((t=>!t.occupied));if(s.length>0){let t=s.reduce(((t,e)=>N(r,t)<N(r,e)?t:e));const n=f.q.calculatePath(r,t);if(n&&n.length>0){const r=o.vo;for(;n.length>r.availableMovement;)n.shift();e.sendNotification(h.i.NAVIGATE_ALONG_PATH+i,n),o.currentNode=t}}else setTimeout((()=>{e.sendNotification(h.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500);return o.availableMovement=0,c.d.SUCCESS}}function N(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}var T=i(94),_=i(650);class C extends a.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(u.b.NAME+i).availableMovement=0,c.d.SUCCESS}}class M extends o.p{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new n.q([new r.U([new y._([new s.o,new m.M([new T.r]),new m.M([new g.N]),new r.U([new y._([new E,new _.s,new s.o,new d,new C]),new y._([new p.$,new s.o,new A])])]),new l.P])])}}},744:(t,e,i)=>{i.d(e,{b:()=>P});var n=i(996),o=i(541),r=i(890),s=i(488),a=i(623),c=i(96),h=i(966),d=i(30),l=i(94),p=i(658),u=i(650),E=i(379),y=i(935),m=i(68);class g extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(m.i.RESOLVE_RANGED_ATTACK,i,n),y.d.SUCCESS}}var f=i(958),A=i(434);class N extends E.H{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(f.b.NAME+i),r=o.currentNode,s=e.retrieveProxy(f.b.NAME+n).currentNode,a=Math.pow(this.minDistance,2),c=Math.pow(this.maxDistance,2),h=o.availableMovement;o.availableMovement=0;const d=T(s,r);if(d>=a&&d<=c)return y.d.FAILURE;{const t=A.q.breadthFirstSearch(r,h);if(t.length>0){if(d<a){let n=t.reduce(((t,e)=>T(s,t)>T(s,e)?t:e));const a=A.q.calculatePath(r,n);a&&a.length>0&&(e.sendNotification(m.i.NAVIGATE_ALONG_PATH+i,a),o.currentNode=n)}else{let n=t.reduce(((t,e)=>T(s,t)<T(s,e)?t:e));const a=A.q.calculatePath(r,n);a&&a.length>0&&(e.sendNotification(m.i.NAVIGATE_ALONG_PATH+i,a),o.currentNode=n)}return y.d.SUCCESS}return y.d.FAILURE}}}function T(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class _ extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(m.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}var C=i(969),M=i(467);class v extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(f.b.NAME+i),r=(o.currentNode,e.retrieveProxy(f.b.NAME+n)),s=(r.currentNode,e.retrieveProxy(C.h.NAME)),a=(0,M.z)(o),c=(0,M.z)(r);return s.rayIntersectsWall(a,c)?y.d.FAILURE:y.d.SUCCESS}}class I extends E.H{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(f.b.NAME+i),r=o.currentNode,s=e.retrieveProxy(f.b.NAME+n),a=s.currentNode.connectedNodes,c=e.retrieveProxy(C.h.NAME),h=a.filter((t=>!t.occupied));if(h.length>0){let t=h.reduce(((t,e)=>S(r,t)<S(r,e)?t:e));const n=A.q.calculatePath(r,t);if(n&&n.length>0){const r=o.vo;for(;n.length>r.availableMovement;)n.shift();const a=(0,M.z)(s);let h=0;for(let t=n.length-1;t>=0;t--){const e=n[t],i=new pc.Vec3(e.x,e.y+.5*o.height,e.z);if(!c.rayIntersectsWall(i,a)){h=t;break}}n.splice(0,h),e.sendNotification(m.i.NAVIGATE_ALONG_PATH+i,n),o.currentNode=t}}return o.availableMovement=0,y.d.SUCCESS}}function S(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class P extends o.p{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new n.q([new r.U([new c._([new s.o,new h.M([new l.r]),new h.M([new d.N]),new r.U([new c._([new p.$,new h.M([new v]),new I]),new c._([new p.$,new r.U([new N(9,12),new _])]),new c._([new u.s,new v,new g])])]),new a.P])])}}},541:(t,e,i)=>{i.d(e,{p:()=>s});class n{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class o{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class r{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new o;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],r=i.openNodes.slice(0);let s=0;for(let t=0;t<Math.min(n.length,r.length)&&(s=t+1,n[t]===r[t]);t++);for(let t=n.length-1;t>=s;t--)n[t].close(i);e.set("openNodes",r,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class s{constructor(t){this.id="basicMeleeTree",this.blackboard=new n,this.tree=new r(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get DISPLAY_DIALOGUE_SKILL_TEST(){return"DISPLAY_DIALOGUE_SKILL_TEST"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get RESOLVE_DIALOGUE_SKILL_TEST(){return"RESOLVE_DIALOGUE_SKILL_TEST"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}static get CLICK_INVENTORY_BUTTON(){return"CLICK_INVENTORY_BUTTON"}static get DISPLAY_INVENTORY_PANEL(){return"DISPLAY_INVENTORY_PANEL"}static get UPDATE_INVENTORY_PANEL(){return"UPDATE_INVENTORY_PANEL"}static get REORDER_INVETORY_ITEM(){return"REORDER_INVETORY_ITEM"}static get EQUIP_ITEM_TO_SLOT(){return"EQUIP_ITEM_TO_SLOT"}static get ADD_ITEM_TO_INVENTORY(){return"ADD_ITEM_TO_INVENTORY"}static get DISPLAY_EQUIPPED_SLOT(){return"DISPLAY_EQUIPPED_SLOT"}static get USE_EQUIPPED_ITEM(){return"USE_EQUIPPED_ITEM"}static get SET_USE_ITEM_BUTTON_HIGHLIGHT(){return"SET_USE_ITEM_BUTTON_HIGHLIGHT"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},812:(t,e,i)=>{i.r(e),i.d(e,{BotBehavioursVO:()=>s});var n=i(316),o=i(226),r=i(744);class s{constructor(t,e){this.behaviourTrees=new Map,this.behaviourTrees.set(n.r.BASIC_MELEE,new o.o),this.behaviourTrees.set(n.r.BASIC_RANGED,new r.b)}getTree(t){return this.behaviourTrees.get(t)}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>s});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class s extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(s.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}getSkillTotal(t){return this.vo.advancedSkills.has(t)?this.skill+this.vo.advancedSkills.get(t):this.skill}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}set currentStamina(t){this.vo.currentStamina=t}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}reorderInventoryItem(t,e){const i=this.inventoryItems.findIndex((e=>e.uuid===t)),n=this.inventoryItems.splice(i,1);let o=0,r=0;for(let t=0;t<this.inventoryItems.length;t++){const i=this.inventoryItems[t];e>=o&&e<o+i.size&&(r=t),o+=i.size}if(e>=o&&(r=this.inventoryItems.length),"[object Array]"!==Object.prototype.toString.call(this.inventoryItems))throw new Error("Please provide a valid array");if(!n.length)throw new Error("There is no item in the array at index "+i);this.inventoryItems.splice(r,0,n[0])}attemptToEquipItemToSlot(t,e){if(("1hand"===t||"2hand"===t)&&"weapon"===e.type){const i=this.equipmentSlots.get(t);if(i&&"2hand"===i.equipSlot&&(this.equipmentSlots.delete("1hand"),this.equipmentSlots.delete("2hand")),"1hand"===e.equipSlot){if(this.equipmentSlots.set(t,e),"1hand"===t){const t=this.equipmentSlots.get("2hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("2hand")}else if("2hand"===t){const t=this.equipmentSlots.get("1hand");t&&t.uuid===e.uuid&&this.equipmentSlots.delete("1hand")}}else this.equipmentSlots.set("1hand",e),this.equipmentSlots.set("2hand",e);return!0}return"armour"===t&&"armour"===e.type&&(this.equipmentSlots.set(t,e),!0)}addInventoryItem(t){this.inventoryItems.push(t)}getEquippedItem(t){return this.equipmentSlots.get(t)}get inventoryItems(){return this.vo.inventoryItems}set inventoryItems(t){this.vo.inventoryItems=t}get equipmentSlots(){return this.vo.equipmentSlots}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>o});var n=i(173);class o{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||new Map,this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed",this.inventoryItems=[],this.equipmentSlots=new Map}addItem(t){this.inventoryItems.push(new n.R(t))}}},969:(t,e,i)=>{i.d(e,{h:()=>s});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class s extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(s.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const s=t.connectedNodes[n],a=r.get(t)+1;if(!s.occupied&&(!r.has(s)||a<r.get(s))){r.set(s,a);let n=a+this.heuristic(s,e);i.push(s,n),o.set(s,t)}}}let s=e,a=!1;const c=[];for(c.push(s);!s.equals(t)&&!a;)o.has(s)||!s.equals(e)?(s=o.get(s),c.push(s)):a=!0;return a?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const s=t.connectedNodes[n],a=this.getDistSquared(s,t),c=r.get(t)+a;if(!s.occupied&&(!r.has(s)||c<r.get(s))){r.set(s,c);let n=c+this.heuristic(s,e);i.push(s,n),o.set(s,t)}}}let s=e,a=!1;const c=[];for(c.push(s);!s.equals(t)&&!a;)o.has(s)||!s.equals(e)?(s=o.get(s),c.push(s)):a=!0;return a?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,r=n-e,s=Math.abs(o),a=Math.abs(r);const c=o>0?1:-1,h=r>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<s||e<a;)(.5+t)/s<(.5+e)/a?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},173:(t,e,i)=>{i.d(e,{R:()=>o});var n=i(217);class o{constructor(t){this.uuid=(0,n.L)(),this.id=t.id,this.icon=t.icon,this.name=t.name,this.description=t.description,this.type=t.type,this.size=t.size??1,this.equipSlot=t.equipSlot??"none"}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},467:(t,e,i)=>{function n(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}i.d(e,{z:()=>n})},217:(t,e,i)=>{function n(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}i.d(e,{L:()=>n})},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),s=i(958);const{Mediator:a}=i(710);class c extends a{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(s.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(s.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(s.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,a=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=r.q.calculateWaypointsPath(a,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let r=!0;for(;o.length>1&&r;)e.hasValidLine(o[o.length-2],n)?o.pop():r=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(s.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(s.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(s.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(409),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(409),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},r.prototype.update=function(t){};var s=i(434);const a=pc.createScript("NavigationComponent");a.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),a.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},a.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},a.prototype.setGrid=function(t){this.nodeGrid=t},a.prototype.getGrid=function(){return this.nodeGrid},a.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=s.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=s.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const E=pc.createScript("GameCharacterComponent");function y(t){const e=new Map;for(const i of t)e.set(i.skillName,i.skillValue);return e}E.attributes.add("characterId",{type:"string",title:"Character Id"}),E.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),E.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),E.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),E.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),E.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"number"}],array:!0}),E.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),E.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),E.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),E.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),E.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},E.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:y(this.advancedSkills),equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1),this.entity.fire("created:gameCharacter")},E.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},E.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},E.prototype.update=function(t){this.moveAlongPath(t)},E.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},E.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},E.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},E.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},E.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var m=i(917),g=i(448);const f=pc.createScript("AgroGameCharacterComponent");f.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),f.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},f.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},f.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(m.u.NAME).vo.gameplayMode!==g.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,s=new pc.Vec3(r.x,r.y,r.z),a=new pc.Vec3(n.x,n.y,n.z);if(s.distance(a)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);s.y+=this.characterProxy.height,t.rayIntersectsWall(s,a)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:A}=i(710);class N extends A{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const T=pc.createScript("ToastMessageComponent");T.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),T.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},T.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},T.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:_}=i(710);class C extends _{static get NAME(){return"InputLayerMediator"}constructor(t){super(C.NAME),this.subscribeNotification([]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const M=pc.createScript("GameCamera");M.attributes.add("distance",{type:"number",default:100,title:"Distance"}),M.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),M.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),M.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),M.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(I.NAME)&&this.facade.removeMediator(I.NAME),this.facade.registerMediator(new I(this.entity))},M.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},M.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},M.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},M.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class I extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(I.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const S=pc.createScript("InputLayerComponent");S.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),S.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),S.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(C.NAME)&&this.facade.removeMediator(C.NAME),this.facade.registerMediator(new C(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},S.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},S.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},S.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},S.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},S.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},S.prototype.update=function(t){this.processInputQueue()},S.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},S.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},S.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},S.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:P}=i(710);class O extends P{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(O.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const b=pc.createScript("PlayerCombatPanelComponent");b.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),b.prototype.initialize=function(){},b.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(O.NAME)&&this.facade.removeMediator(O.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new O(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},b.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:D}=i(710);class L extends D{static get NAME(){return"ActionPanelMediator"}constructor(t){super(L.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const w=pc.createScript("ActionButtonComponent");w.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),w.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),w.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),w.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},w.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},w.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(L.NAME)&&this.facade.removeMediator(L.NAME),this.facade.registerMediator(new L(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var G=i(852);const U=pc.createScript("ProjectileCreatorComponent");U.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),U.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(G.N.NAME)&&this.facade.removeMediator(G.N.NAME),this.facade.registerMediator(new G.N(this.entity))},U.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const k=pc.createScript("ProjectileComponent");k.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),k.prototype.initialize=function(){},k.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},k.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},k.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:H}=i(710);class V extends H{static get NAME(){return"StaminaBarMediator"}constructor(t){super(V.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const F=pc.createScript("StaminaBarComponent");F.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),F.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),F.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(V.NAME)&&this.facade.removeMediator(V.NAME),this.facade.registerMediator(new V(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},F.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:B}=i(710);class z extends B{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(z.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const q=pc.createScript("ActionsRemainingPanelComponent");q.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(z.NAME)&&this.facade.removeMediator(z.NAME),this.facade.registerMediator(new z(this.entity)),this.pips=[]},q.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},q.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const Y=pc.createScript("ActionsRemainingPipComponent");Y.attributes.add("pipFront",{type:"entity",title:"Pip front"}),Y.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:W}=i(710);class K extends W{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,r=i.x/o,s=(this.device.height-i.y)/o;return new pc.Vec3(r,s,0)}};const Q=pc.createScript("FloatingStatusCreatorComponent");Q.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),Q.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),Q.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),Q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},Q.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:$}=i(710);class X extends ${static get NAME(){return"PortalMediator"}constructor(t){super(X.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(m.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,r=i.standingPoint.getPosition();t.currentMode===g.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,r,n,o)}}const J=pc.createScript("PortalComponent");J.attributes.add("portalId",{type:"string",title:"Portal Id"}),J.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),J.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),J.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),J.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),J.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(X.NAME)&&this.facade.removeMediator(X.NAME),this.facade.registerMediator(new X(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:Z}=i(710);class tt extends Z{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(tt.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.DISPLAY_DIALOGUE_SKILL_TEST,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:setTimeout((()=>{this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1}),100);break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.DISPLAY_DIALOGUE_SKILL_TEST:this.viewComponent.script.DialoguePanelComponent.createSkillTest(...i);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const et=pc.createScript("DialoguePanelComponent");et.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),et.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),et.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),et.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),et.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),et.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),et.attributes.add("skillTestEntryTemplate",{type:"asset",title:"Skill Test Entry Asset"}),et.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(tt.NAME)&&this.facade.removeMediator(tt.NAME),this.facade.registerMediator(new tt(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},et.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},et.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createSkillTest=function(t,e,i,n,o){const r=this.skillTestEntryTemplate.resource.instantiate();r.script.DialogueSkillTestComponent.setup(t,e,i,n,o),this.feedEntity.addChild(r),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},et.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},et.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},et.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},et.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const it=pc.createScript("DialogueChoiceComponent");it.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),it.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),it.prototype.initialize=function(){},it.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},it.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const nt=pc.createScript("DefaultAnimationComponent");nt.attributes.add("animationName",{type:"string",title:"Animation Name"}),nt.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const ot=pc.createScript("DialogueTextComponent");ot.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),ot.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),ot.attributes.add("textContainer",{type:"entity",title:"Text Container"}),ot.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),ot.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),ot.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),ot.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),ot.prototype.initialize=function(){},ot.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},ot.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},ot.prototype.postInitialize=function(){this.setHeight()},ot.prototype.update=function(t){};const{Mediator:rt}=i(710);class st extends rt{static get NAME(){return"AttackButtonMediator"}constructor(t){super(st.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const at=pc.createScript("AttackButtonComponent");at.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),at.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(st.NAME)&&this.facade.removeMediator(st.NAME),this.facade.registerMediator(new st(this.entity)),this.entity.element.on("click",this.handleClick,this)},at.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},at.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const{Mediator:ct}=i(710);class ht extends ct{static get NAME(){return"UseItemButtonMediator"}constructor(t,i){super(ht.NAME+i),this.equipmentSlotKey=i,this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED,e.i.DISPLAY_EQUIPPED_SLOT,e.i.SET_USE_ITEM_BUTTON_HIGHLIGHT]),this.viewComponent=t,this.viewComponent.on("click:useItem",this.handleUseItem,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!0):this.viewComponent.script.UseItemButtonComponent.toggleHighlight(!1);break;case e.i.DISPLAY_EQUIPPED_SLOT:const t=i[0].get(this.equipmentSlotKey);t&&t.icon?this.viewComponent.script.UseItemButtonComponent.setIcon(t.icon):this.viewComponent.script.UseItemButtonComponent.setDefaultIcon();break;case e.i.SET_USE_ITEM_BUTTON_HIGHLIGHT:const n=i[0];if(console.log(`Highlight: ${n} vs ${this.equipmentSlotKey}`),n===this.equipmentSlotKey){const t=i[1];this.viewComponent.script.UseItemButtonComponent.toggleHighlight(t)}}}handleUseItem(){this.facade.sendNotification(e.i.USE_EQUIPPED_ITEM,this.equipmentSlotKey)}}const dt=pc.createScript("UseItemButtonComponent");dt.attributes.add("equipmentSlotKey",{type:"string",title:"Equipment Slot Key"}),dt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),dt.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),dt.attributes.add("defaultIcon",{type:"asset",title:"Default Icon"}),dt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(ht.NAME+this.equipmentSlotKey)&&this.facade.removeMediator(ht.NAME+this.equipmentSlotKey),this.facade.registerMediator(new ht(this.entity,this.equipmentSlotKey)),this.entity.element.on("click",this.handleClick,this)},dt.prototype.setIcon=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},dt.prototype.setDefaultIcon=function(){this.iconEntity.element.spriteAsset=this.defaultIcon},dt.prototype.handleClick=function(t){this.entity.fire("click:useItem")},dt.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const lt=pc.createScript("VehicleComponent");function pt(t,e){return t.length()<e?t:t.normalize().scale(e)}lt.attributes.add("mass",{type:"number",title:"Mass",default:3}),lt.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),lt.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),lt.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),lt.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},lt.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=pt(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=pt(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},lt.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},lt.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const ut=pc.createScript("ScreenResizeComponent");ut.prototype.window=window,ut.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},ut.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const Et=pc.createScript("DialogueSkillTestComponent");Et.attributes.add("skillNameLabel",{type:"entity",title:"Skill Name Label"}),Et.attributes.add("skillValueLabel",{type:"entity",title:"Skill Value Label"}),Et.attributes.add("die1Label",{type:"entity",title:"Die 1 Label"}),Et.attributes.add("die2Label",{type:"entity",title:"Die 2 Label"}),Et.attributes.add("successLabel",{type:"entity",title:"Success Label"}),Et.attributes.add("failureLabel",{type:"entity",title:"Failure Label"}),Et.prototype.initialize=function(){},Et.prototype.setup=function(t,e,i,n,o){this.skillNameLabel.element.text=t,this.skillValueLabel.element.text=e,this.die1Label.element.text=i,this.die2Label.element.text=n,this.successLabel.enabled=o,this.failureLabel.enabled=!o};const yt=pc.createScript("InventoryItemComponent");yt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),yt.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),yt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),yt.attributes.add("expandedEntity",{type:"entity",title:"Expanded Entity"}),yt.prototype.setup=function(t){this.icon=t.icon;const e=this.app.assets.get(this.icon);this.iconEntity.element.spriteAsset=e,this.size=t.size,this.labelEntity.element.text=t.name,this.entity.element.height=this.slotHeight*this.size,this.expandedEntity.element.height=this.slotHeight*this.size,this.itemData=t},yt.prototype.collapse=function(){this.expandedEntity.enabled=!1},yt.prototype.expand=function(){this.expandedEntity.enabled=!0},yt.prototype.postInitialize=function(){new pc.ElementDragHelper(this.entity.element,null).on("drag:start",this.onDragStart,this)},yt.prototype.onDragStart=function(){this.entity.parent.fire("drag:start",this.entity,this.size)};const{Mediator:mt}=i(710);class gt extends mt{static get NAME(){return"InventoryPanelMediator"}constructor(t){super(gt.NAME),this.subscribeNotification([e.i.DISPLAY_INVENTORY_PANEL,e.i.UPDATE_INVENTORY_PANEL]),this.viewComponent=t,this.viewComponent.on("reorderItem",this.handeReorderItem,this),this.viewComponent.on("equipItem",this.handleEquipItem,this),this.viewComponent.on("close",this.handleClose,this),this.viewComponent.enabled=!1}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_INVENTORY_PANEL:this.viewComponent.enabled=!0;break;case e.i.UPDATE_INVENTORY_PANEL:const t=i[0],n=i[1];this.viewComponent.script.InventoryPanelComponent.displayItems(t,n)}}handeReorderItem(t,i){this.facade.sendNotification(e.i.REORDER_INVETORY_ITEM,"player",t,i)}handleEquipItem(t,i){this.facade.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,"player",t,i)}handleClose(){setTimeout((()=>{this.viewComponent.enabled=!1}),100)}}const ft=pc.createScript("InventoryPanelComponent");function At(t,e){return t.x>e.x1&&t.x<e.x2&&t.y>e.y1&&t.y<e.y2}ft.attributes.add("slotContainer",{type:"entity",title:"Slot Container"}),ft.attributes.add("topSlotPosition",{type:"entity",title:"Top Slot Position"}),ft.attributes.add("closeButton",{type:"entity",title:"Close Button"}),ft.attributes.add("itemAsset",{type:"asset",title:"Item Asset"}),ft.attributes.add("dragIcon",{type:"entity",title:"Drag Icon"}),ft.attributes.add("slotWidth",{type:"number",title:"Slot Width",default:320}),ft.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),ft.attributes.add("maxSlots",{type:"number",title:"Max Slots",default:12}),ft.attributes.add("equipmentSlots",{type:"json",schema:[{name:"key",title:"Equipment Slot Key",type:"string"},{name:"entity",title:"Equipment Slot Entity",type:"entity"}],array:!0,title:"Equipment Slots"}),ft.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(gt.NAME)&&this.facade.removeMediator(gt.NAME),this.facade.registerMediator(new gt(this.entity)),this.entity.on("drag:start",this.handleDragStart,this),this.closeButton.element.on("click",this.handleClose,this),this.inventoryItemEntities=[]},ft.prototype.handleDragStart=function(t,e){t.reparent(this.entity),this.dragIcon.reparent(this.entity),this.app.touch?(this.app.touch.on(pc.EVENT_TOUCHMOVE,(i=>{i.touches.length>0&&this.handleMouseMove(t,e,i.touches[0])}),this),this.app.touch.on(pc.EVENT_TOUCHEND,(i=>{i.changedTouches.length>0&&this.handleMouseUp(t,e,i.changedTouches[0])}),this)):(this.entity.element.on(pc.EVENT_MOUSEMOVE,(i=>{this.handleMouseMove(t,e,i)}),this),this.entity.element.on(pc.EVENT_MOUSEUP,(i=>{this.handleMouseUp(t,e,i)}),this))},ft.prototype.localPositionFromMouseEvent=function(t){const e=new pc.Vec3(t.x,t.y,0),i=this.app.graphicsDevice.maxPixelRatio;e.x*=i,e.y*=i;const n=this.entity.element.screen.screen,o=this.app.graphicsDevice,r=n.scale,s=e.x/r,a=(o.height-e.y)/r;return new pc.Vec3(s,a,0)},ft.prototype.handleMouseMove=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.setLocalPosition(n),this.displayPotentialList(t,e,n)},ft.prototype.handleMouseUp=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.enabled=!1,t.script.InventoryItemComponent.expand(),this.entity.element.off(pc.EVENT_MOUSEMOVE),this.entity.element.off(pc.EVENT_MOUSEUP),this.app.touch&&(this.app.touch.off(pc.EVENT_TOUCHMOVE),this.app.touch.off(pc.EVENT_TOUCHEND));const o=this.topSlotPosition.getLocalPosition();if(At(n,{x1:o.x,y1:o.y-this.maxSlots*this.slotHeight,x2:o.x+this.slotWidth,y2:o.y})){const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},n=this.localPositionFromMouseEvent(i),r=Math.max(0,Math.floor((o.y-n.y)/this.slotHeight)),s=t.script.InventoryItemComponent.itemData;this.entity.fire("reorderItem",s.uuid,r)}else this.checkDropOnEquipmentSlot(t,i)},ft.prototype.checkDropOnEquipmentSlot=function(t,e){for(const i of this.equipmentSlots){const n=i.key,o=i.entity.element.screenCorners,r=this.app.graphicsDevice.height;if(At({x:e.x,y:r-e.y},{x1:o[0].x,y1:o[0].y,x2:o[2].x,y2:o[2].y})){const e=t.script.InventoryItemComponent.itemData;this.entity.fire("equipItem",e.id,n)}}},ft.prototype.handleItemMove=function(t,e){this.isInBounds(e)?t.script.InventoryItemComponent.expand():t.script.InventoryItemComponent.collapse(),this.setHighlightPosition(e)},ft.prototype.handleClose=function(t){t.event.stopImmediatePropagation(),this.entity.fire("close")},ft.prototype.displayItems=function(t,e){this.clearPanel();const i=this.topSlotPosition.getLocalPosition();let n=0;for(let e=0;e<t.length;e++){const o=t[e];n+=o.size;const r=this.itemAsset.resource.instantiate();r.script.InventoryItemComponent.setup(o),r.setLocalPosition(i.x,i.y-n*this.slotHeight,0),this.inventoryItemEntities.push(r),this.entity.addChild(r)}for(const t of this.equipmentSlots){const i=t.key,n=t.entity;if(e.has(i)){const t=e.get(i);n.script.InventoryEquippedSlotComponent.setup(t.icon)}else n.script.InventoryEquippedSlotComponent.clear()}},ft.prototype.displayPotentialList=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();if(At(i,{x1:n.x,y1:n.y-this.maxSlots*this.slotHeight,x2:n.x+this.slotWidth,y2:n.y})){t.script.InventoryItemComponent.expand(),this.dragIcon.enabled=!1;const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},o=this.localPositionFromMouseEvent(i),r=Math.max(0,Math.floor((n.y-o.y)/this.slotHeight));this.reorderListWithGap(t,t.script.InventoryItemComponent.size,r)}else t.script.InventoryItemComponent.collapse(),this.dragIcon.enabled=!0},ft.prototype.reorderListWithGap=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();let o=0;for(let r=0;r<this.inventoryItemEntities.length;r++){const s=this.inventoryItemEntities[r];t!==s&&(i>=o&&i<o+s.script.InventoryItemComponent.size&&(o+=e),o+=s.script.InventoryItemComponent.size,s.setLocalPosition(n.x,n.y-o*this.slotHeight,0))}},ft.prototype.clearPanel=function(){for(;this.inventoryItemEntities.length>0;)this.inventoryItemEntities.pop().destroy()};const Nt=pc.createScript("InventoryDragIconComponent");Nt.prototype.initialize=function(){},Nt.prototype.setup=function(t,e){};const Tt=pc.createScript("InventoryEquippedSlotComponent");Tt.attributes.add("defaultAsset",{type:"asset",title:"Default Asset"}),Tt.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),Tt.prototype.initialize=function(){},Tt.prototype.setup=function(t){const e=this.app.assets.get(t);this.iconEntity.element.spriteAsset=e},Tt.prototype.clear=function(){this.iconEntity.element.spriteAsset=this.defaultAsset},pc.createScript("PlayerCharacterComponent").prototype.initialize=function(){this.entity.on("created:gameCharacter",(()=>{const i=c.Facade.getInstance(t.GameFacade.KEY);i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","sword"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","pistolet"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","fusil"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","chainmail"),i.sendNotification(e.i.ADD_ITEM_TO_INVENTORY,"player","shield"),i.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,"player","unarmed","1hand"),i.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,"player","unarmed","2hand")}))};const{Facade:_t}=i(710),{PureMVC:Ct}=i(710);new class{constructor(){Ct.debug=!0,_t.getInstance=t.GameFacade.getInstance,console.log(_t),this.facade=_t.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvYm90QmVoYXZpb3VyL0JvdEJlaGF2aW91clByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvU2h1ZmZsZUFycmF5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FcXVpcFdlYXBvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGsuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydERpYWxvZ3VlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dvVG9EaWFsb2d1ZU5vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kRGlhbG9ndWVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRXF1aXBJdGVtVG9TbG90Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0FkZEl0ZW10b0ludmVudG9yeUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Vc2VFcXVpcHBlZEl0ZW1Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmFzZU5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clN0YXR1cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWVtU2VxdWVuY2UuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL1ByaW9yaXR5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9kZWNvcmF0b3JzL0ludmVydGVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JlbGlucXVpc2hNb3ZlbWVudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2RhdGEvV2VhcG9uVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvYm90QmVoYXZpb3VyL0JvdEJlaGF2aW91cnNWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQWRqYWNlbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvaXRlbXMvSW52ZW50b3J5SXRlbS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9zdG9yeVByb3h5L1N0b3J5Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvQ2Fjb2dlbkdhbWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvbkJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvY29tcG9uZW50cy9UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVDaG9pY2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL2RlZmF1bHRBbmltL0RlZmF1bHRBbmltYXRpb25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC91c2VJdGVtQnV0dG9uL1VzZUl0ZW1CdXR0b25NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9wbGF5ZXJJbml0L1BsYXllckNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlB1cmVNVkNfMSIsIlZpZXdfMSIsIkNvbnRyb2xsZXIiLCJrZXkiLCJ0aGlzIiwiY29tbWFuZE1hcCIsImluc3RhbmNlTWFwIiwiRXJyb3IiLCJtdWx0aXRvbktleSIsImxvZ2dlciIsIlB1cmVNVkMiLCJkZWJ1ZyIsImxvZ0NvbW1hbmQiLCJsb2dOb25lIiwiaW5pdGlhbGl6ZUNvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyIiwiZ2V0SW5zdGFuY2UiLCJwcm90b3R5cGUiLCJyZWdpc3RlckNvbW1hbmQiLCJub3RpZmljYXRpb25OYW1lIiwiY29tbWFuZENsYXNzUmVmIiwidmlldyIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJleGVjdXRlQ29tbWFuZCIsImhhc0NvbW1hbmQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDb21tYW5kIiwicmVtb3ZlT2JzZXJ2ZXIiLCJWaWV3IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tbWFuZCIsIl9jb25zb2xlQXJncyIsIm5hbWUiLCJhcHBseSIsImNvbmNhdCIsIkNvbnRyb2xsZXJfMSIsIk1vZGVsXzEiLCJGYWNhZGUiLCJsb2dOb3RpZmljYXRpb24iLCJpbml0aWFsaXplTm90aWZpZXIiLCJpbml0aWFsaXplRmFjYWRlIiwiaGFzQ29yZSIsInJlbW92ZUNvcmUiLCJNb2RlbCIsInJlbW92ZU1vZGVsIiwicmVtb3ZlVmlldyIsImluaXRpYWxpemVNb2RlbCIsImluaXRpYWxpemVWaWV3IiwiY29udHJvbGxlciIsInJlZ2lzdGVyUHJveHkiLCJwcm94eSIsIm1vZGVsIiwicmV0cmlldmVQcm94eSIsInByb3h5TmFtZSIsInJlbW92ZVByb3h5IiwiaGFzUHJveHkiLCJyZWdpc3Rlck1lZGlhdG9yIiwibWVkaWF0b3IiLCJyZXRyaWV2ZU1lZGlhdG9yIiwibWVkaWF0b3JOYW1lIiwicmVtb3ZlTWVkaWF0b3IiLCJzbGVlcE1lZGlhdG9yIiwiYXdha2VNZWRpYXRvciIsImhhc01lZGlhdG9yIiwic2VuZE5vdGlmaWNhdGlvbiIsIl9hIiwibm90aWZ5T2JzZXJ2ZXJzIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJOb3RpZmllcl8xIiwiTWVkaWF0b3IiLCJfc3VwZXIiLCJ2aWV3Q29tcG9uZW50IiwiX3RoaXMiLCJjYWxsIiwibG9nTWVkaWF0b3IiLCJzbGVlcGluZyIsInN1YnNjcmliZWROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldE1lZGlhdG9yTmFtZSIsInNldFZpZXdDb21wb25lbnQiLCJnZXRWaWV3Q29tcG9uZW50Iiwib25SZWdpc3RlciIsIm9uUmVtb3ZlIiwib25TbGVlcCIsIm9uQXdha2UiLCJzdWJzY3JpYmVOb3RpZmljYXRpb24iLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJhZGRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZU5vdGlmaWNhdGlvbiIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImFjdGlvbiIsIm9sZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zIiwic2xpY2UiLCJjaGFuZ2VkIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImluZGV4T2YiLCJwdXNoIiwiaW5kZXgiLCJzcGxpY2UiLCJOb3RpZmllciIsInByb3h5TWFwIiwiZ2V0UHJveHlOYW1lIiwiRmFjYWRlXzEiLCJmYWNhZGUiLCJnZXRGYWNhZGUiLCJQcm94eSIsImRhdGEiLCJsb2dQcm94eSIsInNldERhdGEiLCJnZXREYXRhIiwiY29uc29sZUFyZ3MiLCJjb21tYW5kTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJFdmVudEVtaXR0ZXIiLCJtZWRpYXRvck1hcCIsImV2ZW50RW1pdHRlciIsIm9ic2VydmVyTWV0aG9kIiwiY29udGV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJlbWl0IiwicmVnaXN0ZXJPYnNlcnZlcnMiLCJvbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiYmluZCIsImlzU2xlZXBpbmciLCJyZW1vdmVPYnNlcnZlcnMiLCJpbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMSIsImludGVyZXN0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzIiLCJNZWRpYXRvcl8xIiwiUHJveHlfMSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJpIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJsZW4iLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJtb2R1bGUiLCJOYXZpZ2F0aW9uTm9kZSIsIngiLCJ5IiwieiIsImNvbm5lY3RlZE5vZGVzIiwib2NjdXBpZWQiLCJvdGhlck5vZGUiLCJzb21lIiwibm9kZSIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGVkTm9kZUluZGV4IiwiZmluZEluZGV4IiwiZXF1YWxzIiwicGFyc2VHYW1lTWFwQ29tbWFuZCIsImFwcCIsInBjIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsImZsb29yR3JpZCIsIm5hdmlnYXRpb25GbG9vcnMiLCJyb290IiwiZmluZEJ5VGFnIiwiY29tcGxldGVkR3JpZCIsIm5hdmlnYXRpb25Db21wb25lbnRzIiwiZmxvb3JFbnRpdHkiLCJuYXZDb21wIiwic2NyaXB0IiwiY29ubmVjdGVkQ29tcEVudGl0eSIsImNvbm5lY3RlZENvbXBvbmVudHMiLCJjb25uZWN0ZWRDb21wIiwiaW5jbHVkZXMiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZE5hdkNvbXAiLCJqb2luVG9BZGphY2VudEdyaWQiLCJnZXRHcmlkIiwiY3JlYXRlTWFwRmxvb3IiLCJ3YWxscyIsIndhbGxzQm91bmRpbmdCb3hlcyIsIm1hcFdhbGxFbnRpdGllcyIsIm1hcFdhbGxFbnRpdHkiLCJhYWJiIiwiY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5IiwiY3JlYXRlRmxvb3JVbmRlcldhbGxzIiwiZGVzdHJveSIsImNyZWF0ZU1hcFdhbGxzIiwiY292ZXIiLCJjb3ZlclBvaW50cyIsImNvdmVyRW50aXRpZXMiLCJjb3ZlckVudGl0eSIsImNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94IiwiY3JlYXRlTWFwQ292ZXIiLCJwb3J0YWxzIiwiTWFwIiwicG9ydGFsRW50aXRpZXMiLCJwb3J0YWxFbnRpdHkiLCJwb3J0YWxDb21wb25lbnQiLCJwb3J0YWxJZCIsInBvcnRhbCIsImRlc3RpbmF0aW9uU2NlbmUiLCJkZXN0aW5hdGlvblBvcnRhbCIsInN0YW5kaW5nUG9pbnQiLCJnZXRQb3NpdGlvbiIsImhpdGJveFBvaW50IiwiaGl0Ym94Iiwic2V0IiwiY3JlYXRlUG9ydGFscyIsIndheXBvaW50c01hcCIsIndheXBvaW50cyIsImZsb29yTm9kZSIsImlzV2F5cG9pbnQiLCJ3YXlwb2ludCIsIm90aGVyV2F5cG9pbnQiLCJsaW5lIiwiQXN0YXIiLCJhZGRDb25uZWN0ZWROb2RlIiwiY3JlYXRlV2F5cG9pbnRzTWFwIiwiR2FtZU1hcFByb3h5IiwiR2FtZUNvbW1hbmRzIiwiYm94RW50aXR5Iiwic2NhbGUiLCJnZXRMb2NhbFNjYWxlIiwiaGFsZkV4dGVudHMiLCJWZWMzIiwiQm91bmRpbmdCb3giLCJ3YWxsIiwid2FsbFBvcyIsIndhbGxTY2FsZSIsIk1hdGgiLCJyb3VuZCIsImNvcm5lclgiLCJjb3JuZXJaIiwibWF0Y2hpbmdOb2RlSW5kZXgiLCJlcXVhbHNQb2ludCIsImRlbGV0ZWROb2RlcyIsImRlbGV0ZWROb2RlIiwiZGlzY29ubmVjdGVkTm9kZSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsInNuYXBwZWRXaWR0aCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiZ3JpZFRvSm9pbiIsImJveCIsImJveFBvcyIsImJveFNjYWxlIiwiY292ZXJQb2ludCIsImZsb29yTWFwIiwibm9ydGh3ZXN0Iiwibm9ydGgiLCJub3J0aGVhc3QiLCJlYXN0Iiwic291dGhlYXN0Iiwic291dGgiLCJzb3V0aHdlc3QiLCJ3ZXN0IiwibiIsIldlYXBvbnNQcm94eSIsInN1cGVyIiwiTkFNRSIsIndlYXBvbk5hbWUiLCJkYW1hZ2VUaWVyIiwiY2F0ZWdvcnlLZXkiLCJ2byIsImNhdGVnb3J5IiwiZGFtYWdlIiwibWluIiwiU3RvcnlWTyIsIlN0b3J5UHJveHkiLCJzdG9yeVRyZWVzIiwiYXNzZXRzIiwicmVzb3VyY2UiLCJ0cmVlcyIsInN0b3J5VHJlZU1hcCIsInRyZWVLZXkiLCJzdG9yeVRyZWVBc3NldElkIiwic3RvcnlUcmVlIiwiY3VycmVudFRyZWUiLCJjdXJyZW50Tm9kZSIsImN1cnJlbnRTdGVwSW5kZXgiLCJjdXJyZW50Q29uZGl0aW9ucyIsInRyZWVJZCIsInRyZWUiLCJub2RlSWQiLCJub2RlcyIsInN0ZXBJbmRleCIsInN0ZXBzIiwiZ2V0VHJlZSIsImdldE5vZGUiLCJ2YWxpZFN0ZXAiLCJnZXRWYWxpZFN0ZXAiLCJvbmNlQ29uZGl0aW9uIiwiZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCIsImFkZENvbmRpdGlvbiIsIm5leHRWYWxpZFN0ZXAiLCJnZXRTdGVwIiwidGVzdENvbmRpdGlvbnMiLCJjb25kaXRpb25zIiwiZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiY2hvaWNlSW5kZXgiLCJnZXRDdXJyZW50Tm9kZVN0ZXAiLCJjaG9pY2VzIiwiY29uZGl0aW9uIiwic3VjY2VzcyIsIm9yRGVsaW1pdGVyZWQiLCJvckNvbmRpdGlvbnMiLCJzcGxpdCIsIm9yU3VjY2VzcyIsIm9wdGlvbmFsQ29uZGl0aW9uIiwiY2hlY2tDb25kaXRpb24iLCJzdGFydHNXaXRoIiwic3RyaXBwZWRTdHJpbmciLCJyZW1vdmVDb25kaXRpb24iLCJJdGVtc1Byb3h5IiwiaXRlbUlkIiwiaWQiLCJ0eXBlIiwiQm90QmVoYXZpb3Vyc1ZPIiwiQm90QmVoYXZpb3VyUHJveHkiLCJzdGFydHVwQ29tbWFuZCIsIkdhbWVTdGF0ZVByb3h5Iiwid2VhcG9uc0RhdGEiLCJpdGVtc0RhdGEiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJmaW5kIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJ0ZWFtcyIsInBhcnRpY2lwYW50UHJveGllcyIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsImlzRGVhZCIsImZpbHRlciIsImUiLCJyb3VuZEluaXRpYXRpdmUiLCJuZXh0VHVybklkIiwic2hpZnQiLCJhY3RpdmVQYXJ0aWNpcGFudCIsInJlc2V0Q29tYmF0VHVyblN0YXRlIiwiaXNOUEMiLCJzZXRUaW1lb3V0IiwiaW5pdGlhdGl2ZXMiLCJjaGFyYWN0ZXJJZCIsImVudHJpZXMiLCJpbml0aWF0aXZlIiwic2h1ZmZsZWRJbml0aWF0aXZlIiwibmV4dFR1cm5DaGFyYWN0ZXJJZCIsImRlbGV0ZSIsInRlYW0iLCJjaGFyYWN0ZXJJbmRleCIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwicGxheWVyVGVhbSIsIm9wcG9zaW5nVGVhbSIsImNvbWJhdEdyb3VwIiwiaXRlbSIsInBvcyIsInNlbGYiLCJwbGF5ZXJQcm94eSIsImNvbWJhdFByb3h5IiwibmV4dENvbWJhdFR1cm5Db21tYW5kIiwiZ2FtZVN0YXRlIiwiZ2FtZXBsYXlNb2RlIiwibmV4dFR1cm4iLCJuZXh0Q29tYmF0Um91bmRDb21tYW5kIiwibmV4dFJvdW5kIiwiZW5kQ29tYmF0VHVybkNvbW1hbmQiLCJlbmVteVR1cm5Db21tYW5kIiwiZW5lbXlJZCIsImVuZW15Q3VycmVudE5vZGUiLCJCYXNpY01lbGVlVHJlZSIsInJ1bkNvbW1hbmRzIiwic2VsZWN0ZWROb2RlQ29tbWFuZCIsImdhbWVTdGF0ZVByb3h5IiwiZ2FtZU1hcFByb3h5IiwiaGFzVmFsaWROb2RlIiwiY3VycmVudE1vZGUiLCJjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQiLCJ0YXJnZXROb2RlIiwiZ2FtZUNoYXJhY3RlclByb3h5IiwibW92ZWFibGVOb2RlcyIsImF2YWlsYWJsZU1vdmVtZW50IiwiaGFuZGxlVmFsaWRNb3ZlIiwiY2hhcmFjdGVyUHJveHkiLCJwYXRoIiwic2hvd1dhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZU5vZGVzIiwid2Fsa2FibGVUaWxlQXNzZXQiLCJjb250YWluZXIiLCJ0aWxlIiwiaW5zdGFudGlhdGUiLCJzZXRMb2NhbFBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlVGlsZUVudGl0aWVzIiwid2Fsa2FibGVUaWxlRW50aXR5IiwiYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQiLCJlbmRNb3ZlbWVudENvbW1hbmQiLCJlbmROb2RlIiwic2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInRhcmdldENoYXJhY3RlclByb3h5IiwicGxheWVyQ2hhcmFjdGVyUHJveHkiLCJ3ZWFwb25DYXRlZ29yeSIsImdldFdlYXBvbkNhdGVnb3J5IiwiZXF1aXBwZWRXZWFwb24iLCJjdXJyZW50QWN0aW9uIiwiY2FuU2VlVGFyZ2V0IiwiYXZhaWxhYmxlQWN0aW9ucyIsInRhcmdldEN1cnJyZW50Tm9kZSIsImlzVGFyZ2V0QWRqYWNlbnQiLCJwYXRoVG9UYXJnZXQiLCJ1bm9jY3VwaWVkTm9kZXMiLCJwbGF5ZXJOb2RlIiwic2hvcnRlc3RQYXRoIiwib3RoZXJQYXRoIiwibmF2aWdhdGVUb0NoYXJhY3RlciIsInBsYXllclBvaW50IiwidGFyZ2V0UG9pbnQiLCJyYXlJbnRlcnNlY3RzV2FsbCIsInJlc29sdmVBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJJZCIsImF0dGFja2VyUHJveHkiLCJkZWZlbmRlcklkIiwiZGVmZW5kZXJQcm94eSIsIndlYXBvbnNQcm94eSIsImF0dGFja2VyV2VhcG9uU2tpbGwiLCJkZWZlbmRlcldlYXBvblNraWxsIiwiYXR0YWNrZXJTa2lsbFRvdGFsIiwiZ2V0U2tpbGxUb3RhbCIsImRlZmVuZGVyU2tpbGxUb3RhbCIsImF0dGFja2VyUm9sbCIsInJvbGxBdHRhY2tTa2lsbCIsImRlZmVuZGVyUm9sbCIsImRldGVybWluZURhbWFnZVRpZXIiLCJnZXREYW1hZ2UiLCJhcHBseURhbWFnZSIsImhhc01lbGVlV2VhcG9uIiwid2VhcG9uIiwiV2VhcG9uVHlwZXMiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwic2tpbGwiLCJyb2xsRGljZSIsIm1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIiwidGFyZ2V0SWQiLCJ1c2VNb3ZlbWVudCIsImNoYXJhY3Rlck1lZGlhdG9yIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZSIsInRoZW4iLCJraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJjdXJyZW50U3RhbWluYSIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwibG9zaW5nVGVhbSIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsImVuZW15UHJveHkiLCJib3RCZWhhdmlvdXIiLCJyZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyU2NvcmUiLCJkZWZlbmRlclNjb3JlIiwiYXR0YWNrZXJOb2RlIiwiZGVmZW5kZXJOb2RlIiwiaXNJbkNvdmVyIiwicHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJwcm9qZWN0aWxlT3JpZ2luIiwicHJvamVjdGlsZVRhcmdldCIsImNyZWF0ZVByb2plY3RpbGUiLCJuZWlnaGJvdXJpbmdOb2RlcyIsInBvc3NpYmxlVGFyZ2V0cyIsImVxdWlwV2VhcG9uQ29tbWFuZCIsIm5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQiLCJzdGFuZGluZ1Bvc2l0aW9uIiwic3RhbmRpbmdOb2RlIiwiZmluZE5lYXJlc3ROb2RlIiwibW92ZVRvTm9kZVdpdGhQcm9taXNlIiwiYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIiwicGxheWVyQ2hhcmFjdGVyQXNzZXQiLCJwbGF5ZXJFbnRpdHkiLCJyZXRyaWV2ZVBvcnRhbCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCIsInRhcmdldENoYXJhY3RlcklkIiwicGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IiLCJzdGFydERpYWxvZ3VlQ29tbWFuZCIsImdhbWVzdGF0ZVByb3h5Iiwic3RvcnlQcm94eSIsImRpYWxvZ3VlVHJlZSIsInN0YXJ0RGlhbG9ndWVUcmVlIiwib3BlbmluZ1N0ZXAiLCJzdGVwIiwiY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIiwibmV4dFN0ZXAiLCJjb250aW51ZUN1cnJlbnROb2RlU3RlcCIsInNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCIsInNlbGVjdGVkQ2hvaWNlIiwic2VsZWN0Q2hvaWNlIiwicmVzcG9uc2UiLCJ0aXRsZSIsInRleHQiLCJ0aXRsZUNvbG91ciIsInRlc3QiLCJnb3RvIiwiZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQiLCJuZXdOb2RlIiwiZ29Ub05vZGUiLCJjdXJyZW50U3RlcCIsImVuZERpYWxvZ3VlQ29tbWFuZCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kIiwiY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIiwibmV3QWN0aW9uIiwicmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCIsInBsYXllclNraWxsIiwiZGllMSIsImRpZTIiLCJmYWlsdXJlIiwiY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kIiwiaW52ZW50b3J5SXRlbXMiLCJlcXVpcG1lbnRTbG90cyIsInJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCIsInBsYXllcklkIiwiaXRlbVVVSUQiLCJuZXdJbmRleCIsInJlb3JkZXJJbnZlbnRvcnlJdGVtIiwiZXF1aXBJdGVtVG9TbG90Q29tbWFuZCIsImVxdWlwbWVudEtleSIsIml0ZW1JbkludmVudG9yeSIsImF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdCIsIml0ZW1zUHJveHkiLCJpbnZlbnRvcnlJdGVtIiwiSW52ZW50b3J5SXRlbSIsImdldEl0ZW1EYXRhIiwiYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZCIsImFkZEludmVudG9yeUl0ZW0iLCJ1c2VFcXVpcHBlZEl0ZW1Db21tYW5kIiwiZXF1aXBtZW50U2xvdEtleSIsImVxdWlwcGVkSXRlbSIsImdldEVxdWlwcGVkSXRlbSIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsIkJvdEJlaGF2aW91clR5cGVzIiwiYm90QmVoYXZpb3VyRW51bXMiLCJOT05FIiwiQkFTSUNfTUVMRUUiLCJCQVNJQ19SQU5HRUQiLCJFbmRDb21iYXRUdXJuIiwidGljayIsImJsYWNrYm9hcmQiLCJTZXRQbGF5ZXJBc1RhcmdldCIsIkhhc0FjdGlvbnNSZW1haW5pbmciLCJIYXNNb3ZlbWVudFJlbWFpbmluZyIsIklzRGVhZCIsIklzVGFyZ2V0RGVhZCIsIkJhc2VOb2RlIiwiY2hpbGRyZW4iLCJpbml0aWFsaXplIiwiX2VudGVyIiwiX29wZW4iLCJzdGF0dXMiLCJfdGljayIsIl9jbG9zZSIsIl9leGl0IiwiZW50ZXJOb2RlIiwiZW50ZXIiLCJvcGVuTm9kZSIsIm9wZW4iLCJ0aWNrTm9kZSIsImNsb3NlTm9kZSIsImNsb3NlIiwiZXhpdE5vZGUiLCJleGl0IiwiQmVoYXZpb3VyU3RhdHVzIiwiTWFzdGVyTm9kZSIsImNoaWxkTm9kZSIsImV4ZWN1dGUiLCJNZW1TZXF1ZW5jZSIsIlByaW9yaXR5IiwiY2hpbGQiLCJJbnZlcnRlciIsIk1lbGVlQXR0YWNrVGFyZ2V0IiwiSXNOZXh0VG9QbGF5ZXIiLCJjaGFyYWN0ZXJDdXJyZW50Tm9kZSIsIk1vdmVUb3dhcmRzVGFyZ2V0IiwicmVzdWx0IiwicmVkdWNlIiwiYSIsImRpc3RhbmNlU3FydCIsInAxIiwicDIiLCJwb3ciLCJSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMiLCJDaGFyYWN0ZXJDb21tYW5kVHJlZSIsIlJhbmdlQXR0YWNrVGFyZ2V0IiwiTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwidGFyZ2V0Q3VycmVudE5vZGUiLCJtaW5EaXN0YW5jZVNxcnQiLCJtYXhEaXN0YW5jZVNxcnQiLCJtb3ZlUG9pbnRzQXZhaWxhYmxlIiwiZGlzdGFuY2VUb1RhcmdldCIsIlBpY2tOZXh0QWN0aW9uIiwiQ2FuU2VlVGFyZ2V0IiwidGFyZ2V0UHJveHkiLCJmcm9tUG9zIiwidG9Qb3MiLCJNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSIsImRlbGV0ZUNvdW50IiwicGF0aE5vZGUiLCJoZWlnaHQiLCJCYXNpY1JhbmdlZFRyZWUiLCJCbGFja2JvYXJkIiwiaW5pdGlhbGlzZSIsImJhc2VNZW1vcnkiLCJ0cmVlTWVtb3J5IiwidHJlZVNjb3BlIiwibm9kZU1lbW9yeSIsIm9wZW5Ob2RlcyIsIm5vZGVTY29wZSIsIm1lbW9yeSIsImdldFRyZWVNZW1vcnkiLCJnZXROb2RlTWVtb3J5IiwiZ2V0TWVtb3J5IiwiVGljayIsIm5vZGVDb3VudCIsInRhcmdldCIsInBvcCIsIkJlaGF2aW91clRyZWUiLCJsYXN0T3Blbk5vZGVzIiwiY3Vyck9wZW5Ob2RlcyIsInN0YXJ0Iiwid2VhcG9uRW51bXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm1hcCIsImJlaGF2aW91clRyZWVzIiwiR2FtZUNoYXJhY3RlclZPIiwicGFyYW1zIiwibWF4TW92ZW1lbnQiLCJtYXhBY3Rpb25zUGVyVHVybiIsImNvc3QiLCJkYW1hbmdlIiwibWF4IiwibWF4aW11bVN0YW1pbmEiLCJtYXhTdGFtaW5hIiwic2tpbGxLZXkiLCJhZHZhbmNlZFNraWxscyIsInNsb3RJbmRleCIsIm9yaWdpbmFsSW5kZXgiLCJ1dWlkIiwib3JpZ2luYWxJdGVtIiwicnVubmluZ0luZGV4VG90YWwiLCJzaXplIiwidG9TdHJpbmciLCJzbG90S2V5IiwiaXRlbURhdGEiLCJleGlzdGluZ0l0ZW0iLCJlcXVpcFNsb3QiLCJvdGhlclNsb3QiLCJpbnZlbnRvcnlJdGVtRGF0YSIsIm1heEx1Y2siLCJjdXJyZW50THVjayIsIkdhbWVNYXBWTyIsIm1hcEdyaWQiLCJ3YWxsQm91bmRpbmdCb3hlcyIsIm5hdkdyaWQiLCJuYXZpZ2F0aW9uR3JpZCIsIm5lYXJlc3ROb2RlIiwiZGlzdFNxcnRUb05lYXJlc3ROb2RlIiwiZGlzdFRvTm9kZSIsImZyb20iLCJ0byIsImRpc3RhbmNlIiwiZGlyZWN0aW9uIiwiY2xvbmUiLCJzdWIiLCJub3JtYWxpemUiLCJyYXkiLCJSYXkiLCJtYXBXYWxscyIsImhpdFBvc2l0aW9uIiwiaW50ZXJzZWN0c1JheSIsImF0dGFja2luZ0Zyb20iLCJhZGphY2VudENvdmVyUG9pbnRzIiwiYWRqYWNlbnRQb2ludHMiLCJwb2ludCIsInBvaW50cyIsImdldEFkamFjZW50UG9pbnRzIiwiYWRqYWNlbnRQb2ludCIsImFkamFjZW50Q292ZXJQb2ludCIsIm5vZGVBIiwibm9kZUIiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJJbmZpbml0eSIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsImRpc3RWYWx1ZSIsImdldERpc3RTcXVhcmVkIiwicHQxIiwicHQyIiwiYWJzIiwieDAiLCJ6MCIsIngxIiwiejEiLCJkeCIsImR5IiwibngiLCJueSIsInNpZ25feCIsInNpZ25feSIsIml4IiwiaXkiLCJpc1ZhbGlkTGluZSIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwic2VsZWN0ZWRBY3Rpb24iLCJFWFBMT1JBVElPTiIsIkNPTUJBVCIsIkRJQUxPR1VFIiwiR0FNRV9PVkVSIiwiaWNvbiIsImRlc2NyaXB0aW9uIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImNyZWF0ZVVVSUQiLCJzIiwiaGV4RGlnaXRzIiwic3Vic3RyIiwiam9pbiIsInByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJmaXJlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwibG9va0F0UG9pbnQiLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlQXR0YWNrIiwiYW5pbWF0ZUhpdCIsInNldFBhdGgiLCJuZWFyZXN0V2F5cG9pbnQiLCJmaW5kTmVhcmVzdFdheXBvaW50IiwibmVhcmVzdFRhcmdldFdheXBvaW50IiwiaGFzVmFsaWRMaW5lIiwiaGFzTGluZVRvUG9pbnQiLCJ1bnNoaWZ0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsIm9yaWdpblBvaW50IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvIiwib2JqIiwicHJvcCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkNhY29nZW5HYW1lIiwiY3JlYXRlU2NyaXB0IiwiS0VZIiwidXBkYXRlIiwiZHQiLCJOYXZpZ2F0aW9uQ29tcG9uZW50IiwiYXR0cmlidXRlcyIsImFkZCIsImVudGl0eSIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwic2NyZWVuUG9zIiwibm9kZUdyaWQiLCJnZXROZWFyZXN0Tm9kZSIsIkdhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwIiwiYWR2YW5jZWRTa2lsbHNTY2hlbWEiLCJza2lsbE9iamVjdCIsInNraWxsTmFtZSIsInNraWxsVmFsdWUiLCJkZWZhdWx0Iiwic2NoZW1hIiwiZW51bSIsInByZXJlZ2lzdGVyTm90aWZpY2F0aW9uIiwicG9zdEluaXRpYWxpemUiLCJtb3ZlbWVudFBhdGgiLCJzdGF0c092ZXJyaWRlcyIsInByb3h5UGFyYW1zIiwiY2hhcmFjdGVySGVpZ2h0IiwiZGlhbG9ndWVUcmVlTmFtZSIsImNvbWJhdEdyb3VwTmFtZSIsImNvbXJhZGVFbnRpdGllcyIsImNvbXJhZGVFbnRpdHkiLCJjb21yYWRlSWQiLCJ2ZWhpY2xlIiwiYW5pbWF0aW9uIiwicGxheSIsImxvb3AiLCJtb3ZlQWxvbmdQYXRoIiwibmV4dFBhdGhQb2ludCIsImxvY2FsUG9zIiwibm9kZVBvaW50IiwiY2hhcmFjdGVyU3BlZWQiLCJzZWVrIiwiYXJyaXZlIiwicHJvY2Vzc1ZlbG9jaXR5IiwiZHoiLCJhbmdsZVRvRGVzdCIsImF0YW4yIiwiUEkiLCJzZXRFdWxlckFuZ2xlcyIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsImNoYXJhY3RlclBvaW50Iiwic2lnaHRSYW5nZSIsIlRvYXN0TWVzc2FnZU1lZGlhdG9yIiwiYWRkTWVzc2FnZSIsIlRvYXN0TWVzc2FnZUNvbXBvbmVudCIsIm1lc3NhZ2VRdWV1ZSIsImN1cnJlbnRUaW1lb3V0IiwibWVzc2FnZSIsInNob3dOZXh0TWVzc2FnZSIsIm5leHRNZXNzYWdlIiwibGFiZWxFbnRpdHkiLCJlbGVtZW50IiwibWVzc2FnZVRpbWUiLCJJbnB1dExheWVyTWVkaWF0b3IiLCJoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyIiwiaGFuZGxlUGlja2VyTmF2aWdhdGlvbiIsImhhbmRsZVNjcm9sbGluZyIsImNoYXJhY3RlckVudGl0eSIsIkdhbWVDYW1lcmEiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsInZlcnRpY2FsU2Nyb2xsIiwibmV3Q2FtZXJhSGVpZ2h0IiwiZHJhZ011bHRpcGxpZXJZIiwibWF0aCIsImNsYW1wIiwibWluQ2FtZXJhSGVpZ2h0IiwibWF4Q2FtZXJhSGVpZ2h0IiwiZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24iLCJmb2N1c1BvaW50IiwiY2FtZXJhUG9zaXRpb24iLCJ0YXJnZXRYIiwic2luIiwidGFyZ2V0WiIsImNvcyIsImNhbWVyYVRhcmdldFBvc2l0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJjdXJyZW50UG9zIiwidHdlZW5YIiwidHdlZW5ZIiwidHdlZW5aIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsImlucHV0UXVldWUiLCJtb3VzZSIsImRpc2FibGVDb250ZXh0TWVudSIsImNsaWNrRG93blN0YXJ0IiwiaXNEcmFnZ2luZyIsImhhbmRsZVBpY2tlclJlc3VsdCIsIkVWRU5UX01PVVNFTU9WRSIsIm9uTW91c2VNb3ZlIiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwidG91Y2giLCJFVkVOVF9UT1VDSE1PVkUiLCJ0b3VjaEV2dCIsInRvdWNoZXMiLCJFVkVOVF9UT1VDSFNUQVJUIiwiRVZFTlRfVE9VQ0hFTkQiLCJEYXRlIiwibm93IiwiY2xpY2tTdGFydFBvaW50IiwiVmVjMiIsImRyYWdUaW1lIiwiaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMiLCJjYW1lcmFFbnRpdHkiLCJjYW1lcmFDb21wb25lbnQiLCJjYW1lcmEiLCJzY3JlZW5Ub1dvcmxkIiwiZmFyQ2xpcCIsIm9yaWdpbiIsImNvcHkiLCJwaWNrZWRFbnRpdHkiLCJzY3JlZW5Qb3NpdGlvbiIsInByb2Nlc3NJbnB1dFF1ZXVlIiwiaGlnaGVzdFByaW9yaXR5UGljayIsImhpZ2hlc3RQcmlvcml0eSIsInBpY2siLCJwaWNrUHJpb3JpdHkiLCJ0YWdzIiwicGlja2VkR2FtZUNoYXJhY3RlciIsInBpY2tlZE5hdmlnYXRpb24iLCJwaWNrZWRQb3J0YWwiLCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIiwiaGFuZGxlRW5kVHVybiIsIlBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IiwiZW5kVHVybkJ1dHRvbiIsImNsaWNrRW5kVHVybiIsIkhpdGJveENvbXBvbmVudCIsImNlbnRlciIsIkFjdGlvblBhbmVsTWVkaWF0b3IiLCJoYW5kbGVGaXJlQ29tbWFuZCIsImFjdGlvbk5hbWUiLCJzZWxlY3RBY3Rpb24iLCJBY3Rpb25CdXR0b25Db21wb25lbnQiLCJoaWdobGlnaHRFbnRpdHkiLCJoYW5kbGVDaGFuZ2VBY3Rpb24iLCJoYW5kbGVDbGljayIsImNvbW1hbmRzIiwiY29tbWFuZEFyZ3MiLCJBY3Rpb25QYW5lbENvbXBvbmVudCIsImJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJzdG9wUHJvcGFnYXRpb24iLCJQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCIsInByb2plY3RpbGVOYW1lIiwicHJvamVjdGlsZVNjaGVtZSIsInByb2plY3RpbGVUeXBlcyIsInNjaGVtZSIsIm5ld1Byb2plY3RpbGUiLCJwcm9qZWN0aWxlVGVtcGxhdGUiLCJzZXRUYXJnZXQiLCJQcm9qZWN0aWxlQ29tcG9uZW50IiwibmV3UG9zaXRpb24iLCJzcGVlZCIsInByb2plY3RpbGVTcGVlZCIsInN1YjIiLCJtdWwiLCJTdGFtaW5hQmFyTWVkaWF0b3IiLCJuZXdTdGFtaW5hIiwidXBkYXRlU3RhbWluYSIsIlN0YW1pbmFCYXJDb21wb25lbnQiLCJiYXJFbnRpdHlNYXhXaWR0aCIsImJhckVudGl0eSIsIndpZHRoIiwibGVycCIsInJlY3QiLCJzdGFtaW5hTGFiZWwiLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciIsIm1heEFjdGlvbnMiLCJzaG93QXZhaWxhYmxlQWN0aW9uIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IiwicGlwcyIsImNyZWF0ZVBpcCIsIm5ld1BpcCIsInBpcFRlbXBsYXRlIiwiQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCIsInNob3ciLCJwaXBGcm9udCIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIiwic2NyaXB0Q29tcCIsImZsb2F0ZXJOYW1lIiwiZGlzcGxheVN0YXR1cyIsIlRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50Iiwic2V0V29ybGRQb3NpdGlvbiIsIndvcmxkUG9zaXRpb24iLCJzY3JlZW4iLCJkZXZpY2UiLCJncmFwaGljc0RldmljZSIsInNjcmVlbkVudGl0eSIsInBvc3RVcGRhdGUiLCJwb3NpdGlvbiIsIndvcmxkU3BhY2VUb1NjcmVlblNwYWNlIiwid29ybGRQb3MiLCJ3b3JsZFRvU2NyZWVuIiwicGl4ZWxSYXRpbyIsIm1heFBpeGVsUmF0aW8iLCJyYXRpb1NjYWxlIiwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IiwiZmxvYXRpbmdTdGF0dXNlcyIsIm90aGVyU2NoZW1lIiwidGFyZ2V0UG9zIiwibmV3U3RhdHVzIiwidGVtcGxhdGUiLCJQb3J0YWxNZWRpYXRvciIsInNlbGVjdGVkUG9ydGFsIiwiUG9ydGFsQ29tcG9uZW50IiwiRGlhbG9ndWVQYW5lbE1lZGlhdG9yIiwiaGFuZGxlQ2xpY2tDb250aW51ZSIsImhhbmRsZUNsaWNrQ2hvaWNlIiwiY2xlYXJQYW5lbCIsImNyZWF0ZVN0ZXAiLCJjcmVhdGVTa2lsbFRlc3QiLCJjbGVhckRpYWxvZ3VlQ2hvaWNlcyIsInNldENvbnRpbnVlQnV0dG9uIiwiRGlhbG9ndWVQYW5lbENvbXBvbmVudCIsImNvbnRpbnVlQnV0dG9uRW50aXR5Iiwic3RlcERhdGEiLCJjcmVhdGVUZXh0IiwiY2hvaWNlIiwiY3JlYXRlQ2hvaWNlIiwibmV3VGV4dCIsInRleHRFbnRyeVRlbXBsYXRlIiwic2V0dXAiLCJmZWVkRW50aXR5IiwicmVzaXplVG9Db250ZW50cyIsInNjcm9sbGJhclZpZXdFbnRpdHkiLCJzY3JvbGxiYXIiLCJuZXdDaG9pY2UiLCJjaG9pY2VFbnRyeVRlbXBsYXRlIiwiaGFuZGxlU2VsZWN0Q2hvaWNlIiwid2FzU3VjY2VzcyIsIm5ld1NraWxsVGVzdCIsInNraWxsVGVzdEVudHJ5VGVtcGxhdGUiLCJzcGFjaW5nVmVydGljYWwiLCJsYXlvdXRncm91cCIsInNwYWNpbmciLCJmZWVkQ2hpbGQiLCJjb250ZW50RW50aXR5IiwiY29udGVudEhlaWdodCIsIkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50IiwibGFiZWwiLCJpbmRleEVudGl0eSIsIkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQiLCJhbmltYXRpb25OYW1lIiwiRGlhbG9ndWVUZXh0Q29tcG9uZW50IiwidGl0bGVFbnRpdHkiLCJjb2xvciIsImZyb21TdHJpbmciLCJ0aHVtYm5haWwiLCJ0ZXh0Q29udGFpbmVyIiwid2l0aEltYWdlV2lkdGgiLCJ3aXRob3V0SW1hZ2VXaWR0aCIsInRodW1ibmFpbENvbnRhaW5lciIsImVuYWJsZSIsImJvZHlFbnRpdHkiLCJzZXRIZWlnaHQiLCJtaW5IZWlnaHQiLCJ0ZXh0Q2hpbGQiLCJBdHRhY2tCdXR0b25NZWRpYXRvciIsImhhbmRsZVRvZ2dsZUF0dGFjayIsInRvZ2dsZUhpZ2hsaWdodCIsImF0dGFja0VuYWJsZWQiLCJBdHRhY2tCdXR0b25Db21wb25lbnQiLCJpc0VuYWJsZWQiLCJVc2VJdGVtQnV0dG9uTWVkaWF0b3IiLCJoYW5kbGVVc2VJdGVtIiwiZXF1aXBwZWREYXRhIiwic2V0SWNvbiIsInNldERlZmF1bHRJY29uIiwidGFyZ2V0U2xvdCIsImlzSGlnaGxpZ2h0ZWQiLCJVc2VJdGVtQnV0dG9uQ29tcG9uZW50IiwiYXNzZXRJZCIsImljb25Bc3NldCIsImljb25FbnRpdHkiLCJzcHJpdGVBc3NldCIsImRlZmF1bHRJY29uIiwiVmVoaWNsZUNvbXBvbmVudCIsImNsYW1wVmVjMyIsInZlYzMiLCJtYXhWYWx1ZSIsInZlbG9jaXR5Iiwic3RlZXJpbmdGb3JjZSIsIm1heFNwZWVkIiwieVJvdGF0aW9uIiwiZGVzaXJlZFZlbG9jaXR5IiwiZm9yY2UiLCJhcnJpdmFsVGhyZXNob2xkIiwiYXJyaXZlVGhyZXNob2xkIiwiU2NyZWVuUmVzaXplQ29tcG9uZW50Iiwid2luZG93Iiwib25SZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwic2NhbGVCbGVuZCIsInJlZmVyZW5jZVJlc29sdXRpb24iLCJEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCIsInNraWxsTmFtZUxhYmVsIiwic2tpbGxWYWx1ZUxhYmVsIiwiZGllMUxhYmVsIiwiZGllMkxhYmVsIiwic3VjY2Vzc0xhYmVsIiwiZmFpbHVyZUxhYmVsIiwiSW52ZW50b3J5SXRlbUNvbXBvbmVudCIsInNsb3RIZWlnaHQiLCJleHBhbmRlZEVudGl0eSIsImNvbGxhcHNlIiwiZXhwYW5kIiwiRWxlbWVudERyYWdIZWxwZXIiLCJvbkRyYWdTdGFydCIsIkludmVudG9yeVBhbmVsTWVkaWF0b3IiLCJoYW5kZVJlb3JkZXJJdGVtIiwiaGFuZGxlRXF1aXBJdGVtIiwiaGFuZGxlQ2xvc2UiLCJpdGVtcyIsImVxdWlwcGVkTWFwIiwiZGlzcGxheUl0ZW1zIiwiSW52ZW50b3J5UGFuZWxDb21wb25lbnQiLCJpc0luQm91bmRzIiwiYm91bmRzIiwieDIiLCJ5MSIsInkyIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiY2xvc2VCdXR0b24iLCJpbnZlbnRvcnlJdGVtRW50aXRpZXMiLCJkcmFnRW50aXR5IiwicmVwYXJlbnQiLCJkcmFnSWNvbiIsImhhbmRsZU1vdXNlTW92ZSIsImNoYW5nZWRUb3VjaGVzIiwiaGFuZGxlTW91c2VVcCIsImxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCIsInNjcmVlbkNvbXAiLCJkaXNwbGF5UG90ZW50aWFsTGlzdCIsImRyYWdQb3MiLCJ0b3BTbG90UG9zaXRpb24iLCJtYXhTbG90cyIsInNsb3RXaWR0aCIsInNjcmVlbkhlaWdodCIsImNvcm5lclNjcmVlblBvcyIsInNjcmVlbkNvcm5lcnMiLCJjb3JuZXJQb3MiLCJjaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QiLCJkcmFnZ2luZ0VudGl0eSIsIm1vdXNlRXZlbnQiLCJlcXVpcFNsb3RLZXkiLCJjb3JuZXJzIiwiaGFuZGxlSXRlbU1vdmUiLCJzZXRIaWdobGlnaHRQb3NpdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJ1bm5pbmdJbmRleCIsIm5ld0l0ZW1Db21wb25lbnQiLCJpdGVtQXNzZXQiLCJlcXVpcFNsb3RFbnRpdHkiLCJjbGVhciIsInJlb3JkZXJMaXN0V2l0aEdhcCIsImdhcEluZGV4IiwiaW52ZW50b3J5SXRlbUVudGl0eSIsIkludmVudG9yeURyYWdJY29uQ29tcG9uZW50IiwiSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50IiwiaWNvbkFzc2V0SWQiLCJhc3NldCIsImRlZmF1bHRBc3NldCIsInN0YXJ0dXAiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdEQsSUFBSUMsRUFBWSxFQUFRLEtBQ3BCQyxFQUFTLEVBQVEsS0FFakJDLEVBQTRCLFdBQzVCLFNBQVNBLEVBQVdDLEdBRWhCLEdBREFDLEtBQUtDLFdBQWEsR0FDZEgsRUFBV0ksWUFBWUgsR0FDdkIsTUFBTSxJQUFJSSxNQUxILDREQU9YSCxLQUFLSSxZQUFjTCxFQUNuQkMsS0FBS0ssT0FBU1QsRUFBVVUsUUFBUUMsTUFBUVgsRUFBVVUsUUFBUUUsV0FBYVosRUFBVVUsUUFBUUcsUUFDekZULEtBQUtVLHVCQXFEVCxPQW5EQVosRUFBV2EsaUJBQW1CLFNBQVVaLFVBQzdCQyxLQUFLRSxZQUFZSCxJQUU1QkQsRUFBV2MsWUFBYyxTQUFVYixHQUMvQixPQUFLQSxHQUdBQyxLQUFLRSxZQUFZSCxLQUNsQkMsS0FBS0UsWUFBWUgsR0FBTyxJQUFJRCxFQUFXQyxJQUVwQ0MsS0FBS0UsWUFBWUgsSUFMYixNQU9mRCxFQUFXZSxVQUFVQyxnQkFBa0IsU0FBVUMsRUFBa0JDLEdBQzFEaEIsS0FBS0MsV0FBV2MsSUFDakJmLEtBQUtpQixLQUFLQyxpQkFBaUJILEVBQWtCZixLQUFLbUIsZUFBZ0JuQixNQUV0RUEsS0FBS0MsV0FBV2MsR0FBb0JDLEdBRXhDbEIsRUFBV2UsVUFBVU8sV0FBYSxTQUFVTCxHQUN4QyxZQUE2Q00sSUFBdENyQixLQUFLQyxXQUFXYyxJQUUzQmpCLEVBQVdlLFVBQVVTLGNBQWdCLFNBQVVQLEdBQ3ZDZixLQUFLb0IsV0FBV0wsS0FDaEJmLEtBQUtpQixLQUFLTSxlQUFlUixFQUFrQmYsS0FBS21CLGVBQWdCbkIsYUFDekRBLEtBQUtDLFdBQVdjLEtBRy9CakIs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b0MsU0FBVSxhQUN0RW5KLEVBQU92RCxpQkFBaUIwTSxFQUFBLHdCQUFvQyxTQUFVLFVBQ3RFbkosRUFBT3ZELGlCQUFpQjBNLEVBQUEscUJBQWlDLFNBQVUsVUFBVyxTQUM5RW5KLEVBQU92RCxpQkFBaUIwTSxFQUFBLHFCQUFpQyxTQUFVLFVBQVcsYUNqQnRGLE1BQVFyTyxPQUFNLElBQUssRUFBUSxNQUNyQixRQUFFOUIsSUFBWSxFQUFRLEtBK0NmLElBWGIsTUFDSSxjQUNJQSxHQUFRQyxPQUFRLEVBQ2hCLEdBQU9LLFlBQWN1bEIsRUFBVyxXQUFYLFlBQ3JCcGUsUUFBUUMsSUFBSSxJQUVaaEksS0FBS3NILE9BQVMsR0FBTzFHLFlBQVl1bEIsRUFBVyxXQUFYLEtBQ2pDbm1CLEtBQUtzSCxPQUFPcW1DLFFBQVEzdEMsUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiY29udHJvbGxlciBrZXkgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWRcIjtcbnZhciBDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRyb2xsZXIoa2V5KSB7XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcCA9IHt9O1xuICAgICAgICBpZiAoQ29udHJvbGxlci5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nQ29tbWFuZCA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgQ29udHJvbGxlcihrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gPSBjb21tYW5kQ2xhc3NSZWY7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW1vdmVPYnNlcnZlcihub3RpZmljYXRpb25OYW1lLCB0aGlzLmV4ZWN1dGVDb21tYW5kLCB0aGlzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmV4ZWN1dGVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV07XG4gICAgICAgIGlmICghY29tbWFuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kLm5hbWUpO1xuICAgICAgICBjb21tYW5kLmFwcGx5KHZvaWQgMCwgW3RoaXMubXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRDRCRkUwXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiM4NzI0QkRcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNkUyOTk0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIlxuICAgIF07XG4gICAgQ29udHJvbGxlci5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9Db250cm9sbGVyXCIpO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9Nb2RlbFwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJGYWNhZGUgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgRmFjYWRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2FkZShrZXkpIHtcbiAgICAgICAgaWYgKEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTm90aWZpY2F0aW9uIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTm90aWZpZXIoa2V5KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplRmFjYWRlKCk7XG4gICAgfVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEZhY2FkZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5oYXNDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBGYWNhZGUucmVtb3ZlQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBNb2RlbF8xLk1vZGVsLnJlbW92ZU1vZGVsKGtleSk7XG4gICAgICAgIFZpZXdfMS5WaWV3LnJlbW92ZVZpZXcoa2V5KTtcbiAgICAgICAgQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlcihrZXkpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplRmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVnaXN0ZXJDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucmVtb3ZlQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICB0aGlzLm1vZGVsLnJlZ2lzdGVyUHJveHkocHJveHkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZXRyaWV2ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmVtb3ZlUHJveHkocHJveHlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmhhc1Byb3h5KHByb3h5TmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyTWVkaWF0b3IobWVkaWF0b3IpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJldHJpZXZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmVtb3ZlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5zbGVlcE1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuYXdha2VNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5oYXNNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5hcHBseSh0aGlzLCBbRmFjYWRlLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgKF9hID0gdGhpcy52aWV3KS5ub3RpZnlPYnNlcnZlcnMuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGVsID0gTW9kZWxfMS5Nb2RlbC5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXcgPSBWaWV3XzEuVmlldy5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzJGMkUxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjRkZGMzI1XCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiI0RFRDQzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCJcbiAgICBdO1xuICAgIEZhY2FkZS5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBGYWNhZGU7XG59KCkpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNhZGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJNZWRpYXRvclwiO1xudmFyIE1lZGlhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZWRpYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZWRpYXRvcihtZWRpYXRvck5hbWUsIHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dNZWRpYXRvciA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIF90aGlzLm1lZGlhdG9yTmFtZSA9IG1lZGlhdG9yTmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgX3RoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwibm90aWZpY2F0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRNZWRpYXRvck5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTmFtZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5nZXRWaWV3Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25TbGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInNsZWVwXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uQXdha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwiYXdha2VcIik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcImlzU2xlZXBpbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNsZWVwaW5nO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5hZGRTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnVuc3Vic2NyaWJlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWJzY3JpcHRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5yZW1vdmVTdWJzY3JpcHRpb24pO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmNoYW5nZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9sZE5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuc2xpY2UoKTtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbk5hbWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwoX3RoaXMsIG5vdGlmaWNhdGlvbikgfHwgY2hhbmdlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKHRoaXMsIG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkICYmIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSh0aGlzLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnJlbW92ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Y0RjZGRVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMzY1NkMxXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NEQ5OFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCJcbiAgICBdO1xuICAgIHJldHVybiBNZWRpYXRvcjtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVkaWF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTVVMVElUT05fTVNHID0gXCJNb2RlbCBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RlbChrZXkpIHtcbiAgICAgICAgdGhpcy5wcm94eU1hcCA9IHt9O1xuICAgICAgICBpZiAoTW9kZWwuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICB9XG4gICAgTW9kZWwuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IE1vZGVsKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnJlbW92ZU1vZGVsID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgcHJveHkuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICB0aGlzLnByb3h5TWFwW3Byb3h5LmdldFByb3h5TmFtZSgpXSA9IHByb3h5O1xuICAgICAgICBwcm94eS5vblJlZ2lzdGVyKCk7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJlbW92ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICBpZiAodGhpcy5wcm94eU1hcFtwcm94eU5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgcHJveHkgPSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICBwcm94eS5vblJlbW92ZSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgTW9kZWwuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gTW9kZWw7XG59KCkpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vRmFjYWRlXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwibXVsdGl0b25LZXkgZm9yIHRoaXMgTm90aWZpZXIgbm90IHlldCBpbml0aWFsaXplZCFcIjtcbnZhciBOb3RpZmllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3RpZmllcigpIHtcbiAgICB9XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5mYWNhZGUgPSB0aGlzLmdldEZhY2FkZSgpO1xuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmZhY2FkZSkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5mYWNhZGUpLnNlbmROb3RpZmljYXRpb24uYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuZ2V0RmFjYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tdWx0aXRvbktleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZV8xLkZhY2FkZS5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIHJldHVybiBOb3RpZmllcjtcbn0oKSk7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vTm90aWZpZXJcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBOQU1FID0gXCJQcm94eVwiO1xudmFyIFByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm94eSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm94eShwcm94eU5hbWUsIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJveHlOYW1lID0gcHJveHlOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nUHJveHkgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFByb3h5LnByb3RvdHlwZS5nZXRQcm94eU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TmFtZTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZW1vdmVcIik7XG4gICAgfTtcbiAgICBQcm94eS5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiIzEwMjQxNVwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjMjdEMDRDXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJGQUE0QVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCJcbiAgICBdO1xuICAgIHJldHVybiBQcm94eTtcbn0oTm90aWZpZXJfMS5Ob3RpZmllcikpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJveHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUHVyZU1WQyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXJlTVZDKCkge1xuICAgIH1cbiAgICBQdXJlTVZDLmxvZ0NvbW1hbmQgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmROYW1lKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIiA9PiAgXCIgKyBjb21tYW5kTmFtZSArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCI6IGFyZ3MgWyBcIiArIGFyZ3MgKyBcIiBdICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ01lZGlhdG9yID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ1Byb3h5ID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbmFtZSArIFwiOiBcIiArIGFjdGlvbiArIFwiICVjICVjIFwiO1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBjb25zb2xlQXJncyk7XG4gICAgfTtcbiAgICBQdXJlTVZDLmxvZ05vbmUgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgIHJldHVybiBQdXJlTVZDO1xufSgpKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QdXJlTVZDLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudGVtaXR0ZXIzXCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiVmlldyBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXcoa2V5KSB7XG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXAgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIGlmIChWaWV3Lmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVZpZXcoKTtcbiAgICB9XG4gICAgVmlldy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgVmlldyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnJlbW92ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm5vdGlmeU9ic2VydmVycyA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5ldmVudEVtaXR0ZXIpLmVtaXQuYXBwbHkoX2EsIFtub3RpZmljYXRpb25OYW1lLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICBpZiAodGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYXRvci5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBtZWRpYXRvciBmb3IgcmV0cmlldmFsIGJ5IG5hbWVcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvci5nZXRNZWRpYXRvck5hbWUoKV0gPSBtZWRpYXRvcjtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgIG1lZGlhdG9yLm9uUmVnaXN0ZXIodGhpcy5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKCFtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBhd2FrZW5cbiAgICAgICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZXRyaWV2ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG1lZGlhdG9yIGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuc2xlZXBNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYXRvci5pc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gc2xlcHRcbiAgICAgICAgICAgIG1lZGlhdG9yLm9uU2xlZXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5oYXNNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZVZpZXcgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IG5vdGlmaWNhdGlvbiB0aGUgbWVkaWF0b3IgaXMgaW50ZXJlc3RlZCBpbi4uLlxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMSA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMVtfaV07XG4gICAgICAgICAgICAgICAgLy8gaW50ZXJlc3RcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBnZXQgbm90aWZpY2F0aW9uIGludGVyZXN0cyBpZiBhbnlcbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICAvLyByZWdpc3RlciBtZWRpYXRvciBhcyBhbiBvYnNlcnZlciBmb3IgZWFjaCBub3RpZmljYXRpb25cbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18yID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18yW19pXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5vbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yLCBvbGROb3RpZmljYXRpb25zKTtcbiAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgfTtcbiAgICBWaWV3Lmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIFZpZXc7XG59KCkpO1xuZXhwb3J0cy5WaWV3ID0gVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0NvbnRyb2xsZXJcIik7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlcjtcbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9GYWNhZGVcIik7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZV8xLkZhY2FkZTtcbnZhciBNZWRpYXRvcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01lZGlhdG9yXCIpO1xuZXhwb3J0cy5NZWRpYXRvciA9IE1lZGlhdG9yXzEuTWVkaWF0b3I7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Nb2RlbFwiKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbF8xLk1vZGVsO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTm90aWZpZXJcIik7XG5leHBvcnRzLk5vdGlmaWVyID0gTm90aWZpZXJfMS5Ob3RpZmllcjtcbnZhciBQcm94eV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1Byb3h5XCIpO1xuZXhwb3J0cy5Qcm94eSA9IFByb3h5XzEuUHJveHk7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1B1cmVNVkNcIik7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDXzEuUHVyZU1WQztcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvVmlld1wiKTtcbmV4cG9ydHMuVmlldyA9IFZpZXdfMS5WaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFdmVudHMoKSB7fVxuXG4vL1xuLy8gV2UgdHJ5IHRvIG5vdCBpbmhlcml0IGZyb20gYE9iamVjdC5wcm90b3R5cGVgLiBJbiBzb21lIGVuZ2luZXMgY3JlYXRpbmcgYW5cbi8vIGluc3RhbmNlIGluIHRoaXMgd2F5IGlzIGZhc3RlciB0aGFuIGNhbGxpbmcgYE9iamVjdC5jcmVhdGUobnVsbClgIGRpcmVjdGx5LlxuLy8gSWYgYE9iamVjdC5jcmVhdGUobnVsbClgIGlzIG5vdCBzdXBwb3J0ZWQgd2UgcHJlZml4IHRoZSBldmVudCBuYW1lcyB3aXRoIGFcbi8vIGNoYXJhY3RlciB0byBtYWtlIHN1cmUgdGhhdCB0aGUgYnVpbHQtaW4gb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdFxuLy8gb3ZlcnJpZGRlbiBvciB1c2VkIGFzIGFuIGF0dGFjayB2ZWN0b3IuXG4vL1xuaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgRXZlbnRzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgLy9cbiAgLy8gVGhpcyBoYWNrIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgX19wcm90b19fYCBwcm9wZXJ0eSBpcyBzdGlsbCBpbmhlcml0ZWQgaW5cbiAgLy8gc29tZSBvbGQgYnJvd3NlcnMgbGlrZSBBbmRyb2lkIDQsIGlQaG9uZSA1LjEsIE9wZXJhIDExIGFuZCBTYWZhcmkgNS5cbiAgLy9cbiAgaWYgKCFuZXcgRXZlbnRzKCkuX19wcm90b19fKSBwcmVmaXggPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhIHNpbmdsZSBldmVudCBsaXN0ZW5lci5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSlcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XSkgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdLmZuKSBlbWl0dGVyLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IFtlbWl0dGVyLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiBlbWl0dGVyO1xufVxuXG4vKipcbiAqIENsZWFyIGV2ZW50IGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldnQgVGhlIEV2ZW50IG5hbWUuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhckV2ZW50KGVtaXR0ZXIsIGV2dCkge1xuICBpZiAoLS1lbWl0dGVyLl9ldmVudHNDb3VudCA9PT0gMCkgZW1pdHRlci5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICBlbHNlIGRlbGV0ZSBlbWl0dGVyLl9ldmVudHNbZXZ0XTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHZhciBuYW1lcyA9IFtdXG4gICAgLCBldmVudHNcbiAgICAsIG5hbWU7XG5cbiAgaWYgKHRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSByZXR1cm4gbmFtZXM7XG5cbiAgZm9yIChuYW1lIGluIChldmVudHMgPSB0aGlzLl9ldmVudHMpKSB7XG4gICAgaWYgKGhhcy5jYWxsKGV2ZW50cywgbmFtZSkpIG5hbWVzLnB1c2gocHJlZml4ID8gbmFtZS5zbGljZSgxKSA6IG5hbWUpO1xuICB9XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICByZXR1cm4gbmFtZXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZXZlbnRzKSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0FycmF5fSBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBoYW5kbGVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghaGFuZGxlcnMpIHJldHVybiBbXTtcbiAgaWYgKGhhbmRsZXJzLmZuKSByZXR1cm4gW2hhbmRsZXJzLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGhhbmRsZXJzLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xuICB9XG5cbiAgcmV0dXJuIGVlO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgbGlzdGVuaW5nIHRvIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBsaXN0ZW5lcnMuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmICghbGlzdGVuZXJzKSByZXR1cm4gMDtcbiAgaWYgKGxpc3RlbmVycy5mbikgcmV0dXJuIDE7XG4gIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBDYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG9uZS10aW1lIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCB0cnVlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgbWF0Y2ggdGhpcyBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAoXG4gICAgICBsaXN0ZW5lcnMuZm4gPT09IGZuICYmXG4gICAgICAoIW9uY2UgfHwgbGlzdGVuZXJzLm9uY2UpICYmXG4gICAgICAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbiAhPT0gZm4gfHxcbiAgICAgICAgKG9uY2UgJiYgIWxpc3RlbmVyc1tpXS5vbmNlKSB8fFxuICAgICAgICAoY29udGV4dCAmJiBsaXN0ZW5lcnNbaV0uY29udGV4dCAhPT0gY29udGV4dClcbiAgICAgICkge1xuICAgICAgICBldmVudHMucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG4gICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxuICAgIC8vXG4gICAgaWYgKGV2ZW50cy5sZW5ndGgpIHRoaXMuX2V2ZW50c1tldnRdID0gZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cztcbiAgICBlbHNlIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dDtcblxuICBpZiAoZXZlbnQpIHtcbiAgICBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuICAgIGlmICh0aGlzLl9ldmVudHNbZXZ0XSkgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwiZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25Ob2RlIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMueiA9IHo7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWROb2Rlcy5zb21lKG5vZGUgPT4gbm9kZS54ID09PSBvdGhlck5vZGUueFxuICAgICAgICAgICAgJiYgbm9kZS55ID09PSBvdGhlck5vZGUueSAmJiBub2RlLnogPT09IG90aGVyTm9kZS56KTtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyTm9kZS54ICYmIHRoaXMueSA9PT0gb3RoZXJOb2RlLnkgJiYgdGhpcy56ID09PSBvdGhlck5vZGUuejtcbiAgICB9XG5cbiAgICBlcXVhbHNQb2ludCh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gejtcbiAgICB9XG5cbiAgICBhZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQob3RoZXJOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5wdXNoKG90aGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlSW5kZXggPSB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUuZXF1YWxzKG90aGVyTm9kZSkpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnNwbGljZShjb25uZWN0ZWROb2RlSW5kZXgsIDEpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VHYW1lTWFwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG4gICAgLy8gR2V0IG5hdmlnYXRpb24gZmxvb3JzXG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVNYXBGbG9vcihhcHApO1xuICAgIGNvbnN0IHdhbGxzID0gY3JlYXRlTWFwV2FsbHMoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IGNvdmVyID0gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpO1xuICAgIGNvbnN0IHBvcnRhbHMgPSBjcmVhdGVQb3J0YWxzKGFwcCk7XG5cbiAgICAvLyB3YXlwb2ludHNcbiAgICBjb25zdCB3YXlwb2ludHNNYXAgPSBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKTtcblxuICAgIC8vIFJlZ2lzdGVyIG1lZGlhdG9yc1xuXG4gICAgaWYgKGZhY2FkZS5oYXNQcm94eShHYW1lTWFwUHJveHkuTkFNRSkpIHtcbiAgICAgICAgLy8gcmVtb3ZlIG9sZCBtYXBcbiAgICAgICAgZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKVxuICAgIH1cblxuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KG5ldyBHYW1lTWFwUHJveHkoZmxvb3JHcmlkLCB3YWxscywgY292ZXIsIHBvcnRhbHMsIHdheXBvaW50c01hcCkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwRmxvb3IoYXBwKSB7XG4gICAgY29uc3QgbmF2aWdhdGlvbkZsb29ycyA9IGFwcC5yb290LmZpbmRCeVRhZygnbmF2aWdhdGlvbl9mbG9vcicpO1xuXG4gICAgbGV0IGNvbXBsZXRlZEdyaWQgPSBbXTtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25Db21wb25lbnRzID0gW107XG4gICAgLy8gRmlyc3QgcGFyc2UgLSBjcmVhdGUgbm9kZXMgYW5kIGNvbm5lY3Rpb25zIGZvciBpbmRpdmlkdWFsIFxuICAgIC8vIG5hdmlnYXRpb24gY29tcG9uZW50c1xuICAgIGZvciAoY29uc3QgZmxvb3JFbnRpdHkgb2YgbmF2aWdhdGlvbkZsb29ycykge1xuICAgICAgICBjb25zdCBuYXZDb21wID0gZmxvb3JFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgICAgIG5hdmlnYXRpb25Db21wb25lbnRzLnB1c2gobmF2Q29tcCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdkNvbXAuY29ubmVjdGVkQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkQ29tcCA9IGNvbm5lY3RlZENvbXBFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG5cbiAgICAgICAgICAgIGlmICghY29ubmVjdGVkQ29tcC5jb25uZWN0ZWRDb21wb25lbnRzLmluY2x1ZGVzKGZsb29yRW50aXR5KSkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZENvbXAuY29ubmVjdGVkQ29tcG9uZW50cy5wdXNoKGZsb29yRW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KVxuICAgICAgICBuYXZDb21wLnNldEdyaWQoZmxvb3JHcmlkKTtcbiAgICB9XG5cblxuICAgIC8vIFRoaXJkIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wbGV0ZWRHcmlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxzQm91bmRpbmdCb3hlcyA9IFtdO1xuICAgIGNvbnN0IG1hcFdhbGxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2FsbCcpO1xuICAgIGZvciAoY29uc3QgbWFwV2FsbEVudGl0eSBvZiBtYXBXYWxsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgYWFiYiA9IGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShtYXBXYWxsRW50aXR5KTtcbiAgICAgICAgd2FsbHNCb3VuZGluZ0JveGVzLnB1c2goYWFiYik7XG4gICAgICAgIGNyZWF0ZUZsb29yVW5kZXJXYWxscyhtYXBXYWxsRW50aXR5LCBmbG9vckdyaWQpO1xuICAgICAgICBtYXBXYWxsRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2FsbHNCb3VuZGluZ0JveGVzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShib3hFbnRpdHkpIHtcbiAgICBjb25zdCBzY2FsZSA9IGJveEVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICBjb25zdCBhYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KGJveEVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgcmV0dXJuIGFhYmI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZsb29yVW5kZXJXYWxscyh3YWxsLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsUG9zID0gd2FsbC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHdhbGxTY2FsZSA9IHdhbGwuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHdhbGxQb3MueSAtICh3YWxsU2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQod2FsbFBvcy54IC0gKHdhbGxTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQod2FsbFBvcy56IC0gKHdhbGxTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyB3YWxsU2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIHdhbGxTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBsZXQgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBjb3ZlckVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdjb3ZlcicpO1xuICAgIGZvciAoY29uc3QgY292ZXJFbnRpdHkgb2YgY292ZXJFbnRpdGllcykge1xuICAgICAgICBjb3ZlclBvaW50cyA9IGNvdmVyUG9pbnRzLmNvbmNhdChjcmVhdGVDb3ZlclBvaW50RnJvbUJveChjb3ZlckVudGl0eSwgZmxvb3JHcmlkKSk7XG4gICAgICAgIGNvdmVyRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goYm94LCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGJveFBvcyA9IGJveC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJveFNjYWxlID0gYm94LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChib3hQb3MueSAtIChib3hTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZChib3hQb3MueCAtIChib3hTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQoYm94UG9zLnogLSAoYm94U2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgYm94U2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIGJveFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgY292ZXJQb2ludCA9IG5ldyBwYy5WZWMzKHgsIHksIHopO1xuICAgICAgICAgICAgY292ZXJQb2ludHMucHVzaChjb3ZlclBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3J0YWxzKGFwcCkge1xuICAgIGNvbnN0IHBvcnRhbHMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcG9ydGFsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3BvcnRhbCcpO1xuICAgIGZvciAoY29uc3QgcG9ydGFsRW50aXR5IG9mIHBvcnRhbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHBvcnRhbEVudGl0eS5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBwb3J0YWxJZCA9IHBvcnRhbENvbXBvbmVudC5wb3J0YWxJZDtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb2ludCA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhpdGJveFBvaW50ID0gcG9ydGFsQ29tcG9uZW50LmhpdGJveC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHBvcnRhbCA9IHtcbiAgICAgICAgICAgIHBvcnRhbElkOiBwb3J0YWxJZCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uU2NlbmU6IGRlc3RpbmF0aW9uU2NlbmUsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblBvcnRhbDogZGVzdGluYXRpb25Qb3J0YWwsXG4gICAgICAgICAgICBzdGFuZGluZ1BvaW50OiBzdGFuZGluZ1BvaW50LFxuICAgICAgICAgICAgaGl0Ym94UG9pbnQ6IGhpdGJveFBvaW50XG4gICAgICAgIH1cblxuICAgICAgICBwb3J0YWxzLnNldChwb3J0YWxJZCwgcG9ydGFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9ydGFscztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2F5cG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBmbG9vck5vZGUgb2YgZmxvb3JHcmlkKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRpYWdvbmFscyBpbnRlcnNlY3Qgd2FsbHNcblxuICAgICAgICBpZiAoaXNXYXlwb2ludChmbG9vck5vZGUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgIHdheXBvaW50cy5wdXNoKG5ldyBOYXZpZ2F0aW9uTm9kZShmbG9vck5vZGUueCwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHdheXBvaW50IG9mIHdheXBvaW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyV2F5cG9pbnQgb2Ygd2F5cG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAoIXdheXBvaW50LmVxdWFscyhvdGhlcldheXBvaW50KSB8fCAhb3RoZXJXYXlwb2ludC5pc0Nvbm5lY3RlZCh3YXlwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gQXN0YXIuY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh3YXlwb2ludC54LCB3YXlwb2ludC56LCBvdGhlcldheXBvaW50LngsIG90aGVyV2F5cG9pbnQueik7XG4gICAgICAgICAgICAgICAgaWYgKEFzdGFyLmNoZWNrVmFsaWRMaW5lKGxpbmUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2F5cG9pbnQuYWRkQ29ubmVjdGVkTm9kZShvdGhlcldheXBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJXYXlwb2ludC5hZGRDb25uZWN0ZWROb2RlKHdheXBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBpc1dheXBvaW50KGZsb29yTm9kZSwgZmxvb3JNYXApIHtcbiAgICAvL0NoZWNrIG53XG4gICAgY29uc3Qgbm9ydGh3ZXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggLSAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG4gICAgY29uc3Qgc291dGhlYXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggKyAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG5cbiAgICAvLyBub3J0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3J0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG5cbiAgICBnZXRXZWFwb25DYXRlZ29yeSh3ZWFwb25OYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2F0ZWdvcnkgZm9yIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcblxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IFN0b3J5Vk8gfSA9IHJlcXVpcmUoJy4vU3RvcnlWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBTdG9yeVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0b3J5UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJ1bmsgPSBhcHAuYXNzZXRzLmdldCg0MDUyOTkyMCkucmVzb3VyY2U7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJlZXMgPSBzdG9yeVRydW5rLnRyZWVzO1xuICAgICAgICBjb25zdCBzdG9yeVRyZWVNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0cmVlS2V5IGluIHN0b3J5VHJlZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzdG9yeVRyZWVzLCB0cmVlS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZUFzc2V0SWQgPSBzdG9yeVRyZWVzW3RyZWVLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZSA9IGFwcC5hc3NldHMuZ2V0KHN0b3J5VHJlZUFzc2V0SWQpLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgc3RvcnlUcmVlTWFwLnNldCh0cmVlS2V5LCBzdG9yeVRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoU3RvcnlQcm94eS5OQU1FLCBzdG9yeVRyZWVNYXApO1xuXG4gICAgICAgIC8vIFByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGdldFRyZWUodHJlZUlkKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmhhcyh0cmVlSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52by5nZXQodHJlZUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROb2RlKHRyZWUsIG5vZGVJZCkge1xuICAgICAgICBjb25zdCBub2RlcyA9IHRyZWUubm9kZXM7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChub2Rlcywgbm9kZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVzW25vZGVJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RlcChub2RlLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBub2RlLnN0ZXBzO1xuICAgICAgICBpZiAoc3RlcEluZGV4IDwgc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcHNbc3RlcEluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb1RvTm9kZShub2RlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5vZGVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBzdGFydERpYWxvZ3VlVHJlZSh0cmVlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHRyZWVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IFwiZW50cnlcIjtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcblxuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBpZiAoIXRyZWUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3Qgc3RhcnQgZGlhbG9ndWU6IFRyZWUgJHt0aGlzLmN1cnJlbnRUcmVlfSBub3QgZm91bmRgKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgQ2Fubm90IHN0YXJ0IGRpYWxvZ3VlOiBubyBcImVudHJ5XCIgbm9kZSBkZWZpbmVkIG9uICR7dHJlZUlkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudE5vZGVTdGVwKCkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgY29uc3QgdmFsaWRTdGVwID0gdGhpcy5nZXRWYWxpZFN0ZXAoY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgIGlmICh2YWxpZFN0ZXAgJiYgdmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKG9uY2VDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFN0ZXA7XG4gICAgfVxuXG5cbiAgICBjb250aW51ZUN1cnJlbnROb2RlU3RlcCgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSlcbiAgICAgICAgLy8gaW5jcmVtZW50IHN0ZXBJbmRleFxuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXgrKztcblxuICAgICAgICBjb25zdCB2YWxpZFN0ZXAgPSB0aGlzLmdldFZhbGlkU3RlcChjdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgaWYgKHZhbGlkU3RlcCAmJiB2YWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24ob25jZUNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkU3RlcDtcbiAgICB9XG5cbiAgICBnZXRWYWxpZFN0ZXAobm9kZSwgc3RlcEluZGV4KSB7XG4gICAgICAgIGxldCBuZXh0VmFsaWRTdGVwID0gdGhpcy5nZXRTdGVwKG5vZGUsIHN0ZXBJbmRleCk7XG5cblxuICAgICAgICBpZiAobmV4dFZhbGlkU3RlcCkge1xuICAgICAgICAgICAgbGV0IHRlc3RDb25kaXRpb25zID0gW107XG4gICAgICAgICAgICBpZiAobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGVzdENvbmRpdGlvbnMgPSB0ZXN0Q29uZGl0aW9ucy5jb25jYXQobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCBzdGVwSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRlc3RDb25kaXRpb25zID0gdGVzdENvbmRpdGlvbnMuY29uY2F0KG9uY2VDb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZXN0IHZhbGlkIHN0ZXAnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXN0Q29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRlc3RDb25kaXRpb25zKHRlc3RDb25kaXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VmFsaWRTdGVwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSBzdGVwSW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbGlkU3RlcChub2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFZhbGlkU3RlcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodHJlZUlkLCBub2RlSWQsIHN0ZXBJbmRleCkge1xuICAgICAgICByZXR1cm4gYCR7dHJlZUlkfSR7bm9kZUlkfSR7c3RlcEluZGV4fWA7XG4gICAgfVxuXG4gICAgZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRyZWVJZCwgbm9kZUlkLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGAhJHt0cmVlSWR9JHtub2RlSWR9JHtzdGVwSW5kZXh9YDtcbiAgICB9XG5cbiAgICBzZWxlY3RDaG9pY2UoY2hvaWNlSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IGN1cnJlbnROb2RlLmNob2ljZXNbY2hvaWNlSW5kZXhdO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRDaG9pY2U7XG4gICAgfVxuXG4gICAgYWRkQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlc3RDb25kaXRpb25zKGNvbmRpdGlvbnMpIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBvcGVyYXRvcnNcbiAgICAgICAgICAgIGNvbnN0IG9yRGVsaW1pdGVyZWQgPSBcInx8XCI7XG4gICAgICAgICAgICBjb25zdCBvckNvbmRpdGlvbnMgPSBjb25kaXRpb24uc3BsaXQob3JEZWxpbWl0ZXJlZCk7XG5cbiAgICAgICAgICAgIGlmIChvckNvbmRpdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgb25lIG5lZWRzIHRvIGJlIHRydWVcbiAgICAgICAgICAgICAgICBsZXQgb3JTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb25hbENvbmRpdGlvbiBvZiBvckNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tDb25kaXRpb24ob3B0aW9uYWxDb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvclN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBvclN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdGhpcy5jaGVja0NvbmRpdGlvbihjb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cblxuICAgIGNoZWNrQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHBvc2l0aXZlIG9mIG5lZ2F0aXZlXG4gICAgICAgIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIiFcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKHN0cmlwcGVkU3RyaW5nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiK1wiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihzdHJpcHBlZFN0cmluZyk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIi1cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb25kaXRpb24oc3RyaXBwZWRTdHJpbmcpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBJdGVtc1Byb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkl0ZW1zUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihJdGVtc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldEl0ZW1EYXRhKGl0ZW1JZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIGl0ZW1JZCkpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNhdGVnb3J5S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy52b1tjYXRlZ29yeUtleV1baXRlbUlkXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZGF0YSBmb3IgaXRlbTo6ICR7aXRlbUlkfWApO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmNvbnN0IHsgQm90QmVoYXZpb3Vyc1ZPIH0gPSByZXF1aXJlKCcuL0JvdEJlaGF2aW91cnNWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJCb3RCZWhhdmlvdXJQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoQm90QmVoYXZpb3VyUHJveHkuTkFNRSwgbmV3IEJvdEJlaGF2aW91cnNWTygpKTtcbiAgICB9XG5cbiAgICBnZXRUcmVlKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2V0VHJlZSh0eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEl0ZW1zUHJveHkgfSBmcm9tICcuLi9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEJvdEJlaGF2aW91clByb3h5IH0gZnJvbSAnLi4vbW9kZWwvYm90QmVoYXZpb3VyL0JvdEJlaGF2aW91clByb3h5JztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgIC8vIFJlZ2lzdGVyIGFwcC1sZXZlbCBtZWRpYXRvcnMvcHJveGllcy9jb21tYW5kcyBoZXJlXG5cbiAgICAvLyBDcmVhdGUgZ2FtZSBzdGF0ZSBwcm94eVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgR2FtZVN0YXRlUHJveHkoKSk7XG5cbiAgICAvLyBMb2FkIHdlYXBvbnMgZGF0YSBhbmQgY3JlYXRlIHByb3h5XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBpZiAoYXBwKSB7XG4gICAgICAgIGNvbnN0IHdlYXBvbnNEYXRhID0gYXBwLmFzc2V0cy5nZXQoNDA0MTU2MzEpLnJlc291cmNlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IFdlYXBvbnNQcm94eSh3ZWFwb25zRGF0YSkpO1xuICAgICAgICBjb25zdCBpdGVtc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDgxNDAyNykucmVzb3VyY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnR1cCAtIEl0ZW1zUHJveHlcIik7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgSXRlbXNQcm94eShpdGVtc0RhdGEpKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBTdG9yeVByb3h5KCkpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEJvdEJlaGF2aW91clByb3h5KCkpO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU2NlbmVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBzY2VuZU5hbWUgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1sxXTtcbiAgICBjb25zb2xlLmxvZyhgQ2hhbmdpbmcgc2NlbmUgJHtzY2VuZU5hbWV9YCk7XG5cbiAgICAvLyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgcm9vdCBvYmplY3RcbiAgICBjb25zdCBvbGRIaWVyYXJjaHkgPSBhcHAucm9vdC5maW5kQnlOYW1lKCdSb290Jyk7XG5cbiAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIHNjZW5lXG4gICAgY29uc3Qgc2NlbmUgPSBhcHAuc2NlbmVzLmZpbmQoc2NlbmVOYW1lKTtcblxuICAgIC8vIExvYWQgdGhlIHNjZW5lcyBlbnRpdHkgaGllcmFyY2h5XG4gICAgYXBwLnNjZW5lcy5sb2FkU2NlbmVIaWVyYXJjaHkoc2NlbmUudXJsLCBmdW5jdGlvbiAoZXJyLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGlmIChvbGRIaWVyYXJjaHkpIHtcbiAgICAgICAgICAgICAgICBvbGRIaWVyYXJjaHkuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBwb3J0YWxJZCk7XG5cbiAgICB9KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aFxuICAgIGxldCB0ZW1wb3JhcnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSAtMTtcblxuICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlLi4uXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xuXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxuICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJbmRleCAtPSAxO1xuXG4gICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xuICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBzaHVmZmxlQXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy9TaHVmZmxlQXJyYXknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBDb21iYXRWTyB9ID0gcmVxdWlyZSgnLi9Db21iYXRWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBDb21iYXRQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDb21iYXRQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHN1cGVyKENvbWJhdFByb3h5Lk5BTUUsIG5ldyBDb21iYXRWTyhwYXJ0aWNpcGFudHMsIHRlYW1zKSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gWy4uLnRoaXMudm8ucGFydGljaXBhbnRzXTtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNpcGFudFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGlmICghcGFydGljaXBhbnRQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5zZXQocGFydGljaXBhbnQsIHBhcnRpY2lwYW50UHJveHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBbHJlYWR5IGRlYWQuLi4gbW92ZSBvblxuICAgICAgICAgICAgICAgIHRoaXMudm8ucGFydGljaXBhbnRzID0gdGhpcy52by5wYXJ0aWNpcGFudHMuZmlsdGVyKGUgPT4gZSAhPT0gcGFydGljaXBhbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0VHVybigpIHtcbiAgICAgICAgY29uc3Qgcm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmU7XG5cbiAgICAgICAgaWYgKHJvdW5kSW5pdGlhdGl2ZSAmJiByb3VuZEluaXRpYXRpdmUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFR1cm5JZCA9IHJvdW5kSW5pdGlhdGl2ZS5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IG5leHRUdXJuSWQ7XG5cbiAgICAgICAgICAgIGlmIChuZXh0VHVybklkICE9PSAnZW5kX3JvdW5kJykge1xuICAgICAgICAgICAgICAgIC8vIE5leHQgVHVyblxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFR1cm4gJHtuZXh0VHVybklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZ2V0KG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIHByb3h5LnJlc2V0Q29tYmF0VHVyblN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJveHkuaXNOUEMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVuZCByb3VuZFxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEVuZCByb3VuZGApO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0Um91bmQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8gIE5ldyByb3VuZCAgLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnN0IGluaXRpYXRpdmVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2NoYXJhY3RlcklkLCBwcm94eV0gb2YgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2byA9IHByb3h5LnZvO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2by5pbml0aWF0aXZlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbml0aWF0aXZlcy5wdXNoKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbml0aWF0aXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV2ZXJ5b25lIGlzIG91dCBvZiB0aGUgY29tYmF0IHNvbWVob3csIHByb2JhYmx5IGRlYWRcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGVuZCBvZiByb3VuZCB0b2tlblxuICAgICAgICBpbml0aWF0aXZlcy5wdXNoKCdlbmRfcm91bmQnKTtcblxuICAgICAgICBsZXQgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KGluaXRpYXRpdmVzKTtcbiAgICAgICAgLy8gZW5zdXJlIHJvdW5kIGRvZXNuJ3Qgc3RhcnQgd2l0aCBcImVuZF9yb3VuZFwiXG4gICAgICAgIHdoaWxlIChzaHVmZmxlZEluaXRpYXRpdmVbMF0gPT09IFwiZW5kX3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShzaHVmZmxlZEluaXRpYXRpdmUpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHNodWZmbGVkSW5pdGlhdGl2ZTtcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZDtcbiAgICB9XG5cbiAgICBnZXQgYWN0aXZlUGFydGljaXBhbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50O1xuICAgIH1cblxuICAgIHNldCBhY3RpdmVQYXJ0aWNpcGFudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHBhcnRpY2lwYW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgIH1cblxuICAgIGdldCB0ZWFtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8udGVhbXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdChjaGFyYWN0ZXJJZCkge1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBwYXJ0aWNjaXBhbnRzXG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmRlbGV0ZShjaGFyYWN0ZXJJZCk7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGluaXRpYXRpdmVcbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZS5maWx0ZXIoZSA9PiBlICE9PSBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB0ZWFtXSBvZiB0aGlzLnRlYW1zLmVudHJpZXMoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJJbmRleCA9IHRlYW0uaW5kZXhPZihjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVySW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRlYW0uc3BsaWNlKGNoYXJhY3RlckluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRlYW0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJTdGFydCBDb21iYXRcIik7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKTtcblxuICAgIGNvbnN0IGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGluc3RpZ2F0aW5nQ2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUywgXCJzcG90dGVkXCIsIGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkpO1xuXG5cbiAgICAvLyBTZXR1cCB0aGUgY29tYmF0XG4gICAgY29uc3QgdGVhbXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcGxheWVyVGVhbSA9IFsncGxheWVyJ107XG4gICAgdGVhbXMuc2V0KCdwbGF5ZXJfdGVhbScsIHBsYXllclRlYW0pO1xuXG4gICAgY29uc3Qgb3Bwb3NpbmdUZWFtID0gW2luc3RpZ2F0aW5nQ2hhcmFjdGVySWRdLmNvbmNhdChpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5LmNvbWJhdEdyb3VwKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09IHBvcztcbiAgICB9KTtcbiAgICB0ZWFtcy5zZXQoJ29wcG9zaW5nX3RlYW0nLCBvcHBvc2luZ1RlYW0pO1xuXG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gcGxheWVyVGVhbS5jb25jYXQob3Bwb3NpbmdUZWFtKTtcblxuXG4gICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9NT1ZFTUVOVCArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgcGxheWVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgcGFydGljaXBhbnQsIGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IG5ldyBDb21iYXRQcm94eShwYXJ0aWNpcGFudHMsIHRlYW1zKTtcbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShjb21iYXRQcm94eSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICB9LCAyMDAwKTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRUdXJuKCk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRSb3VuZENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFJvdW5kKCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS52by5uZXh0VHVybkNoYXJhY3RlcklkKTtcblxuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5Lm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuICAgIH0sIDUwMCk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgQmFzaWNNZWxlZVRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZW15VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuICAgIGNvbnN0IGVuZW15Q3VycmVudE5vZGUgPSBlbmVteVByb3h5LmN1cnJlbnROb2RlO1xuICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllck5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVuZW15Q3VycmVudE5vZGUpKTtcblxuICAgIGNvbnN0IGJhc2ljTWVsZWVUcmVlID0gbmV3IEJhc2ljTWVsZWVUcmVlKCk7XG4gICAgYmFzaWNNZWxlZVRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcblxuICAgIC8qLy8gd2UncmUgYWxyZWFkeSB0aGVyZVxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgZW5lbXlQcm94eS5pZCwgcGxheWVyUHJveHkuaWQpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChlbmVteUN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChlbmVteUN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGVuZW15Q3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IHZvID0gZW5lbXlQcm94eS52bztcbiAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSBwYXRoWzBdO1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnRJc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVuZFBvaW50KSk7XG5cbiAgICAgICAgICAgIGlmIChlbmRwb2ludElzQWRqYWNlbnQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIGVuZW15SWQsIFwicGxheWVyXCIsIHBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGVuZW15SWQsIHBhdGgpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGVuZW15UHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfSovXG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eVwiO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZE5vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgY29uc3Qgbm9kZSA9IGFyZ3NbMF07XG5cbiAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTm9kZShub2RlKSkge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB2by5pZCwgcGF0aCk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhbGthYmxlTm9kZXMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDIzNTk2Nik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB3YWxrYWJsZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB3YWxrYWJsZVRpbGVBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aWxlLnNldExvY2FsUG9zaXRpb24obm9kZS54LCBub2RlLnksIG5vZGUueik7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGthYmxlX3RpbGUnKTtcbiAgICBmb3IgKGNvbnN0IHdhbGthYmxlVGlsZUVudGl0eSBvZiB3YWxrYWJsZVRpbGVFbnRpdGllcykge1xuICAgICAgICB3YWxrYWJsZVRpbGVFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gXCIuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXJcIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgbW92ZWFibGVOb2Rlcyk7XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gXCIuL0dhbWVDb21tYW5kc1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kTW92ZW1lbnRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5kTm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZW5kTm9kZTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGlkKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlckVudGl0eSA9IGFyZ3NbMF07XG4gICAgY29uc3QgaWQgPSBnYW1lQ2hhcmFjdGVyRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgY29uc3Qgd2VhcG9uUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25Qcm94eS5nZXRXZWFwb25DYXRlZ29yeShwbGF5ZXJDaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJyAmJiB3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk5vIGxpbmUgb2Ygc2lnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0ssIGlkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLLCBpZCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoIWNvbWJhdFByb3h5IHx8IGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAvLyBub3QgeW91ciB0dXJuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyQ2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA8PSAwKSB7XG4gICAgICAgICAgICAvLyBvdXQgb2YgYWN0aW9uc1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJPdXQgb2YgYWN0aW9uc1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNUYXJnZXRBZGphY2VudChwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgICAgICAgICAgICAgIC8vIHBhdGggbGVuZ3RoIGluY2x1ZGVzIGN1cnJlbnQgbm9kZSwgc28gZGVkdWN0IG9uIHRvIHdvcmsgb3V0IGFjdHVhbCBtb3ZlYWJsZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgIGlmIChwYXRoVG9UYXJnZXQgJiYgcGF0aFRvVGFyZ2V0Lmxlbmd0aCAtIDEgPD0gcGxheWVyQ2hhcmFjdGVyUHJveHkudm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgd2VhcG9uIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuaWQsIHBhdGhUb1RhcmdldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgXCJwbGF5ZXJcIiwgcGF0aFRvVGFyZ2V0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJDYW5ub3QgcmVhY2ggdGFyZ2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5pZCwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgIGlmICh1bm9jY3VwaWVkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHVub2NjdXBpZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggPCBzaG9ydGVzdFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNUYXJnZXRBZGphY2VudChwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCB0YXJnZXRDdXJycmVudE5vZGUgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIHJldHVybiBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHModGFyZ2V0Q3VycnJlbnROb2RlKSk7XG59XG5cbmZ1bmN0aW9uIGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHBsYXllclBvaW50ID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShwbGF5ZXJDaGFyYWN0ZXJQcm94eSk7XG4gICAgY29uc3QgdGFyZ2V0UG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHRhcmdldENoYXJhY3RlclByb3h5KTtcblxuICAgIHJldHVybiAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKHBsYXllclBvaW50LCB0YXJnZXRQb2ludCk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgV2VhcG9uVHlwZXMgfSBmcm9tICcuLi9kYXRhL1dlYXBvblR5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGF0dGFja2VyV2VhcG9uU2tpbGwgPSBgJHthdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcbiAgICBjb25zdCBkZWZlbmRlcldlYXBvblNraWxsID0gYCR7ZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbn1GaWdodGluZ2A7XG5cbiAgICBjb25zdCBhdHRhY2tlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoYXR0YWNrZXJXZWFwb25Ta2lsbCk7XG4gICAgY29uc3QgZGVmZW5kZXJTa2lsbFRvdGFsID0gYXR0YWNrZXJQcm94eS5nZXRTa2lsbFRvdGFsKGRlZmVuZGVyV2VhcG9uU2tpbGwpO1xuXG4gICAgY29uc3QgYXR0YWNrZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyU2tpbGxUb3RhbCk7XG4gICAgY29uc3QgZGVmZW5kZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyU2tpbGxUb3RhbCk7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgLy8gRGV0ZXJtaW5lIHdpbm5lclxuICAgIGlmIChhdHRhY2tlclJvbGwgPT09IGRlZmVuZGVyUm9sbCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBhdHRhY2tlcklkKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgZGVmZW5kZXJJZCk7XG5cbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEF0dGFjayB0aWVkKCR7YXR0YWNrZXJSb2xsfS8ke2RlZmVuZGVyUm9sbH0pYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGF0dGFja2VyUm9sbCA+IGRlZmVuZGVyUm9sbCkge1xuICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlVGllciA9IGRldGVybWluZURhbWFnZVRpZXIoYXR0YWNrZXJSb2xsLCBkZWZlbmRlclJvbGwpO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uc1Byb3h5LmdldERhbWFnZShhdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGRlZmVuZGVyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgIGlmIChkZWZlbmRlclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7YXR0YWNrZXJJZH0gZGFtYWdlcyAke2RlZmVuZGVySWR9IGZvciAke2RhbWFnZX1gKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvbnNQcm94eS5nZXRXZWFwb25DYXRlZ29yeShkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc01lbGVlV2VhcG9uID0gd2VhcG9uQ2F0ZWdvcnkgPT09IFwibWVsZWVcIjtcblxuICAgICAgICAgICAgLy8gRGVmZW5kZXIgd2luc1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlVGllciA9IGRldGVybWluZURhbWFnZVRpZXIoZGVmZW5kZXJSb2xsLCBhdHRhY2tlclJvbGwpO1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uID0gKGhhc01lbGVlV2VhcG9uKSA/IGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24gOiBXZWFwb25UeXBlcy5VTkFSTUVEO1xuICAgICAgICAgICAgY29uc3QgZGFtYWdlID0gd2VhcG9uc1Byb3h5LmdldERhbWFnZSh3ZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgYXR0YWNrZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7ZGVmZW5kZXJJZH0gZGFtYWdlcyAke2F0dGFja2VySWR9IGZvciAke2RhbWFnZX1gKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgZGVmZW5kZXJJZCk7XG5cbiAgICAgICAgICAgIGlmIChhdHRhY2tlclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBhdHRhY2tlcklkKTtcblxuICAgICAgICB9LCAxNTAwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXRJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgcGF0aCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LnVzZU1vdmVtZW50KHBhdGgubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgY2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuICAgIGNvbnN0IGZpbmlzaE1vdmVQcm9taXNlID0gY2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKTtcbiAgICBmaW5pc2hNb3ZlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBjaGFyYWN0ZXJJZCwgdGFyZ2V0SWQpO1xuXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zb2xlLmxvZyhgS2lsbCBjaGFyYWN0ZXI6OiAke2NoYXJhY3RlcklkfWApO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRlYXRoXCIsIGNoYXJhY3RlclByb3h5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGNoYXJhY3RlcklkKTtcblxuXG4gICAgaWYgKGNoYXJhY3RlclByb3h5KSB7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnRTdGFtaW5hID0gMDtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICBjb21iYXRQcm94eS5yZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGxvc2luZ1RlYW0gPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgaWYgKGZhY2FkZS5oYXNNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKSkge1xuICAgICAgICBmYWNhZGUucmVtb3ZlTWVkaWF0b3IoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG5cbiAgICBpZiAobG9zaW5nVGVhbSA9PT0gJ3BsYXllcl90ZWFtJykge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkdBTUVfT1ZFUik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBHYW1lIE92ZXJgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFZpY3RvcnlgKTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IEJhc2ljTWVsZWVUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZSc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEJvdEJlaGF2aW91clR5cGVzIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcyc7XG5pbXBvcnQgeyBCYXNpY1JhbmdlZFRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2JvdEJlaGF2aW91ci9Cb3RCZWhhdmlvdXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZW5lbXlJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgYm90QmVoYXZpb3VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShCb3RCZWhhdmlvdXJQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0cmVlID0gYm90QmVoYXZpb3VyUHJveHkuZ2V0VHJlZShlbmVteVByb3h5LmJvdEJlaGF2aW91cik7XG4gICAgaWYgKHRyZWUpIHtcbiAgICAgICAgdHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIC8vIFNjb3JlcyBmb3IgY29tcGFyaXNzb25cbiAgICBsZXQgYXR0YWNrZXJTY29yZSA9IDA7XG4gICAgbGV0IGRlZmVuZGVyU2NvcmUgPSAwO1xuXG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgYXR0YWNrZXJOb2RlID0gYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBsZXQgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgbGV0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVyTm9kZSA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGNvbnN0IGF0dGFja2VyV2VhcG9uU2tpbGwgPSBgJHthdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcbiAgICBjb25zdCBhdHRhY2tlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoYXR0YWNrZXJXZWFwb25Ta2lsbCk7XG5cbiAgICBhdHRhY2tlclNjb3JlICs9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclNraWxsVG90YWwpO1xuICAgIGRlZmVuZGVyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpc0luQ292ZXIgPSBnYW1lTWFwUHJveHkuaXNJbkNvdmVyKFxuICAgICAgICBuZXcgcGMuVmVjMyhkZWZlbmRlck5vZGUueCwgZGVmZW5kZXJOb2RlLnksIGRlZmVuZGVyTm9kZS56KSxcbiAgICAgICAgbmV3IHBjLlZlYzMoYXR0YWNrZXJOb2RlLngsIGF0dGFja2VyTm9kZS55LCBhdHRhY2tlck5vZGUueikpO1xuXG4gICAgaWYgKGlzSW5Db3Zlcikge1xuICAgICAgICBkZWZlbmRlclNjb3JlICs9IDI7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgLy8gVE9ETzogbWFrZSB0aGlzIG1vcmUgc29waGlzdGljYXRlZFxuICAgIGNvbnN0IHByb2plY3RpbGVPcmlnaW4gPSBuZXcgcGMuVmVjMyhhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlVGFyZ2V0ID0gbmV3IHBjLlZlYzMoZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZS54LFxuICAgICAgICBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLnkgKyAxLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLnopO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgIHByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuY3JlYXRlUHJvamVjdGlsZSgnY3Jvc3Nib3dfYm9sdCcsIHByb2plY3RpbGVPcmlnaW4sIHByb2plY3RpbGVUYXJnZXQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBvdXRjb21lXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJTY29yZSA+IGRlZmVuZGVyU2NvcmUpIHtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBpcyBpbiBtZWxlZSBhbmQgcm9sbCBmb3IgbmV3IHRhcmdldFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVpZ2hib3VyaW5nTm9kZXMgPSBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZVRhcmdldHMgPSBbZGVmZW5kZXJJZF07XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBjb21iYXRQcm94eS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFydGljaXBhbnRQcm94eS5pc0RlYWQgJiYgbmVpZ2hib3VyaW5nTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBhcnRpY2lwYW50UHJveHkuY3VycmVudE5vZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlVGFyZ2V0cy5wdXNoKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVySWQgPSBwb3NzaWJsZVRhcmdldHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGVUYXJnZXRzLmxlbmd0aCldO1xuICAgICAgICAgICAgICAgICAgICBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclNjb3JlLCBkZWZlbmRlclNjb3JlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7YXR0YWNrZXJJZH0gZGFtYWdlcyAke2RlZmVuZGVySWR9IGZvciAke2RhbWFnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRvZGdlXCIsIGRlZmVuZGVyUHJveHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWlwV2VhcG9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYE11c3QgY2hhbmdlIHdlYXBvbiBvbiB5b3VyIHR1cm5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB3ZWFwb24gPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA9IHdlYXBvbjtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtjaGFyYWN0ZXJJZH0gZXF1aXBzICR7d2VhcG9ufWApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHN0YW5kaW5nTm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUoc3RhbmRpbmdQb3NpdGlvbik7XG4gICAgY29uc3QgcGxheWVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgcGxheWVyTWVkaWF0b3IubW92ZVRvTm9kZVdpdGhQcm9taXNlKHN0YW5kaW5nTm9kZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlckFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDA1MjMzMzYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG4gICAgY29uc3QgcGxheWVyRW50aXR5ID0gcGxheWVyQ2hhcmFjdGVyQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBjb250YWluZXIuYWRkQ2hpbGQocGxheWVyRW50aXR5KTtcblxuICAgIGNvbnN0IG1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHBvcnRhbCA9IG1hcFByb3h5LnJldHJpZXZlUG9ydGFsKHBvcnRhbElkKTtcbiAgICBwbGF5ZXJFbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3J0YWwuc3RhbmRpbmdQb2ludCk7XG5cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuXG4gICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoVG9UYXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICghc2hvcnRlc3RQYXRoIHx8IChvdGhlclBhdGggJiYgb3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIilcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IGRpYWxvZ3VlVHJlZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmRpYWxvZ3VlVHJlZTtcbiAgICBjb25zdCBzdG9yeVRyZWUgPSBzdG9yeVByb3h5LnN0YXJ0RGlhbG9ndWVUcmVlKGRpYWxvZ3VlVHJlZSk7XG5cbiAgICBnYW1lc3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkRJQUxPR1VFKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0YXJnZXRDaGFyYWN0ZXJJZCwgcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMKTtcblxuICAgIGNvbnN0IG9wZW5pbmdTdGVwID0gc3RvcnlQcm94eS5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogZGlhbG9ndWVUcmVlLFxuICAgICAgICBzdGVwOiBvcGVuaW5nU3RlcFxuICAgIH0pO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5leHRTdGVwID0gc3RvcnlQcm94eS5jb250aW51ZUN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGlmIChuZXh0U3RlcCkge1xuXG4gICAgICAgIGlmIChuZXh0U3RlcC5jaG9pY2VzKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbiBvZiBuZXh0U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLm5hbWUsIC4uLm5vdGlmaWNhdGlvbi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaG9pY2VJbmRleCA9IGFyZ3NbMF07XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRDaG9pY2UgPSBzdG9yeVByb3h5LnNlbGVjdENob2ljZShjaG9pY2VJbmRleCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgdGl0bGU6IFwiWU9VXCIsXG4gICAgICAgIHRleHQ6IHNlbGVjdGVkQ2hvaWNlLnRleHQsXG4gICAgICAgIHRpdGxlQ29sb3VyOiAnI0RCODMxQydcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgc3RlcDogcmVzcG9uc2VcbiAgICB9KTtcblxuICAgIGlmIChzZWxlY3RlZENob2ljZS50ZXN0KSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1QsIHNlbGVjdGVkQ2hvaWNlLnRlc3QpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkQ2hvaWNlLmdvdG8pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBzZWxlY3RlZENob2ljZS5nb3RvKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5ld05vZGUgPSBhcmdzWzBdO1xuICAgIHN0b3J5UHJveHkuZ29Ub05vZGUobmV3Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudFN0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuXG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IGN1cnJlbnRTdGVwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50U3RlcCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90aWZpY2F0aW9uIG9mIGN1cnJlbnRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU0hPT1QgQ09NTUFORDogJHtub3RpZmljYXRpb24ubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24ubmFtZSwgLi4ubm90aWZpY2F0aW9uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZXN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTik7XG5cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMKTtcblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cblxuICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICBpZiAocGF0aFRvVGFyZ2V0KSB7XG4gICAgICAgIHBsYXllckNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aFRvVGFyZ2V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IG5ld0FjdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gbmV3QWN0aW9uO1xuXG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCB0ZXN0ID0gYXJnc1swXTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCBwbGF5ZXJTa2lsbCA9IGNoYXJhY3RlclByb3h5LmdldFNraWxsVG90YWwodGVzdC5za2lsbClcblxuICAgIC8vIFJvbGwgZGljZVxuICAgIGNvbnN0IGRpZTEgPSByb2xsRGljZSgpO1xuICAgIGNvbnN0IGRpZTIgPSByb2xsRGljZSgpO1xuXG4gICAgY29uc3QgdG90YWxSb2xsID0gZGllMSArIGRpZTI7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gcGxheWVyU2tpbGwgPj0gdG90YWxSb2xsO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCwgdGVzdC5za2lsbCwgcGxheWVyU2tpbGwsIGRpZTEsIGRpZTIsIHN1Y2Nlc3MpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFN1Y2NlZWRlZCAke3Rlc3Quc2tpbGx9IHdpdGggYSAke3BsYXllclNraWxsfSB2cyAke2RpZTF9KyR7ZGllMn1gKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHRlc3Quc3VjY2Vzcy5nb3RvKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgJHt0ZXN0LnNraWxsfSB3aXRoIGEgJHtwbGF5ZXJTa2lsbH0gdnMgJHtkaWUxfSske2RpZTJ9YCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCB0ZXN0LmZhaWx1cmUuZ290byk7XG5cbiAgICB9XG59XG5cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUwpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfSU5WRU5UT1JZX1BBTkVMLCBnYW1lQ2hhcmFjdGVyUHJveHkuaW52ZW50b3J5SXRlbXMsIGdhbWVDaGFyYWN0ZXJQcm94eS5lcXVpcG1lbnRTbG90cyk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHBsYXllcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBpdGVtVVVJRCA9IGFyZ3NbMV07XG4gICAgY29uc3QgbmV3SW5kZXggPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwbGF5ZXJJZCk7XG5cbiAgICBnYW1lQ2hhcmFjdGVyUHJveHkucmVvcmRlckludmVudG9yeUl0ZW0oaXRlbVVVSUQsIG5ld0luZGV4KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVBEQVRFX0lOVkVOVE9SWV9QQU5FTCwgZ2FtZUNoYXJhY3RlclByb3h5LmludmVudG9yeUl0ZW1zLCBnYW1lQ2hhcmFjdGVyUHJveHkuZXF1aXBtZW50U2xvdHMpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEl0ZW1zUHJveHkgfSBmcm9tICcuLi9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW0gfSBmcm9tIFwiLi4vbW9kZWwvaXRlbXMvSW52ZW50b3J5SXRlbVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgaXRlbUlkID0gYXJnc1sxXTtcbiAgICBjb25zdCBlcXVpcG1lbnRLZXkgPSBhcmdzWzJdO1xuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IGl0ZW1JbkludmVudG9yeSA9IGdhbWVDaGFyYWN0ZXJQcm94eS5pbnZlbnRvcnlJdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gaXRlbUlkKTtcblxuICAgIGlmIChpdGVtSW5JbnZlbnRvcnkpIHtcbiAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bGx5RXF1aXBwZWQgPSBnYW1lQ2hhcmFjdGVyUHJveHkuYXR0ZW1wdFRvRXF1aXBJdGVtVG9TbG90KGVxdWlwbWVudEtleSwgaXRlbUluSW52ZW50b3J5KTtcblxuICAgICAgICBpZiAoc3VjY2Vzc2Z1bGx5RXF1aXBwZWQpIHtcbiAgICAgICAgICAgIGlmIChpdGVtSW5JbnZlbnRvcnkudHlwZSA9PT0gXCJ3ZWFwb25cIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIFwicGxheWVyXCIsIGl0ZW1JbkludmVudG9yeS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSXRlbXNQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IG5ldyBJbnZlbnRvcnlJdGVtKGl0ZW1zUHJveHkuZ2V0SXRlbURhdGEoaXRlbUlkKSk7XG5cbiAgICAgICAgY29uc3Qgc3VjY2Vzc2Z1bGx5RXF1aXBwZWQgPSBnYW1lQ2hhcmFjdGVyUHJveHkuYXR0ZW1wdFRvRXF1aXBJdGVtVG9TbG90KGVxdWlwbWVudEtleSwgaW52ZW50b3J5SXRlbSk7XG5cbiAgICAgICAgaWYgKHN1Y2Nlc3NmdWxseUVxdWlwcGVkKSB7XG4gICAgICAgICAgICBpZiAoaW52ZW50b3J5SXRlbS50eXBlID09PSBcIndlYXBvblwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgXCJwbGF5ZXJcIiwgaW52ZW50b3J5SXRlbS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc3QgaXRlbSA9IGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zW2l0ZW1JbmRleF07XG5cblxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRVFVSVBQRURfU0xPVCwgZ2FtZUNoYXJhY3RlclByb3h5LmVxdWlwbWVudFNsb3RzKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVBEQVRFX0lOVkVOVE9SWV9QQU5FTCwgZ2FtZUNoYXJhY3RlclByb3h5LmludmVudG9yeUl0ZW1zLCBnYW1lQ2hhcmFjdGVyUHJveHkuZXF1aXBtZW50U2xvdHMpO1xuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEl0ZW1zUHJveHkgfSBmcm9tICcuLi9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW0gfSBmcm9tICcuLi9tb2RlbC9pdGVtcy9JbnZlbnRvcnlJdGVtJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgaXRlbUlkID0gYXJnc1sxXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGl0ZW1zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJdGVtc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnNvbGUubG9nKGZhY2FkZSk7XG4gICAgY29uc29sZS5sb2coaXRlbXNQcm94eSk7XG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IG5ldyBJbnZlbnRvcnlJdGVtKGl0ZW1zUHJveHkuZ2V0SXRlbURhdGEoaXRlbUlkKSk7XG4gICAgZ2FtZUNoYXJhY3RlclByb3h5LmFkZEludmVudG9yeUl0ZW0oaW52ZW50b3J5SXRlbSk7XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRXF1aXBwZWRJdGVtQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZXF1aXBtZW50U2xvdEtleSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZXF1aXBwZWRJdGVtID0gZ2FtZUNoYXJhY3RlclByb3h5LmdldEVxdWlwcGVkSXRlbShlcXVpcG1lbnRTbG90S2V5KTtcblxuICAgIGlmIChlcXVpcHBlZEl0ZW0pIHtcbiAgICAgICAgaWYgKGVxdWlwcGVkSXRlbS50eXBlID09PSBcIndlYXBvblwiKSB7XG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiAhPT0gXCJhdHRhY2tcIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9XRUFQT04sIFwicGxheWVyXCIsIGVxdWlwcGVkSXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IFwiYXR0YWNrXCI7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hULCBlcXVpcG1lbnRTbG90S2V5LCB0cnVlKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gXCJpbnRlcmFjdFwiO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfVVNFX0lURU1fQlVUVE9OX0hJR0hMSUdIVCwgZXF1aXBtZW50U2xvdEtleSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmVteVR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWROb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kJztcbmltcG9ydCB7IGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kTW92ZW1lbnRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZUF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBlcXVpcFdlYXBvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCc7XG5pbXBvcnQgeyBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsayc7XG5pbXBvcnQgeyBzdGFydERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQnO1xuaW1wb3J0IHsgZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kRGlhbG9ndWVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCc7XG5pbXBvcnQgeyBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kJztcbmltcG9ydCB7IHJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBJdGVtVG9TbG90Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kJztcbmltcG9ydCB7IGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkSXRlbXRvSW52ZW50b3J5Q29tbWFuZCc7XG5pbXBvcnQgeyB1c2VFcXVpcHBlZEl0ZW1Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1VzZUVxdWlwcGVkSXRlbUNvbW1hbmQnO1xuXG5leHBvcnQgY2xhc3MgR2FtZUZhY2FkZSBleHRlbmRzIEZhY2FkZSB7XG4gICAgc3RhdGljIGdldEluc3RhbmNlKGtleSkge1xuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBHYW1lRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgS0VZKCkgeyByZXR1cm4gXCJDYWNvZ2VuXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkNhY29nZW5GYWNhZGVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRVUCgpIHsgcmV0dXJuIEdhbWVGYWNhZGUuTkFNRSArIFwiU3RhcnRVcFwiIH07XG5cbiAgICBzdGFydHVwKGdhbWUpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVGYWNhZGUuU1RBUlRVUCwgZ2FtZSk7XG4gICAgfVxuXG4gICAgc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVGYWNhZGUuU1RBUlRVUCwgc3RhcnR1cENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBjaGFuZ2VTY2VuZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUEFSU0VfR0FNRU1BUCwgcGFyc2VHYW1lTWFwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHN0YXJ0Q29tYmF0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBuZXh0Q29tYmF0VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQsIG5leHRDb21iYXRSb3VuZENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLCBlbmRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkVNWV9UVVJOLCBlbmVteVR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIHNlbGVjdGVkTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBLCBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCBlbmRNb3ZlbWVudENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNUX0dBTUVfQ0hBUkFDVEVSLCBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHJlc29sdmVBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLLCBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBlbmRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgZXF1aXBXZWFwb25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLCBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCwgYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSywgbmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kKVxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU1RBUlRfRElBTE9HVUUsIHN0YXJ0RGlhbG9ndWVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkNPTlRJTlVFX0RJQUxPR1VFX05PREUsIGNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfRElBTE9HVUVfQ0hPSUNFLCBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuR09fVE9fRElBTE9HVUVfTk9ERSwgZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRU5EX0RJQUxPR1VFLCBlbmREaWFsb2d1ZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIGNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1QsIHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQpO1xuXG4gICAgICAgIC8vIEludmVudG9yeSBjb21tYW5kc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ0xJQ0tfSU5WRU5UT1JZX0JVVFRPTiwgY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFT1JERVJfSU5WRVRPUllfSVRFTSwgcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgZXF1aXBJdGVtVG9TbG90Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuVVNFX0VRVUlQUEVEX0lURU0sIHVzZUVxdWlwcGVkSXRlbUNvbW1hbmQpO1xuICAgIH1cblxufSIsImV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJUeXBlcyB7XG4gICAgc3RhdGljIGdldCBOT05FKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfTUVMRUUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19SQU5HRUQoKSB7IHJldHVybiAyIH07XG5cbn1cblxuZXhwb3J0IGNvbnN0IGJvdEJlaGF2aW91ckVudW1zID0gW1xuICAgIHsgTk9ORTogQm90QmVoYXZpb3VyVHlwZXMuTk9ORSB9LFxuICAgIHsgQkFTSUNfTUVMRUU6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFIH0sXG4gICAgeyBCQVNJQ19SQU5HRUQ6IEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX1JBTkdFRCB9LFxuXSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBFbmRDb21iYXRUdXJuIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBTZXRQbGF5ZXJBc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgndGFyZ2V0JywgJ3BsYXllcicsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc0FjdGlvbnNSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzTW92ZW1lbnRSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNEZWFkIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc1RhcmdldERlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IGNyZWF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy9HVUlEJztcblxuZXhwb3J0IGNsYXNzIEJhc2VOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pZCA9IGNyZWF0ZVVVSUQoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuIHx8IFtdO1xuICAgIH1cblxuICAgIGV4ZWN1dGUodGljaykge1xuICAgICAgICAvKiBFTlRFUiAqL1xuICAgICAgICB0aGlzLl9lbnRlcih0aWNrKTtcblxuICAgICAgICAvKiBPUEVOICovXG4gICAgICAgIGlmICghdGljay5ibGFja2JvYXJkLmdldCgnaXNPcGVuJywgdGljay50cmVlLmlkLCB0aGlzLmlkKSkge1xuICAgICAgICAgICAgdGhpcy5fb3Blbih0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFRJQ0sgKi9cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5fdGljayh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSAqL1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBFWElUICovXG4gICAgICAgIHRoaXMuX2V4aXQodGljayk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG5cbiAgICBfZW50ZXIodGljaykge1xuICAgICAgICB0aWNrLmVudGVyTm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRlcih0aWNrKTtcbiAgICB9XG5cbiAgICBfb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2sub3Blbk5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIHRydWUsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMub3Blbih0aWNrKTtcbiAgICB9XG5cbiAgICBfdGljayh0aWNrKSB7XG4gICAgICAgIHRpY2sudGlja05vZGUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnRpY2sodGljayk7XG4gICAgfVxuXG4gICAgX2Nsb3NlKHRpY2spIHtcbiAgICAgICAgdGljay5jbG9zZU5vZGUodGhpcyk7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ2lzT3BlbicsIGZhbHNlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLmNsb3NlKHRpY2spO1xuICAgIH1cblxuICAgIF9leGl0KHRpY2spIHtcbiAgICAgICAgdGljay5leGl0Tm9kZSh0aGlzKTtcbiAgICAgICAgdGhpcy5leGl0KHRpY2spO1xuICAgIH1cblxuICAgIC8vIE92ZXJpZGUgdGhlc2VcbiAgICBlbnRlcih0aWNrKSB7IH1cbiAgICBvcGVuKHRpY2spIHsgfVxuICAgIHRpY2sodGljaykgeyByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkVSUk9SIH1cbiAgICBjbG9zZSh0aWNrKSB7IH1cbiAgICBleGl0KHRpY2spIHsgfVxufSIsImV4cG9ydCBjbGFzcyBCZWhhdmlvdXJTdGF0dXMge1xuICAgIHN0YXRpYyBnZXQgU1VDQ0VTUygpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEZBSUxVUkUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBSVU5OSU5HKCkgeyByZXR1cm4gMiB9O1xuICAgIHN0YXRpYyBnZXQgRVJST1IoKSB7IHJldHVybiAzIH07XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1hc3Rlck5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZS5leGVjdXRlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWVtU2VxdWVuY2UgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIDAsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGljay5ibGFja2JvYXJkLmdldCgncnVubmluZ0NoaWxkJywgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gY2hpbGQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5jaGlsZHJlbltpXS5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIGksIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFByaW9yaXR5IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGNoaWxkLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vQmVoYXZpb3VyU3RhdHVzJztcbmV4cG9ydCBjbGFzcyBJbnZlcnRlciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcblxuICAgICAgICAvLyBwcmVzdW1lIGludmVydGVyIGhhcyBvbmUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSlcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBNZWxlZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc05leHRUb1BsYXllciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllck5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIGlzIGFscmVhZHkgYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoY2hhcmFjdGVyQ3VycmVudE5vZGUpKTtcblxuICAgICAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldEN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hc3Rlck5vZGUgfSBmcm9tICcuLi9jb3JlL01hc3Rlck5vZGUnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ29tbWFuZFRyZWUgfSBmcm9tICcuL0NoYXJhY3RlckNvbW1hbmRUcmVlJztcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSAnLi4vY29yZS9Qcmlvcml0eSc7XG5pbXBvcnQgeyBTZXRQbGF5ZXJBc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldCc7XG5pbXBvcnQgeyBNZWxlZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBFbmRDb21iYXRUdXJuIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4nO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSXNOZXh0VG9QbGF5ZXIgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNOZXh0VG9QbGF5ZXInO1xuaW1wb3J0IHsgTWVtU2VxdWVuY2UgfSBmcm9tICcuLi9jb3JlL01lbVNlcXVlbmNlJztcbmltcG9ydCB7IEludmVydGVyIH0gZnJvbSAnLi4vY29yZS9kZWNvcmF0b3JzL0ludmVydGVyJztcbmltcG9ydCB7IElzVGFyZ2V0RGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQnO1xuaW1wb3J0IHsgSXNEZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZCc7XG5pbXBvcnQgeyBIYXNBY3Rpb25zUmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcnO1xuaW1wb3J0IHsgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JlbGlucXVpc2hNb3ZlbWVudFBvaW50cyc7XG5cbmV4cG9ydCBjbGFzcyBCYXNpY01lbGVlVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNNZWxlZVRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSXNOZXh0VG9QbGF5ZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc0FjdGlvbnNSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZWxlZUF0dGFja1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVRvd2FyZHNUYXJnZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgXSksXG5cbiAgICAgICAgICAgICAgICAgICAgbmV3IEVuZENvbWJhdFR1cm4oKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApXG4gICAgICAgIF0pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VBdHRhY2tUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGF0dGFja2VySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkZWZlbmRlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNsYXNzIE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKG1pbkRpc3RhbmNlLCBtYXhEaXN0YW5jZSkge1xuICAgICAgICBzdXBlcihbXSk7XG4gICAgICAgIHRoaXMubWluRGlzdGFuY2UgPSBtaW5EaXN0YW5jZTtcbiAgICAgICAgdGhpcy5tYXhEaXN0YW5jZSA9IG1heERpc3RhbmNlO1xuICAgIH1cblxuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3VycmVudE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBtaW5EaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1pbkRpc3RhbmNlLCAyKTtcbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2VTcXJ0ID0gTWF0aC5wb3codGhpcy5tYXhEaXN0YW5jZSwgMik7XG5cbiAgICAgICAgY29uc3QgbW92ZVBvaW50c0F2YWlsYWJsZSA9IGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50O1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0ID49IG1pbkRpc3RhbmNlU3FydCAmJiBkaXN0YW5jZVRvVGFyZ2V0IDw9IG1heERpc3RhbmNlU3FydCkge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSB3aXRoaW4gcmFuZ2UsIGdldCBvbiB3aXRoIGl0XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBtb3ZlUG9pbnRzQXZhaWxhYmxlKTtcbiAgICAgICAgICAgIGlmIChtb3ZlYWJsZU5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA8IG1pbkRpc3RhbmNlU3FydCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb28gY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBtb3ZlYWJsZU5vZGVzLnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBhKSA+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBmYXIgYXdheVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSArIE1hdGgucG93KHAyLnogLSBwMS56LCAyKTtcbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBQaWNrTmV4dEFjdGlvbiBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgY2hhcmFjdGVySWQpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgQ2FuU2VlVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICAvLyBMb29rIHRvIHRoZSBjZW50ZXIgb2YgZWFjaCBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZnJvbVBvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpO1xuICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgIGNvbnN0IGNhblNlZVRhcmdldCA9ICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoZnJvbVBvcywgdG9Qb3MpO1xuICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cblxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlcmUgaXMgYSBub2RlIHRvIG1vdmUgdG8gXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9sbG93IHBhdGggdG8gc2VlIGlmIHRhcmdldCBpcyB2aXNpYmxlIGZyb20gYW55IHBvaW50XG4gICAgICAgICAgICAgICAgbGV0IGRlbGV0ZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoTm9kZSA9IHBhdGhbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBvcyA9IG5ldyBwYy5WZWMzKHBhdGhOb2RlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5vZGUueik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVHJpbSB0byBwb2ludCBvZiB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgcGF0aC5zcGxpY2UoMCwgZGVsZXRlQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSYW5nZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCc7XG5pbXBvcnQgeyBQaWNrTmV4dEFjdGlvbiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbic7XG5pbXBvcnQgeyBDYW5TZWVUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvQ2FuU2VlVGFyZ2V0JztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljUmFuZ2VkVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNSYW5nZWRUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IENhblNlZVRhcmdldCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQoOSwgMTIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBpY2tOZXh0QWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FuU2VlVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZUF0dGFja1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBCbGFja2JvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy5iYXNlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgZ2xvYmFsIGluZm9ybWF0aW9uXG4gICAgICAgIHRoaXMudHJlZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIHRyZWUgYW5kIG5vZGUgaW5mb3JtYXRpb25cbiAgICB9XG5cbiAgICBnZXRUcmVlTWVtb3J5KHRyZWVTY29wZSkge1xuICAgICAgICBpZiAoIXRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSA9IHtcbiAgICAgICAgICAgICAgICBub2RlTWVtb3J5OiB7fSxcbiAgICAgICAgICAgICAgICBvcGVuTm9kZXM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXROb2RlTWVtb3J5KHRyZWVNZW1vcnksIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0cmVlTWVtb3J5Wydub2RlTWVtb3J5J107XG4gICAgICAgIGlmICghbWVtb3J5Lmhhc093blByb3BlcnR5KG5vZGVTY29wZSkpIHtcbiAgICAgICAgICAgIG1lbW9yeVtub2RlU2NvcGVdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5W25vZGVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIHZhciBtZW1vcnkgPSB0aGlzLmJhc2VNZW1vcnk7XG5cbiAgICAgICAgaWYgKHRyZWVTY29wZSkge1xuICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXRUcmVlTWVtb3J5KHRyZWVTY29wZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldE5vZGVNZW1vcnkobWVtb3J5LCBub2RlU2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeTtcbiAgICB9O1xuXG4gICAgc2V0KGtleSwgdmFsdWUsIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgbWVtb3J5W2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgZ2V0KGtleSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICByZXR1cm4gbWVtb3J5W2tleV07XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBUaWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wZW5Ob2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm5vZGVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZGVidWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZW50ZXJOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQrKztcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG5cbiAgICBvcGVuTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICB0aWNrTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICBjbG9zZU5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wb3AoKTtcbiAgICB9XG5cbiAgICBleGl0Tm9kZShub2RlKSB7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgVGljayB9IGZyb20gXCIuL1RpY2tcIjtcblxuZXhwb3J0IGNsYXNzIEJlaGF2aW91clRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZShpZCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZShpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aWNrKHRhcmdldCwgYmxhY2tib2FyZCkge1xuICAgICAgICAvKiBDUkVBVEUgQSBUSUNLIE9CSkVDVCAqL1xuICAgICAgICBjb25zdCB0aWNrID0gbmV3IFRpY2soKTtcbiAgICAgICAgdGljay50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZCA9IGJsYWNrYm9hcmQ7XG4gICAgICAgIHRpY2sudHJlZSA9IHRoaXM7XG5cbiAgICAgICAgLyogVElDSyBOT0RFICovXG4gICAgICAgIHRoaXMucm9vdC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFIE5PREVTIEZST00gTEFTVCBUSUNLLCBJRiBORUVERUQgKi9cbiAgICAgICAgY29uc3QgbGFzdE9wZW5Ob2RlcyA9IGJsYWNrYm9hcmQuZ2V0KCdvcGVuTm9kZXMnLCB0aGlzLmlkKSB8fCBbXTtcbiAgICAgICAgY29uc3QgY3Vyck9wZW5Ob2RlcyA9IHRpY2sub3Blbk5vZGVzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIGRvZXMgbm90IGNsb3NlIGlmIGl0IGlzIHN0aWxsIG9wZW4gaW4gdGhpcyB0aWNrXG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4obGFzdE9wZW5Ob2Rlcy5sZW5ndGgsIGN1cnJPcGVuTm9kZXMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKGxhc3RPcGVuTm9kZXNbaV0gIT09IGN1cnJPcGVuTm9kZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsb3NlIHRoZSBub2Rlc1xuICAgICAgICBmb3IgKGxldCBpID0gbGFzdE9wZW5Ob2Rlcy5sZW5ndGggLSAxOyBpID49IHN0YXJ0OyBpLS0pIHtcbiAgICAgICAgICAgIGxhc3RPcGVuTm9kZXNbaV0uY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBQT1BVTEFURSBCTEFDS0JPQVJEICovXG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdvcGVuTm9kZXMnLCBjdXJyT3Blbk5vZGVzLCB0aGlzLmlkKTtcbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ25vZGVDb3VudCcsIHRpY2subm9kZUNvdW50LCB0aGlzLmlkKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCbGFja2JvYXJkIH0gZnJvbSAnLi4vY29yZS9CbGFja2JvYXJkJztcbmltcG9ydCB7IEJlaGF2aW91clRyZWUgfSBmcm9tICcuLi9jb3JlL0JlaGF2aW91clRyZWUnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSAnYmFzaWNNZWxlZVRyZWUnO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSBuZXcgQmxhY2tib2FyZCgpO1xuICAgICAgICB0aGlzLnRyZWUgPSBuZXcgQmVoYXZpb3VyVHJlZShpZCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgLy8gT3ZlcnJpZGUgdG8gc2V0IHRyZWVcbiAgICB9XG5cbiAgICBydW5Db21tYW5kcyhmYWNhZGUsIGNoYXJhY3RlcklkKSB7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJmYWNhZGVcIiwgZmFjYWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiY2hhcmFjdGVySWRcIiwgY2hhcmFjdGVySWQsIHRoaXMudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMudHJlZS50aWNrKHRoaXMsIHRoaXMuYmxhY2tib2FyZCk7XG4gICAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIEdhbWVDb21tYW5kcyB7XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORVwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkVfQ09NUExFVEUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORV9DT01QTEVURVwiIH07XG4gICAgc3RhdGljIGdldCBBUFBfSU5JVElBTElTRUQoKSB7IHJldHVybiBcIkFQUF9JTklUSUFMSVNFRFwiIH07XG4gICAgc3RhdGljIGdldCBQQVJTRV9HQU1FTUFQKCkgeyByZXR1cm4gXCJQQVJTRV9HQU1FTUFQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BUF9HUklEX0NSRUFURUQoKSB7IHJldHVybiBcIk1BUF9HUklEX0NSRUFURURcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX1dBWVBPSU5UKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19XQVlQT0lOVFwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9USFJPVUdIX1BPUlRBTCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVEhST1VHSF9QT1JUQUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ09NQkFUX05BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIkNPTUJBVF9OQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DQU1FUkFfVEFSR0VUKCkgeyByZXR1cm4gXCJTRVRfQ0FNRVJBX1RBUkdFVFwiIH07XG4gICAgc3RhdGljIGdldCBJTlBVVF9EUkFHX01PVVNFKCkgeyByZXR1cm4gXCJJTlBVVF9EUkFHX01PVVNFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTU9WRURfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTU9WRURfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBGSU5JU0hFRF9NT1ZFKCkgeyByZXR1cm4gXCJGSU5JU0hFRF9NT1ZFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0NPTUJBVCgpIHsgcmV0dXJuIFwiU1RBUlRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfVE9BU1RfTUVTU0FHRSgpIHsgcmV0dXJuIFwiU0hPV19UT0FTVF9NRVNTQUdFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9ST1VORCgpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfUk9VTkRcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORU1ZX1RVUk4oKSB7IHJldHVybiBcIkVORU1ZX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VMRUNURURfTk9ERSgpIHsgcmV0dXJuIFwiU0VMRUNURURfTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04oKSB7IHJldHVybiBcIkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX0FMT05HX1BBVEgoKSB7IHJldHVybiBcIk5BVklHQVRFX0FMT05HX1BBVEhcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIlNIT1dfV0FMS0FCTEVfQVJFQVwiIH07XG4gICAgc3RhdGljIGdldCBISURFX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIkhJREVfV0FMS0FCTEVfQVJFQVwiIH07XG5cblxuICAgIHN0YXRpYyBnZXQgRU5EX01PVkVNRU5UKCkgeyByZXR1cm4gXCJFTkRfTU9WRU1FTlRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCgpIHsgcmV0dXJuIFwiQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVFwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0hBUkFDVEVSX1RPX05PREUoKSB7IHJldHVybiBcIlNFVF9DSEFSQUNURVJfVE9fTk9ERVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiU0VMRUNUX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVE9HR0xFX0JVVFRPTigpIHsgcmV0dXJuIFwiVE9HR0xFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX1JBTkdFRF9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfUkFOR0VEX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NUQU1JTkEoKSB7IHJldHVybiBcIkNIQU5HRV9TVEFNSU5BXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRVFVSVBfV0VBUE9OKCkgeyByZXR1cm4gXCJFUVVJUF9XRUFQT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRkxPQVRJTkdfU1RBVFVTKCkgeyByZXR1cm4gXCJESVNQTEFZX0ZMT0FUSU5HX1NUQVRVU1wiIH07XG4gICAgc3RhdGljIGdldCBBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAoKSB7IHJldHVybiBcIkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSygpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX1BBTkVMKCkgeyByZXR1cm4gXCJTSE9XX0RJQUxPR1VFX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfRElBTE9HVUVfUEFORUwoKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfUEFORUxcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTigpIHsgcmV0dXJuIFwiU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04oKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TVEVQKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NURVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1RcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDT05USU5VRV9ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJDT05USU5VRV9ESUFMT0dVRV9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UoKSB7IHJldHVybiBcIlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0VcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNUKCkgeyByZXR1cm4gXCJSRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1RcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUygpIHsgcmV0dXJuIFwiQ0xFQVJfRElBTE9HVUVfQ0hPSUNFU1wiIH07XG4gICAgc3RhdGljIGdldCBHT19UT19ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJHT19UT19ESUFMT0dVRV9OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU1RBUlRfRElBTE9HVUUoKSB7IHJldHVybiBcIlNUQVJUX0RJQUxPR1VFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9ESUFMT0dVRSgpIHsgcmV0dXJuIFwiRU5EX0RJQUxPR1VFXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBHQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCgpIHsgcmV0dXJuIFwiR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcIiB9O1xuXG4gICAgLy8gSW52ZW50b3J5IENvbW1hbmRzXG4gICAgc3RhdGljIGdldCBDTElDS19JTlZFTlRPUllfQlVUVE9OKCkgeyByZXR1cm4gXCJDTElDS19JTlZFTlRPUllfQlVUVE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfSU5WRU5UT1JZX1BBTkVMKCkgeyByZXR1cm4gXCJESVNQTEFZX0lOVkVOVE9SWV9QQU5FTFwiIH07XG4gICAgc3RhdGljIGdldCBVUERBVEVfSU5WRU5UT1JZX1BBTkVMKCkgeyByZXR1cm4gXCJVUERBVEVfSU5WRU5UT1JZX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFT1JERVJfSU5WRVRPUllfSVRFTSgpIHsgcmV0dXJuIFwiUkVPUkRFUl9JTlZFVE9SWV9JVEVNXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVRVUlQX0lURU1fVE9fU0xPVCgpIHsgcmV0dXJuIFwiRVFVSVBfSVRFTV9UT19TTE9UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFERF9JVEVNX1RPX0lOVkVOVE9SWSgpIHsgcmV0dXJuIFwiQUREX0lURU1fVE9fSU5WRU5UT1JZXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRVFVSVBQRURfU0xPVCgpIHsgcmV0dXJuIFwiRElTUExBWV9FUVVJUFBFRF9TTE9UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFVTRV9FUVVJUFBFRF9JVEVNKCkgeyByZXR1cm4gXCJVU0VfRVFVSVBQRURfSVRFTVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hUKCkgeyByZXR1cm4gXCJTRVRfVVNFX0lURU1fQlVUVE9OX0hJR0hMSUdIVFwiIH07XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBXZWFwb25UeXBlcyB7XG4gICAgLy8gTUVMRUVcbiAgICBzdGF0aWMgZ2V0IFNXT1JEKCkgeyByZXR1cm4gXCJzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBBWEUoKSB7IHJldHVybiBcImF4ZVwiIH07XG4gICAgc3RhdGljIGdldCBLTklGRSgpIHsgcmV0dXJuIFwia25pZmVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBRkYoKSB7IHJldHVybiBcInN0YWZmXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhBTU1FUigpIHsgcmV0dXJuIFwiaGFtbWVyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNQRUFSKCkgeyByZXR1cm4gXCJzcGVhclwiIH07XG4gICAgc3RhdGljIGdldCBNQUNFKCkgeyByZXR1cm4gXCJtYWNlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBPTEVBUk0oKSB7IHJldHVybiBcInBvbGVhcm1cIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFVTCgpIHsgcmV0dXJuIFwibWF1bFwiIH07XG4gICAgc3RhdGljIGdldCBHUkVBVFNXT1JEKCkgeyByZXR1cm4gXCJncmVhdHN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMVUIoKSB7IHJldHVybiBcImNsdWJcIiB9O1xuICAgIHN0YXRpYyBnZXQgVU5BUk1FRCgpIHsgcmV0dXJuIFwidW5hcm1lZFwiIH07XG4gICAgc3RhdGljIGdldCBTSElFTEQoKSB7IHJldHVybiBcInNoaWVsZFwiIH07XG5cbiAgICAvLyBSQU5HRURcbiAgICBzdGF0aWMgZ2V0IEZVU0lMKCkgeyByZXR1cm4gXCJmdXNpbFwiIH07XG4gICAgc3RhdGljIGdldCBCT1coKSB7IHJldHVybiBcImJvd1wiIH07XG4gICAgc3RhdGljIGdldCBDUk9TU0JPVygpIHsgcmV0dXJuIFwiY3Jvc3Nib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgUElTVE9MRVQoKSB7IHJldHVybiBcInBpc3RvbGV0XCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYXBvbkVudW1zID0gT2JqZWN0LmVudHJpZXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoV2VhcG9uVHlwZXMpKVxuICAgIC5maWx0ZXIoKFtrZXksIGRlc2NyaXB0b3JdKSA9PiB0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicpXG4gICAgLm1hcCgoW2tleV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHsgW2tleV06IFdlYXBvblR5cGVzW2tleV0gfTtcbiAgICB9KTsiLCJpbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gXCIuLi8uLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzXCI7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gXCIuLi8uLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlXCI7XG5pbXBvcnQgeyBCYXNpY1JhbmdlZFRyZWUgfSBmcm9tICcuLi8uLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBCb3RCZWhhdmlvdXJzVk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgdGhpcy5iZWhhdmlvdXJUcmVlcyA9IG5ldyBNYXAoKTtcblxuICAgICAgICB0aGlzLmJlaGF2aW91clRyZWVzLnNldChCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRSwgbmV3IEJhc2ljTWVsZWVUcmVlKCkpO1xuICAgICAgICB0aGlzLmJlaGF2aW91clRyZWVzLnNldChCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQsIG5ldyBCYXNpY1JhbmdlZFRyZWUoKSk7XG4gICAgfVxuXG4gICAgZ2V0VHJlZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlaGF2aW91clRyZWVzLmdldCh0eXBlKTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnJvdW5kSW5pdGlhdGl2ZSA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2lwYW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRlYW1zID0gdGVhbXM7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcmFtcy5pZCwgbmV3IEdhbWVDaGFyYWN0ZXJWTyhwYXJhbXMpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgdXNlTW92ZW1lbnQoY29zdCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50IC09IGNvc3Q7XG4gICAgfVxuXG4gICAgYXBwbHlEYW1hZ2UoZGFtYW5nZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIC09IGRhbWFuZ2U7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgPSBNYXRoLm1heCgwLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hKTtcblxuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50U3RhbWluYSA+IDApIHtcbiAgICAgICAgICAgIC8vIEFsaXZlXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VUERBVEVfU1RBTUlOQSArIHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhpbXVtU3RhbWluYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWFkXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSBkaWVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIHRoaXMuaWQsIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4U3RhbWluYSk7XG4gICAgfVxuXG4gICAgZ2V0U2tpbGxUb3RhbChza2lsbEtleSkge1xuICAgICAgICBpZiAodGhpcy52by5hZHZhbmNlZFNraWxscy5oYXMoc2tpbGxLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5za2lsbCArIHRoaXMudm8uYWR2YW5jZWRTa2lsbHMuZ2V0KHNraWxsS2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNraWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pZDtcbiAgICB9XG5cbiAgICBnZXQgZGlhbG9ndWVUcmVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5kaWFsb2d1ZVRyZWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50Tm9kZTtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGNvbWJhdEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBnZXQgaXNOUEMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlzTlBDO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVNb3ZlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZU1vdmVtZW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlQWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucztcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlQWN0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIHRoaXMuaWQsXG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMsIHRoaXMubWF4QWN0aW9uc1BlclR1cm4pO1xuICAgIH1cblxuICAgIGdldCBtYXhBY3Rpb25zUGVyVHVybigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubWF4QWN0aW9uc1BlclR1cm47XG4gICAgfVxuXG4gICAgZ2V0IHNraWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5za2lsbDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFN0YW1pbmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50U3RhbWluYSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxuICAgIC8vIEludmVudG9yeSBcbiAgICByZW9yZGVySW52ZW50b3J5SXRlbShpdGVtVVVJRCwgc2xvdEluZGV4KSB7XG4gICAgICAgIC8vIERlbGV0ZSB0aGUgaXRlbSBmcm9tIGl0J3MgY3VycmVudCBwb3NpdGlvblxuICAgICAgICBjb25zdCBvcmlnaW5hbEluZGV4ID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnV1aWQgPT09IGl0ZW1VVUlEKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJdGVtID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5zcGxpY2Uob3JpZ2luYWxJbmRleCwgMSk7XG4gICAgICAgIGxldCBydW5uaW5nSW5kZXhUb3RhbCA9IDA7XG4gICAgICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnZlbnRvcnlJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaW52ZW50b3J5SXRlbXNbaV07XG5cblxuICAgICAgICAgICAgaWYgKHNsb3RJbmRleCA+PSBydW5uaW5nSW5kZXhUb3RhbCAmJiBzbG90SW5kZXggPCBydW5uaW5nSW5kZXhUb3RhbCArIGl0ZW0uc2l6ZSkge1xuICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcnVubmluZ0luZGV4VG90YWwgKz0gaXRlbS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNsb3RJbmRleCA+PSBydW5uaW5nSW5kZXhUb3RhbCkge1xuICAgICAgICAgICAgbmV3SW5kZXggPSB0aGlzLmludmVudG9yeUl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhIHZhbGlkIGFycmF5IGlzIHByb3ZpZGVkXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcy5pbnZlbnRvcnlJdGVtcykgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBhcnJheScpO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGVyZSdzIGFuIGl0ZW0gdG8gbW92ZVxuICAgICAgICBpZiAoIW9yaWdpbmFsSXRlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gaXRlbSBpbiB0aGUgYXJyYXkgYXQgaW5kZXggJyArIG9yaWdpbmFsSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgaXRlbSB0byBpdHMgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMuc3BsaWNlKG5ld0luZGV4LCAwLCBvcmlnaW5hbEl0ZW1bMF0pO1xuICAgIH1cblxuICAgIGF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdChzbG90S2V5LCBpdGVtRGF0YSkge1xuICAgICAgICAvLyBjaGVjayBlcXVpcCB3ZWFwb25cbiAgICAgICAgaWYgKChzbG90S2V5ID09PSAnMWhhbmQnIHx8IHNsb3RLZXkgPT09ICcyaGFuZCcpICYmIGl0ZW1EYXRhLnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbSA9IHRoaXMuZXF1aXBtZW50U2xvdHMuZ2V0KHNsb3RLZXkpO1xuXG4gICAgICAgICAgICAvLyBDbGVhciBib3RoIHNsb3RzIGl0IGxhc3QgaXRlbSB3YXMgdHdvLWhhbmRlZFxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nSXRlbSAmJiBleGlzdGluZ0l0ZW0uZXF1aXBTbG90ID09PSAnMmhhbmQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzFoYW5kJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzJoYW5kJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtRGF0YS5lcXVpcFNsb3QgPT09ICcxaGFuZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLnNldChzbG90S2V5LCBpdGVtRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoaXMgaXNuJ3QgYWxyZWFkeSBlcXVpcHBlZCBpbiB0aGUgb3RoZXIgaGFuZFxuICAgICAgICAgICAgICAgIGlmIChzbG90S2V5ID09PSAnMWhhbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyU2xvdCA9IHRoaXMuZXF1aXBtZW50U2xvdHMuZ2V0KCcyaGFuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXJTbG90ICYmIG90aGVyU2xvdC51dWlkID09PSBpdGVtRGF0YS51dWlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLmRlbGV0ZSgnMmhhbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2xvdEtleSA9PT0gJzJoYW5kJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdGhlclNsb3QgPSB0aGlzLmVxdWlwbWVudFNsb3RzLmdldCgnMWhhbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyU2xvdCAmJiBvdGhlclNsb3QudXVpZCA9PT0gaXRlbURhdGEudXVpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5kZWxldGUoJzFoYW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzLnNldCgnMWhhbmQnLCBpdGVtRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5zZXQoJzJoYW5kJywgaXRlbURhdGEpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBlcXVpcCBhcm1vdXJcbiAgICAgICAgaWYgKHNsb3RLZXkgPT09ICdhcm1vdXInICYmIGl0ZW1EYXRhLnR5cGUgPT09IFwiYXJtb3VyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuc2V0KHNsb3RLZXksIGl0ZW1EYXRhKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkSW52ZW50b3J5SXRlbShpbnZlbnRvcnlJdGVtRGF0YSkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnB1c2goaW52ZW50b3J5SXRlbURhdGEpO1xuICAgIH1cblxuICAgIGdldEVxdWlwcGVkSXRlbShzbG90S2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVxdWlwbWVudFNsb3RzLmdldChzbG90S2V5KTtcbiAgICB9XG5cbiAgICBnZXQgaW52ZW50b3J5SXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmludmVudG9yeUl0ZW1zO1xuICAgIH1cblxuICAgIHNldCBpbnZlbnRvcnlJdGVtcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmludmVudG9yeUl0ZW1zID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGVxdWlwbWVudFNsb3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5lcXVpcG1lbnRTbG90cztcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEludmVudG9yeUl0ZW0gfSBmcm9tICcuLi9pdGVtcy9JbnZlbnRvcnlJdGVtJztcblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJWTyB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIHRoaXMuaXNOUEMgPSBwYXJhbXMuaXNOUEM7XG4gICAgICAgIHRoaXMuY29tYmF0R3JvdXAgPSBwYXJhbXMuY29tYmF0R3JvdXAgfHwgW107XG4gICAgICAgIHRoaXMuZGlhbG9ndWVUcmVlID0gcGFyYW1zLmRpYWxvZ3VlVHJlZSB8fCB0aGlzLmlkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRyb2lrYSBzdGF0c1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUgPSBwYXJhbXMuaW5pdGlhdGl2ZSB8fCAyO1xuICAgICAgICB0aGlzLm1heE1vdmVtZW50ID0gcGFyYW1zLm1heE1vdmVtZW50IHx8IDY7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcGFyYW1zLmhlaWdodCB8fCAxLjg7XG4gICAgICAgIHRoaXMubWF4QWN0aW9uc1BlclR1cm4gPSAxO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy5tYXhNb3ZlbWVudDtcblxuICAgICAgICB0aGlzLnNraWxsID0gcGFyYW1zLnNraWxsIHx8IDE7XG5cbiAgICAgICAgdGhpcy5tYXhTdGFtaW5hID0gcGFyYW1zLm1heFN0YW1pbmEgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhbWluYSA9IHRoaXMubWF4U3RhbWluYTtcblxuICAgICAgICB0aGlzLm1heEx1Y2sgPSBwYXJhbXMubWF4THVjayB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRMdWNrID0gdGhpcy5tYXhMdWNrO1xuXG4gICAgICAgIHRoaXMuYWR2YW5jZWRTa2lsbHMgPSBwYXJhbXMuYWR2YW5jZWRTa2lsbHMgfHwgbmV3IE1hcCgpO1xuXG4gICAgICAgIHRoaXMuYm90QmVoYXZpb3VyID0gcGFyYW1zLmJvdEJlaGF2aW91ciB8fCAwO1xuXG4gICAgICAgIHRoaXMuZXF1aXBwZWRXZWFwb24gPSBwYXJhbXMuZXF1aXBwZWRXZWFwb24gfHwgXCJ1bmFybWVkXCI7XG5cbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGFkZEl0ZW0oaXRlbURhdGEpIHtcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtcy5wdXNoKFxuICAgICAgICAgICAgbmV3IEludmVudG9yeUl0ZW0oaXRlbURhdGEpXG4gICAgICAgICk7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IGdldEFkamFjZW50UG9pbnRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvQWRqYWNlbnRQb2ludHMnO1xuY29uc3QgeyBHYW1lTWFwVk8gfSA9IHJlcXVpcmUoJy4vR2FtZU1hcFZPJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1hcFByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKG1hcEdyaWQsIHdhbGxCb3VuZGluZ0JveGVzLCBjb3ZlciwgcG9ydGFscywgbmF2R3JpZCkge1xuICAgICAgICBzdXBlcihHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgdGhpcy5zZXREYXRhKHtcbiAgICAgICAgICAgIG1hcEdyaWQ6IG1hcEdyaWQsXG4gICAgICAgICAgICB3YWxsQm91bmRpbmdCb3hlczogd2FsbEJvdW5kaW5nQm94ZXMsXG4gICAgICAgICAgICBjb3ZlcjogY292ZXIsXG4gICAgICAgICAgICBwb3J0YWxzOiBwb3J0YWxzLFxuICAgICAgICAgICAgbmF2aWdhdGlvbkdyaWQ6IG5hdkdyaWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcblxuICAgIH1cblxuICAgIGZpbmROZWFyZXN0Tm9kZSh0YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBtYXBHcmlkID0gdGhpcy52by5tYXBHcmlkO1xuXG4gICAgICAgIGxldCBuZWFyZXN0Tm9kZSA9IG1hcEdyaWRbMF07XG4gICAgICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbWFwR3JpZCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdFdheXBvaW50KHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG5hdkdyaWQgPSB0aGlzLnZvLm5hdmlnYXRpb25HcmlkO1xuXG4gICAgICAgIGxldCBuZWFyZXN0Tm9kZSA9IG5hdkdyaWRbMF07XG4gICAgICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbmF2R3JpZCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBkaXN0VG9Ob2RlO1xuICAgICAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZWFyZXN0Tm9kZTtcbiAgICB9XG5cbiAgICByYXlJbnRlcnNlY3RzV2FsbChmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2UodG8pO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0by5jbG9uZSgpLnN1Yihmcm9tLmNsb25lKCkpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBjb25zdCByYXkgPSBuZXcgcGMuUmF5KGZyb20sIGRpcmVjdGlvbik7XG5cbiAgICAgICAgY29uc3QgbWFwV2FsbHMgPSB0aGlzLnZvLndhbGxCb3VuZGluZ0JveGVzO1xuICAgICAgICBmb3IgKGNvbnN0IHdhbGwgb2YgbWFwV2FsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHdhbGwuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvSGl0ID0gaGl0UG9zaXRpb24uZGlzdGFuY2UoZnJvbSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0hpdCA8IGRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgY292ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvdmVyO1xuICAgIH1cblxuXG4gICAgaXNJbkNvdmVyKHRhcmdldFBvaW50LCBhdHRhY2tpbmdGcm9tKSB7XG4gICAgICAgIGNvbnN0IGFkamFjZW50Q292ZXJQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRQb2ludHMgPSBnZXRBZGphY2VudFBvaW50cyh0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBhZGphY2VudFBvaW50IG9mIGFkamFjZW50UG9pbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ05vZGUgPSB0aGlzLmNvdmVyLmZpbmQoKGNvdmVyUG9pbnQpID0+IGFkamFjZW50UG9pbnQuZXF1YWxzKGNvdmVyUG9pbnQpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGUpIHtcbiAgICAgICAgICAgICAgICBhZGphY2VudENvdmVyUG9pbnRzLnB1c2goYWRqYWNlbnRQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWRqYWNlbnRDb3ZlclBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gdGFyZ2V0UG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50Q292ZXJQb2ludCBvZiBhZGphY2VudENvdmVyUG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0NvdmVyID0gYWRqYWNlbnRDb3ZlclBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvQ292ZXIgPCBkaXN0YW5jZVRvVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHJpZXZlUG9ydGFsKHBvcnRhbElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnBvcnRhbHMuZ2V0KHBvcnRhbElkKTtcbiAgICB9XG5cbiAgICBoYXNWYWxpZExpbmUobm9kZUEsIG5vZGVCKSB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBBc3Rhci5jYWxjdWxhdGVCcmVzZW5oYW1MaW5lKG5vZGVBLngsIG5vZGVBLnosIG5vZGVCLngsIG5vZGVCLnopO1xuICAgICAgICByZXR1cm4gQXN0YXIuY2hlY2tWYWxpZExpbmUobGluZSwgdGhpcy52by5tYXBHcmlkKTtcbiAgICB9XG5cbiAgICBoYXNWYWxpZE5vZGUobm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXBHcmlkLnNvbWUobiA9PiBuLmVxdWFscyhub2RlKSk7XG5cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0QWRqYWNlbnRQb2ludHMocG9pbnQpIHtcbiAgICBjb25zdCBwb2ludHMgPSBbXVxuICAgIC8vTm9ydGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56IC0gMSkpO1xuICAgIC8vRWFzdFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LnggKyAxLCBwb2ludC55LCBwb2ludC56KSk7XG4gICAgLy9XZXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCAtIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1NvdXRoXG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiArIDEpKTtcblxuICAgIHJldHVybiBwb2ludHM7XG59IiwiZXhwb3J0IGNsYXNzIEdhbWVNYXBWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwR3JpZCA9IFtdO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIH1cblxuICAgIHB1c2godmFsdWUsIHByaW9yaXR5ID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvcCgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gdGhpcy5kYXRhW2ldLnByaW9yaXR5O1xuICAgICAgICAgICAgaWYgKE1hdGgubWluKG1pbiwgcHJpb3JpdHkpID09PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IHByaW9yaXR5O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNwbGljZShpbmRleCwgMSlbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGhcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxufSIsImltcG9ydCB7IFByaW9yaXR5UXVldWUgfSBmcm9tICcuL1ByaW9yaXR5UXVldWUnO1xuXG5leHBvcnQgY2xhc3MgQXN0YXIge1xuICAgIHN0YXRpYyBicmVhZHRoRmlyc3RTZWFyY2goc3RhcnQsIHJhbmdlTGltaXQpIHtcbiAgICAgICAgbGV0IGZyb250aWVyID0gW107XG4gICAgICAgIGNvbnN0IHNlYXJjaGVkQXJlYSA9IFtdO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0KTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG5cbiAgICAgICAgbGV0IHJhbmdlID0gMDtcblxuICAgICAgICB3aGlsZSAoZnJvbnRpZXIubGVuZ3RoID4gMCAmJiByYW5nZSA8IHJhbmdlTGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Zyb250aWVyID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1cnJlbnQgb2YgZnJvbnRpZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY2FtZUZyb20uaGFzKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RnJvbnRpZXIucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkQXJlYS5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udGllciA9IG5ld0Zyb250aWVyO1xuXG4gICAgICAgICAgICByYW5nZSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlYXJjaGVkQXJlYTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgMTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuICAgICAgICB3aGlsZSAoIWN1cnJlbnQuZXF1YWxzKHN0YXJ0KSAmJiAhcGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICBpZiAoY2FtZUZyb20uaGFzKGN1cnJlbnQpIHx8ICFjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjYW1lRnJvbS5nZXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoSXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcGF0aC5wdXNoKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIHBhdGgucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlV2F5cG9pbnRzUGF0aChzdGFydCwgZ29hbCkge1xuICAgICAgICBjb25zdCBmcm9udGllciA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQsIDApO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjb3N0U29GYXIgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIGNvc3RTb0Zhci5zZXQoc3RhcnQsIDApO1xuXG4gICAgICAgIHdoaWxlICghZnJvbnRpZXIuZW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGZyb250aWVyLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3N0ID0gY29zdFNvRmFyLmdldChjdXJyZW50KSArIGRpc3RWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNvc3RTb0Zhci5oYXMobmV4dCkgfHwgbmV3Q29zdCA8IGNvc3RTb0Zhci5nZXQobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvc3RTb0Zhci5zZXQobmV4dCwgbmV3Q29zdCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IG5ld0Nvc3QgKyB0aGlzLmhldXJpc3RpYyhuZXh0LCBnb2FsKTtcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRpZXIucHVzaChuZXh0LCBwcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdXJyZW50ID0gZ29hbDtcbiAgICAgICAgbGV0IHBhdGhJc0Jyb2tlbiA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcblxuICAgICAgICB3aGlsZSAoIWN1cnJlbnQuZXF1YWxzKHN0YXJ0KSAmJiAhcGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICBpZiAoY2FtZUZyb20uaGFzKGN1cnJlbnQpIHx8ICFjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjYW1lRnJvbS5nZXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoSXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcGF0aC5wdXNoKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIHBhdGgucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlzdFNxdWFyZWQocHQxLCBwdDIpIHtcbiAgICAgICAgcmV0dXJuICgocHQxLnggLSBwdDIueCkgKiAocHQxLnggLSBwdDIueClcbiAgICAgICAgICAgICsgKHB0MS55IC0gcHQyLnkpICogKHB0MS55IC0gcHQyLnkpXG4gICAgICAgICAgICArIChwdDEueiAtIHB0Mi56KSAqIChwdDEueiAtIHB0Mi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGhldXJpc3RpYyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhLnggLSBiLngpICsgTWF0aC5hYnMoYS55IC0gYi55KSArIE1hdGguYWJzKGEueiAtIGIueik7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZUJyZXNlbmhhbUxpbmUoeDAsIHowLCB4MSwgejEpIHtcbiAgICAgICAgbGV0IGR4ID0geDEgLSB4MDtcbiAgICAgICAgbGV0IGR5ID0gejEgLSB6MDtcbiAgICAgICAgbGV0IG54ID0gTWF0aC5hYnMoZHgpO1xuICAgICAgICBsZXQgbnkgPSBNYXRoLmFicyhkeSk7XG5cbiAgICAgICAgY29uc3Qgc2lnbl94ID0gZHggPiAwID8gMSA6IC0xO1xuICAgICAgICBjb25zdCBzaWduX3kgPSBkeSA+IDAgPyAxIDogLTE7XG5cblxuICAgICAgICBjb25zdCBwID0geyB4OiB4MCwgeTogMCwgejogejAgfTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaXggPSAwLCBpeSA9IDA7IGl4IDwgbnggfHwgaXkgPCBueTspIHtcbiAgICAgICAgICAgIGlmICgoMC41ICsgaXgpIC8gbnggPCAoMC41ICsgaXkpIC8gbnkpIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IHN0ZXAgaXMgaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgIHAueCArPSBzaWduX3g7XG4gICAgICAgICAgICAgICAgaXgrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbmV4dCBzdGVwIGlzIHZlcnRpY2FsXG4gICAgICAgICAgICAgICAgcC56ICs9IHNpZ25feTtcbiAgICAgICAgICAgICAgICBpeSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9pbnRzLnB1c2goeyB4OiBwLngsIHk6IDAsIHo6IHAueiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgY2hlY2tWYWxpZExpbmUobGluZSwgbWFwKSB7XG4gICAgICAgIGxldCBpc1ZhbGlkTGluZSA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgbGluZSkge1xuICAgICAgICAgICAgaWYgKCFtYXAuc29tZShuID0+IG4uZXF1YWxzKHBvaW50KSkpIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkTGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlzVmFsaWRMaW5lO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVTdGF0ZVZPIH0gPSByZXF1aXJlKCcuL0dhbWVTdGF0ZVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVTdGF0ZVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihHYW1lU3RhdGVQcm94eS5OQU1FLCBuZXcgR2FtZVN0YXRlVk8oKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlR2FtZVN0YXRlVHlwZShuZXdTdGF0ZVR5cGUpIHtcbiAgICAgICAgdGhpcy52by5nYW1lcGxheU1vZGUgPSBuZXdTdGF0ZVR5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRNb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5nYW1lcGxheU1vZGU7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRBY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50QWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb24gPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgZ2FtZXBsYXlNb2RlVHlwZXMgPSB7XG4gICAgRVhQTE9SQVRJT046ICdFWFBMT1JBVElPTicsXG4gICAgQ09NQkFUOiAnQ09NQkFUJyxcbiAgICBESUFMT0dVRTogJ0RJQUxPR1VFJyxcbiAgICBHQU1FX09WRVI6ICdHQU1FX09WRVInLFxuXG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNb2RlID0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT047XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBY3Rpb24gPSBcIm5vbmVcIjtcbiAgICB9XG59IiwiaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5SXRlbSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICB0aGlzLnV1aWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgICB0aGlzLmljb24gPSBkYXRhLmljb247XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplID8/IDE7XG4gICAgICAgIHRoaXMuZXF1aXBTbG90ID0gZGF0YS5lcXVpcFNsb3QgPz8gXCJub25lXCI7XG4gICAgfVxufSIsIlxuZXhwb3J0IGNsYXNzIFN0b3J5Vk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KGNoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoY3VycmVudE5vZGUueCxcbiAgICAgICAgY3VycmVudE5vZGUueSArIGNoYXJhY3RlclByb3h5LmhlaWdodCAqIDAuNSxcbiAgICAgICAgY3VycmVudE5vZGUueik7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgdmFyIHMgPSBbXTtcbiAgICB2YXIgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxNF0gPSBcIjRcIjtcblxuICAgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpO1xuXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgdmFyIHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yX1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdmlld0NvbXBvbmVudCwgcHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURURcblxuICAgICAgICBdO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmNvbmNhdChwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9mZignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmZpcmUobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNjcmlwdEtleSBpbiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCwgc2NyaXB0S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbc2NyaXB0S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdGFydENvbWJhdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX1dBWVBPSU5UICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tQb2ludCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KGxvb2tQb2ludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBoaXRib3ggPSB0aGlzLnZpZXdDb21wb25lbnQuZmluZEJ5TmFtZShcIkhpdGJveFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaGl0Ym94KSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdGJveC5maXJlKCdzdG9wTGlzdGVuaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlRGVhdGgoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUF0dGFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlSGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZVRvTm9kZSh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb1dheXBvaW50KHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBuZWFyZXN0V2F5cG9pbnQgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3RXYXlwb2ludCh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgY29uc3QgbmVhcmVzdFRhcmdldFdheXBvaW50ID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0V2F5cG9pbnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgLypjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlV2F5cG9pbnRzUGF0aChuZWFyZXN0V2F5cG9pbnQsIG5lYXJlc3RUYXJnZXRXYXlwb2ludCk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGhhc0xpbmVUb1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDAgJiYgaGFzTGluZVRvUG9pbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIGN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0xpbmVUb1BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VlIGlmIGVuZCBvZiBwYXRoIGNhbiBiZSB0cmltbWVkXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFsxXSwgdGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH0qL1xuXG4gICAgICAgIC8vIElzIHN0cmFpZ2h0IGxpbmU/XG4gICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKGN1cnJlbnROb2RlLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IFt0YXJnZXROb2RlLCBjdXJyZW50Tm9kZV07XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlV2F5cG9pbnRzUGF0aChuZWFyZXN0V2F5cG9pbnQsIG5lYXJlc3RUYXJnZXRXYXlwb2ludCk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBpZiBlbmQgb2YgcGF0aCBjYW4gYmUgdHJpbW1lZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoWzFdLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGhhc0xpbmVUb1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAxICYmIGhhc0xpbmVUb1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbcGF0aC5sZW5ndGggLSAyXSwgY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTGluZVRvUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgfVxuXG4gICAgbW92ZVRvTm9kZVdpdGhQcm9taXNlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjYW5jZWxNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUN1cnJlbnROb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIHRoaXMuaWQsIG5ld05vZGUpO1xuXG4gICAgfVxuXG4gICAgaGFuZGxlRmluaXNoZWRNb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgdGhpcy5pZCwgbmV3Tm9kZSk7XG4gICAgfVxuXG4gICAgbG9va0ZvckNoYXJhY3RlcihpZCwgbm9kZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaE5vZGUgb2YgdGhpcy5zZWFyY2hBcmVhKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoTm9kZS5lcXVhbHMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0aGlzLnZpZXdDb21wb25lbnQsIFtpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlU3RhcnRDb21iYXQoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJWTyA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKS52bztcblxuICAgICAgICAvLyB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KG5vZGUpO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG5cbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVByb2plY3RpbGUodHlwZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCddLmNyZWF0ZVByb2plY3RpbGUodHlwZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUZhY2FkZSB9ID0gcmVxdWlyZSgnLi4vR2FtZUZhY2FkZScpO1xuXG5leHBvcnQgY29uc3QgQ2Fjb2dlbkdhbWUgPSBwYy5jcmVhdGVTY3JpcHQoJ0NhY29nZW5HYW1lJyk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIFwiUG9ydCBUYXJpbmdvXCIsIFwiZW50cmFuY2VcIik7XG59O1xuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkNhY29nZW5HYW1lLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcblxufTsiLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGVcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ05hdmlnYXRpb25Db21wb25lbnQnKTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbm5lY3RlZENvbXBvbmVudHNcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgYXJyYXk6IHRydWUsXG4gICAgdGl0bGU6IFwiQ29ubmVjdGVkIENvbXBvbmVudHNcIlxufSk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgMC4wNSwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5LmZpbmRCeU5hbWUoJ1BsYW5lJykuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLm9mZigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuICAgIH0pO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxOYXZpZ2F0aW9uTm9kZT59IG5vZGVHcmlkIC0gQXJyYXkgb2Ygbm9kZXMgcmVwcmVzZW50aW5nIHBvaW50cyBvbiB0aGUgZ3JpZC5cbiAqL1xuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0R3JpZCA9IGZ1bmN0aW9uIChub2RlR3JpZCkge1xuICAgIHRoaXMubm9kZUdyaWQgPSBub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0TmVhcmVzdE5vZGUgPSBmdW5jdGlvbiAodGFyZ2V0UG9pbnQpIHtcbiAgICBsZXQgbmVhcmVzdE5vZGUgPSB0aGlzLm5vZGVHcmlkWzBdO1xuICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm5vZGVHcmlkKSB7XG4gICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eVwiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgYm90QmVoYXZpb3VyRW51bXMgfSBmcm9tICcuLi8uLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IHdlYXBvbkVudW1zIH0gZnJvbSBcIi4uLy4uL2RhdGEvV2VhcG9uVHlwZXNcIjtcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuY29uc3Qgc3RhdHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGwnLFxuICAgICAgICB0aXRsZTogJ1NraWxsJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ21heFN0YW1pbmEnLFxuICAgICAgICB0aXRsZTogJ1N0YW1pbmEnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heEx1Y2snLFxuICAgICAgICB0aXRsZTogJ0x1Y2snLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2luaXRpYXRpdmUnLFxuICAgICAgICB0aXRsZTogJ0luaXRpYXRpdmUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMlxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heE1vdmVtZW50JyxcbiAgICAgICAgdGl0bGU6ICdNb3ZlbWVudCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiA2XG4gICAgfVxuXTtcblxuY29uc3QgYWR2YW5jZWRTa2lsbHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsVmFsdWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIFZhbHVlJyxcbiAgICAgICAgdHlwZTogJ251bWJlcidcbiAgICB9XG5dO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlckhlaWdodFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSGVpZ2h0XCIsXG4gICAgZGVmYXVsdDogMS44XG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImlzTlBDXCIsIHtcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICB0aXRsZTogXCJpcyBOUENcIixcbiAgICBkZWZhdWx0OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YXRzT3ZlcnJpZGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJTdGF0cyBPdmVycmlkZXNcIixcbiAgICBzY2hlbWE6IHN0YXRzU2NoZW1hXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFkdmFuY2VkU2tpbGxzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJBZHZhbmNlZCBTa2lsbHNcIixcbiAgICBzY2hlbWE6IGFkdmFuY2VkU2tpbGxzU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbWJhdEdyb3VwTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDb21iYXQgR3JvdXAgTmFtZVwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRpYWxvZ3VlVHJlZU5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRGlhbG9ndWUgVHJlZSBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYm90QmVoYXZpb3VyXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkJvdCBCZWhhdmlvdXJcIixcbiAgICBlbnVtOiBib3RCZWhhdmlvdXJFbnVtcyxcbiAgICBkZWZhdWx0OiAwXG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZXF1aXBwZWRXZWFwb25cIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRXF1aXBwZWQgV2VhcG9uXCIsXG4gICAgZW51bTogd2VhcG9uRW51bXMsXG4gICAgZGVmYXVsdDogXCJ1bmFybWVkXCJcbn0pO1xuXG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuXG5cbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRzT3ZlcnJpZGVzID0gdGhpcy5zdGF0c092ZXJyaWRlcztcbiAgICBjb25zdCBwcm94eVBhcmFtcyA9IHtcbiAgICAgICAgaWQ6IHRoaXMuY2hhcmFjdGVySWQsXG4gICAgICAgIGlzTlBDOiB0aGlzLmlzTlBDLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuY2hhcmFjdGVySGVpZ2h0LFxuICAgICAgICBhZHZhbmNlZFNraWxsczogYWR2YW5jZWRTa2lsbHNTY2hlbWFUb01hcCh0aGlzLmFkdmFuY2VkU2tpbGxzKSxcbiAgICAgICAgZXF1aXBwZWRXZWFwb246IHRoaXMuZXF1aXBwZWRXZWFwb24sXG4gICAgICAgIC4uLnN0YXRzT3ZlcnJpZGVzLFxuICAgICAgICBib3RCZWhhdmlvdXI6IHRoaXMuYm90QmVoYXZpb3VyLFxuICAgICAgICBkaWFsb2d1ZVRyZWU6IHRoaXMuZGlhbG9ndWVUcmVlTmFtZVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jb21iYXRHcm91cE5hbWUgJiYgdGhpcy5jb21iYXRHcm91cE5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgY29tcmFkZUVudGl0aWVzID0gdGhpcy5hcHAucm9vdC5maW5kQnlUYWcoYGNvbWJhdEdyb3VwOiR7dGhpcy5jb21iYXRHcm91cE5hbWV9YCk7XG5cbiAgICAgICAgY29uc3QgY29tYmF0R3JvdXAgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjb21yYWRlRW50aXR5IG9mIGNvbXJhZGVFbnRpdGllcykge1xuICAgICAgICAgICAgLy8gSWdub3JlIGRpc2FibGVkIGVudGl0aWVzXG4gICAgICAgICAgICBpZiAoY29tcmFkZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcmFkZUlkID0gY29tcmFkZUVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5jaGFyYWN0ZXJJZDtcbiAgICAgICAgICAgICAgICBjb21iYXRHcm91cC5wdXNoKGNvbXJhZGVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJveHlQYXJhbXMuY29tYmF0R3JvdXAgPSBjb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIC8vIHRoaXMuZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBuZXcgR2FtZUNoYXJhY3RlclByb3h5KHByb3h5UGFyYW1zKTtcbiAgICAgICAgLy8gU2V0IGN1cnJlbnQgbm9kZSBpZiBnYW1lIGNoYXJhY3RlciB3YXMgY3JlYXRlZCBhZnRlciB0aGUgbWFwXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoZ2FtZU1hcFByb3h5KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgfVxuXG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcblxuICAgIHRoaXMudmVoaWNsZSA9IHRoaXMuZW50aXR5LnNjcmlwdFsnVmVoaWNsZUNvbXBvbmVudCddO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY3JlYXRlZDpnYW1lQ2hhcmFjdGVyJyk7XG5cbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoICYmIHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2FuY2VsTW92ZScpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IHBhdGg7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ3dhbGsuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubW92ZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChkdCkge1xuXG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dFBhdGhQb2ludCA9IHRoaXMubW92ZW1lbnRQYXRoW3RoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3Qgbm9kZVBvaW50ID0gbmV3IHBjLlZlYzMobmV4dFBhdGhQb2ludC54LCBuZXh0UGF0aFBvaW50LnksIG5leHRQYXRoUG9pbnQueik7XG5cblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBsb2NhbFBvcy5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMubW92ZW1lbnRQYXRoLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnZmluaXNoZWRNb3ZlJywgY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgndXBkYXRlQ3VycmVudE5vZGUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5zZWVrKG5vZGVQb2ludCwgZHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGUuYXJyaXZlKG5vZGVQb2ludCwgZHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnByb2Nlc3NWZWxvY2l0eShkdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmxvb2tBdFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCBkeCA9IHBvaW50LnggLSBsb2NhbFBvcy54O1xuICAgIGNvbnN0IGR6ID0gcG9pbnQueiAtIGxvY2FsUG9zLno7XG4gICAgY29uc3QgYW5nbGVUb0Rlc3QgPSBNYXRoLmF0YW4yKGR4LCBkeikgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIGFuZ2xlVG9EZXN0LCAwKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZURlYXRoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2RpZS5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlSGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2hpdC5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlQXR0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2F0dGFjay5nbGInLCAwLjEpO1xufVxuXG5mdW5jdGlvbiBhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwKGFkdmFuY2VkU2tpbGxzU2NoZW1hKSB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuXG4gICAgZm9yIChjb25zdCBza2lsbE9iamVjdCBvZiBhZHZhbmNlZFNraWxsc1NjaGVtYSkge1xuICAgICAgICBtYXAuc2V0KHNraWxsT2JqZWN0LnNraWxsTmFtZSwgc2tpbGxPYmplY3Quc2tpbGxWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbn0iLCJleHBvcnQgY29uc3QgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzaWdodFJhbmdlXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlNpZ2h0IFJhbmdlXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVELCB0aGlzLmhhbmRsZU1hcEdyaWRDcmVhdGVkLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIsIHRoaXMuaGFuZGxlTW92ZWRUb05vZGUsIHRoaXMpO1xuICAgIGNvbnNvbGUubG9nKCdXYWl0IGZvciBpbml0aWFsJyk7XG59O1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTWFwR3JpZENyZWF0ZWQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbn1cblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdmVkVG9Ob2RlID0gZnVuY3Rpb24gKGlkLCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcblxuICAgIC8vIElnbm9yZSBpZiB0aGUgcGxheWVyIGlzbid0IGV4cGxvcmluZ1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZXBsYXlNb2RlICE9PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTiB8fCB0aGlzLmNoYXJhY3RlclByb3h5LmlzRGVhZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNoYXJhY3RlclBvaW50ID0gbmV3IHBjLlZlYzMoY3VycmVudE5vZGUueCwgY3VycmVudE5vZGUueSwgY3VycmVudE5vZGUueik7XG4gICAgY29uc3QgdGFyZ2V0UG9pbnQgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSwgdGFyZ2V0Tm9kZS56KTtcblxuICAgIGlmIChjaGFyYWN0ZXJQb2ludC5kaXN0YW5jZSh0YXJnZXRQb2ludCkgPD0gdGhpcy5zaWdodFJhbmdlKSB7XG4gICAgICAgIC8vIE1pZ2h0IGJlIHNlZW4gLSBjaGVjayBmb3Igd2FsbHNcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjaGFyYWN0ZXJQb2ludC55ICs9IHRoaXMuY2hhcmFjdGVyUHJveHkuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGNoYXJhY3RlclBvaW50LCB0YXJnZXRQb2ludCkpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyBcInBsYXllclwiLCB0YXJnZXROb2RlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgVG9hc3RNZXNzYWdlTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJUb2FzdE1lc3NhZ2VNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCddLmFkZE1lc3NhZ2UoYXJnc1swXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFRvYXN0TWVzc2FnZU1lZGlhdG9yIH0gZnJvbSBcIi4vVG9hc3RNZXNzYWdlTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFRvYXN0TWVzc2FnZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVG9hc3RNZXNzYWdlQ29tcG9uZW50Jyk7XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21lc3NhZ2VUaW1lJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNZXNzYWdlIFRpbWUnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgVG9hc3RNZXNzYWdlTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn07XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgfVxufVxuXG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvd05leHRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWVbMF07XG5cbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBuZXh0TWVzc2FnZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9LCB0aGlzLm1lc3NhZ2VUaW1lICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBcIlwiO1xuXG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NldENhbWVyYVRhcmdldENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cbi8vIHBvc3RJbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVCwgdGhpcy5lbnRpdHkpO1xufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRMYXllck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW5wdXRMYXllck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgdGhpcy5oYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6bmF2aWdhdGlvbicsIHRoaXMuaGFuZGxlUGlja2VyTmF2aWdhdGlvbiwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignc2Nyb2xsaW5nJywgdGhpcy5oYW5kbGVTY3JvbGxpbmcsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyKGNoYXJhY3RlckVudGl0eSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIGNoYXJhY3RlckVudGl0eSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgndmVydGljYWxTY3JvbGwnLCB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UsIHRpdGxlOiAnVmVydGljYWwgU2Nyb2xsJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21pbkNhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWluIENhbWVyYSBIZWlnaHQnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDYW1lcmEucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDYW1lcmFNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5zZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuZW50aXR5LmdldEV1bGVyQW5nbGVzKCkueTtcbiAgICB0aGlzLmNhbWVyYUhlaWdodCA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKS55O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgIHRoaXMucm90YXRpb24gKz0gZGlyZWN0aW9uLnggKiB0aGlzLmRyYWdNdWx0aXBsaWVyWDtcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIGxldCBuZXdDYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYUhlaWdodCAtIChkaXJlY3Rpb24ueSAqIHRoaXMuZHJhZ011bHRpcGxpZXJZKTtcbiAgICAgICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xuICAgIH1cbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24gPSBmdW5jdGlvbiAoZm9jdXNQb2ludCkge1xuICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpXG5cbiAgICBjb25zdCB0YXJnZXRYID0gTWF0aC5zaW4oKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuICAgIGNvbnN0IHRhcmdldFogPSBNYXRoLmNvcygodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoZm9jdXNQb2ludC54ICsgdGFyZ2V0WCwgY2FtZXJhUG9zaXRpb24ueSwgZm9jdXNQb2ludC56ICsgdGFyZ2V0Wik7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuR2FtZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0gdGhpcy5jYW1lcmFUYXJnZXQuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR3ZWVuWCA9ICh0YXJnZXRQb3NpdGlvbi54ICsgY3VycmVudFBvcy54ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5ZID0gKHRoaXMuY2FtZXJhSGVpZ2h0ICsgY3VycmVudFBvcy55ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5aID0gKHRhcmdldFBvc2l0aW9uLnogKyBjdXJyZW50UG9zLnogKiA5KSAvIDEwO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24odHdlZW5YLCB0d2VlblksIHR3ZWVuWik7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkubG9va0F0KGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDYW1lcmEgfSBmcm9tICcuL0dhbWVDYW1lcmEnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNhbWVyYU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNhbWVyYU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLnNldENhbWVyYVRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLmhhbmRsZURyYWcoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW5wdXRMYXllck1lZGlhdG9yIH0gZnJvbSAnLi9JbnB1dExheWVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi4vZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgSW5wdXRMYXllckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW5wdXRMYXllckNvbXBvbmVudCcpO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2FtZXJhRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkNhbWVyYSBFbnRpdHlcIlxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkcmFnVGltZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJEcmFnIFRpbWVcIixcbiAgICBkZWZhdWx0OiAwLjRcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5hcHAubW91c2UpIHtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmUodG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHkgPSBwaWNrUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRHYW1lQ2hhcmFjdGVyKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkTmF2aWdhdGlvbihoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygncG9ydGFsJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkUG9ydGFsKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZEdhbWVDaGFyYWN0ZXIgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgcGlja2VkRW50aXR5KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpuYXZpZ2F0aW9uJywgbmVhcmVzdE5vZGUpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRQb3J0YWwgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHBpY2tlZEVudGl0eS5maXJlKCdwaWNrZXI6cG9ydGFsJyk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXR5KGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICByZXR1cm4gMjtcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZW5kVHVybicsIHRoaXMuaGFuZGxlRW5kVHVybiwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRW5kVHVybihldnQpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgfSBmcm9tIFwiLi9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnKTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VuZFR1cm5CdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0VuZCBUdXJuIGJ1dHRvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVuZFR1cm5CdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmNsaWNrRW5kVHVybiwgdGhpcyk7XG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xpY2tFbmRUdXJuID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOmVuZFR1cm4nKTtcbn1cbiIsImV4cG9ydCBjb25zdCBIaXRib3hDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0hpdGJveENvbXBvbmVudCcpO1xuXG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignc3RvcExpc3RlbmluZycsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LnBhcmVudCwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuYWFiYi5jZW50ZXIuY29weSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvblBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIEdhbWVDb21tYW5kcy5UT0dHTEVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZmlyZUNvbW1hbmQnLCB0aGlzLmhhbmRsZUZpcmVDb21tYW5kLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT046XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uUGFuZWxDb21wb25lbnQnXS5zZWxlY3RBY3Rpb24oYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRmlyZUNvbW1hbmQoY29tbWFuZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihjb21tYW5kTmFtZSwgLi4uYXJncyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcblxuY29uc3QgY29tbWFuZFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tYW5kTmFtZScsXG4gICAgICAgIHRpdGxlOiAnQ29tbWFuZCBuYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmRBcmdzJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIGFyZ3VtZW50cycsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLCBhcnJheTogdHJ1ZVxuICAgIH1cbl07XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb21tYW5kcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGNvbW1hbmRTY2hlbWEsIHRpdGxlOiAnQ29tbWFuZCBuYW1lJywgYXJyYXk6IHRydWUgfSk7O1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbignc2VsZWN0OmFjdGlvbicsIHRoaXMuaGFuZGxlQ2hhbmdlQWN0aW9uLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgdGhpcy5jb21tYW5kcykge1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IGNvbW1hbmQuY29tbWFuZE5hbWU7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gY29tbWFuZC5jb21tYW5kQXJncztcbiAgICAgICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2NsaWNrOmZpcmVDb21tYW5kJywgY29tbWFuZE5hbWUsIC4uLmNvbW1hbmRBcmdzKTtcblxuICAgIH1cbn1cblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDaGFuZ2VBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuZW50aXR5Lm5hbWUgPT09IGFjdGlvbikge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBBY3Rpb25QYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uUGFuZWxNZWRpYXRvcic7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0FjdGlvbkJ1dHRvbkNvbXBvbmVudCc7XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb25CdXR0b25zJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdBY3Rpb24gQnV0dG9ucycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufVxuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgYnV0dG9uLmZpcmUoJ3NlbGVjdDphY3Rpb24nLCBhY3Rpb25OYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVUlTdG9wUHJvcGFnYXRpb24gPSBwYy5jcmVhdGVTY3JpcHQoJ1VJU3RvcFByb3BhZ2F0aW9uJyk7XG5cblVJU3RvcFByb3BhZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cblxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciB9IGZyb20gXCIuL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCcpO1xuXG5jb25zdCBwcm9qZWN0aWxlU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb2plY3RpbGVOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZVRlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIFRlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVR5cGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFR5cGVzXCIsXG4gICAgc2NoZW1hOiBwcm9qZWN0aWxlU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuXG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUHJvamVjdGlsZSA9IGZ1bmN0aW9uIChwcm9qZWN0aWxlTmFtZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWxlU2NoZW1lID0gdGhpcy5wcm9qZWN0aWxlVHlwZXMuZmluZChzY2hlbWUgPT4gc2NoZW1lLnByb2plY3RpbGVOYW1lID09PSBwcm9qZWN0aWxlTmFtZSk7XG4gICAgICAgIGlmIChwcm9qZWN0aWxlU2NoZW1lKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0aWxlID0gcHJvamVjdGlsZVNjaGVtZS5wcm9qZWN0aWxlVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1Byb2plY3RpbGUpO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5vbmNlKCdwcm9qZWN0aWxlQXJyaXZlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld1Byb2plY3RpbGUuc2NyaXB0WydQcm9qZWN0aWxlQ29tcG9uZW50J10uc2V0VGFyZ2V0KG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIHByb2plY3RpbGUgXCIke3Byb2plY3RpbGVOYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDb21wb25lbnQnKTtcblxuUHJvamVjdGlsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInByb2plY3RpbGVTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogOFxufSk7XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55LCBvcmlnaW5Qb2ludC56KTtcbiAgICB0aGlzLnRhcmdldFBvaW50ID0gdGFyZ2V0UG9pbnQ7XG4gICAgdGhpcy5sb29rQXRQb2ludCh0aGlzLnRhcmdldFBvaW50KTtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKHRoaXMudGFyZ2V0UG9pbnQuY2xvbmUoKSwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZSh0aGlzLnRhcmdldFBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Byb2plY3RpbGVBcnJpdmVkJyk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vU3RhbWluYUJhckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBTdGFtaW5hQmFyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdGFtaW5hQmFyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhbWluYSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4U3RhbWluYSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlN0YW1pbmFCYXJDb21wb25lbnRcIl0udXBkYXRlU3RhbWluYShuZXdTdGFtaW5hLCBtYXhTdGFtaW5hKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFN0YW1pbmFCYXJNZWRpYXRvciB9IGZyb20gXCIuL1N0YW1pbmFCYXJNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgU3RhbWluYUJhckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU3RhbWluYUJhckNvbXBvbmVudCcpO1xuXG5TdGFtaW5hQmFyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYmFyRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkJhciBFbnRpdHlcIlxufSk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGFtaW5hTGFiZWxcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiU3RhbWluYSBMYWJlbFwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBTdGFtaW5hQmFyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuYmFyRW50aXR5TWF4V2lkdGggPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LndpZHRoO1xufTtcblxuXG5TdGFtaW5hQmFyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVTdGFtaW5hID0gZnVuY3Rpb24gKGN1cnJlbnRTdGFtaW5hLCBtYXhTdGFtaW5hKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYy5tYXRoLmNsYW1wKGN1cnJlbnRTdGFtaW5hIC8gbWF4U3RhbWluYSwgMCwgMSk7XG4gICAgY29uc3Qgd2lkdGggPSBwYy5tYXRoLmxlcnAoMCwgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCwgdmFsdWUpO1xuICAgIC8vIHNldCB0aGUgd2lkdGggb2YgdGhlIGZpbGwgaW1hZ2UgZWxlbWVudFxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGggPSB3aWR0aDtcblxuICAgIC8vIFNldCB0aGUgd2lkdGggb2YgdGhlIGVsZW1lbnQncyByZWN0IChyZWN0LnopIHRvIGJlIHRoZSBzYW1lXG4gICAgLy8gdmFsdWUgYXMgb3VyIDAtMSBwcm9ncmVzcy5cbiAgICAvLyBUaGlzIGlzIHNvIHRoYXQgdGhlIGZpbGwgaW1hZ2Ugd2lsbCBvbmx5IHNob3cgdGhlIHBvcnRpb25cbiAgICAvLyBvZiB0aGUgdGV4dHVyZSB0aGF0IGlzIHZpc2libGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QueiA9IHZhbHVlO1xuICAgIC8vIGZvcmNlIHJlY3QgdXBkYXRlXG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0ID0gdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0O1xuXG4gICAgdGhpcy5zdGFtaW5hTGFiZWwuZWxlbWVudC50ZXh0ID0gYCR7Y3VycmVudFN0YW1pbmF9LyR7bWF4U3RhbWluYX1gO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVBY3Rpb25zID0gcGxheWVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBY3Rpb25zID0gcGxheWVyUHJveHkubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50J10uc2hvd0F2YWlsYWJsZUFjdGlvbihhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3InO1xuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcFRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1BpcCBUZW1wbGF0ZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5waXBzID0gW107XG59XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2hvd0F2YWlsYWJsZUFjdGlvbiA9IGZ1bmN0aW9uIChhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKSB7XG4gICAgd2hpbGUgKHRoaXMucGlwcy5sZW5ndGggPCBtYXhBY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGlwKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBhdmFpbGFibGVBY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1BpcCA9IHRoaXMucGlwVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdQaXApO1xuICAgIHRoaXMucGlwcy5wdXNoKG5ld1BpcCk7XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCcpO1xuXG5BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwaXBGcm9udCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnUGlwIGZyb250JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkub24oJ3RvZ2dsZVBpcCcsIChzaG93KSA9PiB7XG4gICAgICAgIHRoaXMucGlwRnJvbnQuZW5hYmxlZCA9IHNob3c7XG4gICAgfSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVM6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCddO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0ZXJOYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzY3JpcHRDb21wLmRpc3BsYXlTdGF0dXMoZmxvYXRlck5hbWUsIHRhcmdldFByb3h5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnKTtcblxuLy8gVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsgfTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnNldFdvcmxkUG9zaXRpb24gPSBmdW5jdGlvbiAod29ybGRQb3NpdGlvbiwgY2FtZXJhLCBzY3JlZW4pIHtcbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLndvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uO1xuICAgIHRoaXMuZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgdGhpcy5jYW1lcmFFbnRpdHkgPSBjYW1lcmE7XG4gICAgdGhpcy5zY3JlZW5FbnRpdHkgPSBzY3JlZW47XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH0sIDEwMDApO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0VXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLndvcmxkU3BhY2VUb1NjcmVlblNwYWNlKHRoaXMud29ybGRQb3NpdGlvbi5jbG9uZSgpKTtcbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgfVxufTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLndvcmxkU3BhY2VUb1NjcmVlblNwYWNlID0gZnVuY3Rpb24gKHBvcykge1xuICAgIGlmICh0aGlzLmRldmljZSAmJiB0aGlzLmNhbWVyYUVudGl0eSAmJiB0aGlzLnNjcmVlbkVudGl0eSkge1xuICAgICAgICBjb25zdCB3b3JsZFBvcyA9IHBvcy5jbG9uZSgpO1xuICAgICAgICBjb25zdCBzY3JlZW5Qb3MgPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAvLyBnZXQgc2NyZWVuIHNwYWNlIGNvLW9yZFxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEud29ybGRUb1NjcmVlbih3b3JsZFBvcywgc2NyZWVuUG9zKTtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLm1heFBpeGVsUmF0aW87XG4gICAgICAgIHNjcmVlblBvcy54ICo9IHBpeGVsUmF0aW87XG4gICAgICAgIHNjcmVlblBvcy55ICo9IHBpeGVsUmF0aW87XG5cbiAgICAgICAgY29uc3Qgc2NyZWVuQ29tcCA9IHRoaXMuc2NyZWVuRW50aXR5LnNjcmVlbjtcblxuICAgICAgICBjb25zdCByYXRpb1NjYWxlID0gc2NyZWVuQ29tcC5zY2FsZTtcbiAgICAgICAgY29uc3QgeCA9IChzY3JlZW5Qb3MueCAvIHJhdGlvU2NhbGUpO1xuICAgICAgICBjb25zdCB5ID0gKHRoaXMuZGV2aWNlLmhlaWdodCAtIHNjcmVlblBvcy55KSAvIHJhdGlvU2NhbGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBwYy5WZWMzKHgsIHksIDApO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbn0iLCJleHBvcnQgY29uc3QgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50JztcblxuY29uc3QgZmxvYXRpbmdTdGF0dXNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0ZW1wbGF0ZScsXG4gICAgICAgIHRpdGxlOiAnVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JlZW5FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NjcmVlbiBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjYW1lcmFFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NhbWVyYSBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmbG9hdGluZ1N0YXR1c2VzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogZmxvYXRpbmdTdGF0dXNTY2hlbWEsIHRpdGxlOiAnRmxvYXRpbmcgU3RhdHVzZXMnLCBhcnJheTogdHJ1ZSB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheVN0YXR1cyA9IGZ1bmN0aW9uIChuYW1lLCB0YXJnZXRQcm94eSwgLi4uYXJncykge1xuICAgIGNvbnN0IHNjaGVtZSA9IHRoaXMuZmxvYXRpbmdTdGF0dXNlcy5maW5kKChvdGhlclNjaGVtZSkgPT4gb3RoZXJTY2hlbWUubmFtZSA9PT0gbmFtZSk7XG4gICAgaWYgKHNjaGVtZSkge1xuICAgICAgICAvLyBcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSArIHRhcmdldFByb3h5LmhlaWdodCwgdGFyZ2V0Tm9kZS56KTtcbiAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gc2NoZW1lLnRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIG5ld1N0YXR1cy5zY3JpcHRbJ1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50J10uc2V0V29ybGRQb3NpdGlvbih0YXJnZXRQb3MsXG4gICAgICAgICAgICB0aGlzLmNhbWVyYUVudGl0eSwgdGhpcy5zY3JlZW5FbnRpdHkpO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuYWRkQ2hpbGQobmV3U3RhdHVzKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBmbG9hdGluZyBzdGF0dXM6ICR7bmFtZX1gKTtcbiAgICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUG9ydGFsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQb3J0YWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpwb3J0YWwnLCB0aGlzLnNlbGVjdGVkUG9ydGFsLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRQb3J0YWwoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgcG9ydGFsQ29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnUG9ydGFsQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25TY2VuZTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25Qb3J0YWw7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9zaXRpb24gPSBwb3J0YWxDb21wb25lbnQuc3RhbmRpbmdQb2ludC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLFxuICAgICAgICAgICAgICAgIHN0YW5kaW5nUG9zaXRpb24sIGRlc3RpbmF0aW9uU2NlbmUsIGRlc3RpbmF0aW9uUG9ydGFsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBQb3J0YWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BvcnRhbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBQb3J0YWxNZWRpYXRvciB9IGZyb20gJy4vUG9ydGFsTWVkaWF0b3InO1xuXG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BvcnRhbElkJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdQb3J0YWwgSWQnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXN0aW5hdGlvblNjZW5lJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBTY2VuZScgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uUG9ydGFsJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBQb3J0YWwnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaXRib3gnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpdGJveCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3N0YW5kaW5nUG9pbnQnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N0YW5kaW5nIFBvaW50JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBvcnRhbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBvcnRhbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnN0YW5kaW5nUG9pbnQubW9kZWwuZW5hYmxlZCA9IGZhbHNlO1xuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJEaWFsb2d1ZVBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2tlZDpjb250aW51ZScsIHRoaXMuaGFuZGxlQ2xpY2tDb250aW51ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2tlZDpjaG9pY2UnLCB0aGlzLmhhbmRsZUNsaWNrQ2hvaWNlLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUw6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTDpcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyUGFuZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jcmVhdGVTdGVwKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jcmVhdGVTa2lsbFRlc3QoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jbGVhckRpYWxvZ3VlQ2hvaWNlcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT046XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLnNldENvbnRpbnVlQnV0dG9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT046XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLnNldENvbnRpbnVlQnV0dG9uKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2tDb250aW51ZSgpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09OVElOVUVfRElBTE9HVUVfTk9ERSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2tDaG9pY2UoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNUX0RJQUxPR1VFX0NIT0lDRSwgaW5kZXgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVBhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IERpYWxvZ3VlUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vRGlhbG9ndWVQYW5lbE1lZGlhdG9yJztcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2Nyb2xsYmFyVmlld0VudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2Nyb2xsYmFyIFZpZXcnIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGVudEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ29udGVudCBFbnRpdHknIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZmVlZEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRmVlZCBFbnRpdHknIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGVudEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnQ29udGVudCBIZWlnaHQnLCBkZWZhdWx0OiA1MjAgfSk7XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RleHRFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1RleHQgRW50cnkgQXNzZXQnIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY2hvaWNlRW50cnlUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdDaG9pY2UgRW50cnkgQXNzZXQnIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2tpbGxUZXN0RW50cnlUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdTa2lsbCBUZXN0IEVudHJ5IEFzc2V0JyB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGludWVCdXR0b25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NvbnRpbnVlIEJ1dHRvbicgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRGlhbG9ndWVQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IERpYWxvZ3VlUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5jaG9pY2VzID0gW107XG5cbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uRW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjbGlja2VkOmNvbnRpbnVlJyk7XG4gICAgfSwgdGhpcyk7XG5cbn07XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVN0ZXAgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICB0aGlzLmNyZWF0ZVRleHQoc3RlcERhdGEuc3RlcCk7XG5cbiAgICBpZiAoc3RlcERhdGEuc3RlcC5jaG9pY2VzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcERhdGEuc3RlcC5jaG9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBzdGVwRGF0YS5zdGVwLmNob2ljZXNbaV07XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNob2ljZShpLCBjaG9pY2UudGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICBjb25zdCBuZXdUZXh0ID0gdGhpcy50ZXh0RW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld1RleHQuc2NyaXB0W1wiRGlhbG9ndWVUZXh0Q29tcG9uZW50XCJdLnNldHVwKHN0ZXBEYXRhKTtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3VGV4dCk7XG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVDaG9pY2UgPSBmdW5jdGlvbiAoaW5kZXgsIHRleHQpIHtcbiAgICBjb25zdCBuZXdDaG9pY2UgPSB0aGlzLmNob2ljZUVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdDaG9pY2Uuc2NyaXB0W1wiRGlhbG9ndWVDaG9pY2VDb21wb25lbnRcIl0uc2V0dXAoaW5kZXgsIHRleHQpO1xuICAgIG5ld0Nob2ljZS5lbGVtZW50LnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdDaG9pY2UpO1xuICAgIHRoaXMuY2hvaWNlcy5wdXNoKG5ld0Nob2ljZSk7XG5cbiAgICBuZXdDaG9pY2Uub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuXG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVTa2lsbFRlc3QgPSBmdW5jdGlvbiAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKSB7XG4gICAgY29uc3QgbmV3U2tpbGxUZXN0ID0gdGhpcy5za2lsbFRlc3RFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3U2tpbGxUZXN0LnNjcmlwdFtcIkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50XCJdLnNldHVwKHNraWxsTmFtZSwgc2tpbGxWYWx1ZSwgZGllMSwgZGllMiwgd2FzU3VjY2Vzcyk7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld1NraWxsVGVzdCk7XG5cbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyRGlhbG9ndWVDaG9pY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAoY29uc3QgY2hvaWNlIG9mIHRoaXMuY2hvaWNlcykge1xuICAgICAgICBjaG9pY2Uub2ZmKCdjbGljaycsIHRoaXMuaGFuZGxlU2VsZWN0Q2hvaWNlLCB0aGlzKTtcbiAgICAgICAgY2hvaWNlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLmNob2ljZXMgPSBbXTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aGlsZSAodGhpcy5mZWVkRW50aXR5LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5mZWVkRW50aXR5LmNoaWxkcmVuWzBdLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVNlbGVjdENob2ljZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrZWQ6Y2hvaWNlJywgaW5kZXgpO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5yZXNpemVUb0NvbnRlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzcGFjaW5nVmVydGljYWwgPSB0aGlzLmZlZWRFbnRpdHkubGF5b3V0Z3JvdXAuc3BhY2luZy55O1xuICAgIGxldCBoZWlnaHQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBmZWVkQ2hpbGQgb2YgdGhpcy5mZWVkRW50aXR5LmNoaWxkcmVuKSB7XG4gICAgICAgIGhlaWdodCArPSBmZWVkQ2hpbGQuZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgIGhlaWdodCArPSBzcGFjaW5nVmVydGljYWw7XG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50RW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5jb250ZW50SGVpZ2h0LCBoZWlnaHQpO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb250aW51ZUJ1dHRvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuY29udGludWVCdXR0b25FbnRpdHkuZW5hYmxlZCA9IHZhbHVlO1xufVxuIiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCcpO1xuXG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaW5kZXhFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0luZGV4IEVudGl0eScgfSk7XG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChpbmRleCwgbGFiZWwpIHtcbiAgICB0aGlzLmluZGV4RW50aXR5LmVsZW1lbnQudGV4dCA9IChpbmRleCArIDEpICsgXCIuXCI7XG4gICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBsYWJlbDtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljaycsIGluZGV4KVxuICAgIH0pO1xufVxuXG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG59XG4iLCJleHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCcpO1xuXG5EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYW5pbWF0aW9uTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJBbmltYXRpb24gTmFtZVwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSh0aGlzLmFuaW1hdGlvbk5hbWUsIDAuMSk7XG59IiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlVGV4dENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVUZXh0Q29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnd2l0aEltYWdlV2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1dpdGggSW1hZ2UgV2lkdGgnLCBkZWZhdWx0OiAzNDAgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3dpdGhvdXRJbWFnZVdpZHRoJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdXaXRoIEltYWdlIFdpZHRoJywgZGVmYXVsdDogMzYwIH0pO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RleHRDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RleHQgQ29udGFpbmVyJyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGl0bGVFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RpdGxlIEVudGl0eScgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2JvZHlFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0JvZHkgRW50aXR5JyB9KTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aHVtYm5haWxDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RodW1ibmFpbCBDb250YWluZXInIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aHVtYm5haWxJbWFnZScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGh1bWJuYWlsIEltYWdlJyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICBpZiAoc3RlcERhdGEudGl0bGUpIHtcbiAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbGVtZW50LnRleHQgPSBzdGVwRGF0YS50aXRsZTtcblxuICAgICAgICBpZiAoc3RlcERhdGEudGl0bGVDb2xvdXIpIHtcbiAgICAgICAgICAgIHRoaXMudGl0bGVFbnRpdHkuZWxlbWVudC5jb2xvci5mcm9tU3RyaW5nKHN0ZXBEYXRhLnRpdGxlQ29sb3VyKTtcblxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXBEYXRhLnRodW1ibmFpbCkge1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aEltYWdlV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50ZXh0Q29udGFpbmVyLmVsZW1lbnQud2lkdGggPSB0aGlzLndpdGhvdXRJbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbmFibGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmJvZHlFbnRpdHkuZWxlbWVudC50ZXh0ID0gc3RlcERhdGEudGV4dDtcbiAgICAvLyB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG1pbkhlaWdodCA9ICh0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbmFibGUpID8gdGhpcy50aHVtYm5haWxDb250YWluZXIuZWxlbWVudC5oZWlnaHQgOiAwO1xuICAgIGxldCBoZWlnaHQgPSAwO1xuICAgIGxldCBzcGFjaW5nID0gdGhpcy50ZXh0Q29udGFpbmVyLmxheW91dGdyb3VwLnNwYWNpbmcueTtcbiAgICBmb3IgKGNvbnN0IHRleHRDaGlsZCBvZiB0aGlzLnRleHRDb250YWluZXIuY2hpbGRyZW4pIHtcbiAgICAgICAgaGVpZ2h0ICs9IHRleHRDaGlsZC5lbGVtZW50LmhlaWdodCArIHNwYWNpbmc7XG4gICAgfVxuXG5cbiAgICBpZiAoIXRoaXMudGl0bGVFbnRpdHkuZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmJvZHlFbnRpdHkuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aEltYWdlV2lkdGg7XG5cbiAgICB9XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IE1hdGgubWF4KG1pbkhlaWdodCwgaGVpZ2h0KTtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0SGVpZ2h0KCk7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICAvL3RoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2tCdXR0b25NZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkF0dGFja0J1dHRvbk1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQXR0YWNrQnV0dG9uTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOnRvZ2dsZUF0dGFjaycsIHRoaXMuaGFuZGxlVG9nZ2xlQXR0YWNrLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lID09PSBcImF0dGFja1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0F0dGFja0J1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBdHRhY2tCdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVRvZ2dsZUF0dGFjayhhdHRhY2tFbmFibGVkKSB7XG4gICAgICAgIGlmIChhdHRhY2tFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgXCJhdHRhY2tcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgXCJpbnRlcmFjdFwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBdHRhY2tCdXR0b25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0F0dGFja0J1dHRvbkNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBdHRhY2tCdXR0b25NZWRpYXRvciB9IGZyb20gJy4vQXR0YWNrQnV0dG9uTWVkaWF0b3InO1xuXG5BdHRhY2tCdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpZ2hsaWdodEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGlnaGxpZ2h0IEVudGl0eScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BdHRhY2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBdHRhY2tCdXR0b25NZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLCB0aGlzKTtcbn07XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6dG9nZ2xlQXR0YWNrJywgIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQpO1xufVxuXG5BdHRhY2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLnRvZ2dsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gaXNFbmFibGVkO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgVXNlSXRlbUJ1dHRvbk1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiVXNlSXRlbUJ1dHRvbk1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQsIGVxdWlwbWVudFNsb3RLZXkpIHtcbiAgICAgICAgc3VwZXIoVXNlSXRlbUJ1dHRvbk1lZGlhdG9yLk5BTUUgKyBlcXVpcG1lbnRTbG90S2V5KTtcbiAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90S2V5ID0gZXF1aXBtZW50U2xvdEtleTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQsIEdhbWVDb21tYW5kcy5ESVNQTEFZX0VRVUlQUEVEX1NMT1QsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX1VTRV9JVEVNX0JVVFRPTl9ISUdITElHSFRcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGljazp1c2VJdGVtJywgdGhpcy5oYW5kbGVVc2VJdGVtLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lID09PSBcImF0dGFja1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1VzZUl0ZW1CdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9FUVVJUFBFRF9TTE9UOlxuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWlwbWVudFNsb3RzID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcXVpcHBlZERhdGEgPSBlcXVpcG1lbnRTbG90cy5nZXQodGhpcy5lcXVpcG1lbnRTbG90S2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoZXF1aXBwZWREYXRhICYmIGVxdWlwcGVkRGF0YS5pY29uKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlVzZUl0ZW1CdXR0b25Db21wb25lbnRcIl0uc2V0SWNvbihlcXVpcHBlZERhdGEuaWNvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlVzZUl0ZW1CdXR0b25Db21wb25lbnRcIl0uc2V0RGVmYXVsdEljb24oKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9VU0VfSVRFTV9CVVRUT05fSElHSExJR0hUOlxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFNsb3QgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBIaWdobGlnaHQ6ICR7dGFyZ2V0U2xvdH0gdnMgJHt0aGlzLmVxdWlwbWVudFNsb3RLZXl9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFNsb3QgPT09IHRoaXMuZXF1aXBtZW50U2xvdEtleSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0hpZ2hsaWdodGVkID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlVzZUl0ZW1CdXR0b25Db21wb25lbnRcIl0udG9nZ2xlSGlnaGxpZ2h0KGlzSGlnaGxpZ2h0ZWQpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlVXNlSXRlbSgpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVNFX0VRVUlQUEVEX0lURU0sIHRoaXMuZXF1aXBtZW50U2xvdEtleSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFVzZUl0ZW1CdXR0b25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1VzZUl0ZW1CdXR0b25Db21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgVXNlSXRlbUJ1dHRvbk1lZGlhdG9yIH0gZnJvbSAnLi9Vc2VJdGVtQnV0dG9uTWVkaWF0b3InO1xuXG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlcXVpcG1lbnRTbG90S2V5JywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdFcXVpcG1lbnQgU2xvdCBLZXknIH0pO1xuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblVzZUl0ZW1CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RlZmF1bHRJY29uJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0RlZmF1bHQgSWNvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVXNlSXRlbUJ1dHRvbk1lZGlhdG9yLk5BTUUgKyB0aGlzLmVxdWlwbWVudFNsb3RLZXkpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFVzZUl0ZW1CdXR0b25NZWRpYXRvci5OQU1FICsgdGhpcy5lcXVpcG1lbnRTbG90S2V5KTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBVc2VJdGVtQnV0dG9uTWVkaWF0b3IodGhpcy5lbnRpdHksIHRoaXMuZXF1aXBtZW50U2xvdEtleSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLCB0aGlzKTtcbn07XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLnNldEljb24gPSBmdW5jdGlvbiAoYXNzZXRJZCkge1xuICAgIGNvbnN0IGljb25Bc3NldCA9IHRoaXMuYXBwLmFzc2V0cy5nZXQoYXNzZXRJZCk7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSBpY29uQXNzZXQ7XG59XG5cblVzZUl0ZW1CdXR0b25Db21wb25lbnQucHJvdG90eXBlLnNldERlZmF1bHRJY29uID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaWNvbkVudGl0eS5lbGVtZW50LnNwcml0ZUFzc2V0ID0gdGhpcy5kZWZhdWx0SWNvbjtcbn1cblxuVXNlSXRlbUJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6dXNlSXRlbScpO1xufVxuXG5Vc2VJdGVtQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS50b2dnbGVIaWdobGlnaHQgPSBmdW5jdGlvbiAoaXNFbmFibGVkKSB7XG4gICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGlzRW5hYmxlZDtcbn0iLCJleHBvcnQgY29uc3QgVmVoaWNsZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVmVoaWNsZUNvbXBvbmVudCcpO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWFzc1wiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXNzXCIsXG4gICAgZGVmYXVsdDogM1xufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXhTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXggU3BlZWRcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1heEZvcmNlXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1heCBGb3JjZVwiLFxuICAgIGRlZmF1bHQ6IDAuNVxufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhcnJpdmVUaHJlc2hvbGRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQXJyaXZhbCBUaHJlc2hvbGRcIixcbiAgICBkZWZhdWx0OiAxXG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IHBjLlZlYzMoKTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBuZXcgcGMuVmVjMygpO1xufVxuXG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NWZWxvY2l0eSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKTtcblxuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IGNsYW1wVmVjMyh0aGlzLnN0ZWVyaW5nRm9yY2UsICh0aGlzLm1heEZvcmNlKSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLnNjYWxlKDEgLyAodGhpcy5tYXNzKSk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMudmVsb2NpdHkuYWRkKHRoaXMuc3RlZXJpbmdGb3JjZSk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IGNsYW1wVmVjMyh0aGlzLnZlbG9jaXR5LCAodGhpcy5tYXhTcGVlZCAqIGR0KSk7XG5cbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBuZXcgcGMuVmVjMygpO1xuXG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eSkpO1xuXG4gICAgY29uc3QgeVJvdGF0aW9uID0gZ2V0QW5nbGUodGhpcy52ZWxvY2l0eSkgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIHlSb3RhdGlvbiwgMCk7XG59XG5cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uICh0YXJnZXQsIGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IGRlc2lyZWRWZWxvY2l0eSA9IHRhcmdldC5jbG9uZSgpLnN1Yihwb3NpdGlvbik7XG4gICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5Lm5vcm1hbGl6ZSgpXG4gICAgZGVzaXJlZFZlbG9jaXR5LnNjYWxlKHRoaXMubWF4U3BlZWQgKiBkdCk7XG4gICAgY29uc3QgZm9yY2UgPSBkZXNpcmVkVmVsb2NpdHkuc3ViKHRoaXMudmVsb2NpdHkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5hZGQoZm9yY2UpO1xufVxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5hcnJpdmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpO1xuICAgIGxldCBkZXNpcmVkVmVsb2NpdHkgPSB0YXJnZXQuY2xvbmUoKS5zdWIocG9zaXRpb24pLm5vcm1hbGl6ZSgpLnNjYWxlKHRoaXMubWF4U3BlZWQpO1xuICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBwb3NpdGlvbi5kaXN0YW5jZSh0YXJnZXQpO1xuXG4gICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPiB0aGlzLmFycml2YWxUaHJlc2hvbGQpIHtcbiAgICAgICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5LnNjYWxlKHRoaXMubWF4U3BlZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5zY2FsZSgodGhpcy5tYXhTcGVlZCAqIGRpc3RhbmNlVG9UYXJnZXQgLyB0aGlzLmFycml2ZVRocmVzaG9sZCkpO1xuXG4gICAgfVxuICAgIGNvbnN0IGZvcmNlID0gZGVzaXJlZFZlbG9jaXR5LnN1Yih0aGlzLnZlbG9jaXR5KTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2UuYWRkKGZvcmNlKTtcbn1cblxuZnVuY3Rpb24gY2xhbXBWZWMzKHZlYzMsIG1heFZhbHVlKSB7XG4gICAgaWYgKHZlYzMubGVuZ3RoKCkgPCBtYXhWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdmVjMztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmVjMy5ub3JtYWxpemUoKS5zY2FsZShtYXhWYWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRBbmdsZSh2ZWMzKSB7XG4gICAgcmV0dXJuIE1hdGguYXRhbjIodmVjMy54LCB2ZWMzLnopO1xufSIsImV4cG9ydCBjb25zdCBTY3JlZW5SZXNpemVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NjcmVlblJlc2l6ZUNvbXBvbmVudCcpO1xuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLndpbmRvdyA9IHdpbmRvdztcblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcbn1cblxuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGdyYXBoaWNzRGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgLy8gRmxpcCBibGVuZFxuICAgIGlmIChncmFwaGljc0RldmljZS53aWR0aCA8IGdyYXBoaWNzRGV2aWNlLmhlaWdodCkge1xuICAgICAgICB0aGlzLmVudGl0eS5zY3JlZW4uc2NhbGVCbGVuZCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2NyZWVuLnNjYWxlQmxlbmQgPSAwO1xuICAgIH1cblxuICAgIHRoaXMuZW50aXR5LnNjcmVlbi5yZWZlcmVuY2VSZXNvbHV0aW9uID0gbmV3IHBjLlZlYzIoZ3JhcGhpY3NEZXZpY2Uud2lkdGgsIGdyYXBoaWNzRGV2aWNlLmhlaWdodCk7XG5cbn0iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbE5hbWVMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2tpbGwgTmFtZSBMYWJlbCcgfSk7XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2tpbGxWYWx1ZUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTa2lsbCBWYWx1ZSBMYWJlbCcgfSk7XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGllMUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdEaWUgMSBMYWJlbCcgfSk7XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGllMkxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdEaWUgMiBMYWJlbCcgfSk7XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc3VjY2Vzc0xhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTdWNjZXNzIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmYWlsdXJlTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ZhaWx1cmUgTGFiZWwnIH0pO1xuXG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChza2lsbE5hbWUsIHNraWxsVmFsdWUsIGRpZTEsIGRpZTIsIHdhc1N1Y2Nlc3MpIHtcbiAgICB0aGlzLnNraWxsTmFtZUxhYmVsLmVsZW1lbnQudGV4dCA9IHNraWxsTmFtZTtcbiAgICB0aGlzLnNraWxsVmFsdWVMYWJlbC5lbGVtZW50LnRleHQgPSBza2lsbFZhbHVlO1xuICAgIHRoaXMuZGllMUxhYmVsLmVsZW1lbnQudGV4dCA9IGRpZTE7XG4gICAgdGhpcy5kaWUyTGFiZWwuZWxlbWVudC50ZXh0ID0gZGllMjtcbiAgICB0aGlzLnN1Y2Nlc3NMYWJlbC5lbmFibGVkID0gd2FzU3VjY2VzcztcbiAgICB0aGlzLmZhaWx1cmVMYWJlbC5lbmFibGVkID0gIXdhc1N1Y2Nlc3M7XG59XG4iLCJleHBvcnQgY29uc3QgSW52ZW50b3J5SXRlbUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW52ZW50b3J5SXRlbUNvbXBvbmVudCcpO1xuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpY29uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdJY29uIEVudGl0eScgfSk7XG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgSGVpZ2h0JywgZGVmYXVsdDogNDQgfSk7XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2V4cGFuZGVkRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdFeHBhbmRlZCBFbnRpdHknIH0pO1xuXG4vLyBEaXNwbGF5IE1ldGhvZHNcbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGl0ZW1EYXRhKSB7XG4gICAgdGhpcy5pY29uID0gaXRlbURhdGEuaWNvbjtcbiAgICBjb25zdCBpY29uQXNzZXQgPSB0aGlzLmFwcC5hc3NldHMuZ2V0KHRoaXMuaWNvbik7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSBpY29uQXNzZXQ7XG4gICAgdGhpcy5zaXplID0gaXRlbURhdGEuc2l6ZTtcbiAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IGl0ZW1EYXRhLm5hbWU7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLnNsb3RIZWlnaHQgKiB0aGlzLnNpemU7XG4gICAgdGhpcy5leHBhbmRlZEVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMuc2xvdEhlaWdodCAqIHRoaXMuc2l6ZTtcblxuICAgIHRoaXMuaXRlbURhdGEgPSBpdGVtRGF0YTtcbn1cblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuY29sbGFwc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5leHBhbmRlZEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG59XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLmV4cGFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVuYWJsZWQgPSB0cnVlO1xufVxuXG4vLyBEcmFnIG1ldGhvZHNcbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgY29uc3QgZHJhZ0hlbHBlciA9IG5ldyBwYy5FbGVtZW50RHJhZ0hlbHBlcih0aGlzLmVudGl0eS5lbGVtZW50LCBudWxsKTtcbiAgICBkcmFnSGVscGVyLm9uKCdkcmFnOnN0YXJ0JywgdGhpcy5vbkRyYWdTdGFydCwgdGhpcyk7XG59O1xuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5vbkRyYWdTdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5wYXJlbnQuZmlyZSgnZHJhZzpzdGFydCcsIHRoaXMuZW50aXR5LCB0aGlzLnNpemUpO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnZlbnRvcnlQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW52ZW50b3J5UGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEludmVudG9yeVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCwgR2FtZUNvbW1hbmRzLlVQREFURV9JTlZFTlRPUllfUEFORUxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncmVvcmRlckl0ZW0nLCB0aGlzLmhhbmRlUmVvcmRlckl0ZW0sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2VxdWlwSXRlbScsIHRoaXMuaGFuZGxlRXF1aXBJdGVtLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbG9zZScsIHRoaXMuaGFuZGxlQ2xvc2UsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlVQREFURV9JTlZFTlRPUllfUEFORUw6XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWlwcGVkTWFwID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiSW52ZW50b3J5UGFuZWxDb21wb25lbnRcIl0uZGlzcGxheUl0ZW1zKGl0ZW1zLCBlcXVpcHBlZE1hcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kZVJlb3JkZXJJdGVtKGl0ZW1VVUlELCBuZXdJbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRU9SREVSX0lOVkVUT1JZX0lURU0sIFwicGxheWVyXCIsIGl0ZW1VVUlELCBuZXdJbmRleCk7XG4gICAgfVxuXG4gICAgaGFuZGxlRXF1aXBJdGVtKGl0ZW1JZCwgc2xvdEtleSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIFwicGxheWVyXCIsIGl0ZW1JZCwgc2xvdEtleSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xvc2UoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgMTAwKTtcblxuICAgIH1cbn1cbiIsIlxuY29uc3QgZXF1aXBtZW50U2xvdFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdrZXknLFxuICAgICAgICB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEtleScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRpdHknLFxuICAgICAgICB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEVudGl0eScsXG4gICAgICAgIHR5cGU6ICdlbnRpdHknXG4gICAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IEludmVudG9yeVBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9JbnZlbnRvcnlQYW5lbE1lZGlhdG9yJztcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1Nsb3QgQ29udGFpbmVyJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0b3BTbG90UG9zaXRpb24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RvcCBTbG90IFBvc2l0aW9uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjbG9zZUJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2xvc2UgQnV0dG9uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpdGVtQXNzZXQnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnSXRlbSBBc3NldCcgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkcmFnSWNvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRHJhZyBJY29uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90V2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgV2lkdGgnLCBkZWZhdWx0OiAzMjAgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtYXhTbG90cycsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnTWF4IFNsb3RzJywgZGVmYXVsdDogMTIgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlcXVpcG1lbnRTbG90cycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGVxdWlwbWVudFNsb3RTY2hlbWEsIGFycmF5OiB0cnVlLCB0aXRsZTogJ0VxdWlwbWVudCBTbG90cycgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEludmVudG9yeVBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLmVudGl0eS5vbignZHJhZzpzdGFydCcsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbG9zZSwgdGhpcyk7XG5cbiAgICB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcyA9IFtdO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUpIHtcbiAgICBkcmFnRW50aXR5LnJlcGFyZW50KHRoaXMuZW50aXR5KTtcbiAgICB0aGlzLmRyYWdJY29uLnJlcGFyZW50KHRoaXMuZW50aXR5KTtcblxuICAgIGlmICh0aGlzLmFwcC50b3VjaCkge1xuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLmFwcC50b3VjaC5vbihwYy5FVkVOVF9UT1VDSEVORCwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwKGRyYWdFbnRpdHksIHNpemUsIGV2dC5jaGFuZ2VkVG91Y2hlc1swXSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIChldnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2VNb3ZlKGRyYWdFbnRpdHksIHNpemUsIGV2dCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VVUCwgKGV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwKGRyYWdFbnRpdHksIHNpemUsIGV2dCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBjb25zdCBzY3JlZW5Qb3MgPSBuZXcgcGMuVmVjMyhldnQueCwgZXZ0LnksIDApO1xuICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5tYXhQaXhlbFJhdGlvO1xuICAgIHNjcmVlblBvcy54ICo9IHBpeGVsUmF0aW87XG4gICAgc2NyZWVuUG9zLnkgKj0gcGl4ZWxSYXRpbztcblxuICAgIGNvbnN0IHNjcmVlbkNvbXAgPSB0aGlzLmVudGl0eS5lbGVtZW50LnNjcmVlbi5zY3JlZW47XG4gICAgY29uc3QgZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG5cbiAgICBjb25zdCByYXRpb1NjYWxlID0gc2NyZWVuQ29tcC5zY2FsZTtcbiAgICBjb25zdCB4ID0gKHNjcmVlblBvcy54IC8gcmF0aW9TY2FsZSk7XG4gICAgY29uc3QgeSA9IChkZXZpY2UuaGVpZ2h0IC0gc2NyZWVuUG9zLnkpIC8gcmF0aW9TY2FsZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyh4LCB5LCAwKTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBldnQpIHtcbiAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGV2dCk7XG4gICAgdGhpcy5kcmFnSWNvbi5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgIHRoaXMuZGlzcGxheVBvdGVudGlhbExpc3QoZHJhZ0VudGl0eSwgc2l6ZSwgbmV3UG9zaXRpb24pO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBldnQpIHtcbiAgICBjb25zdCBkcmFnUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZXZ0KTtcbiAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSBmYWxzZTtcbiAgICBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmV4cGFuZCgpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub2ZmKHBjLkVWRU5UX01PVVNFTU9WRSk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vZmYocGMuRVZFTlRfTU9VU0VVUCk7XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub2ZmKHBjLkVWRU5UX1RPVUNITU9WRSk7XG4gICAgICAgIHRoaXMuYXBwLnRvdWNoLm9mZihwYy5FVkVOVF9UT1VDSEVORCk7XG4gICAgfVxuXG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgeDE6IHRvcFNsb3RQb3NpdGlvbi54LCB5MTogdG9wU2xvdFBvc2l0aW9uLnkgLSB0aGlzLm1heFNsb3RzICogdGhpcy5zbG90SGVpZ2h0LFxuICAgICAgICB4MjogdG9wU2xvdFBvc2l0aW9uLnggKyB0aGlzLnNsb3RXaWR0aCwgeTI6IHRvcFNsb3RQb3NpdGlvbi55XG4gICAgfTtcblxuICAgIGNvbnN0IGluQm91bmRzID0gaXNJbkJvdW5kcyhkcmFnUG9zLCBib3VuZHMpO1xuICAgIGlmIChpbkJvdW5kcykge1xuICAgICAgICBjb25zdCBzY3JlZW5IZWlnaHQgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gR2V0IHRoZSB0b3AgY29ybmVyIHBvc2l0aW9uIG9mIHRoZSBkcmFnZ2luZyBpdGVtIGFzIHRoZSB0YXJnZXRcbiAgICAgICAgY29uc3QgY29ybmVyU2NyZWVuUG9zID0geyB4OiBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS54LCB5OiBzY3JlZW5IZWlnaHQgLSBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS55IH1cbiAgICAgICAgY29uc3QgY29ybmVyUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoY29ybmVyU2NyZWVuUG9zKTtcblxuICAgICAgICBjb25zdCBzbG90SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCh0b3BTbG90UG9zaXRpb24ueSAtIGNvcm5lclBvcy55KSAvIHRoaXMuc2xvdEhlaWdodCkpO1xuICAgICAgICBjb25zdCBpdGVtRGF0YSA9IGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uaXRlbURhdGE7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Jlb3JkZXJJdGVtJywgaXRlbURhdGEudXVpZCwgc2xvdEluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiBkcm9wcGVkIGluIGVxdWlwIHNsb3RcbiAgICAgICAgdGhpcy5jaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QoZHJhZ0VudGl0eSwgZXZ0KTtcbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QgPSBmdW5jdGlvbiAoZHJhZ2dpbmdFbnRpdHksIG1vdXNlRXZlbnQpIHtcbiAgICBmb3IgKGNvbnN0IGVxdWlwU2xvdCBvZiB0aGlzLmVxdWlwbWVudFNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEtleSA9IGVxdWlwU2xvdC5rZXk7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEVudGl0eSA9IGVxdWlwU2xvdC5lbnRpdHk7XG4gICAgICAgIGNvbnN0IGNvcm5lcnMgPSBlcXVpcFNsb3RFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHBvaW50ID0geyB4OiBtb3VzZUV2ZW50LngsIHk6IGhlaWdodCAtIG1vdXNlRXZlbnQueSB9O1xuICAgICAgICBjb25zdCBib3VuZHMgPSB7XG4gICAgICAgICAgICB4MTogY29ybmVyc1swXS54LCB5MTogY29ybmVyc1swXS55LFxuICAgICAgICAgICAgeDI6IGNvcm5lcnNbMl0ueCwgeTI6IGNvcm5lcnNbMl0ueSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaXNJbkJvdW5kcyhwb2ludCwgYm91bmRzKSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbURhdGEgPSBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLml0ZW1EYXRhO1xuXG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdlcXVpcEl0ZW0nLCBpdGVtRGF0YS5pZCwgZXF1aXBTbG90S2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlSXRlbU1vdmUgPSBmdW5jdGlvbiAoZHJhZ2dpbmdFbnRpdHksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaXNJbkJvdW5kcyh2YWx1ZSkpIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uZXhwYW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICB9XG4gICAgdGhpcy5zZXRIaWdobGlnaHRQb3NpdGlvbih2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzSW5Cb3VuZHMocG9pbnQsIGJvdW5kcykge1xuICAgIHJldHVybiBwb2ludC54ID4gYm91bmRzLngxICYmIHBvaW50LnggPCBib3VuZHMueDIgJiYgcG9pbnQueSA+IGJvdW5kcy55MSAmJiBwb2ludC55IDwgYm91bmRzLnkyO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgZXZ0LmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2Nsb3NlJyk7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5SXRlbXMgPSBmdW5jdGlvbiAoaXRlbXMsIGVxdWlwcGVkTWFwKSB7XG4gICAgdGhpcy5jbGVhclBhbmVsKCk7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBydW5uaW5nSW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICBydW5uaW5nSW5kZXggKz0gaXRlbS5zaXplO1xuXG4gICAgICAgIGNvbnN0IG5ld0l0ZW1Db21wb25lbnQgPSB0aGlzLml0ZW1Bc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICBuZXdJdGVtQ29tcG9uZW50LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uc2V0dXAoaXRlbSk7XG4gICAgICAgIG5ld0l0ZW1Db21wb25lbnQuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG5cbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucHVzaChuZXdJdGVtQ29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdJdGVtQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVxdWlwU2xvdCBvZiB0aGlzLmVxdWlwbWVudFNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEtleSA9IGVxdWlwU2xvdC5rZXk7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEVudGl0eSA9IGVxdWlwU2xvdC5lbnRpdHk7XG5cbiAgICAgICAgaWYgKGVxdWlwcGVkTWFwLmhhcyhlcXVpcFNsb3RLZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBlcXVpcHBlZEl0ZW0gPSBlcXVpcHBlZE1hcC5nZXQoZXF1aXBTbG90S2V5KTtcbiAgICAgICAgICAgIGVxdWlwU2xvdEVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnRcIl0uc2V0dXAoZXF1aXBwZWRJdGVtLmljb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXF1aXBTbG90RW50aXR5LnNjcmlwdFtcIkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudFwiXS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwbGF5UG90ZW50aWFsTGlzdCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplLCBkcmFnUG9zKSB7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgeDE6IHRvcFNsb3RQb3NpdGlvbi54LCB5MTogdG9wU2xvdFBvc2l0aW9uLnkgLSB0aGlzLm1heFNsb3RzICogdGhpcy5zbG90SGVpZ2h0LFxuICAgICAgICB4MjogdG9wU2xvdFBvc2l0aW9uLnggKyB0aGlzLnNsb3RXaWR0aCwgeTI6IHRvcFNsb3RQb3NpdGlvbi55XG4gICAgfTtcblxuICAgIGNvbnN0IGluQm91bmRzID0gaXNJbkJvdW5kcyhkcmFnUG9zLCBib3VuZHMpO1xuICAgIGlmIChpbkJvdW5kcykge1xuICAgICAgICAvLyBEbyB0aGUgc3R1ZmZcbiAgICAgICAgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcblxuICAgICAgICAvLyBHZXQgdGhlIHRvcCBjb3JuZXIgcG9zaXRpb24gb2YgdGhlIGRyYWdnaW5nIGl0ZW0gYXMgdGhlIHRhcmdldFxuICAgICAgICBjb25zdCBjb3JuZXJTY3JlZW5Qb3MgPSB7IHg6IGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLngsIHk6IHNjcmVlbkhlaWdodCAtIGRyYWdFbnRpdHkuZWxlbWVudC5zY3JlZW5Db3JuZXJzWzJdLnkgfVxuICAgICAgICBjb25zdCBjb3JuZXJQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChjb3JuZXJTY3JlZW5Qb3MpO1xuXG4gICAgICAgIGNvbnN0IHNsb3RJbmRleCA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKHRvcFNsb3RQb3NpdGlvbi55IC0gY29ybmVyUG9zLnkpIC8gdGhpcy5zbG90SGVpZ2h0KSk7XG4gICAgICAgIHRoaXMucmVvcmRlckxpc3RXaXRoR2FwKGRyYWdFbnRpdHksIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uc2l6ZSwgc2xvdEluZGV4KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5yZW9yZGVyTGlzdFdpdGhHYXAgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSwgZ2FwSW5kZXgpIHtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IHJ1bm5pbmdJbmRleCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW1FbnRpdHkgPSB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllc1tpXTtcblxuICAgICAgICAvLyBEb24ndCByZXBvc2l0aW9uIHRoZSBlbnRpdHkgYmVpbmcgZHJhZ2dlZFxuICAgICAgICBpZiAoZHJhZ0VudGl0eSAhPT0gaW52ZW50b3J5SXRlbUVudGl0eSkge1xuICAgICAgICAgICAgaWYgKGdhcEluZGV4ID49IHJ1bm5pbmdJbmRleCAmJiBnYXBJbmRleCA8IHJ1bm5pbmdJbmRleCArIGludmVudG9yeUl0ZW1FbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5SXRlbUNvbXBvbmVudFwiXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZ0luZGV4ICs9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5uaW5nSW5kZXggKz0gaW52ZW50b3J5SXRlbUVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLnNpemU7XG5cbiAgICAgICAgICAgIGludmVudG9yeUl0ZW1FbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2hpbGUgKHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucG9wKCk7XG4gICAgICAgIGVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEludmVudG9yeURyYWdJY29uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCcpO1xuXG4vKkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcbkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pOyovXG5cblxuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKG5hbWUsIHNpemUpIHtcblxufVxuXG4iLCJleHBvcnQgY29uc3QgSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQnKTtcblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZWZhdWx0QXNzZXQnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnRGVmYXVsdCBBc3NldCcgfSk7XG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7IH1cblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChpY29uQXNzZXRJZCkge1xuICAgIGNvbnN0IGFzc2V0ID0gdGhpcy5hcHAuYXNzZXRzLmdldChpY29uQXNzZXRJZCk7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSBhc3NldDtcblxufVxuXG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pY29uRW50aXR5LmVsZW1lbnQuc3ByaXRlQXNzZXQgPSB0aGlzLmRlZmF1bHRBc3NldDtcbn0iLCJleHBvcnQgY29uc3QgUGxheWVyQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQbGF5ZXJDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkub24oJ2NyZWF0ZWQ6Z2FtZUNoYXJhY3RlcicsICgpID0+IHtcblxuICAgICAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInBsYXllclwiLCBcInN3b3JkXCIpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInBsYXllclwiLCBcInBpc3RvbGV0XCIpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInBsYXllclwiLCBcImZ1c2lsXCIpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInBsYXllclwiLCBcImNoYWlubWFpbFwiKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgXCJwbGF5ZXJcIiwgXCJzaGllbGRcIik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FUVVJUF9JVEVNX1RPX1NMT1QsIFwicGxheWVyXCIsIFwidW5hcm1lZFwiLCBcIjFoYW5kXCIpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfSVRFTV9UT19TTE9ULCBcInBsYXllclwiLCBcInVuYXJtZWRcIiwgXCIyaGFuZFwiKTtcbiAgICB9KVxufTtcbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5jb25zdCB7IFB1cmVNVkMgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQ2Fjb2dlbkdhbWUgfSBmcm9tICcuL3ZpZXcvQ2Fjb2dlbkdhbWUnO1xuXG5pbXBvcnQgeyBOYXZpZ2F0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IFRvYXN0TWVzc2FnZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSGl0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgVUlTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24nO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YW1pbmFCYXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb3J0YWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50JztcbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9kZWZhdWx0QW5pbS9EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ3VlVGV4dENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudCc7XG5pbXBvcnQgeyBBdHRhY2tCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBVc2VJdGVtQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL3VzZUl0ZW1CdXR0b24vVXNlSXRlbUJ1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBWZWhpY2xlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTY3JlZW5SZXNpemVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3BsYXllckluaXQvUGxheWVyQ2hhcmFjdGVyQ29tcG9uZW50JztcblxuXG5jbGFzcyBNYWluIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZSA9IEdhbWVGYWNhZGUuZ2V0SW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKEZhY2FkZSk7XG5cbiAgICAgICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgICAgICB0aGlzLmZhY2FkZS5zdGFydHVwKHRoaXMpO1xuICAgIH1cbn1cblxuY29uc3QgbWFpbiA9IG5ldyBNYWluKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==