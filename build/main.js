(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,d=this._events[s],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,a),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],d=s.length;c<d;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},53:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>le});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(969),a=i(434);const{Facade:s}=i(710);function c(t,e,...i){const c=s.getInstance(t),E=pc.Application.getApplication(),g=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(E),f=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(E,g),y=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(E,g),N=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(E),m=function(t){const e=[];for(const i of t)A(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=a.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);a.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(g);c.hasProxy(r.h.NAME)&&c.removeProxy(r.h.NAME),c.registerProxy(new r.h(g,f,y,N,m)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function A(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),r=new pc.Vec3(t.x+1,t.y,t.z),a=new pc.Vec3(t.x+1,t.y,t.z+1),s=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(h)))))}var E=i(917);const{Proxy:g}=i(710);class f extends g{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(f.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:y}=i(710),{StoryVO:N}=i(553);class m extends y{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],r=t.assets.get(o).resource;i.set(n,r)}super(m.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Facade:C}=i(710);function T(t,e){C.getInstance(t).registerProxy(new E.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;C.getInstance(t).registerProxy(new f(e)),C.getInstance(t).registerProxy(new m)}}const{Facade:_}=i(710);function M(t,e,...i){const o=pc.Application.getApplication(),r=i[0],a=i[1];console.log("Changing scene "+r);const s=o.root.findByName("Root"),c=o.scenes.find(r);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):s&&s.destroy(),_.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),_.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r),_.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,a)}))}function v(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var P=i(958);const{Proxy:b}=i(710),{CombatVO:S}=i(201);class O extends b{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(O.NAME,new S(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(P.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=v(t);for(;"end_round"===e[0];)e=v(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var I=i(448);const{Facade:x}=i(710);function w(t,e,...i){const o=i[0],r=x.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(E.u.NAME).updateGameStateType(I.gameplayModeTypes.COMBAT);const a=r.retrieveProxy(P.b.NAME+o);r.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",a);const s=new Map,c=["player"];s.set("player_team",c);const h=[o].concat(a.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));s.set("opposing_team",h);const d=c.concat(h),l=r.retrieveProxy(P.b.NAME+"player");for(const t of d)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,a.currentNode);const p=new O(d,s);r.registerProxy(p),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:D}=i(710);function L(t,e,...i){const n=D.getInstance(t),o=n.retrieveProxy(E.u.NAME),r=n.retrieveProxy(O.NAME);o.vo.gameplayMode===I.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:R}=i(710);function G(t,e,...i){const o=R.getInstance(t),r=o.retrieveProxy(E.u.NAME),a=o.retrieveProxy(O.NAME);r.vo.gameplayMode===I.gameplayModeTypes.COMBAT&&(a.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,a.vo.nextTurnCharacterId))}const{Facade:k}=i(710);function U(t,e,...i){setTimeout((()=>{const e=k.getInstance(t),i=e.retrieveProxy(O.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}class H{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class V{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==H.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return H.ERROR}close(t){}exit(t){}}class F extends V{tick(t){for(const e of this.children)e.execute(t);return H.SUCCESS}}class B{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class z{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class W{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new z;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class Y{constructor(t){this.id="basicMeleeTree",this.blackboard=new B,this.tree=new W(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class K extends V{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==H.FAILURE)return i}return H.FAILURE}}class q extends V{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),H.SUCCESS}}class j extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),H.SUCCESS}}class X extends V{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),H.SUCCESS}}class $ extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(P.b.NAME+i).availableMovement>0?H.SUCCESS:H.FAILURE}}class Q extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(P.b.NAME+i).currentNode;return e.retrieveProxy(P.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?H.SUCCESS:H.FAILURE}}class J extends V{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==H.SUCCESS)return i===H.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return H.SUCCESS}}class Z extends V{tick(t){const e=this.children[0];if(!e)return H.ERROR;let i=e.execute(t);return i==H.SUCCESS?i=H.FAILURE:i==H.FAILURE&&(i=H.SUCCESS),i}}class tt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(P.b.NAME+i).isDead?H.SUCCESS:H.FAILURE}}class et extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(P.b.NAME+i),s=r.currentNode,c=e.retrieveProxy(P.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(c.length>0){let t=c.reduce(((t,e)=>it(s,t)<it(s,e)?t:e));const o=a.q.calculatePath(s,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,H.SUCCESS}}function it(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class nt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(P.b.NAME+i).isDead?H.SUCCESS:H.FAILURE}}class ot extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(P.b.NAME+i).availableActions>0?H.SUCCESS:H.FAILURE}}class rt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(P.b.NAME+i).availableMovement=0,H.SUCCESS}}class at extends Y{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new F([new K([new J([new q,new Z([new nt]),new Z([new tt]),new K([new J([new Q,new ot,new q,new j,new rt]),new J([new $,new q,new et])])]),new X])])}}const{Facade:st}=i(710);function ct(t,e,...i){const n=i[0],o=st.getInstance(t),a=(o.retrieveProxy(r.h.NAME),o.retrieveProxy(P.b.NAME+n).currentNode);o.retrieveProxy(P.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(a))),(new at).runCommands(o,n)}var ht=i(710);function dt(t,e,...i){const o=ht.Facade.getInstance(t),a=o.retrieveProxy(E.u.NAME),s=o.retrieveProxy(r.h.NAME),c=i[0];s.hasValidNode(c)&&(a.currentMode===I.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):a.currentMode===I.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(O.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:lt}=i(710);function pt(t,e,...i){const n=lt.getInstance(t),o=i[0],r=i[1],s=n.retrieveProxy(P.b.NAME+o),c=s.vo,h=a.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(r)&&ut(n,s,r)}function ut(t,e,i){const o=e.vo,r=a.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function At(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function Et(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function gt(t,e,...i){const o=i[0],r=ht.Facade.getInstance(t),s=r.retrieveProxy(P.b.NAME+o).vo,c=a.q.breadthFirstSearch(s.currentNode,s.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function ft(t,e,...i){const o=ht.Facade.getInstance(t),r=i[0],a=i[1];if(o.retrieveProxy(P.b.NAME+r).currentNode=a,o.retrieveProxy(E.u.NAME).currentMode===I.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(O.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),500))}}function yt(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function Nt(t,e,...i){const o=ht.Facade.getInstance(t),s=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(E.u.NAME),h=o.retrieveProxy(r.h.NAME),d=o.retrieveProxy(P.b.NAME+s),l=o.retrieveProxy(P.b.NAME+"player"),p=o.retrieveProxy(f.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===I.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?mt(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s),o.sendNotification(n.i.START_COMBAT,s)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,s):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,s);else if(c.currentMode===I.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(O.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)mt(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=a.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=a.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function mt(t,e,i){const n=yt(e),o=yt(i);return!t.rayIntersectsWall(n,o)}var Ct=i(829);function Tt(t,e,...i){const o=ht.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(P.b.NAME+r),s=i[1],c=o.retrieveProxy(P.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=Mt(a.skill),d=Mt(c.skill),l=o.retrieveProxy(f.NAME);if(a.availableActions-=1,h===d)o.sendNotification(n.i.DISPLAY_ATTACK+r),o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${h}/${d})`);else if(h>d){const t=_t(h,d),e=l.getDamage(a.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+s),o.sendNotification(n.i.KILL_GAME_CHARACTER,s)):(o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`))}else{const t="melee"===l.getWeaponCategory(c.equippedWeapon),e=_t(d,h),i=t?c.equippedWeapon:Ct.j.UNARMED,p=l.getDamage(i,e);a.applyDamage(p),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${p}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+r),o.sendNotification(n.i.KILL_GAME_CHARACTER,r)):o.sendNotification(n.i.DISPLAY_HIT+r)}const p=o.retrieveProxy(O.NAME);p&&"player"!==p.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function _t(t,e){return t-e}function Mt(t){return t+vt()+vt()}function vt(){return Math.round(6*Math.random())}var Pt=i(321);const{Facade:bt}=i(710);function St(t,e,...i){const o=bt.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(P.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(Pt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function Ot(t,e,...i){const o=ht.Facade.getInstance(t),r=i[0];console.log("Kill character:: "+r);const a=o.retrieveProxy(P.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",a),a&&(a.currentNode.occupied=!1);const s=o.retrieveProxy(O.NAME);s&&s.removeCharacterFromCombat(r)}const{Facade:It}=i(710);function xt(t,e,...i){const o=i[0],r=It.getInstance(t);r.hasMediator(O.NAME)&&r.removeMediator(O.NAME),r.sendNotification(n.i.HIDE_WALKABLE_AREA);const a=r.retrieveProxy(E.u.NAME);"player_team"===o?(a.updateGameStateType(I.gameplayModeTypes.GAME_OVER),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(a.updateGameStateType(I.gameplayModeTypes.EXPLORATION),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}var wt=i(316);class Dt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),H.SUCCESS}}class Lt extends V{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(P.b.NAME+i),s=r.currentNode,c=e.retrieveProxy(P.b.NAME+o).currentNode,h=Math.pow(this.minDistance,2),d=Math.pow(this.maxDistance,2),l=r.availableMovement;r.availableMovement=0;const p=Rt(c,s);if(p>=h&&p<=d)return H.FAILURE;{const t=a.q.breadthFirstSearch(s,l);if(t.length>0){if(p<h){let o=t.reduce(((t,e)=>Rt(c,t)>Rt(c,e)?t:e));const h=a.q.calculatePath(s,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Rt(c,t)<Rt(c,e)?t:e));const h=a.q.calculatePath(s,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),r.currentNode=o)}return H.SUCCESS}return H.FAILURE}}}function Rt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class Gt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}class kt extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(P.b.NAME+i),a=(o.currentNode,e.retrieveProxy(P.b.NAME+n)),s=(a.currentNode,e.retrieveProxy(r.h.NAME)),c=yt(o),h=yt(a);return s.rayIntersectsWall(c,h)?H.FAILURE:H.SUCCESS}}class Ut extends V{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),s=e.retrieveProxy(P.b.NAME+i),c=s.currentNode,h=e.retrieveProxy(P.b.NAME+o),d=h.currentNode.connectedNodes,l=e.retrieveProxy(r.h.NAME),p=d.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>Ht(c,t)<Ht(c,e)?t:e));const o=a.q.calculatePath(c,t);if(o&&o.length>0){const r=s.vo;for(;o.length>r.availableMovement;)o.shift();const a=yt(h);let c=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*s.height,e.z);if(!l.rayIntersectsWall(i,a)){c=t;break}}o.splice(0,c),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),s.currentNode=t}}return s.availableMovement=0,H.SUCCESS}}function Ht(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Vt extends Y{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new F([new K([new J([new q,new Z([new nt]),new Z([new tt]),new K([new J([new $,new Z([new kt]),new Ut]),new J([new $,new K([new Lt(9,12),new Gt])]),new J([new ot,new kt,new Dt])])]),new X])])}}function Ft(t,e,...i){const n=ht.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(P.b.NAME+o).botBehaviour){case wt.r.BASIC_MELEE:(new at).runCommands(n,o);break;case wt.r.BASIC_RANGED:(new Vt).runCommands(n,o)}}var Bt=i(852);function zt(t,e,...i){const o=ht.Facade.getInstance(t);let a=0,s=0;const c=i[0],h=o.retrieveProxy(P.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(P.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode),a+=Wt(h.skill),s+=Wt(p.skill);const A=o.retrieveProxy(f.NAME);o.retrieveProxy(r.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(s+=2);const E=o.retrieveMediator(Bt.N.NAME),g=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),y=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),E.createProjectile("crossbow_bolt",g,y).then((()=>{if(a>s){const t=o.retrieveProxy(O.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(P.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(P.b.NAME+l)}const e=a-s,i=A.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?(o.sendNotification(n.i.DISPLAY_DEATH+l),o.sendNotification(n.i.KILL_GAME_CHARACTER,l)):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(O.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function Wt(t){return t+Yt()+Yt()}function Yt(){return Math.round(6*Math.random())}const{Facade:Kt}=i(710);function qt(t,e,...i){const o=Kt.getInstance(t);if(o.retrieveProxy(E.u.NAME).currentMode===I.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(O.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const r=i[0],a=i[1];o.retrieveProxy(P.b.NAME+r).equippedWeapon=a,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} equips ${a}`)}function jt(t,e,...i){const o=ht.Facade.getInstance(t),a=i[0],s=i[1],c=i[2],h=o.retrieveProxy(r.h.NAME).findNearestNode(a);o.retrieveMediator(Pt.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,s,c)}))}const{Facade:Xt}=i(710);function $t(t,e,...i){const n=Xt.getInstance(t),o=i[0],a=pc.Application.getApplication(),s=a.assets.get(40523336),c=a.root.findByName("WorldObjects"),h=s.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(r.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:Qt}=i(710);function Jt(t,e,...i){const o=Qt.getInstance(t),r=i[0],s=o.retrieveProxy(P.b.NAME+"player"),c=o.retrieveProxy(P.b.NAME+r),h=o.retrieveMediator(Pt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=a.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=a.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(s,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_DIALOGUE,r)}))}const{Facade:Zt}=i(710);function te(t,e,...i){const o=Zt.getInstance(t),r=o.retrieveProxy(E.u.NAME),a=i[0],s=o.retrieveProxy(m.NAME),c=o.retrieveProxy(P.b.NAME+"player"),h=o.retrieveProxy(P.b.NAME+a),d=h.dialogueTree;s.startDialogueTree(d),r.updateGameStateType(I.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=s.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function ee(t,e,...i){const o=ht.Facade.getInstance(t),r=o.retrieveProxy(m.NAME),a=r.continueCurrentNodeStep();a?(a.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:a})):o.sendNotification(n.i.END_DIALOGUE)}function ie(t,e,...i){const o=ht.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(m.NAME),s=a.selectChoice(r);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:s.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:a.currentTree,step:c}),console.log(s),s.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.goto)}function ne(t,e,...i){const o=ht.Facade.getInstance(t),r=o.retrieveProxy(m.NAME),a=i[0];r.goToNode(a);const s=r.getCurrentNodeStep();s?(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:s})):o.sendNotification(n.i.END_DIALOGUE)}const{Facade:oe}=i(710);function re(t,e,...i){const o=oe.getInstance(t);o.retrieveProxy(E.u.NAME).updateGameStateType(I.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:ae}=i(710);function se(t,e,...i){const o=ae.getInstance(t),r=i[0],s=o.retrieveProxy(P.b.NAME+"player"),c=o.retrieveProxy(P.b.NAME+r),h=o.retrieveMediator(Pt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=a.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=a.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(s,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,r),o.sendNotification(n.i.RESOLVE_ATTACK,"player",r)}))}const{Facade:ce}=i(710);function he(t,e,...i){const n=ce.getInstance(t),o=i[0];n.retrieveProxy(E.u.NAME).currentAction=o}const{Facade:de}=i(710);class le extends de{static getInstance(t){return de.instanceMap[t]||(de.instanceMap[t]=new le(t)),de.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return le.NAME+"StartUp"}startup(t){this.sendNotification(le.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(le.STARTUP,T),this.registerCommand(n.i.CHANGE_SCENE,M),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,w),this.registerCommand(n.i.NEXT_COMBAT_TURN,L),this.registerCommand(n.i.NEXT_COMBAT_ROUND,G),this.registerCommand(n.i.END_COMBAT_TURN,U),this.registerCommand(n.i.ENEMY_TURN,ct),this.registerCommand(n.i.SELECTED_NODE,dt),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,pt),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Ft),this.registerCommand(n.i.SHOW_WALKABLE_AREA,At),this.registerCommand(n.i.HIDE_WALKABLE_AREA,Et),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,gt),this.registerCommand(n.i.FINISHED_MOVE,ft),this.registerCommand(n.i.SELECT_GAME_CHARACTER,Nt),this.registerCommand(n.i.RESOLVE_ATTACK,Tt),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,zt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,St),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,se),this.registerCommand(n.i.KILL_GAME_CHARACTER,Ot),this.registerCommand(n.i.END_COMBAT,xt),this.registerCommand(n.i.EQUIP_WEAPON,qt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,jt),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,$t),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,Jt),this.registerCommand(n.i.START_DIALOGUE,te),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,ee),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,ie),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,ne),this.registerCommand(n.i.END_DIALOGUE,re),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,he)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||{},this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return console.log(i),n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=this.getDistSquared(a,t),c=r.get(t)+s;if(!a.occupied&&(!r.has(a)||c<r.get(a))){r.set(a,c);let n=c+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,r=n-e,a=Math.abs(o),s=Math.abs(r);const c=o>0?1:-1,h=r>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<a||e<s;)(.5+t)/a<(.5+e)/s?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),a=i(958);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,s=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=r.q.calculateWaypointsPath(s,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let r=!0;for(;o.length>1&&r;)e.hasValidLine(o[o.length-2],n)?o.pop():r=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(53),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(53),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const A=pc.createScript("GameCharacterComponent");A.attributes.add("characterId",{type:"string",title:"Character Id"}),A.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),A.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),A.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),A.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),A.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"string"}],array:!0}),A.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),A.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),A.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),A.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),A.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},A.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:this.advancedSkills,equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1)},A.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},A.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},A.prototype.update=function(t){this.moveAlongPath(t)},A.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},A.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},A.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},A.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},A.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var E=i(917),g=i(448);const f=pc.createScript("AgroGameCharacterComponent");f.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),f.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},f.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},f.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(E.u.NAME).vo.gameplayMode!==g.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,a=new pc.Vec3(r.x,r.y,r.z),s=new pc.Vec3(n.x,n.y,n.z);if(a.distance(s)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);a.y+=this.characterProxy.height,t.rayIntersectsWall(a,s)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:y}=i(710);class N extends y{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const m=pc.createScript("ToastMessageComponent");m.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),m.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),m.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},m.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},m.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:C}=i(710);class T extends C{static get NAME(){return"InputLayerMediator"}constructor(t){super(T.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const _=pc.createScript("GameCamera");_.attributes.add("distance",{type:"number",default:100,title:"Distance"}),_.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),_.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),_.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),_.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),_.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),_.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(v.NAME)&&this.facade.removeMediator(v.NAME),this.facade.registerMediator(new v(this.entity))},_.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},_.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},_.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},_.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:M}=i(710);class v extends M{static get NAME(){return"GameCameraMediator"}constructor(t){super(v.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const P=pc.createScript("InputLayerComponent");P.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),P.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),P.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(T.NAME)&&this.facade.removeMediator(T.NAME),this.facade.registerMediator(new T(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},P.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},P.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},P.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},P.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},P.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},P.prototype.update=function(t){this.processInputQueue()},P.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},P.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},P.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},P.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:b}=i(710);class S extends b{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(S.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const O=pc.createScript("PlayerCombatPanelComponent");O.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),O.prototype.initialize=function(){},O.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(S.NAME)&&this.facade.removeMediator(S.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new S(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},O.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const I=pc.createScript("HitboxComponent");I.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},I.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},I.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:x}=i(710);class w extends x{static get NAME(){return"ActionPanelMediator"}constructor(t){super(w.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const D=pc.createScript("ActionButtonComponent");D.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),D.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),D.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),D.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},D.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},D.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const L=pc.createScript("ActionPanelComponent");L.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),L.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(w.NAME)&&this.facade.removeMediator(w.NAME),this.facade.registerMediator(new w(this.entity))},L.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var R=i(852);const G=pc.createScript("ProjectileCreatorComponent");G.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),G.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(R.N.NAME)&&this.facade.removeMediator(R.N.NAME),this.facade.registerMediator(new R.N(this.entity))},G.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const k=pc.createScript("ProjectileComponent");k.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),k.prototype.initialize=function(){},k.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},k.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},k.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:U}=i(710);class H extends U{static get NAME(){return"StaminaBarMediator"}constructor(t){super(H.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const V=pc.createScript("StaminaBarComponent");V.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),V.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),V.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(H.NAME)&&this.facade.removeMediator(H.NAME),this.facade.registerMediator(new H(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},V.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:F}=i(710);class B extends F{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(B.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const z=pc.createScript("ActionsRemainingPanelComponent");z.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),z.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(B.NAME)&&this.facade.removeMediator(B.NAME),this.facade.registerMediator(new B(this.entity)),this.pips=[]},z.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},z.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const W=pc.createScript("ActionsRemainingPipComponent");W.attributes.add("pipFront",{type:"entity",title:"Pip front"}),W.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:Y}=i(710);class K extends Y{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const q=pc.createScript("TemporaryFloatingStatusComponent");q.prototype.initialize=function(){},q.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},q.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},q.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,r=i.x/o,a=(this.device.height-i.y)/o;return new pc.Vec3(r,a,0)}};const j=pc.createScript("FloatingStatusCreatorComponent");j.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),j.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),j.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),j.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},j.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:X}=i(710);class $ extends X{static get NAME(){return"PortalMediator"}constructor(t){super($.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(E.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,r=i.standingPoint.getPosition();t.currentMode===g.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,r,n,o)}}const Q=pc.createScript("PortalComponent");Q.attributes.add("portalId",{type:"string",title:"Portal Id"}),Q.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),Q.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),Q.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),Q.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),Q.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator($.NAME)&&this.facade.removeMediator($.NAME),this.facade.registerMediator(new $(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:J}=i(710);class Z extends J{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(Z.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1;break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const tt=pc.createScript("DialoguePanelComponent");tt.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),tt.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),tt.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),tt.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),tt.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),tt.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),tt.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),tt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Z.NAME)&&this.facade.removeMediator(Z.NAME),this.facade.registerMediator(new Z(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},tt.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},tt.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},tt.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},tt.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},tt.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},tt.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},tt.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},tt.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const et=pc.createScript("DialogueChoiceComponent");et.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),et.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),et.prototype.initialize=function(){},et.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},et.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const it=pc.createScript("DefaultAnimationComponent");it.attributes.add("animationName",{type:"string",title:"Animation Name"}),it.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const nt=pc.createScript("DialogueTextComponent");nt.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),nt.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),nt.attributes.add("textContainer",{type:"entity",title:"Text Container"}),nt.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),nt.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),nt.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),nt.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),nt.prototype.initialize=function(){},nt.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},nt.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},nt.prototype.postInitialize=function(){this.setHeight()},nt.prototype.update=function(t){};const{Mediator:ot}=i(710);class rt extends ot{static get NAME(){return"AttackButtonMediator"}constructor(t){super(rt.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const at=pc.createScript("AttackButtonComponent");at.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),at.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(rt.NAME)&&this.facade.removeMediator(rt.NAME),this.facade.registerMediator(new rt(this.entity)),this.entity.element.on("click",this.handleClick,this)},at.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},at.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const st=pc.createScript("VehicleComponent");function ct(t,e){return t.length()<e?t:t.normalize().scale(e)}st.attributes.add("mass",{type:"number",title:"Mass",default:3}),st.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),st.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),st.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),st.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},st.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=ct(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=ct(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},st.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},st.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const ht=pc.createScript("ScreenResizeComponent");ht.prototype.window=window,ht.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},ht.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const{Facade:dt}=i(710),{PureMVC:lt}=i(710);new class{constructor(){lt.debug=!0,dt.getInstance=t.GameFacade.getInstance,console.log(dt),this.facade=dt.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvU2h1ZmZsZUFycmF5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyU3RhdHVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CYXNlTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9HVUlELmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NYXN0ZXJOb2RlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CbGFja2JvYXJkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9UaWNrLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CZWhhdmlvdXJUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQ2hhcmFjdGVyQ29tbWFuZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL1ByaW9yaXR5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNOZXh0VG9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL01lbVNlcXVlbmNlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9kZWNvcmF0b3JzL0ludmVydGVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9IaWRlV2Fsa2FibGVBcmVhQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kTW92ZW1lbnRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0NhblNlZVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljUmFuZ2VkVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Db250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Hb1RvRGlhbG9ndWVOb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dhbWVDb21tYW5kcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9kYXRhL1dlYXBvblR5cGVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9BZGphY2VudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9zdG9yeVByb3h5L1N0b3J5Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L0NhY29nZW5HYW1lLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25CdXR0b25Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2Zsb2F0aW5nU3RhdHVzL2NvbXBvbmVudHMvVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wb3J0YWwvUG9ydGFsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wb3J0YWwvUG9ydGFsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9kZWZhdWx0QW5pbS9EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVRleHRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9hdHRhY2tCdXR0b24vQXR0YWNrQnV0dG9uTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9hdHRhY2tCdXR0b24vQXR0YWNrQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvdmVoaWNsZS9WZWhpY2xlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlB1cmVNVkNfMSIsIlZpZXdfMSIsIkNvbnRyb2xsZXIiLCJrZXkiLCJ0aGlzIiwiY29tbWFuZE1hcCIsImluc3RhbmNlTWFwIiwiRXJyb3IiLCJtdWx0aXRvbktleSIsImxvZ2dlciIsIlB1cmVNVkMiLCJkZWJ1ZyIsImxvZ0NvbW1hbmQiLCJsb2dOb25lIiwiaW5pdGlhbGl6ZUNvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyIiwiZ2V0SW5zdGFuY2UiLCJwcm90b3R5cGUiLCJyZWdpc3RlckNvbW1hbmQiLCJub3RpZmljYXRpb25OYW1lIiwiY29tbWFuZENsYXNzUmVmIiwidmlldyIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJleGVjdXRlQ29tbWFuZCIsImhhc0NvbW1hbmQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDb21tYW5kIiwicmVtb3ZlT2JzZXJ2ZXIiLCJWaWV3IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tbWFuZCIsIl9jb25zb2xlQXJncyIsIm5hbWUiLCJhcHBseSIsImNvbmNhdCIsIkNvbnRyb2xsZXJfMSIsIk1vZGVsXzEiLCJGYWNhZGUiLCJsb2dOb3RpZmljYXRpb24iLCJpbml0aWFsaXplTm90aWZpZXIiLCJpbml0aWFsaXplRmFjYWRlIiwiaGFzQ29yZSIsInJlbW92ZUNvcmUiLCJNb2RlbCIsInJlbW92ZU1vZGVsIiwicmVtb3ZlVmlldyIsImluaXRpYWxpemVNb2RlbCIsImluaXRpYWxpemVWaWV3IiwiY29udHJvbGxlciIsInJlZ2lzdGVyUHJveHkiLCJwcm94eSIsIm1vZGVsIiwicmV0cmlldmVQcm94eSIsInByb3h5TmFtZSIsInJlbW92ZVByb3h5IiwiaGFzUHJveHkiLCJyZWdpc3Rlck1lZGlhdG9yIiwibWVkaWF0b3IiLCJyZXRyaWV2ZU1lZGlhdG9yIiwibWVkaWF0b3JOYW1lIiwicmVtb3ZlTWVkaWF0b3IiLCJzbGVlcE1lZGlhdG9yIiwiYXdha2VNZWRpYXRvciIsImhhc01lZGlhdG9yIiwic2VuZE5vdGlmaWNhdGlvbiIsIl9hIiwibm90aWZ5T2JzZXJ2ZXJzIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJOb3RpZmllcl8xIiwiTWVkaWF0b3IiLCJfc3VwZXIiLCJ2aWV3Q29tcG9uZW50IiwiX3RoaXMiLCJjYWxsIiwibG9nTWVkaWF0b3IiLCJzbGVlcGluZyIsInN1YnNjcmliZWROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldE1lZGlhdG9yTmFtZSIsInNldFZpZXdDb21wb25lbnQiLCJnZXRWaWV3Q29tcG9uZW50Iiwib25SZWdpc3RlciIsIm9uUmVtb3ZlIiwib25TbGVlcCIsIm9uQXdha2UiLCJzdWJzY3JpYmVOb3RpZmljYXRpb24iLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJhZGRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZU5vdGlmaWNhdGlvbiIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImFjdGlvbiIsIm9sZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zIiwic2xpY2UiLCJjaGFuZ2VkIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImluZGV4T2YiLCJwdXNoIiwiaW5kZXgiLCJzcGxpY2UiLCJOb3RpZmllciIsInByb3h5TWFwIiwiZ2V0UHJveHlOYW1lIiwiRmFjYWRlXzEiLCJmYWNhZGUiLCJnZXRGYWNhZGUiLCJQcm94eSIsImRhdGEiLCJsb2dQcm94eSIsInNldERhdGEiLCJnZXREYXRhIiwiY29uc29sZUFyZ3MiLCJjb21tYW5kTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJFdmVudEVtaXR0ZXIiLCJtZWRpYXRvck1hcCIsImV2ZW50RW1pdHRlciIsIm9ic2VydmVyTWV0aG9kIiwiY29udGV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJlbWl0IiwicmVnaXN0ZXJPYnNlcnZlcnMiLCJvbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiYmluZCIsImlzU2xlZXBpbmciLCJyZW1vdmVPYnNlcnZlcnMiLCJpbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMSIsImludGVyZXN0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzIiLCJNZWRpYXRvcl8xIiwiUHJveHlfMSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJpIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJsZW4iLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJtb2R1bGUiLCJOYXZpZ2F0aW9uTm9kZSIsIngiLCJ5IiwieiIsImNvbm5lY3RlZE5vZGVzIiwib2NjdXBpZWQiLCJvdGhlck5vZGUiLCJzb21lIiwibm9kZSIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGVkTm9kZUluZGV4IiwiZmluZEluZGV4IiwiZXF1YWxzIiwicGFyc2VHYW1lTWFwQ29tbWFuZCIsImFwcCIsInBjIiwiQXBwbGljYXRpb24iLCJnZXRBcHBsaWNhdGlvbiIsImZsb29yR3JpZCIsIm5hdmlnYXRpb25GbG9vcnMiLCJyb290IiwiZmluZEJ5VGFnIiwiY29tcGxldGVkR3JpZCIsIm5hdmlnYXRpb25Db21wb25lbnRzIiwiZmxvb3JFbnRpdHkiLCJuYXZDb21wIiwic2NyaXB0IiwiY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IiLCJzZXRHcmlkIiwibmF2aWdhdGlvbkNvbXAiLCJjb25uZWN0ZWRDb21wRW50aXR5IiwiY29ubmVjdGVkQ29tcG9uZW50cyIsImNvbm5lY3RlZE5hdkNvbXAiLCJqb2luVG9BZGphY2VudEdyaWQiLCJnZXRHcmlkIiwiY3JlYXRlTWFwRmxvb3IiLCJ3YWxscyIsIndhbGxzQm91bmRpbmdCb3hlcyIsIm1hcFdhbGxFbnRpdGllcyIsIm1hcFdhbGxFbnRpdHkiLCJhYWJiIiwiY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5IiwiY3JlYXRlRmxvb3JVbmRlcldhbGxzIiwiZGVzdHJveSIsImNyZWF0ZU1hcFdhbGxzIiwiY292ZXIiLCJjb3ZlclBvaW50cyIsImNvdmVyRW50aXRpZXMiLCJjb3ZlckVudGl0eSIsImNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94IiwiY3JlYXRlTWFwQ292ZXIiLCJwb3J0YWxzIiwiTWFwIiwicG9ydGFsRW50aXRpZXMiLCJwb3J0YWxFbnRpdHkiLCJwb3J0YWxDb21wb25lbnQiLCJwb3J0YWxJZCIsInBvcnRhbCIsImRlc3RpbmF0aW9uU2NlbmUiLCJkZXN0aW5hdGlvblBvcnRhbCIsInN0YW5kaW5nUG9pbnQiLCJnZXRQb3NpdGlvbiIsImhpdGJveFBvaW50IiwiaGl0Ym94Iiwic2V0IiwiY3JlYXRlUG9ydGFscyIsIndheXBvaW50c01hcCIsIndheXBvaW50cyIsImZsb29yTm9kZSIsImlzV2F5cG9pbnQiLCJ3YXlwb2ludCIsIm90aGVyV2F5cG9pbnQiLCJsaW5lIiwiQXN0YXIiLCJhZGRDb25uZWN0ZWROb2RlIiwiY3JlYXRlV2F5cG9pbnRzTWFwIiwiR2FtZU1hcFByb3h5IiwiR2FtZUNvbW1hbmRzIiwiYm94RW50aXR5Iiwic2NhbGUiLCJnZXRMb2NhbFNjYWxlIiwiaGFsZkV4dGVudHMiLCJWZWMzIiwiQm91bmRpbmdCb3giLCJ3YWxsIiwid2FsbFBvcyIsIndhbGxTY2FsZSIsIk1hdGgiLCJyb3VuZCIsImNvcm5lclgiLCJjb3JuZXJaIiwibWF0Y2hpbmdOb2RlSW5kZXgiLCJlcXVhbHNQb2ludCIsImRlbGV0ZWROb2RlcyIsImRlbGV0ZWROb2RlIiwiZGlzY29ubmVjdGVkTm9kZSIsImdyaWQiLCJmbG9vclBvc2l0aW9uIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImZsb29yU2l6ZSIsInNuYXBwZWRXaWR0aCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiZ3JpZFRvSm9pbiIsImJveCIsImJveFBvcyIsImJveFNjYWxlIiwiY292ZXJQb2ludCIsImZsb29yTWFwIiwibm9ydGh3ZXN0Iiwibm9ydGgiLCJub3J0aGVhc3QiLCJlYXN0Iiwic291dGhlYXN0Iiwic291dGgiLCJzb3V0aHdlc3QiLCJ3ZXN0IiwibiIsIldlYXBvbnNQcm94eSIsInN1cGVyIiwiTkFNRSIsIndlYXBvbk5hbWUiLCJkYW1hZ2VUaWVyIiwiY2F0ZWdvcnlLZXkiLCJ2byIsImNhdGVnb3J5IiwiZGFtYWdlIiwibWluIiwiU3RvcnlWTyIsIlN0b3J5UHJveHkiLCJzdG9yeVRyZWVzIiwiYXNzZXRzIiwicmVzb3VyY2UiLCJ0cmVlcyIsInN0b3J5VHJlZU1hcCIsInRyZWVLZXkiLCJzdG9yeVRyZWVBc3NldElkIiwic3RvcnlUcmVlIiwiY3VycmVudFRyZWUiLCJjdXJyZW50Tm9kZSIsImN1cnJlbnRTdGVwSW5kZXgiLCJjdXJyZW50Q29uZGl0aW9ucyIsInRyZWVJZCIsInRyZWUiLCJub2RlSWQiLCJub2RlcyIsInN0ZXBJbmRleCIsInN0ZXBzIiwiZ2V0VHJlZSIsImdldE5vZGUiLCJ2YWxpZFN0ZXAiLCJnZXRWYWxpZFN0ZXAiLCJvbmNlQ29uZGl0aW9uIiwiZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCIsImFkZENvbmRpdGlvbiIsIm5leHRWYWxpZFN0ZXAiLCJnZXRTdGVwIiwidGVzdENvbmRpdGlvbnMiLCJjb25kaXRpb25zIiwiZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiY2hvaWNlSW5kZXgiLCJnZXRDdXJyZW50Tm9kZVN0ZXAiLCJjaG9pY2VzIiwiY29uZGl0aW9uIiwic3VjY2VzcyIsIm9yRGVsaW1pdGVyZWQiLCJvckNvbmRpdGlvbnMiLCJzcGxpdCIsIm9yU3VjY2VzcyIsIm9wdGlvbmFsQ29uZGl0aW9uIiwiY2hlY2tDb25kaXRpb24iLCJzdGFydHNXaXRoIiwic3RyaXBwZWRTdHJpbmciLCJyZW1vdmVDb25kaXRpb24iLCJzdGFydHVwQ29tbWFuZCIsIkdhbWVTdGF0ZVByb3h5Iiwid2VhcG9uc0RhdGEiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJmaW5kIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJ0ZWFtcyIsInBhcnRpY2lwYW50UHJveGllcyIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZGVsZXRlIiwiZmlsdGVyIiwiZSIsInRlYW0iLCJjaGFyYWN0ZXJJbmRleCIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwicGxheWVyVGVhbSIsIm9wcG9zaW5nVGVhbSIsImNvbWJhdEdyb3VwIiwiaXRlbSIsInBvcyIsInNlbGYiLCJwbGF5ZXJQcm94eSIsImNvbWJhdFByb3h5IiwibmV4dENvbWJhdFR1cm5Db21tYW5kIiwiZ2FtZVN0YXRlIiwiZ2FtZXBsYXlNb2RlIiwibmV4dFR1cm4iLCJuZXh0Q29tYmF0Um91bmRDb21tYW5kIiwibmV4dFJvdW5kIiwiZW5kQ29tYmF0VHVybkNvbW1hbmQiLCJCZWhhdmlvdXJTdGF0dXMiLCJCYXNlTm9kZSIsImNoaWxkcmVuIiwiaW5pdGlhbGl6ZSIsImlkIiwicyIsImhleERpZ2l0cyIsInN1YnN0ciIsImpvaW4iLCJjcmVhdGVVVUlEIiwidGljayIsIl9lbnRlciIsImJsYWNrYm9hcmQiLCJfb3BlbiIsInN0YXR1cyIsIl90aWNrIiwiUlVOTklORyIsIl9jbG9zZSIsIl9leGl0IiwiZW50ZXJOb2RlIiwiZW50ZXIiLCJvcGVuTm9kZSIsIm9wZW4iLCJ0aWNrTm9kZSIsImNsb3NlTm9kZSIsImNsb3NlIiwiZXhpdE5vZGUiLCJleGl0IiwiRVJST1IiLCJNYXN0ZXJOb2RlIiwiY2hpbGROb2RlIiwiZXhlY3V0ZSIsIlNVQ0NFU1MiLCJCbGFja2JvYXJkIiwiaW5pdGlhbGlzZSIsImJhc2VNZW1vcnkiLCJ0cmVlTWVtb3J5IiwidHJlZVNjb3BlIiwibm9kZU1lbW9yeSIsIm9wZW5Ob2RlcyIsIm5vZGVTY29wZSIsIm1lbW9yeSIsImdldFRyZWVNZW1vcnkiLCJnZXROb2RlTWVtb3J5IiwiZ2V0TWVtb3J5IiwiVGljayIsIm5vZGVDb3VudCIsInRhcmdldCIsInBvcCIsIkJlaGF2aW91clRyZWUiLCJsYXN0T3Blbk5vZGVzIiwiY3Vyck9wZW5Ob2RlcyIsInN0YXJ0IiwiQ2hhcmFjdGVyQ29tbWFuZFRyZWUiLCJQcmlvcml0eSIsImNoaWxkIiwiRkFJTFVSRSIsIlNldFBsYXllckFzVGFyZ2V0IiwiTWVsZWVBdHRhY2tUYXJnZXQiLCJhdHRhY2tlcklkIiwiZGVmZW5kZXJJZCIsIkVuZENvbWJhdFR1cm4iLCJIYXNNb3ZlbWVudFJlbWFpbmluZyIsImF2YWlsYWJsZU1vdmVtZW50IiwiSXNOZXh0VG9QbGF5ZXIiLCJjaGFyYWN0ZXJDdXJyZW50Tm9kZSIsIk1lbVNlcXVlbmNlIiwiSW52ZXJ0ZXIiLCJJc1RhcmdldERlYWQiLCJ0YXJnZXRJZCIsImlzRGVhZCIsIk1vdmVUb3dhcmRzVGFyZ2V0IiwiY2hhcmFjdGVyUHJveHkiLCJyZXN1bHQiLCJyZWR1Y2UiLCJhIiwiZGlzdGFuY2VTcXJ0IiwicGF0aCIsInAxIiwicDIiLCJwb3ciLCJJc0RlYWQiLCJIYXNBY3Rpb25zUmVtYWluaW5nIiwiYXZhaWxhYmxlQWN0aW9ucyIsIlJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyIsIkJhc2ljTWVsZWVUcmVlIiwiZW5lbXlUdXJuQ29tbWFuZCIsImVuZW15SWQiLCJlbmVteUN1cnJlbnROb2RlIiwicnVuQ29tbWFuZHMiLCJzZWxlY3RlZE5vZGVDb21tYW5kIiwiZ2FtZVN0YXRlUHJveHkiLCJnYW1lTWFwUHJveHkiLCJoYXNWYWxpZE5vZGUiLCJjdXJyZW50TW9kZSIsImNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCIsInRhcmdldE5vZGUiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJtb3ZlYWJsZU5vZGVzIiwiaGFuZGxlVmFsaWRNb3ZlIiwic2hvd1dhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZU5vZGVzIiwid2Fsa2FibGVUaWxlQXNzZXQiLCJjb250YWluZXIiLCJ0aWxlIiwiaW5zdGFudGlhdGUiLCJzZXRMb2NhbFBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlVGlsZUVudGl0aWVzIiwid2Fsa2FibGVUaWxlRW50aXR5IiwiYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQiLCJlbmRNb3ZlbWVudENvbW1hbmQiLCJlbmROb2RlIiwiY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSIsImhlaWdodCIsInNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJ0YXJnZXRDaGFyYWN0ZXJQcm94eSIsInBsYXllckNoYXJhY3RlclByb3h5Iiwid2VhcG9uQ2F0ZWdvcnkiLCJnZXRXZWFwb25DYXRlZ29yeSIsImVxdWlwcGVkV2VhcG9uIiwiY3VycmVudEFjdGlvbiIsImNhblNlZVRhcmdldCIsInRhcmdldEN1cnJyZW50Tm9kZSIsImlzVGFyZ2V0QWRqYWNlbnQiLCJwYXRoVG9UYXJnZXQiLCJ1bm9jY3VwaWVkTm9kZXMiLCJwbGF5ZXJOb2RlIiwic2hvcnRlc3RQYXRoIiwib3RoZXJQYXRoIiwibmF2aWdhdGVUb0NoYXJhY3RlciIsInBsYXllclBvaW50IiwidGFyZ2V0UG9pbnQiLCJyYXlJbnRlcnNlY3RzV2FsbCIsInJlc29sdmVBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJQcm94eSIsImRlZmVuZGVyUHJveHkiLCJhdHRhY2tlclJvbGwiLCJyb2xsQXR0YWNrU2tpbGwiLCJza2lsbCIsImRlZmVuZGVyUm9sbCIsIndlYXBvbnNQcm94eSIsImRldGVybWluZURhbWFnZVRpZXIiLCJnZXREYW1hZ2UiLCJhcHBseURhbWFnZSIsImhhc01lbGVlV2VhcG9uIiwid2VhcG9uIiwiV2VhcG9uVHlwZXMiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwicm9sbERpY2UiLCJtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZCIsInVzZU1vdmVtZW50IiwiY2hhcmFjdGVyTWVkaWF0b3IiLCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3IiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlIiwidGhlbiIsImtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQiLCJlbmRDb21iYXRDb21tYW5kIiwibG9zaW5nVGVhbSIsIlJhbmdlQXR0YWNrVGFyZ2V0IiwiTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwidGFyZ2V0Q3VycmVudE5vZGUiLCJtaW5EaXN0YW5jZVNxcnQiLCJtYXhEaXN0YW5jZVNxcnQiLCJtb3ZlUG9pbnRzQXZhaWxhYmxlIiwiZGlzdGFuY2VUb1RhcmdldCIsIlBpY2tOZXh0QWN0aW9uIiwiQ2FuU2VlVGFyZ2V0IiwidGFyZ2V0UHJveHkiLCJmcm9tUG9zIiwidG9Qb3MiLCJNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSIsImRlbGV0ZUNvdW50IiwicGF0aE5vZGUiLCJCYXNpY1JhbmdlZFRyZWUiLCJkZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQiLCJib3RCZWhhdmlvdXIiLCJCb3RCZWhhdmlvdXJUeXBlcyIsInJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kIiwiYXR0YWNrZXJTY29yZSIsImRlZmVuZGVyU2NvcmUiLCJhdHRhY2tlck5vZGUiLCJkZWZlbmRlck5vZGUiLCJpc0luQ292ZXIiLCJwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIiwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsInByb2plY3RpbGVPcmlnaW4iLCJwcm9qZWN0aWxlVGFyZ2V0IiwiY3JlYXRlUHJvamVjdGlsZSIsIm5laWdoYm91cmluZ05vZGVzIiwicG9zc2libGVUYXJnZXRzIiwiZXF1aXBXZWFwb25Db21tYW5kIiwibmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCIsInN0YW5kaW5nUG9zaXRpb24iLCJzdGFuZGluZ05vZGUiLCJmaW5kTmVhcmVzdE5vZGUiLCJtb3ZlVG9Ob2RlV2l0aFByb21pc2UiLCJhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQiLCJwbGF5ZXJDaGFyYWN0ZXJBc3NldCIsInBsYXllckVudGl0eSIsInJldHJpZXZlUG9ydGFsIiwibmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kIiwidGFyZ2V0Q2hhcmFjdGVySWQiLCJwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciIsInN0YXJ0RGlhbG9ndWVDb21tYW5kIiwiZ2FtZXN0YXRlUHJveHkiLCJzdG9yeVByb3h5IiwiZGlhbG9ndWVUcmVlIiwic3RhcnREaWFsb2d1ZVRyZWUiLCJvcGVuaW5nU3RlcCIsInN0ZXAiLCJjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQiLCJuZXh0U3RlcCIsImNvbnRpbnVlQ3VycmVudE5vZGVTdGVwIiwic2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kIiwic2VsZWN0ZWRDaG9pY2UiLCJzZWxlY3RDaG9pY2UiLCJyZXNwb25zZSIsInRpdGxlIiwidGV4dCIsInRpdGxlQ29sb3VyIiwiZ290byIsImdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kIiwibmV3Tm9kZSIsImdvVG9Ob2RlIiwiY3VycmVudFN0ZXAiLCJlbmREaWFsb2d1ZUNvbW1hbmQiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCIsImNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCIsIm5ld0FjdGlvbiIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsImJvdEJlaGF2aW91ckVudW1zIiwiTk9ORSIsIkJBU0lDX01FTEVFIiwiQkFTSUNfUkFOR0VEIiwid2VhcG9uRW51bXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm1hcCIsIkdhbWVDaGFyYWN0ZXJWTyIsInBhcmFtcyIsIm1heE1vdmVtZW50IiwibWF4QWN0aW9uc1BlclR1cm4iLCJjb3N0IiwiZGFtYW5nZSIsImN1cnJlbnRTdGFtaW5hIiwibWF4IiwibWF4aW11bVN0YW1pbmEiLCJtYXhTdGFtaW5hIiwibWF4THVjayIsImN1cnJlbnRMdWNrIiwiYWR2YW5jZWRTa2lsbHMiLCJHYW1lTWFwVk8iLCJtYXBHcmlkIiwid2FsbEJvdW5kaW5nQm94ZXMiLCJuYXZHcmlkIiwibmF2aWdhdGlvbkdyaWQiLCJuZWFyZXN0Tm9kZSIsImRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSIsImRpc3RUb05vZGUiLCJmcm9tIiwidG8iLCJkaXN0YW5jZSIsImRpcmVjdGlvbiIsImNsb25lIiwic3ViIiwibm9ybWFsaXplIiwicmF5IiwiUmF5IiwibWFwV2FsbHMiLCJoaXRQb3NpdGlvbiIsImludGVyc2VjdHNSYXkiLCJhdHRhY2tpbmdGcm9tIiwiYWRqYWNlbnRDb3ZlclBvaW50cyIsImFkamFjZW50UG9pbnRzIiwicG9pbnQiLCJwb2ludHMiLCJnZXRBZGphY2VudFBvaW50cyIsImFkamFjZW50UG9pbnQiLCJhZGphY2VudENvdmVyUG9pbnQiLCJub2RlQSIsIm5vZGVCIiwiUHJpb3JpdHlRdWV1ZSIsInByaW9yaXR5IiwiSW5maW5pdHkiLCJyYW5nZUxpbWl0IiwiZnJvbnRpZXIiLCJzZWFyY2hlZEFyZWEiLCJjYW1lRnJvbSIsInJhbmdlIiwibmV3RnJvbnRpZXIiLCJjdXJyZW50IiwibmV4dCIsImdvYWwiLCJjb3N0U29GYXIiLCJlbXB0eSIsIm5ld0Nvc3QiLCJoZXVyaXN0aWMiLCJwYXRoSXNCcm9rZW4iLCJkaXN0VmFsdWUiLCJnZXREaXN0U3F1YXJlZCIsInB0MSIsInB0MiIsImFicyIsIngwIiwiejAiLCJ4MSIsInoxIiwiZHgiLCJkeSIsIm54IiwibnkiLCJzaWduX3giLCJzaWduX3kiLCJpeCIsIml5IiwiaXNWYWxpZExpbmUiLCJHYW1lU3RhdGVWTyIsIm5ld1N0YXRlVHlwZSIsInNlbGVjdGVkQWN0aW9uIiwiRVhQTE9SQVRJT04iLCJDT01CQVQiLCJESUFMT0dVRSIsIkdBTUVfT1ZFUiIsInByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zIiwidXBkYXRlQ3VycmVudE5vZGUiLCJoYW5kbGVGaW5pc2hlZE1vZGUiLCJmaXJlIiwic2NyaXB0S2V5Iiwic2NyaXB0Q29tcG9uZW50IiwiaGFuZGxlU3RhcnRDb21iYXQiLCJoYW5kbGVOYXZpZ2F0ZVRvTm9kZSIsImhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoIiwiaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlIiwibG9va1BvaW50IiwibG9va0F0UG9pbnQiLCJhbmltYXRlRGVhdGgiLCJhbmltYXRlQXR0YWNrIiwiYW5pbWF0ZUhpdCIsInNldFBhdGgiLCJuZWFyZXN0V2F5cG9pbnQiLCJmaW5kTmVhcmVzdFdheXBvaW50IiwibmVhcmVzdFRhcmdldFdheXBvaW50IiwiaGFzVmFsaWRMaW5lIiwiaGFzTGluZVRvUG9pbnQiLCJ1bnNoaWZ0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWFyY2hOb2RlIiwic2VhcmNoQXJlYSIsInN0b3BNb3ZlbWVudCIsInR5cGUiLCJvcmlnaW5Qb2ludCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwibyIsIm9iaiIsInByb3AiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJDYWNvZ2VuR2FtZSIsImNyZWF0ZVNjcmlwdCIsIktFWSIsInVwZGF0ZSIsImR0IiwiTmF2aWdhdGlvbkNvbXBvbmVudCIsImF0dHJpYnV0ZXMiLCJhZGQiLCJlbnRpdHkiLCJoYW5kbGVSYXlDYXN0IiwiZW5hYmxlZCIsInNjcmVlblBvcyIsIm5vZGVHcmlkIiwiZ2V0TmVhcmVzdE5vZGUiLCJHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiZGVmYXVsdCIsInNjaGVtYSIsImVudW0iLCJwcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwic3RhdHNPdmVycmlkZXMiLCJwcm94eVBhcmFtcyIsImNoYXJhY3RlckhlaWdodCIsImRpYWxvZ3VlVHJlZU5hbWUiLCJjb21iYXRHcm91cE5hbWUiLCJjb21yYWRlRW50aXRpZXMiLCJjb21yYWRlRW50aXR5IiwiY29tcmFkZUlkIiwidmVoaWNsZSIsImFuaW1hdGlvbiIsInBsYXkiLCJsb29wIiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5vZGVQb2ludCIsImNoYXJhY3RlclNwZWVkIiwic2VlayIsImFycml2ZSIsInByb2Nlc3NWZWxvY2l0eSIsImR6IiwiYW5nbGVUb0Rlc3QiLCJhdGFuMiIsIlBJIiwic2V0RXVsZXJBbmdsZXMiLCJBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCIsImhhbmRsZU1hcEdyaWRDcmVhdGVkIiwiaGFuZGxlTW92ZWRUb05vZGUiLCJjaGFyYWN0ZXJQb2ludCIsInNpZ2h0UmFuZ2UiLCJUb2FzdE1lc3NhZ2VNZWRpYXRvciIsImFkZE1lc3NhZ2UiLCJUb2FzdE1lc3NhZ2VDb21wb25lbnQiLCJtZXNzYWdlUXVldWUiLCJjdXJyZW50VGltZW91dCIsIm1lc3NhZ2UiLCJzaG93TmV4dE1lc3NhZ2UiLCJuZXh0TWVzc2FnZSIsImxhYmVsRW50aXR5IiwiZWxlbWVudCIsIm1lc3NhZ2VUaW1lIiwiSW5wdXRMYXllck1lZGlhdG9yIiwiaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciIsImhhbmRsZVBpY2tlck5hdmlnYXRpb24iLCJoYW5kbGVTY3JvbGxpbmciLCJjaGFyYWN0ZXJFbnRpdHkiLCJHYW1lQ2FtZXJhIiwiR2FtZUNhbWVyYU1lZGlhdG9yIiwic2V0Q2FtZXJhVGFyZ2V0IiwiY2FtZXJhVGFyZ2V0Iiwicm90YXRpb24iLCJnZXRFdWxlckFuZ2xlcyIsImNhbWVyYUhlaWdodCIsImhhbmRsZURyYWciLCJkcmFnTXVsdGlwbGllclgiLCJ2ZXJ0aWNhbFNjcm9sbCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsInRhcmdldFoiLCJjb3MiLCJjYW1lcmFUYXJnZXRQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwiY3VycmVudFBvcyIsInR3ZWVuWCIsInR3ZWVuWSIsInR3ZWVuWiIsImxvb2tBdCIsIklucHV0TGF5ZXJDb21wb25lbnQiLCJpbnB1dFF1ZXVlIiwibW91c2UiLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJjbGlja0Rvd25TdGFydCIsImlzRHJhZ2dpbmciLCJoYW5kbGVQaWNrZXJSZXN1bHQiLCJFVkVOVF9NT1VTRU1PVkUiLCJvbk1vdXNlTW92ZSIsIkVWRU5UX01PVVNFRE9XTiIsIm9uTW91c2VEb3duIiwiRVZFTlRfTU9VU0VVUCIsIm9uTW91c2VVcCIsInRvdWNoIiwiRVZFTlRfVE9VQ0hNT1ZFIiwidG91Y2hFdnQiLCJ0b3VjaGVzIiwiRVZFTlRfVE9VQ0hTVEFSVCIsIkVWRU5UX1RPVUNIRU5EIiwiRGF0ZSIsIm5vdyIsImNsaWNrU3RhcnRQb2ludCIsIlZlYzIiLCJkcmFnVGltZSIsImhhbmRsZVJheWNhc3RDb2xsaXNpb25zIiwiY2FtZXJhRW50aXR5IiwiY2FtZXJhQ29tcG9uZW50IiwiY2FtZXJhIiwic2NyZWVuVG9Xb3JsZCIsImZhckNsaXAiLCJvcmlnaW4iLCJjb3B5IiwicGlja2VkRW50aXR5Iiwic2NyZWVuUG9zaXRpb24iLCJwcm9jZXNzSW5wdXRRdWV1ZSIsImhpZ2hlc3RQcmlvcml0eVBpY2siLCJoaWdoZXN0UHJpb3JpdHkiLCJwaWNrIiwicGlja1ByaW9yaXR5IiwidGFncyIsInBpY2tlZEdhbWVDaGFyYWN0ZXIiLCJwaWNrZWROYXZpZ2F0aW9uIiwicGlja2VkUG9ydGFsIiwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciIsImhhbmRsZUVuZFR1cm4iLCJQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCIsImVuZFR1cm5CdXR0b24iLCJjbGlja0VuZFR1cm4iLCJIaXRib3hDb21wb25lbnQiLCJjZW50ZXIiLCJBY3Rpb25QYW5lbE1lZGlhdG9yIiwiaGFuZGxlRmlyZUNvbW1hbmQiLCJhY3Rpb25OYW1lIiwic2VsZWN0QWN0aW9uIiwiQWN0aW9uQnV0dG9uQ29tcG9uZW50IiwiaGlnaGxpZ2h0RW50aXR5IiwiaGFuZGxlQ2hhbmdlQWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJjb21tYW5kcyIsImNvbW1hbmRBcmdzIiwiQWN0aW9uUGFuZWxDb21wb25lbnQiLCJidXR0b24iLCJhY3Rpb25CdXR0b25zIiwic3RvcFByb3BhZ2F0aW9uIiwiUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQiLCJwcm9qZWN0aWxlTmFtZSIsInByb2plY3RpbGVTY2hlbWUiLCJwcm9qZWN0aWxlVHlwZXMiLCJzY2hlbWUiLCJuZXdQcm9qZWN0aWxlIiwicHJvamVjdGlsZVRlbXBsYXRlIiwic2V0VGFyZ2V0IiwiUHJvamVjdGlsZUNvbXBvbmVudCIsIm5ld1Bvc2l0aW9uIiwic3BlZWQiLCJwcm9qZWN0aWxlU3BlZWQiLCJzdWIyIiwibXVsIiwiU3RhbWluYUJhck1lZGlhdG9yIiwibmV3U3RhbWluYSIsInVwZGF0ZVN0YW1pbmEiLCJTdGFtaW5hQmFyQ29tcG9uZW50IiwiYmFyRW50aXR5TWF4V2lkdGgiLCJiYXJFbnRpdHkiLCJ3aWR0aCIsImxlcnAiLCJyZWN0Iiwic3RhbWluYUxhYmVsIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IiLCJtYXhBY3Rpb25zIiwic2hvd0F2YWlsYWJsZUFjdGlvbiIsIkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCIsInBpcHMiLCJjcmVhdGVQaXAiLCJuZXdQaXAiLCJwaXBUZW1wbGF0ZSIsIkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQiLCJzaG93IiwicGlwRnJvbnQiLCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciIsInNjcmlwdENvbXAiLCJmbG9hdGVyTmFtZSIsImRpc3BsYXlTdGF0dXMiLCJUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCIsInNldFdvcmxkUG9zaXRpb24iLCJ3b3JsZFBvc2l0aW9uIiwic2NyZWVuIiwiZGV2aWNlIiwiZ3JhcGhpY3NEZXZpY2UiLCJzY3JlZW5FbnRpdHkiLCJwb3N0VXBkYXRlIiwicG9zaXRpb24iLCJ3b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSIsIndvcmxkUG9zIiwid29ybGRUb1NjcmVlbiIsInBpeGVsUmF0aW8iLCJtYXhQaXhlbFJhdGlvIiwicmF0aW9TY2FsZSIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCIsImZsb2F0aW5nU3RhdHVzZXMiLCJvdGhlclNjaGVtZSIsInRhcmdldFBvcyIsIm5ld1N0YXR1cyIsInRlbXBsYXRlIiwiUG9ydGFsTWVkaWF0b3IiLCJzZWxlY3RlZFBvcnRhbCIsIlBvcnRhbENvbXBvbmVudCIsIkRpYWxvZ3VlUGFuZWxNZWRpYXRvciIsImhhbmRsZUNsaWNrQ29udGludWUiLCJoYW5kbGVDbGlja0Nob2ljZSIsImNsZWFyUGFuZWwiLCJjcmVhdGVTdGVwIiwiY2xlYXJEaWFsb2d1ZUNob2ljZXMiLCJzZXRDb250aW51ZUJ1dHRvbiIsIkRpYWxvZ3VlUGFuZWxDb21wb25lbnQiLCJjb250aW51ZUJ1dHRvbkVudGl0eSIsInN0ZXBEYXRhIiwiY3JlYXRlVGV4dCIsImNob2ljZSIsImNyZWF0ZUNob2ljZSIsIm5ld1RleHQiLCJ0ZXh0RW50cnlUZW1wbGF0ZSIsInNldHVwIiwiZmVlZEVudGl0eSIsInJlc2l6ZVRvQ29udGVudHMiLCJzY3JvbGxiYXJWaWV3RW50aXR5Iiwic2Nyb2xsYmFyIiwibmV3Q2hvaWNlIiwiY2hvaWNlRW50cnlUZW1wbGF0ZSIsImhhbmRsZVNlbGVjdENob2ljZSIsInNwYWNpbmdWZXJ0aWNhbCIsImxheW91dGdyb3VwIiwic3BhY2luZyIsImZlZWRDaGlsZCIsImNvbnRlbnRFbnRpdHkiLCJjb250ZW50SGVpZ2h0IiwiRGlhbG9ndWVDaG9pY2VDb21wb25lbnQiLCJsYWJlbCIsImluZGV4RW50aXR5IiwiRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCIsImFuaW1hdGlvbk5hbWUiLCJEaWFsb2d1ZVRleHRDb21wb25lbnQiLCJ0aXRsZUVudGl0eSIsImNvbG9yIiwiZnJvbVN0cmluZyIsInRodW1ibmFpbCIsInRleHRDb250YWluZXIiLCJ3aXRoSW1hZ2VXaWR0aCIsIndpdGhvdXRJbWFnZVdpZHRoIiwidGh1bWJuYWlsQ29udGFpbmVyIiwiZW5hYmxlIiwiYm9keUVudGl0eSIsInNldEhlaWdodCIsIm1pbkhlaWdodCIsInRleHRDaGlsZCIsIkF0dGFja0J1dHRvbk1lZGlhdG9yIiwiaGFuZGxlVG9nZ2xlQXR0YWNrIiwidG9nZ2xlSGlnaGxpZ2h0IiwiYXR0YWNrRW5hYmxlZCIsIkF0dGFja0J1dHRvbkNvbXBvbmVudCIsImlzRW5hYmxlZCIsIlZlaGljbGVDb21wb25lbnQiLCJjbGFtcFZlYzMiLCJ2ZWMzIiwibWF4VmFsdWUiLCJ2ZWxvY2l0eSIsInN0ZWVyaW5nRm9yY2UiLCJtYXhTcGVlZCIsInlSb3RhdGlvbiIsImRlc2lyZWRWZWxvY2l0eSIsImZvcmNlIiwiYXJyaXZhbFRocmVzaG9sZCIsImFycml2ZVRocmVzaG9sZCIsIlNjcmVlblJlc2l6ZUNvbXBvbmVudCIsIndpbmRvdyIsIm9uUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNjYWxlQmxlbmQiLCJyZWZlcmVuY2VSZXNvbHV0aW9uIiwic3RhcnR1cCJdLCJtYXBwaW5ncyI6IndDQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUFZLEVBQVEsS0FDcEJDLEVBQVMsRUFB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QixFQUFlL2MsT0FDdENqaUIsS0FBSzJ5QixPQUFPbU0sT0FBTzJGLFdBQWEsRUFFaEN6a0MsS0FBSzJ5QixPQUFPbU0sT0FBTzJGLFdBQWEsRUFHcEN6a0MsS0FBSzJ5QixPQUFPbU0sT0FBTzRGLG9CQUFzQixJQUFJajRCLEdBQUdpdEIsS0FBS3NGLEVBQWV4QixNQUFPd0IsRUFBZS9jLFNDcEI5RixNQUFRN2YsT0FBTSxJQUFLLEVBQVEsTUFDckIsUUFBRTlCLElBQVksRUFBUSxLQXVDZixJQVhiLE1BQ0ksY0FDSUEsR0FBUUMsT0FBUSxFQUNoQixHQUFPSyxZQUFjNm9CLEVBQVcsV0FBWCxZQUNyQjFoQixRQUFRQyxJQUFJLElBRVpoSSxLQUFLc0gsT0FBUyxHQUFPMUcsWUFBWTZvQixFQUFXLFdBQVgsS0FDakN6cEIsS0FBS3NILE9BQU9xOUIsUUFBUTNrQyxTIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL1ZpZXdcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJjb250cm9sbGVyIGtleSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZFwiO1xudmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29udHJvbGxlcihrZXkpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kTWFwID0ge307XG4gICAgICAgIGlmIChDb250cm9sbGVyLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dDb21tYW5kIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgIH1cbiAgICBDb250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBDb250cm9sbGVyKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSA9IGNvbW1hbmRDbGFzc1JlZjtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ29tbWFuZChub3RpZmljYXRpb25OYW1lKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlbW92ZU9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuZXhlY3V0ZUNvbW1hbmQsIHRoaXMpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZXhlY3V0ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tbWFuZCA9IHRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIoQ29udHJvbGxlci5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQuYXBwbHkodm9pZCAwLCBbdGhpcy5tdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNENEJGRTBcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzg3MjRCRFwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM2RTI5OTRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzNGMjM0RVwiXG4gICAgXTtcbiAgICBDb250cm9sbGVyLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIENvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2xsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL0NvbnRyb2xsZXJcIik7XG52YXIgTW9kZWxfMSA9IHJlcXVpcmUoXCIuL01vZGVsXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIkZhY2FkZSBpbnN0YW5jZSBmb3IgdGhpcyBNdWx0aXRvbiBrZXkgYWxyZWFkeSBjb25zdHJ1Y3RlZCFcIjtcbnZhciBGYWNhZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFjYWRlKGtleSkge1xuICAgICAgICBpZiAoRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVOb3RpZmllcihrZXkpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVGYWNhZGUoKTtcbiAgICB9XG4gICAgRmFjYWRlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgRmFjYWRlLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgRmFjYWRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgRmFjYWRlLmhhc0NvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEZhY2FkZS5yZW1vdmVDb3JlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE1vZGVsXzEuTW9kZWwucmVtb3ZlTW9kZWwoa2V5KTtcbiAgICAgICAgVmlld18xLlZpZXcucmVtb3ZlVmlldyhrZXkpO1xuICAgICAgICBDb250cm9sbGVyXzEuQ29udHJvbGxlci5yZW1vdmVDb250cm9sbGVyKGtleSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlckNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZWdpc3RlckNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZENsYXNzUmVmKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yZW1vdmVDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHRoaXMubW9kZWwucmVnaXN0ZXJQcm94eShwcm94eSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJldHJpZXZlUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5yZW1vdmVQcm94eShwcm94eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5oYXNQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuaGFzUHJveHkocHJveHlOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmVnaXN0ZXJNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvcikge1xuICAgICAgICB0aGlzLnZpZXcucmVnaXN0ZXJNZWRpYXRvcihtZWRpYXRvcik7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucmV0cmlldmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZW1vdmVNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnNsZWVwTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5hd2FrZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lmhhc01lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNlbmROb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLmFwcGx5KHRoaXMsIFtGYWNhZGUuX2NvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgICAgICAoX2EgPSB0aGlzLnZpZXcpLm5vdGlmeU9ic2VydmVycy5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVOb3RpZmllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBDb250cm9sbGVyXzEuQ29udHJvbGxlci5nZXRJbnN0YW5jZSh0aGlzLm11bHRpdG9uS2V5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW9kZWwgPSBNb2RlbF8xLk1vZGVsLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlldyA9IFZpZXdfMS5WaWV3LmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMkYyRTE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiNGRkYzMjVcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjREVENDM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiM3NTcxMzBcIlxuICAgIF07XG4gICAgRmFjYWRlLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIEZhY2FkZTtcbn0oKSk7XG5leHBvcnRzLkZhY2FkZSA9IEZhY2FkZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2FkZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIk1lZGlhdG9yXCI7XG52YXIgTWVkaWF0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1lZGlhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lZGlhdG9yKG1lZGlhdG9yTmFtZSwgdmlld0NvbXBvbmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ01lZGlhdG9yIDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgX3RoaXMubWVkaWF0b3JOYW1lID0gbWVkaWF0b3JOYW1lIHx8IE5BTUU7XG4gICAgICAgIF90aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICBfdGhpcy5zbGVlcGluZyA9IHRydWU7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zID0gW107XG4gICAgICAgIF90aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJub3RpZmljYXRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmVkTm90aWZpY2F0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldE1lZGlhdG9yTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JOYW1lO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnNldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAodmlld0NvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLmdldFZpZXdDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlZ2lzdGVyXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblNsZWVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwic2xlZXBcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25Bd2FrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zbGVlcGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJhd2FrZVwiKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYXRvci5wcm90b3R5cGUsIFwiaXNTbGVlcGluZ1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xlZXBpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmFkZFN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUudW5zdWJzY3JpYmVOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB0aGlzLmNoYW5nZVN1YnNjcmlwdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLnJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuY2hhbmdlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGFjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgb2xkTm90aWZpY2F0aW9ucyA9IHRoaXMubm90aWZpY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uTmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBub3RpZmljYXRpb25OYW1lLmZvckVhY2goZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbChfdGhpcywgbm90aWZpY2F0aW9uKSB8fCBjaGFuZ2VkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGFuZ2VkID0gYWN0aW9uLmNhbGwodGhpcywgbm90aWZpY2F0aW9uTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKHRoaXMsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuYWRkU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5ub3RpZmljYXRpb25zLmluZGV4T2Yobm90aWZpY2F0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUucmVtb3ZlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLl9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjRjRGNkZFXCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMzNjU2QzFcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMzY0RDk4XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyQTMzNTFcIlxuICAgIF07XG4gICAgcmV0dXJuIE1lZGlhdG9yO1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZWRpYXRvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIk1vZGVsIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIE1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGVsKGtleSkge1xuICAgICAgICB0aGlzLnByb3h5TWFwID0ge307XG4gICAgICAgIGlmIChNb2RlbC5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNb2RlbCgpO1xuICAgIH1cbiAgICBNb2RlbC5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlTWFwW2tleV0gPSBuZXcgTW9kZWwoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgTW9kZWwucmVtb3ZlTW9kZWwgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVnaXN0ZXJQcm94eSA9IGZ1bmN0aW9uIChwcm94eSkge1xuICAgICAgICBwcm94eS5pbml0aWFsaXplTm90aWZpZXIodGhpcy5tdWx0aXRvbktleSk7XG4gICAgICAgIHRoaXMucHJveHlNYXBbcHJveHkuZ2V0UHJveHlOYW1lKCldID0gcHJveHk7XG4gICAgICAgIHByb3h5Lm9uUmVnaXN0ZXIoKTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZXRyaWV2ZVByb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUucmVtb3ZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0pIHtcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHRoaXMucHJveHlNYXBbcHJveHlOYW1lXTtcbiAgICAgICAgICAgIHByb3h5Lm9uUmVtb3ZlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLmluaXRpYWxpemVNb2RlbCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBNb2RlbC5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBNb2RlbDtcbn0oKSk7XG5leHBvcnRzLk1vZGVsID0gTW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9GYWNhZGVcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJtdWx0aXRvbktleSBmb3IgdGhpcyBOb3RpZmllciBub3QgeWV0IGluaXRpYWxpemVkIVwiO1xudmFyIE5vdGlmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vdGlmaWVyKCkge1xuICAgIH1cbiAgICBOb3RpZmllci5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmZhY2FkZSA9IHRoaXMuZ2V0RmFjYWRlKCk7XG4gICAgfTtcbiAgICBOb3RpZmllci5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZmFjYWRlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmZhY2FkZSkuc2VuZE5vdGlmaWNhdGlvbi5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5nZXRGYWNhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm11bHRpdG9uS2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlXzEuRmFjYWRlLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgcmV0dXJuIE5vdGlmaWVyO1xufSgpKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENyZWF0ZWQgYnkgc2FyZ2lzIG9uIDcvNC8xNy5cbiAqL1xudmFyIE5vdGlmaWVyXzEgPSByZXF1aXJlKFwiLi9Ob3RpZmllclwiKTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9QdXJlTVZDXCIpO1xudmFyIE5BTUUgPSBcIlByb3h5XCI7XG52YXIgUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3h5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb3h5KHByb3h5TmFtZSwgZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm94eU5hbWUgPSBwcm94eU5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMubG9nZ2VyID0gUHVyZU1WQ18xLlB1cmVNVkMuZGVidWcgPyBQdXJlTVZDXzEuUHVyZU1WQy5sb2dQcm94eSA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUHJveHkucHJvdG90eXBlLmdldFByb3h5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHlOYW1lO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH07XG4gICAgUHJveHkucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFByb3h5Ll9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcInJlbW92ZVwiKTtcbiAgICB9O1xuICAgIFByb3h5Ll9jb25zb2xlQXJncyA9IFtcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiY29sb3I6IFwiICsgXCIjMTAyNDE1XCIgKyBcIjsgYmFja2dyb3VuZDogXCIgKyBcIiMyN0QwNENcIiArIFwiO1wiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkZBQTRBXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyOTVBMzRcIlxuICAgIF07XG4gICAgcmV0dXJuIFByb3h5O1xufShOb3RpZmllcl8xLk5vdGlmaWVyKSk7XG5leHBvcnRzLlByb3h5ID0gUHJveHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm94eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQdXJlTVZDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFB1cmVNVkMoKSB7XG4gICAgfVxuICAgIFB1cmVNVkMubG9nQ29tbWFuZCA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZE5hbWUpIHtcbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiID0+ICBcIiArIGNvbW1hbmROYW1lICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5vdGlmaWNhdGlvbk5hbWUgKyBcIjogYXJncyBbIFwiICsgYXJncyArIFwiIF0gJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTWVkaWF0b3IgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nUHJveHkgPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5hbWUsIGFjdGlvbikge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBuYW1lICsgXCI6IFwiICsgYWN0aW9uICsgXCIgJWMgJWMgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGNvbnNvbGVBcmdzKTtcbiAgICB9O1xuICAgIFB1cmVNVkMubG9nTm9uZSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncykge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVyZU1WQy5kZWJ1ZyA9IHRydWU7XG4gICAgcmV0dXJuIFB1cmVNVkM7XG59KCkpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1cmVNVkMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50ZW1pdHRlcjNcIik7XG52YXIgTVVMVElUT05fTVNHID0gXCJWaWV3IGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlldyhrZXkpIHtcbiAgICAgICAgdGhpcy5tZWRpYXRvck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgaWYgKFZpZXcuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplVmlldygpO1xuICAgIH1cbiAgICBWaWV3LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBWaWV3KGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucmVtb3ZlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5vdGlmaWNhdGlvbk5hbWUsIG9ic2VydmVyTWV0aG9kLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24obm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmV2ZW50RW1pdHRlcikuZW1pdC5hcHBseShfYSwgW25vdGlmaWNhdGlvbk5hbWUsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhdG9yLmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIG1lZGlhdG9yIGZvciByZXRyaWV2YWwgYnkgbmFtZVxuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yLmdldE1lZGlhdG9yTmFtZSgpXSA9IG1lZGlhdG9yO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgbWVkaWF0b3Iub25SZWdpc3Rlcih0aGlzLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIG1lZGlhdG9yLm9uQXdha2UoKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmF3YWtlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIGF3YWtlblxuICAgICAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJldHJpZXZlTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbWVkaWF0b3IgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgbWVkaWF0b3Iub25SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5zbGVlcE1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgaWYgKG1lZGlhdG9yLmlzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWF0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvcik7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiBzbGVwdFxuICAgICAgICAgICAgbWVkaWF0b3Iub25TbGVlcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmhhc01lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplVmlldyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlcnMgPSBmdW5jdGlvbiAobWVkaWF0b3IsIGludGVyZXN0cykge1xuICAgICAgICAvLyBmb3IgZXZlcnkgbm90aWZpY2F0aW9uIHRoZSBtZWRpYXRvciBpcyBpbnRlcmVzdGVkIGluLi4uXG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgaWYgKG5vdGlmaWNhdGlvbkludGVyZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG5vdGlmaWNhdGlvbkludGVyZXN0c18xID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzOyBfaSA8IG5vdGlmaWNhdGlvbkludGVyZXN0c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcmVzdCA9IG5vdGlmaWNhdGlvbkludGVyZXN0c18xW19pXTtcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmVzdFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXIoaW50ZXJlc3QsIG1lZGlhdG9yLmhhbmRsZU5vdGlmaWNhdGlvbiwgbWVkaWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5yZWdpc3Rlck9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGdldCBub3RpZmljYXRpb24gaW50ZXJlc3RzIGlmIGFueVxuICAgICAgICB2YXIgbm90aWZpY2F0aW9uSW50ZXJlc3RzID0gaW50ZXJlc3RzIHx8IG1lZGlhdG9yLm5vdGlmaWNhdGlvbnM7XG4gICAgICAgIC8vIHJlZ2lzdGVyIG1lZGlhdG9yIGFzIGFuIG9ic2VydmVyIGZvciBlYWNoIG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzJbX2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UgPSBmdW5jdGlvbiAobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IsIG9sZE5vdGlmaWNhdGlvbnMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIFZpZXcuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gVmlldztcbn0oKSk7XG5leHBvcnRzLlZpZXcgPSBWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlldy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBDb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlclwiKTtcbmV4cG9ydHMuQ29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyO1xudmFyIEZhY2FkZV8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL0ZhY2FkZVwiKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlXzEuRmFjYWRlO1xudmFyIE1lZGlhdG9yXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTWVkaWF0b3JcIik7XG5leHBvcnRzLk1lZGlhdG9yID0gTWVkaWF0b3JfMS5NZWRpYXRvcjtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL01vZGVsXCIpO1xuZXhwb3J0cy5Nb2RlbCA9IE1vZGVsXzEuTW9kZWw7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Ob3RpZmllclwiKTtcbmV4cG9ydHMuTm90aWZpZXIgPSBOb3RpZmllcl8xLk5vdGlmaWVyO1xudmFyIFByb3h5XzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHJveHlcIik7XG5leHBvcnRzLlByb3h5ID0gUHJveHlfMS5Qcm94eTtcbnZhciBQdXJlTVZDXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQ1wiKTtcbmV4cG9ydHMuUHVyZU1WQyA9IFB1cmVNVkNfMS5QdXJlTVZDO1xudmFyIFZpZXdfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9WaWV3XCIpO1xuZXhwb3J0cy5WaWV3ID0gVmlld18xLlZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG59XG4iLCJleHBvcnQgY2xhc3MgTmF2aWdhdGlvbk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZE5vZGVzLnNvbWUobm9kZSA9PiBub2RlLnggPT09IG90aGVyTm9kZS54XG4gICAgICAgICAgICAmJiBub2RlLnkgPT09IG90aGVyTm9kZS55ICYmIG5vZGUueiA9PT0gb3RoZXJOb2RlLnopO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0gb3RoZXJOb2RlLnggJiYgdGhpcy55ID09PSBvdGhlck5vZGUueSAmJiB0aGlzLnogPT09IG90aGVyTm9kZS56O1xuICAgIH1cblxuICAgIGVxdWFsc1BvaW50KHgsIHksIHopIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCA9PT0geCAmJiB0aGlzLnkgPT09IHkgJiYgdGhpcy56ID09PSB6O1xuICAgIH1cblxuICAgIGFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZChvdGhlck5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnB1c2gob3RoZXJOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RlZE5vZGUob3RoZXJOb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVJbmRleCA9IHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZEluZGV4KG5vZGUgPT4gbm9kZS5lcXVhbHMob3RoZXJOb2RlKSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMuc3BsaWNlKGNvbm5lY3RlZE5vZGVJbmRleCwgMSk7XG4gICAgfVxufSIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL05hdmlnYXRpb25Ob2RlJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUdhbWVNYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAvLyBPbmNlIGEgZ2FtZU1hcCBzY2VuZSBpcyBsb2FkZWQsIHBhcnNlIGdhbWVNYXAgVk8sIGdlbmVyYXRlIG5hdiBtZXNoLCBldGNcbiAgICAvLyBHZXQgbmF2aWdhdGlvbiBmbG9vcnNcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZU1hcEZsb29yKGFwcCk7XG4gICAgY29uc3Qgd2FsbHMgPSBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgY292ZXIgPSBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCk7XG4gICAgY29uc3QgcG9ydGFscyA9IGNyZWF0ZVBvcnRhbHMoYXBwKTtcblxuICAgIC8vIHdheXBvaW50c1xuICAgIGNvbnN0IHdheXBvaW50c01hcCA9IGNyZWF0ZVdheXBvaW50c01hcChmbG9vckdyaWQpO1xuXG4gICAgLy8gUmVnaXN0ZXIgbWVkaWF0b3JzXG5cbiAgICBpZiAoZmFjYWRlLmhhc1Byb3h5KEdhbWVNYXBQcm94eS5OQU1FKSkge1xuICAgICAgICAvLyByZW1vdmUgb2xkIG1hcFxuICAgICAgICBmYWNhZGUucmVtb3ZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpXG4gICAgfVxuXG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVNYXBQcm94eShmbG9vckdyaWQsIHdhbGxzLCBjb3ZlciwgcG9ydGFscywgd2F5cG9pbnRzTWFwKSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBGbG9vcihhcHApIHtcbiAgICBjb25zdCBuYXZpZ2F0aW9uRmxvb3JzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCduYXZpZ2F0aW9uX2Zsb29yJyk7XG5cbiAgICBsZXQgY29tcGxldGVkR3JpZCA9IFtdO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkNvbXBvbmVudHMgPSBbXTtcbiAgICAvLyBGaXJzdCBwYXJzZSAtIGNyZWF0ZSBub2RlcyBhbmQgY29ubmVjdGlvbnMgZm9yIGluZGl2aWR1YWwgXG4gICAgLy8gbmF2aWdhdGlvbiBjb21wb25lbnRzXG4gICAgZm9yIChjb25zdCBmbG9vckVudGl0eSBvZiBuYXZpZ2F0aW9uRmxvb3JzKSB7XG4gICAgICAgIGNvbnN0IG5hdkNvbXAgPSBmbG9vckVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICAgICAgbmF2aWdhdGlvbkNvbXBvbmVudHMucHVzaChuYXZDb21wKTtcblxuICAgICAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSlcbiAgICAgICAgbmF2Q29tcC5zZXRHcmlkKGZsb29yR3JpZCk7XG4gICAgfVxuXG4gICAgLy8gU2Vjb25kIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21wbGV0ZWRHcmlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBXYWxscyhhcHAsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxzQm91bmRpbmdCb3hlcyA9IFtdO1xuICAgIGNvbnN0IG1hcFdhbGxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2FsbCcpO1xuICAgIGZvciAoY29uc3QgbWFwV2FsbEVudGl0eSBvZiBtYXBXYWxsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgYWFiYiA9IGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShtYXBXYWxsRW50aXR5KTtcbiAgICAgICAgd2FsbHNCb3VuZGluZ0JveGVzLnB1c2goYWFiYik7XG4gICAgICAgIGNyZWF0ZUZsb29yVW5kZXJXYWxscyhtYXBXYWxsRW50aXR5LCBmbG9vckdyaWQpO1xuICAgICAgICBtYXBXYWxsRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2FsbHNCb3VuZGluZ0JveGVzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvdW5kaW5nQm94RnJvbUVudGl0eShib3hFbnRpdHkpIHtcbiAgICBjb25zdCBzY2FsZSA9IGJveEVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICBjb25zdCBhYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KGJveEVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgcmV0dXJuIGFhYmI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZsb29yVW5kZXJXYWxscyh3YWxsLCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YWxsUG9zID0gd2FsbC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHdhbGxTY2FsZSA9IHdhbGwuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKHdhbGxQb3MueSAtICh3YWxsU2NhbGUueSAqIDAuNSkpO1xuXG4gICAgY29uc3QgY29ybmVyWCA9IE1hdGgucm91bmQod2FsbFBvcy54IC0gKHdhbGxTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQod2FsbFBvcy56IC0gKHdhbGxTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyB3YWxsU2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIHdhbGxTY2FsZS56OyB6KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSkge1xuICAgIC8vIHNuYXAgdG8gZ3JpZFxuICAgIGNvbnN0IGdyaWQgPSBbXTtcblxuICAgIGNvbnN0IGZsb29yUG9zaXRpb24gPSBmbG9vckVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JTaXplID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuXG4gICAgY29uc3Qgc25hcHBlZFdpZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueCk7XG4gICAgY29uc3Qgc25hcHBlZEJyZWFkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS56KTtcblxuICAgIGNvbnN0IHNuYXBwZWRYID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnggLSAoc25hcHBlZFdpZHRoIC8gMikpO1xuICAgIGNvbnN0IHNuYXBwZWRZID0gZmxvb3JQb3NpdGlvbi55O1xuICAgIGNvbnN0IHNuYXBwZWRaID0gTWF0aC5yb3VuZChmbG9vclBvc2l0aW9uLnogLSAoc25hcHBlZEJyZWFkdGggLyAyKSk7XG5cbiAgICBmb3IgKGxldCB6ID0gc25hcHBlZFo7IHogPCBzbmFwcGVkWiArIHNuYXBwZWRCcmVhZHRoOyB6KyspIHtcbiAgICAgICAgZm9yIChsZXQgeCA9IHNuYXBwZWRYOyB4IDwgc25hcHBlZFggKyBzbmFwcGVkV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBOYXZpZ2F0aW9uTm9kZSh4LCBzbmFwcGVkWSwgeik7XG4gICAgICAgICAgICBncmlkLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmZ1bmN0aW9uIGpvaW5Ub0FkamFjZW50R3JpZChncmlkLCBncmlkVG9Kb2luKSB7XG4gICAgLy8gQ29ubmVjdCBuZWlnaGJvdXJzXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGdyaWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBvdGhlck5vZGUgb2YgZ3JpZFRvSm9pbikge1xuICAgICAgICAgICAgaWYgKG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggLSAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54ICsgMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogLSAxKSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56ICsgMSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLmFkZENvbm5lY3RlZE5vZGUob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTWFwQ292ZXIoYXBwLCBmbG9vckdyaWQpIHtcbiAgICBsZXQgY292ZXJQb2ludHMgPSBbXTtcbiAgICBjb25zdCBjb3ZlckVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCdjb3ZlcicpO1xuICAgIGZvciAoY29uc3QgY292ZXJFbnRpdHkgb2YgY292ZXJFbnRpdGllcykge1xuICAgICAgICBjb3ZlclBvaW50cyA9IGNvdmVyUG9pbnRzLmNvbmNhdChjcmVhdGVDb3ZlclBvaW50RnJvbUJveChjb3ZlckVudGl0eSwgZmxvb3JHcmlkKSk7XG4gICAgICAgIGNvdmVyRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY292ZXJQb2ludHM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQ292ZXJQb2ludEZyb21Cb3goYm94LCBmbG9vckdyaWQpIHtcbiAgICBjb25zdCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGJveFBvcyA9IGJveC5nZXRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJveFNjYWxlID0gYm94LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZChib3hQb3MueSAtIChib3hTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZChib3hQb3MueCAtIChib3hTY2FsZS54ICogMC41KSk7XG4gICAgY29uc3QgY29ybmVyWiA9IE1hdGgucm91bmQoYm94UG9zLnogLSAoYm94U2NhbGUueiAqIDAuNSkpO1xuXG4gICAgZm9yIChsZXQgeCA9IGNvcm5lclg7IHggPCBjb3JuZXJYICsgYm94U2NhbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAobGV0IHogPSBjb3JuZXJaOyB6IDwgY29ybmVyWiArIGJveFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgY292ZXJQb2ludCA9IG5ldyBwYy5WZWMzKHgsIHksIHopO1xuICAgICAgICAgICAgY292ZXJQb2ludHMucHVzaChjb3ZlclBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZUluZGV4ID0gZmxvb3JHcmlkLmZpbmRJbmRleCgobm9kZSkgPT4gbm9kZS5lcXVhbHNQb2ludCh4LCB5LCB6KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZWROb2RlcyA9IGZsb29yR3JpZC5zcGxpY2UobWF0Y2hpbmdOb2RlSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWxldGVkTm9kZSBvZiBkZWxldGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGRlbGV0ZWROb2RlLmNvbm5lY3RlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRpc2Nvbm5lY3RlZE5vZGUoZGVsZXRlZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVQb3J0YWxzKGFwcCkge1xuICAgIGNvbnN0IHBvcnRhbHMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcG9ydGFsRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3BvcnRhbCcpO1xuICAgIGZvciAoY29uc3QgcG9ydGFsRW50aXR5IG9mIHBvcnRhbEVudGl0aWVzKSB7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHBvcnRhbEVudGl0eS5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBwb3J0YWxJZCA9IHBvcnRhbENvbXBvbmVudC5wb3J0YWxJZDtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblNjZW5lO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IHBvcnRhbENvbXBvbmVudC5kZXN0aW5hdGlvblBvcnRhbDtcbiAgICAgICAgY29uc3Qgc3RhbmRpbmdQb2ludCA9IHBvcnRhbENvbXBvbmVudC5zdGFuZGluZ1BvaW50LmdldFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhpdGJveFBvaW50ID0gcG9ydGFsQ29tcG9uZW50LmhpdGJveC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IHBvcnRhbCA9IHtcbiAgICAgICAgICAgIHBvcnRhbElkOiBwb3J0YWxJZCxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uU2NlbmU6IGRlc3RpbmF0aW9uU2NlbmUsXG4gICAgICAgICAgICBkZXN0aW5hdGlvblBvcnRhbDogZGVzdGluYXRpb25Qb3J0YWwsXG4gICAgICAgICAgICBzdGFuZGluZ1BvaW50OiBzdGFuZGluZ1BvaW50LFxuICAgICAgICAgICAgaGl0Ym94UG9pbnQ6IGhpdGJveFBvaW50XG4gICAgICAgIH1cblxuICAgICAgICBwb3J0YWxzLnNldChwb3J0YWxJZCwgcG9ydGFsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9ydGFscztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVXYXlwb2ludHNNYXAoZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2F5cG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBmbG9vck5vZGUgb2YgZmxvb3JHcmlkKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRpYWdvbmFscyBpbnRlcnNlY3Qgd2FsbHNcblxuICAgICAgICBpZiAoaXNXYXlwb2ludChmbG9vck5vZGUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgIHdheXBvaW50cy5wdXNoKG5ldyBOYXZpZ2F0aW9uTm9kZShmbG9vck5vZGUueCwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHdheXBvaW50IG9mIHdheXBvaW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyV2F5cG9pbnQgb2Ygd2F5cG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAoIXdheXBvaW50LmVxdWFscyhvdGhlcldheXBvaW50KSB8fCAhb3RoZXJXYXlwb2ludC5pc0Nvbm5lY3RlZCh3YXlwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gQXN0YXIuY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh3YXlwb2ludC54LCB3YXlwb2ludC56LCBvdGhlcldheXBvaW50LngsIG90aGVyV2F5cG9pbnQueik7XG4gICAgICAgICAgICAgICAgaWYgKEFzdGFyLmNoZWNrVmFsaWRMaW5lKGxpbmUsIGZsb29yR3JpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2F5cG9pbnQuYWRkQ29ubmVjdGVkTm9kZShvdGhlcldheXBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJXYXlwb2ludC5hZGRDb25uZWN0ZWROb2RlKHdheXBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd2F5cG9pbnRzO1xufVxuXG5mdW5jdGlvbiBpc1dheXBvaW50KGZsb29yTm9kZSwgZmxvb3JNYXApIHtcbiAgICAvL0NoZWNrIG53XG4gICAgY29uc3Qgbm9ydGh3ZXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggLSAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogLSAxKTtcbiAgICBjb25zdCBub3J0aGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG4gICAgY29uc3Qgc291dGhlYXN0ID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLnggKyAxLCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnogKyAxKTtcbiAgICBjb25zdCBzb3V0aHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueik7XG5cbiAgICAvLyBub3J0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3J0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhub3J0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aGVhc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aGVhc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVhc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzb3V0aHdlc3RcbiAgICBpZiAoIWZsb29yTWFwLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aHdlc3QpKSkge1xuICAgICAgICBpZiAoZmxvb3JOb2RlLmNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhzb3V0aCkpXG4gICAgICAgICAgICAmJiBmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHdlc3QpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBXZWFwb25zUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiV2VhcG9uc1Byb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgc3VwZXIoV2VhcG9uc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldERhbWFnZSh3ZWFwb25OYW1lLCBkYW1hZ2VUaWVyKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeVt3ZWFwb25OYW1lXS5kYW1hZ2VbTWF0aC5taW4oZGFtYWdlVGllciAtIDEsIDYpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcbiAgICB9XG5cbiAgICBnZXRXZWFwb25DYXRlZ29yeSh3ZWFwb25OYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnlLZXkgaW4gdGhpcy52bykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudm8sIGNhdGVnb3J5S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy52b1tjYXRlZ29yeUtleV07XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNhdGVnb3J5LCB3ZWFwb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlLZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2F0ZWdvcnkgZm9yIHdlYXBvbjo6ICR7d2VhcG9uTmFtZX1gKTtcblxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IFN0b3J5Vk8gfSA9IHJlcXVpcmUoJy4vU3RvcnlWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBTdG9yeVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlN0b3J5UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJ1bmsgPSBhcHAuYXNzZXRzLmdldCg0MDUyOTkyMCkucmVzb3VyY2U7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJlZXMgPSBzdG9yeVRydW5rLnRyZWVzO1xuICAgICAgICBjb25zdCBzdG9yeVRyZWVNYXAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB0cmVlS2V5IGluIHN0b3J5VHJlZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzdG9yeVRyZWVzLCB0cmVlS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZUFzc2V0SWQgPSBzdG9yeVRyZWVzW3RyZWVLZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3J5VHJlZSA9IGFwcC5hc3NldHMuZ2V0KHN0b3J5VHJlZUFzc2V0SWQpLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgc3RvcnlUcmVlTWFwLnNldCh0cmVlS2V5LCBzdG9yeVRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoU3RvcnlQcm94eS5OQU1FLCBzdG9yeVRyZWVNYXApO1xuXG4gICAgICAgIC8vIFByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGdldFRyZWUodHJlZUlkKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmhhcyh0cmVlSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52by5nZXQodHJlZUlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROb2RlKHRyZWUsIG5vZGVJZCkge1xuICAgICAgICBjb25zdCBub2RlcyA9IHRyZWUubm9kZXM7XG4gICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChub2Rlcywgbm9kZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVzW25vZGVJZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U3RlcChub2RlLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBub2RlLnN0ZXBzO1xuICAgICAgICBpZiAoc3RlcEluZGV4IDwgc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcHNbc3RlcEluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb1RvTm9kZShub2RlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5vZGVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBzdGFydERpYWxvZ3VlVHJlZSh0cmVlSWQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VHJlZSA9IHRyZWVJZDtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IFwiZW50cnlcIjtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcEluZGV4ID0gMDtcblxuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBpZiAoIXRyZWUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3Qgc3RhcnQgZGlhbG9ndWU6IFRyZWUgJHt0aGlzLmN1cnJlbnRUcmVlfSBub3QgZm91bmRgKTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgQ2Fubm90IHN0YXJ0IGRpYWxvZ3VlOiBubyBcImVudHJ5XCIgbm9kZSBkZWZpbmVkIG9uICR7dHJlZUlkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudE5vZGVTdGVwKCkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgY29uc3QgdmFsaWRTdGVwID0gdGhpcy5nZXRWYWxpZFN0ZXAoY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgIGlmICh2YWxpZFN0ZXAgJiYgdmFsaWRTdGVwLm9uY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodGhpcy5jdXJyZW50VHJlZSwgdGhpcy5jdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKG9uY2VDb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFN0ZXA7XG4gICAgfVxuXG5cbiAgICBjb250aW51ZUN1cnJlbnROb2RlU3RlcCgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuZ2V0VHJlZSh0aGlzLmN1cnJlbnRUcmVlKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSlcbiAgICAgICAgLy8gaW5jcmVtZW50IHN0ZXBJbmRleFxuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXgrKztcblxuICAgICAgICBjb25zdCB2YWxpZFN0ZXAgPSB0aGlzLmdldFZhbGlkU3RlcChjdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgaWYgKHZhbGlkU3RlcCAmJiB2YWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24ob25jZUNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkU3RlcDtcbiAgICB9XG5cbiAgICBnZXRWYWxpZFN0ZXAobm9kZSwgc3RlcEluZGV4KSB7XG4gICAgICAgIGxldCBuZXh0VmFsaWRTdGVwID0gdGhpcy5nZXRTdGVwKG5vZGUsIHN0ZXBJbmRleCk7XG5cblxuICAgICAgICBpZiAobmV4dFZhbGlkU3RlcCkge1xuICAgICAgICAgICAgbGV0IHRlc3RDb25kaXRpb25zID0gW107XG4gICAgICAgICAgICBpZiAobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGVzdENvbmRpdGlvbnMgPSB0ZXN0Q29uZGl0aW9ucy5jb25jYXQobmV4dFZhbGlkU3RlcC5jb25kaXRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5leHRWYWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uY2VDb25kaXRpb24gPSB0aGlzLmdldEludmVydGVkQ29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCBzdGVwSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRlc3RDb25kaXRpb25zID0gdGVzdENvbmRpdGlvbnMuY29uY2F0KG9uY2VDb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZXN0IHZhbGlkIHN0ZXAnKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXN0Q29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRlc3RDb25kaXRpb25zKHRlc3RDb25kaXRpb25zKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0VmFsaWRTdGVwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSBzdGVwSW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbGlkU3RlcChub2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFZhbGlkU3RlcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodHJlZUlkLCBub2RlSWQsIHN0ZXBJbmRleCkge1xuICAgICAgICByZXR1cm4gYCR7dHJlZUlkfSR7bm9kZUlkfSR7c3RlcEluZGV4fWA7XG4gICAgfVxuXG4gICAgZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRyZWVJZCwgbm9kZUlkLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGAhJHt0cmVlSWR9JHtub2RlSWR9JHtzdGVwSW5kZXh9YDtcbiAgICB9XG5cbiAgICBzZWxlY3RDaG9pY2UoY2hvaWNlSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgICAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IGN1cnJlbnROb2RlLmNob2ljZXNbY2hvaWNlSW5kZXhdO1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRDaG9pY2U7XG4gICAgfVxuXG4gICAgYWRkQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zLnB1c2goY29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNvbmRpdGlvbihjb25kaXRpb24pIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRlc3RDb25kaXRpb25zKGNvbmRpdGlvbnMpIHtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXG4gICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBvcGVyYXRvcnNcbiAgICAgICAgICAgIGNvbnN0IG9yRGVsaW1pdGVyZWQgPSBcInx8XCI7XG4gICAgICAgICAgICBjb25zdCBvckNvbmRpdGlvbnMgPSBjb25kaXRpb24uc3BsaXQob3JEZWxpbWl0ZXJlZCk7XG5cbiAgICAgICAgICAgIGlmIChvckNvbmRpdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgb25lIG5lZWRzIHRvIGJlIHRydWVcbiAgICAgICAgICAgICAgICBsZXQgb3JTdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb25hbENvbmRpdGlvbiBvZiBvckNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tDb25kaXRpb24ob3B0aW9uYWxDb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvclN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBvclN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdGhpcy5jaGVja0NvbmRpdGlvbihjb25kaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cblxuICAgIGNoZWNrQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHBvc2l0aXZlIG9mIG5lZ2F0aXZlXG4gICAgICAgIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIiFcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKHN0cmlwcGVkU3RyaW5nKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiK1wiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihzdHJpcHBlZFN0cmluZyk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25kaXRpb24uc3RhcnRzV2l0aChcIi1cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmlwcGVkU3RyaW5nID0gY29uZGl0aW9uLnNsaWNlKDEsIGNvbmRpdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb25kaXRpb24oc3RyaXBwZWRTdHJpbmcpO1xuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29uZGl0aW9ucy5pbmRleE9mKGNvbmRpdGlvbikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5jb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAvLyBSZWdpc3RlciBhcHAtbGV2ZWwgbWVkaWF0b3JzL3Byb3hpZXMvY29tbWFuZHMgaGVyZVxuXG4gICAgLy8gQ3JlYXRlIGdhbWUgc3RhdGUgcHJveHlcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IEdhbWVTdGF0ZVByb3h5KCkpO1xuXG4gICAgLy8gTG9hZCB3ZWFwb25zIGRhdGEgYW5kIGNyZWF0ZSBwcm94eVxuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgaWYgKGFwcCkge1xuICAgICAgICBjb25zdCB3ZWFwb25zRGF0YSA9IGFwcC5hc3NldHMuZ2V0KDQwNDE1NjMxKS5yZXNvdXJjZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBXZWFwb25zUHJveHkod2VhcG9uc0RhdGEpKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBTdG9yeVByb3h5KCkpO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU2NlbmVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBzY2VuZU5hbWUgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1sxXTtcbiAgICBjb25zb2xlLmxvZyhgQ2hhbmdpbmcgc2NlbmUgJHtzY2VuZU5hbWV9YCk7XG5cbiAgICAvLyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgcm9vdCBvYmplY3RcbiAgICBjb25zdCBvbGRIaWVyYXJjaHkgPSBhcHAucm9vdC5maW5kQnlOYW1lKCdSb290Jyk7XG5cbiAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIHNjZW5lXG4gICAgY29uc3Qgc2NlbmUgPSBhcHAuc2NlbmVzLmZpbmQoc2NlbmVOYW1lKTtcblxuICAgIC8vIExvYWQgdGhlIHNjZW5lcyBlbnRpdHkgaGllcmFyY2h5XG4gICAgYXBwLnNjZW5lcy5sb2FkU2NlbmVIaWVyYXJjaHkoc2NlbmUudXJsLCBmdW5jdGlvbiAoZXJyLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGlmIChvbGRIaWVyYXJjaHkpIHtcbiAgICAgICAgICAgICAgICBvbGRIaWVyYXJjaHkuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBwb3J0YWxJZCk7XG5cbiAgICB9KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aFxuICAgIGxldCB0ZW1wb3JhcnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSAtMTtcblxuICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlLi4uXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xuXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxuICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJbmRleCAtPSAxO1xuXG4gICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xuICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBzaHVmZmxlQXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy9TaHVmZmxlQXJyYXknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBDb21iYXRWTyB9ID0gcmVxdWlyZSgnLi9Db21iYXRWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBDb21iYXRQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDb21iYXRQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHN1cGVyKENvbWJhdFByb3h5Lk5BTUUsIG5ldyBDb21iYXRWTyhwYXJ0aWNpcGFudHMsIHRlYW1zKSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5zZXQocGFydGljaXBhbnQsIHBhcnRpY2lwYW50UHJveHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFR1cm4oKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlO1xuXG4gICAgICAgIGlmIChyb3VuZEluaXRpYXRpdmUgJiYgcm91bmRJbml0aWF0aXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUdXJuSWQgPSByb3VuZEluaXRpYXRpdmUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSBuZXh0VHVybklkO1xuXG4gICAgICAgICAgICBpZiAobmV4dFR1cm5JZCAhPT0gJ2VuZF9yb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBOZXh0IFR1cm5cbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBUdXJuICR7bmV4dFR1cm5JZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMucGFydGljaXBhbnRQcm94aWVzLmdldChuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICBwcm94eS5yZXNldENvbWJhdFR1cm5TdGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3h5LmlzTlBDKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQgcm91bmRcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBFbmQgcm91bmRgKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFJvdW5kKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vICBOZXcgcm91bmQgIC8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zdCBpbml0aWF0aXZlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtjaGFyYWN0ZXJJZCwgcHJveHldIG9mIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgdm8gPSBwcm94eS52bztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm8uaW5pdGlhdGl2ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhdGl2ZXMucHVzaChjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdGlhdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBFdmVyeW9uZSBpcyBvdXQgb2YgdGhlIGNvbWJhdCBzb21laG93LCBwcm9iYWJseSBkZWFkXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBlbmQgb2Ygcm91bmQgdG9rZW5cbiAgICAgICAgaW5pdGlhdGl2ZXMucHVzaCgnZW5kX3JvdW5kJyk7XG5cbiAgICAgICAgbGV0IHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShpbml0aWF0aXZlcyk7XG4gICAgICAgIC8vIGVuc3VyZSByb3VuZCBkb2Vzbid0IHN0YXJ0IHdpdGggXCJlbmRfcm91bmRcIlxuICAgICAgICB3aGlsZSAoc2h1ZmZsZWRJbml0aWF0aXZlWzBdID09PSBcImVuZF9yb3VuZFwiKSB7XG4gICAgICAgICAgICBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoc2h1ZmZsZWRJbml0aWF0aXZlKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSBzaHVmZmxlZEluaXRpYXRpdmU7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm5leHRUdXJuQ2hhcmFjdGVySWQ7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGl2ZVBhcnRpY2lwYW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudDtcbiAgICB9XG5cbiAgICBzZXQgYWN0aXZlUGFydGljaXBhbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnBhcnRpY2lwYW50cztcbiAgICB9XG5cbiAgICBnZXQgdGVhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnRlYW1zO1xuICAgIH1cblxuICAgIHJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcGFydGljY2lwYW50c1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5kZWxldGUoY2hhcmFjdGVySWQpO1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBpbml0aWF0aXZlXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmUuZmlsdGVyKGUgPT4gZSAhPT0gY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdGVhbV0gb2YgdGhpcy50ZWFtcy5lbnRyaWVzKCkpIHtcblxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVySW5kZXggPSB0ZWFtLmluZGV4T2YoY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgaWYgKGNoYXJhY3RlckluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZWFtLnNwbGljZShjaGFyYWN0ZXJJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZWFtLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydENvbWJhdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBpbnN0aWdhdGluZ0NoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiU3RhcnQgQ29tYmF0XCIpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCk7XG5cbiAgICBjb25zdCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpbnN0aWdhdGluZ0NoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwic3BvdHRlZFwiLCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5KTtcblxuXG4gICAgLy8gU2V0dXAgdGhlIGNvbWJhdFxuICAgIGNvbnN0IHRlYW1zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBsYXllclRlYW0gPSBbJ3BsYXllciddO1xuICAgIHRlYW1zLnNldCgncGxheWVyX3RlYW0nLCBwbGF5ZXJUZWFtKTtcblxuICAgIGNvbnN0IG9wcG9zaW5nVGVhbSA9IFtpbnN0aWdhdGluZ0NoYXJhY3RlcklkXS5jb25jYXQoaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jb21iYXRHcm91cCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3M7XG4gICAgfSk7XG4gICAgdGVhbXMuc2V0KCdvcHBvc2luZ190ZWFtJywgb3Bwb3NpbmdUZWFtKTtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHBsYXllclRlYW0uY29uY2F0KG9wcG9zaW5nVGVhbSk7XG5cblxuICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfTU9WRU1FTlQgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgIGlmIChwYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgcGFydGljaXBhbnQsIHBsYXllclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBuZXcgQ29tYmF0UHJveHkocGFydGljaXBhbnRzLCB0ZWFtcyk7XG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkoY29tYmF0UHJveHkpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgfSwgMjAwMCk7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0VHVybigpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0Um91bmRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRSb3VuZCgpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG5cbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS5uZXh0VHVybkNoYXJhY3RlcklkKTtcbiAgICB9LCA1MDApO1xufVxuIiwiZXhwb3J0IGNsYXNzIEJlaGF2aW91clN0YXR1cyB7XG4gICAgc3RhdGljIGdldCBTVUNDRVNTKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgRkFJTFVSRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IFJVTk5JTkcoKSB7IHJldHVybiAyIH07XG4gICAgc3RhdGljIGdldCBFUlJPUigpIHsgcmV0dXJuIDMgfTtcbn0iLCJpbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBjcmVhdGVVVUlEIH0gZnJvbSAnLi4vLi4vdXRpbHMvR1VJRCc7XG5cbmV4cG9ydCBjbGFzcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBbXTtcbiAgICB9XG5cbiAgICBleGVjdXRlKHRpY2spIHtcbiAgICAgICAgLyogRU5URVIgKi9cbiAgICAgICAgdGhpcy5fZW50ZXIodGljayk7XG5cbiAgICAgICAgLyogT1BFTiAqL1xuICAgICAgICBpZiAoIXRpY2suYmxhY2tib2FyZC5nZXQoJ2lzT3BlbicsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29wZW4odGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBUSUNLICovXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuX3RpY2sodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgKi9cbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogRVhJVCAqL1xuICAgICAgICB0aGlzLl9leGl0KHRpY2spO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgX2VudGVyKHRpY2spIHtcbiAgICAgICAgdGljay5lbnRlck5vZGUodGhpcyk7XG4gICAgICAgIHRoaXMuZW50ZXIodGljayk7XG4gICAgfVxuXG4gICAgX29wZW4odGljaykge1xuICAgICAgICB0aWNrLm9wZW5Ob2RlKHRoaXMpO1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdpc09wZW4nLCB0cnVlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLm9wZW4odGljayk7XG4gICAgfVxuXG4gICAgX3RpY2sodGljaykge1xuICAgICAgICB0aWNrLnRpY2tOb2RlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy50aWNrKHRpY2spO1xuICAgIH1cblxuICAgIF9jbG9zZSh0aWNrKSB7XG4gICAgICAgIHRpY2suY2xvc2VOb2RlKHRoaXMpO1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdpc09wZW4nLCBmYWxzZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5jbG9zZSh0aWNrKTtcbiAgICB9XG5cbiAgICBfZXhpdCh0aWNrKSB7XG4gICAgICAgIHRpY2suZXhpdE5vZGUodGhpcyk7XG4gICAgICAgIHRoaXMuZXhpdCh0aWNrKTtcbiAgICB9XG5cbiAgICAvLyBPdmVyaWRlIHRoZXNlXG4gICAgZW50ZXIodGljaykgeyB9XG4gICAgb3Blbih0aWNrKSB7IH1cbiAgICB0aWNrKHRpY2spIHsgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUiB9XG4gICAgY2xvc2UodGljaykgeyB9XG4gICAgZXhpdCh0aWNrKSB7IH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlVVVJRCgpIHtcbiAgICB2YXIgcyA9IFtdO1xuICAgIHZhciBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM2OyBpKyspIHtcbiAgICAgICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuICAgIH1cbiAgICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcbiAgICBzWzE0XSA9IFwiNFwiO1xuXG4gICAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcbiAgICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7XG5cbiAgICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XG5cbiAgICB2YXIgdXVpZCA9IHMuam9pbihcIlwiKTtcbiAgICByZXR1cm4gdXVpZDtcblxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1hc3Rlck5vZGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZS5leGVjdXRlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgQmxhY2tib2FyZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMuYmFzZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIGdsb2JhbCBpbmZvcm1hdGlvblxuICAgICAgICB0aGlzLnRyZWVNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSB0cmVlIGFuZCBub2RlIGluZm9ybWF0aW9uXG4gICAgfVxuXG4gICAgZ2V0VHJlZU1lbW9yeSh0cmVlU2NvcGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSkge1xuICAgICAgICAgICAgdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0gPSB7XG4gICAgICAgICAgICAgICAgbm9kZU1lbW9yeToge30sXG4gICAgICAgICAgICAgICAgb3Blbk5vZGVzOiBbXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0Tm9kZU1lbW9yeSh0cmVlTWVtb3J5LCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdHJlZU1lbW9yeVsnbm9kZU1lbW9yeSddO1xuICAgICAgICBpZiAoIW1lbW9yeS5oYXNPd25Qcm9wZXJ0eShub2RlU2NvcGUpKSB7XG4gICAgICAgICAgICBtZW1vcnlbbm9kZVNjb3BlXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeVtub2RlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICB2YXIgbWVtb3J5ID0gdGhpcy5iYXNlTWVtb3J5O1xuXG4gICAgICAgIGlmICh0cmVlU2NvcGUpIHtcbiAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0VHJlZU1lbW9yeSh0cmVlU2NvcGUpO1xuXG4gICAgICAgICAgICBpZiAobm9kZVNjb3BlKSB7XG4gICAgICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXROb2RlTWVtb3J5KG1lbW9yeSwgbm9kZVNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnk7XG4gICAgfTtcblxuICAgIHNldChrZXksIHZhbHVlLCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIG1lbW9yeVtrZXldID0gdmFsdWU7XG4gICAgfTtcblxuICAgIGdldChrZXksIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgcmV0dXJuIG1lbW9yeVtrZXldO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgVGljayB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmRlYnVnID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGVudGVyTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMubm9kZUNvdW50Kys7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnB1c2gobm9kZSk7XG4gICAgfVxuXG4gICAgb3Blbk5vZGUobm9kZSkge1xuXG4gICAgfVxuXG4gICAgdGlja05vZGUobm9kZSkge1xuXG4gICAgfVxuXG4gICAgY2xvc2VOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucG9wKCk7XG4gICAgfVxuXG4gICAgZXhpdE5vZGUobm9kZSkge1xuXG4gICAgfVxufSIsImltcG9ydCB7IFRpY2sgfSBmcm9tIFwiLi9UaWNrXCI7XG5cbmV4cG9ydCBjbGFzcyBCZWhhdmlvdXJUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoaWQpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnJvb3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdGljayh0YXJnZXQsIGJsYWNrYm9hcmQpIHtcbiAgICAgICAgLyogQ1JFQVRFIEEgVElDSyBPQkpFQ1QgKi9cbiAgICAgICAgY29uc3QgdGljayA9IG5ldyBUaWNrKCk7XG4gICAgICAgIHRpY2sudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQgPSBibGFja2JvYXJkO1xuICAgICAgICB0aWNrLnRyZWUgPSB0aGlzO1xuXG4gICAgICAgIC8qIFRJQ0sgTk9ERSAqL1xuICAgICAgICB0aGlzLnJvb3QuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAvKiBDTE9TRSBOT0RFUyBGUk9NIExBU1QgVElDSywgSUYgTkVFREVEICovXG4gICAgICAgIGNvbnN0IGxhc3RPcGVuTm9kZXMgPSBibGFja2JvYXJkLmdldCgnb3Blbk5vZGVzJywgdGhpcy5pZCkgfHwgW107XG4gICAgICAgIGNvbnN0IGN1cnJPcGVuTm9kZXMgPSB0aWNrLm9wZW5Ob2Rlcy5zbGljZSgwKTtcblxuICAgICAgICAvLyBkb2VzIG5vdCBjbG9zZSBpZiBpdCBpcyBzdGlsbCBvcGVuIGluIHRoaXMgdGlja1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGxhc3RPcGVuTm9kZXMubGVuZ3RoLCBjdXJyT3Blbk5vZGVzLmxlbmd0aCk7IGkrKykge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIGlmIChsYXN0T3Blbk5vZGVzW2ldICE9PSBjdXJyT3Blbk5vZGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbG9zZSB0aGUgbm9kZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGxhc3RPcGVuTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgaS0tKSB7XG4gICAgICAgICAgICBsYXN0T3Blbk5vZGVzW2ldLmNsb3NlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogUE9QVUxBVEUgQkxBQ0tCT0FSRCAqL1xuICAgICAgICBibGFja2JvYXJkLnNldCgnb3Blbk5vZGVzJywgY3Vyck9wZW5Ob2RlcywgdGhpcy5pZCk7XG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdub2RlQ291bnQnLCB0aWNrLm5vZGVDb3VudCwgdGhpcy5pZCk7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmxhY2tib2FyZCB9IGZyb20gJy4uL2NvcmUvQmxhY2tib2FyZCc7XG5pbXBvcnQgeyBCZWhhdmlvdXJUcmVlIH0gZnJvbSAnLi4vY29yZS9CZWhhdmlvdXJUcmVlJztcblxuZXhwb3J0IGNsYXNzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmlkID0gJ2Jhc2ljTWVsZWVUcmVlJztcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkID0gbmV3IEJsYWNrYm9hcmQoKTtcbiAgICAgICAgdGhpcy50cmVlID0gbmV3IEJlaGF2aW91clRyZWUoaWQpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZSgpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIC8vIE92ZXJyaWRlIHRvIHNldCB0cmVlXG4gICAgfVxuXG4gICAgcnVuQ29tbWFuZHMoZmFjYWRlLCBjaGFyYWN0ZXJJZCkge1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiZmFjYWRlXCIsIGZhY2FkZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImNoYXJhY3RlcklkXCIsIGNoYXJhY3RlcklkLCB0aGlzLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRyZWUudGljayh0aGlzLCB0aGlzLmJsYWNrYm9hcmQpO1xuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBQcmlvcml0eSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFNldFBsYXllckFzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCd0YXJnZXQnLCAncGxheWVyJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgTWVsZWVBdHRhY2tUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGF0dGFja2VySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkZWZlbmRlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgRW5kQ29tYmF0VHVybiBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzTW92ZW1lbnRSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNOZXh0VG9QbGF5ZXIgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJOb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGNoYXJhY3RlckN1cnJlbnROb2RlKSk7XG5cbiAgICAgICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIE1lbVNlcXVlbmNlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIG9wZW4odGljaykge1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdydW5uaW5nQ2hpbGQnLCAwLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgIH1cblxuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3J1bm5pbmdDaGlsZCcsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuY2hpbGRyZW5baV0uZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBCZWhhdmlvdXJTdGF0dXMuUlVOTklORykge1xuICAgICAgICAgICAgICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdydW5uaW5nQ2hpbGQnLCBpLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cblxufSIsIlxuaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi9CZWhhdmlvdXJTdGF0dXMnO1xuZXhwb3J0IGNsYXNzIEludmVydGVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuXG4gICAgICAgIC8vIHByZXN1bWUgaW52ZXJ0ZXIgaGFzIG9uZSBjaGlsZFxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bMF07XG5cbiAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdGF0dXMgPSBjaGlsZC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIGlmIChzdGF0dXMgPT0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1MpXG4gICAgICAgICAgICBzdGF0dXMgPSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzVGFyZ2V0RGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3VycmVudE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlcmUgaXMgYSBub2RlIHRvIG1vdmUgdG8gXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNEZWFkIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBIYXNBY3Rpb25zUmVtYWluaW5nIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgTWVsZWVBdHRhY2tUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTWVsZWVBdHRhY2tUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IElzTmV4dFRvUGxheWVyIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0JztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cyB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNNZWxlZVRyZWUgZXh0ZW5kcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ2Jhc2ljTWVsZWVUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IElzTmV4dFRvUGxheWVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVsZWVBdHRhY2tUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlbGlucXVpc2hNb3ZlbWVudFBvaW50cygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNNb3ZlbWVudFJlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEJhc2ljTWVsZWVUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY01lbGVlVHJlZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmVteVR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZW5lbXlJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBlbmVteVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBlbmVteUlkKTtcbiAgICBjb25zdCBlbmVteUN1cnJlbnROb2RlID0gZW5lbXlQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJOb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIGlzIGFscmVhZHkgYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhlbmVteUN1cnJlbnROb2RlKSk7XG5cbiAgICBjb25zdCBiYXNpY01lbGVlVHJlZSA9IG5ldyBCYXNpY01lbGVlVHJlZSgpO1xuICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG5cbiAgICAvKi8vIHdlJ3JlIGFscmVhZHkgdGhlcmVcbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGVuZW15UHJveHkuaWQsIHBsYXllclByb3h5LmlkKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoZW5lbXlDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoZW5lbXlDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChlbmVteUN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICBjb25zdCB2byA9IGVuZW15UHJveHkudm87XG4gICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgIGNvbnN0IGVuZFBvaW50ID0gcGF0aFswXTtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50SXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhlbmRQb2ludCkpO1xuXG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRJc0FkamFjZW50KSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBlbmVteUlkLCBcInBsYXllclwiLCBwYXRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBlbmVteUlkLCBwYXRoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBlbmVteVByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDE1MDApO1xuICAgIH0qL1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHlcIjtcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0ZWROb2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cblxuICAgIGNvbnN0IG5vZGUgPSBhcmdzWzBdO1xuXG4gICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZE5vZGUobm9kZSkpIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX1dBWVBPSU5UICsgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgXCJwbGF5ZXJcIiwgbm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3Qgdm8gPSBnYW1lQ2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIG1vdmVhYmxlTm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuZXF1YWxzKHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICBoYW5kbGVWYWxpZE1vdmUoZmFjYWRlLCBnYW1lQ2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVWYWxpZE1vdmUoZmFjYWRlLCBjaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSkge1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgodm8uY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB2by5hdmFpbGFibGVNb3ZlbWVudCAtPSAocGF0aC5sZW5ndGggLSAxKTsgLy8gRGV0cmFjdCBieSBvbmUuLi4gdGhlIGZpcnN0IHBhdGggbm9kZSBkb2Vzbid0IGNvdW50XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdm8uaWQsIHBhdGgpO1xuICAgIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB3YWxrYWJsZU5vZGVzID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHdhbGthYmxlVGlsZUFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDAyMzU5NjYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygd2Fsa2FibGVOb2Rlcykge1xuICAgICAgICBjb25zdCB0aWxlID0gd2Fsa2FibGVUaWxlQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgdGlsZS5zZXRMb2NhbFBvc2l0aW9uKG5vZGUueCwgbm9kZS55LCBub2RlLnopO1xuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGlsZSk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHdhbGthYmxlVGlsZUVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCd3YWxrYWJsZV90aWxlJyk7XG4gICAgZm9yIChjb25zdCB3YWxrYWJsZVRpbGVFbnRpdHkgb2Ygd2Fsa2FibGVUaWxlRW50aXRpZXMpIHtcbiAgICAgICAgd2Fsa2FibGVUaWxlRW50aXR5LmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1dBTEtBQkxFX0FSRUEsIG1vdmVhYmxlTm9kZXMpO1xuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tIFwiLi9HYW1lQ29tbWFuZHNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZE1vdmVtZW50Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZE5vZGUgPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGVuZE5vZGU7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBpZiAoZ2FtZVN0YXRlLmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcbiAgICAgICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBpZCk7XG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KGNoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoY3VycmVudE5vZGUueCxcbiAgICAgICAgY3VycmVudE5vZGUueSArIGNoYXJhY3RlclByb3h5LmhlaWdodCAqIDAuNSxcbiAgICAgICAgY3VycmVudE5vZGUueik7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlckVudGl0eSA9IGFyZ3NbMF07XG4gICAgY29uc3QgaWQgPSBnYW1lQ2hhcmFjdGVyRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgY29uc3Qgd2VhcG9uUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25Qcm94eS5nZXRXZWFwb25DYXRlZ29yeShwbGF5ZXJDaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG5cbiAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJyAmJiB3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk5vIGxpbmUgb2Ygc2lnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0ssIGlkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLLCBpZCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoIWNvbWJhdFByb3h5IHx8IGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAvLyBub3QgeW91ciB0dXJuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyQ2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA8PSAwKSB7XG4gICAgICAgICAgICAvLyBvdXQgb2YgYWN0aW9uc1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJPdXQgb2YgYWN0aW9uc1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3ZWFwb25DYXRlZ29yeSA9PT0gXCJyYW5nZWRcIikge1xuICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCBcInBsYXllclwiLCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNUYXJnZXRBZGphY2VudChwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgICAgICAgICAgICAgIC8vIHBhdGggbGVuZ3RoIGluY2x1ZGVzIGN1cnJlbnQgbm9kZSwgc28gZGVkdWN0IG9uIHRvIHdvcmsgb3V0IGFjdHVhbCBtb3ZlYWJsZSBkaXN0YW5jZVxuICAgICAgICAgICAgICAgIGlmIChwYXRoVG9UYXJnZXQgJiYgcGF0aFRvVGFyZ2V0Lmxlbmd0aCAtIDEgPD0gcGxheWVyQ2hhcmFjdGVyUHJveHkudm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgd2VhcG9uIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuaWQsIHBhdGhUb1RhcmdldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgXCJwbGF5ZXJcIiwgcGF0aFRvVGFyZ2V0LnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJDYW5ub3QgcmVhY2ggdGFyZ2V0XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5pZCwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgIGlmICh1bm9jY3VwaWVkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHVub2NjdXBpZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggPCBzaG9ydGVzdFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNUYXJnZXRBZGphY2VudChwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCB0YXJnZXRDdXJycmVudE5vZGUgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIHJldHVybiBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHModGFyZ2V0Q3VycnJlbnROb2RlKSk7XG59XG5cbmZ1bmN0aW9uIGNhblNlZVRhcmdldChnYW1lTWFwUHJveHksIHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHBsYXllclBvaW50ID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShwbGF5ZXJDaGFyYWN0ZXJQcm94eSk7XG4gICAgY29uc3QgdGFyZ2V0UG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHRhcmdldENoYXJhY3RlclByb3h5KTtcblxuICAgIHJldHVybiAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKHBsYXllclBvaW50LCB0YXJnZXRQb2ludCk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgV2VhcG9uVHlwZXMgfSBmcm9tICcuLi9kYXRhL1dlYXBvblR5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgY29uc3QgYXR0YWNrZXJSb2xsID0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyUHJveHkuc2tpbGwpO1xuICAgIGNvbnN0IGRlZmVuZGVyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChkZWZlbmRlclByb3h5LnNraWxsKTtcblxuICAgIGNvbnN0IHdlYXBvbnNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcblxuICAgIC8vIFJlZHVjZSBhY3Rpb25zXG4gICAgYXR0YWNrZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIC09IDE7XG5cbiAgICAvLyBEZXRlcm1pbmUgd2lubmVyXG4gICAgaWYgKGF0dGFja2VyUm9sbCA9PT0gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25zUHJveHkuZ2V0V2VhcG9uQ2F0ZWdvcnkoZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG4gICAgICAgICAgICBjb25zdCBoYXNNZWxlZVdlYXBvbiA9IHdlYXBvbkNhdGVnb3J5ID09PSBcIm1lbGVlXCI7XG5cbiAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGRlZmVuZGVyUm9sbCwgYXR0YWNrZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IChoYXNNZWxlZVdlYXBvbikgPyBkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uIDogV2VhcG9uVHlwZXMuVU5BUk1FRDtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2Uod2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2RlZmVuZGVySWR9IGRhbWFnZXMgJHthdHRhY2tlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBhdHRhY2tlcklkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBhdHRhY2tlcklkKTtcblxuICAgICAgICB9LCAxNTAwKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXRJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgcGF0aCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LnVzZU1vdmVtZW50KHBhdGgubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgY2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuICAgIGNvbnN0IGZpbmlzaE1vdmVQcm9taXNlID0gY2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKTtcbiAgICBmaW5pc2hNb3ZlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBjaGFyYWN0ZXJJZCwgdGFyZ2V0SWQpO1xuXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zb2xlLmxvZyhgS2lsbCBjaGFyYWN0ZXI6OiAke2NoYXJhY3RlcklkfWApO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRlYXRoXCIsIGNoYXJhY3RlclByb3h5KTtcblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgIGNvbWJhdFByb3h5LnJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbG9zaW5nVGVhbSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBpZiAoZmFjYWRlLmhhc01lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIGZhY2FkZS5yZW1vdmVNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChsb3NpbmdUZWFtID09PSAncGxheWVyX3RlYW0nKSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuR0FNRV9PVkVSKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEdhbWUgT3ZlcmApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVmljdG9yeWApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWluRGlzdGFuY2UsIG1heERpc3RhbmNlKSB7XG4gICAgICAgIHN1cGVyKFtdKTtcbiAgICAgICAgdGhpcy5taW5EaXN0YW5jZSA9IG1pbkRpc3RhbmNlO1xuICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gbWF4RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG1pbkRpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWluRGlzdGFuY2UsIDIpO1xuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1heERpc3RhbmNlLCAyKTtcblxuICAgICAgICBjb25zdCBtb3ZlUG9pbnRzQXZhaWxhYmxlID0gY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGNoYXJhY3RlckN1cnJlbnROb2RlKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPj0gbWluRGlzdGFuY2VTcXJ0ICYmIGRpc3RhbmNlVG9UYXJnZXQgPD0gbWF4RGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHdpdGhpbiByYW5nZSwgZ2V0IG9uIHdpdGggaXRcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2goY2hhcmFjdGVyQ3VycmVudE5vZGUsIG1vdmVQb2ludHNBdmFpbGFibGUpO1xuICAgICAgICAgICAgaWYgKG1vdmVhYmxlTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0IDwgbWluRGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpID4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGZhciBhd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpICsgTWF0aC5wb3cocDIueiAtIHAxLnosIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFBpY2tOZXh0QWN0aW9uIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBDYW5TZWVUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIC8vIExvb2sgdG8gdGhlIGNlbnRlciBvZiBlYWNoIGNoYXJhY3RlclxuICAgICAgICBjb25zdCBmcm9tUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb2xsb3cgcGF0aCB0byBzZWUgaWYgdGFyZ2V0IGlzIHZpc2libGUgZnJvbSBhbnkgcG9pbnRcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhOb2RlID0gcGF0aFtpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tUG9zID0gbmV3IHBjLlZlYzMocGF0aE5vZGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS56KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmltIHRvIHBvaW50IG9mIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICBwYXRoLnNwbGljZSgwLCBkZWxldGVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJhbmdlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0JztcbmltcG9ydCB7IFBpY2tOZXh0QWN0aW9uIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uJztcbmltcG9ydCB7IENhblNlZVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNSYW5nZWRUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY1JhbmdlZFRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgQ2FuU2VlVGFyZ2V0KCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCg5LCAxMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGlja05leHRBY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5TZWVUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlQXR0YWNrVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiXG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgQmFzaWNSYW5nZWRUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuXG4gICAgc3dpdGNoIChlbmVteVByb3h5LmJvdEJlaGF2aW91cikge1xuICAgICAgICBjYXNlIEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICAgICAgICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQ6XG4gICAgICAgICAgICBjb25zdCBiYXNpY1JhbmdlZFRyZWUgPSBuZXcgQmFzaWNSYW5nZWRUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY1JhbmdlZFRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgLy8gU2NvcmVzIGZvciBjb21wYXJpc3NvblxuICAgIGxldCBhdHRhY2tlclNjb3JlID0gMDtcbiAgICBsZXQgZGVmZW5kZXJTY29yZSA9IDA7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBhdHRhY2tlck5vZGUgPSBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGxldCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBsZXQgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJOb2RlID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgYXR0YWNrZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJQcm94eS5za2lsbCk7XG4gICAgZGVmZW5kZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGlzSW5Db3ZlciA9IGdhbWVNYXBQcm94eS5pc0luQ292ZXIoXG4gICAgICAgIG5ldyBwYy5WZWMzKGRlZmVuZGVyTm9kZS54LCBkZWZlbmRlck5vZGUueSwgZGVmZW5kZXJOb2RlLnopLFxuICAgICAgICBuZXcgcGMuVmVjMyhhdHRhY2tlck5vZGUueCwgYXR0YWNrZXJOb2RlLnksIGF0dGFja2VyTm9kZS56KSk7XG5cbiAgICBpZiAoaXNJbkNvdmVyKSB7XG4gICAgICAgIGRlZmVuZGVyU2NvcmUgKz0gMjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZG9kZ2VcIiwgZGVmZW5kZXJQcm94eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBXZWFwb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgTXVzdCBjaGFuZ2Ugd2VhcG9uIG9uIHlvdXIgdHVybmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHdlYXBvbiA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uID0gd2VhcG9uO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7Y2hhcmFjdGVySWR9IGVxdWlwcyAke3dlYXBvbn1gKTtcblxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc3RhbmRpbmdOb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZShzdGFuZGluZ1Bvc2l0aW9uKTtcbiAgICBjb25zdCBwbGF5ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBwbGF5ZXJNZWRpYXRvci5tb3ZlVG9Ob2RlV2l0aFByb21pc2Uoc3RhbmRpbmdOb2RlKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBkZXN0aW5hdGlvblNjZW5lLCBkZXN0aW5hdGlvblBvcnRhbCk7XG4gICAgICAgIH0pO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgcG9ydGFsSWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDUyMzMzNik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcbiAgICBjb25zdCBwbGF5ZXJFbnRpdHkgPSBwbGF5ZXJDaGFyYWN0ZXJBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIGNvbnRhaW5lci5hZGRDaGlsZChwbGF5ZXJFbnRpdHkpO1xuXG4gICAgY29uc3QgbWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgcG9ydGFsID0gbWFwUHJveHkucmV0cmlldmVQb3J0YWwocG9ydGFsSWQpO1xuICAgIHBsYXllckVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvcnRhbC5zdGFuZGluZ1BvaW50KTtcblxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlcklkID0gYXJnc1swXTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG5cbiAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgaWYgKHBhdGhUb1RhcmdldCkge1xuICAgICAgICBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGhUb1RhcmdldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfRElBTE9HVUUsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhwbGF5ZXJOb2RlKSk7XG5cbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAvLyBBbHJlYWR5IHRoZXJlXG4gICAgICAgIHJldHVybiBbcGxheWVyTm9kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgICAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggPCBzaG9ydGVzdFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIilcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IGRpYWxvZ3VlVHJlZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmRpYWxvZ3VlVHJlZTtcbiAgICBjb25zdCBzdG9yeVRyZWUgPSBzdG9yeVByb3h5LnN0YXJ0RGlhbG9ndWVUcmVlKGRpYWxvZ3VlVHJlZSk7XG5cbiAgICBnYW1lc3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkRJQUxPR1VFKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0YXJnZXRDaGFyYWN0ZXJJZCwgcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMKTtcblxuICAgIGNvbnN0IG9wZW5pbmdTdGVwID0gc3RvcnlQcm94eS5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogZGlhbG9ndWVUcmVlLFxuICAgICAgICBzdGVwOiBvcGVuaW5nU3RlcFxuICAgIH0pO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5leHRTdGVwID0gc3RvcnlQcm94eS5jb250aW51ZUN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGlmIChuZXh0U3RlcCkge1xuXG4gICAgICAgIGlmIChuZXh0U3RlcC5jaG9pY2VzKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaG9pY2VJbmRleCA9IGFyZ3NbMF07XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRDaG9pY2UgPSBzdG9yeVByb3h5LnNlbGVjdENob2ljZShjaG9pY2VJbmRleCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgdGl0bGU6IFwiWU9VXCIsXG4gICAgICAgIHRleHQ6IHNlbGVjdGVkQ2hvaWNlLnRleHQsXG4gICAgICAgIHRpdGxlQ29sb3VyOiAnI0RCODMxQydcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgc3RlcDogcmVzcG9uc2VcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkQ2hvaWNlKTtcblxuICAgIGlmIChzZWxlY3RlZENob2ljZS5nb3RvKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBzZWxlY3RlZENob2ljZS5nb3RvKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5ld05vZGUgPSBhcmdzWzBdO1xuICAgIHN0b3J5UHJveHkuZ29Ub05vZGUobmV3Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudFN0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuXG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IGN1cnJlbnRTdGVwXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUpO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kRGlhbG9ndWVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lc3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVzdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuXG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTCk7XG5cbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlcklkID0gYXJnc1swXTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG5cbiAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgaWYgKHBhdGhUb1RhcmdldCkge1xuICAgICAgICBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGhUb1RhcmdldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBsYXllck5vZGUpKTtcblxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIC8vIEFscmVhZHkgdGhlcmVcbiAgICAgICAgcmV0dXJuIFtwbGF5ZXJOb2RlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgICAgIGlmICh1bm9jY3VwaWVkTm9kZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHVub2NjdXBpZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBuZXdBY3Rpb24gPSBhcmdzWzBdO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9IG5ld0FjdGlvbjtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHBhcnNlR2FtZU1hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydHVwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydHVwQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VTY2VuZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0Q29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0Um91bmRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgZW5lbXlUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kJztcbmltcG9ydCB7IHNob3dXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kJztcbmltcG9ydCB7IGVuZE1vdmVtZW50Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBXZWFwb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQnO1xuaW1wb3J0IHsgYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGsnO1xuaW1wb3J0IHsgc3RhcnREaWFsb2d1ZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnREaWFsb2d1ZUNvbW1hbmQnO1xuaW1wb3J0IHsgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kJztcbmltcG9ydCB7IGdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0dvVG9EaWFsb2d1ZU5vZGVDb21tYW5kJztcbmltcG9ydCB7IGVuZERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0ssIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGVuZENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBlcXVpcFdlYXBvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsIG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLLCBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9ESUFMT0dVRSwgc3RhcnREaWFsb2d1ZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09OVElOVUVfRElBTE9HVUVfTk9ERSwgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UsIHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUsIGVuZERpYWxvZ3VlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kKTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgQm90QmVoYXZpb3VyVHlwZXMge1xuICAgIHN0YXRpYyBnZXQgTk9ORSgpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEJBU0lDX01FTEVFKCkgeyByZXR1cm4gMSB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfUkFOR0VEKCkgeyByZXR1cm4gMiB9O1xuXG59XG5cbmV4cG9ydCBjb25zdCBib3RCZWhhdmlvdXJFbnVtcyA9IFtcbiAgICB7IE5PTkU6IEJvdEJlaGF2aW91clR5cGVzLk5PTkUgfSxcbiAgICB7IEJBU0lDX01FTEVFOiBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRSB9LFxuICAgIHsgQkFTSUNfUkFOR0VEOiBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQgfSxcbl0iLCJleHBvcnQgY2xhc3MgR2FtZUNvbW1hbmRzIHtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORV9DT01QTEVURSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFQUF9JTklUSUFMSVNFRCgpIHsgcmV0dXJuIFwiQVBQX0lOSVRJQUxJU0VEXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBBUlNFX0dBTUVNQVAoKSB7IHJldHVybiBcIlBBUlNFX0dBTUVNQVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFQX0dSSURfQ1JFQVRFRCgpIHsgcmV0dXJuIFwiTUFQX0dSSURfQ1JFQVRFRFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fV0FZUE9JTlQoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX1dBWVBPSU5UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RIUk9VR0hfUE9SVEFMKCkgeyByZXR1cm4gXCJOQVZJR0FURV9USFJPVUdIX1BPUlRBTFwiIH07XG4gICAgc3RhdGljIGdldCBDT01CQVRfTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiQ09NQkFUX05BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NBTUVSQV9UQVJHRVQoKSB7IHJldHVybiBcIlNFVF9DQU1FUkFfVEFSR0VUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IElOUFVUX0RSQUdfTU9VU0UoKSB7IHJldHVybiBcIklOUFVUX0RSQUdfTU9VU0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBNT1ZFRF9UT19OT0RFKCkgeyByZXR1cm4gXCJNT1ZFRF9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEZJTklTSEVEX01PVkUoKSB7IHJldHVybiBcIkZJTklTSEVEX01PVkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRfQ09NQkFUKCkgeyByZXR1cm4gXCJTVEFSVF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19UT0FTVF9NRVNTQUdFKCkgeyByZXR1cm4gXCJTSE9XX1RPQVNUX01FU1NBR0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1JPVU5EKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9ST1VORFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVQoKSB7IHJldHVybiBcIkVORF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5FTVlfVFVSTigpIHsgcmV0dXJuIFwiRU5FTVlfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RFRF9OT0RFKCkgeyByZXR1cm4gXCJTRUxFQ1RFRF9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTigpIHsgcmV0dXJuIFwiREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfQUxPTkdfUEFUSCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfQUxPTkdfUEFUSFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiU0hPV19XQUxLQUJMRV9BUkVBXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiSElERV9XQUxLQUJMRV9BUkVBXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBFTkRfTU9WRU1FTlQoKSB7IHJldHVybiBcIkVORF9NT1ZFTUVOVFwiIH07XG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DSEFSQUNURVJfVE9fTk9ERSgpIHsgcmV0dXJuIFwiU0VUX0NIQVJBQ1RFUl9UT19OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJTRUxFQ1RfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBUT0dHTEVfQlVUVE9OKCkgeyByZXR1cm4gXCJUT0dHTEVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVVNFX1BMQVlFUl9BQ1RJT04oKSB7IHJldHVybiBcIlVTRV9QTEFZRVJfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfUkFOR0VEX0FUVEFDSygpIHsgcmV0dXJuIFwiUkVTT0xWRV9SQU5HRURfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDS1wiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVQREFURV9TVEFNSU5BKCkgeyByZXR1cm4gXCJVUERBVEVfU1RBTUlOQVwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0RFQVRIKCkgeyByZXR1cm4gXCJESVNQTEFZX0RFQVRIXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfQVRUQUNLKCkgeyByZXR1cm4gXCJESVNQTEFZX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0hJVCgpIHsgcmV0dXJuIFwiRElTUExBWV9ISVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgS0lMTF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiS0lMTF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IENIQVJBQ1RFUl9MT09LX0FUKCkgeyByZXR1cm4gXCJDSEFSQUNURVJfTE9PS19BVFwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU1RBTUlOQSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NUQU1JTkFcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFUVVJUF9XRUFQT04oKSB7IHJldHVybiBcIkVRVUlQX1dFQVBPTlwiIH07XG4gICAgc3RhdGljIGdldCBVU0VfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9GTE9BVElOR19TVEFUVVMoKSB7IHJldHVybiBcIkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCgpIHsgcmV0dXJuIFwiQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEtcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0soKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfRElBTE9HVUVfUEFORUwoKSB7IHJldHVybiBcIlNIT1dfRElBTE9HVUVfUEFORUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9ESUFMT0dVRV9QQU5FTCgpIHsgcmV0dXJuIFwiSElERV9ESUFMT0dVRV9QQU5FTFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKCkgeyByZXR1cm4gXCJTSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTlwiIH07XG4gICAgc3RhdGljIGdldCBISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTigpIHsgcmV0dXJuIFwiSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBESVNQTEFZX0RJQUxPR1VFX1NURVAoKSB7IHJldHVybiBcIkRJU1BMQVlfRElBTE9HVUVfU1RFUFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IENPTlRJTlVFX0RJQUxPR1VFX05PREUoKSB7IHJldHVybiBcIkNPTlRJTlVFX0RJQUxPR1VFX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0RJQUxPR1VFX0NIT0lDRSgpIHsgcmV0dXJuIFwiU0VMRUNUX0RJQUxPR1VFX0NIT0lDRVwiIH07XG4gICAgc3RhdGljIGdldCBDTEVBUl9ESUFMT0dVRV9DSE9JQ0VTKCkgeyByZXR1cm4gXCJDTEVBUl9ESUFMT0dVRV9DSE9JQ0VTXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEdPX1RPX0RJQUxPR1VFX05PREUoKSB7IHJldHVybiBcIkdPX1RPX0RJQUxPR1VFX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTVEFSVF9ESUFMT0dVRSgpIHsgcmV0dXJuIFwiU1RBUlRfRElBTE9HVUVcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0RJQUxPR1VFKCkgeyByZXR1cm4gXCJFTkRfRElBTE9HVUVcIiB9O1xuXG5cbiAgICBzdGF0aWMgZ2V0IEdBTUVQTEFZX0FDVElPTl9DSEFOR0VEKCkgeyByZXR1cm4gXCJHQU1FUExBWV9BQ1RJT05fQ0hBTkdFRFwiIH07XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBXZWFwb25UeXBlcyB7XG4gICAgLy8gTUVMRUVcbiAgICBzdGF0aWMgZ2V0IFNXT1JEKCkgeyByZXR1cm4gXCJzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBBWEUoKSB7IHJldHVybiBcImF4ZVwiIH07XG4gICAgc3RhdGljIGdldCBLTklGRSgpIHsgcmV0dXJuIFwia25pZmVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBRkYoKSB7IHJldHVybiBcInN0YWZmXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhBTU1FUigpIHsgcmV0dXJuIFwiaGFtbWVyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNQRUFSKCkgeyByZXR1cm4gXCJzcGVhclwiIH07XG4gICAgc3RhdGljIGdldCBNQUNFKCkgeyByZXR1cm4gXCJtYWNlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBPTEVBUk0oKSB7IHJldHVybiBcInBvbGVhcm1cIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFVTCgpIHsgcmV0dXJuIFwibWF1bFwiIH07XG4gICAgc3RhdGljIGdldCBHUkVBVFNXT1JEKCkgeyByZXR1cm4gXCJncmVhdHN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMVUIoKSB7IHJldHVybiBcImNsdWJcIiB9O1xuICAgIHN0YXRpYyBnZXQgVU5BUk1FRCgpIHsgcmV0dXJuIFwidW5hcm1lZFwiIH07XG4gICAgc3RhdGljIGdldCBTSElFTEQoKSB7IHJldHVybiBcInNoaWVsZFwiIH07XG5cbiAgICAvLyBSQU5HRURcbiAgICBzdGF0aWMgZ2V0IEZVU0lMKCkgeyByZXR1cm4gXCJmdXNpbFwiIH07XG4gICAgc3RhdGljIGdldCBCT1coKSB7IHJldHVybiBcImJvd1wiIH07XG4gICAgc3RhdGljIGdldCBDUk9TU0JPVygpIHsgcmV0dXJuIFwiY3Jvc3Nib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgUElTVE9MRVQoKSB7IHJldHVybiBcInBpc3RvbGV0XCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYXBvbkVudW1zID0gT2JqZWN0LmVudHJpZXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoV2VhcG9uVHlwZXMpKVxuICAgIC5maWx0ZXIoKFtrZXksIGRlc2NyaXB0b3JdKSA9PiB0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicpXG4gICAgLm1hcCgoW2tleV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHsgW2tleV06IFdlYXBvblR5cGVzW2tleV0gfTtcbiAgICB9KTsiLCJleHBvcnQgY2xhc3MgQ29tYmF0Vk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGVhbXMgPSB0ZWFtcztcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmRJbml0aWF0aXZlWzBdO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVDaGFyYWN0ZXJWTyB9ID0gcmVxdWlyZSgnLi9HYW1lQ2hhcmFjdGVyVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJQcm94eV9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFyYW1zLmlkLCBuZXcgR2FtZUNoYXJhY3RlclZPKHBhcmFtcykpO1xuICAgIH1cblxuICAgIHJlc2V0Q29tYmF0VHVyblN0YXRlKCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy52by5tYXhNb3ZlbWVudDtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICB1c2VNb3ZlbWVudChjb3N0KSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gY29zdDtcbiAgICB9XG5cbiAgICBhcHBseURhbWFnZShkYW1hbmdlKSB7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgLT0gZGFtYW5nZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSA9IE1hdGgubWF4KDAsIHRoaXMudm8uY3VycmVudFN0YW1pbmEpO1xuXG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID4gMCkge1xuICAgICAgICAgICAgLy8gQWxpdmVcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVQREFURV9TVEFNSU5BICsgdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hLCB0aGlzLnZvLm1heGltdW1TdGFtaW5hKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlYWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaWR9IGRpZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgdGhpcy5pZCwgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhTdGFtaW5hKTtcbiAgICB9XG5cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlkO1xuICAgIH1cblxuICAgIGdldCBkaWFsb2d1ZVRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmRpYWxvZ3VlVHJlZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnROb2RlO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZU1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlTW92ZW1lbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVBY3Rpb25zO1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVBY3Rpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgdGhpcy5pZCxcbiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucywgdGhpcy5tYXhBY3Rpb25zUGVyVHVybik7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFjdGlvbnNQZXJUdXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICBnZXQgc2tpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNraWxsO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50U3RhbWluYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJWTyB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIHRoaXMuaXNOUEMgPSBwYXJhbXMuaXNOUEM7XG4gICAgICAgIHRoaXMuY29tYmF0R3JvdXAgPSBwYXJhbXMuY29tYmF0R3JvdXAgfHwgW107XG4gICAgICAgIHRoaXMuZGlhbG9ndWVUcmVlID0gcGFyYW1zLmRpYWxvZ3VlVHJlZSB8fCB0aGlzLmlkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRyb2lrYSBzdGF0c1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUgPSBwYXJhbXMuaW5pdGlhdGl2ZSB8fCAyO1xuICAgICAgICB0aGlzLm1heE1vdmVtZW50ID0gcGFyYW1zLm1heE1vdmVtZW50IHx8IDY7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcGFyYW1zLmhlaWdodCB8fCAxLjg7XG4gICAgICAgIHRoaXMubWF4QWN0aW9uc1BlclR1cm4gPSAxO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy5tYXhNb3ZlbWVudDtcblxuICAgICAgICB0aGlzLnNraWxsID0gcGFyYW1zLnNraWxsIHx8IDE7XG5cbiAgICAgICAgdGhpcy5tYXhTdGFtaW5hID0gcGFyYW1zLm1heFN0YW1pbmEgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhbWluYSA9IHRoaXMubWF4U3RhbWluYTtcblxuICAgICAgICB0aGlzLm1heEx1Y2sgPSBwYXJhbXMubWF4THVjayB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRMdWNrID0gdGhpcy5tYXhMdWNrO1xuXG4gICAgICAgIHRoaXMuYWR2YW5jZWRTa2lsbHMgPSBwYXJhbXMuYWR2YW5jZWRTa2lsbHMgfHwge307XG5cbiAgICAgICAgdGhpcy5ib3RCZWhhdmlvdXIgPSBwYXJhbXMuYm90QmVoYXZpb3VyIHx8IDA7XG5cbiAgICAgICAgdGhpcy5lcXVpcHBlZFdlYXBvbiA9IHBhcmFtcy5lcXVpcHBlZFdlYXBvbiB8fCBcInVuYXJtZWRcIjtcblxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4vbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBnZXRBZGphY2VudFBvaW50cyB9IGZyb20gJy4uLy4uL3V0aWxzL0FkamFjZW50UG9pbnRzJztcbmNvbnN0IHsgR2FtZU1hcFZPIH0gPSByZXF1aXJlKCcuL0dhbWVNYXBWTycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNYXBQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXBHcmlkLCB3YWxsQm91bmRpbmdCb3hlcywgY292ZXIsIHBvcnRhbHMsIG5hdkdyaWQpIHtcbiAgICAgICAgc3VwZXIoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgICBtYXBHcmlkOiBtYXBHcmlkLFxuICAgICAgICAgICAgd2FsbEJvdW5kaW5nQm94ZXM6IHdhbGxCb3VuZGluZ0JveGVzLFxuICAgICAgICAgICAgY292ZXI6IGNvdmVyLFxuICAgICAgICAgICAgcG9ydGFsczogcG9ydGFscyxcbiAgICAgICAgICAgIG5hdmlnYXRpb25HcmlkOiBuYXZHcmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG5cbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdE5vZGUodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWFwR3JpZCA9IHRoaXMudm8ubWFwR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBtYXBHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG1hcEdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3RXYXlwb2ludCh0YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBuYXZHcmlkID0gdGhpcy52by5uYXZpZ2F0aW9uR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBuYXZHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5hdkdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxuXG4gICAgcmF5SW50ZXJzZWN0c1dhbGwoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlKHRvKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdG8uY2xvbmUoKS5zdWIoZnJvbS5jbG9uZSgpKS5ub3JtYWxpemUoKTtcbiAgICAgICAgY29uc3QgcmF5ID0gbmV3IHBjLlJheShmcm9tLCBkaXJlY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IG1hcFdhbGxzID0gdGhpcy52by53YWxsQm91bmRpbmdCb3hlcztcbiAgICAgICAgZm9yIChjb25zdCB3YWxsIG9mIG1hcFdhbGxzKSB7XG4gICAgICAgICAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB3YWxsLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0hpdCA9IGhpdFBvc2l0aW9uLmRpc3RhbmNlKGZyb20pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9IaXQgPCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGNvdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb3ZlcjtcbiAgICB9XG5cblxuICAgIGlzSW5Db3Zlcih0YXJnZXRQb2ludCwgYXR0YWNraW5nRnJvbSkge1xuICAgICAgICBjb25zdCBhZGphY2VudENvdmVyUG9pbnRzID0gW107XG4gICAgICAgIGNvbnN0IGFkamFjZW50UG9pbnRzID0gZ2V0QWRqYWNlbnRQb2ludHModGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRQb2ludCBvZiBhZGphY2VudFBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlID0gdGhpcy5jb3Zlci5maW5kKChjb3ZlclBvaW50KSA9PiBhZGphY2VudFBvaW50LmVxdWFscyhjb3ZlclBvaW50KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlKSB7XG4gICAgICAgICAgICAgICAgYWRqYWNlbnRDb3ZlclBvaW50cy5wdXNoKGFkamFjZW50UG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFkamFjZW50Q292ZXJQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IHRhcmdldFBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhZGphY2VudENvdmVyUG9pbnQgb2YgYWRqYWNlbnRDb3ZlclBvaW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9Db3ZlciA9IGFkamFjZW50Q292ZXJQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0NvdmVyIDwgZGlzdGFuY2VUb1RhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXRyaWV2ZVBvcnRhbChwb3J0YWxJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wb3J0YWxzLmdldChwb3J0YWxJZCk7XG4gICAgfVxuXG4gICAgaGFzVmFsaWRMaW5lKG5vZGVBLCBub2RlQikge1xuICAgICAgICBjb25zdCBsaW5lID0gQXN0YXIuY2FsY3VsYXRlQnJlc2VuaGFtTGluZShub2RlQS54LCBub2RlQS56LCBub2RlQi54LCBub2RlQi56KTtcbiAgICAgICAgY29uc29sZS5sb2cobGluZSk7XG4gICAgICAgIHJldHVybiBBc3Rhci5jaGVja1ZhbGlkTGluZShsaW5lLCB0aGlzLnZvLm1hcEdyaWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTm9kZShub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm1hcEdyaWQuc29tZShuID0+IG4uZXF1YWxzKG5vZGUpKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRBZGphY2VudFBvaW50cyhwb2ludCkge1xuICAgIGNvbnN0IHBvaW50cyA9IFtdXG4gICAgLy9Ob3J0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogLSAxKSk7XG4gICAgLy9FYXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCArIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1dlc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54IC0gMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vU291dGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56ICsgMSkpO1xuXG4gICAgcmV0dXJuIHBvaW50cztcbn0iLCJleHBvcnQgY2xhc3MgR2FtZU1hcFZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXBHcmlkID0gW107XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgfVxuXG4gICAgcHVzaCh2YWx1ZSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgbWluID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLmRhdGFbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgICBpZiAoTWF0aC5taW4obWluLCBwcmlvcml0eSkgPT09IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgbWluID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc3BsaWNlKGluZGV4LCAxKVswXS52YWx1ZTtcbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aFxuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3RhciB7XG4gICAgc3RhdGljIGJyZWFkdGhGaXJzdFNlYXJjaChzdGFydCwgcmFuZ2VMaW1pdCkge1xuICAgICAgICBsZXQgZnJvbnRpZXIgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VhcmNoZWRBcmVhID0gW107XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcblxuICAgICAgICBsZXQgcmFuZ2UgPSAwO1xuXG4gICAgICAgIHdoaWxlIChmcm9udGllci5sZW5ndGggPiAwICYmIHJhbmdlIDwgcmFuZ2VMaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRpZXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBmcm9udGllcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjYW1lRnJvbS5oYXMobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGcm9udGllci5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRBcmVhLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb250aWVyID0gbmV3RnJvbnRpZXI7XG5cbiAgICAgICAgICAgIHJhbmdlKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VhcmNoZWRBcmVhO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVBhdGgoc3RhcnQsIGdvYWwpIHtcbiAgICAgICAgY29uc3QgZnJvbnRpZXIgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0LCAwKTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY29zdFNvRmFyID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuICAgICAgICBjb3N0U29GYXIuc2V0KHN0YXJ0LCAwKTtcblxuICAgICAgICB3aGlsZSAoIWZyb250aWVyLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBmcm9udGllci5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29zdCA9IGNvc3RTb0Zhci5nZXQoY3VycmVudCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVXYXlwb2ludHNQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgZGlzdFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh4MCwgejAsIHgxLCB6MSkge1xuICAgICAgICBsZXQgZHggPSB4MSAtIHgwO1xuICAgICAgICBsZXQgZHkgPSB6MSAtIHowO1xuICAgICAgICBsZXQgbnggPSBNYXRoLmFicyhkeCk7XG4gICAgICAgIGxldCBueSA9IE1hdGguYWJzKGR5KTtcblxuICAgICAgICBjb25zdCBzaWduX3ggPSBkeCA+IDAgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IHNpZ25feSA9IGR5ID4gMCA/IDEgOiAtMTtcblxuXG4gICAgICAgIGNvbnN0IHAgPSB7IHg6IHgwLCB5OiAwLCB6OiB6MCB9O1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIGl5ID0gMDsgaXggPCBueCB8fCBpeSA8IG55Oykge1xuICAgICAgICAgICAgaWYgKCgwLjUgKyBpeCkgLyBueCA8ICgwLjUgKyBpeSkgLyBueSkge1xuICAgICAgICAgICAgICAgIC8vIG5leHQgc3RlcCBpcyBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgcC54ICs9IHNpZ25feDtcbiAgICAgICAgICAgICAgICBpeCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IHN0ZXAgaXMgdmVydGljYWxcbiAgICAgICAgICAgICAgICBwLnogKz0gc2lnbl95O1xuICAgICAgICAgICAgICAgIGl5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7IHg6IHAueCwgeTogMCwgejogcC56IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50cztcblxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja1ZhbGlkTGluZShsaW5lLCBtYXApIHtcbiAgICAgICAgbGV0IGlzVmFsaWRMaW5lID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBsaW5lKSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5zb21lKG4gPT4gbi5lcXVhbHMocG9pbnQpKSkge1xuICAgICAgICAgICAgICAgIGlzVmFsaWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNWYWxpZExpbmU7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZVN0YXRlVk8gfSA9IHJlcXVpcmUoJy4vR2FtZVN0YXRlVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZVN0YXRlUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZVByb3h5Lk5BTUUsIG5ldyBHYW1lU3RhdGVWTygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVHYW1lU3RhdGVUeXBlKG5ld1N0YXRlVHlwZSkge1xuICAgICAgICB0aGlzLnZvLmdhbWVwbGF5TW9kZSA9IG5ld1N0YXRlVHlwZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmdhbWVwbGF5TW9kZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEFjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb247XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5zZWxlY3RlZEFjdGlvbiA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBnYW1lcGxheU1vZGVUeXBlcyA9IHtcbiAgICBFWFBMT1JBVElPTjogJ0VYUExPUkFUSU9OJyxcbiAgICBDT01CQVQ6ICdDT01CQVQnLFxuICAgIERJQUxPR1VFOiAnRElBTE9HVUUnLFxuICAgIEdBTUVfT1ZFUjogJ0dBTUVfT1ZFUicsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IFwibm9uZVwiO1xuICAgIH1cbn0iLCJcbmV4cG9ydCBjbGFzcyBTdG9yeVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIH1cbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJNZWRpYXRvcl9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IoaWQsIHZpZXdDb21wb25lbnQsIHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgaWQpO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG5cbiAgICAgICAgbGV0IG5vdGlmaWNhdGlvbnMgPSBbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX1dBWVBPSU5UICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEXG5cbiAgICAgICAgXTtcblxuICAgICAgICBub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucy5jb25jYXQocHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9mZigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5maXJlKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzY3JpcHRLZXkgaW4gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQsIHNjcmlwdEtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W3NjcmlwdEtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24gPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFUOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU3RhcnRDb21iYXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvV2F5cG9pbnQoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNldENoYXJhY3RlclRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBsb29rUG9pbnQgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChsb29rUG9pbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0Ym94ID0gdGhpcy52aWV3Q29tcG9uZW50LmZpbmRCeU5hbWUoXCJIaXRib3hcIik7XG4gICAgICAgICAgICAgICAgaWYgKGhpdGJveCkge1xuICAgICAgICAgICAgICAgICAgICBoaXRib3guZmlyZSgnc3RvcExpc3RlbmluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZURlYXRoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVBdHRhY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUhpdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb05vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludCh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgbmVhcmVzdFdheXBvaW50ID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0V2F5cG9pbnQodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGNvbnN0IG5lYXJlc3RUYXJnZXRXYXlwb2ludCA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdFdheXBvaW50KHRhcmdldE5vZGUpO1xuXG4gICAgICAgIC8qY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVdheXBvaW50c1BhdGgobmVhcmVzdFdheXBvaW50LCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBoYXNMaW5lVG9Qb2ludCA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAwICYmIGhhc0xpbmVUb1BvaW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoYXNMaW5lVG9Qb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFNlZSBpZiBlbmQgb2YgcGF0aCBjYW4gYmUgdHJpbW1lZFxuICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbMV0sIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGgudW5zaGlmdCh0YXJnZXROb2RlKTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9Ki9cblxuICAgICAgICAvLyBJcyBzdHJhaWdodCBsaW5lP1xuICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShjdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBbdGFyZ2V0Tm9kZSwgY3VycmVudE5vZGVdO1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVdheXBvaW50c1BhdGgobmVhcmVzdFdheXBvaW50LCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcGF0aC5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgLypjb25zdCBkaXN0RnJvbUN1cnJlbnQgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RGcm9tRmlyc3QgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0RnJvbUN1cnJlbnQgPCBkaXN0RnJvbUZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBpZiBlbmQgb2YgcGF0aCBjYW4gYmUgdHJpbW1lZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoWzFdLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGhhc0xpbmVUb1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAxICYmIGhhc0xpbmVUb1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbcGF0aC5sZW5ndGggLSAyXSwgY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTGluZVRvUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgfVxuXG4gICAgbW92ZVRvTm9kZVdpdGhQcm9taXNlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjYW5jZWxNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUN1cnJlbnROb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIHRoaXMuaWQsIG5ld05vZGUpO1xuXG4gICAgfVxuXG4gICAgaGFuZGxlRmluaXNoZWRNb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgdGhpcy5pZCwgbmV3Tm9kZSk7XG4gICAgfVxuXG4gICAgbG9va0ZvckNoYXJhY3RlcihpZCwgbm9kZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaE5vZGUgb2YgdGhpcy5zZWFyY2hBcmVhKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoTm9kZS5lcXVhbHMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0aGlzLnZpZXdDb21wb25lbnQsIFtpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlU3RhcnRDb21iYXQoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJWTyA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKS52bztcblxuICAgICAgICAvLyB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KG5vZGUpO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG5cbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVByb2plY3RpbGUodHlwZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCddLmNyZWF0ZVByb2plY3RpbGUodHlwZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUZhY2FkZSB9ID0gcmVxdWlyZSgnLi4vR2FtZUZhY2FkZScpO1xuXG5leHBvcnQgY29uc3QgQ2Fjb2dlbkdhbWUgPSBwYy5jcmVhdGVTY3JpcHQoJ0NhY29nZW5HYW1lJyk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIFwiUG9ydCBUYXJpbmdvXCIsIFwiZW50cmFuY2VcIik7XG59O1xuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkNhY29nZW5HYW1lLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcblxufTsiLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGVcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ05hdmlnYXRpb25Db21wb25lbnQnKTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbm5lY3RlZENvbXBvbmVudHNcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgYXJyYXk6IHRydWUsXG4gICAgdGl0bGU6IFwiQ29ubmVjdGVkIENvbXBvbmVudHNcIlxufSk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgMC4wNSwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5LmZpbmRCeU5hbWUoJ1BsYW5lJykuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLm9mZigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuICAgIH0pO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxOYXZpZ2F0aW9uTm9kZT59IG5vZGVHcmlkIC0gQXJyYXkgb2Ygbm9kZXMgcmVwcmVzZW50aW5nIHBvaW50cyBvbiB0aGUgZ3JpZC5cbiAqL1xuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0R3JpZCA9IGZ1bmN0aW9uIChub2RlR3JpZCkge1xuICAgIHRoaXMubm9kZUdyaWQgPSBub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0TmVhcmVzdE5vZGUgPSBmdW5jdGlvbiAodGFyZ2V0UG9pbnQpIHtcbiAgICBsZXQgbmVhcmVzdE5vZGUgPSB0aGlzLm5vZGVHcmlkWzBdO1xuICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm5vZGVHcmlkKSB7XG4gICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eVwiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgYm90QmVoYXZpb3VyRW51bXMgfSBmcm9tICcuLi8uLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IHdlYXBvbkVudW1zIH0gZnJvbSBcIi4uLy4uL2RhdGEvV2VhcG9uVHlwZXNcIjtcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuY29uc3Qgc3RhdHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGwnLFxuICAgICAgICB0aXRsZTogJ1NraWxsJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ21heFN0YW1pbmEnLFxuICAgICAgICB0aXRsZTogJ1N0YW1pbmEnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heEx1Y2snLFxuICAgICAgICB0aXRsZTogJ0x1Y2snLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2luaXRpYXRpdmUnLFxuICAgICAgICB0aXRsZTogJ0luaXRpYXRpdmUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMlxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heE1vdmVtZW50JyxcbiAgICAgICAgdGl0bGU6ICdNb3ZlbWVudCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiA2XG4gICAgfVxuXTtcblxuY29uc3QgYWR2YW5jZWRTa2lsbHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsVmFsdWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIFZhbHVlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9XG5dO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlckhlaWdodFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSGVpZ2h0XCIsXG4gICAgZGVmYXVsdDogMS44XG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImlzTlBDXCIsIHtcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICB0aXRsZTogXCJpcyBOUENcIixcbiAgICBkZWZhdWx0OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YXRzT3ZlcnJpZGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJTdGF0cyBPdmVycmlkZXNcIixcbiAgICBzY2hlbWE6IHN0YXRzU2NoZW1hXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFkdmFuY2VkU2tpbGxzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJBZHZhbmNlZCBTa2lsbHNcIixcbiAgICBzY2hlbWE6IGFkdmFuY2VkU2tpbGxzU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbWJhdEdyb3VwTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDb21iYXQgR3JvdXAgTmFtZVwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRpYWxvZ3VlVHJlZU5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRGlhbG9ndWUgVHJlZSBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYm90QmVoYXZpb3VyXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkJvdCBCZWhhdmlvdXJcIixcbiAgICBlbnVtOiBib3RCZWhhdmlvdXJFbnVtcyxcbiAgICBkZWZhdWx0OiAwXG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZXF1aXBwZWRXZWFwb25cIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRXF1aXBwZWQgV2VhcG9uXCIsXG4gICAgZW51bTogd2VhcG9uRW51bXMsXG4gICAgZGVmYXVsdDogXCJ1bmFybWVkXCJcbn0pO1xuXG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuXG5cbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRzT3ZlcnJpZGVzID0gdGhpcy5zdGF0c092ZXJyaWRlcztcbiAgICBjb25zdCBwcm94eVBhcmFtcyA9IHtcbiAgICAgICAgaWQ6IHRoaXMuY2hhcmFjdGVySWQsXG4gICAgICAgIGlzTlBDOiB0aGlzLmlzTlBDLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuY2hhcmFjdGVySGVpZ2h0LFxuICAgICAgICBhZHZhbmNlZFNraWxsczogdGhpcy5hZHZhbmNlZFNraWxscyxcbiAgICAgICAgZXF1aXBwZWRXZWFwb246IHRoaXMuZXF1aXBwZWRXZWFwb24sXG4gICAgICAgIC4uLnN0YXRzT3ZlcnJpZGVzLFxuICAgICAgICBib3RCZWhhdmlvdXI6IHRoaXMuYm90QmVoYXZpb3VyLFxuICAgICAgICBkaWFsb2d1ZVRyZWU6IHRoaXMuZGlhbG9ndWVUcmVlTmFtZVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jb21iYXRHcm91cE5hbWUgJiYgdGhpcy5jb21iYXRHcm91cE5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgY29tcmFkZUVudGl0aWVzID0gdGhpcy5hcHAucm9vdC5maW5kQnlUYWcoYGNvbWJhdEdyb3VwOiR7dGhpcy5jb21iYXRHcm91cE5hbWV9YCk7XG5cbiAgICAgICAgY29uc3QgY29tYmF0R3JvdXAgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjb21yYWRlRW50aXR5IG9mIGNvbXJhZGVFbnRpdGllcykge1xuICAgICAgICAgICAgLy8gSWdub3JlIGRpc2FibGVkIGVudGl0aWVzXG4gICAgICAgICAgICBpZiAoY29tcmFkZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcmFkZUlkID0gY29tcmFkZUVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5jaGFyYWN0ZXJJZDtcbiAgICAgICAgICAgICAgICBjb21iYXRHcm91cC5wdXNoKGNvbXJhZGVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJveHlQYXJhbXMuY29tYmF0R3JvdXAgPSBjb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIC8vIHRoaXMuZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBuZXcgR2FtZUNoYXJhY3RlclByb3h5KHByb3h5UGFyYW1zKTtcbiAgICAgICAgLy8gU2V0IGN1cnJlbnQgbm9kZSBpZiBnYW1lIGNoYXJhY3RlciB3YXMgY3JlYXRlZCBhZnRlciB0aGUgbWFwXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoZ2FtZU1hcFByb3h5KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgfVxuXG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcblxuICAgIHRoaXMudmVoaWNsZSA9IHRoaXMuZW50aXR5LnNjcmlwdFsnVmVoaWNsZUNvbXBvbmVudCddO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG5cbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoICYmIHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2FuY2VsTW92ZScpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IHBhdGg7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ3dhbGsuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubW92ZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChkdCkge1xuXG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dFBhdGhQb2ludCA9IHRoaXMubW92ZW1lbnRQYXRoW3RoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3Qgbm9kZVBvaW50ID0gbmV3IHBjLlZlYzMobmV4dFBhdGhQb2ludC54LCBuZXh0UGF0aFBvaW50LnksIG5leHRQYXRoUG9pbnQueik7XG5cblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBsb2NhbFBvcy5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMubW92ZW1lbnRQYXRoLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnZmluaXNoZWRNb3ZlJywgY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgndXBkYXRlQ3VycmVudE5vZGUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5zZWVrKG5vZGVQb2ludCwgZHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGUuYXJyaXZlKG5vZGVQb2ludCwgZHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnByb2Nlc3NWZWxvY2l0eShkdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmxvb2tBdFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCBkeCA9IHBvaW50LnggLSBsb2NhbFBvcy54O1xuICAgIGNvbnN0IGR6ID0gcG9pbnQueiAtIGxvY2FsUG9zLno7XG4gICAgY29uc3QgYW5nbGVUb0Rlc3QgPSBNYXRoLmF0YW4yKGR4LCBkeikgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIGFuZ2xlVG9EZXN0LCAwKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZURlYXRoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2RpZS5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlSGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2hpdC5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlQXR0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2F0dGFjay5nbGInLCAwLjEpO1xufSIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG4gICAgY29uc29sZS5sb2coJ1dhaXQgZm9yIGluaXRpYWwnKTtcbn07XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNYXBHcmlkQ3JlYXRlZCA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5jaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xufVxuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW92ZWRUb05vZGUgPSBmdW5jdGlvbiAoaWQsIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuXG4gICAgLy8gSWdub3JlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgZXhwbG9yaW5nXG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgIT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OIHx8IHRoaXMuY2hhcmFjdGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY2hhcmFjdGVyUG9pbnQgPSBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55LCB0YXJnZXROb2RlLnopO1xuXG4gICAgaWYgKGNoYXJhY3RlclBvaW50LmRpc3RhbmNlKHRhcmdldFBvaW50KSA8PSB0aGlzLnNpZ2h0UmFuZ2UpIHtcbiAgICAgICAgLy8gTWlnaHQgYmUgc2VlbiAtIGNoZWNrIGZvciB3YWxsc1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNoYXJhY3RlclBvaW50LnkgKz0gdGhpcy5jaGFyYWN0ZXJQcm94eS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoY2hhcmFjdGVyUG9pbnQsIHRhcmdldFBvaW50KSkge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IFNldENhbWVyYVRhcmdldENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VULCB0aGlzLmVudGl0eSk7XG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnB1dExheWVyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEVcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOmdhbWVDaGFyYWN0ZXInLCB0aGlzLmhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpuYXZpZ2F0aW9uJywgdGhpcy5oYW5kbGVQaWNrZXJOYXZpZ2F0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyKGNoYXJhY3RlckVudGl0eSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIGNoYXJhY3RlckVudGl0eSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgndmVydGljYWxTY3JvbGwnLCB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UsIHRpdGxlOiAnVmVydGljYWwgU2Nyb2xsJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21pbkNhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWluIENhbWVyYSBIZWlnaHQnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDYW1lcmEucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDYW1lcmFNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5zZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuZW50aXR5LmdldEV1bGVyQW5nbGVzKCkueTtcbiAgICB0aGlzLmNhbWVyYUhlaWdodCA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKS55O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgIHRoaXMucm90YXRpb24gKz0gZGlyZWN0aW9uLnggKiB0aGlzLmRyYWdNdWx0aXBsaWVyWDtcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIGxldCBuZXdDYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYUhlaWdodCAtIChkaXJlY3Rpb24ueSAqIHRoaXMuZHJhZ011bHRpcGxpZXJZKTtcbiAgICAgICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xuICAgIH1cbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24gPSBmdW5jdGlvbiAoZm9jdXNQb2ludCkge1xuICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpXG5cbiAgICBjb25zdCB0YXJnZXRYID0gTWF0aC5zaW4oKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuICAgIGNvbnN0IHRhcmdldFogPSBNYXRoLmNvcygodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoZm9jdXNQb2ludC54ICsgdGFyZ2V0WCwgY2FtZXJhUG9zaXRpb24ueSwgZm9jdXNQb2ludC56ICsgdGFyZ2V0Wik7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuR2FtZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0gdGhpcy5jYW1lcmFUYXJnZXQuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR3ZWVuWCA9ICh0YXJnZXRQb3NpdGlvbi54ICsgY3VycmVudFBvcy54ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5ZID0gKHRoaXMuY2FtZXJhSGVpZ2h0ICsgY3VycmVudFBvcy55ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5aID0gKHRhcmdldFBvc2l0aW9uLnogKyBjdXJyZW50UG9zLnogKiA5KSAvIDEwO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24odHdlZW5YLCB0d2VlblksIHR3ZWVuWik7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkubG9va0F0KGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDYW1lcmEgfSBmcm9tICcuL0dhbWVDYW1lcmEnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNhbWVyYU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNhbWVyYU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLnNldENhbWVyYVRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLmhhbmRsZURyYWcoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW5wdXRMYXllck1lZGlhdG9yIH0gZnJvbSAnLi9JbnB1dExheWVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi4vZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgSW5wdXRMYXllckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW5wdXRMYXllckNvbXBvbmVudCcpO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2FtZXJhRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkNhbWVyYSBFbnRpdHlcIlxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkcmFnVGltZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJEcmFnIFRpbWVcIixcbiAgICBkZWZhdWx0OiAwLjRcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5hcHAubW91c2UpIHtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmUodG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHkgPSBwaWNrUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRHYW1lQ2hhcmFjdGVyKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkTmF2aWdhdGlvbihoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygncG9ydGFsJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkUG9ydGFsKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZEdhbWVDaGFyYWN0ZXIgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgcGlja2VkRW50aXR5KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpuYXZpZ2F0aW9uJywgbmVhcmVzdE5vZGUpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRQb3J0YWwgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHBpY2tlZEVudGl0eS5maXJlKCdwaWNrZXI6cG9ydGFsJyk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXR5KGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICByZXR1cm4gMjtcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZW5kVHVybicsIHRoaXMuaGFuZGxlRW5kVHVybiwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRW5kVHVybihldnQpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgfSBmcm9tIFwiLi9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnKTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VuZFR1cm5CdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0VuZCBUdXJuIGJ1dHRvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVuZFR1cm5CdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmNsaWNrRW5kVHVybiwgdGhpcyk7XG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xpY2tFbmRUdXJuID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOmVuZFR1cm4nKTtcbn1cbiIsImV4cG9ydCBjb25zdCBIaXRib3hDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0hpdGJveENvbXBvbmVudCcpO1xuXG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignc3RvcExpc3RlbmluZycsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LnBhcmVudCwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuYWFiYi5jZW50ZXIuY29weSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvblBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIEdhbWVDb21tYW5kcy5UT0dHTEVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZmlyZUNvbW1hbmQnLCB0aGlzLmhhbmRsZUZpcmVDb21tYW5kLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT046XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uUGFuZWxDb21wb25lbnQnXS5zZWxlY3RBY3Rpb24oYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRmlyZUNvbW1hbmQoY29tbWFuZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihjb21tYW5kTmFtZSwgLi4uYXJncyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcblxuY29uc3QgY29tbWFuZFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tYW5kTmFtZScsXG4gICAgICAgIHRpdGxlOiAnQ29tbWFuZCBuYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmRBcmdzJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIGFyZ3VtZW50cycsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLCBhcnJheTogdHJ1ZVxuICAgIH1cbl07XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb21tYW5kcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGNvbW1hbmRTY2hlbWEsIHRpdGxlOiAnQ29tbWFuZCBuYW1lJywgYXJyYXk6IHRydWUgfSk7O1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbignc2VsZWN0OmFjdGlvbicsIHRoaXMuaGFuZGxlQ2hhbmdlQWN0aW9uLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgdGhpcy5jb21tYW5kcykge1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IGNvbW1hbmQuY29tbWFuZE5hbWU7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gY29tbWFuZC5jb21tYW5kQXJncztcbiAgICAgICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2NsaWNrOmZpcmVDb21tYW5kJywgY29tbWFuZE5hbWUsIC4uLmNvbW1hbmRBcmdzKTtcblxuICAgIH1cbn1cblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDaGFuZ2VBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuZW50aXR5Lm5hbWUgPT09IGFjdGlvbikge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBBY3Rpb25QYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uUGFuZWxNZWRpYXRvcic7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0FjdGlvbkJ1dHRvbkNvbXBvbmVudCc7XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb25CdXR0b25zJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdBY3Rpb24gQnV0dG9ucycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufVxuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgYnV0dG9uLmZpcmUoJ3NlbGVjdDphY3Rpb24nLCBhY3Rpb25OYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVUlTdG9wUHJvcGFnYXRpb24gPSBwYy5jcmVhdGVTY3JpcHQoJ1VJU3RvcFByb3BhZ2F0aW9uJyk7XG5cblVJU3RvcFByb3BhZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cblxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciB9IGZyb20gXCIuL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCcpO1xuXG5jb25zdCBwcm9qZWN0aWxlU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb2plY3RpbGVOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZVRlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIFRlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVR5cGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFR5cGVzXCIsXG4gICAgc2NoZW1hOiBwcm9qZWN0aWxlU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuXG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUHJvamVjdGlsZSA9IGZ1bmN0aW9uIChwcm9qZWN0aWxlTmFtZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWxlU2NoZW1lID0gdGhpcy5wcm9qZWN0aWxlVHlwZXMuZmluZChzY2hlbWUgPT4gc2NoZW1lLnByb2plY3RpbGVOYW1lID09PSBwcm9qZWN0aWxlTmFtZSk7XG4gICAgICAgIGlmIChwcm9qZWN0aWxlU2NoZW1lKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0aWxlID0gcHJvamVjdGlsZVNjaGVtZS5wcm9qZWN0aWxlVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1Byb2plY3RpbGUpO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5vbmNlKCdwcm9qZWN0aWxlQXJyaXZlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld1Byb2plY3RpbGUuc2NyaXB0WydQcm9qZWN0aWxlQ29tcG9uZW50J10uc2V0VGFyZ2V0KG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIHByb2plY3RpbGUgXCIke3Byb2plY3RpbGVOYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDb21wb25lbnQnKTtcblxuUHJvamVjdGlsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInByb2plY3RpbGVTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogOFxufSk7XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55LCBvcmlnaW5Qb2ludC56KTtcbiAgICB0aGlzLnRhcmdldFBvaW50ID0gdGFyZ2V0UG9pbnQ7XG4gICAgdGhpcy5sb29rQXRQb2ludCh0aGlzLnRhcmdldFBvaW50KTtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKHRoaXMudGFyZ2V0UG9pbnQuY2xvbmUoKSwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZSh0aGlzLnRhcmdldFBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Byb2plY3RpbGVBcnJpdmVkJyk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vU3RhbWluYUJhckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBTdGFtaW5hQmFyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdGFtaW5hQmFyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhbWluYSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4U3RhbWluYSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlN0YW1pbmFCYXJDb21wb25lbnRcIl0udXBkYXRlU3RhbWluYShuZXdTdGFtaW5hLCBtYXhTdGFtaW5hKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFN0YW1pbmFCYXJNZWRpYXRvciB9IGZyb20gXCIuL1N0YW1pbmFCYXJNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgU3RhbWluYUJhckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU3RhbWluYUJhckNvbXBvbmVudCcpO1xuXG5TdGFtaW5hQmFyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYmFyRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkJhciBFbnRpdHlcIlxufSk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGFtaW5hTGFiZWxcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiU3RhbWluYSBMYWJlbFwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBTdGFtaW5hQmFyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuYmFyRW50aXR5TWF4V2lkdGggPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LndpZHRoO1xufTtcblxuXG5TdGFtaW5hQmFyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVTdGFtaW5hID0gZnVuY3Rpb24gKGN1cnJlbnRTdGFtaW5hLCBtYXhTdGFtaW5hKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYy5tYXRoLmNsYW1wKGN1cnJlbnRTdGFtaW5hIC8gbWF4U3RhbWluYSwgMCwgMSk7XG4gICAgY29uc3Qgd2lkdGggPSBwYy5tYXRoLmxlcnAoMCwgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCwgdmFsdWUpO1xuICAgIC8vIHNldCB0aGUgd2lkdGggb2YgdGhlIGZpbGwgaW1hZ2UgZWxlbWVudFxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGggPSB3aWR0aDtcblxuICAgIC8vIFNldCB0aGUgd2lkdGggb2YgdGhlIGVsZW1lbnQncyByZWN0IChyZWN0LnopIHRvIGJlIHRoZSBzYW1lXG4gICAgLy8gdmFsdWUgYXMgb3VyIDAtMSBwcm9ncmVzcy5cbiAgICAvLyBUaGlzIGlzIHNvIHRoYXQgdGhlIGZpbGwgaW1hZ2Ugd2lsbCBvbmx5IHNob3cgdGhlIHBvcnRpb25cbiAgICAvLyBvZiB0aGUgdGV4dHVyZSB0aGF0IGlzIHZpc2libGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QueiA9IHZhbHVlO1xuICAgIC8vIGZvcmNlIHJlY3QgdXBkYXRlXG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0ID0gdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0O1xuXG4gICAgdGhpcy5zdGFtaW5hTGFiZWwuZWxlbWVudC50ZXh0ID0gYCR7Y3VycmVudFN0YW1pbmF9LyR7bWF4U3RhbWluYX1gO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVBY3Rpb25zID0gcGxheWVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBY3Rpb25zID0gcGxheWVyUHJveHkubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50J10uc2hvd0F2YWlsYWJsZUFjdGlvbihhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3InO1xuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcFRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1BpcCBUZW1wbGF0ZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5waXBzID0gW107XG59XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2hvd0F2YWlsYWJsZUFjdGlvbiA9IGZ1bmN0aW9uIChhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKSB7XG4gICAgd2hpbGUgKHRoaXMucGlwcy5sZW5ndGggPCBtYXhBY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGlwKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBhdmFpbGFibGVBY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1BpcCA9IHRoaXMucGlwVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdQaXApO1xuICAgIHRoaXMucGlwcy5wdXNoKG5ld1BpcCk7XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCcpO1xuXG5BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwaXBGcm9udCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnUGlwIGZyb250JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkub24oJ3RvZ2dsZVBpcCcsIChzaG93KSA9PiB7XG4gICAgICAgIHRoaXMucGlwRnJvbnQuZW5hYmxlZCA9IHNob3c7XG4gICAgfSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVM6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCddO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0ZXJOYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzY3JpcHRDb21wLmRpc3BsYXlTdGF0dXMoZmxvYXRlck5hbWUsIHRhcmdldFByb3h5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnKTtcblxuLy8gVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsgfTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnNldFdvcmxkUG9zaXRpb24gPSBmdW5jdGlvbiAod29ybGRQb3NpdGlvbiwgY2FtZXJhLCBzY3JlZW4pIHtcbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLndvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uO1xuICAgIHRoaXMuZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgdGhpcy5jYW1lcmFFbnRpdHkgPSBjYW1lcmE7XG4gICAgdGhpcy5zY3JlZW5FbnRpdHkgPSBzY3JlZW47XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH0sIDEwMDApO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0VXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLndvcmxkU3BhY2VUb1NjcmVlblNwYWNlKHRoaXMud29ybGRQb3NpdGlvbi5jbG9uZSgpKTtcbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgfVxufTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLndvcmxkU3BhY2VUb1NjcmVlblNwYWNlID0gZnVuY3Rpb24gKHBvcykge1xuICAgIGlmICh0aGlzLmRldmljZSAmJiB0aGlzLmNhbWVyYUVudGl0eSAmJiB0aGlzLnNjcmVlbkVudGl0eSkge1xuICAgICAgICBjb25zdCB3b3JsZFBvcyA9IHBvcy5jbG9uZSgpO1xuICAgICAgICBjb25zdCBzY3JlZW5Qb3MgPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAvLyBnZXQgc2NyZWVuIHNwYWNlIGNvLW9yZFxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEud29ybGRUb1NjcmVlbih3b3JsZFBvcywgc2NyZWVuUG9zKTtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLm1heFBpeGVsUmF0aW87XG4gICAgICAgIHNjcmVlblBvcy54ICo9IHBpeGVsUmF0aW87XG4gICAgICAgIHNjcmVlblBvcy55ICo9IHBpeGVsUmF0aW87XG5cbiAgICAgICAgY29uc3Qgc2NyZWVuQ29tcCA9IHRoaXMuc2NyZWVuRW50aXR5LnNjcmVlbjtcblxuICAgICAgICBjb25zdCByYXRpb1NjYWxlID0gc2NyZWVuQ29tcC5zY2FsZTtcbiAgICAgICAgY29uc3QgeCA9IChzY3JlZW5Qb3MueCAvIHJhdGlvU2NhbGUpO1xuICAgICAgICBjb25zdCB5ID0gKHRoaXMuZGV2aWNlLmhlaWdodCAtIHNjcmVlblBvcy55KSAvIHJhdGlvU2NhbGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBwYy5WZWMzKHgsIHksIDApO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbn0iLCJleHBvcnQgY29uc3QgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50JztcblxuY29uc3QgZmxvYXRpbmdTdGF0dXNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0ZW1wbGF0ZScsXG4gICAgICAgIHRpdGxlOiAnVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JlZW5FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NjcmVlbiBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjYW1lcmFFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NhbWVyYSBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmbG9hdGluZ1N0YXR1c2VzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogZmxvYXRpbmdTdGF0dXNTY2hlbWEsIHRpdGxlOiAnRmxvYXRpbmcgU3RhdHVzZXMnLCBhcnJheTogdHJ1ZSB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheVN0YXR1cyA9IGZ1bmN0aW9uIChuYW1lLCB0YXJnZXRQcm94eSwgLi4uYXJncykge1xuICAgIGNvbnN0IHNjaGVtZSA9IHRoaXMuZmxvYXRpbmdTdGF0dXNlcy5maW5kKChvdGhlclNjaGVtZSkgPT4gb3RoZXJTY2hlbWUubmFtZSA9PT0gbmFtZSk7XG4gICAgaWYgKHNjaGVtZSkge1xuICAgICAgICAvLyBcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSArIHRhcmdldFByb3h5LmhlaWdodCwgdGFyZ2V0Tm9kZS56KTtcbiAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gc2NoZW1lLnRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIG5ld1N0YXR1cy5zY3JpcHRbJ1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50J10uc2V0V29ybGRQb3NpdGlvbih0YXJnZXRQb3MsXG4gICAgICAgICAgICB0aGlzLmNhbWVyYUVudGl0eSwgdGhpcy5zY3JlZW5FbnRpdHkpO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuYWRkQ2hpbGQobmV3U3RhdHVzKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBmbG9hdGluZyBzdGF0dXM6ICR7bmFtZX1gKTtcbiAgICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUG9ydGFsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQb3J0YWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpwb3J0YWwnLCB0aGlzLnNlbGVjdGVkUG9ydGFsLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRQb3J0YWwoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgcG9ydGFsQ29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnUG9ydGFsQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25TY2VuZTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25Qb3J0YWw7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9zaXRpb24gPSBwb3J0YWxDb21wb25lbnQuc3RhbmRpbmdQb2ludC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLFxuICAgICAgICAgICAgICAgIHN0YW5kaW5nUG9zaXRpb24sIGRlc3RpbmF0aW9uU2NlbmUsIGRlc3RpbmF0aW9uUG9ydGFsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBQb3J0YWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BvcnRhbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBQb3J0YWxNZWRpYXRvciB9IGZyb20gJy4vUG9ydGFsTWVkaWF0b3InO1xuXG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BvcnRhbElkJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdQb3J0YWwgSWQnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXN0aW5hdGlvblNjZW5lJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBTY2VuZScgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uUG9ydGFsJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBQb3J0YWwnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaXRib3gnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpdGJveCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3N0YW5kaW5nUG9pbnQnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N0YW5kaW5nIFBvaW50JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBvcnRhbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBvcnRhbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnN0YW5kaW5nUG9pbnQubW9kZWwuZW5hYmxlZCA9IGZhbHNlO1xuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJEaWFsb2d1ZVBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVMsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04sXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNvbnRpbnVlJywgdGhpcy5oYW5kbGVDbGlja0NvbnRpbnVlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjbGlja2VkOmNob2ljZScsIHRoaXMuaGFuZGxlQ2xpY2tDaG9pY2UsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9QQU5FTDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jbGVhclBhbmVsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY3JlYXRlU3RlcChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVM6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyRGlhbG9ndWVDaG9pY2VzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24oZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0NvbnRpbnVlKCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT05USU5VRV9ESUFMT0dVRV9OT0RFKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0Nob2ljZShpbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfRElBTE9HVUVfQ0hPSUNFLCBpbmRleCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9EaWFsb2d1ZVBhbmVsTWVkaWF0b3InO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JvbGxiYXJWaWV3RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTY3JvbGxiYXIgVmlldycgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDb250ZW50IEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmZWVkRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdGZWVkIEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdDb250ZW50IEhlaWdodCcsIGRlZmF1bHQ6IDUyMCB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dEVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnVGV4dCBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjaG9pY2VFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0Nob2ljZSBFbnRyeSBBc3NldCcgfSk7XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2NvbnRpbnVlQnV0dG9uRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDb250aW51ZSBCdXR0b24nIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoRGlhbG9ndWVQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuZW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xuXG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbkVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2tlZDpjb250aW51ZScpO1xuICAgIH0sIHRoaXMpO1xuXG59O1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVTdGVwID0gZnVuY3Rpb24gKHN0ZXBEYXRhKSB7XG4gICAgdGhpcy5jcmVhdGVUZXh0KHN0ZXBEYXRhLnN0ZXApO1xuXG4gICAgaWYgKHN0ZXBEYXRhLnN0ZXAuY2hvaWNlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBEYXRhLnN0ZXAuY2hvaWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlID0gc3RlcERhdGEuc3RlcC5jaG9pY2VzW2ldO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDaG9pY2UoaSwgY2hvaWNlLnRleHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVUZXh0ID0gZnVuY3Rpb24gKHN0ZXBEYXRhKSB7XG4gICAgY29uc3QgbmV3VGV4dCA9IHRoaXMudGV4dEVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdUZXh0LnNjcmlwdFtcIkRpYWxvZ3VlVGV4dENvbXBvbmVudFwiXS5zZXR1cChzdGVwRGF0YSk7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld1RleHQpO1xuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlQ2hvaWNlID0gZnVuY3Rpb24gKGluZGV4LCB0ZXh0KSB7XG4gICAgY29uc3QgbmV3Q2hvaWNlID0gdGhpcy5jaG9pY2VFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3Q2hvaWNlLnNjcmlwdFtcIkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50XCJdLnNldHVwKGluZGV4LCB0ZXh0KTtcbiAgICBuZXdDaG9pY2UuZWxlbWVudC50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3Q2hvaWNlKTtcbiAgICB0aGlzLmNob2ljZXMucHVzaChuZXdDaG9pY2UpO1xuXG4gICAgbmV3Q2hvaWNlLm9uKCdjbGljaycsIHRoaXMuaGFuZGxlU2VsZWN0Q2hvaWNlLCB0aGlzKTtcblxuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJEaWFsb2d1ZUNob2ljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChjb25zdCBjaG9pY2Ugb2YgdGhpcy5jaG9pY2VzKSB7XG4gICAgICAgIGNob2ljZS5vZmYoJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuICAgICAgICBjaG9pY2UuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhclBhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHdoaWxlICh0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW5bMF0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlU2VsZWN0Q2hvaWNlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2tlZDpjaG9pY2UnLCBpbmRleCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnJlc2l6ZVRvQ29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNwYWNpbmdWZXJ0aWNhbCA9IHRoaXMuZmVlZEVudGl0eS5sYXlvdXRncm91cC5zcGFjaW5nLnk7XG4gICAgbGV0IGhlaWdodCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGZlZWRDaGlsZCBvZiB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4pIHtcbiAgICAgICAgaGVpZ2h0ICs9IGZlZWRDaGlsZC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgaGVpZ2h0ICs9IHNwYWNpbmdWZXJ0aWNhbDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRFbnRpdHkuZWxlbWVudC5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmNvbnRlbnRIZWlnaHQsIGhlaWdodCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnNldENvbnRpbnVlQnV0dG9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbkVudGl0eS5lbmFibGVkID0gdmFsdWU7XG59XG4iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpbmRleEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSW5kZXggRW50aXR5JyB9KTtcbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGluZGV4LCBsYWJlbCkge1xuICAgIHRoaXMuaW5kZXhFbnRpdHkuZWxlbWVudC50ZXh0ID0gKGluZGV4ICsgMSkgKyBcIi5cIjtcbiAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IGxhYmVsO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrJywgaW5kZXgpXG4gICAgfSk7XG59XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbn1cbiIsImV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50Jyk7XG5cbkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhbmltYXRpb25OYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkFuaW1hdGlvbiBOYW1lXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KHRoaXMuYW5pbWF0aW9uTmFtZSwgMC4xKTtcbn0iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVUZXh0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVRleHRDb21wb25lbnQnKTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd3aXRoSW1hZ2VXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnV2l0aCBJbWFnZSBXaWR0aCcsIGRlZmF1bHQ6IDM0MCB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnd2l0aG91dEltYWdlV2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1dpdGggSW1hZ2UgV2lkdGgnLCBkZWZhdWx0OiAzNjAgfSk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGV4dCBDb250YWluZXInIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aXRsZUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGl0bGUgRW50aXR5JyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnYm9keUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQm9keSBFbnRpdHknIH0pO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGh1bWJuYWlsIENvbnRhaW5lcicgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbEltYWdlJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaHVtYm5haWwgSW1hZ2UnIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGlmIChzdGVwRGF0YS50aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVsZW1lbnQudGV4dCA9IHN0ZXBEYXRhLnRpdGxlO1xuXG4gICAgICAgIGlmIChzdGVwRGF0YS50aXRsZUNvbG91cikge1xuICAgICAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbGVtZW50LmNvbG9yLmZyb21TdHJpbmcoc3RlcERhdGEudGl0bGVDb2xvdXIpO1xuXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RlcERhdGEudGh1bWJuYWlsKSB7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aG91dEltYWdlV2lkdGg7XG4gICAgICAgIHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LnRleHQgPSBzdGVwRGF0YS50ZXh0O1xuICAgIC8vIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbWluSGVpZ2h0ID0gKHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSkgPyB0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbGVtZW50LmhlaWdodCA6IDA7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgbGV0IHNwYWNpbmcgPSB0aGlzLnRleHRDb250YWluZXIubGF5b3V0Z3JvdXAuc3BhY2luZy55O1xuICAgIGZvciAoY29uc3QgdGV4dENoaWxkIG9mIHRoaXMudGV4dENvbnRhaW5lci5jaGlsZHJlbikge1xuICAgICAgICBoZWlnaHQgKz0gdGV4dENoaWxkLmVsZW1lbnQuaGVpZ2h0ICsgc3BhY2luZztcbiAgICB9XG5cblxuICAgIGlmICghdGhpcy50aXRsZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcblxuICAgIH1cblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoZWlnaHQpO1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRIZWlnaHQoKTtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIC8vdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEF0dGFja0J1dHRvbk1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQXR0YWNrQnV0dG9uTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6dG9nZ2xlQXR0YWNrJywgdGhpcy5oYW5kbGVUb2dnbGVBdHRhY2ssIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUgPT09IFwiYXR0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQXR0YWNrQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0F0dGFja0J1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlVG9nZ2xlQXR0YWNrKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgaWYgKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImF0dGFja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImludGVyYWN0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEF0dGFja0J1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQXR0YWNrQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEF0dGFja0J1dHRvbk1lZGlhdG9yIH0gZnJvbSAnLi9BdHRhY2tCdXR0b25NZWRpYXRvcic7XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEF0dGFja0J1dHRvbk1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazp0b2dnbGVBdHRhY2snLCAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCk7XG59XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGlzRW5hYmxlZCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBpc0VuYWJsZWQ7XG59IiwiZXhwb3J0IGNvbnN0IFZlaGljbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1ZlaGljbGVDb21wb25lbnQnKTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1hc3NcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWFzc1wiLFxuICAgIGRlZmF1bHQ6IDNcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWF4U3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWF4IFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXhGb3JjZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXggRm9yY2VcIixcbiAgICBkZWZhdWx0OiAwLjVcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYXJyaXZlVGhyZXNob2xkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkFycml2YWwgVGhyZXNob2xkXCIsXG4gICAgZGVmYXVsdDogMVxufSk7XG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBwYy5WZWMzKCk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gbmV3IHBjLlZlYzMoKTtcbn1cblxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5wcm9jZXNzVmVsb2NpdHkgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCk7XG5cbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBjbGFtcFZlYzModGhpcy5zdGVlcmluZ0ZvcmNlLCAodGhpcy5tYXhGb3JjZSkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5zY2FsZSgxIC8gKHRoaXMubWFzcykpO1xuICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5LmFkZCh0aGlzLnN0ZWVyaW5nRm9yY2UpO1xuICAgIHRoaXMudmVsb2NpdHkgPSBjbGFtcFZlYzModGhpcy52ZWxvY2l0eSwgKHRoaXMubWF4U3BlZWQgKiBkdCkpO1xuXG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gbmV3IHBjLlZlYzMoKTtcblxuICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24ocG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpKTtcblxuICAgIGNvbnN0IHlSb3RhdGlvbiA9IGdldEFuZ2xlKHRoaXMudmVsb2NpdHkpICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCB5Um90YXRpb24sIDApO1xufVxuXG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbiAodGFyZ2V0LCBkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBkZXNpcmVkVmVsb2NpdHkgPSB0YXJnZXQuY2xvbmUoKS5zdWIocG9zaXRpb24pO1xuICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5ub3JtYWxpemUoKVxuICAgIGRlc2lyZWRWZWxvY2l0eS5zY2FsZSh0aGlzLm1heFNwZWVkICogZHQpO1xuICAgIGNvbnN0IGZvcmNlID0gZGVzaXJlZFZlbG9jaXR5LnN1Yih0aGlzLnZlbG9jaXR5KTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2UuYWRkKGZvcmNlKTtcbn1cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuYXJyaXZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKTtcbiAgICBsZXQgZGVzaXJlZFZlbG9jaXR5ID0gdGFyZ2V0LmNsb25lKCkuc3ViKHBvc2l0aW9uKS5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLm1heFNwZWVkKTtcbiAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gcG9zaXRpb24uZGlzdGFuY2UodGFyZ2V0KTtcblxuICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0ID4gdGhpcy5hcnJpdmFsVGhyZXNob2xkKSB7XG4gICAgICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5zY2FsZSh0aGlzLm1heFNwZWVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkuc2NhbGUoKHRoaXMubWF4U3BlZWQgKiBkaXN0YW5jZVRvVGFyZ2V0IC8gdGhpcy5hcnJpdmVUaHJlc2hvbGQpKTtcblxuICAgIH1cbiAgICBjb25zdCBmb3JjZSA9IGRlc2lyZWRWZWxvY2l0eS5zdWIodGhpcy52ZWxvY2l0eSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLmFkZChmb3JjZSk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wVmVjMyh2ZWMzLCBtYXhWYWx1ZSkge1xuICAgIGlmICh2ZWMzLmxlbmd0aCgpIDwgbWF4VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZlYzM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZlYzMubm9ybWFsaXplKCkuc2NhbGUobWF4VmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5nbGUodmVjMykge1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHZlYzMueCwgdmVjMy56KTtcbn0iLCJleHBvcnQgY29uc3QgU2NyZWVuUmVzaXplQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTY3JlZW5SZXNpemVDb21wb25lbnQnKTtcblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS53aW5kb3cgPSB3aW5kb3c7XG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG59XG5cblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBncmFwaGljc0RldmljZSA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlO1xuICAgIC8vIEZsaXAgYmxlbmRcbiAgICBpZiAoZ3JhcGhpY3NEZXZpY2Uud2lkdGggPCBncmFwaGljc0RldmljZS5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2NyZWVuLnNjYWxlQmxlbmQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmVlbi5zY2FsZUJsZW5kID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLmVudGl0eS5zY3JlZW4ucmVmZXJlbmNlUmVzb2x1dGlvbiA9IG5ldyBwYy5WZWMyKGdyYXBoaWNzRGV2aWNlLndpZHRoLCBncmFwaGljc0RldmljZS5oZWlnaHQpO1xuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmNvbnN0IHsgUHVyZU1WQyB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBDYWNvZ2VuR2FtZSB9IGZyb20gJy4vdmlldy9DYWNvZ2VuR2FtZSc7XG5cbmltcG9ydCB7IE5hdmlnYXRpb25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQnO1xuaW1wb3J0IHsgU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvc2V0Q2FtZXJhVGFyZ2V0L1NldENhbWVyYVRhcmdldENvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBIaXRib3hDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY29sbGlzaW9uL0hpdGJveENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25QYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBVSVN0b3BQcm9wYWdhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbic7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDb21wb25lbnQnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9zdGFtaW5hQmFyL1N0YW1pbmFCYXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCc7XG5pbXBvcnQgeyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50JztcbmltcG9ydCB7IFBvcnRhbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wb3J0YWwvUG9ydGFsQ29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ3VlUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVDaG9pY2VDb21wb25lbnQnO1xuaW1wb3J0IHsgRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2RlZmF1bHRBbmltL0RlZmF1bHRBbmltYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVUZXh0Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVUZXh0Q29tcG9uZW50JztcbmltcG9ydCB7IEF0dGFja0J1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25QYW5lbC9hdHRhY2tCdXR0b24vQXR0YWNrQnV0dG9uQ29tcG9uZW50JztcbmltcG9ydCB7IFZlaGljbGVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdmVoaWNsZS9WZWhpY2xlQ29tcG9uZW50JztcbmltcG9ydCB7IFNjcmVlblJlc2l6ZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9zY3JlZW5SZXNpemUvU2NyZWVuUmVzaXplQ29tcG9uZW50JztcblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=