(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(542),n=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=o.PureMVC.debug?o.PureMVC.logCommand:o.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=n.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var n=this.commandMap[e];n&&(this.logger(t._consoleArgs,e,n.name),n.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(382),n=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(n.Model.removeModel(t),a.View.removeView(t),o.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];this.logger.apply(this,[t._consoleArgs,e].concat(o)),(i=this.view).notifyObservers.apply(i,[e].concat(o))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=o.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=n.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var o=t.call(this)||this;return o.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,o.mediatorName=e||"Mediator",o.viewComponent=i,o.sleeping=!0,o.subscribedNotifications=[],o.notificationSubscriptionChange=null,o}return n(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,o=this.notifications.slice(),n=!1;t instanceof Array?t.forEach((function(t){n=e.call(i,t)||n})):n=e.call(this,t),n&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,o)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(222),n=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return o.Facade.getInstance(this.multitonKey)},t}();e.Notifier=n},413:function(t,e,i){var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var o=t.call(this)||this;return o.proxyName=e||"Proxy",o.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&o.setData(i),o}return n(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(729),n=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new o,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var o=0,n=i;o<n.length;o++){var r=n[o];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var o=0,n=i;o<n.length;o++){var r=n[o];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=n},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=i(382);e.Controller=o.Controller;var n=i(222);e.Facade=n.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var p=i(999);e.View=p.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function o(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,o,r,a){if("function"!=typeof o)throw new TypeError("The listener must be a function");var s=new n(o,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,o,n=[];if(0===this._eventsCount)return n;for(o in t=this._events)e.call(t,o)&&n.push(i?o.slice(1):o);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t){var e=i?i+t:t,o=this._events[e];if(!o)return[];if(o.fn)return[o.fn];for(var n=0,r=o.length,a=new Array(r);n<r;n++)a[n]=o[n].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,o=this._events[e];return o?o.fn?1:o.length:0},s.prototype.emit=function(t,e,o,n,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,p=this._events[s],u=arguments.length;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),u){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,e),!0;case 3:return p.fn.call(p.context,e,o),!0;case 4:return p.fn.call(p.context,e,o,n),!0;case 5:return p.fn.call(p.context,e,o,n,r),!0;case 6:return p.fn.call(p.context,e,o,n,r,a),!0}for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];p.fn.apply(p.context,c)}else{var d,l=p.length;for(h=0;h<l;h++)switch(p[h].once&&this.removeListener(t,p[h].fn,void 0,!0),u){case 1:p[h].fn.call(p[h].context);break;case 2:p[h].fn.call(p[h].context,e);break;case 3:p[h].fn.call(p[h].context,e,o);break;case 4:p[h].fn.call(p[h].context,e,o,n);break;default:if(!c)for(d=1,c=new Array(u-1);d<u;d++)c[d-1]=arguments[d];p[h].fn.apply(p[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,o,n){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||n&&!s.once||o&&s.context!==o||a(this,r);else{for(var c=0,h=[],p=s.length;c<p;c++)(s[c].fn!==e||n&&!s[c].once||o&&s[c].context!==o)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},755:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>x});var o=i(68);class n{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return void 0!==this.connectedNodes.find((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}i(434);var r=i(917);pc.createScript("GameMapComponent").prototype.initialize=function(){},i(203);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"GameMapMediator"}constructor(t){super(s.NAME),this.subscribeNotification([o.i.CHANGE_SCENE_COMPLETE])}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case o.i.CHANGE_SCENE_COMPLETE:this.facade.retrieveProxy(r.u.NAME).vo,pc.Application.getApplication()}}}var c=i(99);const{GameMediator:h}=i(23),{Facade:p}=i(710);function u(t,e){console.log("Parse map");const i=pc.Application.getApplication().root.findByTag("navigation_floor");let n=[];const r=[];for(const t of i){const e=t.script.NavigationComponent;r.push(e);const i=d(t);e.setGrid(i)}for(const t of r)for(const e of t.connectedComponents){const i=e.script.NavigationComponent;l(t.getGrid(),i.getGrid()),n=n.concat(t.getGrid())}p.getInstance(t).registerProxy(new c.h(n)),p.getInstance(t).registerMediator(new s),p.getInstance(t).sendNotification(o.i.MAP_GRID_CREATED)}function d(t){const e=[],i=t.getLocalPosition(),o=t.getLocalScale(),r=Math.round(o.x),a=Math.round(o.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const o=new n(i,c,t);e.push(o)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function l(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}const{Facade:f}=i(710);function y(t,e){f.getInstance(t).registerProxy(new r.u)}const{Facade:g}=i(710);function m(t,e,...i){const n=pc.Application.getApplication(),r=i[0];console.log("Changing scene "+r);const a=n.root.findByName("Root"),s=n.scenes.find(r);n.scenes.loadSceneHierarchy(s.url,(function(e,i){e?console.error(e):a&&a.destroy(),g.getInstance(t).sendNotification(o.i.CHANGE_SCENE_COMPLETE,r),g.getInstance(t).sendNotification(o.i.PARSE_GAMEMAP,r)}))}var M=i(758),v=i(448);const{Facade:N}=i(710);function E(t,e,...i){const n=i[0],a=N.getInstance(t);a.sendNotification(o.i.SHOW_TOAST_MESSAGE,"Start Combat"),a.retrieveProxy(r.u.NAME).updateGameStateType(v.gameplayModeTypes.COMBAT);const s=["player"].concat(n),c=new M.F(s);a.registerProxy(c),a.sendNotification(o.i.NEXT_COMBAT_ROUND)}const{Facade:C}=i(710);function A(t,e,...i){const o=C.getInstance(t),n=o.retrieveProxy(r.u.NAME),a=o.retrieveProxy(M.F.NAME);n.vo.gameplayMode===v.gameplayModeTypes.COMBAT&&a.nextTurn()}const{Facade:_}=i(710);function T(t,e,...i){const n=_.getInstance(t),a=n.retrieveProxy(r.u.NAME),s=n.retrieveProxy(M.F.NAME);a.vo.gameplayMode===v.gameplayModeTypes.COMBAT&&(s.nextRound(),n.sendNotification(o.i.NEXT_COMBAT_TURN,s.vo.nextTurnCharacterId))}const{Facade:P}=i(710);function b(t,e,...i){setTimeout((()=>{const e=P.getInstance(t),i=e.retrieveProxy(M.F.NAME);e.sendNotification(o.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}const{Facade:O}=i(710);class x extends O{static getInstance(t){return O.instanceMap[t]||(O.instanceMap[t]=new x(t)),O.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return x.NAME+"StartUp"}startup(t){this.sendNotification(x.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(x.STARTUP,y),this.registerCommand(o.i.CHANGE_SCENE,m),this.registerCommand(o.i.PARSE_GAMEMAP,u),this.registerCommand(o.i.START_COMBAT,E),this.registerCommand(o.i.NEXT_COMBAT_TURN,A),this.registerCommand(o.i.NEXT_COMBAT_ROUND,T),this.registerCommand(o.i.END_COMBAT_TURN,b)}}},68:(t,e,i)=>{i.d(e,{i:()=>o});class o{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get PC_MOVED_TO_NODE(){return"PC_MOVED_TO_NODE"}static get PC_FINISHED_MOVE(){return"PC_FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}}},758:(t,e,i)=>{i.d(e,{F:()=>c});var o=i(68);function n(t){let e=t.length,i=void 0,o=-1;for(;0!==e;)o=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[o],t[o]=i;return t}var r=i(958);const{Proxy:a}=i(710),{CombatVO:s}=i(201);class c extends a{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t){super(c.NAME,new s(t))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(r.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,console.log("Current turn:: "+e),"end_round"!==e){this.facade.sendNotification(o.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),"player"===e?this.facade.sendNotification(o.i.AWAIT_PLAYER_COMBAT_INPUT,t):setTimeout((()=>{this.facade.sendNotification(o.i.END_COMBAT_TURN)}),3e3)}else this.facade.sendNotification(o.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(o.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const o=i.vo;for(let i=0;i<o.initiative;i++)t.push(e)}t.push("end_round");let e=n(t);for(;"end_round"===e[0];)e=n(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}}},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>o});class o{constructor(t){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>r});const{Proxy:o}=i(710),{GameCharacterVO:n}=i(940);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(r.NAME+t,new n(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>o});class o{constructor(t){this.id=t,this.currentNode=void 0,this.agroArea=void 0,this.roundInitiative=[],this.initiative=2,this.maxMovement=6,this.availableMovement=this.maxMovement}}},99:(t,e,i)=>{i.d(e,{h:()=>a});var o=i(434);const{Proxy:n}=i(710),{GameMapVO:r}=i(438);class a extends n{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t){super(a.NAME),this.setData({mapGrid:t})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],n=o.q.getDistSquared(i,t);for(const r of e){const e=o.q.getDistSquared(r,t);e<n&&(n=e,i=r)}return i}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>o});class o{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>n});class o{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let o=this.data[i].priority;Math.min(e,o)===o&&(e=o,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class n{static breadthFirstSearch(t,e){let i=[];const o=[];i.push(t);const n=new Map;n.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||n.has(r)||(t.push(r),o.push(r),n.set(r,e))}i=t,r++}return o}static calculatePath(t,e){const i=new o;i.push(t,0);const n=new Map,r=new Map;for(n.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let o=0;o<t.connectedNodes.length;o++){const a=t.connectedNodes[o],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let o=s+this.heuristic(a,e);i.push(a,o),n.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)n.has(a)||!a.equals(e)?(a=n.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:o}=i(710),{GameStateVO:n}=i(448);class r extends o{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new n)}updateGameStateType(t){this.vo.gameplayMode=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>o,GameStateVO:()=>n});const o={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE"};class n{constructor(){this.gameplayMode=o.EXPLORATION}}},23:(t,e,i)=>{i.r(e),i.d(e,{GameMediator:()=>r});var o=i(68);const{Mediator:n}=i(710);class r extends n{static get NAME(){return"GameMediator"}constructor(){console.log("Register mediator - GameMediator");const t=pc.Application.getApplication();super(r.NAME,t),this.subscribeNotification(o.i.APP_INITIALISED)}handleNotification(t,...e){switch(t){case o.i.APP_INITIALISED:}}}},203:(t,e,i)=>{var o=i(710),n=i(755),r=i(68);i(917);const{Mediator:a}=i(710);class s extends a{static get NAME(){return"InputLayerMediator"}constructor(t){super(s.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.CHANGE_SCENE_COMPLETE:}}handlePickerNavigation(t){this.facade.sendNotification(r.i.NAVIGATE_TO_NODE,t)}handleScrolling(t){this.facade.sendNotification(r.i.INPUT_DRAG_MOUSE,t)}}const c=pc.createScript("GameCamera");c.attributes.add("distance",{type:"number",default:100,title:"Distance"}),c.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),c.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),c.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),c.prototype.initialize=function(){this.facade=o.Facade.getInstance(n.GameFacade.KEY),this.facade.hasMediator(p.NAME)&&this.facade.removeMediator(p.NAME),this.facade.registerMediator(new p(this.entity))},c.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},c.prototype.handleDrag=function(t){this.rotation+=t.x*this.dragMultiplierX;let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e},c.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,o=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+o)},c.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),o=(e.x+9*i.x)/10,n=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(o,n,r),this.entity.lookAt(t)}};const{Mediator:h}=i(710);class p extends h{static get NAME(){return"GameCameraMediator"}constructor(t){super(p.NAME),this.subscribeNotification([r.i.CHANGE_SCENE_COMPLETE,r.i.INPUT_DRAG_MOUSE,r.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){switch(t){case r.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(e[0]);break;case r.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(e[0])}}}const u=pc.createScript("InputLayerComponent");u.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),u.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),u.prototype.initialize=function(){this.facade=o.Facade.getInstance(n.GameFacade.KEY),this.facade.hasMediator(s.NAME)&&this.facade.removeMediator(s.NAME),this.facade.registerMediator(new s(this.entity)),this.ray=new pc.Ray,this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))},u.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},u.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},u.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},u.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,o=this.cameraEntity.camera;o.screenToWorld(t,e,o.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},u.prototype.handlePickerResult=function(t,e,i){if(t.tags.has("navigation")){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)}}}},e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,i),n.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(755),e=i(68);const{Facade:o}=i(710),{GameFacade:n}=i(755),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=o.getInstance(n.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Map1")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const o of this.nodeGrid){const n=a.q.getDistSquared(o,t);n<i&&(i=n,e=o)}return e};var c=i(710),h=i(958),p=i(99),u=i(917);const{Mediator:d}=i(710);class l extends d{static get NAME(){return"GameCharacterMediator_"}constructor(t,i,o){super(l.NAME+t),this.id=t;let n=[e.i.CHANGE_SCENE_COMPLETE,e.i.NAVIGATE_TO_NODE,e.i.START_COMBAT];n=n.concat(o),this.subscribeNotification(n),this.viewComponent=i,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){this.viewComponent&&this.viewComponent.fire(t,this.id,...i);for(const e in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,e)){const o=this.viewComponent.script[e];"function"==typeof o.handleNotification&&o.handleNotification(t,this.id,...i)}switch(t){case e.i.START_COMBAT:this.handleStartCombat()}}updateCurrentNode(t){}handleFinishedMode(t){this.facade.sendNotification(e.i.PC_FINISHED_MOVE,t)}lookForCharacter(t,i){for(const o of this.searchArea)o.equals(i)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(i),this.facade.sendNotification(e.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){}}const f=pc.createScript("GameCharacterComponent");f.attributes.add("characterId",{type:"string",title:"Character Id"}),f.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),f.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},f.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(l.NAME+this.characterId)&&this.facade.removeMediator(l.NAME+this.characterId),this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.facade.registerProxy(new h.b(this.characterId)),this.facade.registerMediator(new l(this.characterId,this.entity,this.preregisteredNotifications))},f.prototype.setPath=function(t){this.movementPath=t},f.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z)},f.prototype.update=function(t){this.moveAlongPath(t)},f.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),o=new pc.Vec3,n=new pc.Vec3(t*this.characterSpeed,t*this.characterSpeed,t*this.characterSpeed),r=new pc.Vec3(e.x,e.y,e.z);if(o.sub2(r,i),o.normalize(),o.mul(n),o.add(i),this.entity.setLocalPosition(o),this.lookAtPoint(e),o.distance(r)<.15){const t=this.movementPath.pop();this.entity.fire("updateCurrentNode",t),0===this.movementPath.length&&this.entity.fire("finishedMove",t)}}},f.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,o=t.z-e.z,n=180*Math.atan2(i,o)/Math.PI;this.entity.setEulerAngles(0,n,0)};var y=i(448);const g=pc.createScript("AgroGameCharacterComponent");g.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),g.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.PC_MOVED_TO_NODE),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.PC_MOVED_TO_NODE,this.handleMovedToNode,this)},g.prototype.handleMapGridCreated=function(e,...i){const o=c.Facade.getInstance(t.GameFacade.KEY),n=o.retrieveProxy(h.b.NAME+e).vo;if(!n.currentNode){const t=o.retrieveProxy(p.h.NAME);n.currentNode=t.findNearestNode(this.entity.getLocalPosition()),n.currentNode.occupied=!0,n.agroArea=a.q.breadthFirstSearch(n.currentNode,this.sightRange)}},g.prototype.handleMovedToNode=function(i,o,n){const r=c.Facade.getInstance(t.GameFacade.KEY),a=r.retrieveProxy(h.b.NAME+i).vo;if(r.retrieveProxy(u.u.NAME).vo.gameplayMode===y.gameplayModeTypes.EXPLORATION)for(const t of a.agroArea)t.equals(n)&&(this.entity.script.GameCharacterComponent.lookAtPoint(n),r.sendNotification(e.i.NAVIGATE_TO_NODE,n),r.sendNotification(e.i.START_COMBAT,i))};const{Mediator:m}=i(710);class M extends m{static get NAME(){return"ToastMessageMediator"}constructor(t){super(M.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const v=pc.createScript("ToastMessageComponent");v.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),v.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),v.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(M.NAME)&&this.facade.removeMediator(M.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new M(this.entity))},v.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},v.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""};const N=pc.createScript("NavigateToNodeComponent");N.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.NAVIGATE_TO_NODE),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.START_COMBAT),this.entity.on(e.i.NAVIGATE_TO_NODE,this.handleNavigateToNode,this),this.entity.on(e.i.START_COMBAT,this.handleStartCombat,this),this.entity.on("updateCurrentNode",this.updateCurrentNode,this)},N.prototype.handleNavigateToNode=function(e,...i){const o=i[0],n=c.Facade.getInstance(t.GameFacade.KEY);if(n.retrieveProxy(u.u.NAME).vo.gameplayMode===y.gameplayModeTypes.EXPLORATION){const t=n.retrieveProxy(p.h.NAME),i=n.retrieveProxy(h.b.NAME+e).vo;i.currentNode||(i.currentNode=t.findNearestNode(this.entity.getLocalPosition()));const r=a.q.calculatePath(i.currentNode,o);r&&r.length>0&&(this.entity.script.GameCharacterComponent.setPath(r),i.currentNode=o)}},N.prototype.updateCurrentNode=function(i){const o=this.entity.script.GameCharacterComponent.characterId;c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.PC_MOVED_TO_NODE,o,i)},N.prototype.handleStartCombat=function(){const e=this.entity.script.GameCharacterComponent.characterId,i=c.Facade.getInstance(t.GameFacade.KEY).retrieveProxy(h.b.NAME+e).vo;this.entity.script.GameCharacterComponent.stopMovement(i.currentNode)},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};var E=i(758);const C=pc.createScript("PlayerCombatInputComponent");C.attributes.add("moveTileTemplate",{type:"asset",title:"Move tile template"}),C.attributes.add("tileContainer",{type:"entity",title:"Tile Container"}),C.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.AWAIT_PLAYER_COMBAT_INPUT),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.NAVIGATE_TO_NODE),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.PC_FINISHED_MOVE),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.END_COMBAT_TURN),this.moveableNodes=[],this.displayTiles=[]},C.prototype.handleNotification=function(t,i,...o){switch(console.log("EVENT "+t),t){case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.awaitPlayerInput(i,...o);break;case e.i.END_COMBAT_TURN:this.handleEndCombatTurn(i,...o);break;case e.i.NAVIGATE_TO_NODE:this.handleNavigateToNode(i,...o);break;case e.i.PC_FINISHED_MOVE:this.handleFinishedMove(i,...o)}},C.prototype.awaitPlayerInput=function(t,...e){this.destroyDisplayTiles(),this.showMoveableTiles(t)},C.prototype.handleNavigateToNode=function(e,...i){const o=i[0],n=c.Facade.getInstance(t.GameFacade.KEY),r=n.retrieveProxy(u.u.NAME).vo,a=n.retrieveProxy(h.b.NAME+e);if(n.retrieveProxy(E.F.NAME)&&r.gameplayMode===y.gameplayModeTypes.COMBAT)for(const t of this.moveableNodes)t.equals(o)&&this.handleValidMove(a,o)},C.prototype.destroyDisplayTiles=function(){for(const t of this.displayTiles)t.destroy()},C.prototype.handleFinishedMove=function(e,i){const o=c.Facade.getInstance(t.GameFacade.KEY),n=(o.retrieveProxy(u.u.NAME).vo,o.retrieveProxy(E.F.NAME));n&&"player"===n.activeParticipant&&(this.destroyDisplayTiles(),this.showMoveableTiles(e))},C.prototype.handleValidMove=function(t,i){const o=t.vo,n=a.q.calculatePath(o.currentNode,i);n&&n.length>0&&(o.availableMovement-=n.length-1,o.currentNode=i,this.destroyDisplayTiles(),this.entity.off(e.i.NAVIGATE_TO_NODE,this.handleNavigateToNode,this),this.entity.on(e.i.PC_FINISHED_MOVE,this.handleFinishedMove,this),this.entity.script.GameCharacterComponent.setPath(n))},C.prototype.showMoveableTiles=function(e){const i=c.Facade.getInstance(t.GameFacade.KEY).retrieveProxy(h.b.NAME+e).vo;this.moveableNodes=a.q.breadthFirstSearch(i.currentNode,i.availableMovement),this.displayTiles=[];for(const t of this.moveableNodes){const e=this.moveTileTemplate.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),this.tileContainer.addChild(e),this.displayTiles.push(e)}},C.prototype.handleEndCombatTurn=function(t,...e){this.destroyDisplayTiles()},i(203);const{Mediator:A}=i(710);class _ extends A{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(_.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const T=pc.createScript("PlayerCombatPanelComponent");T.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),T.prototype.initialize=function(){},T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.NAME)&&this.facade.removeMediator(_.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new _(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},T.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const{Facade:P}=i(710),{PureMVC:b}=i(710);new class{constructor(){console.log("Main start"),b.debug=!0,P.getInstance=t.GameFacade.getInstance,console.log(P),this.facade=P.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnRDb21iYXRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZENvbWJhdFR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9HYW1lQ29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvU2h1ZmZsZUFycmF5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9HYW1lTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnB1dExheWVyL0lucHV0TGF5ZXJNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9DYWNvZ2VuR2FtZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3RvYXN0TWVzc2FnZS9Ub2FzdE1lc3NhZ2VDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2hhcmFjdGVyL25hdmlnYXRlVG9Ob2RlL05hdmlnYXRlVG9Ob2RlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9jb21iYXRJbnB1dC9QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlB1cmVNVkNfMSIsIlZpZXdfMSIsIkNvbnRyb2xsZXIiLCJrZXkiLCJ0aGlzIiwiY29tbWFuZE1hcCIsImluc3RhbmNlTWFwIiwiRXJyb3IiLCJtdWx0aXRvbktleSIsImxvZ2dlciIsIlB1cmVNVkMiLCJkZWJ1ZyIsImxvZ0NvbW1hbmQiLCJsb2dOb25lIiwiaW5pdGlhbGl6ZUNvbnRyb2xsZXIiLCJyZW1vdmVDb250cm9sbGVyIiwiZ2V0SW5zdGFuY2UiLCJwcm90b3R5cGUiLCJyZWdpc3RlckNvbW1hbmQiLCJub3RpZmljYXRpb25OYW1lIiwiY29tbWFuZENsYXNzUmVmIiwidmlldyIsInJlZ2lzdGVyT2JzZXJ2ZXIiLCJleGVjdXRlQ29tbWFuZCIsImhhc0NvbW1hbmQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDb21tYW5kIiwicmVtb3ZlT2JzZXJ2ZXIiLCJWaWV3IiwiYXJncyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY29tbWFuZCIsIl9jb25zb2xlQXJncyIsIm5hbWUiLCJhcHBseSIsImNvbmNhdCIsIkNvbnRyb2xsZXJfMSIsIk1vZGVsXzEiLCJGYWNhZGUiLCJsb2dOb3RpZmljYXRpb24iLCJpbml0aWFsaXplTm90aWZpZXIiLCJpbml0aWFsaXplRmFjYWRlIiwiaGFzQ29yZSIsInJlbW92ZUNvcmUiLCJNb2RlbCIsInJlbW92ZU1vZGVsIiwicmVtb3ZlVmlldyIsImluaXRpYWxpemVNb2RlbCIsImluaXRpYWxpemVWaWV3IiwiY29udHJvbGxlciIsInJlZ2lzdGVyUHJveHkiLCJwcm94eSIsIm1vZGVsIiwicmV0cmlldmVQcm94eSIsInByb3h5TmFtZSIsInJlbW92ZVByb3h5IiwiaGFzUHJveHkiLCJyZWdpc3Rlck1lZGlhdG9yIiwibWVkaWF0b3IiLCJyZXRyaWV2ZU1lZGlhdG9yIiwibWVkaWF0b3JOYW1lIiwicmVtb3ZlTWVkaWF0b3IiLCJzbGVlcE1lZGlhdG9yIiwiYXdha2VNZWRpYXRvciIsImhhc01lZGlhdG9yIiwic2VuZE5vdGlmaWNhdGlvbiIsIl9hIiwibm90aWZ5T2JzZXJ2ZXJzIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsImQiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJOb3RpZmllcl8xIiwiTWVkaWF0b3IiLCJfc3VwZXIiLCJ2aWV3Q29tcG9uZW50IiwiX3RoaXMiLCJjYWxsIiwibG9nTWVkaWF0b3IiLCJzbGVlcGluZyIsInN1YnNjcmliZWROb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdldE1lZGlhdG9yTmFtZSIsInNldFZpZXdDb21wb25lbnQiLCJnZXRWaWV3Q29tcG9uZW50Iiwib25SZWdpc3RlciIsIm9uUmVtb3ZlIiwib25TbGVlcCIsIm9uQXdha2UiLCJzdWJzY3JpYmVOb3RpZmljYXRpb24iLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJhZGRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZU5vdGlmaWNhdGlvbiIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImFjdGlvbiIsIm9sZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zIiwic2xpY2UiLCJjaGFuZ2VkIiwiZm9yRWFjaCIsIm5vdGlmaWNhdGlvbiIsImluZGV4T2YiLCJwdXNoIiwiaW5kZXgiLCJzcGxpY2UiLCJOb3RpZmllciIsInByb3h5TWFwIiwiZ2V0UHJveHlOYW1lIiwiRmFjYWRlXzEiLCJmYWNhZGUiLCJnZXRGYWNhZGUiLCJQcm94eSIsImRhdGEiLCJsb2dQcm94eSIsInNldERhdGEiLCJnZXREYXRhIiwiY29uc29sZUFyZ3MiLCJjb21tYW5kTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJFdmVudEVtaXR0ZXIiLCJtZWRpYXRvck1hcCIsImV2ZW50RW1pdHRlciIsIm9ic2VydmVyTWV0aG9kIiwiY29udGV4dCIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJlbWl0IiwicmVnaXN0ZXJPYnNlcnZlcnMiLCJvbk1lZGlhdG9yTm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlIiwiYmluZCIsImlzU2xlZXBpbmciLCJyZW1vdmVPYnNlcnZlcnMiLCJpbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHMiLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMSIsImludGVyZXN0IiwiaGFuZGxlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uSW50ZXJlc3RzXzIiLCJNZWRpYXRvcl8xIiwiUHJveHlfMSIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJvbmNlIiwiYWRkTGlzdGVuZXIiLCJlbWl0dGVyIiwiZXZlbnQiLCJUeXBlRXJyb3IiLCJsaXN0ZW5lciIsImV2dCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibGlzdGVuZXJzIiwiaGFuZGxlcnMiLCJpIiwibCIsImVlIiwibGlzdGVuZXJDb3VudCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJsZW4iLCJqIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJtb2R1bGUiLCJOYXZpZ2F0aW9uTm9kZSIsIngiLCJ5IiwieiIsImNvbm5lY3RlZE5vZGVzIiwib2NjdXBpZWQiLCJvdGhlck5vZGUiLCJmaW5kIiwibm9kZSIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGVkTm9kZUluZGV4IiwiZmluZEluZGV4IiwiZXF1YWxzIiwicGMiLCJjcmVhdGVTY3JpcHQiLCJpbml0aWFsaXplIiwiR2FtZU1hcE1lZGlhdG9yIiwibWFwR3JpZCIsInN1cGVyIiwiTkFNRSIsIkdhbWVDb21tYW5kcyIsIkdhbWVTdGF0ZVByb3h5Iiwidm8iLCJBcHBsaWNhdGlvbiIsImdldEFwcGxpY2F0aW9uIiwiR2FtZU1lZGlhdG9yIiwicGFyc2VHYW1lTWFwQ29tbWFuZCIsIm5hdmlnYXRpb25GbG9vcnMiLCJyb290IiwiZmluZEJ5VGFnIiwiY29tcGxldGVkR3JpZCIsIm5hdmlnYXRpb25Db21wb25lbnRzIiwiZmxvb3JFbnRpdHkiLCJuYXZDb21wIiwic2NyaXB0IiwiZmxvb3JHcmlkIiwiY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IiLCJzZXRHcmlkIiwibmF2aWdhdGlvbkNvbXAiLCJjb25uZWN0ZWRDb21wRW50aXR5IiwiY29ubmVjdGVkQ29tcG9uZW50cyIsImNvbm5lY3RlZE5hdkNvbXAiLCJqb2luVG9BZGphY2VudEdyaWQiLCJnZXRHcmlkIiwiR2FtZU1hcFByb3h5IiwiZ3JpZCIsImZsb29yUG9zaXRpb24iLCJnZXRMb2NhbFBvc2l0aW9uIiwiZmxvb3JTaXplIiwiZ2V0TG9jYWxTY2FsZSIsInNuYXBwZWRXaWR0aCIsIk1hdGgiLCJyb3VuZCIsInNuYXBwZWRCcmVhZHRoIiwic25hcHBlZFgiLCJzbmFwcGVkWSIsInNuYXBwZWRaIiwiZXF1YWxzUG9pbnQiLCJhZGRDb25uZWN0ZWROb2RlIiwiZ3JpZFRvSm9pbiIsInN0YXJ0dXBDb21tYW5kIiwiY2hhbmdlU2NlbmVDb21tYW5kIiwiYXBwIiwic2NlbmVOYW1lIiwib2xkSGllcmFyY2h5IiwiZmluZEJ5TmFtZSIsInNjZW5lIiwic2NlbmVzIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJkZXN0cm95Iiwic3RhcnRDb21iYXRDb21tYW5kIiwiaW5zdGlnYXRpbmdQYXJ0eUlkcyIsInVwZGF0ZUdhbWVTdGF0ZVR5cGUiLCJnYW1lcGxheU1vZGVUeXBlcyIsInBhcnRpY2lwYW50cyIsImNvbWJhdFByb3h5IiwiQ29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZW5kQ29tYmF0VHVybkNvbW1hbmQiLCJzZXRUaW1lb3V0IiwiR2FtZUZhY2FkZSIsImdhbWUiLCJTVEFSVFVQIiwic2h1ZmZsZUFycmF5IiwiYXJyYXkiLCJjdXJyZW50SW5kZXgiLCJ0ZW1wb3JhcnlWYWx1ZSIsInJhbmRvbUluZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJDb21iYXRWTyIsInBhcnRpY2lwYW50UHJveGllcyIsIk1hcCIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInNldCIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJHYW1lQ2hhcmFjdGVyVk8iLCJpZCIsImF2YWlsYWJsZU1vdmVtZW50IiwibWF4TW92ZW1lbnQiLCJjdXJyZW50Tm9kZSIsImFncm9BcmVhIiwiR2FtZU1hcFZPIiwidGFyZ2V0UG9pbnQiLCJuZWFyZXN0Tm9kZSIsImRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSIsImRpc3RUb05vZGUiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJtaW4iLCJJbmZpbml0eSIsIkFzdGFyIiwic3RhcnQiLCJyYW5nZUxpbWl0IiwiZnJvbnRpZXIiLCJzZWFyY2hlZEFyZWEiLCJjYW1lRnJvbSIsInJhbmdlIiwibmV3RnJvbnRpZXIiLCJjdXJyZW50IiwibmV4dCIsImdvYWwiLCJjb3N0U29GYXIiLCJlbXB0eSIsInBvcCIsIm5ld0Nvc3QiLCJoZXVyaXN0aWMiLCJwYXRoSXNCcm9rZW4iLCJwYXRoIiwicHQxIiwicHQyIiwiYSIsImFicyIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwiRVhQTE9SQVRJT04iLCJDT01CQVQiLCJESUFMT0dVRSIsIklucHV0TGF5ZXJNZWRpYXRvciIsImhhbmRsZVBpY2tlck5hdmlnYXRpb24iLCJoYW5kbGVTY3JvbGxpbmciLCJkaXJlY3Rpb24iLCJHYW1lQ2FtZXJhIiwiYXR0cmlidXRlcyIsImFkZCIsInR5cGUiLCJkZWZhdWx0IiwidGl0bGUiLCJHYW1lQ2FtZXJhTWVkaWF0b3IiLCJlbnRpdHkiLCJzZXRDYW1lcmFUYXJnZXQiLCJjYW1lcmFUYXJnZXQiLCJyb3RhdGlvbiIsImdldEV1bGVyQW5nbGVzIiwiY2FtZXJhSGVpZ2h0IiwiaGFuZGxlRHJhZyIsImRyYWdNdWx0aXBsaWVyWCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsIlBJIiwiZGlzdGFuY2UiLCJ0YXJnZXRaIiwiY29zIiwiVmVjMyIsInVwZGF0ZSIsImR0IiwiY2FtZXJhVGFyZ2V0UG9zaXRpb24iLCJ0YXJnZXRQb3NpdGlvbiIsImN1cnJlbnRQb3MiLCJ0d2VlblgiLCJ0d2VlblkiLCJ0d2VlbloiLCJzZXRMb2NhbFBvc2l0aW9uIiwibG9va0F0IiwiSW5wdXRMYXllckNvbXBvbmVudCIsInJheSIsIlJheSIsIm1vdXNlIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiY2xpY2tEb3duU3RhcnQiLCJpc0RyYWdnaW5nIiwiaGFuZGxlUGlja2VyUmVzdWx0IiwiRVZFTlRfTU9VU0VNT1ZFIiwib25Nb3VzZU1vdmUiLCJlbGVtZW50IiwiRVZFTlRfTU9VU0VET1dOIiwib25Nb3VzZURvd24iLCJFVkVOVF9NT1VTRVVQIiwib25Nb3VzZVVwIiwiRGF0ZSIsIm5vdyIsImNsaWNrU3RhcnRQb2ludCIsIlZlYzIiLCJmaXJlIiwiZHJhZ1RpbWUiLCJoYW5kbGVSYXljYXN0Q29sbGlzaW9ucyIsImNhbWVyYUVudGl0eSIsImNhbWVyYUNvbXBvbmVudCIsImNhbWVyYSIsInNjcmVlblRvV29ybGQiLCJmYXJDbGlwIiwib3JpZ2luIiwiY29weSIsImdldFBvc2l0aW9uIiwic3ViIiwibm9ybWFsaXplIiwicGlja2VkRW50aXR5IiwiaGl0UG9zaXRpb24iLCJzY3JlZW5Qb3MiLCJ0YWdzIiwiZ2V0TmVhcmVzdE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiQ2Fjb2dlbkdhbWUiLCJLRVkiLCJOYXZpZ2F0aW9uQ29tcG9uZW50Iiwic2NhbGUiLCJoYWxmRXh0ZW50cyIsImFhYmIiLCJCb3VuZGluZ0JveCIsImhhbmRsZVJheUNhc3QiLCJlbmFibGVkIiwiaW50ZXJzZWN0c1JheSIsIm5vZGVHcmlkIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwicHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMiLCJ1cGRhdGVDdXJyZW50Tm9kZSIsImhhbmRsZUZpbmlzaGVkTW9kZSIsInNjcmlwdEtleSIsInNjcmlwdENvbXBvbmVudCIsImhhbmRsZVN0YXJ0Q29tYmF0IiwibmV3Tm9kZSIsInNlYXJjaE5vZGUiLCJzZWFyY2hBcmVhIiwibG9va0F0UG9pbnQiLCJHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwicHJlcmVnaXN0ZXJOb3RpZmljYXRpb24iLCJwb3N0SW5pdGlhbGl6ZSIsIm1vdmVtZW50UGF0aCIsInNldFBhdGgiLCJzdG9wTW92ZW1lbnQiLCJtb3ZlQWxvbmdQYXRoIiwibmV4dFBhdGhQb2ludCIsImxvY2FsUG9zIiwibmV3UG9zaXRpb24iLCJzcGVlZCIsImNoYXJhY3RlclNwZWVkIiwibm9kZVBvaW50Iiwic3ViMiIsIm11bCIsInBvaW50IiwiZHgiLCJkeiIsImFuZ2xlVG9EZXN0IiwiYXRhbjIiLCJzZXRFdWxlckFuZ2xlcyIsIkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiaGFuZGxlTWFwR3JpZENyZWF0ZWQiLCJoYW5kbGVNb3ZlZFRvTm9kZSIsImdhbWVNYXBQcm94eSIsImZpbmROZWFyZXN0Tm9kZSIsInNpZ2h0UmFuZ2UiLCJ0YXJnZXRJZCIsImFncm9Ob2RlIiwiVG9hc3RNZXNzYWdlTWVkaWF0b3IiLCJhZGRNZXNzYWdlIiwiVG9hc3RNZXNzYWdlQ29tcG9uZW50IiwibWVzc2FnZVF1ZXVlIiwiY3VycmVudFRpbWVvdXQiLCJtZXNzYWdlIiwic2hvd05leHRNZXNzYWdlIiwibmV4dE1lc3NhZ2UiLCJsYWJlbEVudGl0eSIsInRleHQiLCJtZXNzYWdlVGltZSIsIk5hdmlnYXRlVG9Ob2RlQ29tcG9uZW50IiwiaGFuZGxlTmF2aWdhdGVUb05vZGUiLCJ0YXJnZXROb2RlIiwiZ2FtZUNoYXJhY3RlclZPIiwiUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQiLCJtb3ZlYWJsZU5vZGVzIiwiZGlzcGxheVRpbGVzIiwiYXdhaXRQbGF5ZXJJbnB1dCIsImhhbmRsZUVuZENvbWJhdFR1cm4iLCJoYW5kbGVGaW5pc2hlZE1vdmUiLCJkZXN0cm95RGlzcGxheVRpbGVzIiwic2hvd01vdmVhYmxlVGlsZXMiLCJnYW1lQ2hhcmFjdGVyUHJveHkiLCJoYW5kbGVWYWxpZE1vdmUiLCJ0aWxlIiwiY2hhcmFjdGVyUHJveHkiLCJtb3ZlVGlsZVRlbXBsYXRlIiwicmVzb3VyY2UiLCJpbnN0YW50aWF0ZSIsInRpbGVDb250YWluZXIiLCJhZGRDaGlsZCIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwic3RhcnR1cCJdLCJtYXBwaW5ncyI6IndDQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUFZLEVBQVEsS0FDcEJDLEVBQVMsRUFBUSxLQUVqQkMsRUFBNEIsV0FDNUIsU0FBU0EsRUFBV0MsR0FFaEIsR0FEQUMsS0FBS0MsV0FBYSxHQUNkSCxFQUFXSSxZQUFZSCxHQUN2QixNQUFNLElBQUlJLE1BTEgsNERBT1hILEtBQUtJLFlBQWNMLEVBQ25CQyxLQUFLSyxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFRRSxXQUFhWixFQUFVVSxRQUFRRyxRQUN6RlQsS0FBS1UsdUJBcURULE9BbkRBWixFQUFXYSxpQkFBbUIsU0FBVVosVUFDN0JDLEtBQUtFLFlBQVlILElBRTVCRCxFQUFXYyxZQUFjLFNBQVViLEdBQy9CLE9BQUtBLEdBR0FDLEtBQUtFLFlBQVlILEtBQ2xCQyxLQUFLRSxZQUFZSCxHQUFPLElBQUlELEVBQVdDLElBRXBDQyxLQUFLRSxZQUFZSCxJQUxiLE1BT2ZELEVBQVdlLFVBQVVDLGdCQUFrQixTQUFVQyxFQUFrQkMsR0FDMURoQixLQUFLQyxXQUFXYyxJQUNqQmYsS0FBS2lCLEtBQUtDLGlCQUFpQkgsRUFBa0JmLEtBQUttQixlQUFnQm5CLE1BRXRFQSxLQUFL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NEwsV0FBYSxhQUlsRGtVLEVBQTJCOWYsVUFBVTRMLFdBQWEsV0FFOUN6TSxLQUFLc0gsT0FBUyxFQUFBbEYsT0FBQSxZQUFtQmdQLEVBQVcsV0FBWCxLQUM3QnBSLEtBQUtzSCxPQUFPeEQsWUFBWTJjLEVBQTBCNVQsT0FDbEQ3TSxLQUFLc0gsT0FBTzNELGVBQWU4YyxFQUEwQjVULE1BR3pEN00sS0FBSzRlLGFBQWUsR0FDcEI1ZSxLQUFLNmUsb0JBQWlCeGQsRUFFdEJyQixLQUFLc0gsT0FBTy9ELGlCQUFpQixJQUFJa2QsRUFBMEJ6Z0IsS0FBS29XLFNBRWhFcFcsS0FBSzRnQixjQUFjNUgsUUFBUXpRLEdBQUcsUUFBU3ZJLEtBQUs2Z0IsYUFBYzdnQixPQUc5RDJnQixFQUEyQjlmLFVBQVVnZ0IsYUFBZSxTQUFVNVcsR0FDMURqSyxLQUFLb1csT0FBT3FELEtBQUssa0JDN0JyQixNQUFRclgsT0FBTSxHQUFLLEVBQVEsTUFDckIsUUFBRTlCLEdBQVksRUFBUSxLQXlCZixJQVpiLE1BQ0ksY0FDSXlILFFBQVFDLElBQUksY0FDWjFILEVBQVFDLE9BQVEsRUFDaEIsRUFBT0ssWUFBY3dRLEVBQVcsV0FBWCxZQUNyQnJKLFFBQVFDLElBQUksR0FFWmhJLEtBQUtzSCxPQUFTLEVBQU8xRyxZQUFZd1EsRUFBVyxXQUFYLEtBQ2pDcFIsS0FBS3NILE9BQU93WixRQUFROWdCLFMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcImNvbnRyb2xsZXIga2V5IGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkXCI7XG52YXIgQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKGtleSkge1xuICAgICAgICB0aGlzLmNvbW1hbmRNYXAgPSB7fTtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ0NvbW1hbmQgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIENvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IENvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdID0gY29tbWFuZENsYXNzUmVmO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5leGVjdXRlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlcihDb250cm9sbGVyLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZC5uYW1lKTtcbiAgICAgICAgY29tbWFuZC5hcHBseSh2b2lkIDAsIFt0aGlzLm11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Q0QkZFMFwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjODcyNEJEXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCJcbiAgICBdO1xuICAgIENvbnRyb2xsZXIuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbGxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vQ29udHJvbGxlclwiKTtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vTW9kZWxcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiRmFjYWRlIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIEZhY2FkZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNhZGUoa2V5KSB7XG4gICAgICAgIGlmIChGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU5vdGlmaWVyKGtleSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZhY2FkZSgpO1xuICAgIH1cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUuaGFzQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgRmFjYWRlLnJlbW92ZUNvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTW9kZWxfMS5Nb2RlbC5yZW1vdmVNb2RlbChrZXkpO1xuICAgICAgICBWaWV3XzEuVmlldy5yZW1vdmVWaWV3KGtleSk7XG4gICAgICAgIENvbnRyb2xsZXJfMS5Db250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlZ2lzdGVyQ29tbWFuZChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlbW92ZUNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yZWdpc3RlclByb3h5KHByb3h5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmV0cmlldmVQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJlbW92ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5oYXNQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck1lZGlhdG9yKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZXRyaWV2ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJlbW92ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc2xlZXBNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmF3YWtlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGFzTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5sb2dnZXIuYXBwbHkodGhpcywgW0ZhY2FkZS5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIChfYSA9IHRoaXMudmlldykubm90aWZ5T2JzZXJ2ZXJzLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbCA9IE1vZGVsXzEuTW9kZWwuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMyRjJFMTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiI0ZGRjMyNVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiXG4gICAgXTtcbiAgICBGYWNhZGUuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gRmFjYWRlO1xufSgpKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjYWRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiTWVkaWF0b3JcIjtcbnZhciBNZWRpYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVkaWF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVkaWF0b3IobWVkaWF0b3JOYW1lLCB2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTWVkaWF0b3IgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBfdGhpcy5tZWRpYXRvck5hbWUgPSBtZWRpYXRvck5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIF90aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcIm5vdGlmaWNhdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0TWVkaWF0b3JOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck5hbWU7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICh2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uU2xlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJzbGVlcFwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vbkF3YWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcImF3YWtlXCIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJpc1NsZWVwaW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbGVlcGluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuYWRkU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS51bnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5jaGFuZ2VTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvbGROb3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25zLnNsaWNlKCk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25OYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk5hbWUuZm9yRWFjaChmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKF90aGlzLCBub3RpZmljYXRpb24pIHx8IGNoYW5nZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbCh0aGlzLCBub3RpZmljYXRpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZCAmJiB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UodGhpcywgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5hZGRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNGNEY2RkVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NTZDMVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiXG4gICAgXTtcbiAgICByZXR1cm4gTWVkaWF0b3I7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lZGlhdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiTW9kZWwgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kZWwoa2V5KSB7XG4gICAgICAgIHRoaXMucHJveHlNYXAgPSB7fTtcbiAgICAgICAgaWYgKE1vZGVsLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgfVxuICAgIE1vZGVsLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBNb2RlbChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5yZW1vdmVNb2RlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHByb3h5LmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgdGhpcy5wcm94eU1hcFtwcm94eS5nZXRQcm94eU5hbWUoKV0gPSBwcm94eTtcbiAgICAgICAgcHJveHkub25SZWdpc3RlcigpO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSkge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcHJveHkub25SZW1vdmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE1vZGVsLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIE1vZGVsO1xufSgpKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL0ZhY2FkZVwiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIm11bHRpdG9uS2V5IGZvciB0aGlzIE5vdGlmaWVyIG5vdCB5ZXQgaW5pdGlhbGl6ZWQhXCI7XG52YXIgTm90aWZpZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpZXIoKSB7XG4gICAgfVxuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZmFjYWRlID0gdGhpcy5nZXRGYWNhZGUoKTtcbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5mYWNhZGUpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuZmFjYWRlKS5zZW5kTm90aWZpY2F0aW9uLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmdldEZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubXVsdGl0b25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGVfMS5GYWNhZGUuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm90aWZpZXI7XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiUHJveHlcIjtcbnZhciBQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJveHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJveHkocHJveHlOYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb3h5TmFtZSA9IHByb3h5TmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ1Byb3h5IDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnNldERhdGEoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0UHJveHlOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU5hbWU7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgUHJveHkuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMxMDI0MTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzI3RDA0Q1wiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiXG4gICAgXTtcbiAgICByZXR1cm4gUHJveHk7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3h5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVyZU1WQygpIHtcbiAgICB9XG4gICAgUHVyZU1WQy5sb2dDb21tYW5kID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kTmFtZSkge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCIgPT4gIFwiICsgY29tbWFuZE5hbWUgKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiOiBhcmdzIFsgXCIgKyBhcmdzICsgXCIgXSAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dNZWRpYXRvciA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dQcm94eSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb25lID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICByZXR1cm4gUHVyZU1WQztcbn0oKSk7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHVyZU1WQy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIlZpZXcgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3KGtleSkge1xuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoVmlldy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfVxuICAgIFZpZXcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IFZpZXcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5yZW1vdmVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuZXZlbnRFbWl0dGVyKS5lbWl0LmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWF0b3IuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbWVkaWF0b3IgZm9yIHJldHJpZXZhbCBieSBuYW1lXG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldID0gbWVkaWF0b3I7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICBtZWRpYXRvci5vblJlZ2lzdGVyKHRoaXMub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gYXdha2VuXG4gICAgICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBtZWRpYXRvciBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBtZWRpYXRvci5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAobWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHNsZXB0XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGZvciBldmVyeSBub3RpZmljYXRpb24gdGhlIG1lZGlhdG9yIGlzIGludGVyZXN0ZWQgaW4uLi5cbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzFbX2ldO1xuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZ2V0IG5vdGlmaWNhdGlvbiBpbnRlcmVzdHMgaWYgYW55XG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgLy8gcmVnaXN0ZXIgbWVkaWF0b3IgYXMgYW4gb2JzZXJ2ZXIgZm9yIGVhY2ggbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMiA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMltfaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIChtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgIH07XG4gICAgVmlldy5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBWaWV3O1xufSgpKTtcbmV4cG9ydHMuVmlldyA9IFZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Db250cm9sbGVyXCIpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXI7XG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlXCIpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGVfMS5GYWNhZGU7XG52YXIgTWVkaWF0b3JfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvclwiKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcl8xLk1lZGlhdG9yO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWxcIik7XG5leHBvcnRzLk1vZGVsID0gTW9kZWxfMS5Nb2RlbDtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyXCIpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyXzEuTm90aWZpZXI7XG52YXIgUHJveHlfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eVwiKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eV8xLlByb3h5O1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9QdXJlTVZDXCIpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQ18xLlB1cmVNVkM7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1ZpZXdcIik7XG5leHBvcnRzLlZpZXcgPSBWaWV3XzEuVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsImV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uTm9kZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0Nvbm5lY3RlZChvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkTm9kZXMuZmluZChub2RlID0+IG5vZGUueCA9PT0gb3RoZXJOb2RlLnhcbiAgICAgICAgICAgICYmIG5vZGUueSA9PT0gb3RoZXJOb2RlLnkgJiYgbm9kZS56ID09PSBvdGhlck5vZGUueikgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IG90aGVyTm9kZS54ICYmIHRoaXMueSA9PT0gb3RoZXJOb2RlLnkgJiYgdGhpcy56ID09PSBvdGhlck5vZGUuejtcbiAgICB9XG5cbiAgICBlcXVhbHNQb2ludCh4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggPT09IHggJiYgdGhpcy55ID09PSB5ICYmIHRoaXMueiA9PT0gejtcbiAgICB9XG5cbiAgICBhZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0ZWQob3RoZXJOb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5wdXNoKG90aGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWROb2RlKG90aGVyTm9kZSkge1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlSW5kZXggPSB0aGlzLmNvbm5lY3RlZE5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUuZXF1YWxzKG90aGVyTm9kZSkpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzLnNwbGljZShjb25uZWN0ZWROb2RlSW5kZXgsIDEpO1xuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgR2FtZU1hcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZU1hcENvbXBvbmVudCcpO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZU1hcENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcENvbXBvbmVudCB9IGZyb20gJy4vR2FtZU1hcENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNYXBNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXBHcmlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVN0YXRlID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcbiAgICAgICAgICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChhcHApIHtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiY29uc3QgeyBHYW1lTWVkaWF0b3IgfSA9IHJlcXVpcmUoJy4uL3ZpZXcvR2FtZU1lZGlhdG9yJyk7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lTWFwTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVNYXAvR2FtZU1hcE1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUdhbWVNYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gT25jZSBhIGdhbWVNYXAgc2NlbmUgaXMgbG9hZGVkLCBwYXJzZSBnYW1lTWFwIFZPLCBnZW5lcmF0ZSBuYXYgbWVzaCwgZXRjXG4gICAgY29uc29sZS5sb2coJ1BhcnNlIG1hcCcpO1xuXG4gICAgLy8gR2V0IG5hdmlnYXRpb24gZmxvb3JzXG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBuYXZpZ2F0aW9uRmxvb3JzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCduYXZpZ2F0aW9uX2Zsb29yJyk7XG5cbiAgICBsZXQgY29tcGxldGVkR3JpZCA9IFtdO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkNvbXBvbmVudHMgPSBbXTtcbiAgICAvLyBGaXJzdCBwYXJzZSAtIGNyZWF0ZSBub2RlcyBhbmQgY29ubmVjdGlvbnMgZm9yIGluZGl2aWR1YWwgXG4gICAgLy8gbmF2aWdhdGlvbiBjb21wb25lbnRzXG4gICAgZm9yIChjb25zdCBmbG9vckVudGl0eSBvZiBuYXZpZ2F0aW9uRmxvb3JzKSB7XG4gICAgICAgIGNvbnN0IG5hdkNvbXAgPSBmbG9vckVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICAgICAgbmF2aWdhdGlvbkNvbXBvbmVudHMucHVzaChuYXZDb21wKTtcblxuICAgICAgICBjb25zdCBmbG9vckdyaWQgPSBjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vcihmbG9vckVudGl0eSlcbiAgICAgICAgbmF2Q29tcC5zZXRHcmlkKGZsb29yR3JpZCk7XG4gICAgfVxuXG4gICAgLy8gU2Vjb25kIHBhcnNlIC0gc3RpdGNoIHRvZ2V0aGVyIGFkamFjZW50IG5vZGVzIGluIFxuICAgIC8vIGNvbm5lY3RlZCBuYXZpZ2F0aW9uIG1lc2hlc1xuICAgIGZvciAoY29uc3QgbmF2aWdhdGlvbkNvbXAgb2YgbmF2aWdhdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25uZWN0ZWRDb21wRW50aXR5IG9mIG5hdmlnYXRpb25Db21wLmNvbm5lY3RlZENvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZE5hdkNvbXAgPSBjb25uZWN0ZWRDb21wRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuXG4gICAgICAgICAgICBqb2luVG9BZGphY2VudEdyaWQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpLCBjb25uZWN0ZWROYXZDb21wLmdldEdyaWQoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRHcmlkID0gY29tcGxldGVkR3JpZC5jb25jYXQobmF2aWdhdGlvbkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlZ2lzdGVyIG1lZGlhdG9yc1xuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgR2FtZU1hcFByb3h5KGNvbXBsZXRlZEdyaWQpKTtcbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVNYXBNZWRpYXRvcigpKTtcblxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFydGlhbEdyaWRGcm9tRmxvb3IoZmxvb3JFbnRpdHkpIHtcbiAgICAvLyBzbmFwIHRvIGdyaWRcbiAgICBjb25zdCBncmlkID0gW107XG5cbiAgICBjb25zdCBmbG9vclBvc2l0aW9uID0gZmxvb3JFbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGZsb29yU2l6ZSA9IGZsb29yRW50aXR5LmdldExvY2FsU2NhbGUoKTtcblxuICAgIGNvbnN0IHNuYXBwZWRXaWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLngpO1xuICAgIGNvbnN0IHNuYXBwZWRCcmVhZHRoID0gTWF0aC5yb3VuZChmbG9vclNpemUueik7XG5cbiAgICBjb25zdCBzbmFwcGVkWCA9IE1hdGgucm91bmQoZmxvb3JQb3NpdGlvbi54IC0gKHNuYXBwZWRXaWR0aCAvIDIpKTtcbiAgICBjb25zdCBzbmFwcGVkWSA9IGZsb29yUG9zaXRpb24ueTtcbiAgICBjb25zdCBzbmFwcGVkWiA9IE1hdGgucm91bmQoZmxvb3JQb3NpdGlvbi56IC0gKHNuYXBwZWRCcmVhZHRoIC8gMikpO1xuXG5cblxuICAgIGZvciAobGV0IHogPSBzbmFwcGVkWjsgeiA8IHNuYXBwZWRaICsgc25hcHBlZEJyZWFkdGg7IHorKykge1xuICAgICAgICBmb3IgKGxldCB4ID0gc25hcHBlZFg7IHggPCBzbmFwcGVkWCArIHNuYXBwZWRXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5hdmlnYXRpb25Ob2RlKHgsIHNuYXBwZWRZLCB6KTtcbiAgICAgICAgICAgIGdyaWQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWQpIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JpZDtcbn1cblxuZnVuY3Rpb24gam9pblRvQWRqYWNlbnRHcmlkKGdyaWQsIGdyaWRUb0pvaW4pIHtcbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkVG9Kb2luKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHVwQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSkge1xuICAgIC8vIFJlZ2lzdGVyIGFwcC1sZXZlbCBtZWRpYXRvcnMvcHJveGllcy9jb21tYW5kcyBoZXJlXG5cbiAgICAvLyBDcmVhdGUgZ2FtZSBzdGF0ZSBwcm94eVxuICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgR2FtZVN0YXRlUHJveHkoKSk7XG5cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTY2VuZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHNjZW5lTmFtZSA9IGFyZ3NbMF07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuXG4gICAgfSk7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGluc3RpZ2F0aW5nUGFydHlJZHMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJTdGFydCBDb21iYXRcIik7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKTtcblxuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBbJ3BsYXllciddLmNvbmNhdChpbnN0aWdhdGluZ1BhcnR5SWRzKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IG5ldyBDb21iYXRQcm94eShwYXJ0aWNpcGFudHMpO1xuICAgIC8vIGNvbnNvbGUubG9nKHBhcnRpY2lwYW50cyk7XG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkoY29tYmF0UHJveHkpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS5uZXh0VHVybkNoYXJhY3RlcklkKTtcbiAgICB9LCA1MDApO1xufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgR2FtZUNvbW1hbmRzIHtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORV9DT01QTEVURSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFQUF9JTklUSUFMSVNFRCgpIHsgcmV0dXJuIFwiQVBQX0lOSVRJQUxJU0VEXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBBUlNFX0dBTUVNQVAoKSB7IHJldHVybiBcIlBBUlNFX0dBTUVNQVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFQX0dSSURfQ1JFQVRFRCgpIHsgcmV0dXJuIFwiTUFQX0dSSURfQ1JFQVRFRFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NBTUVSQV9UQVJHRVQoKSB7IHJldHVybiBcIlNFVF9DQU1FUkFfVEFSR0VUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IElOUFVUX0RSQUdfTU9VU0UoKSB7IHJldHVybiBcIklOUFVUX0RSQUdfTU9VU0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBQQ19NT1ZFRF9UT19OT0RFKCkgeyByZXR1cm4gXCJQQ19NT1ZFRF9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBDX0ZJTklTSEVEX01PVkUoKSB7IHJldHVybiBcIlBDX0ZJTklTSEVEX01PVkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRfQ09NQkFUKCkgeyByZXR1cm4gXCJTVEFSVF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19UT0FTVF9NRVNTQUdFKCkgeyByZXR1cm4gXCJTSE9XX1RPQVNUX01FU1NBR0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1JPVU5EKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9ST1VORFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVF9UVVJOXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcblxuXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aFxuICAgIGxldCB0ZW1wb3JhcnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSAtMTtcblxuICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlLi4uXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xuXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxuICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJbmRleCAtPSAxO1xuXG4gICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xuICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBzaHVmZmxlQXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy9TaHVmZmxlQXJyYXknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBDb21iYXRWTyB9ID0gcmVxdWlyZSgnLi9Db21iYXRWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBDb21iYXRQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDb21iYXRQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgc3VwZXIoQ29tYmF0UHJveHkuTkFNRSwgbmV3IENvbWJhdFZPKHBhcnRpY2lwYW50cykpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuc2V0KHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFByb3h5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRUdXJuKCkge1xuICAgICAgICBjb25zdCByb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZTtcblxuICAgICAgICBpZiAocm91bmRJbml0aWF0aXZlICYmIHJvdW5kSW5pdGlhdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHVybklkID0gcm91bmRJbml0aWF0aXZlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gbmV4dFR1cm5JZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHR1cm46OiAke25leHRUdXJuSWR9YCk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0VHVybklkICE9PSAnZW5kX3JvdW5kJykge1xuICAgICAgICAgICAgICAgIC8vIE5leHQgVHVyblxuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFR1cm4gJHtuZXh0VHVybklkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5ID0gdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZ2V0KG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIHByb3h5LnJlc2V0Q29tYmF0VHVyblN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFR1cm5JZCA9PT0gJ3BsYXllcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgcHJveHkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIHRoaXMudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBlbmQgb2Ygcm91bmQgdG9rZW5cbiAgICAgICAgaW5pdGlhdGl2ZXMucHVzaCgnZW5kX3JvdW5kJyk7XG5cbiAgICAgICAgbGV0IHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShpbml0aWF0aXZlcyk7XG4gICAgICAgIC8vIGVuc3VyZSByb3VuZCBkb2Vzbid0IHN0YXJ0IHdpdGggXCJlbmRfcm91bmRcIlxuICAgICAgICB3aGlsZSAoc2h1ZmZsZWRJbml0aWF0aXZlWzBdID09PSBcImVuZF9yb3VuZFwiKSB7XG4gICAgICAgICAgICBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoc2h1ZmZsZWRJbml0aWF0aXZlKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSBzaHVmZmxlZEluaXRpYXRpdmU7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm5leHRUdXJuQ2hhcmFjdGVySWQ7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGl2ZVBhcnRpY2lwYW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudDtcbiAgICB9XG5cbiAgICBzZXQgYWN0aXZlUGFydGljaXBhbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IHZhbHVlO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIENvbWJhdFZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdW5kSW5pdGlhdGl2ZVswXTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lQ2hhcmFjdGVyVk8gfSA9IHJlcXVpcmUoJy4vR2FtZUNoYXJhY3RlclZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyUHJveHlfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQsIG5ldyBHYW1lQ2hhcmFjdGVyVk8oaWQpKTtcbiAgICB9XG5cbiAgICByZXNldENvbWJhdFR1cm5TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHRoaXMudm8ubWF4TW92ZW1lbnQ7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYWdyb0FyZWEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG5cbiAgICAgICAgLy8gVHJvaWthIHN0YXRzXG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IDI7XG4gICAgICAgIHRoaXMubWF4TW92ZW1lbnQgPSA2O1xuICAgICAgICB0aGlzLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy5tYXhNb3ZlbWVudDtcblxuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi9uYXZpZ2F0aW9uL0FzdGFyJztcbmNvbnN0IHsgR2FtZU1hcFZPIH0gPSByZXF1aXJlKCcuL0dhbWVNYXBWTycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNYXBQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXBHcmlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFwR3JpZDogbWFwR3JpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuXG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3ROb2RlKHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEdyaWQgPSB0aGlzLnZvLm1hcEdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbWFwR3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtYXBHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBHYW1lTWFwVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcEdyaWQgPSBbXTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFByaW9yaXR5UXVldWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB9XG5cbiAgICBwdXNoKHZhbHVlLCBwcmlvcml0eSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMuZGF0YVtpXS5wcmlvcml0eTtcbiAgICAgICAgICAgIGlmIChNYXRoLm1pbihtaW4sIHByaW9yaXR5KSA9PT0gcHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zcGxpY2UoaW5kZXgsIDEpWzBdLnZhbHVlO1xuICAgIH1cblxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoXG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQcmlvcml0eVF1ZXVlIH0gZnJvbSAnLi9Qcmlvcml0eVF1ZXVlJztcblxuZXhwb3J0IGNsYXNzIEFzdGFyIHtcbiAgICBzdGF0aWMgYnJlYWR0aEZpcnN0U2VhcmNoKHN0YXJ0LCByYW5nZUxpbWl0KSB7XG4gICAgICAgIGxldCBmcm9udGllciA9IFtdO1xuICAgICAgICBjb25zdCBzZWFyY2hlZEFyZWEgPSBbXTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuXG4gICAgICAgIGxldCByYW5nZSA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGZyb250aWVyLmxlbmd0aCA+IDAgJiYgcmFuZ2UgPCByYW5nZUxpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGcm9udGllciA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGZyb250aWVyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNhbWVGcm9tLmhhcyhuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Zyb250aWVyLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hlZEFyZWEucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJvbnRpZXIgPSBuZXdGcm9udGllcjtcblxuICAgICAgICAgICAgcmFuZ2UrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWFyY2hlZEFyZWE7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlUGF0aChzdGFydCwgZ29hbCkge1xuICAgICAgICBjb25zdCBmcm9udGllciA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQsIDApO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjb3N0U29GYXIgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIGNvc3RTb0Zhci5zZXQoc3RhcnQsIDApO1xuXG4gICAgICAgIHdoaWxlICghZnJvbnRpZXIuZW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGZyb250aWVyLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3N0ID0gY29zdFNvRmFyLmdldChjdXJyZW50KSArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjb3N0U29GYXIuaGFzKG5leHQpIHx8IG5ld0Nvc3QgPCBjb3N0U29GYXIuZ2V0KG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3N0U29GYXIuc2V0KG5leHQsIG5ld0Nvc3QpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSBuZXdDb3N0ICsgdGhpcy5oZXVyaXN0aWMobmV4dCwgZ29hbCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb250aWVyLnB1c2gobmV4dCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IGdvYWw7XG4gICAgICAgIGxldCBwYXRoSXNCcm9rZW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG5cblxuICAgICAgICB3aGlsZSAoIWN1cnJlbnQuZXF1YWxzKHN0YXJ0KSAmJiAhcGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICBpZiAoY2FtZUZyb20uaGFzKGN1cnJlbnQpIHx8ICFjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjYW1lRnJvbS5nZXQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXRoSXNCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcGF0aC5wdXNoKHN0YXJ0KTtcbiAgICAgICAgICAgIC8vIHBhdGgucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RGlzdFNxdWFyZWQocHQxLCBwdDIpIHtcbiAgICAgICAgcmV0dXJuICgocHQxLnggLSBwdDIueCkgKiAocHQxLnggLSBwdDIueClcbiAgICAgICAgICAgICsgKHB0MS55IC0gcHQyLnkpICogKHB0MS55IC0gcHQyLnkpXG4gICAgICAgICAgICArIChwdDEueiAtIHB0Mi56KSAqIChwdDEueiAtIHB0Mi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGhldXJpc3RpYyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyhhLnggLSBiLngpICsgTWF0aC5hYnMoYS55IC0gYi55KSArIE1hdGguYWJzKGEueiAtIGIueik7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZVN0YXRlVk8gfSA9IHJlcXVpcmUoJy4vR2FtZVN0YXRlVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZVN0YXRlUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZVByb3h5Lk5BTUUsIG5ldyBHYW1lU3RhdGVWTygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVHYW1lU3RhdGVUeXBlKG5ld1N0YXRlVHlwZSkge1xuICAgICAgICB0aGlzLnZvLmdhbWVwbGF5TW9kZSA9IG5ld1N0YXRlVHlwZTtcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjb25zdCBnYW1lcGxheU1vZGVUeXBlcyA9IHtcbiAgICBFWFBMT1JBVElPTjogJ0VYUExPUkFUSU9OJyxcbiAgICBDT01CQVQ6ICdDT01CQVQnLFxuICAgIERJQUxPR1VFOiAnRElBTE9HVUUnLFxuXG59XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZXBsYXlNb2RlID0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT047XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlZ2lzdGVyIG1lZGlhdG9yIC0gR2FtZU1lZGlhdG9yXCIpO1xuICAgICAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgICAgICBzdXBlcihHYW1lTWVkaWF0b3IuTkFNRSwgYXBwKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgfVxuXG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRDpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIElucHV0TGF5ZXJNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIklucHV0TGF5ZXJNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURVxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6bmF2aWdhdGlvbicsIHRoaXMuaGFuZGxlUGlja2VyTmF2aWdhdGlvbiwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignc2Nyb2xsaW5nJywgdGhpcy5oYW5kbGVTY3JvbGxpbmcsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWluQ2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNaW4gQ2FtZXJhIEhlaWdodCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtYXhDYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnTWF4IENhbWVyYSBIZWlnaHQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgR2FtZUNhbWVyYU1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLnNldENhbWVyYVRhcmdldCA9IGZ1bmN0aW9uIChjYW1lcmFUYXJnZXQpIHtcbiAgICB0aGlzLmNhbWVyYVRhcmdldCA9IGNhbWVyYVRhcmdldDtcbiAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5lbnRpdHkuZ2V0RXVsZXJBbmdsZXMoKS55O1xuICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpLnk7XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmhhbmRsZURyYWcgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5yb3RhdGlvbiArPSBkaXJlY3Rpb24ueCAqIHRoaXMuZHJhZ011bHRpcGxpZXJYO1xuXG4gICAgbGV0IG5ld0NhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhSGVpZ2h0IC0gKGRpcmVjdGlvbi55ICogdGhpcy5kcmFnTXVsdGlwbGllclkpO1xuICAgIG5ld0NhbWVyYUhlaWdodCA9IHBjLm1hdGguY2xhbXAobmV3Q2FtZXJhSGVpZ2h0LCB0aGlzLm1pbkNhbWVyYUhlaWdodCwgdGhpcy5tYXhDYW1lcmFIZWlnaHQpO1xuICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiA9IGZ1bmN0aW9uIChmb2N1c1BvaW50KSB7XG4gICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKClcblxuICAgIGNvbnN0IHRhcmdldFggPSBNYXRoLnNpbigodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG4gICAgY29uc3QgdGFyZ2V0WiA9IE1hdGguY29zKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcblxuICAgIHJldHVybiBuZXcgcGMuVmVjMyhmb2N1c1BvaW50LnggKyB0YXJnZXRYLCBjYW1lcmFQb3NpdGlvbi55LCBmb2N1c1BvaW50LnogKyB0YXJnZXRaKTtcbn1cblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy5jYW1lcmFUYXJnZXQpIHtcbiAgICAgICAgY29uc3QgY2FtZXJhVGFyZ2V0UG9zaXRpb24gPSB0aGlzLmNhbWVyYVRhcmdldC5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0gdGhpcy5nZXRUYXJnZXRDYW1lcmFQb3NpdGlvbihjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdHdlZW5YID0gKHRhcmdldFBvc2l0aW9uLnggKyBjdXJyZW50UG9zLnggKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblkgPSAodGhpcy5jYW1lcmFIZWlnaHQgKyBjdXJyZW50UG9zLnkgKiA5KSAvIDEwO1xuICAgICAgICBjb25zdCB0d2VlblogPSAodGFyZ2V0UG9zaXRpb24ueiArIGN1cnJlbnRQb3MueiAqIDkpIC8gMTA7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0d2VlblgsIHR3ZWVuWSwgdHdlZW5aKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5sb29rQXQoY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuICAgIH1cblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNhbWVyYSB9IGZyb20gJy4vR2FtZUNhbWVyYSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2FtZXJhTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2FtZXJhTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFLCBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVRcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uc2V0Q2FtZXJhVGFyZ2V0KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2FtZXJhJ10uaGFuZGxlRHJhZyhhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnB1dExheWVyTWVkaWF0b3IgfSBmcm9tICcuL0lucHV0TGF5ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuLi9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbmV4cG9ydCBjb25zdCBJbnB1dExheWVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnB1dExheWVyQ29tcG9uZW50Jyk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjYW1lcmFFbnRpdHlcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiQ2FtZXJhIEVudGl0eVwiXG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRyYWdUaW1lXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkRyYWcgVGltZVwiLFxuICAgIGRlZmF1bHQ6IDAuNFxufSk7XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgSW5wdXRMYXllck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG4gICAgdGhpcy5yYXkgPSBuZXcgcGMuUmF5KCk7XG5cbiAgICAvKnRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKGV2dC54LCBldnQueSk7XG4gICAgfSk7Ki9cblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCB0aGlzLm9uTW91c2VEb3duLCB0aGlzKTtcbiAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbmNlKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgIH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICBpZiAocGlja2VkRW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICAgICAgY29uc3QgbmVhcmVzdE5vZGUgPSBuYXZDb21wLmdldE5lYXJlc3ROb2RlKGhpdFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncGlja2VyOm5hdmlnYXRpb24nLCBuZWFyZXN0Tm9kZSk7XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVGYWNhZGUgfSA9IHJlcXVpcmUoJy4uL0dhbWVGYWNhZGUnKTtcblxuZXhwb3J0IGNvbnN0IENhY29nZW5HYW1lID0gcGMuY3JlYXRlU2NyaXB0KCdDYWNvZ2VuR2FtZScpO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFQUF9JTklUSUFMSVNFRCk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBcIk1hcDFcIik7XG59O1xuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkNhY29nZW5HYW1lLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcblxufTsiLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGVcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ05hdmlnYXRpb25Db21wb25lbnQnKTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbm5lY3RlZENvbXBvbmVudHNcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgYXJyYXk6IHRydWUsXG4gICAgdGl0bGU6IFwiQ29ubmVjdGVkIENvbXBvbmVudHNcIlxufSk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgMC4wNSwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5LmZpbmRCeU5hbWUoJ1BsYW5lJykuZW5hYmxlZCA9IGZhbHNlO1xuXG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yX1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdmlld0NvbXBvbmVudCwgcHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVRcbiAgICAgICAgXTtcblxuICAgICAgICBub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucy5jb25jYXQocHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5maXJlKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzY3JpcHRLZXkgaW4gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQsIHNjcmlwdEtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRDb21wb25lbnQgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W3NjcmlwdEtleV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24gPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgICAgICAgICBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuaWQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUN1cnJlbnROb2RlKG5ld05vZGUpIHtcbiAgICAgICAgLypjb25zdCBnYW1lQ2hhcmFjdGVyVk8gPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCkudm87XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUgPSBuZXdOb2RlO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUub2NjdXBpZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZygnTW92ZWQgdG8gbm9kZScpO1xuICAgICAgICBjb25zb2xlLmxvZyhuZXdOb2RlKTsqL1xuICAgIH1cblxuICAgIGhhbmRsZUZpbmlzaGVkTW9kZShuZXdOb2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlBDX0ZJTklTSEVEX01PVkUsIG5ld05vZGUpO1xuICAgIH1cblxuICAgIGxvb2tGb3JDaGFyYWN0ZXIoaWQsIG5vZGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWFyY2hOb2RlIG9mIHRoaXMuc2VhcmNoQXJlYSkge1xuICAgICAgICAgICAgaWYgKHNlYXJjaE5vZGUuZXF1YWxzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KG5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgdGhpcy52aWV3Q29tcG9uZW50LCBbaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVN0YXJ0Q29tYmF0KCkge1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eVwiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG59XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IFtdO1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJQcm94eShuZXcgR2FtZUNoYXJhY3RlclByb3h5KHRoaXMuY2hhcmFjdGVySWQpKTtcbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBwYXRoO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc3RvcE1vdmVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnROb2RlKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkID0gbmV3IHBjLlZlYzMoZHQgKiB0aGlzLmNoYXJhY3RlclNwZWVkLCBkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQsIGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCk7XG4gICAgICAgIGNvbnN0IG5vZGVQb2ludCA9IG5ldyBwYy5WZWMzKG5leHRQYXRoUG9pbnQueCwgbmV4dFBhdGhQb2ludC55LCBuZXh0UGF0aFBvaW50LnopO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKG5vZGVQb2ludCwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5sb29rQXRQb2ludChuZXh0UGF0aFBvaW50KTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDwgMC4xNSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLm1vdmVtZW50UGF0aC5wb3AoKTtcblxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgndXBkYXRlQ3VycmVudE5vZGUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnZmluaXNoZWRNb3ZlJywgY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5sb29rQXRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuXG4gICAgY29uc3QgZHggPSBwb2ludC54IC0gbG9jYWxQb3MueDtcbiAgICBjb25zdCBkeiA9IHBvaW50LnogLSBsb2NhbFBvcy56O1xuICAgIGNvbnN0IGFuZ2xlVG9EZXN0ID0gTWF0aC5hdGFuMihkeCwgZHopICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCBhbmdsZVRvRGVzdCwgMCk7XG59IiwiZXhwb3J0IGNvbnN0IEFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic2lnaHRSYW5nZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJTaWdodCBSYW5nZVwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQpO1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQ19NT1ZFRF9UT19OT0RFKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVELCB0aGlzLmhhbmRsZU1hcEdyaWRDcmVhdGVkLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuUENfTU9WRURfVE9fTk9ERSwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG59O1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTWFwR3JpZENyZWF0ZWQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IHZvID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCkudm87XG5cbiAgICBpZiAoIXZvLmN1cnJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgdm8uY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIHZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICAgICAgdm8uYWdyb0FyZWEgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHRoaXMuc2lnaHRSYW5nZSk7XG5cbiAgICB9XG5cbn1cblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdmVkVG9Ob2RlID0gZnVuY3Rpb24gKGlkLCB0YXJnZXRJZCwgbm9kZSkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3Qgdm8gPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKS52bztcbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcblxuICAgIC8vIElnbm9yZSBpZiB0aGUgcGxheWVyIGlzbid0IGV4cGxvcmluZ1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZXBsYXlNb2RlICE9PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBhZ3JvTm9kZSBvZiB2by5hZ3JvQXJlYSkge1xuICAgICAgICBpZiAoYWdyb05vZGUuZXF1YWxzKG5vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcblxuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUsIG5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IE5hdmlnYXRlVG9Ob2RlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdOYXZpZ2F0ZVRvTm9kZUNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5OYXZpZ2F0ZVRvTm9kZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSk7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCk7XG5cbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSwgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZSwgdGhpcyk7XG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgdGhpcy5oYW5kbGVTdGFydENvbWJhdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbigndXBkYXRlQ3VycmVudE5vZGUnLCB0aGlzLnVwZGF0ZUN1cnJlbnROb2RlLCB0aGlzKTtcbn07XG5cbk5hdmlnYXRlVG9Ob2RlQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVOYXZpZ2F0ZVRvTm9kZSA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCkudm87XG5cbiAgICAgICAgaWYgKCFnYW1lQ2hhcmFjdGVyVk8uY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk5hdmlnYXRlVG9Ob2RlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVDdXJyZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5jaGFyYWN0ZXJJZDtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQ19NT1ZFRF9UT19OT0RFLCBpZCwgbm9kZSk7XG59XG5cbk5hdmlnYXRlVG9Ob2RlQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVTdGFydENvbWJhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCkudm87XG5cbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcblxufSIsImV4cG9ydCBjb25zdCBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NldENhbWVyYVRhcmdldENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cbi8vIHBvc3RJbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVCwgdGhpcy5lbnRpdHkpO1xufTtcbiIsImV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbW92ZVRpbGVUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdNb3ZlIHRpbGUgdGVtcGxhdGUnIH0pO1xuUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RpbGVDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RpbGUgQ29udGFpbmVyJyB9KTtcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCk7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX05PREUpO1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQ19GSU5JU0hFRF9NT1ZFKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcblxuICAgIHRoaXMubW92ZWFibGVOb2RlcyA9IFtdO1xuICAgIHRoaXMuZGlzcGxheVRpbGVzID0gW107XG59O1xuXG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGlkLCAuLi5hcmdzKSB7XG4gICAgY29uc29sZS5sb2coYEVWRU5UICR7bm90aWZpY2F0aW9uTmFtZX1gKTtcblxuICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuXG4gICAgICAgICAgICB0aGlzLmF3YWl0UGxheWVySW5wdXQoaWQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFbmRDb21iYXRUdXJuKGlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFOlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShpZCwgLi4uYXJncyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5QQ19GSU5JU0hFRF9NT1ZFOlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVGaW5pc2hlZE1vdmUoaWQsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5cblxuUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQucHJvdG90eXBlLmF3YWl0UGxheWVySW5wdXQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICB0aGlzLmRlc3Ryb3lEaXNwbGF5VGlsZXMoKTtcbiAgICB0aGlzLnNob3dNb3ZlYWJsZVRpbGVzKGlkKTtcbn1cblxuUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU5hdmlnYXRlVG9Ob2RlID0gZnVuY3Rpb24gKGlkLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5ICYmIGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgdGhpcy5tb3ZlYWJsZU5vZGVzKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVZhbGlkTW92ZShnYW1lQ2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuZGVzdHJveURpc3BsYXlUaWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGNvbnN0IHRpbGUgb2YgdGhpcy5kaXNwbGF5VGlsZXMpIHtcbiAgICAgICAgdGlsZS5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlRmluaXNoZWRNb3ZlID0gZnVuY3Rpb24gKGlkLCBjdXJyZW50Tm9kZSkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSkudm87XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09ICdwbGF5ZXInKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveURpc3BsYXlUaWxlcygpO1xuICAgICAgICB0aGlzLnNob3dNb3ZlYWJsZVRpbGVzKGlkKTtcbiAgICB9XG5cbn1cblxuUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVZhbGlkTW92ZSA9IGZ1bmN0aW9uIChjaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSkge1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgodm8uY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB2by5hdmFpbGFibGVNb3ZlbWVudCAtPSAocGF0aC5sZW5ndGggLSAxKTsgLy8gRGV0cmFjdCBieSBvbmUuLi4gdGhlIGZpcnN0IHBhdGggbm9kZSBkb2Vzbid0IGNvdW50XG4gICAgICAgIHZvLmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgdGhpcy5kZXN0cm95RGlzcGxheVRpbGVzKCk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkub2ZmKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFLCB0aGlzLmhhbmRsZU5hdmlnYXRlVG9Ob2RlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLlBDX0ZJTklTSEVEX01PVkUsIHRoaXMuaGFuZGxlRmluaXNoZWRNb3ZlLCB0aGlzKTtcblxuXG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgfVxufVxuXG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuc2hvd01vdmVhYmxlVGlsZXMgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IHByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY29uc3Qgdm8gPSBwcm94eS52bztcbiAgICB0aGlzLm1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcbiAgICB0aGlzLmRpc3BsYXlUaWxlcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubW92ZWFibGVOb2Rlcykge1xuICAgICAgICBjb25zdCB0aWxlID0gdGhpcy5tb3ZlVGlsZVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIHRpbGUuc2V0TG9jYWxQb3NpdGlvbihub2RlLngsIG5vZGUueSwgbm9kZS56KTtcbiAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyLmFkZENoaWxkKHRpbGUpO1xuICAgICAgICB0aGlzLmRpc3BsYXlUaWxlcy5wdXNoKHRpbGUpO1xuICAgIH1cbn1cblxuXG5QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlRW5kQ29tYmF0VHVybiA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIHRoaXMuZGVzdHJveURpc3BsYXlUaWxlcygpO1xufVxuXG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTixcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOmVuZFR1cm4nLCB0aGlzLmhhbmRsZUVuZFR1cm4sIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUVuZFR1cm4oZXZ0KSB7XG4gICAgICAgIHRoaXMuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIH0gZnJvbSBcIi4vUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50Jyk7XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlbmRUdXJuQnV0dG9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdFbmQgVHVybiBidXR0b24nIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbmRUdXJuQnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5jbGlja0VuZFR1cm4sIHRoaXMpO1xufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsaWNrRW5kVHVybiA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazplbmRUdXJuJyk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBQdXJlTVZDIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IENhY29nZW5HYW1lIH0gZnJvbSAnLi92aWV3L0NhY29nZW5HYW1lJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBOYXZpZ2F0ZVRvTm9kZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL25hdmlnYXRlVG9Ob2RlL05hdmlnYXRlVG9Ob2RlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0SW5wdXRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9jb21iYXRJbnB1dC9QbGF5ZXJDb21iYXRJbnB1dENvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1haW4gc3RhcnRcIik7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=