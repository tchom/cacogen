(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,d=this._events[s],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,a),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],d=s.length;c<d;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},596:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Ce});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(969),a=i(434);const{Facade:s}=i(710);function c(t,e,...i){const c=s.getInstance(t),E=pc.Application.getApplication(),g=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(E),m=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(E,g),A=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(E,g),f=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(E),N=function(t){const e=[];for(const i of t)y(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=a.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);a.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(g);c.hasProxy(r.h.NAME)&&c.removeProxy(r.h.NAME),c.registerProxy(new r.h(g,m,A,f,N)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function y(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),r=new pc.Vec3(t.x+1,t.y,t.z),a=new pc.Vec3(t.x+1,t.y,t.z+1),s=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(h)))))}var E=i(917);const{Proxy:g}=i(710);class m extends g{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(m.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:A}=i(710),{StoryVO:f}=i(553);class N extends A{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],r=t.assets.get(o).resource;i.set(n,r)}super(N.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Proxy:C}=i(710),{InventoryVO:T}=i(838);class _ extends C{get vo(){return this.getData()}static get NAME(){return"InventoryProxy"}constructor(){super(_.NAME,new T)}get inventoryItems(){return this.vo.inventoryItems}set inventoryItems(t){this.vo.inventoryItems=t}get equipmentSlots(){return this.vo.equipmentSlots}reorderInventoryItem(t,e){const i=this.inventoryItems.splice(t,1);let n=0,o=0;for(let t=0;t<this.inventoryItems.length;t++){const i=this.inventoryItems[t];e>=n&&e<n+i.size&&(o=t),n+=i.size}if(e>=n&&(o=this.inventoryItems.length),"[object Array]"!==Object.prototype.toString.call(this.inventoryItems))throw new Error("Please provide a valid array");if(!i.length)throw new Error("There is no item in the array at index "+t);this.inventoryItems.splice(o,0,i[0])}attemptToEquipItemToSlot(t,e){const i=this.equipmentSlots.get(t),n=this.inventoryItems.indexOf(e);return-1!==n&&this.inventoryItems.splice(n,1),this.equipmentSlots.set(t,e),i&&this.inventoryItems.push(i),!0}}const{Facade:M}=i(710);function v(t,e){M.getInstance(t).registerProxy(new E.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;M.getInstance(t).registerProxy(new m(e)),M.getInstance(t).registerProxy(new N),M.getInstance(t).registerProxy(new _)}}const{Facade:S}=i(710);function P(t,e,...i){const o=pc.Application.getApplication(),r=i[0],a=i[1];console.log("Changing scene "+r);const s=o.root.findByName("Root"),c=o.scenes.find(r);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):s&&s.destroy(),S.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),S.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r),S.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,a)}))}function b(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var I=i(958);const{Proxy:O}=i(710),{CombatVO:x}=i(201);class L extends O{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(L.NAME,new x(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(I.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=b(t);for(;"end_round"===e[0];)e=b(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var w=i(448);const{Facade:D}=i(710);function R(t,e,...i){const o=i[0],r=D.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(E.u.NAME).updateGameStateType(w.gameplayModeTypes.COMBAT);const a=r.retrieveProxy(I.b.NAME+o);r.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",a);const s=new Map,c=["player"];s.set("player_team",c);const h=[o].concat(a.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));s.set("opposing_team",h);const d=c.concat(h),l=r.retrieveProxy(I.b.NAME+"player");for(const t of d)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,a.currentNode);const p=new L(d,s);r.registerProxy(p),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:G}=i(710);function k(t,e,...i){const n=G.getInstance(t),o=n.retrieveProxy(E.u.NAME),r=n.retrieveProxy(L.NAME);o.vo.gameplayMode===w.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:U}=i(710);function H(t,e,...i){const o=U.getInstance(t),r=o.retrieveProxy(E.u.NAME),a=o.retrieveProxy(L.NAME);r.vo.gameplayMode===w.gameplayModeTypes.COMBAT&&(a.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,a.vo.nextTurnCharacterId))}const{Facade:V}=i(710);function F(t,e,...i){setTimeout((()=>{const e=V.getInstance(t),i=e.retrieveProxy(L.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}class z{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}class B{constructor(t){this.initialize(t)}initialize(t){this.id=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==z.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return z.ERROR}close(t){}exit(t){}}class W extends B{tick(t){for(const e of this.children)e.execute(t);return z.SUCCESS}}class q{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class Y{constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class K{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new Y;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class j{constructor(t){this.id="basicMeleeTree",this.blackboard=new q,this.tree=new K(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class $ extends B{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==z.FAILURE)return i}return z.FAILURE}}class X extends B{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),z.SUCCESS}}class Q extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),z.SUCCESS}}class J extends B{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),z.SUCCESS}}class Z extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(I.b.NAME+i).availableMovement>0?z.SUCCESS:z.FAILURE}}class tt extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(I.b.NAME+i).currentNode;return e.retrieveProxy(I.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?z.SUCCESS:z.FAILURE}}class et extends B{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==z.SUCCESS)return i===z.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return z.SUCCESS}}class it extends B{tick(t){const e=this.children[0];if(!e)return z.ERROR;let i=e.execute(t);return i==z.SUCCESS?i=z.FAILURE:i==z.FAILURE&&(i=z.SUCCESS),i}}class nt extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(I.b.NAME+i).isDead?z.SUCCESS:z.FAILURE}}class ot extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(I.b.NAME+i),s=r.currentNode,c=e.retrieveProxy(I.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(c.length>0){let t=c.reduce(((t,e)=>rt(s,t)<rt(s,e)?t:e));const o=a.q.calculatePath(s,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,z.SUCCESS}}function rt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class at extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(I.b.NAME+i).isDead?z.SUCCESS:z.FAILURE}}class st extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(I.b.NAME+i).availableActions>0?z.SUCCESS:z.FAILURE}}class ct extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(I.b.NAME+i).availableMovement=0,z.SUCCESS}}class ht extends j{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new W([new $([new et([new X,new it([new at]),new it([new nt]),new $([new et([new tt,new st,new X,new Q,new ct]),new et([new Z,new X,new ot])])]),new J])])}}const{Facade:dt}=i(710);function lt(t,e,...i){const n=i[0],o=dt.getInstance(t),a=(o.retrieveProxy(r.h.NAME),o.retrieveProxy(I.b.NAME+n).currentNode);o.retrieveProxy(I.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(a))),(new ht).runCommands(o,n)}var pt=i(710);function ut(t,e,...i){const o=pt.Facade.getInstance(t),a=o.retrieveProxy(E.u.NAME),s=o.retrieveProxy(r.h.NAME),c=i[0];s.hasValidNode(c)&&(a.currentMode===w.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):a.currentMode===w.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(L.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:yt}=i(710);function Et(t,e,...i){const n=yt.getInstance(t),o=i[0],r=i[1],s=n.retrieveProxy(I.b.NAME+o),c=s.vo,h=a.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(r)&&gt(n,s,r)}function gt(t,e,i){const o=e.vo,r=a.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function mt(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function At(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function ft(t,e,...i){const o=i[0],r=pt.Facade.getInstance(t),s=r.retrieveProxy(I.b.NAME+o).vo,c=a.q.breadthFirstSearch(s.currentNode,s.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function Nt(t,e,...i){const o=pt.Facade.getInstance(t),r=i[0],a=i[1];if(o.retrieveProxy(I.b.NAME+r).currentNode=a,o.retrieveProxy(E.u.NAME).currentMode===w.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(L.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),500))}}function Ct(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function Tt(t,e,...i){const o=pt.Facade.getInstance(t),s=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(E.u.NAME),h=o.retrieveProxy(r.h.NAME),d=o.retrieveProxy(I.b.NAME+s),l=o.retrieveProxy(I.b.NAME+"player"),p=o.retrieveProxy(m.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===w.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?_t(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s),o.sendNotification(n.i.START_COMBAT,s)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,s):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,s);else if(c.currentMode===w.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(L.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)_t(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=a.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=a.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function _t(t,e,i){const n=Ct(e),o=Ct(i);return!t.rayIntersectsWall(n,o)}var Mt=i(829);function vt(t,e,...i){const o=pt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(I.b.NAME+r),s=i[1],c=o.retrieveProxy(I.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=o.retrieveProxy(m.NAME),d=a.equippedWeapon+"Fighting",l=c.equippedWeapon+"Fighting",p=a.getSkillTotal(d),u=a.getSkillTotal(l),y=Pt(p),E=Pt(u);if(a.availableActions-=1,y===E)o.sendNotification(n.i.DISPLAY_ATTACK+r),o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${y}/${E})`);else if(y>E){const t=St(y,E),e=h.getDamage(a.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,s):(o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`))}else{const t="melee"===h.getWeaponCategory(c.equippedWeapon),e=St(E,y),i=t?c.equippedWeapon:Mt.j.UNARMED,d=h.getDamage(i,e);a.applyDamage(d),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${d}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,r):o.sendNotification(n.i.DISPLAY_HIT+r)}const g=o.retrieveProxy(L.NAME);g&&"player"!==g.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function St(t,e){return t-e}function Pt(t){return t+bt()+bt()}function bt(){return Math.round(6*Math.random())}var It=i(321);const{Facade:Ot}=i(710);function xt(t,e,...i){const o=Ot.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(I.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(It.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function Lt(t,e,...i){const o=pt.Facade.getInstance(t),r=i[0];console.log("Kill character:: "+r);const a=o.retrieveProxy(I.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",a),o.sendNotification(n.i.DISPLAY_DEATH+r),a&&(a.currentNode.occupied=!1);const s=o.retrieveProxy(L.NAME);s&&s.removeCharacterFromCombat(r)}const{Facade:wt}=i(710);function Dt(t,e,...i){const o=i[0],r=wt.getInstance(t);r.hasMediator(L.NAME)&&r.removeMediator(L.NAME),r.sendNotification(n.i.HIDE_WALKABLE_AREA);const a=r.retrieveProxy(E.u.NAME);"player_team"===o?(a.updateGameStateType(w.gameplayModeTypes.GAME_OVER),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(a.updateGameStateType(w.gameplayModeTypes.EXPLORATION),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}var Rt=i(316);class Gt extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),z.SUCCESS}}class kt extends B{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(I.b.NAME+i),s=r.currentNode,c=e.retrieveProxy(I.b.NAME+o).currentNode,h=Math.pow(this.minDistance,2),d=Math.pow(this.maxDistance,2),l=r.availableMovement;r.availableMovement=0;const p=Ut(c,s);if(p>=h&&p<=d)return z.FAILURE;{const t=a.q.breadthFirstSearch(s,l);if(t.length>0){if(p<h){let o=t.reduce(((t,e)=>Ut(c,t)>Ut(c,e)?t:e));const h=a.q.calculatePath(s,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Ut(c,t)<Ut(c,e)?t:e));const h=a.q.calculatePath(s,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),r.currentNode=o)}return z.SUCCESS}return z.FAILURE}}}function Ut(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class Ht extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}class Vt extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(I.b.NAME+i),a=(o.currentNode,e.retrieveProxy(I.b.NAME+n)),s=(a.currentNode,e.retrieveProxy(r.h.NAME)),c=Ct(o),h=Ct(a);return s.rayIntersectsWall(c,h)?z.FAILURE:z.SUCCESS}}class Ft extends B{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),s=e.retrieveProxy(I.b.NAME+i),c=s.currentNode,h=e.retrieveProxy(I.b.NAME+o),d=h.currentNode.connectedNodes,l=e.retrieveProxy(r.h.NAME),p=d.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>zt(c,t)<zt(c,e)?t:e));const o=a.q.calculatePath(c,t);if(o&&o.length>0){const r=s.vo;for(;o.length>r.availableMovement;)o.shift();const a=Ct(h);let c=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*s.height,e.z);if(!l.rayIntersectsWall(i,a)){c=t;break}}o.splice(0,c),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),s.currentNode=t}}return s.availableMovement=0,z.SUCCESS}}function zt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class Bt extends j{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new W([new $([new et([new X,new it([new at]),new it([new nt]),new $([new et([new Z,new it([new Vt]),new Ft]),new et([new Z,new $([new kt(9,12),new Ht])]),new et([new st,new Vt,new Gt])])]),new J])])}}function Wt(t,e,...i){const n=pt.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(I.b.NAME+o).botBehaviour){case Rt.r.BASIC_MELEE:(new ht).runCommands(n,o);break;case Rt.r.BASIC_RANGED:(new Bt).runCommands(n,o)}}var qt=i(852);function Yt(t,e,...i){const o=pt.Facade.getInstance(t);let a=0,s=0;const c=i[0],h=o.retrieveProxy(I.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(I.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode);const y=h.equippedWeapon+"Fighting",E=h.getSkillTotal(y);a+=Kt(E),s+=Kt(p.skill);const g=o.retrieveProxy(m.NAME);o.retrieveProxy(r.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(s+=2);const A=o.retrieveMediator(qt.N.NAME),f=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),N=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),A.createProjectile("crossbow_bolt",f,N).then((()=>{if(a>s){const t=o.retrieveProxy(L.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(I.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(I.b.NAME+l)}const e=a-s,i=g.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,l):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(L.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function Kt(t){return t+jt()+jt()}function jt(){return Math.round(6*Math.random())}const{Facade:$t}=i(710);function Xt(t,e,...i){const o=$t.getInstance(t);if(o.retrieveProxy(E.u.NAME).currentMode===w.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(L.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const r=i[0],a=i[1];o.retrieveProxy(I.b.NAME+r).equippedWeapon=a,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} equips ${a}`)}function Qt(t,e,...i){const o=pt.Facade.getInstance(t),a=i[0],s=i[1],c=i[2],h=o.retrieveProxy(r.h.NAME).findNearestNode(a);o.retrieveMediator(It.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,s,c)}))}const{Facade:Jt}=i(710);function Zt(t,e,...i){const n=Jt.getInstance(t),o=i[0],a=pc.Application.getApplication(),s=a.assets.get(40523336),c=a.root.findByName("WorldObjects"),h=s.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(r.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:te}=i(710);function ee(t,e,...i){const o=te.getInstance(t),r=i[0],s=o.retrieveProxy(I.b.NAME+"player"),c=o.retrieveProxy(I.b.NAME+r),h=o.retrieveMediator(It.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=a.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=a.q.calculatePath(n,t[i]);(!e||o&&o.length<e.length)&&(e=o)}return e}return}}(s,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_DIALOGUE,r)}))}const{Facade:ie}=i(710);function ne(t,e,...i){const o=ie.getInstance(t),r=o.retrieveProxy(E.u.NAME),a=i[0],s=o.retrieveProxy(N.NAME),c=o.retrieveProxy(I.b.NAME+"player"),h=o.retrieveProxy(I.b.NAME+a),d=h.dialogueTree;s.startDialogueTree(d),r.updateGameStateType(w.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=s.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function oe(t,e,...i){const o=pt.Facade.getInstance(t),r=o.retrieveProxy(N.NAME),a=r.continueCurrentNodeStep();if(a){if(a.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),a.notifications)for(const t of a.notifications)o.sendNotification(t.name,...t.args);o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:a})}else o.sendNotification(n.i.END_DIALOGUE)}function re(t,e,...i){const o=pt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(N.NAME),s=a.selectChoice(r);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:s.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:a.currentTree,step:c}),s.test?o.sendNotification(n.i.RESOLVE_DIALOGUE_SKILL_TEST,s.test):s.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.goto)}function ae(t,e,...i){const o=pt.Facade.getInstance(t),r=o.retrieveProxy(N.NAME),a=i[0];r.goToNode(a);const s=r.getCurrentNodeStep();if(s){if(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:s}),console.log("*****"),console.log(s),s.notifications)for(const t of s.notifications)console.log("SHOOT COMMAND: "+t.name),o.sendNotification(t.name,...t.args)}else o.sendNotification(n.i.END_DIALOGUE)}const{Facade:se}=i(710);function ce(t,e,...i){const o=se.getInstance(t);o.retrieveProxy(E.u.NAME).updateGameStateType(w.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:he}=i(710);function de(t,e,...i){const o=he.getInstance(t),r=i[0],s=o.retrieveProxy(I.b.NAME+"player"),c=o.retrieveProxy(I.b.NAME+r),h=o.retrieveMediator(It.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=a.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=a.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(s,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,r),o.sendNotification(n.i.RESOLVE_ATTACK,"player",r)}))}const{Facade:le}=i(710);function pe(t,e,...i){const n=le.getInstance(t),o=i[0];n.retrieveProxy(E.u.NAME).currentAction=o}function ue(t,e,...i){const o=pt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(I.b.NAME+"player").getSkillTotal(r.skill),s=ye(),c=ye(),h=a>=s+c;o.sendNotification(n.i.DISPLAY_DIALOGUE_SKILL_TEST,r.skill,a,s,c,h),h?(console.log(`Succeeded ${r.skill} with a ${a} vs ${s}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,r.success.goto)):(console.log(`Failed ${r.skill} with a ${a} vs ${s}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,r.failure.goto))}function ye(){return Math.round(6*Math.random())}const{Facade:Ee}=i(710);function ge(t,e,...i){const o=Ee.getInstance(t),r=o.retrieveProxy(_.NAME);o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}const{Facade:me}=i(710);function Ae(t,e,...i){const o=me.getInstance(t),r=o.retrieveProxy(_.NAME),a=i[0],s=i[1];r.reorderInventoryItem(a,s),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}function fe(t,e,...i){const o=pt.Facade.getInstance(t),r=o.retrieveProxy(_.NAME),a=i[0],s=i[1],c=r.inventoryItems[a];r.attemptToEquipItemToSlot(s,c),"weapon"===c.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}const{Facade:Ne}=i(710);class Ce extends Ne{static getInstance(t){return Ne.instanceMap[t]||(Ne.instanceMap[t]=new Ce(t)),Ne.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Ce.NAME+"StartUp"}startup(t){this.sendNotification(Ce.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Ce.STARTUP,v),this.registerCommand(n.i.CHANGE_SCENE,P),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,R),this.registerCommand(n.i.NEXT_COMBAT_TURN,k),this.registerCommand(n.i.NEXT_COMBAT_ROUND,H),this.registerCommand(n.i.END_COMBAT_TURN,F),this.registerCommand(n.i.ENEMY_TURN,lt),this.registerCommand(n.i.SELECTED_NODE,ut),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,Et),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Wt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,mt),this.registerCommand(n.i.HIDE_WALKABLE_AREA,At),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,ft),this.registerCommand(n.i.FINISHED_MOVE,Nt),this.registerCommand(n.i.SELECT_GAME_CHARACTER,Tt),this.registerCommand(n.i.RESOLVE_ATTACK,vt),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,Yt),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,xt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,de),this.registerCommand(n.i.KILL_GAME_CHARACTER,Lt),this.registerCommand(n.i.END_COMBAT,Dt),this.registerCommand(n.i.EQUIP_WEAPON,Xt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,Qt),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,Zt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,ee),this.registerCommand(n.i.START_DIALOGUE,ne),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,oe),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,re),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,ae),this.registerCommand(n.i.END_DIALOGUE,ce),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,pe),this.registerCommand(n.i.RESOLVE_DIALOGUE_SKILL_TEST,ue),this.registerCommand(n.i.CLICK_INVENTORY_BUTTON,ge),this.registerCommand(n.i.REORDER_INVETORY_ITEM,Ae),this.registerCommand(n.i.EQUIP_ITEM_TO_SLOT,fe)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get DISPLAY_DIALOGUE_SKILL_TEST(){return"DISPLAY_DIALOGUE_SKILL_TEST"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get RESOLVE_DIALOGUE_SKILL_TEST(){return"RESOLVE_DIALOGUE_SKILL_TEST"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}static get CLICK_INVENTORY_BUTTON(){return"CLICK_INVENTORY_BUTTON"}static get DISPLAY_INVENTORY_PANEL(){return"DISPLAY_INVENTORY_PANEL"}static get REORDER_INVETORY_ITEM(){return"REORDER_INVETORY_ITEM"}static get EQUIP_ITEM_TO_SLOT(){return"EQUIP_ITEM_TO_SLOT"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}getSkillTotal(t){return this.vo.advancedSkills.has(t)?this.skill+this.vo.advancedSkills.get(t):this.skill}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||new Map,this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=this.getDistSquared(a,t),c=r.get(t)+s;if(!a.occupied&&(!r.has(a)||c<r.get(a))){r.set(a,c);let n=c+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,r=n-e,a=Math.abs(o),s=Math.abs(r);const c=o>0?1:-1,h=r>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<a||e<s;)(.5+t)/a<(.5+e)/s?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},838:(t,e,i)=>{i.r(e),i.d(e,{InventoryVO:()=>o});class n{constructor(t){this.id=t.id,this.name=t.name,this.type=t.type,this.size=t.size??1,this.equippable=t.equippable??!1}}class o{constructor(){this.inventoryItems=[],this.equipmentSlots=new Map;const t={id:"sword",name:"Basic Sword",type:"weapon"},e={id:"bow",name:"Bow",type:"weapon"};this.addItem(t),this.addItem(e),this.addItem({id:"armour",name:"Armour",type:"armour",size:3}),this.addItem(t),this.addItem({id:"fusil",name:"Fusil",type:"weapon"}),this.addItem(e)}addItem(t){this.inventoryItems.push(new n(t))}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),a=i(958);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,s=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=r.q.calculateWaypointsPath(s,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let r=!0;for(;o.length>1&&r;)e.hasValidLine(o[o.length-2],n)?o.pop():r=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(596),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(596),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const y=pc.createScript("GameCharacterComponent");function E(t){const e=new Map;for(const i of t)e.set(i.skillName,i.skillValue);return e}y.attributes.add("characterId",{type:"string",title:"Character Id"}),y.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),y.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),y.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),y.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),y.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"number"}],array:!0}),y.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),y.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),y.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),y.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),y.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},y.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:E(this.advancedSkills),equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1)},y.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},y.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},y.prototype.update=function(t){this.moveAlongPath(t)},y.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},y.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},y.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},y.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},y.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var g=i(917),m=i(448);const A=pc.createScript("AgroGameCharacterComponent");A.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),A.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},A.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},A.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(g.u.NAME).vo.gameplayMode!==m.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,a=new pc.Vec3(r.x,r.y,r.z),s=new pc.Vec3(n.x,n.y,n.z);if(a.distance(s)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);a.y+=this.characterProxy.height,t.rayIntersectsWall(a,s)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:f}=i(710);class N extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const C=pc.createScript("ToastMessageComponent");C.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),C.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),C.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},C.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},C.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:T}=i(710);class _ extends T{static get NAME(){return"InputLayerMediator"}constructor(t){super(_.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const M=pc.createScript("GameCamera");M.attributes.add("distance",{type:"number",default:100,title:"Distance"}),M.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),M.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),M.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),M.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(S.NAME)&&this.facade.removeMediator(S.NAME),this.facade.registerMediator(new S(this.entity))},M.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},M.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},M.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},M.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class S extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(S.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const P=pc.createScript("InputLayerComponent");P.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),P.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),P.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.NAME)&&this.facade.removeMediator(_.NAME),this.facade.registerMediator(new _(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},P.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},P.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},P.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},P.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},P.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},P.prototype.update=function(t){this.processInputQueue()},P.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},P.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},P.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},P.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:b}=i(710);class I extends b{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(I.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const O=pc.createScript("PlayerCombatPanelComponent");O.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),O.prototype.initialize=function(){},O.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(I.NAME)&&this.facade.removeMediator(I.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new I(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},O.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:L}=i(710);class w extends L{static get NAME(){return"ActionPanelMediator"}constructor(t){super(w.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const D=pc.createScript("ActionButtonComponent");D.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),D.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),D.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),D.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},D.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},D.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(w.NAME)&&this.facade.removeMediator(w.NAME),this.facade.registerMediator(new w(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var G=i(852);const k=pc.createScript("ProjectileCreatorComponent");k.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),k.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(G.N.NAME)&&this.facade.removeMediator(G.N.NAME),this.facade.registerMediator(new G.N(this.entity))},k.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const U=pc.createScript("ProjectileComponent");U.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),U.prototype.initialize=function(){},U.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},U.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},U.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:H}=i(710);class V extends H{static get NAME(){return"StaminaBarMediator"}constructor(t){super(V.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const F=pc.createScript("StaminaBarComponent");F.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),F.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),F.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(V.NAME)&&this.facade.removeMediator(V.NAME),this.facade.registerMediator(new V(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},F.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:z}=i(710);class B extends z{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(B.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const W=pc.createScript("ActionsRemainingPanelComponent");W.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),W.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(B.NAME)&&this.facade.removeMediator(B.NAME),this.facade.registerMediator(new B(this.entity)),this.pips=[]},W.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},W.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const q=pc.createScript("ActionsRemainingPipComponent");q.attributes.add("pipFront",{type:"entity",title:"Pip front"}),q.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:Y}=i(710);class K extends Y{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,r=i.x/o,a=(this.device.height-i.y)/o;return new pc.Vec3(r,a,0)}};const $=pc.createScript("FloatingStatusCreatorComponent");$.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),$.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),$.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),$.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},$.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:X}=i(710);class Q extends X{static get NAME(){return"PortalMediator"}constructor(t){super(Q.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(g.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,r=i.standingPoint.getPosition();t.currentMode===m.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,r,n,o)}}const J=pc.createScript("PortalComponent");J.attributes.add("portalId",{type:"string",title:"Portal Id"}),J.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),J.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),J.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),J.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),J.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Q.NAME)&&this.facade.removeMediator(Q.NAME),this.facade.registerMediator(new Q(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:Z}=i(710);class tt extends Z{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(tt.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.DISPLAY_DIALOGUE_SKILL_TEST,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1;break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.DISPLAY_DIALOGUE_SKILL_TEST:this.viewComponent.script.DialoguePanelComponent.createSkillTest(...i);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const et=pc.createScript("DialoguePanelComponent");et.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),et.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),et.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),et.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),et.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),et.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),et.attributes.add("skillTestEntryTemplate",{type:"asset",title:"Skill Test Entry Asset"}),et.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(tt.NAME)&&this.facade.removeMediator(tt.NAME),this.facade.registerMediator(new tt(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},et.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},et.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createSkillTest=function(t,e,i,n,o){const r=this.skillTestEntryTemplate.resource.instantiate();r.script.DialogueSkillTestComponent.setup(t,e,i,n,o),this.feedEntity.addChild(r),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},et.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},et.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},et.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},et.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const it=pc.createScript("DialogueChoiceComponent");it.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),it.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),it.prototype.initialize=function(){},it.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},it.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const nt=pc.createScript("DefaultAnimationComponent");nt.attributes.add("animationName",{type:"string",title:"Animation Name"}),nt.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const ot=pc.createScript("DialogueTextComponent");ot.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),ot.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),ot.attributes.add("textContainer",{type:"entity",title:"Text Container"}),ot.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),ot.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),ot.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),ot.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),ot.prototype.initialize=function(){},ot.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},ot.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},ot.prototype.postInitialize=function(){this.setHeight()},ot.prototype.update=function(t){};const{Mediator:rt}=i(710);class at extends rt{static get NAME(){return"AttackButtonMediator"}constructor(t){super(at.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const st=pc.createScript("AttackButtonComponent");st.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),st.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(at.NAME)&&this.facade.removeMediator(at.NAME),this.facade.registerMediator(new at(this.entity)),this.entity.element.on("click",this.handleClick,this)},st.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},st.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const ct=pc.createScript("VehicleComponent");function ht(t,e){return t.length()<e?t:t.normalize().scale(e)}ct.attributes.add("mass",{type:"number",title:"Mass",default:3}),ct.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),ct.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),ct.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),ct.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},ct.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=ht(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=ht(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},ct.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},ct.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const dt=pc.createScript("ScreenResizeComponent");dt.prototype.window=window,dt.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},dt.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const lt=pc.createScript("DialogueSkillTestComponent");lt.attributes.add("skillNameLabel",{type:"entity",title:"Skill Name Label"}),lt.attributes.add("skillValueLabel",{type:"entity",title:"Skill Value Label"}),lt.attributes.add("die1Label",{type:"entity",title:"Die 1 Label"}),lt.attributes.add("die2Label",{type:"entity",title:"Die 2 Label"}),lt.attributes.add("successLabel",{type:"entity",title:"Success Label"}),lt.attributes.add("failureLabel",{type:"entity",title:"Failure Label"}),lt.prototype.initialize=function(){},lt.prototype.setup=function(t,e,i,n,o){this.skillNameLabel.element.text=t,this.skillValueLabel.element.text=e,this.die1Label.element.text=i,this.die2Label.element.text=n,this.successLabel.enabled=o,this.failureLabel.enabled=!o};const pt=pc.createScript("InventoryItemComponent");pt.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),pt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),pt.attributes.add("expandedEntity",{type:"entity",title:"Expanded Entity"}),pt.attributes.add("handle",{type:"entity",default:null,title:"Handle"}),pt.attributes.add("axis",{type:"string",default:"y",title:"Axis",description:"lock drag to axis: x, y or xy"}),pt.prototype.setup=function(t,e,i){this.size=e,this.labelEntity.element.text=t,this.entity.element.height=this.slotHeight*e,this.expandedEntity.element.height=this.slotHeight*e,this.orderIndex=i},pt.prototype.collapse=function(){this.expandedEntity.enabled=!1},pt.prototype.expand=function(){this.expandedEntity.enabled=!0},pt.prototype.postInitialize=function(){new pc.ElementDragHelper(this.entity.element,null).on("drag:start",this.onDragStart,this)},pt.prototype.onDragStart=function(){this.entity.parent.fire("drag:start",this.entity,this.size)};const{Mediator:ut}=i(710);class yt extends ut{static get NAME(){return"InventoryPanelMediator"}constructor(t){super(yt.NAME),this.subscribeNotification([e.i.DISPLAY_INVENTORY_PANEL]),this.viewComponent=t,this.viewComponent.on("reorderItem",this.handeReorderItem,this),this.viewComponent.on("equipItem",this.handleEquipItem,this),this.viewComponent.enabled=!1}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_INVENTORY_PANEL:const t=i[0],n=i[1];this.viewComponent.script.InventoryPanelComponent.displayItems(t,n),this.viewComponent.enabled=!0}}handeReorderItem(t,i){this.facade.sendNotification(e.i.REORDER_INVETORY_ITEM,t,i)}handleEquipItem(t,i){this.facade.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,t,i)}}const Et=pc.createScript("InventoryPanelComponent");function gt(t,e){return t.x>e.x1&&t.x<e.x2&&t.y>e.y1&&t.y<e.y2}Et.attributes.add("slotContainer",{type:"entity",title:"Slot Container"}),Et.attributes.add("topSlotPosition",{type:"entity",title:"Top Slot Position"}),Et.attributes.add("separatorHighlight",{type:"entity",title:"Separator Highlight"}),Et.attributes.add("closeButton",{type:"entity",title:"Close Button"}),Et.attributes.add("itemAsset",{type:"asset",title:"Item Asset"}),Et.attributes.add("dragIcon",{type:"entity",title:"Drag Icon"}),Et.attributes.add("slotWidth",{type:"number",title:"Slot Width",default:320}),Et.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),Et.attributes.add("maxSlots",{type:"number",title:"Max Slots",default:12}),Et.attributes.add("equipmentSlots",{type:"json",schema:[{name:"key",title:"Equipment Slot Key",type:"string"},{name:"entity",title:"Equipment Slot Entity",type:"entity"}],array:!0,title:"Equipment Slots"}),Et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(yt.NAME)&&this.facade.removeMediator(yt.NAME),this.facade.registerMediator(new yt(this.entity)),this.entity.on("drag:start",this.handleDragStart,this),this.closeButton.element.on("click",this.handleClose,this),this.separatorHighlight.enabled=!1,this.inventoryItemEntities=[]},Et.prototype.handleDragStart=function(t,e){t.reparent(this.entity),this.dragIcon.reparent(this.entity),this.entity.element.on(pc.EVENT_MOUSEMOVE,(i=>{this.handleMouseMove(t,e,i)}),this),this.entity.element.on(pc.EVENT_MOUSEUP,(i=>{this.handleMouseUp(t,e,i)}),this)},Et.prototype.localPositionFromMouseEvent=function(t){const e=new pc.Vec3(t.x,t.y,0),i=this.app.graphicsDevice.maxPixelRatio;e.x*=i,e.y*=i;const n=this.entity.element.screen.screen,o=this.app.graphicsDevice,r=n.scale,a=e.x/r,s=(o.height-e.y)/r;return new pc.Vec3(a,s,0)},Et.prototype.handleMouseMove=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.setLocalPosition(n),this.displayPotentialList(t,e,n)},Et.prototype.handleMouseUp=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.enabled=!1,t.script.InventoryItemComponent.expand(),this.entity.element.off(pc.EVENT_MOUSEMOVE),this.entity.element.off(pc.EVENT_MOUSEUP);const o=this.topSlotPosition.getLocalPosition();if(gt(n,{x1:o.x,y1:o.y-this.maxSlots*this.slotHeight,x2:o.x+this.slotWidth,y2:o.y})){const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},n=this.localPositionFromMouseEvent(i),r=Math.max(0,Math.floor((o.y-n.y)/this.slotHeight)),a=t.script.InventoryItemComponent.orderIndex;this.entity.fire("reorderItem",a,r)}else this.checkDropOnEquipmentSlot(t,i)},Et.prototype.checkDropOnEquipmentSlot=function(t,e){for(const i of this.equipmentSlots){const n=i.key,o=i.entity.element.screenCorners,r=this.app.graphicsDevice.height;if(gt({x:e.x,y:r-e.y},{x1:o[0].x,y1:o[0].y,x2:o[2].x,y2:o[2].y})){const e=t.script.InventoryItemComponent.orderIndex;this.entity.fire("equipItem",e,n)}}},Et.prototype.handleItemMove=function(t,e){this.isInBounds(e)?(t.script.InventoryItemComponent.expand(),this.separatorHighlight.enabled=!0):(t.script.InventoryItemComponent.collapse(),this.separatorHighlight.enabled=!1),this.setHighlightPosition(e)},Et.prototype.handleClose=function(){return this.entity.enabled=!1},Et.prototype.displayItems=function(t,e){this.clearPanel();const i=this.topSlotPosition.getLocalPosition();let n=0;for(let e=0;e<t.length;e++){const o=t[e];n+=o.size;const r=this.itemAsset.resource.instantiate();r.script.InventoryItemComponent.setup(o.name,o.size,e),r.setLocalPosition(i.x,i.y-n*this.slotHeight,0),this.inventoryItemEntities.push(r),this.entity.addChild(r)}for(const t of this.equipmentSlots){const i=t.key,n=t.entity;e.has(i)?n.script.InventoryEquippedSlotComponent.setup(!0):n.script.InventoryEquippedSlotComponent.setup(!1)}},Et.prototype.displayPotentialList=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();if(gt(i,{x1:n.x,y1:n.y-this.maxSlots*this.slotHeight,x2:n.x+this.slotWidth,y2:n.y})){t.script.InventoryItemComponent.expand(),this.dragIcon.enabled=!1;const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},o=this.localPositionFromMouseEvent(i),r=Math.max(0,Math.floor((n.y-o.y)/this.slotHeight));this.reorderListWithGap(t,t.script.InventoryItemComponent.size,r)}else this.separatorHighlight.enabled=!1,t.script.InventoryItemComponent.collapse(),this.dragIcon.enabled=!0},Et.prototype.reorderListWithGap=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();let o=0;for(let r=0;r<this.inventoryItemEntities.length;r++){const a=this.inventoryItemEntities[r];t!==a&&(i>=o&&i<o+a.script.InventoryItemComponent.size&&(o+=e),o+=a.script.InventoryItemComponent.size,a.setLocalPosition(n.x,n.y-o*this.slotHeight,0))}},Et.prototype.clearPanel=function(){for(;this.inventoryItemEntities.length>0;)this.inventoryItemEntities.pop().destroy()};const mt=pc.createScript("InventoryDragIconComponent");mt.prototype.initialize=function(){},mt.prototype.setup=function(t,e){};const At=pc.createScript("InventoryEquippedSlotComponent");At.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),At.prototype.initialize=function(){this.iconEntity.enabled=!1},At.prototype.setup=function(t){this.iconEntity.enabled=t};const{Facade:ft}=i(710),{PureMVC:Nt}=i(710);new class{constructor(){Nt.debug=!0,ft.getInstance=t.GameFacade.getInstance,console.log(ft),this.facade=ft.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3V0aWxzL1NodWZmbGVBcnJheS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OZXh0Q29tYmF0Um91bmRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9jb3JlL0JlaGF2aW91clN0YXR1cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmFzZU5vZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvR1VJRC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9Qcmlvcml0eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NZW1TZXF1ZW5jZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9BZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0RGlhbG9ndWVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL0dhbWVGYWNhZGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9Cb3RCZWhhdmlvdXJUeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0dhbWVDb21tYW5kcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9kYXRhL1dlYXBvblR5cGVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9BZGphY2VudFBvaW50cy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL0dhbWVNYXBWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vUHJpb3JpdHlRdWV1ZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXIuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9pbnZlbnRvcnkvaXRlbXMvSW52ZW50b3J5SXRlbS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9DYWNvZ2VuR2FtZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmEuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcG9ydGFsL1BvcnRhbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvZGVmYXVsdEFuaW0vRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVUZXh0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbk1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUHVyZU1WQ18xIiwiVmlld18xIiwiQ29udHJvbGxlciIsImtleSIsInRoaXMiLCJjb21tYW5kTWFwIiwiaW5zdGFuY2VNYXAiLCJFcnJvciIsIm11bHRpdG9uS2V5IiwibG9nZ2VyIiwiUHVyZU1WQyIsImRlYnVnIiwibG9nQ29tbWFuZCIsImxvZ05vbmUiLCJpbml0aWFsaXplQ29udHJvbGxlciIsInJlbW92ZUNvbnRyb2xsZXIiLCJnZXRJbnN0YW5jZSIsInByb3RvdHlwZSIsInJlZ2lzdGVyQ29tbWFuZCIsIm5vdGlmaWNhdGlvbk5hbWUiLCJjb21tYW5kQ2xhc3NSZWYiLCJ2aWV3IiwicmVnaXN0ZXJPYnNlcnZlciIsImV4ZWN1dGVDb21tYW5kIiwiaGFzQ29tbWFuZCIsInVuZGVmaW5lZCIsInJlbW92ZUNvbW1hbmQiLCJyZW1vdmVPYnNlcnZlciIsIlZpZXciLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjb21tYW5kIiwiX2NvbnNvbGVBcmdzIiwibmFtZSIsImFwcGx5IiwiY29uY2F0IiwiQ29udHJvbGxlcl8xIiwiTW9kZWxfMSIsIkZhY2FkZSIsImxvZ05vdGlmaWNhdGlvbiIsImluaXRpYWxpemVOb3RpZmllciIsImluaXRpYWxpemVGYWNhZGUiLCJoYXNDb3JlIiwicmVtb3ZlQ29yZSIsIk1vZGVsIiwicmVtb3ZlTW9kZWwiLCJyZW1vdmVWaWV3IiwiaW5pdGlhbGl6ZU1vZGVsIiwiaW5pdGlhbGl6ZVZpZXciLCJjb250cm9sbGVyIiwicmVnaXN0ZXJQcm94eSIsInByb3h5IiwibW9kZWwiLCJyZXRyaWV2ZVByb3h5IiwicHJveHlOYW1lIiwicmVtb3ZlUHJveHkiLCJoYXNQcm94eSIsInJlZ2lzdGVyTWVkaWF0b3IiLCJtZWRpYXRvciIsInJldHJpZXZlTWVkaWF0b3IiLCJtZWRpYXRvck5hbWUiLCJyZW1vdmVNZWRpYXRvciIsInNsZWVwTWVkaWF0b3IiLCJhd2FrZU1lZGlhdG9yIiwiaGFzTWVkaWF0b3IiLCJzZW5kTm90aWZpY2F0aW9uIiwiX2EiLCJub3RpZnlPYnNlcnZlcnMiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIk5vdGlmaWVyXzEiLCJNZWRpYXRvciIsIl9zdXBlciIsInZpZXdDb21wb25lbnQiLCJfdGhpcyIsImNhbGwiLCJsb2dNZWRpYXRvciIsInNsZWVwaW5nIiwic3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ2V0TWVkaWF0b3JOYW1lIiwic2V0Vmlld0NvbXBvbmVudCIsImdldFZpZXdDb21wb25lbnQiLCJvblJlZ2lzdGVyIiwib25SZW1vdmUiLCJvblNsZWVwIiwib25Bd2FrZSIsInN1YnNjcmliZU5vdGlmaWNhdGlvbiIsImNoYW5nZVN1YnNjcmlwdGlvbiIsImFkZFN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlTm90aWZpY2F0aW9uIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiYWN0aW9uIiwib2xkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnMiLCJzbGljZSIsImNoYW5nZWQiLCJmb3JFYWNoIiwibm90aWZpY2F0aW9uIiwiaW5kZXhPZiIsInB1c2giLCJpbmRleCIsInNwbGljZSIsIk5vdGlmaWVyIiwicHJveHlNYXAiLCJnZXRQcm94eU5hbWUiLCJGYWNhZGVfMSIsImZhY2FkZSIsImdldEZhY2FkZSIsIlByb3h5IiwiZGF0YSIsImxvZ1Byb3h5Iiwic2V0RGF0YSIsImdldERhdGEiLCJjb25zb2xlQXJncyIsImNvbW1hbmROYW1lIiwiY29uc29sZSIsImxvZyIsIkV2ZW50RW1pdHRlciIsIm1lZGlhdG9yTWFwIiwiZXZlbnRFbWl0dGVyIiwib2JzZXJ2ZXJNZXRob2QiLCJjb250ZXh0IiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsImVtaXQiLCJyZWdpc3Rlck9ic2VydmVycyIsIm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJiaW5kIiwiaXNTbGVlcGluZyIsInJlbW92ZU9ic2VydmVycyIsImludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18xIiwiaW50ZXJlc3QiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMiIsIk1lZGlhdG9yXzEiLCJQcm94eV8xIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJmbiIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImkiLCJsIiwiZWUiLCJsaXN0ZW5lckNvdW50IiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImxlbiIsImoiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsIm1vZHVsZSIsIk5hdmlnYXRpb25Ob2RlIiwieCIsInkiLCJ6IiwiY29ubmVjdGVkTm9kZXMiLCJvY2N1cGllZCIsIm90aGVyTm9kZSIsInNvbWUiLCJub2RlIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0ZWROb2RlSW5kZXgiLCJmaW5kSW5kZXgiLCJlcXVhbHMiLCJwYXJzZUdhbWVNYXBDb21tYW5kIiwiYXBwIiwicGMiLCJBcHBsaWNhdGlvbiIsImdldEFwcGxpY2F0aW9uIiwiZmxvb3JHcmlkIiwibmF2aWdhdGlvbkZsb29ycyIsInJvb3QiLCJmaW5kQnlUYWciLCJjb21wbGV0ZWRHcmlkIiwibmF2aWdhdGlvbkNvbXBvbmVudHMiLCJmbG9vckVudGl0eSIsIm5hdkNvbXAiLCJzY3JpcHQiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZENvbXBFbnRpdHkiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiY29ubmVjdGVkTmF2Q29tcCIsImpvaW5Ub0FkamFjZW50R3JpZCIsImdldEdyaWQiLCJjcmVhdGVNYXBGbG9vciIsIndhbGxzIiwid2FsbHNCb3VuZGluZ0JveGVzIiwibWFwV2FsbEVudGl0aWVzIiwibWFwV2FsbEVudGl0eSIsImFhYmIiLCJjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkiLCJjcmVhdGVGbG9vclVuZGVyV2FsbHMiLCJkZXN0cm95IiwiY3JlYXRlTWFwV2FsbHMiLCJjb3ZlciIsImNvdmVyUG9pbnRzIiwiY292ZXJFbnRpdGllcyIsImNvdmVyRW50aXR5IiwiY3JlYXRlQ292ZXJQb2ludEZyb21Cb3giLCJjcmVhdGVNYXBDb3ZlciIsInBvcnRhbHMiLCJNYXAiLCJwb3J0YWxFbnRpdGllcyIsInBvcnRhbEVudGl0eSIsInBvcnRhbENvbXBvbmVudCIsInBvcnRhbElkIiwicG9ydGFsIiwiZGVzdGluYXRpb25TY2VuZSIsImRlc3RpbmF0aW9uUG9ydGFsIiwic3RhbmRpbmdQb2ludCIsImdldFBvc2l0aW9uIiwiaGl0Ym94UG9pbnQiLCJoaXRib3giLCJzZXQiLCJjcmVhdGVQb3J0YWxzIiwid2F5cG9pbnRzTWFwIiwid2F5cG9pbnRzIiwiZmxvb3JOb2RlIiwiaXNXYXlwb2ludCIsIndheXBvaW50Iiwib3RoZXJXYXlwb2ludCIsImxpbmUiLCJBc3RhciIsImFkZENvbm5lY3RlZE5vZGUiLCJjcmVhdGVXYXlwb2ludHNNYXAiLCJHYW1lTWFwUHJveHkiLCJHYW1lQ29tbWFuZHMiLCJib3hFbnRpdHkiLCJzY2FsZSIsImdldExvY2FsU2NhbGUiLCJoYWxmRXh0ZW50cyIsIlZlYzMiLCJCb3VuZGluZ0JveCIsIndhbGwiLCJ3YWxsUG9zIiwid2FsbFNjYWxlIiwiTWF0aCIsInJvdW5kIiwiY29ybmVyWCIsImNvcm5lcloiLCJtYXRjaGluZ05vZGVJbmRleCIsImVxdWFsc1BvaW50IiwiZGVsZXRlZE5vZGVzIiwiZGVsZXRlZE5vZGUiLCJkaXNjb25uZWN0ZWROb2RlIiwiZ3JpZCIsImZsb29yUG9zaXRpb24iLCJnZXRMb2NhbFBvc2l0aW9uIiwiZmxvb3JTaXplIiwic25hcHBlZFdpZHRoIiwic25hcHBlZEJyZWFkdGgiLCJzbmFwcGVkWCIsInNuYXBwZWRZIiwic25hcHBlZFoiLCJncmlkVG9Kb2luIiwiYm94IiwiYm94UG9zIiwiYm94U2NhbGUiLCJjb3ZlclBvaW50IiwiZmxvb3JNYXAiLCJub3J0aHdlc3QiLCJub3J0aCIsIm5vcnRoZWFzdCIsImVhc3QiLCJzb3V0aGVhc3QiLCJzb3V0aCIsInNvdXRod2VzdCIsIndlc3QiLCJuIiwiV2VhcG9uc1Byb3h5Iiwic3VwZXIiLCJOQU1FIiwid2VhcG9uTmFtZSIsImRhbWFnZVRpZXIiLCJjYXRlZ29yeUtleSIsInZvIiwiY2F0ZWdvcnkiLCJkYW1hZ2UiLCJtaW4iLCJTdG9yeVZPIiwiU3RvcnlQcm94eSIsInN0b3J5VHJlZXMiLCJhc3NldHMiLCJyZXNvdXJjZSIsInRyZWVzIiwic3RvcnlUcmVlTWFwIiwidHJlZUtleSIsInN0b3J5VHJlZUFzc2V0SWQiLCJzdG9yeVRyZWUiLCJjdXJyZW50VHJlZSIsImN1cnJlbnROb2RlIiwiY3VycmVudFN0ZXBJbmRleCIsImN1cnJlbnRDb25kaXRpb25zIiwidHJlZUlkIiwidHJlZSIsIm5vZGVJZCIsIm5vZGVzIiwic3RlcEluZGV4Iiwic3RlcHMiLCJnZXRUcmVlIiwiZ2V0Tm9kZSIsInZhbGlkU3RlcCIsImdldFZhbGlkU3RlcCIsIm9uY2VDb25kaXRpb24iLCJnZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiYWRkQ29uZGl0aW9uIiwibmV4dFZhbGlkU3RlcCIsImdldFN0ZXAiLCJ0ZXN0Q29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJnZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAiLCJjaG9pY2VJbmRleCIsImdldEN1cnJlbnROb2RlU3RlcCIsImNob2ljZXMiLCJjb25kaXRpb24iLCJzdWNjZXNzIiwib3JEZWxpbWl0ZXJlZCIsIm9yQ29uZGl0aW9ucyIsInNwbGl0Iiwib3JTdWNjZXNzIiwib3B0aW9uYWxDb25kaXRpb24iLCJjaGVja0NvbmRpdGlvbiIsInN0YXJ0c1dpdGgiLCJzdHJpcHBlZFN0cmluZyIsInJlbW92ZUNvbmRpdGlvbiIsIkludmVudG9yeVZPIiwiSW52ZW50b3J5UHJveHkiLCJpbnZlbnRvcnlJdGVtcyIsImVxdWlwbWVudFNsb3RzIiwib3JpZ2luYWxJbmRleCIsInNsb3RJbmRleCIsIm9yaWdpbmFsSXRlbSIsInJ1bm5pbmdJbmRleFRvdGFsIiwibmV3SW5kZXgiLCJpdGVtIiwic2l6ZSIsInRvU3RyaW5nIiwic2xvdEtleSIsIml0ZW1EYXRhIiwiZXhpc3RpbmdJdGVtIiwiaW52ZW50b3J5SW5kZXgiLCJzdGFydHVwQ29tbWFuZCIsIkdhbWVTdGF0ZVByb3h5Iiwid2VhcG9uc0RhdGEiLCJjaGFuZ2VTY2VuZUNvbW1hbmQiLCJzY2VuZU5hbWUiLCJvbGRIaWVyYXJjaHkiLCJmaW5kQnlOYW1lIiwic2NlbmUiLCJzY2VuZXMiLCJmaW5kIiwibG9hZFNjZW5lSGllcmFyY2h5IiwidXJsIiwiZXJyIiwicGFyZW50IiwiZXJyb3IiLCJzaHVmZmxlQXJyYXkiLCJhcnJheSIsImN1cnJlbnRJbmRleCIsInRlbXBvcmFyeVZhbHVlIiwicmFuZG9tSW5kZXgiLCJmbG9vciIsInJhbmRvbSIsIkNvbWJhdFZPIiwiQ29tYmF0UHJveHkiLCJwYXJ0aWNpcGFudHMiLCJ0ZWFtcyIsInBhcnRpY2lwYW50UHJveGllcyIsInBhcnRpY2lwYW50IiwicGFydGljaXBhbnRQcm94eSIsIkdhbWVDaGFyYWN0ZXJQcm94eSIsInJvdW5kSW5pdGlhdGl2ZSIsIm5leHRUdXJuSWQiLCJzaGlmdCIsImFjdGl2ZVBhcnRpY2lwYW50IiwicmVzZXRDb21iYXRUdXJuU3RhdGUiLCJpc05QQyIsInNldFRpbWVvdXQiLCJpbml0aWF0aXZlcyIsImNoYXJhY3RlcklkIiwiZW50cmllcyIsImluaXRpYXRpdmUiLCJzaHVmZmxlZEluaXRpYXRpdmUiLCJuZXh0VHVybkNoYXJhY3RlcklkIiwiZGVsZXRlIiwiZmlsdGVyIiwiZSIsInRlYW0iLCJjaGFyYWN0ZXJJbmRleCIsInN0YXJ0Q29tYmF0Q29tbWFuZCIsImluc3RpZ2F0aW5nQ2hhcmFjdGVySWQiLCJ1cGRhdGVHYW1lU3RhdGVUeXBlIiwiZ2FtZXBsYXlNb2RlVHlwZXMiLCJpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5IiwicGxheWVyVGVhbSIsIm9wcG9zaW5nVGVhbSIsImNvbWJhdEdyb3VwIiwicG9zIiwic2VsZiIsInBsYXllclByb3h5IiwiY29tYmF0UHJveHkiLCJuZXh0Q29tYmF0VHVybkNvbW1hbmQiLCJnYW1lU3RhdGUiLCJnYW1lcGxheU1vZGUiLCJuZXh0VHVybiIsIm5leHRDb21iYXRSb3VuZENvbW1hbmQiLCJuZXh0Um91bmQiLCJlbmRDb21iYXRUdXJuQ29tbWFuZCIsIkJlaGF2aW91clN0YXR1cyIsIkJhc2VOb2RlIiwiY2hpbGRyZW4iLCJpbml0aWFsaXplIiwiaWQiLCJzIiwiaGV4RGlnaXRzIiwic3Vic3RyIiwiam9pbiIsImNyZWF0ZVVVSUQiLCJ0aWNrIiwiX2VudGVyIiwiYmxhY2tib2FyZCIsIl9vcGVuIiwic3RhdHVzIiwiX3RpY2siLCJSVU5OSU5HIiwiX2Nsb3NlIiwiX2V4aXQiLCJlbnRlck5vZGUiLCJlbnRlciIsIm9wZW5Ob2RlIiwib3BlbiIsInRpY2tOb2RlIiwiY2xvc2VOb2RlIiwiY2xvc2UiLCJleGl0Tm9kZSIsImV4aXQiLCJFUlJPUiIsIk1hc3Rlck5vZGUiLCJjaGlsZE5vZGUiLCJleGVjdXRlIiwiU1VDQ0VTUyIsIkJsYWNrYm9hcmQiLCJpbml0aWFsaXNlIiwiYmFzZU1lbW9yeSIsInRyZWVNZW1vcnkiLCJ0cmVlU2NvcGUiLCJub2RlTWVtb3J5Iiwib3Blbk5vZGVzIiwibm9kZVNjb3BlIiwibWVtb3J5IiwiZ2V0VHJlZU1lbW9yeSIsImdldE5vZGVNZW1vcnkiLCJnZXRNZW1vcnkiLCJUaWNrIiwibm9kZUNvdW50IiwidGFyZ2V0IiwicG9wIiwiQmVoYXZpb3VyVHJlZSIsImxhc3RPcGVuTm9kZXMiLCJjdXJyT3Blbk5vZGVzIiwic3RhcnQiLCJDaGFyYWN0ZXJDb21tYW5kVHJlZSIsIlByaW9yaXR5IiwiY2hpbGQiLCJGQUlMVVJFIiwiU2V0UGxheWVyQXNUYXJnZXQiLCJNZWxlZUF0dGFja1RhcmdldCIsImF0dGFja2VySWQiLCJkZWZlbmRlcklkIiwiRW5kQ29tYmF0VHVybiIsIkhhc01vdmVtZW50UmVtYWluaW5nIiwiYXZhaWxhYmxlTW92ZW1lbnQiLCJJc05leHRUb1BsYXllciIsImNoYXJhY3RlckN1cnJlbnROb2RlIiwiTWVtU2VxdWVuY2UiLCJJbnZlcnRlciIsIklzVGFyZ2V0RGVhZCIsInRhcmdldElkIiwiaXNEZWFkIiwiTW92ZVRvd2FyZHNUYXJnZXQiLCJjaGFyYWN0ZXJQcm94eSIsInJlc3VsdCIsInJlZHVjZSIsImEiLCJkaXN0YW5jZVNxcnQiLCJwYXRoIiwicDEiLCJwMiIsInBvdyIsIklzRGVhZCIsIkhhc0FjdGlvbnNSZW1haW5pbmciLCJhdmFpbGFibGVBY3Rpb25zIiwiUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIiwiQmFzaWNNZWxlZVRyZWUiLCJlbmVteVR1cm5Db21tYW5kIiwiZW5lbXlJZCIsImVuZW15Q3VycmVudE5vZGUiLCJydW5Db21tYW5kcyIsInNlbGVjdGVkTm9kZUNvbW1hbmQiLCJnYW1lU3RhdGVQcm94eSIsImdhbWVNYXBQcm94eSIsImhhc1ZhbGlkTm9kZSIsImN1cnJlbnRNb2RlIiwiY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kIiwidGFyZ2V0Tm9kZSIsImdhbWVDaGFyYWN0ZXJQcm94eSIsIm1vdmVhYmxlTm9kZXMiLCJoYW5kbGVWYWxpZE1vdmUiLCJzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCIsIndhbGthYmxlTm9kZXMiLCJ3YWxrYWJsZVRpbGVBc3NldCIsImNvbnRhaW5lciIsInRpbGUiLCJpbnN0YW50aWF0ZSIsInNldExvY2FsUG9zaXRpb24iLCJhZGRDaGlsZCIsImhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVUaWxlRW50aXRpZXMiLCJ3YWxrYWJsZVRpbGVFbnRpdHkiLCJhd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZCIsImVuZE1vdmVtZW50Q29tbWFuZCIsImVuZE5vZGUiLCJjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IiwiaGVpZ2h0Iiwic2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCIsInRhcmdldENoYXJhY3RlclByb3h5IiwicGxheWVyQ2hhcmFjdGVyUHJveHkiLCJ3ZWFwb25DYXRlZ29yeSIsImdldFdlYXBvbkNhdGVnb3J5IiwiZXF1aXBwZWRXZWFwb24iLCJjdXJyZW50QWN0aW9uIiwiY2FuU2VlVGFyZ2V0IiwidGFyZ2V0Q3VycnJlbnROb2RlIiwiaXNUYXJnZXRBZGphY2VudCIsInBhdGhUb1RhcmdldCIsInVub2NjdXBpZWROb2RlcyIsInBsYXllck5vZGUiLCJzaG9ydGVzdFBhdGgiLCJvdGhlclBhdGgiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyIiwicGxheWVyUG9pbnQiLCJ0YXJnZXRQb2ludCIsInJheUludGVyc2VjdHNXYWxsIiwicmVzb2x2ZUF0dGFja0NvbW1hbmQiLCJhdHRhY2tlclByb3h5IiwiZGVmZW5kZXJQcm94eSIsIndlYXBvbnNQcm94eSIsImF0dGFja2VyV2VhcG9uU2tpbGwiLCJkZWZlbmRlcldlYXBvblNraWxsIiwiYXR0YWNrZXJTa2lsbFRvdGFsIiwiZ2V0U2tpbGxUb3RhbCIsImRlZmVuZGVyU2tpbGxUb3RhbCIsImF0dGFja2VyUm9sbCIsInJvbGxBdHRhY2tTa2lsbCIsImRlZmVuZGVyUm9sbCIsImRldGVybWluZURhbWFnZVRpZXIiLCJnZXREYW1hZ2UiLCJhcHBseURhbWFnZSIsImhhc01lbGVlV2VhcG9uIiwid2VhcG9uIiwiV2VhcG9uVHlwZXMiLCJoaWdoRGFtYWdlIiwibG93RGFtYWdlIiwic2tpbGwiLCJyb2xsRGljZSIsIm1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIiwidXNlTW92ZW1lbnQiLCJjaGFyYWN0ZXJNZWRpYXRvciIsIkdhbWVDaGFyYWN0ZXJNZWRpYXRvciIsImhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UiLCJ0aGVuIiwia2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwicmVtb3ZlQ2hhcmFjdGVyRnJvbUNvbWJhdCIsImVuZENvbWJhdENvbW1hbmQiLCJsb3NpbmdUZWFtIiwiUmFuZ2VBdHRhY2tUYXJnZXQiLCJNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJ0YXJnZXRDdXJyZW50Tm9kZSIsIm1pbkRpc3RhbmNlU3FydCIsIm1heERpc3RhbmNlU3FydCIsIm1vdmVQb2ludHNBdmFpbGFibGUiLCJkaXN0YW5jZVRvVGFyZ2V0IiwiUGlja05leHRBY3Rpb24iLCJDYW5TZWVUYXJnZXQiLCJ0YXJnZXRQcm94eSIsImZyb21Qb3MiLCJ0b1BvcyIsIk1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIiwiZGVsZXRlQ291bnQiLCJwYXRoTm9kZSIsIkJhc2ljUmFuZ2VkVHJlZSIsImRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCIsImJvdEJlaGF2aW91ciIsIkJvdEJlaGF2aW91clR5cGVzIiwicmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQiLCJhdHRhY2tlclNjb3JlIiwiZGVmZW5kZXJTY29yZSIsImF0dGFja2VyTm9kZSIsImRlZmVuZGVyTm9kZSIsImlzSW5Db3ZlciIsInByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIiwicHJvamVjdGlsZU9yaWdpbiIsInByb2plY3RpbGVUYXJnZXQiLCJjcmVhdGVQcm9qZWN0aWxlIiwibmVpZ2hib3VyaW5nTm9kZXMiLCJwb3NzaWJsZVRhcmdldHMiLCJlcXVpcFdlYXBvbkNvbW1hbmQiLCJuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kIiwic3RhbmRpbmdQb3NpdGlvbiIsInN0YW5kaW5nTm9kZSIsImZpbmROZWFyZXN0Tm9kZSIsIm1vdmVUb05vZGVXaXRoUHJvbWlzZSIsImFkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCIsInBsYXllckNoYXJhY3RlckFzc2V0IiwicGxheWVyRW50aXR5IiwicmV0cmlldmVQb3J0YWwiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQiLCJ0YXJnZXRDaGFyYWN0ZXJJZCIsInBsYXllckNoYXJhY3Rlck1lZGlhdG9yIiwic3RhcnREaWFsb2d1ZUNvbW1hbmQiLCJnYW1lc3RhdGVQcm94eSIsInN0b3J5UHJveHkiLCJkaWFsb2d1ZVRyZWUiLCJzdGFydERpYWxvZ3VlVHJlZSIsIm9wZW5pbmdTdGVwIiwic3RlcCIsImNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCIsIm5leHRTdGVwIiwiY29udGludWVDdXJyZW50Tm9kZVN0ZXAiLCJzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQiLCJzZWxlY3RlZENob2ljZSIsInNlbGVjdENob2ljZSIsInJlc3BvbnNlIiwidGl0bGUiLCJ0ZXh0IiwidGl0bGVDb2xvdXIiLCJ0ZXN0IiwiZ290byIsImdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kIiwibmV3Tm9kZSIsImdvVG9Ob2RlIiwiY3VycmVudFN0ZXAiLCJlbmREaWFsb2d1ZUNvbW1hbmQiLCJuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCIsImNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCIsIm5ld0FjdGlvbiIsInJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQiLCJwbGF5ZXJTa2lsbCIsImRpZTEiLCJkaWUyIiwiZmFpbHVyZSIsImNsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZCIsImludmVudG9yeVByb3h5IiwicmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kIiwicmVvcmRlckludmVudG9yeUl0ZW0iLCJlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kIiwiaXRlbUluZGV4IiwiZXF1aXBtZW50S2V5IiwiYXR0ZW1wdFRvRXF1aXBJdGVtVG9TbG90IiwidHlwZSIsIkdhbWVGYWNhZGUiLCJnYW1lIiwiU1RBUlRVUCIsImJvdEJlaGF2aW91ckVudW1zIiwiTk9ORSIsIkJBU0lDX01FTEVFIiwiQkFTSUNfUkFOR0VEIiwid2VhcG9uRW51bXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm1hcCIsIkdhbWVDaGFyYWN0ZXJWTyIsInBhcmFtcyIsIm1heE1vdmVtZW50IiwibWF4QWN0aW9uc1BlclR1cm4iLCJjb3N0IiwiZGFtYW5nZSIsImN1cnJlbnRTdGFtaW5hIiwibWF4IiwibWF4aW11bVN0YW1pbmEiLCJtYXhTdGFtaW5hIiwic2tpbGxLZXkiLCJhZHZhbmNlZFNraWxscyIsIm1heEx1Y2siLCJjdXJyZW50THVjayIsIkdhbWVNYXBWTyIsIm1hcEdyaWQiLCJ3YWxsQm91bmRpbmdCb3hlcyIsIm5hdkdyaWQiLCJuYXZpZ2F0aW9uR3JpZCIsIm5lYXJlc3ROb2RlIiwiZGlzdFNxcnRUb05lYXJlc3ROb2RlIiwiZGlzdFRvTm9kZSIsImZyb20iLCJ0byIsImRpc3RhbmNlIiwiZGlyZWN0aW9uIiwiY2xvbmUiLCJzdWIiLCJub3JtYWxpemUiLCJyYXkiLCJSYXkiLCJtYXBXYWxscyIsImhpdFBvc2l0aW9uIiwiaW50ZXJzZWN0c1JheSIsImF0dGFja2luZ0Zyb20iLCJhZGphY2VudENvdmVyUG9pbnRzIiwiYWRqYWNlbnRQb2ludHMiLCJwb2ludCIsInBvaW50cyIsImdldEFkamFjZW50UG9pbnRzIiwiYWRqYWNlbnRQb2ludCIsImFkamFjZW50Q292ZXJQb2ludCIsIm5vZGVBIiwibm9kZUIiLCJQcmlvcml0eVF1ZXVlIiwicHJpb3JpdHkiLCJJbmZpbml0eSIsInJhbmdlTGltaXQiLCJmcm9udGllciIsInNlYXJjaGVkQXJlYSIsImNhbWVGcm9tIiwicmFuZ2UiLCJuZXdGcm9udGllciIsImN1cnJlbnQiLCJuZXh0IiwiZ29hbCIsImNvc3RTb0ZhciIsImVtcHR5IiwibmV3Q29zdCIsImhldXJpc3RpYyIsInBhdGhJc0Jyb2tlbiIsImRpc3RWYWx1ZSIsImdldERpc3RTcXVhcmVkIiwicHQxIiwicHQyIiwiYWJzIiwieDAiLCJ6MCIsIngxIiwiejEiLCJkeCIsImR5IiwibngiLCJueSIsInNpZ25feCIsInNpZ25feSIsIml4IiwiaXkiLCJpc1ZhbGlkTGluZSIsIkdhbWVTdGF0ZVZPIiwibmV3U3RhdGVUeXBlIiwic2VsZWN0ZWRBY3Rpb24iLCJFWFBMT1JBVElPTiIsIkNPTUJBVCIsIkRJQUxPR1VFIiwiR0FNRV9PVkVSIiwiSW52ZW50b3J5SXRlbSIsImVxdWlwcGFibGUiLCJzd29yZFdlYXBvbiIsImJvd1dlYXBvbiIsImFkZEl0ZW0iLCJwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyIsInVwZGF0ZUN1cnJlbnROb2RlIiwiaGFuZGxlRmluaXNoZWRNb2RlIiwiZmlyZSIsInNjcmlwdEtleSIsInNjcmlwdENvbXBvbmVudCIsImhhbmRsZVN0YXJ0Q29tYmF0IiwiaGFuZGxlTmF2aWdhdGVUb05vZGUiLCJoYW5kbGVOYXZpZ2F0ZVRvV2F5cG9pbnQiLCJoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aCIsImhhbmRsZVNldENoYXJhY3RlclRvTm9kZSIsImxvb2tQb2ludCIsImxvb2tBdFBvaW50IiwiYW5pbWF0ZURlYXRoIiwiYW5pbWF0ZUF0dGFjayIsImFuaW1hdGVIaXQiLCJzZXRQYXRoIiwibmVhcmVzdFdheXBvaW50IiwiZmluZE5lYXJlc3RXYXlwb2ludCIsIm5lYXJlc3RUYXJnZXRXYXlwb2ludCIsImhhc1ZhbGlkTGluZSIsImhhc0xpbmVUb1BvaW50IiwidW5zaGlmdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2VhcmNoTm9kZSIsInNlYXJjaEFyZWEiLCJzdG9wTW92ZW1lbnQiLCJvcmlnaW5Qb2ludCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwibyIsIm9iaiIsInByb3AiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJDYWNvZ2VuR2FtZSIsImNyZWF0ZVNjcmlwdCIsIktFWSIsInVwZGF0ZSIsImR0IiwiTmF2aWdhdGlvbkNvbXBvbmVudCIsImF0dHJpYnV0ZXMiLCJhZGQiLCJlbnRpdHkiLCJoYW5kbGVSYXlDYXN0IiwiZW5hYmxlZCIsInNjcmVlblBvcyIsIm5vZGVHcmlkIiwiZ2V0TmVhcmVzdE5vZGUiLCJHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IiwiYWR2YW5jZWRTa2lsbHNTY2hlbWFUb01hcCIsImFkdmFuY2VkU2tpbGxzU2NoZW1hIiwic2tpbGxPYmplY3QiLCJza2lsbE5hbWUiLCJza2lsbFZhbHVlIiwiZGVmYXVsdCIsInNjaGVtYSIsImVudW0iLCJwcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiIsInBvc3RJbml0aWFsaXplIiwibW92ZW1lbnRQYXRoIiwic3RhdHNPdmVycmlkZXMiLCJwcm94eVBhcmFtcyIsImNoYXJhY3RlckhlaWdodCIsImRpYWxvZ3VlVHJlZU5hbWUiLCJjb21iYXRHcm91cE5hbWUiLCJjb21yYWRlRW50aXRpZXMiLCJjb21yYWRlRW50aXR5IiwiY29tcmFkZUlkIiwidmVoaWNsZSIsImFuaW1hdGlvbiIsInBsYXkiLCJsb29wIiwibW92ZUFsb25nUGF0aCIsIm5leHRQYXRoUG9pbnQiLCJsb2NhbFBvcyIsIm5vZGVQb2ludCIsImNoYXJhY3RlclNwZWVkIiwic2VlayIsImFycml2ZSIsInByb2Nlc3NWZWxvY2l0eSIsImR6IiwiYW5nbGVUb0Rlc3QiLCJhdGFuMiIsIlBJIiwic2V0RXVsZXJBbmdsZXMiLCJBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCIsImhhbmRsZU1hcEdyaWRDcmVhdGVkIiwiaGFuZGxlTW92ZWRUb05vZGUiLCJjaGFyYWN0ZXJQb2ludCIsInNpZ2h0UmFuZ2UiLCJUb2FzdE1lc3NhZ2VNZWRpYXRvciIsImFkZE1lc3NhZ2UiLCJUb2FzdE1lc3NhZ2VDb21wb25lbnQiLCJtZXNzYWdlUXVldWUiLCJjdXJyZW50VGltZW91dCIsIm1lc3NhZ2UiLCJzaG93TmV4dE1lc3NhZ2UiLCJuZXh0TWVzc2FnZSIsImxhYmVsRW50aXR5IiwiZWxlbWVudCIsIm1lc3NhZ2VUaW1lIiwiSW5wdXRMYXllck1lZGlhdG9yIiwiaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlciIsImhhbmRsZVBpY2tlck5hdmlnYXRpb24iLCJoYW5kbGVTY3JvbGxpbmciLCJjaGFyYWN0ZXJFbnRpdHkiLCJHYW1lQ2FtZXJhIiwiR2FtZUNhbWVyYU1lZGlhdG9yIiwic2V0Q2FtZXJhVGFyZ2V0IiwiY2FtZXJhVGFyZ2V0Iiwicm90YXRpb24iLCJnZXRFdWxlckFuZ2xlcyIsImNhbWVyYUhlaWdodCIsImhhbmRsZURyYWciLCJkcmFnTXVsdGlwbGllclgiLCJ2ZXJ0aWNhbFNjcm9sbCIsIm5ld0NhbWVyYUhlaWdodCIsImRyYWdNdWx0aXBsaWVyWSIsIm1hdGgiLCJjbGFtcCIsIm1pbkNhbWVyYUhlaWdodCIsIm1heENhbWVyYUhlaWdodCIsImdldFRhcmdldENhbWVyYVBvc2l0aW9uIiwiZm9jdXNQb2ludCIsImNhbWVyYVBvc2l0aW9uIiwidGFyZ2V0WCIsInNpbiIsInRhcmdldFoiLCJjb3MiLCJjYW1lcmFUYXJnZXRQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwiY3VycmVudFBvcyIsInR3ZWVuWCIsInR3ZWVuWSIsInR3ZWVuWiIsImxvb2tBdCIsIklucHV0TGF5ZXJDb21wb25lbnQiLCJpbnB1dFF1ZXVlIiwibW91c2UiLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJjbGlja0Rvd25TdGFydCIsImlzRHJhZ2dpbmciLCJoYW5kbGVQaWNrZXJSZXN1bHQiLCJFVkVOVF9NT1VTRU1PVkUiLCJvbk1vdXNlTW92ZSIsIkVWRU5UX01PVVNFRE9XTiIsIm9uTW91c2VEb3duIiwiRVZFTlRfTU9VU0VVUCIsIm9uTW91c2VVcCIsInRvdWNoIiwiRVZFTlRfVE9VQ0hNT1ZFIiwidG91Y2hFdnQiLCJ0b3VjaGVzIiwiRVZFTlRfVE9VQ0hTVEFSVCIsIkVWRU5UX1RPVUNIRU5EIiwiRGF0ZSIsIm5vdyIsImNsaWNrU3RhcnRQb2ludCIsIlZlYzIiLCJkcmFnVGltZSIsImhhbmRsZVJheWNhc3RDb2xsaXNpb25zIiwiY2FtZXJhRW50aXR5IiwiY2FtZXJhQ29tcG9uZW50IiwiY2FtZXJhIiwic2NyZWVuVG9Xb3JsZCIsImZhckNsaXAiLCJvcmlnaW4iLCJjb3B5IiwicGlja2VkRW50aXR5Iiwic2NyZWVuUG9zaXRpb24iLCJwcm9jZXNzSW5wdXRRdWV1ZSIsImhpZ2hlc3RQcmlvcml0eVBpY2siLCJoaWdoZXN0UHJpb3JpdHkiLCJwaWNrIiwicGlja1ByaW9yaXR5IiwidGFncyIsInBpY2tlZEdhbWVDaGFyYWN0ZXIiLCJwaWNrZWROYXZpZ2F0aW9uIiwicGlja2VkUG9ydGFsIiwiUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciIsImhhbmRsZUVuZFR1cm4iLCJQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCIsImVuZFR1cm5CdXR0b24iLCJjbGlja0VuZFR1cm4iLCJIaXRib3hDb21wb25lbnQiLCJjZW50ZXIiLCJBY3Rpb25QYW5lbE1lZGlhdG9yIiwiaGFuZGxlRmlyZUNvbW1hbmQiLCJhY3Rpb25OYW1lIiwic2VsZWN0QWN0aW9uIiwiQWN0aW9uQnV0dG9uQ29tcG9uZW50IiwiaGlnaGxpZ2h0RW50aXR5IiwiaGFuZGxlQ2hhbmdlQWN0aW9uIiwiaGFuZGxlQ2xpY2siLCJjb21tYW5kcyIsImNvbW1hbmRBcmdzIiwiQWN0aW9uUGFuZWxDb21wb25lbnQiLCJidXR0b24iLCJhY3Rpb25CdXR0b25zIiwic3RvcFByb3BhZ2F0aW9uIiwiUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQiLCJwcm9qZWN0aWxlTmFtZSIsInByb2plY3RpbGVTY2hlbWUiLCJwcm9qZWN0aWxlVHlwZXMiLCJzY2hlbWUiLCJuZXdQcm9qZWN0aWxlIiwicHJvamVjdGlsZVRlbXBsYXRlIiwic2V0VGFyZ2V0IiwiUHJvamVjdGlsZUNvbXBvbmVudCIsIm5ld1Bvc2l0aW9uIiwic3BlZWQiLCJwcm9qZWN0aWxlU3BlZWQiLCJzdWIyIiwibXVsIiwiU3RhbWluYUJhck1lZGlhdG9yIiwibmV3U3RhbWluYSIsInVwZGF0ZVN0YW1pbmEiLCJTdGFtaW5hQmFyQ29tcG9uZW50IiwiYmFyRW50aXR5TWF4V2lkdGgiLCJiYXJFbnRpdHkiLCJ3aWR0aCIsImxlcnAiLCJyZWN0Iiwic3RhbWluYUxhYmVsIiwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IiLCJtYXhBY3Rpb25zIiwic2hvd0F2YWlsYWJsZUFjdGlvbiIsIkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCIsInBpcHMiLCJjcmVhdGVQaXAiLCJuZXdQaXAiLCJwaXBUZW1wbGF0ZSIsIkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQiLCJzaG93IiwicGlwRnJvbnQiLCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciIsInNjcmlwdENvbXAiLCJmbG9hdGVyTmFtZSIsImRpc3BsYXlTdGF0dXMiLCJUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCIsInNldFdvcmxkUG9zaXRpb24iLCJ3b3JsZFBvc2l0aW9uIiwic2NyZWVuIiwiZGV2aWNlIiwiZ3JhcGhpY3NEZXZpY2UiLCJzY3JlZW5FbnRpdHkiLCJwb3N0VXBkYXRlIiwicG9zaXRpb24iLCJ3b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSIsIndvcmxkUG9zIiwid29ybGRUb1NjcmVlbiIsInBpeGVsUmF0aW8iLCJtYXhQaXhlbFJhdGlvIiwicmF0aW9TY2FsZSIsIkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCIsImZsb2F0aW5nU3RhdHVzZXMiLCJvdGhlclNjaGVtZSIsInRhcmdldFBvcyIsIm5ld1N0YXR1cyIsInRlbXBsYXRlIiwiUG9ydGFsTWVkaWF0b3IiLCJzZWxlY3RlZFBvcnRhbCIsIlBvcnRhbENvbXBvbmVudCIsIkRpYWxvZ3VlUGFuZWxNZWRpYXRvciIsImhhbmRsZUNsaWNrQ29udGludWUiLCJoYW5kbGVDbGlja0Nob2ljZSIsImNsZWFyUGFuZWwiLCJjcmVhdGVTdGVwIiwiY3JlYXRlU2tpbGxUZXN0IiwiY2xlYXJEaWFsb2d1ZUNob2ljZXMiLCJzZXRDb250aW51ZUJ1dHRvbiIsIkRpYWxvZ3VlUGFuZWxDb21wb25lbnQiLCJjb250aW51ZUJ1dHRvbkVudGl0eSIsInN0ZXBEYXRhIiwiY3JlYXRlVGV4dCIsImNob2ljZSIsImNyZWF0ZUNob2ljZSIsIm5ld1RleHQiLCJ0ZXh0RW50cnlUZW1wbGF0ZSIsInNldHVwIiwiZmVlZEVudGl0eSIsInJlc2l6ZVRvQ29udGVudHMiLCJzY3JvbGxiYXJWaWV3RW50aXR5Iiwic2Nyb2xsYmFyIiwibmV3Q2hvaWNlIiwiY2hvaWNlRW50cnlUZW1wbGF0ZSIsImhhbmRsZVNlbGVjdENob2ljZSIsIndhc1N1Y2Nlc3MiLCJuZXdTa2lsbFRlc3QiLCJza2lsbFRlc3RFbnRyeVRlbXBsYXRlIiwic3BhY2luZ1ZlcnRpY2FsIiwibGF5b3V0Z3JvdXAiLCJzcGFjaW5nIiwiZmVlZENoaWxkIiwiY29udGVudEVudGl0eSIsImNvbnRlbnRIZWlnaHQiLCJEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCIsImxhYmVsIiwiaW5kZXhFbnRpdHkiLCJEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50IiwiYW5pbWF0aW9uTmFtZSIsIkRpYWxvZ3VlVGV4dENvbXBvbmVudCIsInRpdGxlRW50aXR5IiwiY29sb3IiLCJmcm9tU3RyaW5nIiwidGh1bWJuYWlsIiwidGV4dENvbnRhaW5lciIsIndpdGhJbWFnZVdpZHRoIiwid2l0aG91dEltYWdlV2lkdGgiLCJ0aHVtYm5haWxDb250YWluZXIiLCJlbmFibGUiLCJib2R5RW50aXR5Iiwic2V0SGVpZ2h0IiwibWluSGVpZ2h0IiwidGV4dENoaWxkIiwiQXR0YWNrQnV0dG9uTWVkaWF0b3IiLCJoYW5kbGVUb2dnbGVBdHRhY2siLCJ0b2dnbGVIaWdobGlnaHQiLCJhdHRhY2tFbmFibGVkIiwiQXR0YWNrQnV0dG9uQ29tcG9uZW50IiwiaXNFbmFibGVkIiwiVmVoaWNsZUNvbXBvbmVudCIsImNsYW1wVmVjMyIsInZlYzMiLCJtYXhWYWx1ZSIsInZlbG9jaXR5Iiwic3RlZXJpbmdGb3JjZSIsIm1heFNwZWVkIiwieVJvdGF0aW9uIiwiZGVzaXJlZFZlbG9jaXR5IiwiZm9yY2UiLCJhcnJpdmFsVGhyZXNob2xkIiwiYXJyaXZlVGhyZXNob2xkIiwiU2NyZWVuUmVzaXplQ29tcG9uZW50Iiwid2luZG93Iiwib25SZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwic2NhbGVCbGVuZCIsInJlZmVyZW5jZVJlc29sdXRpb24iLCJEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCIsInNraWxsTmFtZUxhYmVsIiwic2tpbGxWYWx1ZUxhYmVsIiwiZGllMUxhYmVsIiwiZGllMkxhYmVsIiwic3VjY2Vzc0xhYmVsIiwiZmFpbHVyZUxhYmVsIiwiSW52ZW50b3J5SXRlbUNvbXBvbmVudCIsImRlc2NyaXB0aW9uIiwib3JkZXJJbmRleCIsInNsb3RIZWlnaHQiLCJleHBhbmRlZEVudGl0eSIsImNvbGxhcHNlIiwiZXhwYW5kIiwiRWxlbWVudERyYWdIZWxwZXIiLCJvbkRyYWdTdGFydCIsIkludmVudG9yeVBhbmVsTWVkaWF0b3IiLCJoYW5kZVJlb3JkZXJJdGVtIiwiaGFuZGxlRXF1aXBJdGVtIiwiaXRlbXMiLCJlcXVpcHBlZE1hcCIsImRpc3BsYXlJdGVtcyIsIkludmVudG9yeVBhbmVsQ29tcG9uZW50IiwiaXNJbkJvdW5kcyIsImJvdW5kcyIsIngyIiwieTEiLCJ5MiIsImhhbmRsZURyYWdTdGFydCIsImNsb3NlQnV0dG9uIiwiaGFuZGxlQ2xvc2UiLCJzZXBhcmF0b3JIaWdobGlnaHQiLCJpbnZlbnRvcnlJdGVtRW50aXRpZXMiLCJkcmFnRW50aXR5IiwicmVwYXJlbnQiLCJkcmFnSWNvbiIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZU1vdXNlVXAiLCJsb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQiLCJzY3JlZW5Db21wIiwiZGlzcGxheVBvdGVudGlhbExpc3QiLCJkcmFnUG9zIiwidG9wU2xvdFBvc2l0aW9uIiwibWF4U2xvdHMiLCJzbG90V2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJjb3JuZXJTY3JlZW5Qb3MiLCJzY3JlZW5Db3JuZXJzIiwiY29ybmVyUG9zIiwiY2hlY2tEcm9wT25FcXVpcG1lbnRTbG90IiwiZHJhZ2dpbmdFbnRpdHkiLCJtb3VzZUV2ZW50IiwiZXF1aXBTbG90IiwiZXF1aXBTbG90S2V5IiwiY29ybmVycyIsImhhbmRsZUl0ZW1Nb3ZlIiwic2V0SGlnaGxpZ2h0UG9zaXRpb24iLCJydW5uaW5nSW5kZXgiLCJuZXdJdGVtQ29tcG9uZW50IiwiaXRlbUFzc2V0IiwiZXF1aXBTbG90RW50aXR5IiwicmVvcmRlckxpc3RXaXRoR2FwIiwiZ2FwSW5kZXgiLCJpbnZlbnRvcnlJdGVtRW50aXR5IiwiSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQiLCJJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQiLCJpY29uRW50aXR5Iiwic3RhcnR1cCJdLCJtYXBwaW5ncyI6IndDQUNBQSxPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxFQUFZLEVBQVEsS0FDcEJDLEVBQVMsRUFBUSxLQUVqQkMsRUFBNEIsV0FDNUIsU0FBU0EsRUFBV0MsR0FFaEIsR0FEQUMsS0FBS0MsV0FBYSxHQUNkSCxFQUFXSSxZQUFZSCxHQUN2QixNQUFNLElBQUlJLE1BTEgsNERBT1hILEtBQUtJLFlBQWNMLEVBQ25CQyxLQUFLSyxPQUFTVCxFQUFVVSxRQUFRQyxNQUFRWCxFQUFVVSxRQUFRRSxXQUFhWixFQUFVVSxRQUFRRyxRQUN6RlQsS0FBS1UsdUJBcURULE9BbkRBWixFQUFXYSxpQkFBbUIsU0FBVVosVUFDN0JDLEtBQUtFLFlBQVlILElBRTVCRCxFQUFXYyxZQUFjLFNBQVViLEdBQy9CLE9BQUtBLEdBR0FDLEtBQUtFLFlBQVlILEtBQ2xCQyxLQUFLRSxZQUFZSCxHQUFPLElBQUlELEVBQVdDLElBRXBDQyxLQUFLRSxZQUFZSCxJQUxiLE1BT2ZELEVBQVdlLFVBQVVDLGdCQUFrQixTQUFVQyxFQUFrQkMsR0FDMURoQixLQUFLQyxXQUFXYyxJQUNqQmYsS0FBS2lCLEtBQUtDLGlCQUFpQkgsRUFBa0JmLEtBQUttQixlQUFnQm5CLE1BRXRFQSxLQUFLQyxXQUFXYyxHQUFvQkMsR0FFeENsQixFQUFXZSxVQUFVTyxXQUFhLFNBQVVMLEdBQ3hDLFlBQTZDTSxJQUF0Q3JCLEtBQUtDLFdBQVdjLElBRTNCakIsRUFBV2UsVUFBVVMsY0FBZ0IsU0FBVVAsR0FDdkNmLEtBQUtvQixXQUFXTCxLQUNoQmYsS0FBS2lCLEtBQUtNLGVBQWVSLEVBQWtCZixLQUFLbUIsZUFBZ0JuQixhQUN6REEsS0FBS0MsV0FBV2MsS0FHL0JqQixFQUFXZSxVQUFVSCxxQkFBdUIsV0FDeENWLEtBQUtpQixL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QUFnQk0sRUFBb0J2K0IsT0FBK0IsdUJBQUVnSyxLQUVyRXUwQixFQUFvQnBwQixpQkFBaUIrbkIsRUFBZ0IzK0IsRUFBRzIrQixFQUFnQjErQixFQUFLeS9CLEVBQWVyckMsS0FBS3NvQyxXQUFhLE1BTTFIWSxHQUF3QnJvQyxVQUFVc2lDLFdBQWEsV0FDM0MsS0FBT25qQyxLQUFLNHBDLHNCQUFzQmhvQyxPQUFTLEdBQ3hCNUIsS0FBSzRwQyxzQkFBc0IvcUIsTUFDbkN4USxXQzVPUixNQUFNdTlCLEdBQTZCbi9CLEdBQUdtb0IsYUFBYSw4QkFNMURnWCxHQUEyQi9xQyxVQUFVbWIsV0FBYSxhQUlsRDR2QixHQUEyQi9xQyxVQUFVbWpDLE1BQVEsU0FBVWppQyxFQUFNcVYsS0NWdEQsTUFBTXkwQixHQUFpQ3AvQixHQUFHbW9CLGFBQWEsa0NBSzlEaVgsR0FBK0I1VyxXQUFXQyxJQUFJLGFBQWMsQ0FBRXZKLEtBQU0sU0FBVTFCLE1BQU8sZ0JBRXJGNGhCLEdBQStCaHJDLFVBQVVtYixXQUFhLFdBQ2xEaGMsS0FBSzhyQyxXQUFXelcsU0FBVSxHQUc5QndXLEdBQStCaHJDLFVBQVVtakMsTUFBUSxTQUFVcmtDLEdBQ3ZESyxLQUFLOHJDLFdBQVd6VyxRQUFVMTFCLEdDWjlCLE1BQVF5QyxPQUFNLElBQUssRUFBUSxNQUNyQixRQUFFOUIsSUFBWSxFQUFRLEtBNENmLElBWGIsTUFDSSxjQUNJQSxHQUFRQyxPQUFRLEVBQ2hCLEdBQU9LLFlBQWNnckIsRUFBVyxXQUFYLFlBQ3JCN2pCLFFBQVFDLElBQUksSUFFWmhJLEtBQUtzSCxPQUFTLEdBQU8xRyxZQUFZZ3JCLEVBQVcsV0FBWCxLQUNqQzVyQixLQUFLc0gsT0FBT3lrQyxRQUFRL3JDLFMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcImNvbnRyb2xsZXIga2V5IGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkXCI7XG52YXIgQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKGtleSkge1xuICAgICAgICB0aGlzLmNvbW1hbmRNYXAgPSB7fTtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ0NvbW1hbmQgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIENvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IENvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdID0gY29tbWFuZENsYXNzUmVmO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5leGVjdXRlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlcihDb250cm9sbGVyLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZC5uYW1lKTtcbiAgICAgICAgY29tbWFuZC5hcHBseSh2b2lkIDAsIFt0aGlzLm11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Q0QkZFMFwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjODcyNEJEXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCJcbiAgICBdO1xuICAgIENvbnRyb2xsZXIuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbGxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vQ29udHJvbGxlclwiKTtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vTW9kZWxcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiRmFjYWRlIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIEZhY2FkZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNhZGUoa2V5KSB7XG4gICAgICAgIGlmIChGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU5vdGlmaWVyKGtleSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZhY2FkZSgpO1xuICAgIH1cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUuaGFzQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgRmFjYWRlLnJlbW92ZUNvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTW9kZWxfMS5Nb2RlbC5yZW1vdmVNb2RlbChrZXkpO1xuICAgICAgICBWaWV3XzEuVmlldy5yZW1vdmVWaWV3KGtleSk7XG4gICAgICAgIENvbnRyb2xsZXJfMS5Db250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlZ2lzdGVyQ29tbWFuZChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlbW92ZUNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yZWdpc3RlclByb3h5KHByb3h5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmV0cmlldmVQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJlbW92ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5oYXNQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck1lZGlhdG9yKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZXRyaWV2ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJlbW92ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc2xlZXBNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmF3YWtlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGFzTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5sb2dnZXIuYXBwbHkodGhpcywgW0ZhY2FkZS5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIChfYSA9IHRoaXMudmlldykubm90aWZ5T2JzZXJ2ZXJzLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbCA9IE1vZGVsXzEuTW9kZWwuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMyRjJFMTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiI0ZGRjMyNVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiXG4gICAgXTtcbiAgICBGYWNhZGUuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gRmFjYWRlO1xufSgpKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjYWRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiTWVkaWF0b3JcIjtcbnZhciBNZWRpYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVkaWF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVkaWF0b3IobWVkaWF0b3JOYW1lLCB2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTWVkaWF0b3IgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBfdGhpcy5tZWRpYXRvck5hbWUgPSBtZWRpYXRvck5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIF90aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcIm5vdGlmaWNhdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0TWVkaWF0b3JOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck5hbWU7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICh2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uU2xlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJzbGVlcFwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vbkF3YWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcImF3YWtlXCIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJpc1NsZWVwaW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbGVlcGluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuYWRkU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS51bnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5jaGFuZ2VTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvbGROb3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25zLnNsaWNlKCk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25OYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk5hbWUuZm9yRWFjaChmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKF90aGlzLCBub3RpZmljYXRpb24pIHx8IGNoYW5nZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbCh0aGlzLCBub3RpZmljYXRpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZCAmJiB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UodGhpcywgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5hZGRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNGNEY2RkVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NTZDMVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiXG4gICAgXTtcbiAgICByZXR1cm4gTWVkaWF0b3I7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lZGlhdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiTW9kZWwgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kZWwoa2V5KSB7XG4gICAgICAgIHRoaXMucHJveHlNYXAgPSB7fTtcbiAgICAgICAgaWYgKE1vZGVsLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgfVxuICAgIE1vZGVsLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBNb2RlbChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5yZW1vdmVNb2RlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHByb3h5LmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgdGhpcy5wcm94eU1hcFtwcm94eS5nZXRQcm94eU5hbWUoKV0gPSBwcm94eTtcbiAgICAgICAgcHJveHkub25SZWdpc3RlcigpO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSkge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcHJveHkub25SZW1vdmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE1vZGVsLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIE1vZGVsO1xufSgpKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL0ZhY2FkZVwiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIm11bHRpdG9uS2V5IGZvciB0aGlzIE5vdGlmaWVyIG5vdCB5ZXQgaW5pdGlhbGl6ZWQhXCI7XG52YXIgTm90aWZpZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpZXIoKSB7XG4gICAgfVxuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZmFjYWRlID0gdGhpcy5nZXRGYWNhZGUoKTtcbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5mYWNhZGUpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuZmFjYWRlKS5zZW5kTm90aWZpY2F0aW9uLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmdldEZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubXVsdGl0b25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGVfMS5GYWNhZGUuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm90aWZpZXI7XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiUHJveHlcIjtcbnZhciBQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJveHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJveHkocHJveHlOYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb3h5TmFtZSA9IHByb3h5TmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ1Byb3h5IDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnNldERhdGEoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0UHJveHlOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU5hbWU7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgUHJveHkuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMxMDI0MTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzI3RDA0Q1wiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiXG4gICAgXTtcbiAgICByZXR1cm4gUHJveHk7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3h5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVyZU1WQygpIHtcbiAgICB9XG4gICAgUHVyZU1WQy5sb2dDb21tYW5kID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kTmFtZSkge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCIgPT4gIFwiICsgY29tbWFuZE5hbWUgKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiOiBhcmdzIFsgXCIgKyBhcmdzICsgXCIgXSAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dNZWRpYXRvciA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dQcm94eSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb25lID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICByZXR1cm4gUHVyZU1WQztcbn0oKSk7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHVyZU1WQy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIlZpZXcgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3KGtleSkge1xuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoVmlldy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfVxuICAgIFZpZXcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IFZpZXcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5yZW1vdmVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuZXZlbnRFbWl0dGVyKS5lbWl0LmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWF0b3IuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbWVkaWF0b3IgZm9yIHJldHJpZXZhbCBieSBuYW1lXG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldID0gbWVkaWF0b3I7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICBtZWRpYXRvci5vblJlZ2lzdGVyKHRoaXMub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gYXdha2VuXG4gICAgICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBtZWRpYXRvciBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBtZWRpYXRvci5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAobWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHNsZXB0XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGZvciBldmVyeSBub3RpZmljYXRpb24gdGhlIG1lZGlhdG9yIGlzIGludGVyZXN0ZWQgaW4uLi5cbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzFbX2ldO1xuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZ2V0IG5vdGlmaWNhdGlvbiBpbnRlcmVzdHMgaWYgYW55XG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgLy8gcmVnaXN0ZXIgbWVkaWF0b3IgYXMgYW4gb2JzZXJ2ZXIgZm9yIGVhY2ggbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMiA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMltfaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIChtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgIH07XG4gICAgVmlldy5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBWaWV3O1xufSgpKTtcbmV4cG9ydHMuVmlldyA9IFZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Db250cm9sbGVyXCIpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXI7XG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlXCIpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGVfMS5GYWNhZGU7XG52YXIgTWVkaWF0b3JfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvclwiKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcl8xLk1lZGlhdG9yO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWxcIik7XG5leHBvcnRzLk1vZGVsID0gTW9kZWxfMS5Nb2RlbDtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyXCIpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyXzEuTm90aWZpZXI7XG52YXIgUHJveHlfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eVwiKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eV8xLlByb3h5O1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9QdXJlTVZDXCIpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQ18xLlB1cmVNVkM7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1ZpZXdcIik7XG5leHBvcnRzLlZpZXcgPSBWaWV3XzEuVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsImV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uTm9kZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0Nvbm5lY3RlZChvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkTm9kZXMuc29tZShub2RlID0+IG5vZGUueCA9PT0gb3RoZXJOb2RlLnhcbiAgICAgICAgICAgICYmIG5vZGUueSA9PT0gb3RoZXJOb2RlLnkgJiYgbm9kZS56ID09PSBvdGhlck5vZGUueik7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlck5vZGUueCAmJiB0aGlzLnkgPT09IG90aGVyTm9kZS55ICYmIHRoaXMueiA9PT0gb3RoZXJOb2RlLno7XG4gICAgfVxuXG4gICAgZXF1YWxzUG9pbnQoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSB4ICYmIHRoaXMueSA9PT0geSAmJiB0aGlzLnogPT09IHo7XG4gICAgfVxuXG4gICAgYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKG90aGVyTm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMucHVzaChvdGhlck5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZUluZGV4ID0gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kSW5kZXgobm9kZSA9PiBub2RlLmVxdWFscyhvdGhlck5vZGUpKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5zcGxpY2UoY29ubmVjdGVkTm9kZUluZGV4LCAxKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGUnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlR2FtZU1hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIC8vIE9uY2UgYSBnYW1lTWFwIHNjZW5lIGlzIGxvYWRlZCwgcGFyc2UgZ2FtZU1hcCBWTywgZ2VuZXJhdGUgbmF2IG1lc2gsIGV0Y1xuICAgIC8vIEdldCBuYXZpZ2F0aW9uIGZsb29yc1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JHcmlkID0gY3JlYXRlTWFwRmxvb3IoYXBwKTtcbiAgICBjb25zdCB3YWxscyA9IGNyZWF0ZU1hcFdhbGxzKGFwcCwgZmxvb3JHcmlkKTtcbiAgICBjb25zdCBjb3ZlciA9IGNyZWF0ZU1hcENvdmVyKGFwcCwgZmxvb3JHcmlkKTtcbiAgICBjb25zdCBwb3J0YWxzID0gY3JlYXRlUG9ydGFscyhhcHApO1xuXG4gICAgLy8gd2F5cG9pbnRzXG4gICAgY29uc3Qgd2F5cG9pbnRzTWFwID0gY3JlYXRlV2F5cG9pbnRzTWFwKGZsb29yR3JpZCk7XG5cbiAgICAvLyBSZWdpc3RlciBtZWRpYXRvcnNcblxuICAgIGlmIChmYWNhZGUuaGFzUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIC8vIHJlbW92ZSBvbGQgbWFwXG4gICAgICAgIGZhY2FkZS5yZW1vdmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSlcbiAgICB9XG5cbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShuZXcgR2FtZU1hcFByb3h5KGZsb29yR3JpZCwgd2FsbHMsIGNvdmVyLCBwb3J0YWxzLCB3YXlwb2ludHNNYXApKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcEZsb29yKGFwcCkge1xuICAgIGNvbnN0IG5hdmlnYXRpb25GbG9vcnMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ25hdmlnYXRpb25fZmxvb3InKTtcblxuICAgIGxldCBjb21wbGV0ZWRHcmlkID0gW107XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uQ29tcG9uZW50cyA9IFtdO1xuICAgIC8vIEZpcnN0IHBhcnNlIC0gY3JlYXRlIG5vZGVzIGFuZCBjb25uZWN0aW9ucyBmb3IgaW5kaXZpZHVhbCBcbiAgICAvLyBuYXZpZ2F0aW9uIGNvbXBvbmVudHNcbiAgICBmb3IgKGNvbnN0IGZsb29yRW50aXR5IG9mIG5hdmlnYXRpb25GbG9vcnMpIHtcbiAgICAgICAgY29uc3QgbmF2Q29tcCA9IGZsb29yRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgICAgICBuYXZpZ2F0aW9uQ29tcG9uZW50cy5wdXNoKG5hdkNvbXApO1xuXG4gICAgICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KVxuICAgICAgICBuYXZDb21wLnNldEdyaWQoZmxvb3JHcmlkKTtcbiAgICB9XG5cbiAgICAvLyBTZWNvbmQgcGFyc2UgLSBzdGl0Y2ggdG9nZXRoZXIgYWRqYWNlbnQgbm9kZXMgaW4gXG4gICAgLy8gY29ubmVjdGVkIG5hdmlnYXRpb24gbWVzaGVzXG4gICAgZm9yIChjb25zdCBuYXZpZ2F0aW9uQ29tcCBvZiBuYXZpZ2F0aW9uQ29tcG9uZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbm5lY3RlZENvbXBFbnRpdHkgb2YgbmF2aWdhdGlvbkNvbXAuY29ubmVjdGVkQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkTmF2Q29tcCA9IGNvbm5lY3RlZENvbXBFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG5cbiAgICAgICAgICAgIGpvaW5Ub0FkamFjZW50R3JpZChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCksIGNvbm5lY3RlZE5hdkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZEdyaWQgPSBjb21wbGV0ZWRHcmlkLmNvbmNhdChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBsZXRlZEdyaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcFdhbGxzKGFwcCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2FsbHNCb3VuZGluZ0JveGVzID0gW107XG4gICAgY29uc3QgbWFwV2FsbEVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCd3YWxsJyk7XG4gICAgZm9yIChjb25zdCBtYXBXYWxsRW50aXR5IG9mIG1hcFdhbGxFbnRpdGllcykge1xuICAgICAgICBjb25zdCBhYWJiID0gY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5KG1hcFdhbGxFbnRpdHkpO1xuICAgICAgICB3YWxsc0JvdW5kaW5nQm94ZXMucHVzaChhYWJiKTtcbiAgICAgICAgY3JlYXRlRmxvb3JVbmRlcldhbGxzKG1hcFdhbGxFbnRpdHksIGZsb29yR3JpZCk7XG4gICAgICAgIG1hcFdhbGxFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJldHVybiB3YWxsc0JvdW5kaW5nQm94ZXM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5KGJveEVudGl0eSkge1xuICAgIGNvbnN0IHNjYWxlID0gYm94RW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIGNvbnN0IGFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3goYm94RW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICByZXR1cm4gYWFiYjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmxvb3JVbmRlcldhbGxzKHdhbGwsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxQb3MgPSB3YWxsLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3Qgd2FsbFNjYWxlID0gd2FsbC5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgeSA9IE1hdGgucm91bmQod2FsbFBvcy55IC0gKHdhbGxTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZCh3YWxsUG9zLnggLSAod2FsbFNjYWxlLnggKiAwLjUpKTtcbiAgICBjb25zdCBjb3JuZXJaID0gTWF0aC5yb3VuZCh3YWxsUG9zLnogLSAod2FsbFNjYWxlLnogKiAwLjUpKTtcblxuICAgIGZvciAobGV0IHggPSBjb3JuZXJYOyB4IDwgY29ybmVyWCArIHdhbGxTY2FsZS54OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IGNvcm5lclo7IHogPCBjb3JuZXJaICsgd2FsbFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlSW5kZXggPSBmbG9vckdyaWQuZmluZEluZGV4KChub2RlKSA9PiBub2RlLmVxdWFsc1BvaW50KHgsIHksIHopKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZE5vZGVzID0gZmxvb3JHcmlkLnNwbGljZShtYXRjaGluZ05vZGVJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWROb2RlIG9mIGRlbGV0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZGVsZXRlZE5vZGUuY29ubmVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkTm9kZShkZWxldGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KSB7XG4gICAgLy8gc25hcCB0byBncmlkXG4gICAgY29uc3QgZ3JpZCA9IFtdO1xuXG4gICAgY29uc3QgZmxvb3JQb3NpdGlvbiA9IGZsb29yRW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBmbG9vclNpemUgPSBmbG9vckVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG5cbiAgICBjb25zdCBzbmFwcGVkV2lkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS54KTtcbiAgICBjb25zdCBzbmFwcGVkQnJlYWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLnopO1xuXG4gICAgY29uc3Qgc25hcHBlZFggPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueCAtIChzbmFwcGVkV2lkdGggLyAyKSk7XG4gICAgY29uc3Qgc25hcHBlZFkgPSBmbG9vclBvc2l0aW9uLnk7XG4gICAgY29uc3Qgc25hcHBlZFogPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueiAtIChzbmFwcGVkQnJlYWR0aCAvIDIpKTtcblxuICAgIGZvciAobGV0IHogPSBzbmFwcGVkWjsgeiA8IHNuYXBwZWRaICsgc25hcHBlZEJyZWFkdGg7IHorKykge1xuICAgICAgICBmb3IgKGxldCB4ID0gc25hcHBlZFg7IHggPCBzbmFwcGVkWCArIHNuYXBwZWRXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5hdmlnYXRpb25Ob2RlKHgsIHNuYXBwZWRZLCB6KTtcbiAgICAgICAgICAgIGdyaWQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWQpIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JpZDtcbn1cblxuZnVuY3Rpb24gam9pblRvQWRqYWNlbnRHcmlkKGdyaWQsIGdyaWRUb0pvaW4pIHtcbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkVG9Kb2luKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCkge1xuICAgIGxldCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGNvdmVyRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ2NvdmVyJyk7XG4gICAgZm9yIChjb25zdCBjb3ZlckVudGl0eSBvZiBjb3ZlckVudGl0aWVzKSB7XG4gICAgICAgIGNvdmVyUG9pbnRzID0gY292ZXJQb2ludHMuY29uY2F0KGNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94KGNvdmVyRW50aXR5LCBmbG9vckdyaWQpKTtcbiAgICAgICAgY292ZXJFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb3ZlclBvaW50RnJvbUJveChib3gsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IGNvdmVyUG9pbnRzID0gW107XG4gICAgY29uc3QgYm94UG9zID0gYm94LmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm94U2NhbGUgPSBib3guZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKGJveFBvcy55IC0gKGJveFNjYWxlLnkgKiAwLjUpKTtcblxuICAgIGNvbnN0IGNvcm5lclggPSBNYXRoLnJvdW5kKGJveFBvcy54IC0gKGJveFNjYWxlLnggKiAwLjUpKTtcbiAgICBjb25zdCBjb3JuZXJaID0gTWF0aC5yb3VuZChib3hQb3MueiAtIChib3hTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyBib3hTY2FsZS54OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IGNvcm5lclo7IHogPCBjb3JuZXJaICsgYm94U2NhbGUuejsgeisrKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlclBvaW50ID0gbmV3IHBjLlZlYzMoeCwgeSwgeik7XG4gICAgICAgICAgICBjb3ZlclBvaW50cy5wdXNoKGNvdmVyUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlSW5kZXggPSBmbG9vckdyaWQuZmluZEluZGV4KChub2RlKSA9PiBub2RlLmVxdWFsc1BvaW50KHgsIHksIHopKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZE5vZGVzID0gZmxvb3JHcmlkLnNwbGljZShtYXRjaGluZ05vZGVJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWROb2RlIG9mIGRlbGV0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZGVsZXRlZE5vZGUuY29ubmVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkTm9kZShkZWxldGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdmVyUG9pbnRzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbHMoYXBwKSB7XG4gICAgY29uc3QgcG9ydGFscyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwb3J0YWxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygncG9ydGFsJyk7XG4gICAgZm9yIChjb25zdCBwb3J0YWxFbnRpdHkgb2YgcG9ydGFsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgcG9ydGFsQ29tcG9uZW50ID0gcG9ydGFsRW50aXR5LnNjcmlwdFsnUG9ydGFsQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IHBvcnRhbElkID0gcG9ydGFsQ29tcG9uZW50LnBvcnRhbElkO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uU2NlbmU7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uUG9ydGFsID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uUG9ydGFsO1xuICAgICAgICBjb25zdCBzdGFuZGluZ1BvaW50ID0gcG9ydGFsQ29tcG9uZW50LnN0YW5kaW5nUG9pbnQuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgaGl0Ym94UG9pbnQgPSBwb3J0YWxDb21wb25lbnQuaGl0Ym94LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgcG9ydGFsID0ge1xuICAgICAgICAgICAgcG9ydGFsSWQ6IHBvcnRhbElkLFxuICAgICAgICAgICAgZGVzdGluYXRpb25TY2VuZTogZGVzdGluYXRpb25TY2VuZSxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uUG9ydGFsOiBkZXN0aW5hdGlvblBvcnRhbCxcbiAgICAgICAgICAgIHN0YW5kaW5nUG9pbnQ6IHN0YW5kaW5nUG9pbnQsXG4gICAgICAgICAgICBoaXRib3hQb2ludDogaGl0Ym94UG9pbnRcbiAgICAgICAgfVxuXG4gICAgICAgIHBvcnRhbHMuc2V0KHBvcnRhbElkLCBwb3J0YWwpO1xuICAgIH1cblxuICAgIHJldHVybiBwb3J0YWxzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdheXBvaW50c01hcChmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YXlwb2ludHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGZsb29yTm9kZSBvZiBmbG9vckdyaWQpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGlhZ29uYWxzIGludGVyc2VjdCB3YWxsc1xuXG4gICAgICAgIGlmIChpc1dheXBvaW50KGZsb29yTm9kZSwgZmxvb3JHcmlkKSkge1xuICAgICAgICAgICAgd2F5cG9pbnRzLnB1c2gobmV3IE5hdmlnYXRpb25Ob2RlKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnopKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qgd2F5cG9pbnQgb2Ygd2F5cG9pbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJXYXlwb2ludCBvZiB3YXlwb2ludHMpIHtcbiAgICAgICAgICAgIGlmICghd2F5cG9pbnQuZXF1YWxzKG90aGVyV2F5cG9pbnQpIHx8ICFvdGhlcldheXBvaW50LmlzQ29ubmVjdGVkKHdheXBvaW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBBc3Rhci5jYWxjdWxhdGVCcmVzZW5oYW1MaW5lKHdheXBvaW50LngsIHdheXBvaW50LnosIG90aGVyV2F5cG9pbnQueCwgb3RoZXJXYXlwb2ludC56KTtcbiAgICAgICAgICAgICAgICBpZiAoQXN0YXIuY2hlY2tWYWxpZExpbmUobGluZSwgZmxvb3JHcmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXlwb2ludC5hZGRDb25uZWN0ZWROb2RlKG90aGVyV2F5cG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBvdGhlcldheXBvaW50LmFkZENvbm5lY3RlZE5vZGUod2F5cG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB3YXlwb2ludHM7XG59XG5cbmZ1bmN0aW9uIGlzV2F5cG9pbnQoZmxvb3JOb2RlLCBmbG9vck1hcCkge1xuICAgIC8vQ2hlY2sgbndcbiAgICBjb25zdCBub3J0aHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IG5vcnRoID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLngsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IG5vcnRoZWFzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54ICsgMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56IC0gMSk7XG4gICAgY29uc3QgZWFzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54ICsgMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KTtcbiAgICBjb25zdCBzb3V0aGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHNvdXRoID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLngsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHNvdXRod2VzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54IC0gMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56ICsgMSk7XG4gICAgY29uc3Qgd2VzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54IC0gMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KTtcblxuICAgIC8vIG5vcnRod2VzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKG5vcnRod2VzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKG5vcnRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMod2VzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vcnRoZWFzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKG5vcnRoZWFzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKG5vcnRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZWFzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNvdXRoZWFzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKHNvdXRoZWFzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHNvdXRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZWFzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNvdXRod2VzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKHNvdXRod2VzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHNvdXRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMod2VzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cblxuZXhwb3J0IGNsYXNzIFdlYXBvbnNQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJXZWFwb25zUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihXZWFwb25zUHJveHkuTkFNRSwgZGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0RGFtYWdlKHdlYXBvbk5hbWUsIGRhbWFnZVRpZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeUtleSBpbiB0aGlzLnZvKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52bywgY2F0ZWdvcnlLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnZvW2NhdGVnb3J5S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjYXRlZ29yeSwgd2VhcG9uTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5W3dlYXBvbk5hbWVdLmRhbWFnZVtNYXRoLm1pbihkYW1hZ2VUaWVyIC0gMSwgNildO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgd2VhcG9uOjogJHt3ZWFwb25OYW1lfWApO1xuICAgIH1cblxuICAgIGdldFdlYXBvbkNhdGVnb3J5KHdlYXBvbk5hbWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeUtleSBpbiB0aGlzLnZvKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52bywgY2F0ZWdvcnlLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnZvW2NhdGVnb3J5S2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeUtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjYXRlZ29yeSBmb3Igd2VhcG9uOjogJHt3ZWFwb25OYW1lfWApO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgU3RvcnlWTyB9ID0gcmVxdWlyZSgnLi9TdG9yeVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIFN0b3J5UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiU3RvcnlQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgY29uc3Qgc3RvcnlUcnVuayA9IGFwcC5hc3NldHMuZ2V0KDQwNTI5OTIwKS5yZXNvdXJjZTtcbiAgICAgICAgY29uc3Qgc3RvcnlUcmVlcyA9IHN0b3J5VHJ1bmsudHJlZXM7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJlZU1hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRyZWVLZXkgaW4gc3RvcnlUcmVlcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0b3J5VHJlZXMsIHRyZWVLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcnlUcmVlQXNzZXRJZCA9IHN0b3J5VHJlZXNbdHJlZUtleV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcnlUcmVlID0gYXBwLmFzc2V0cy5nZXQoc3RvcnlUcmVlQXNzZXRJZCkucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICBzdG9yeVRyZWVNYXAuc2V0KHRyZWVLZXksIHN0b3J5VHJlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihTdG9yeVByb3h5Lk5BTUUsIHN0b3J5VHJlZU1hcCk7XG5cbiAgICAgICAgLy8gUHJvcGVydGllc1xuICAgICAgICB0aGlzLmN1cnJlbnRUcmVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zID0gW107XG4gICAgfVxuXG4gICAgZ2V0VHJlZSh0cmVlSWQpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uaGFzKHRyZWVJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZvLmdldCh0cmVlSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE5vZGUodHJlZSwgbm9kZUlkKSB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdHJlZS5ub2RlcztcbiAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGVzLCBub2RlSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZXNbbm9kZUlkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdGVwKG5vZGUsIHN0ZXBJbmRleCkge1xuICAgICAgICBjb25zdCBzdGVwcyA9IG5vZGUuc3RlcHM7XG4gICAgICAgIGlmIChzdGVwSW5kZXggPCBzdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwc1tzdGVwSW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdvVG9Ob2RlKG5vZGVJZCkge1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gbm9kZUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSAwO1xuICAgIH1cblxuICAgIHN0YXJ0RGlhbG9ndWVUcmVlKHRyZWVJZCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUcmVlID0gdHJlZUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gXCJlbnRyeVwiO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSAwO1xuXG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmdldFRyZWUodGhpcy5jdXJyZW50VHJlZSk7XG4gICAgICAgIGlmICghdHJlZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBzdGFydCBkaWFsb2d1ZTogVHJlZSAke3RoaXMuY3VycmVudFRyZWV9IG5vdCBmb3VuZGApO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3Qgc3RhcnQgZGlhbG9ndWU6IG5vIFwiZW50cnlcIiBub2RlIGRlZmluZWQgb24gJHt0cmVlSWR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50Tm9kZVN0ZXAoKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmdldFRyZWUodGhpcy5jdXJyZW50VHJlZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgICBjb25zdCB2YWxpZFN0ZXAgPSB0aGlzLmdldFZhbGlkU3RlcChjdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgaWYgKHZhbGlkU3RlcCAmJiB2YWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24ob25jZUNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkU3RlcDtcbiAgICB9XG5cblxuICAgIGNvbnRpbnVlQ3VycmVudE5vZGVTdGVwKCkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKVxuICAgICAgICAvLyBpbmNyZW1lbnQgc3RlcEluZGV4XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCsrO1xuXG4gICAgICAgIGNvbnN0IHZhbGlkU3RlcCA9IHRoaXMuZ2V0VmFsaWRTdGVwKGN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICBpZiAodmFsaWRTdGVwICYmIHZhbGlkU3RlcC5vbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBvbmNlQ29uZGl0aW9uID0gdGhpcy5nZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRoaXMuY3VycmVudFRyZWUsIHRoaXMuY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihvbmNlQ29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWRTdGVwO1xuICAgIH1cblxuICAgIGdldFZhbGlkU3RlcChub2RlLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgbGV0IG5leHRWYWxpZFN0ZXAgPSB0aGlzLmdldFN0ZXAobm9kZSwgc3RlcEluZGV4KTtcblxuXG4gICAgICAgIGlmIChuZXh0VmFsaWRTdGVwKSB7XG4gICAgICAgICAgICBsZXQgdGVzdENvbmRpdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGlmIChuZXh0VmFsaWRTdGVwLmNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0ZXN0Q29uZGl0aW9ucyA9IHRlc3RDb25kaXRpb25zLmNvbmNhdChuZXh0VmFsaWRTdGVwLmNvbmRpdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV4dFZhbGlkU3RlcC5vbmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRoaXMuY3VycmVudFRyZWUsIHRoaXMuY3VycmVudE5vZGUsIHN0ZXBJbmRleCk7XG4gICAgICAgICAgICAgICAgdGVzdENvbmRpdGlvbnMgPSB0ZXN0Q29uZGl0aW9ucy5jb25jYXQob25jZUNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rlc3QgdmFsaWQgc3RlcCcpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlc3RDb25kaXRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudGVzdENvbmRpdGlvbnModGVzdENvbmRpdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRWYWxpZFN0ZXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IHN0ZXBJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsaWRTdGVwKG5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0VmFsaWRTdGVwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0cmVlSWQsIG5vZGVJZCwgc3RlcEluZGV4KSB7XG4gICAgICAgIHJldHVybiBgJHt0cmVlSWR9JHtub2RlSWR9JHtzdGVwSW5kZXh9YDtcbiAgICB9XG5cbiAgICBnZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodHJlZUlkLCBub2RlSWQsIHN0ZXBJbmRleCkge1xuICAgICAgICByZXR1cm4gYCEke3RyZWVJZH0ke25vZGVJZH0ke3N0ZXBJbmRleH1gO1xuICAgIH1cblxuICAgIHNlbGVjdENob2ljZShjaG9pY2VJbmRleCkge1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Q3VycmVudE5vZGVTdGVwKCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2hvaWNlID0gY3VycmVudE5vZGUuY2hvaWNlc1tjaG9pY2VJbmRleF07XG4gICAgICAgIHJldHVybiBzZWxlY3RlZENob2ljZTtcbiAgICB9XG5cbiAgICBhZGRDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMucHVzaChjb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihjb25kaXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGVzdENvbmRpdGlvbnMoY29uZGl0aW9ucykge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgZm9yIChjb25zdCBjb25kaXRpb24gb2YgY29uZGl0aW9ucykge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIG9wZXJhdG9yc1xuICAgICAgICAgICAgY29uc3Qgb3JEZWxpbWl0ZXJlZCA9IFwifHxcIjtcbiAgICAgICAgICAgIGNvbnN0IG9yQ29uZGl0aW9ucyA9IGNvbmRpdGlvbi5zcGxpdChvckRlbGltaXRlcmVkKTtcblxuICAgICAgICAgICAgaWYgKG9yQ29uZGl0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBvbmUgbmVlZHMgdG8gYmUgdHJ1ZVxuICAgICAgICAgICAgICAgIGxldCBvclN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbmFsQ29uZGl0aW9uIG9mIG9yQ29uZGl0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0NvbmRpdGlvbihvcHRpb25hbENvbmRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IG9yU3VjY2VzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0aGlzLmNoZWNrQ29uZGl0aW9uKGNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxuXG4gICAgY2hlY2tDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgICAgIGxldCBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICAvLyBkZXRlcm1pbmUgaWYgcG9zaXRpdmUgb2YgbmVnYXRpdmVcbiAgICAgICAgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiIVwiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2Yoc3RyaXBwZWRTdHJpbmcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLnN0YXJ0c1dpdGgoXCIrXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZFN0cmluZyA9IGNvbmRpdGlvbi5zbGljZSgxLCBjb25kaXRpb24ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKHN0cmlwcGVkU3RyaW5nKTtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiLVwiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNvbmRpdGlvbihzdHJpcHBlZFN0cmluZyk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEludmVudG9yeVZPIH0gPSByZXF1aXJlKCcuL0ludmVudG9yeVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkludmVudG9yeVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihJbnZlbnRvcnlQcm94eS5OQU1FLCBuZXcgSW52ZW50b3J5Vk8oKSk7XG4gICAgfVxuXG4gICAgZ2V0IGludmVudG9yeUl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pbnZlbnRvcnlJdGVtcztcbiAgICB9XG5cbiAgICBzZXQgaW52ZW50b3J5SXRlbXModmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5pbnZlbnRvcnlJdGVtcyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBlcXVpcG1lbnRTbG90cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZXF1aXBtZW50U2xvdHM7XG4gICAgfVxuXG5cbiAgICByZW9yZGVySW52ZW50b3J5SXRlbShvcmlnaW5hbEluZGV4LCBzbG90SW5kZXgpIHtcbiAgICAgICAgLy8gRGVsZXRlIHRoZSBpdGVtIGZyb20gaXQncyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSXRlbSA9IHRoaXMuaW52ZW50b3J5SXRlbXMuc3BsaWNlKG9yaWdpbmFsSW5kZXgsIDEpO1xuICAgICAgICBsZXQgcnVubmluZ0luZGV4VG90YWwgPSAwO1xuICAgICAgICBsZXQgbmV3SW5kZXggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW52ZW50b3J5SXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmludmVudG9yeUl0ZW1zW2ldO1xuXG5cbiAgICAgICAgICAgIGlmIChzbG90SW5kZXggPj0gcnVubmluZ0luZGV4VG90YWwgJiYgc2xvdEluZGV4IDwgcnVubmluZ0luZGV4VG90YWwgKyBpdGVtLnNpemUpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJ1bm5pbmdJbmRleFRvdGFsICs9IGl0ZW0uc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzbG90SW5kZXggPj0gcnVubmluZ0luZGV4VG90YWwpIHtcbiAgICAgICAgICAgIG5ld0luZGV4ID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHN1cmUgYSB2YWxpZCBhcnJheSBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMuaW52ZW50b3J5SXRlbXMpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgYXJyYXknKTtcbiAgICAgICAgfVxuXG5cblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmUncyBhbiBpdGVtIHRvIG1vdmVcbiAgICAgICAgaWYgKCFvcmlnaW5hbEl0ZW0ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGl0ZW0gaW4gdGhlIGFycmF5IGF0IGluZGV4ICcgKyBvcmlnaW5hbEluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgdGhlIGl0ZW0gdG8gaXRzIG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnNwbGljZShuZXdJbmRleCwgMCwgb3JpZ2luYWxJdGVtWzBdKTtcbiAgICB9XG5cbiAgICBhdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3Qoc2xvdEtleSwgaXRlbURhdGEpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdGhpcy5lcXVpcG1lbnRTbG90cy5nZXQoc2xvdEtleSk7XG5cbiAgICAgICAgY29uc3QgaW52ZW50b3J5SW5kZXggPSB0aGlzLmludmVudG9yeUl0ZW1zLmluZGV4T2YoaXRlbURhdGEpO1xuICAgICAgICBpZiAoaW52ZW50b3J5SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnNwbGljZShpbnZlbnRvcnlJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lcXVpcG1lbnRTbG90cy5zZXQoc2xvdEtleSwgaXRlbURhdGEpO1xuXG4gICAgICAgIGlmIChleGlzdGluZ0l0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMucHVzaChleGlzdGluZ0l0ZW0pXG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxufSIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXBwLWxldmVsIG1lZGlhdG9ycy9wcm94aWVzL2NvbW1hbmRzIGhlcmVcblxuICAgIC8vIENyZWF0ZSBnYW1lIHN0YXRlIHByb3h5XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lU3RhdGVQcm94eSgpKTtcblxuICAgIC8vIExvYWQgd2VhcG9ucyBkYXRhIGFuZCBjcmVhdGUgcHJveHlcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGlmIChhcHApIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDQxNTYzMSkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgV2VhcG9uc1Byb3h5KHdlYXBvbnNEYXRhKSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgU3RvcnlQcm94eSgpKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBJbnZlbnRvcnlQcm94eSgpKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVNjZW5lQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgc2NlbmVOYW1lID0gYXJnc1swXTtcbiAgICBjb25zdCBwb3J0YWxJZCA9IGFyZ3NbMV07XG4gICAgY29uc29sZS5sb2coYENoYW5naW5nIHNjZW5lICR7c2NlbmVOYW1lfWApO1xuXG4gICAgLy8gR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIHJvb3Qgb2JqZWN0XG4gICAgY29uc3Qgb2xkSGllcmFyY2h5ID0gYXBwLnJvb3QuZmluZEJ5TmFtZSgnUm9vdCcpO1xuXG4gICAgLy8gR2V0IHRoZSBwYXRoIHRvIHRoZSBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gYXBwLnNjZW5lcy5maW5kKHNjZW5lTmFtZSk7XG5cbiAgICAvLyBMb2FkIHRoZSBzY2VuZXMgZW50aXR5IGhpZXJhcmNoeVxuICAgIGFwcC5zY2VuZXMubG9hZFNjZW5lSGllcmFyY2h5KHNjZW5lLnVybCwgZnVuY3Rpb24gKGVyciwgcGFyZW50KSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICBpZiAob2xkSGllcmFyY2h5KSB7XG4gICAgICAgICAgICAgICAgb2xkSGllcmFyY2h5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgc2NlbmVOYW1lKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCwgcG9ydGFsSWQpO1xuXG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSBhcnJheS5sZW5ndGhcbiAgICBsZXQgdGVtcG9yYXJ5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHJhbmRvbUluZGV4ID0gLTE7XG5cbiAgICAvLyBXaGlsZSB0aGVyZSByZW1haW4gZWxlbWVudHMgdG8gc2h1ZmZsZS4uLlxuICAgIHdoaWxlICgwICE9PSBjdXJyZW50SW5kZXgpIHtcblxuICAgICAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnQuLi5cbiAgICAgICAgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjdXJyZW50SW5kZXgpO1xuICAgICAgICBjdXJyZW50SW5kZXggLT0gMTtcblxuICAgICAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgICAgIHRlbXBvcmFyeVZhbHVlID0gYXJyYXlbY3VycmVudEluZGV4XTtcbiAgICAgICAgYXJyYXlbY3VycmVudEluZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcbiAgICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdGVtcG9yYXJ5VmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgc2h1ZmZsZUFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvU2h1ZmZsZUFycmF5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgQ29tYmF0Vk8gfSA9IHJlcXVpcmUoJy4vQ29tYmF0Vk8nKTtcblxuXG5leHBvcnQgY2xhc3MgQ29tYmF0UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ29tYmF0UHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzLCB0ZWFtcykge1xuICAgICAgICBzdXBlcihDb21iYXRQcm94eS5OQU1FLCBuZXcgQ29tYmF0Vk8ocGFydGljaXBhbnRzLCB0ZWFtcykpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHRoaXMudm8ucGFydGljaXBhbnRzO1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBwYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuc2V0KHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFByb3h5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRUdXJuKCkge1xuICAgICAgICBjb25zdCByb3VuZEluaXRpYXRpdmUgPSB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZTtcblxuICAgICAgICBpZiAocm91bmRJbml0aWF0aXZlICYmIHJvdW5kSW5pdGlhdGl2ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0VHVybklkID0gcm91bmRJbml0aWF0aXZlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnZvLmFjdGl2ZVBhcnRpY2lwYW50ID0gbmV4dFR1cm5JZDtcblxuICAgICAgICAgICAgaWYgKG5leHRUdXJuSWQgIT09ICdlbmRfcm91bmQnKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV4dCBUdXJuXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVHVybiAke25leHRUdXJuSWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5nZXQobmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgcHJveHkucmVzZXRDb21iYXRUdXJuU3RhdGUoKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcm94eS5pc05QQykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIG5leHRUdXJuSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIHJvdW5kXG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgRW5kIHJvdW5kYCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1JPVU5EKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5leHRSb3VuZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJy8vLy8vLy8vLy8vLy8vLy8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLyAgTmV3IHJvdW5kICAvLycpO1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc3QgaW5pdGlhdGl2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbY2hhcmFjdGVySWQsIHByb3h5XSBvZiB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZvID0gcHJveHkudm87XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvLmluaXRpYXRpdmU7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzLnB1c2goY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluaXRpYXRpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRXZlcnlvbmUgaXMgb3V0IG9mIHRoZSBjb21iYXQgc29tZWhvdywgcHJvYmFibHkgZGVhZFxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZW5kIG9mIHJvdW5kIHRva2VuXG4gICAgICAgIGluaXRpYXRpdmVzLnB1c2goJ2VuZF9yb3VuZCcpO1xuXG4gICAgICAgIGxldCBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoaW5pdGlhdGl2ZXMpO1xuICAgICAgICAvLyBlbnN1cmUgcm91bmQgZG9lc24ndCBzdGFydCB3aXRoIFwiZW5kX3JvdW5kXCJcbiAgICAgICAgd2hpbGUgKHNodWZmbGVkSW5pdGlhdGl2ZVswXSA9PT0gXCJlbmRfcm91bmRcIikge1xuICAgICAgICAgICAgc2h1ZmZsZWRJbml0aWF0aXZlID0gc2h1ZmZsZUFycmF5KHNodWZmbGVkSW5pdGlhdGl2ZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gc2h1ZmZsZWRJbml0aWF0aXZlO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5uZXh0VHVybkNoYXJhY3RlcklkO1xuICAgIH1cblxuICAgIGdldCBhY3RpdmVQYXJ0aWNpcGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQ7XG4gICAgfVxuXG4gICAgc2V0IGFjdGl2ZVBhcnRpY2lwYW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcGFydGljaXBhbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgfVxuXG4gICAgZ2V0IHRlYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by50ZWFtcztcbiAgICB9XG5cbiAgICByZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIHBhcnRpY2NpcGFudHNcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudFByb3hpZXMuZGVsZXRlKGNoYXJhY3RlcklkKTtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gaW5pdGlhdGl2ZVxuICAgICAgICB0aGlzLnZvLnJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlLmZpbHRlcihlID0+IGUgIT09IGNoYXJhY3RlcklkKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHRlYW1dIG9mIHRoaXMudGVhbXMuZW50cmllcygpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlckluZGV4ID0gdGVhbS5pbmRleE9mKGNoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGVhbS5zcGxpY2UoY2hhcmFjdGVySW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGVhbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFULCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIlN0YXJ0IENvbWJhdFwiKTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZVN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpO1xuXG4gICAgY29uc3QgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcInNwb3R0ZWRcIiwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSk7XG5cblxuICAgIC8vIFNldHVwIHRoZSBjb21iYXRcbiAgICBjb25zdCB0ZWFtcyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwbGF5ZXJUZWFtID0gWydwbGF5ZXInXTtcbiAgICB0ZWFtcy5zZXQoJ3BsYXllcl90ZWFtJywgcGxheWVyVGVhbSk7XG5cbiAgICBjb25zdCBvcHBvc2luZ1RlYW0gPSBbaW5zdGlnYXRpbmdDaGFyYWN0ZXJJZF0uY29uY2F0KGluc3RpZ2F0aW5nQ2hhcmFjdGVyUHJveHkuY29tYmF0R3JvdXApLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zLCBzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YoaXRlbSkgPT0gcG9zO1xuICAgIH0pO1xuICAgIHRlYW1zLnNldCgnb3Bwb3NpbmdfdGVhbScsIG9wcG9zaW5nVGVhbSk7XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBwbGF5ZXJUZWFtLmNvbmNhdChvcHBvc2luZ1RlYW0pO1xuXG5cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX01PVkVNRU5UICsgcGFydGljaXBhbnQpO1xuICAgICAgICBpZiAocGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBwYXJ0aWNpcGFudCwgaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gbmV3IENvbWJhdFByb3h5KHBhcnRpY2lwYW50cywgdGVhbXMpO1xuICAgIGZhY2FkZS5yZWdpc3RlclByb3h5KGNvbWJhdFByb3h5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgIH0sIDIwMDApO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcblxuICAgIGlmIChnYW1lU3RhdGUudm8uZ2FtZXBsYXlNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29tYmF0UHJveHkubmV4dFR1cm4oKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbmV4dENvbWJhdFJvdW5kQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0Um91bmQoKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIGNvbWJhdFByb3h5LnZvLm5leHRUdXJuQ2hhcmFjdGVySWQpO1xuXG4gICAgfVxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbWJhdFR1cm5Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG4gICAgfSwgNTAwKTtcbn1cbiIsImV4cG9ydCBjbGFzcyBCZWhhdmlvdXJTdGF0dXMge1xuICAgIHN0YXRpYyBnZXQgU1VDQ0VTUygpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEZBSUxVUkUoKSB7IHJldHVybiAxIH07XG4gICAgc3RhdGljIGdldCBSVU5OSU5HKCkgeyByZXR1cm4gMiB9O1xuICAgIHN0YXRpYyBnZXQgRVJST1IoKSB7IHJldHVybiAzIH07XG59IiwiaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgY3JlYXRlVVVJRCB9IGZyb20gJy4uLy4uL3V0aWxzL0dVSUQnO1xuXG5leHBvcnQgY2xhc3MgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjaGlsZHJlbik7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmlkID0gY3JlYXRlVVVJRCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgW107XG4gICAgfVxuXG4gICAgZXhlY3V0ZSh0aWNrKSB7XG4gICAgICAgIC8qIEVOVEVSICovXG4gICAgICAgIHRoaXMuX2VudGVyKHRpY2spO1xuXG4gICAgICAgIC8qIE9QRU4gKi9cbiAgICAgICAgaWYgKCF0aWNrLmJsYWNrYm9hcmQuZ2V0KCdpc09wZW4nLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9vcGVuKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogVElDSyAqL1xuICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLl90aWNrKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFICovXG4gICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICB0aGlzLl9jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIEVYSVQgKi9cbiAgICAgICAgdGhpcy5fZXhpdCh0aWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cblxuICAgIF9lbnRlcih0aWNrKSB7XG4gICAgICAgIHRpY2suZW50ZXJOb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmVudGVyKHRpY2spO1xuICAgIH1cblxuICAgIF9vcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5vcGVuTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgdHJ1ZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5vcGVuKHRpY2spO1xuICAgIH1cblxuICAgIF90aWNrKHRpY2spIHtcbiAgICAgICAgdGljay50aWNrTm9kZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGljayh0aWNrKTtcbiAgICB9XG5cbiAgICBfY2xvc2UodGljaykge1xuICAgICAgICB0aWNrLmNsb3NlTm9kZSh0aGlzKTtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgnaXNPcGVuJywgZmFsc2UsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuY2xvc2UodGljayk7XG4gICAgfVxuXG4gICAgX2V4aXQodGljaykge1xuICAgICAgICB0aWNrLmV4aXROb2RlKHRoaXMpO1xuICAgICAgICB0aGlzLmV4aXQodGljayk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcmlkZSB0aGVzZVxuICAgIGVudGVyKHRpY2spIHsgfVxuICAgIG9wZW4odGljaykgeyB9XG4gICAgdGljayh0aWNrKSB7IHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1IgfVxuICAgIGNsb3NlKHRpY2spIHsgfVxuICAgIGV4aXQodGljaykgeyB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgdmFyIHMgPSBbXTtcbiAgICB2YXIgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxNF0gPSBcIjRcIjtcblxuICAgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpO1xuXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgdmFyIHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG5cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNYXN0ZXJOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkTm9kZSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUuZXhlY3V0ZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIEJsYWNrYm9hcmQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLmJhc2VNZW1vcnkgPSB7fTsgLy8gdXNlZCB0byBzdG9yZSBnbG9iYWwgaW5mb3JtYXRpb25cbiAgICAgICAgdGhpcy50cmVlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgdHJlZSBhbmQgbm9kZSBpbmZvcm1hdGlvblxuICAgIH1cblxuICAgIGdldFRyZWVNZW1vcnkodHJlZVNjb3BlKSB7XG4gICAgICAgIGlmICghdGhpcy50cmVlTWVtb3J5W3RyZWVTY29wZV0pIHtcbiAgICAgICAgICAgIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdID0ge1xuICAgICAgICAgICAgICAgIG5vZGVNZW1vcnk6IHt9LFxuICAgICAgICAgICAgICAgIG9wZW5Ob2RlczogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdO1xuICAgIH1cblxuICAgIGdldE5vZGVNZW1vcnkodHJlZU1lbW9yeSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRyZWVNZW1vcnlbJ25vZGVNZW1vcnknXTtcbiAgICAgICAgaWYgKCFtZW1vcnkuaGFzT3duUHJvcGVydHkobm9kZVNjb3BlKSkge1xuICAgICAgICAgICAgbWVtb3J5W25vZGVTY29wZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW1vcnlbbm9kZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgdmFyIG1lbW9yeSA9IHRoaXMuYmFzZU1lbW9yeTtcblxuICAgICAgICBpZiAodHJlZVNjb3BlKSB7XG4gICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldFRyZWVNZW1vcnkodHJlZVNjb3BlKTtcblxuICAgICAgICAgICAgaWYgKG5vZGVTY29wZSkge1xuICAgICAgICAgICAgICAgIG1lbW9yeSA9IHRoaXMuZ2V0Tm9kZU1lbW9yeShtZW1vcnksIG5vZGVTY29wZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5O1xuICAgIH07XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICBtZW1vcnlba2V5XSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBnZXQoa2V5LCB0cmVlU2NvcGUsIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLmdldE1lbW9yeSh0cmVlU2NvcGUsIG5vZGVTY29wZSk7XG4gICAgICAgIHJldHVybiBtZW1vcnlba2V5XTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFRpY2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzID0gW107XG4gICAgICAgIHRoaXMubm9kZUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBlbnRlck5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm5vZGVDb3VudCsrO1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cblxuICAgIG9wZW5Ob2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIHRpY2tOb2RlKG5vZGUpIHtcblxuICAgIH1cblxuICAgIGNsb3NlTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMub3Blbk5vZGVzLnBvcCgpO1xuICAgIH1cblxuICAgIGV4aXROb2RlKG5vZGUpIHtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBUaWNrIH0gZnJvbSBcIi4vVGlja1wiO1xuXG5leHBvcnQgY2xhc3MgQmVoYXZpb3VyVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKGlkKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5yb290ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRpY2sodGFyZ2V0LCBibGFja2JvYXJkKSB7XG4gICAgICAgIC8qIENSRUFURSBBIFRJQ0sgT0JKRUNUICovXG4gICAgICAgIGNvbnN0IHRpY2sgPSBuZXcgVGljaygpO1xuICAgICAgICB0aWNrLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGljay5ibGFja2JvYXJkID0gYmxhY2tib2FyZDtcbiAgICAgICAgdGljay50cmVlID0gdGhpcztcblxuICAgICAgICAvKiBUSUNLIE5PREUgKi9cbiAgICAgICAgdGhpcy5yb290LmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgTk9ERVMgRlJPTSBMQVNUIFRJQ0ssIElGIE5FRURFRCAqL1xuICAgICAgICBjb25zdCBsYXN0T3Blbk5vZGVzID0gYmxhY2tib2FyZC5nZXQoJ29wZW5Ob2RlcycsIHRoaXMuaWQpIHx8IFtdO1xuICAgICAgICBjb25zdCBjdXJyT3Blbk5vZGVzID0gdGljay5vcGVuTm9kZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgLy8gZG9lcyBub3QgY2xvc2UgaWYgaXQgaXMgc3RpbGwgb3BlbiBpbiB0aGlzIHRpY2tcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihsYXN0T3Blbk5vZGVzLmxlbmd0aCwgY3Vyck9wZW5Ob2Rlcy5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBpZiAobGFzdE9wZW5Ob2Rlc1tpXSAhPT0gY3Vyck9wZW5Ob2Rlc1tpXSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xvc2UgdGhlIG5vZGVzXG4gICAgICAgIGZvciAobGV0IGkgPSBsYXN0T3Blbk5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gc3RhcnQ7IGktLSkge1xuICAgICAgICAgICAgbGFzdE9wZW5Ob2Rlc1tpXS5jbG9zZSh0aWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFBPUFVMQVRFIEJMQUNLQk9BUkQgKi9cbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ29wZW5Ob2RlcycsIGN1cnJPcGVuTm9kZXMsIHRoaXMuaWQpO1xuICAgICAgICBibGFja2JvYXJkLnNldCgnbm9kZUNvdW50JywgdGljay5ub2RlQ291bnQsIHRoaXMuaWQpO1xuXG4gICAgfVxufSIsImltcG9ydCB7IEJsYWNrYm9hcmQgfSBmcm9tICcuLi9jb3JlL0JsYWNrYm9hcmQnO1xuaW1wb3J0IHsgQmVoYXZpb3VyVHJlZSB9IGZyb20gJy4uL2NvcmUvQmVoYXZpb3VyVHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB7XG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9ICdiYXNpY01lbGVlVHJlZSc7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZCA9IG5ldyBCbGFja2JvYXJkKCk7XG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBCZWhhdmlvdXJUcmVlKGlkKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpc2UoKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICAvLyBPdmVycmlkZSB0byBzZXQgdHJlZVxuICAgIH1cblxuICAgIHJ1bkNvbW1hbmRzKGZhY2FkZSwgY2hhcmFjdGVySWQpIHtcbiAgICAgICAgdGhpcy5ibGFja2JvYXJkLnNldChcImZhY2FkZVwiLCBmYWNhZGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJjaGFyYWN0ZXJJZFwiLCBjaGFyYWN0ZXJJZCwgdGhpcy50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50cmVlLnRpY2sodGhpcywgdGhpcy5ibGFja2JvYXJkKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgUHJpb3JpdHkgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgIH1cblxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBTZXRQbGF5ZXJBc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgndGFyZ2V0JywgJ3BsYXllcicsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIE1lbGVlQXR0YWNrVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBhdHRhY2tlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgZGVmZW5kZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIEVuZENvbWJhdFR1cm4gZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc01vdmVtZW50UmVtYWluaW5nIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzTmV4dFRvUGxheWVyIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgICAgICBjb25zdCBwbGF5ZXJOb2RlID0gcGxheWVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgICAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhjaGFyYWN0ZXJDdXJyZW50Tm9kZSkpO1xuXG4gICAgICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5cbmV4cG9ydCBjbGFzcyBNZW1TZXF1ZW5jZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICBvcGVuKHRpY2spIHtcbiAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgMCwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICB9XG5cbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdydW5uaW5nQ2hpbGQnLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBjaGlsZDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmNoaWxkcmVuW2ldLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljay5ibGFja2JvYXJkLnNldCgncnVubmluZ0NoaWxkJywgaSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG5cbn0iLCJcbmltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vQmVoYXZpb3VyU3RhdHVzJztcbmV4cG9ydCBjbGFzcyBJbnZlcnRlciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcblxuICAgICAgICAvLyBwcmVzdW1lIGludmVydGVyIGhhcyBvbmUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRVJST1I7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3RhdHVzID0gY2hpbGQuZXhlY3V0ZSh0aWNrKTtcblxuICAgICAgICBpZiAoc3RhdHVzID09IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTKVxuICAgICAgICAgICAgc3RhdHVzID0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRSlcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc1RhcmdldERlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcblxuICAgICAgICBpZiAocGxheWVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBjbGFzcyBNb3ZlVG93YXJkc1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHRhcmdldFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG4gICAgICAgIGNvbnN0IHRhcmdldEN1cnJlbnROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgICAgIC8vIENoZWNrIHRoZXJlIGlzIGEgbm9kZSB0byBtb3ZlIHRvIFxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB0cmltIG1vdmVtZW50XG4gICAgICAgICAgICAgICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiB2by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIElzRGVhZCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSGFzQWN0aW9uc1JlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IE1lbGVlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01lbGVlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBIYXNNb3ZlbWVudFJlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNNb3ZlbWVudFJlbWFpbmluZyc7XG5pbXBvcnQgeyBJc05leHRUb1BsYXllciB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc05leHRUb1BsYXllcic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBNb3ZlVG93YXJkc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9Nb3ZlVG93YXJkc1RhcmdldCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljTWVsZWVUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY01lbGVlVHJlZScpO1xuICAgIH1cblxuICAgIGluaXRpYWxpc2UoKSB7XG4gICAgICAgIHRoaXMudHJlZS5yb290ID0gbmV3IE1hc3Rlck5vZGUoW1xuICAgICAgICAgICAgbmV3IFByaW9yaXR5KFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNEZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzVGFyZ2V0RGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJpb3JpdHkoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJc05leHRUb1BsYXllcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbGVlQXR0YWNrVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBdKSxcblxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5lbXlUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3QgZW5lbXlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZW5lbXlJZCk7XG4gICAgY29uc3QgZW5lbXlDdXJyZW50Tm9kZSA9IGVuZW15UHJveHkuY3VycmVudE5vZGU7XG4gICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyTm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIC8vIENoZWNrIGlmIGNoYXJhY3RlciBpcyBhbHJlYWR5IGFkamFjZW50IHRvIHRhcmdldFxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5lbXlDdXJyZW50Tm9kZSkpO1xuXG4gICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuXG4gICAgLyovLyB3ZSdyZSBhbHJlYWR5IHRoZXJlXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBlbmVteVByb3h5LmlkLCBwbGF5ZXJQcm94eS5pZCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTik7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgbmVhcmVzdCBub2RlXG4gICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGVuZW15Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZW5lbXlDdXJyZW50Tm9kZSwgbm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgY29uc3Qgdm8gPSBlbmVteVByb3h5LnZvO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IHBhdGhbMF07XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludElzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZW5kUG9pbnQpKTtcblxuICAgICAgICAgICAgaWYgKGVuZHBvaW50SXNBZGphY2VudCkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgZW5lbXlJZCwgXCJwbGF5ZXJcIiwgcGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgZW5lbXlJZCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZW5lbXlQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAxNTAwKTtcbiAgICB9Ki9cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5XCI7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG5cbiAgICBjb25zdCBub2RlID0gYXJnc1swXTtcblxuICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWROb2RlKG5vZGUpKSB7XG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHZvID0gZ2FtZUNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2godm8uY3VycmVudE5vZGUsIHZvLmF2YWlsYWJsZU1vdmVtZW50KTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtb3ZlYWJsZU5vZGVzKSB7XG4gICAgICAgIGlmIChub2RlLmVxdWFscyh0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgZ2FtZUNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsaWRNb3ZlKGZhY2FkZSwgY2hhcmFjdGVyUHJveHksIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHZvLmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gKHBhdGgubGVuZ3RoIC0gMSk7IC8vIERldHJhY3QgYnkgb25lLi4uIHRoZSBmaXJzdCBwYXRoIG5vZGUgZG9lc24ndCBjb3VudFxuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHZvLmlkLCBwYXRoKTtcbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgd2Fsa2FibGVOb2RlcyA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVBc3NldCA9IGFwcC5hc3NldHMuZ2V0KDQwMjM1OTY2KTtcbiAgICBjb25zdCBjb250YWluZXIgPSBhcHAucm9vdC5maW5kQnlOYW1lKFwiV29ybGRPYmplY3RzXCIpO1xuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIHdhbGthYmxlTm9kZXMpIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHdhbGthYmxlVGlsZUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIHRpbGUuc2V0TG9jYWxQb3NpdGlvbihub2RlLngsIG5vZGUueSwgbm9kZS56KTtcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRpbGUpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCB3YWxrYWJsZVRpbGVFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygnd2Fsa2FibGVfdGlsZScpO1xuICAgIGZvciAoY29uc3Qgd2Fsa2FibGVUaWxlRW50aXR5IG9mIHdhbGthYmxlVGlsZUVudGl0aWVzKSB7XG4gICAgICAgIHdhbGthYmxlVGlsZUVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3RhclwiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBtb3ZlYWJsZU5vZGVzKTtcblxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWT1wiO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSBcIi4vR2FtZUNvbW1hbmRzXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRNb3ZlbWVudENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmROb2RlID0gYXJnc1sxXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpZCk7XG4gICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBlbmROb2RlO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgPT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgaWQpO1xuICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKGN1cnJlbnROb2RlLngsXG4gICAgICAgIGN1cnJlbnROb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgIGN1cnJlbnROb2RlLnopO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgV2VhcG9uc1Byb3h5IH0gZnJvbSAnLi4vbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJFbnRpdHkgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGlkID0gZ2FtZUNoYXJhY3RlckVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5jaGFyYWN0ZXJJZDtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGNvbnN0IHdlYXBvblByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHdlYXBvbkNhdGVnb3J5ID0gd2VhcG9uUHJveHkuZ2V0V2VhcG9uQ2F0ZWdvcnkocGxheWVyQ2hhcmFjdGVyUHJveHkuZXF1aXBwZWRXZWFwb24pO1xuXG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTikge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycgJiYgd2VhcG9uQ2F0ZWdvcnkgPT09IFwicmFuZ2VkXCIpIHtcbiAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgXCJwbGF5ZXJcIiwgaWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJObyBsaW5lIG9mIHNpZ2h0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLLCBpZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSywgaWQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKCFjb21iYXRQcm94eSB8fCBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgLy8gbm90IHlvdXIgdHVyblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBsYXllckNoYXJhY3RlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgPD0gMCkge1xuICAgICAgICAgICAgLy8gb3V0IG9mIGFjdGlvbnNcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiT3V0IG9mIGFjdGlvbnNcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2VhcG9uQ2F0ZWdvcnkgPT09IFwicmFuZ2VkXCIpIHtcbiAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgXCJwbGF5ZXJcIiwgaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk5vIGxpbmUgb2Ygc2lnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICAgICAgICAgICAgICAvLyBwYXRoIGxlbmd0aCBpbmNsdWRlcyBjdXJyZW50IG5vZGUsIHNvIGRlZHVjdCBvbiB0byB3b3JrIG91dCBhY3R1YWwgbW92ZWFibGUgZGlzdGFuY2VcbiAgICAgICAgICAgICAgICBpZiAocGF0aFRvVGFyZ2V0ICYmIHBhdGhUb1RhcmdldC5sZW5ndGggLSAxIDw9IHBsYXllckNoYXJhY3RlclByb3h5LnZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHdlYXBvbiB0eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmlkLCBwYXRoVG9UYXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09NQkFUX05BVklHQVRFX1RPX05PREUsIFwicGxheWVyXCIsIHBhdGhUb1RhcmdldC5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiQ2Fubm90IHJlYWNoIHRhcmdldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcGxheWVyQ2hhcmFjdGVyUHJveHkuaWQsIHRhcmdldENoYXJhY3RlclByb3h5LmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSB0YXJnZXRDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyUGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0QWRqYWNlbnQocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgdGFyZ2V0Q3VycnJlbnROb2RlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY29ubmVjdGVkTm9kZXMgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5jb25uZWN0ZWROb2RlcztcbiAgICByZXR1cm4gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHRhcmdldEN1cnJyZW50Tm9kZSkpO1xufVxuXG5mdW5jdGlvbiBjYW5TZWVUYXJnZXQoZ2FtZU1hcFByb3h5LCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBwbGF5ZXJQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkocGxheWVyQ2hhcmFjdGVyUHJveHkpO1xuICAgIGNvbnN0IHRhcmdldFBvaW50ID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG5cbiAgICByZXR1cm4gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChwbGF5ZXJQb2ludCwgdGFyZ2V0UG9pbnQpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvblR5cGVzIH0gZnJvbSAnLi4vZGF0YS9XZWFwb25UeXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGNvbnN0IHdlYXBvbnNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCBhdHRhY2tlcldlYXBvblNraWxsID0gYCR7YXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbn1GaWdodGluZ2A7XG4gICAgY29uc3QgZGVmZW5kZXJXZWFwb25Ta2lsbCA9IGAke2RlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuXG4gICAgY29uc3QgYXR0YWNrZXJTa2lsbFRvdGFsID0gYXR0YWNrZXJQcm94eS5nZXRTa2lsbFRvdGFsKGF0dGFja2VyV2VhcG9uU2tpbGwpO1xuICAgIGNvbnN0IGRlZmVuZGVyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChkZWZlbmRlcldlYXBvblNraWxsKTtcblxuICAgIGNvbnN0IGF0dGFja2VyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclNraWxsVG90YWwpO1xuICAgIGNvbnN0IGRlZmVuZGVyUm9sbCA9IHJvbGxBdHRhY2tTa2lsbChkZWZlbmRlclNraWxsVG90YWwpO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIC8vIERldGVybWluZSB3aW5uZXJcbiAgICBpZiAoYXR0YWNrZXJSb2xsID09PSBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBBdHRhY2sgdGllZCgke2F0dGFja2VyUm9sbH0vJHtkZWZlbmRlclJvbGx9KWApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhdHRhY2tlclJvbGwgPiBkZWZlbmRlclJvbGwpIHtcbiAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyUm9sbCwgZGVmZW5kZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBkZWZlbmRlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgZGVmZW5kZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2F0dGFja2VySWR9IGRhbWFnZXMgJHtkZWZlbmRlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgd2VhcG9uQ2F0ZWdvcnkgPSB3ZWFwb25zUHJveHkuZ2V0V2VhcG9uQ2F0ZWdvcnkoZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbik7XG4gICAgICAgICAgICBjb25zdCBoYXNNZWxlZVdlYXBvbiA9IHdlYXBvbkNhdGVnb3J5ID09PSBcIm1lbGVlXCI7XG5cbiAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGRlZmVuZGVyUm9sbCwgYXR0YWNrZXJSb2xsKTtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbiA9IChoYXNNZWxlZVdlYXBvbikgPyBkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9uIDogV2VhcG9uVHlwZXMuVU5BUk1FRDtcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2Uod2VhcG9uLCBkYW1hZ2VUaWVyKTtcbiAgICAgICAgICAgIGF0dGFja2VyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2RlZmVuZGVySWR9IGRhbWFnZXMgJHthdHRhY2tlcklkfSBmb3IgJHtkYW1hZ2V9YCk7XG5cbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGRlZmVuZGVySWQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgYXR0YWNrZXJJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVEYW1hZ2VUaWVyKGhpZ2hEYW1hZ2UsIGxvd0RhbWFnZSkge1xuICAgIHJldHVybiBoaWdoRGFtYWdlIC0gbG93RGFtYWdlO1xufVxuXG5mdW5jdGlvbiByb2xsQXR0YWNrU2tpbGwoc2tpbGwpIHtcbiAgICByZXR1cm4gc2tpbGwgKyByb2xsRGljZSgpICsgcm9sbERpY2UoKTtcbn1cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0SWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IHBhdGggPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS51c2VNb3ZlbWVudChwYXRoLmxlbmd0aCAtIDEpO1xuICAgIGNvbnN0IGNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cbiAgICBjb25zdCBmaW5pc2hNb3ZlUHJvbWlzZSA9IGNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aCk7XG4gICAgZmluaXNoTW92ZVByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgY2hhcmFjdGVySWQsIHRhcmdldElkKTtcblxuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuXG5leHBvcnQgZnVuY3Rpb24ga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc29sZS5sb2coYEtpbGwgY2hhcmFjdGVyOjogJHtjaGFyYWN0ZXJJZH1gKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVUywgXCJkZWF0aFwiLCBjaGFyYWN0ZXJQcm94eSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyBjaGFyYWN0ZXJJZCk7XG5cblxuICAgIGlmIChjaGFyYWN0ZXJQcm94eSkge1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgaWYgKGNvbWJhdFByb3h5KSB7XG4gICAgICAgIGNvbWJhdFByb3h5LnJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21iYXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgbG9zaW5nVGVhbSA9IGFyZ3NbMF07XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBpZiAoZmFjYWRlLmhhc01lZGlhdG9yKENvbWJhdFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIGZhY2FkZS5yZW1vdmVNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKTtcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcblxuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcblxuICAgIGlmIChsb3NpbmdUZWFtID09PSAncGxheWVyX3RlYW0nKSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuR0FNRV9PVkVSKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYEdhbWUgT3ZlcmApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdhbWVTdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgVmljdG9yeWApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBSYW5nZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfUkFOR0VEX0FUVEFDSywgYXR0YWNrZXJJZCwgZGVmZW5kZXJJZCk7XG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWluRGlzdGFuY2UsIG1heERpc3RhbmNlKSB7XG4gICAgICAgIHN1cGVyKFtdKTtcbiAgICAgICAgdGhpcy5taW5EaXN0YW5jZSA9IG1pbkRpc3RhbmNlO1xuICAgICAgICB0aGlzLm1heERpc3RhbmNlID0gbWF4RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG1pbkRpc3RhbmNlU3FydCA9IE1hdGgucG93KHRoaXMubWluRGlzdGFuY2UsIDIpO1xuICAgICAgICBjb25zdCBtYXhEaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1heERpc3RhbmNlLCAyKTtcblxuICAgICAgICBjb25zdCBtb3ZlUG9pbnRzQXZhaWxhYmxlID0gY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQ7XG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGNoYXJhY3RlckN1cnJlbnROb2RlKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9UYXJnZXQgPj0gbWluRGlzdGFuY2VTcXJ0ICYmIGRpc3RhbmNlVG9UYXJnZXQgPD0gbWF4RGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAvLyBhbHJlYWR5IHdpdGhpbiByYW5nZSwgZ2V0IG9uIHdpdGggaXRcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVhYmxlTm9kZXMgPSBBc3Rhci5icmVhZHRoRmlyc3RTZWFyY2goY2hhcmFjdGVyQ3VycmVudE5vZGUsIG1vdmVQb2ludHNBdmFpbGFibGUpO1xuICAgICAgICAgICAgaWYgKG1vdmVhYmxlTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0IDwgbWluRGlzdGFuY2VTcXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBjbG9zZVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpID4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGZhciBhd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gbW92ZWFibGVOb2Rlcy5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYSkgPCBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGIpID8gYSA6IGIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgbm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpICsgTWF0aC5wb3cocDIueiAtIHAxLnosIDIpO1xufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGNsYXNzIFBpY2tOZXh0QWN0aW9uIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OLCBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5cbmV4cG9ydCBjbGFzcyBDYW5TZWVUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG5cbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIC8vIExvb2sgdG8gdGhlIGNlbnRlciBvZiBlYWNoIGNoYXJhY3RlclxuICAgICAgICBjb25zdCBmcm9tUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcblxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0UHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Tm9kZS5jb25uZWN0ZWROb2RlcztcblxuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHRvUG9zID0gY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSh0YXJnZXRQcm94eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGb2xsb3cgcGF0aCB0byBzZWUgaWYgdGFyZ2V0IGlzIHZpc2libGUgZnJvbSBhbnkgcG9pbnRcbiAgICAgICAgICAgICAgICBsZXQgZGVsZXRlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGhOb2RlID0gcGF0aFtpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9tUG9zID0gbmV3IHBjLlZlYzMocGF0aE5vZGUueCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLnkgKyBjaGFyYWN0ZXJQcm94eS5oZWlnaHQgKiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS56KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5TZWVUYXJnZXQgPSAhZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGZyb21Qb3MsIHRvUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblNlZVRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUcmltIHRvIHBvaW50IG9mIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICBwYXRoLnNwbGljZSgwLCBkZWxldGVDb3VudCk7XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzdGFuY2VTcXJ0KHAxLCBwMikge1xuICAgIHJldHVybiBNYXRoLnBvdyhwMi54IC0gcDEueCwgMikgKyBNYXRoLnBvdyhwMi55IC0gcDEueSwgMik7XG59XG4iLCJpbXBvcnQgeyBNYXN0ZXJOb2RlIH0gZnJvbSAnLi4vY29yZS9NYXN0ZXJOb2RlJztcbmltcG9ydCB7IENoYXJhY3RlckNvbW1hbmRUcmVlIH0gZnJvbSAnLi9DaGFyYWN0ZXJDb21tYW5kVHJlZSc7XG5pbXBvcnQgeyBQcmlvcml0eSB9IGZyb20gJy4uL2NvcmUvUHJpb3JpdHknO1xuaW1wb3J0IHsgU2V0UGxheWVyQXNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvU2V0UGxheWVyQXNUYXJnZXQnO1xuaW1wb3J0IHsgRW5kQ29tYmF0VHVybiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuJztcbmltcG9ydCB7IE1lbVNlcXVlbmNlIH0gZnJvbSAnLi4vY29yZS9NZW1TZXF1ZW5jZSc7XG5pbXBvcnQgeyBJbnZlcnRlciB9IGZyb20gJy4uL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlcic7XG5pbXBvcnQgeyBJc1RhcmdldERlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNUYXJnZXREZWFkJztcbmltcG9ydCB7IElzRGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc0RlYWQnO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSGFzQWN0aW9uc1JlbWFpbmluZyB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9IYXNBY3Rpb25zUmVtYWluaW5nJztcbmltcG9ydCB7IFJhbmdlQXR0YWNrVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JhbmdlQXR0YWNrVGFyZ2V0JztcbmltcG9ydCB7IE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0JztcbmltcG9ydCB7IFBpY2tOZXh0QWN0aW9uIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1BpY2tOZXh0QWN0aW9uJztcbmltcG9ydCB7IENhblNlZVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUnO1xuXG5leHBvcnQgY2xhc3MgQmFzaWNSYW5nZWRUcmVlIGV4dGVuZHMgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdiYXNpY1JhbmdlZFRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgQ2FuU2VlVGFyZ2V0KCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzTW92ZW1lbnRSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCg5LCAxMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGlja05leHRBY3Rpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIYXNBY3Rpb25zUmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDYW5TZWVUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlQXR0YWNrVGFyZ2V0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBFbmRDb21iYXRUdXJuKClcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICB9XG59IiwiXG5pbXBvcnQgeyBCYXNpY01lbGVlVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUnO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBCb3RCZWhhdmlvdXJUeXBlcyB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgQmFzaWNSYW5nZWRUcmVlIH0gZnJvbSAnLi4vYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGVuZW15SWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuXG4gICAgc3dpdGNoIChlbmVteVByb3h5LmJvdEJlaGF2aW91cikge1xuICAgICAgICBjYXNlIEJvdEJlaGF2aW91clR5cGVzLkJBU0lDX01FTEVFOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNNZWxlZVRyZWUgPSBuZXcgQmFzaWNNZWxlZVRyZWUoKTtcbiAgICAgICAgICAgIGJhc2ljTWVsZWVUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQ6XG4gICAgICAgICAgICBjb25zdCBiYXNpY1JhbmdlZFRyZWUgPSBuZXcgQmFzaWNSYW5nZWRUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY1JhbmdlZFRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgLy8gU2NvcmVzIGZvciBjb21wYXJpc3NvblxuICAgIGxldCBhdHRhY2tlclNjb3JlID0gMDtcbiAgICBsZXQgZGVmZW5kZXJTY29yZSA9IDA7XG5cbiAgICBjb25zdCBhdHRhY2tlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBhdHRhY2tlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBhdHRhY2tlcklkKTtcbiAgICBjb25zdCBhdHRhY2tlck5vZGUgPSBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGxldCBkZWZlbmRlcklkID0gYXJnc1sxXTtcbiAgICBsZXQgZGVmZW5kZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgZGVmZW5kZXJJZCk7XG4gICAgY29uc3QgZGVmZW5kZXJOb2RlID0gZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGF0dGFja2VySWQsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIGRlZmVuZGVySWQsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUpO1xuXG4gICAgY29uc3QgYXR0YWNrZXJXZWFwb25Ta2lsbCA9IGAke2F0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlcldlYXBvblNraWxsKTtcblxuICAgIGF0dGFja2VyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGF0dGFja2VyU2tpbGxUb3RhbCk7XG4gICAgZGVmZW5kZXJTY29yZSArPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJQcm94eS5za2lsbCk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGlzSW5Db3ZlciA9IGdhbWVNYXBQcm94eS5pc0luQ292ZXIoXG4gICAgICAgIG5ldyBwYy5WZWMzKGRlZmVuZGVyTm9kZS54LCBkZWZlbmRlck5vZGUueSwgZGVmZW5kZXJOb2RlLnopLFxuICAgICAgICBuZXcgcGMuVmVjMyhhdHRhY2tlck5vZGUueCwgYXR0YWNrZXJOb2RlLnksIGF0dGFja2VyTm9kZS56KSk7XG5cbiAgICBpZiAoaXNJbkNvdmVyKSB7XG4gICAgICAgIGRlZmVuZGVyU2NvcmUgKz0gMjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAvLyBUT0RPOiBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgY29uc3QgcHJvamVjdGlsZU9yaWdpbiA9IG5ldyBwYy5WZWMzKGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueCxcbiAgICAgICAgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS55ICsgMSwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZS56KTtcblxuICAgIGNvbnN0IHByb2plY3RpbGVUYXJnZXQgPSBuZXcgcGMuVmVjMyhkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICAvLyBSZWR1Y2UgYWN0aW9uc1xuICAgIGF0dGFja2VyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyAtPSAxO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgYXR0YWNrZXJJZCk7XG4gICAgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5jcmVhdGVQcm9qZWN0aWxlKCdjcm9zc2Jvd19ib2x0JywgcHJvamVjdGlsZU9yaWdpbiwgcHJvamVjdGlsZVRhcmdldClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIG91dGNvbWVcbiAgICAgICAgICAgIGlmIChhdHRhY2tlclNjb3JlID4gZGVmZW5kZXJTY29yZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGFyZ2V0IGlzIGluIG1lbGVlIGFuZCByb2xsIGZvciBuZXcgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tYmF0UHJveHkpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWlnaGJvdXJpbmdOb2RlcyA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtkZWZlbmRlcklkXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIGNvbWJhdFByb3h5LnBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJ0aWNpcGFudFByb3h5LmlzRGVhZCAmJiBuZWlnaGJvdXJpbmdOb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGFydGljaXBhbnRQcm94eS5jdXJyZW50Tm9kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVUYXJnZXRzLnB1c2gocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZW5kZXJJZCA9IHBvc3NpYmxlVGFyZ2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZVRhcmdldHMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNrZXIgd2luc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRpZXIgPSBkZXRlcm1pbmVEYW1hZ2VUaWVyKGF0dGFja2VyU2NvcmUsIGRlZmVuZGVyU2NvcmUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IHdlYXBvbnNQcm94eS5nZXREYW1hZ2UoYXR0YWNrZXJQcm94eS5lcXVpcHBlZFdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmZW5kZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERlZmVuZGVyIHdpbnNcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZG9kZ2VcIiwgZGVmZW5kZXJQcm94eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICBpZiAoY29tYmF0UHJveHkgJiYgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgYXR0YWNrZXJJZCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBXZWFwb25Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRNb2RlID09PSBnYW1lcGxheU1vZGVUeXBlcy5DT01CQVQpIHtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgTXVzdCBjaGFuZ2Ugd2VhcG9uIG9uIHlvdXIgdHVybmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHdlYXBvbiA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uID0gd2VhcG9uO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7Y2hhcmFjdGVySWR9IGVxdWlwcyAke3dlYXBvbn1gKTtcblxufSIsImltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gYXJnc1sxXTtcbiAgICBjb25zdCBkZXN0aW5hdGlvblBvcnRhbCA9IGFyZ3NbMl07XG5cbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc3RhbmRpbmdOb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZShzdGFuZGluZ1Bvc2l0aW9uKTtcbiAgICBjb25zdCBwbGF5ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBwbGF5ZXJNZWRpYXRvci5tb3ZlVG9Ob2RlV2l0aFByb21pc2Uoc3RhbmRpbmdOb2RlKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FLCBkZXN0aW5hdGlvblNjZW5lLCBkZXN0aW5hdGlvblBvcnRhbCk7XG4gICAgICAgIH0pO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgcG9ydGFsSWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDUyMzMzNik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcbiAgICBjb25zdCBwbGF5ZXJFbnRpdHkgPSBwbGF5ZXJDaGFyYWN0ZXJBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIGNvbnRhaW5lci5hZGRDaGlsZChwbGF5ZXJFbnRpdHkpO1xuXG4gICAgY29uc3QgbWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgcG9ydGFsID0gbWFwUHJveHkucmV0cmlldmVQb3J0YWwocG9ydGFsSWQpO1xuICAgIHBsYXllckVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvcnRhbC5zdGFuZGluZ1BvaW50KTtcblxuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGtDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlcklkID0gYXJnc1swXTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG5cbiAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgaWYgKHBhdGhUb1RhcmdldCkge1xuICAgICAgICBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGhUb1RhcmdldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfRElBTE9HVUUsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhwbGF5ZXJOb2RlKSk7XG5cbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAvLyBBbHJlYWR5IHRoZXJlXG4gICAgICAgIHJldHVybiBbcGxheWVyTm9kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgICAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG9ydGVzdFBhdGggfHwgKG90aGVyUGF0aCAmJiBvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoID0gb3RoZXJQYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydERpYWxvZ3VlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZXN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKVxuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgY29uc3QgZGlhbG9ndWVUcmVlID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuZGlhbG9ndWVUcmVlO1xuICAgIGNvbnN0IHN0b3J5VHJlZSA9IHN0b3J5UHJveHkuc3RhcnREaWFsb2d1ZVRyZWUoZGlhbG9ndWVUcmVlKTtcblxuICAgIGdhbWVzdGF0ZVByb3h5LnVwZGF0ZUdhbWVTdGF0ZVR5cGUoZ2FtZXBsYXlNb2RlVHlwZXMuRElBTE9HVUUpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRhcmdldENoYXJhY3RlcklkLCBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUwpO1xuXG4gICAgY29uc3Qgb3BlbmluZ1N0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgdHJlZUlkOiBkaWFsb2d1ZVRyZWUsXG4gICAgICAgIHN0ZXA6IG9wZW5pbmdTdGVwXG4gICAgfSk7XG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBTdG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgbmV4dFN0ZXAgPSBzdG9yeVByb3h5LmNvbnRpbnVlQ3VycmVudE5vZGVTdGVwKCk7XG4gICAgaWYgKG5leHRTdGVwKSB7XG5cbiAgICAgICAgaWYgKG5leHRTdGVwLmNob2ljZXMpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90aWZpY2F0aW9uIG9mIG5leHRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24ubmFtZSwgLi4ubm90aWZpY2F0aW9uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXBcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGNob2ljZUluZGV4ID0gYXJnc1swXTtcbiAgICBjb25zdCBzdG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoU3RvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBzZWxlY3RlZENob2ljZSA9IHN0b3J5UHJveHkuc2VsZWN0Q2hvaWNlKGNob2ljZUluZGV4KTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICB0aXRsZTogXCJZT1VcIixcbiAgICAgICAgdGV4dDogc2VsZWN0ZWRDaG9pY2UudGV4dCxcbiAgICAgICAgdGl0bGVDb2xvdXI6ICcjREI4MzFDJ1xuICAgIH1cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICBzdGVwOiByZXNwb25zZVxuICAgIH0pO1xuXG4gICAgaWYgKHNlbGVjdGVkQ2hvaWNlLnRlc3QpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCwgc2VsZWN0ZWRDaG9pY2UudGVzdCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc2VsZWN0ZWRDaG9pY2UuZ290bykge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHNlbGVjdGVkQ2hvaWNlLmdvdG8pO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3QgbmV3Tm9kZSA9IGFyZ3NbMF07XG4gICAgc3RvcnlQcm94eS5nb1RvTm9kZShuZXdOb2RlKTtcbiAgICBjb25zdCBjdXJyZW50U3RlcCA9IHN0b3J5UHJveHkuZ2V0Q3VycmVudE5vZGVTdGVwKCk7XG5cbiAgICBpZiAoY3VycmVudFN0ZXApIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCwge1xuICAgICAgICAgICAgdHJlZUlkOiBzdG9yeVByb3h5LmN1cnJlbnRUcmVlLFxuICAgICAgICAgICAgc3RlcDogY3VycmVudFN0ZXBcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKipcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRTdGVwKTtcblxuICAgICAgICBpZiAoY3VycmVudFN0ZXAubm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBub3RpZmljYXRpb24gb2YgY3VycmVudFN0ZXAubm90aWZpY2F0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTSE9PVCBDT01NQU5EOiAke25vdGlmaWNhdGlvbi5uYW1lfWApO1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5uYW1lLCAuLi5ub3RpZmljYXRpb24uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0RJQUxPR1VFKTtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZERpYWxvZ3VlQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgZ2FtZXN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lc3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcblxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUwpO1xuXG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuXG4gICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoVG9UYXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllckNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgY29uc3QgaXNBZGphY2VudCA9IGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyhwbGF5ZXJOb2RlKSk7XG5cbiAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAvLyBBbHJlYWR5IHRoZXJlXG4gICAgICAgIHJldHVybiBbcGxheWVyTm9kZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdW5vY2N1cGllZE5vZGVzID0gY29ubmVjdGVkTm9kZXMuZmlsdGVyKG5vZGUgPT4gIW5vZGUub2NjdXBpZWQpO1xuICAgICAgICBpZiAodW5vY2N1cGllZE5vZGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgbGV0IHNob3J0ZXN0UGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgocGxheWVyTm9kZSwgdW5vY2N1cGllZE5vZGVzWzBdKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB1bm9jY3VwaWVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyUGF0aC5sZW5ndGggPCBzaG9ydGVzdFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgbmV3QWN0aW9uID0gYXJnc1swXTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPSBuZXdBY3Rpb247XG5cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHRlc3QgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGNvbnN0IHBsYXllclNraWxsID0gY2hhcmFjdGVyUHJveHkuZ2V0U2tpbGxUb3RhbCh0ZXN0LnNraWxsKVxuXG4gICAgLy8gUm9sbCBkaWNlXG4gICAgY29uc3QgZGllMSA9IHJvbGxEaWNlKCk7XG4gICAgY29uc3QgZGllMiA9IHJvbGxEaWNlKCk7XG5cbiAgICBjb25zdCB0b3RhbFJvbGwgPSBkaWUxICsgZGllMjtcblxuICAgIGNvbnN0IHN1Y2Nlc3MgPSBwbGF5ZXJTa2lsbCA+PSB0b3RhbFJvbGw7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNULCB0ZXN0LnNraWxsLCBwbGF5ZXJTa2lsbCwgZGllMSwgZGllMiwgc3VjY2Vzcyk7XG5cbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2VlZGVkICR7dGVzdC5za2lsbH0gd2l0aCBhICR7cGxheWVyU2tpbGx9IHZzICR7ZGllMX0rJHtkaWUyfWApO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuR09fVE9fRElBTE9HVUVfTk9ERSwgdGVzdC5zdWNjZXNzLmdvdG8pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYEZhaWxlZCAke3Rlc3Quc2tpbGx9IHdpdGggYSAke3BsYXllclNraWxsfSB2cyAke2RpZTF9KyR7ZGllMn1gKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHRlc3QuZmFpbHVyZS5nb3RvKTtcblxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEludmVudG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaW52ZW50b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJbnZlbnRvcnlQcm94eS5OQU1FKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCwgaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXMsIGludmVudG9yeVByb3h5LmVxdWlwbWVudFNsb3RzKTtcbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBJbnZlbnRvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBvcmlnaW5hbEluZGV4ID0gYXJnc1swXTtcbiAgICBjb25zdCBuZXdJbmRleCA9IGFyZ3NbMV07XG5cbiAgICBpbnZlbnRvcnlQcm94eS5yZW9yZGVySW52ZW50b3J5SXRlbShvcmlnaW5hbEluZGV4LCBuZXdJbmRleCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUwsIGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zLCBpbnZlbnRvcnlQcm94eS5lcXVpcG1lbnRTbG90cyk7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpbnZlbnRvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEludmVudG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGl0ZW1JbmRleCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZXF1aXBtZW50S2V5ID0gYXJnc1sxXTtcbiAgICBjb25zdCBpdGVtID0gaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXNbaXRlbUluZGV4XTtcblxuICAgIGludmVudG9yeVByb3h5LmF0dGVtcHRUb0VxdWlwSXRlbVRvU2xvdChlcXVpcG1lbnRLZXksIGl0ZW0pO1xuXG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gXCJ3ZWFwb25cIikge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBcInBsYXllclwiLCBpdGVtLmlkKTtcblxuICAgIH1cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTCwgaW52ZW50b3J5UHJveHkuaW52ZW50b3J5SXRlbXMsIGludmVudG9yeVByb3h5LmVxdWlwbWVudFNsb3RzKTtcblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IHBhcnNlR2FtZU1hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUGFyc2VHYW1lTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBzdGFydHVwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydHVwQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VTY2VuZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlU2NlbmVDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0Q29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgbmV4dENvbWJhdFR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0Um91bmRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRW5kQ29tYmF0VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgZW5lbXlUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kJztcbmltcG9ydCB7IHNlbGVjdGVkTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kJztcbmltcG9ydCB7IHNob3dXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0hpZGVXYWxrYWJsZUFyZWFDb21tYW5kJztcbmltcG9ydCB7IGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0F3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kJztcbmltcG9ydCB7IGVuZE1vdmVtZW50Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRNb3ZlbWVudENvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWRHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IG1vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kJztcbmltcG9ydCB7IGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9LaWxsR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kQ29tYmF0Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRDb21tYW5kJztcbmltcG9ydCB7IGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZVJhbmdlZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBXZWFwb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRocm91Z2hQb3J0YWxDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQnO1xuaW1wb3J0IHsgYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0FkZFBsYXllckNoYXJhY3RlclRvTWFwQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZFRhbGsnO1xuaW1wb3J0IHsgc3RhcnREaWFsb2d1ZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU3RhcnREaWFsb2d1ZUNvbW1hbmQnO1xuaW1wb3J0IHsgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NvbnRpbnVlRGlhbG9ndWVUZXh0Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kJztcbmltcG9ydCB7IGdvVG9EaWFsb2d1ZU5vZGVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0dvVG9EaWFsb2d1ZU5vZGVDb21tYW5kJztcbmltcG9ydCB7IGVuZERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQnO1xuaW1wb3J0IHsgbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1Jlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQnO1xuaW1wb3J0IHsgY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0NsaWNrSW52ZW50b3J5QnV0dG9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kJztcbmltcG9ydCB7IGVxdWlwSXRlbVRvU2xvdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRXF1aXBJdGVtVG9TbG90Q29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0ssIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGVuZENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBlcXVpcFdlYXBvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsIG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLLCBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9ESUFMT0dVRSwgc3RhcnREaWFsb2d1ZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09OVElOVUVfRElBTE9HVUVfTk9ERSwgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UsIHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUsIGVuZERpYWxvZ3VlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCwgcmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCk7XG5cbiAgICAgICAgLy8gSW52ZW50b3J5IGNvbW1hbmRzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DTElDS19JTlZFTlRPUllfQlVUVE9OLCBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVPUkRFUl9JTlZFVE9SWV9JVEVNLCByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfSVRFTV9UT19TTE9ULCBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kKTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY2xhc3MgQm90QmVoYXZpb3VyVHlwZXMge1xuICAgIHN0YXRpYyBnZXQgTk9ORSgpIHsgcmV0dXJuIDAgfTtcbiAgICBzdGF0aWMgZ2V0IEJBU0lDX01FTEVFKCkgeyByZXR1cm4gMSB9O1xuICAgIHN0YXRpYyBnZXQgQkFTSUNfUkFOR0VEKCkgeyByZXR1cm4gMiB9O1xuXG59XG5cbmV4cG9ydCBjb25zdCBib3RCZWhhdmlvdXJFbnVtcyA9IFtcbiAgICB7IE5PTkU6IEJvdEJlaGF2aW91clR5cGVzLk5PTkUgfSxcbiAgICB7IEJBU0lDX01FTEVFOiBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRSB9LFxuICAgIHsgQkFTSUNfUkFOR0VEOiBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19SQU5HRUQgfSxcbl0iLCJleHBvcnQgY2xhc3MgR2FtZUNvbW1hbmRzIHtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENIQU5HRV9TQ0VORV9DT01QTEVURSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFQUF9JTklUSUFMSVNFRCgpIHsgcmV0dXJuIFwiQVBQX0lOSVRJQUxJU0VEXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBBUlNFX0dBTUVNQVAoKSB7IHJldHVybiBcIlBBUlNFX0dBTUVNQVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFQX0dSSURfQ1JFQVRFRCgpIHsgcmV0dXJuIFwiTUFQX0dSSURfQ1JFQVRFRFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fV0FZUE9JTlQoKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX1dBWVBPSU5UXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RIUk9VR0hfUE9SVEFMKCkgeyByZXR1cm4gXCJOQVZJR0FURV9USFJPVUdIX1BPUlRBTFwiIH07XG4gICAgc3RhdGljIGdldCBDT01CQVRfTkFWSUdBVEVfVE9fTk9ERSgpIHsgcmV0dXJuIFwiQ09NQkFUX05BVklHQVRFX1RPX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VUX0NBTUVSQV9UQVJHRVQoKSB7IHJldHVybiBcIlNFVF9DQU1FUkFfVEFSR0VUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IElOUFVUX0RSQUdfTU9VU0UoKSB7IHJldHVybiBcIklOUFVUX0RSQUdfTU9VU0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBNT1ZFRF9UT19OT0RFKCkgeyByZXR1cm4gXCJNT1ZFRF9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEZJTklTSEVEX01PVkUoKSB7IHJldHVybiBcIkZJTklTSEVEX01PVkVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBUlRfQ09NQkFUKCkgeyByZXR1cm4gXCJTVEFSVF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0hPV19UT0FTVF9NRVNTQUdFKCkgeyByZXR1cm4gXCJTSE9XX1RPQVNUX01FU1NBR0VcIiB9O1xuXG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5FWFRfQ09NQkFUX1JPVU5EKCkgeyByZXR1cm4gXCJORVhUX0NPTUJBVF9ST1VORFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVQoKSB7IHJldHVybiBcIkVORF9DT01CQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0NPTUJBVF9UVVJOKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5FTVlfVFVSTigpIHsgcmV0dXJuIFwiRU5FTVlfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBTRUxFQ1RFRF9OT0RFKCkgeyByZXR1cm4gXCJTRUxFQ1RFRF9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTigpIHsgcmV0dXJuIFwiREVURVJNSU5FX05FWFRfRU5FTVlfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfQUxPTkdfUEFUSCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfQUxPTkdfUEFUSFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiU0hPV19XQUxLQUJMRV9BUkVBXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfV0FMS0FCTEVfQVJFQSgpIHsgcmV0dXJuIFwiSElERV9XQUxLQUJMRV9BUkVBXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBFTkRfTU9WRU1FTlQoKSB7IHJldHVybiBcIkVORF9NT1ZFTUVOVFwiIH07XG4gICAgc3RhdGljIGdldCBBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUKCkgeyByZXR1cm4gXCJBV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DSEFSQUNURVJfVE9fTk9ERSgpIHsgcmV0dXJuIFwiU0VUX0NIQVJBQ1RFUl9UT19OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0dBTUVfQ0hBUkFDVEVSKCkgeyByZXR1cm4gXCJTRUxFQ1RfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBUT0dHTEVfQlVUVE9OKCkgeyByZXR1cm4gXCJUT0dHTEVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVVNFX1BMQVlFUl9BQ1RJT04oKSB7IHJldHVybiBcIlVTRV9QTEFZRVJfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfUkFOR0VEX0FUVEFDSygpIHsgcmV0dXJuIFwiUkVTT0xWRV9SQU5HRURfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDS1wiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVQREFURV9TVEFNSU5BKCkgeyByZXR1cm4gXCJVUERBVEVfU1RBTUlOQVwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0RFQVRIKCkgeyByZXR1cm4gXCJESVNQTEFZX0RFQVRIXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfQVRUQUNLKCkgeyByZXR1cm4gXCJESVNQTEFZX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0hJVCgpIHsgcmV0dXJuIFwiRElTUExBWV9ISVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgS0lMTF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiS0lMTF9HQU1FX0NIQVJBQ1RFUlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IENIQVJBQ1RFUl9MT09LX0FUKCkgeyByZXR1cm4gXCJDSEFSQUNURVJfTE9PS19BVFwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU1RBTUlOQSgpIHsgcmV0dXJuIFwiQ0hBTkdFX1NUQU1JTkFcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFUVVJUF9XRUFQT04oKSB7IHJldHVybiBcIkVRVUlQX1dFQVBPTlwiIH07XG4gICAgc3RhdGljIGdldCBVU0VfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfQUNUSU9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9GTE9BVElOR19TVEFUVVMoKSB7IHJldHVybiBcIkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUCgpIHsgcmV0dXJuIFwiQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEtcIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0soKSB7IHJldHVybiBcIk5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfRElBTE9HVUVfUEFORUwoKSB7IHJldHVybiBcIlNIT1dfRElBTE9HVUVfUEFORUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9ESUFMT0dVRV9QQU5FTCgpIHsgcmV0dXJuIFwiSElERV9ESUFMT0dVRV9QQU5FTFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKCkgeyByZXR1cm4gXCJTSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTlwiIH07XG4gICAgc3RhdGljIGdldCBISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTigpIHsgcmV0dXJuIFwiSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cIiB9O1xuXG4gICAgc3RhdGljIGdldCBESVNQTEFZX0RJQUxPR1VFX1NURVAoKSB7IHJldHVybiBcIkRJU1BMQVlfRElBTE9HVUVfU1RFUFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1QoKSB7IHJldHVybiBcIkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IENPTlRJTlVFX0RJQUxPR1VFX05PREUoKSB7IHJldHVybiBcIkNPTlRJTlVFX0RJQUxPR1VFX05PREVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VMRUNUX0RJQUxPR1VFX0NIT0lDRSgpIHsgcmV0dXJuIFwiU0VMRUNUX0RJQUxPR1VFX0NIT0lDRVwiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1QoKSB7IHJldHVybiBcIlJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVFwiIH07XG4gICAgc3RhdGljIGdldCBDTEVBUl9ESUFMT0dVRV9DSE9JQ0VTKCkgeyByZXR1cm4gXCJDTEVBUl9ESUFMT0dVRV9DSE9JQ0VTXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEdPX1RPX0RJQUxPR1VFX05PREUoKSB7IHJldHVybiBcIkdPX1RPX0RJQUxPR1VFX05PREVcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTVEFSVF9ESUFMT0dVRSgpIHsgcmV0dXJuIFwiU1RBUlRfRElBTE9HVUVcIiB9O1xuICAgIHN0YXRpYyBnZXQgRU5EX0RJQUxPR1VFKCkgeyByZXR1cm4gXCJFTkRfRElBTE9HVUVcIiB9O1xuXG5cbiAgICBzdGF0aWMgZ2V0IEdBTUVQTEFZX0FDVElPTl9DSEFOR0VEKCkgeyByZXR1cm4gXCJHQU1FUExBWV9BQ1RJT05fQ0hBTkdFRFwiIH07XG5cbiAgICAvLyBJbnZlbnRvcnkgQ29tbWFuZHNcbiAgICBzdGF0aWMgZ2V0IENMSUNLX0lOVkVOVE9SWV9CVVRUT04oKSB7IHJldHVybiBcIkNMSUNLX0lOVkVOVE9SWV9CVVRUT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9JTlZFTlRPUllfUEFORUwoKSB7IHJldHVybiBcIkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFJFT1JERVJfSU5WRVRPUllfSVRFTSgpIHsgcmV0dXJuIFwiUkVPUkRFUl9JTlZFVE9SWV9JVEVNXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVRVUlQX0lURU1fVE9fU0xPVCgpIHsgcmV0dXJuIFwiRVFVSVBfSVRFTV9UT19TTE9UXCIgfTtcblxufVxuIiwiZXhwb3J0IGNsYXNzIFdlYXBvblR5cGVzIHtcbiAgICAvLyBNRUxFRVxuICAgIHN0YXRpYyBnZXQgU1dPUkQoKSB7IHJldHVybiBcInN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEFYRSgpIHsgcmV0dXJuIFwiYXhlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtOSUZFKCkgeyByZXR1cm4gXCJrbmlmZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFGRigpIHsgcmV0dXJuIFwic3RhZmZcIiB9O1xuICAgIHN0YXRpYyBnZXQgSEFNTUVSKCkgeyByZXR1cm4gXCJoYW1tZXJcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1BFQVIoKSB7IHJldHVybiBcInNwZWFyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BQ0UoKSB7IHJldHVybiBcIm1hY2VcIiB9O1xuICAgIHN0YXRpYyBnZXQgUE9MRUFSTSgpIHsgcmV0dXJuIFwicG9sZWFybVwiIH07XG4gICAgc3RhdGljIGdldCBNQVVMKCkgeyByZXR1cm4gXCJtYXVsXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEdSRUFUU1dPUkQoKSB7IHJldHVybiBcImdyZWF0c3dvcmRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0xVQigpIHsgcmV0dXJuIFwiY2x1YlwiIH07XG4gICAgc3RhdGljIGdldCBVTkFSTUVEKCkgeyByZXR1cm4gXCJ1bmFybWVkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNISUVMRCgpIHsgcmV0dXJuIFwic2hpZWxkXCIgfTtcblxuICAgIC8vIFJBTkdFRFxuICAgIHN0YXRpYyBnZXQgRlVTSUwoKSB7IHJldHVybiBcImZ1c2lsXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEJPVygpIHsgcmV0dXJuIFwiYm93XCIgfTtcbiAgICBzdGF0aWMgZ2V0IENST1NTQk9XKCkgeyByZXR1cm4gXCJjcm9zc2Jvd1wiIH07XG4gICAgc3RhdGljIGdldCBQSVNUT0xFVCgpIHsgcmV0dXJuIFwicGlzdG9sZXRcIiB9O1xufVxuXG5leHBvcnQgY29uc3Qgd2VhcG9uRW51bXMgPSBPYmplY3QuZW50cmllcyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhXZWFwb25UeXBlcykpXG4gICAgLmZpbHRlcigoW2tleSwgZGVzY3JpcHRvcl0pID0+IHR5cGVvZiBkZXNjcmlwdG9yLmdldCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAubWFwKChba2V5XSkgPT4ge1xuICAgICAgICByZXR1cm4geyBba2V5XTogV2VhcG9uVHlwZXNba2V5XSB9O1xuICAgIH0pOyIsImV4cG9ydCBjbGFzcyBDb21iYXRWTyB7XG4gICAgY29uc3RydWN0b3IocGFydGljaXBhbnRzLCB0ZWFtcykge1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50cztcbiAgICAgICAgdGhpcy5yb3VuZEluaXRpYXRpdmUgPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmVQYXJ0aWNpcGFudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50ZWFtcyA9IHRlYW1zO1xuICAgIH1cblxuICAgIGdldCBuZXh0VHVybkNoYXJhY3RlcklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3VuZEluaXRpYXRpdmVbMF07XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUNoYXJhY3RlclZPIH0gPSByZXF1aXJlKCcuL0dhbWVDaGFyYWN0ZXJWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3RlclByb3h5X1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJhbXMuaWQsIG5ldyBHYW1lQ2hhcmFjdGVyVk8ocGFyYW1zKSk7XG4gICAgfVxuXG4gICAgcmVzZXRDb21iYXRUdXJuU3RhdGUoKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLnZvLm1heE1vdmVtZW50O1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLnZvLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgIH1cblxuICAgIHVzZU1vdmVtZW50KGNvc3QpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCAtPSBjb3N0O1xuICAgIH1cblxuICAgIGFwcGx5RGFtYWdlKGRhbWFuZ2UpIHtcbiAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSAtPSBkYW1hbmdlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID0gTWF0aC5tYXgoMCwgdGhpcy52by5jdXJyZW50U3RhbWluYSk7XG5cbiAgICAgICAgaWYgKHRoaXMudm8uY3VycmVudFN0YW1pbmEgPiAwKSB7XG4gICAgICAgICAgICAvLyBBbGl2ZVxuICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuVVBEQVRFX1NUQU1JTkEgKyB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEsIHRoaXMudm8ubWF4aW11bVN0YW1pbmEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVhZFxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5pZH0gZGllZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NUQU1JTkEgKyB0aGlzLmlkLCB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hLCB0aGlzLnZvLm1heFN0YW1pbmEpO1xuICAgIH1cblxuICAgIGdldFNraWxsVG90YWwoc2tpbGxLZXkpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uYWR2YW5jZWRTa2lsbHMuaGFzKHNraWxsS2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2tpbGwgKyB0aGlzLnZvLmFkdmFuY2VkU2tpbGxzLmdldChza2lsbEtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5za2lsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaWQ7XG4gICAgfVxuXG4gICAgZ2V0IGRpYWxvZ3VlVHJlZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZGlhbG9ndWVUcmVlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudE5vZGU7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnROb2RlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudm8uY3VycmVudE5vZGUub2NjdXBpZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBjb21iYXRHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY29tYmF0R3JvdXA7XG4gICAgfVxuXG4gICAgZ2V0IGlzTlBDKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pc05QQztcbiAgICB9XG5cbiAgICBnZXQgYXZhaWxhYmxlTW92ZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50O1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVNb3ZlbWVudCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZUFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmF2YWlsYWJsZUFjdGlvbnM7XG4gICAgfVxuXG4gICAgc2V0IGF2YWlsYWJsZUFjdGlvbnModmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVBY3Rpb25zID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyB0aGlzLmlkLFxuICAgICAgICAgICAgdGhpcy5hdmFpbGFibGVBY3Rpb25zLCB0aGlzLm1heEFjdGlvbnNQZXJUdXJuKTtcbiAgICB9XG5cbiAgICBnZXQgbWF4QWN0aW9uc1BlclR1cm4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgIH1cblxuICAgIGdldCBza2lsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2tpbGw7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTdGFtaW5hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEx1Y2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hO1xuICAgIH1cblxuICAgIGdldCBpc0RlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hIDw9IDA7XG4gICAgfVxuXG4gICAgZ2V0IGJvdEJlaGF2aW91cigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uYm90QmVoYXZpb3VyO1xuICAgIH1cblxuICAgIGdldCBlcXVpcHBlZFdlYXBvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZXF1aXBwZWRXZWFwb247XG4gICAgfVxuXG4gICAgc2V0IGVxdWlwcGVkV2VhcG9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uZXF1aXBwZWRXZWFwb24gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5oZWlnaHQ7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclZPIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IHBhcmFtcy5pZDtcbiAgICAgICAgdGhpcy5pc05QQyA9IHBhcmFtcy5pc05QQztcbiAgICAgICAgdGhpcy5jb21iYXRHcm91cCA9IHBhcmFtcy5jb21iYXRHcm91cCB8fCBbXTtcbiAgICAgICAgdGhpcy5kaWFsb2d1ZVRyZWUgPSBwYXJhbXMuZGlhbG9ndWVUcmVlIHx8IHRoaXMuaWQ7XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gVHJvaWthIHN0YXRzXG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IHBhcmFtcy5pbml0aWF0aXZlIHx8IDI7XG4gICAgICAgIHRoaXMubWF4TW92ZW1lbnQgPSBwYXJhbXMubWF4TW92ZW1lbnQgfHwgNjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJhbXMuaGVpZ2h0IHx8IDEuODtcbiAgICAgICAgdGhpcy5tYXhBY3Rpb25zUGVyVHVybiA9IDE7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlTW92ZW1lbnQgPSB0aGlzLm1heE1vdmVtZW50O1xuXG4gICAgICAgIHRoaXMuc2tpbGwgPSBwYXJhbXMuc2tpbGwgfHwgMTtcblxuICAgICAgICB0aGlzLm1heFN0YW1pbmEgPSBwYXJhbXMubWF4U3RhbWluYSB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGFtaW5hID0gdGhpcy5tYXhTdGFtaW5hO1xuXG4gICAgICAgIHRoaXMubWF4THVjayA9IHBhcmFtcy5tYXhMdWNrIHx8IDE7XG4gICAgICAgIHRoaXMuY3VycmVudEx1Y2sgPSB0aGlzLm1heEx1Y2s7XG5cbiAgICAgICAgdGhpcy5hZHZhbmNlZFNraWxscyA9IHBhcmFtcy5hZHZhbmNlZFNraWxscyB8fCBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5ib3RCZWhhdmlvdXIgPSBwYXJhbXMuYm90QmVoYXZpb3VyIHx8IDA7XG5cbiAgICAgICAgdGhpcy5lcXVpcHBlZFdlYXBvbiA9IHBhcmFtcy5lcXVpcHBlZFdlYXBvbiB8fCBcInVuYXJtZWRcIjtcblxuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4vbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBnZXRBZGphY2VudFBvaW50cyB9IGZyb20gJy4uLy4uL3V0aWxzL0FkamFjZW50UG9pbnRzJztcbmNvbnN0IHsgR2FtZU1hcFZPIH0gPSByZXF1aXJlKCcuL0dhbWVNYXBWTycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1hcFByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVNYXBQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihtYXBHcmlkLCB3YWxsQm91bmRpbmdCb3hlcywgY292ZXIsIHBvcnRhbHMsIG5hdkdyaWQpIHtcbiAgICAgICAgc3VwZXIoR2FtZU1hcFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgICBtYXBHcmlkOiBtYXBHcmlkLFxuICAgICAgICAgICAgd2FsbEJvdW5kaW5nQm94ZXM6IHdhbGxCb3VuZGluZ0JveGVzLFxuICAgICAgICAgICAgY292ZXI6IGNvdmVyLFxuICAgICAgICAgICAgcG9ydGFsczogcG9ydGFscyxcbiAgICAgICAgICAgIG5hdmlnYXRpb25HcmlkOiBuYXZHcmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIoKSB7XG5cbiAgICB9XG5cbiAgICBmaW5kTmVhcmVzdE5vZGUodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbWFwR3JpZCA9IHRoaXMudm8ubWFwR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBtYXBHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG1hcEdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3RXYXlwb2ludCh0YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBuYXZHcmlkID0gdGhpcy52by5uYXZpZ2F0aW9uR3JpZDtcblxuICAgICAgICBsZXQgbmVhcmVzdE5vZGUgPSBuYXZHcmlkWzBdO1xuICAgICAgICBsZXQgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobmVhcmVzdE5vZGUsIHRhcmdldFBvaW50KTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIG5hdkdyaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgICAgIGlmIChkaXN0VG9Ob2RlIDwgZGlzdFNxcnRUb05lYXJlc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG4gICAgfVxuXG4gICAgcmF5SW50ZXJzZWN0c1dhbGwoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlKHRvKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdG8uY2xvbmUoKS5zdWIoZnJvbS5jbG9uZSgpKS5ub3JtYWxpemUoKTtcbiAgICAgICAgY29uc3QgcmF5ID0gbmV3IHBjLlJheShmcm9tLCBkaXJlY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IG1hcFdhbGxzID0gdGhpcy52by53YWxsQm91bmRpbmdCb3hlcztcbiAgICAgICAgZm9yIChjb25zdCB3YWxsIG9mIG1hcFdhbGxzKSB7XG4gICAgICAgICAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB3YWxsLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb0hpdCA9IGhpdFBvc2l0aW9uLmRpc3RhbmNlKGZyb20pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9IaXQgPCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGNvdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jb3ZlcjtcbiAgICB9XG5cblxuICAgIGlzSW5Db3Zlcih0YXJnZXRQb2ludCwgYXR0YWNraW5nRnJvbSkge1xuICAgICAgICBjb25zdCBhZGphY2VudENvdmVyUG9pbnRzID0gW107XG4gICAgICAgIGNvbnN0IGFkamFjZW50UG9pbnRzID0gZ2V0QWRqYWNlbnRQb2ludHModGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRQb2ludCBvZiBhZGphY2VudFBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlID0gdGhpcy5jb3Zlci5maW5kKChjb3ZlclBvaW50KSA9PiBhZGphY2VudFBvaW50LmVxdWFscyhjb3ZlclBvaW50KSk7XG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdOb2RlKSB7XG4gICAgICAgICAgICAgICAgYWRqYWNlbnRDb3ZlclBvaW50cy5wdXNoKGFkamFjZW50UG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFkamFjZW50Q292ZXJQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IHRhcmdldFBvaW50LmRpc3RhbmNlKGF0dGFja2luZ0Zyb20pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhZGphY2VudENvdmVyUG9pbnQgb2YgYWRqYWNlbnRDb3ZlclBvaW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9Db3ZlciA9IGFkamFjZW50Q292ZXJQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb0NvdmVyIDwgZGlzdGFuY2VUb1RhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXRyaWV2ZVBvcnRhbChwb3J0YWxJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5wb3J0YWxzLmdldChwb3J0YWxJZCk7XG4gICAgfVxuXG4gICAgaGFzVmFsaWRMaW5lKG5vZGVBLCBub2RlQikge1xuICAgICAgICBjb25zdCBsaW5lID0gQXN0YXIuY2FsY3VsYXRlQnJlc2VuaGFtTGluZShub2RlQS54LCBub2RlQS56LCBub2RlQi54LCBub2RlQi56KTtcbiAgICAgICAgcmV0dXJuIEFzdGFyLmNoZWNrVmFsaWRMaW5lKGxpbmUsIHRoaXMudm8ubWFwR3JpZCk7XG4gICAgfVxuXG4gICAgaGFzVmFsaWROb2RlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ubWFwR3JpZC5zb21lKG4gPT4gbi5lcXVhbHMobm9kZSkpO1xuXG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEFkamFjZW50UG9pbnRzKHBvaW50KSB7XG4gICAgY29uc3QgcG9pbnRzID0gW11cbiAgICAvL05vcnRoXG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCwgcG9pbnQueSwgcG9pbnQueiAtIDEpKTtcbiAgICAvL0Vhc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54ICsgMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vV2VzdFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LnggLSAxLCBwb2ludC55LCBwb2ludC56KSk7XG4gICAgLy9Tb3V0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogKyAxKSk7XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufSIsImV4cG9ydCBjbGFzcyBHYW1lTWFwVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1hcEdyaWQgPSBbXTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFByaW9yaXR5UXVldWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB9XG5cbiAgICBwdXNoKHZhbHVlLCBwcmlvcml0eSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5wdXNoKHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IHRoaXMuZGF0YVtpXS5wcmlvcml0eTtcbiAgICAgICAgICAgIGlmIChNYXRoLm1pbihtaW4sIHByaW9yaXR5KSA9PT0gcHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBtaW4gPSBwcmlvcml0eTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zcGxpY2UoaW5kZXgsIDEpWzBdLnZhbHVlO1xuICAgIH1cblxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoXG4gICAgfVxuXG4gICAgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoID09PSAwO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQcmlvcml0eVF1ZXVlIH0gZnJvbSAnLi9Qcmlvcml0eVF1ZXVlJztcblxuZXhwb3J0IGNsYXNzIEFzdGFyIHtcbiAgICBzdGF0aWMgYnJlYWR0aEZpcnN0U2VhcmNoKHN0YXJ0LCByYW5nZUxpbWl0KSB7XG4gICAgICAgIGxldCBmcm9udGllciA9IFtdO1xuICAgICAgICBjb25zdCBzZWFyY2hlZEFyZWEgPSBbXTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuXG4gICAgICAgIGxldCByYW5nZSA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGZyb250aWVyLmxlbmd0aCA+IDAgJiYgcmFuZ2UgPCByYW5nZUxpbWl0KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGcm9udGllciA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjdXJyZW50IG9mIGZyb250aWVyKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5vY2N1cGllZCAmJiAoIWNhbWVGcm9tLmhhcyhuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Zyb250aWVyLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hlZEFyZWEucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbWVGcm9tLnNldChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnJvbnRpZXIgPSBuZXdGcm9udGllcjtcblxuICAgICAgICAgICAgcmFuZ2UrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWFyY2hlZEFyZWE7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlUGF0aChzdGFydCwgZ29hbCkge1xuICAgICAgICBjb25zdCBmcm9udGllciA9IG5ldyBQcmlvcml0eVF1ZXVlKCk7XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQsIDApO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjb3N0U29GYXIgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgY2FtZUZyb20uc2V0KHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIGNvc3RTb0Zhci5zZXQoc3RhcnQsIDApO1xuXG4gICAgICAgIHdoaWxlICghZnJvbnRpZXIuZW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGZyb250aWVyLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50LmNvbm5lY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGN1cnJlbnQuY29ubmVjdGVkTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDb3N0ID0gY29zdFNvRmFyLmdldChjdXJyZW50KSArIDE7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjb3N0U29GYXIuaGFzKG5leHQpIHx8IG5ld0Nvc3QgPCBjb3N0U29GYXIuZ2V0KG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3N0U29GYXIuc2V0KG5leHQsIG5ld0Nvc3QpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSBuZXdDb3N0ICsgdGhpcy5oZXVyaXN0aWMobmV4dCwgZ29hbCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb250aWVyLnB1c2gobmV4dCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IGdvYWw7XG4gICAgICAgIGxldCBwYXRoSXNCcm9rZW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG5cbiAgICAgICAgd2hpbGUgKCFjdXJyZW50LmVxdWFscyhzdGFydCkgJiYgIXBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgaWYgKGNhbWVGcm9tLmhhcyhjdXJyZW50KSB8fCAhY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2FtZUZyb20uZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aElzQnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3BhdGgucHVzaChzdGFydCk7XG4gICAgICAgICAgICAvLyBwYXRoLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVdheXBvaW50c1BhdGgoc3RhcnQsIGdvYWwpIHtcbiAgICAgICAgY29uc3QgZnJvbnRpZXIgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0LCAwKTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY29zdFNvRmFyID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuICAgICAgICBjb3N0U29GYXIuc2V0KHN0YXJ0LCAwKTtcblxuICAgICAgICB3aGlsZSAoIWZyb250aWVyLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBmcm9udGllci5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29zdCA9IGNvc3RTb0Zhci5nZXQoY3VycmVudCkgKyBkaXN0VmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjb3N0U29GYXIuaGFzKG5leHQpIHx8IG5ld0Nvc3QgPCBjb3N0U29GYXIuZ2V0KG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb3N0U29GYXIuc2V0KG5leHQsIG5ld0Nvc3QpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSBuZXdDb3N0ICsgdGhpcy5oZXVyaXN0aWMobmV4dCwgZ29hbCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb250aWVyLnB1c2gobmV4dCwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IGdvYWw7XG4gICAgICAgIGxldCBwYXRoSXNCcm9rZW4gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG5cbiAgICAgICAgd2hpbGUgKCFjdXJyZW50LmVxdWFscyhzdGFydCkgJiYgIXBhdGhJc0Jyb2tlbikge1xuICAgICAgICAgICAgaWYgKGNhbWVGcm9tLmhhcyhjdXJyZW50KSB8fCAhY3VycmVudC5lcXVhbHMoZ29hbCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY2FtZUZyb20uZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aElzQnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3BhdGgucHVzaChzdGFydCk7XG4gICAgICAgICAgICAvLyBwYXRoLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldERpc3RTcXVhcmVkKHB0MSwgcHQyKSB7XG4gICAgICAgIHJldHVybiAoKHB0MS54IC0gcHQyLngpICogKHB0MS54IC0gcHQyLngpXG4gICAgICAgICAgICArIChwdDEueSAtIHB0Mi55KSAqIChwdDEueSAtIHB0Mi55KVxuICAgICAgICAgICAgKyAocHQxLnogLSBwdDIueikgKiAocHQxLnogLSBwdDIueikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBoZXVyaXN0aWMoYSwgYikge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoYS54IC0gYi54KSArIE1hdGguYWJzKGEueSAtIGIueSkgKyBNYXRoLmFicyhhLnogLSBiLnopO1xuICAgIH1cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVCcmVzZW5oYW1MaW5lKHgwLCB6MCwgeDEsIHoxKSB7XG4gICAgICAgIGxldCBkeCA9IHgxIC0geDA7XG4gICAgICAgIGxldCBkeSA9IHoxIC0gejA7XG4gICAgICAgIGxldCBueCA9IE1hdGguYWJzKGR4KTtcbiAgICAgICAgbGV0IG55ID0gTWF0aC5hYnMoZHkpO1xuXG4gICAgICAgIGNvbnN0IHNpZ25feCA9IGR4ID4gMCA/IDEgOiAtMTtcbiAgICAgICAgY29uc3Qgc2lnbl95ID0gZHkgPiAwID8gMSA6IC0xO1xuXG5cbiAgICAgICAgY29uc3QgcCA9IHsgeDogeDAsIHk6IDAsIHo6IHowIH07XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGl4ID0gMCwgaXkgPSAwOyBpeCA8IG54IHx8IGl5IDwgbnk7KSB7XG4gICAgICAgICAgICBpZiAoKDAuNSArIGl4KSAvIG54IDwgKDAuNSArIGl5KSAvIG55KSB7XG4gICAgICAgICAgICAgICAgLy8gbmV4dCBzdGVwIGlzIGhvcml6b250YWxcbiAgICAgICAgICAgICAgICBwLnggKz0gc2lnbl94O1xuICAgICAgICAgICAgICAgIGl4Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5leHQgc3RlcCBpcyB2ZXJ0aWNhbFxuICAgICAgICAgICAgICAgIHAueiArPSBzaWduX3k7XG4gICAgICAgICAgICAgICAgaXkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHsgeDogcC54LCB5OiAwLCB6OiBwLnogfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuXG4gICAgfVxuXG4gICAgc3RhdGljIGNoZWNrVmFsaWRMaW5lKGxpbmUsIG1hcCkge1xuICAgICAgICBsZXQgaXNWYWxpZExpbmUgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IHBvaW50IG9mIGxpbmUpIHtcbiAgICAgICAgICAgIGlmICghbWFwLnNvbWUobiA9PiBuLmVxdWFscyhwb2ludCkpKSB7XG4gICAgICAgICAgICAgICAgaXNWYWxpZExpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc1ZhbGlkTGluZTtcbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lU3RhdGVWTyB9ID0gcmVxdWlyZSgnLi9HYW1lU3RhdGVWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhdGVQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lU3RhdGVQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoR2FtZVN0YXRlUHJveHkuTkFNRSwgbmV3IEdhbWVTdGF0ZVZPKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUdhbWVTdGF0ZVR5cGUobmV3U3RhdGVUeXBlKSB7XG4gICAgICAgIHRoaXMudm8uZ2FtZXBsYXlNb2RlID0gbmV3U3RhdGVUeXBlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50TW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZ2FtZXBsYXlNb2RlO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50QWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5zZWxlY3RlZEFjdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudEFjdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLnNlbGVjdGVkQWN0aW9uID0gdmFsdWU7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGdhbWVwbGF5TW9kZVR5cGVzID0ge1xuICAgIEVYUExPUkFUSU9OOiAnRVhQTE9SQVRJT04nLFxuICAgIENPTUJBVDogJ0NPTUJBVCcsXG4gICAgRElBTE9HVUU6ICdESUFMT0dVRScsXG4gICAgR0FNRV9PVkVSOiAnR0FNRV9PVkVSJyxcblxufVxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlVk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWVwbGF5TW9kZSA9IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQWN0aW9uID0gXCJub25lXCI7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBJbnZlbnRvcnlJdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplID8/IDE7XG4gICAgICAgIHRoaXMuZXF1aXBwYWJsZSA9IGRhdGEuZXF1aXBwYWJsZSA/PyBmYWxzZTtcbiAgICB9XG59IiwiaW1wb3J0IHsgSW52ZW50b3J5SXRlbSB9IGZyb20gXCIuL2l0ZW1zL0ludmVudG9yeUl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLmVxdWlwbWVudFNsb3RzID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNvbnN0IHN3b3JkV2VhcG9uID0ge1xuICAgICAgICAgICAgaWQ6ICdzd29yZCcsXG4gICAgICAgICAgICBuYW1lOiAnQmFzaWMgU3dvcmQnLFxuICAgICAgICAgICAgdHlwZTogJ3dlYXBvbidcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBib3dXZWFwb24gPSB7XG4gICAgICAgICAgICBpZDogJ2JvdycsXG4gICAgICAgICAgICBuYW1lOiAnQm93JyxcbiAgICAgICAgICAgIHR5cGU6ICd3ZWFwb24nXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZnVzaWxXZWFwb24gPSB7XG4gICAgICAgICAgICBpZDogJ2Z1c2lsJyxcbiAgICAgICAgICAgIG5hbWU6ICdGdXNpbCcsXG4gICAgICAgICAgICB0eXBlOiAnd2VhcG9uJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFybW91ciA9IHtcbiAgICAgICAgICAgIGlkOiAnYXJtb3VyJyxcbiAgICAgICAgICAgIG5hbWU6ICdBcm1vdXInLFxuICAgICAgICAgICAgdHlwZTogJ2FybW91cicsXG4gICAgICAgICAgICBzaXplOiAzXG4gICAgICAgIH07XG5cblxuICAgICAgICB0aGlzLmFkZEl0ZW0oc3dvcmRXZWFwb24pO1xuICAgICAgICB0aGlzLmFkZEl0ZW0oYm93V2VhcG9uKTtcbiAgICAgICAgdGhpcy5hZGRJdGVtKGFybW91cik7XG4gICAgICAgIHRoaXMuYWRkSXRlbShzd29yZFdlYXBvbik7XG4gICAgICAgIHRoaXMuYWRkSXRlbShmdXNpbFdlYXBvbik7XG4gICAgICAgIHRoaXMuYWRkSXRlbShib3dXZWFwb24pO1xuXG4gICAgfVxuXG4gICAgYWRkSXRlbShpdGVtRGF0YSkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnB1c2goXG4gICAgICAgICAgICBuZXcgSW52ZW50b3J5SXRlbShpdGVtRGF0YSlcbiAgICAgICAgKTtcbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgU3RvcnlWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG59IiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9Bc3Rhcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lQ2hhcmFjdGVyTWVkaWF0b3JfXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKGlkLCB2aWV3Q29tcG9uZW50LCBwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICBzdXBlcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIGlkKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuXG4gICAgICAgIGxldCBub3RpZmljYXRpb25zID0gW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19XQVlQT0lOVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX0NIQVJBQ1RFUl9UT19OT0RFICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRFxuXG4gICAgICAgIF07XG5cbiAgICAgICAgbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnMuY29uY2F0KHByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25zKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vZmYoJ3VwZGF0ZUN1cnJlbnROb2RlJywgdGhpcy51cGRhdGVDdXJyZW50Tm9kZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCdmaW5pc2hlZE1vdmUnLCB0aGlzLmhhbmRsZUZpbmlzaGVkTW9kZSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy52aWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZmlyZShub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qgc2NyaXB0S2V5IGluIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHQpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0LCBzY3JpcHRLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtzY3JpcHRLZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY3JpcHRDb21wb25lbnQuaGFuZGxlTm90aWZpY2F0aW9uID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCB0aGlzLmlkLCAuLi5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0YXJ0Q29tYmF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19OT0RFICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVUb1dheXBvaW50KGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgY29uc3QgbG9va1BvaW50ID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobG9va1BvaW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfREVBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGhpdGJveCA9IHRoaXMudmlld0NvbXBvbmVudC5maW5kQnlOYW1lKFwiSGl0Ym94XCIpO1xuICAgICAgICAgICAgICAgIGlmIChoaXRib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0Ym94LmZpcmUoJ3N0b3BMaXN0ZW5pbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVEZWF0aCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlQXR0YWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmFuaW1hdGVIaXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlVG9Ob2RlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZVRvV2F5cG9pbnQodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy52aWV3Q29tcG9uZW50LmdldExvY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IG5lYXJlc3RXYXlwb2ludCA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdFdheXBvaW50KHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICBjb25zdCBuZWFyZXN0VGFyZ2V0V2F5cG9pbnQgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3RXYXlwb2ludCh0YXJnZXROb2RlKTtcblxuICAgICAgICAvKmNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVXYXlwb2ludHNQYXRoKG5lYXJlc3RXYXlwb2ludCwgbmVhcmVzdFRhcmdldFdheXBvaW50KTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaGFzTGluZVRvUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gMCAmJiBoYXNMaW5lVG9Qb2ludCkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbcGF0aC5sZW5ndGggLSAxXSwgY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzTGluZVRvUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWUgaWYgZW5kIG9mIHBhdGggY2FuIGJlIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoWzFdLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXRoLnVuc2hpZnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfSovXG5cbiAgICAgICAgLy8gSXMgc3RyYWlnaHQgbGluZT9cbiAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUoY3VycmVudE5vZGUsIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gW3RhcmdldE5vZGUsIGN1cnJlbnROb2RlXTtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVXYXlwb2ludHNQYXRoKG5lYXJlc3RXYXlwb2ludCwgbmVhcmVzdFRhcmdldFdheXBvaW50KTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGlmIGVuZCBvZiBwYXRoIGNhbiBiZSB0cmltbWVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbMV0sIHRhcmdldE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaGFzTGluZVRvUG9pbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDEgJiYgaGFzTGluZVRvUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFtwYXRoLmxlbmd0aCAtIDJdLCBjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNMaW5lVG9Qb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgocGF0aCkge1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICB9XG5cbiAgICBtb3ZlVG9Ob2RlV2l0aFByb21pc2UodGFyZ2V0Tm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgaWYgKCFnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpIHtcbiAgICAgICAgfVxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuXG5cbiAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLCB0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdmaW5pc2hlZE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2FuY2VsTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ3VycmVudE5vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgdGhpcy5pZCwgbmV3Tm9kZSk7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVGaW5pc2hlZE1vZGUobmV3Tm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5GSU5JU0hFRF9NT1ZFLCB0aGlzLmlkLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBsb29rRm9yQ2hhcmFjdGVyKGlkLCBub2RlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VhcmNoTm9kZSBvZiB0aGlzLnNlYXJjaEFyZWEpIHtcbiAgICAgICAgICAgIGlmIChzZWFyY2hOb2RlLmVxdWFscyhub2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5sb29rQXRQb2ludChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRoaXMudmlld0NvbXBvbmVudCwgW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVTdGFydENvbWJhdCgpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclZPID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpLnZvO1xuXG4gICAgICAgIC8vIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQoZ2FtZUNoYXJhY3RlclZPLmN1cnJlbnROb2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zdG9wTW92ZW1lbnQobm9kZSk7XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcblxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50J10uY3JlYXRlUHJvamVjdGlsZSh0eXBlLCBvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBHYW1lRmFjYWRlIH0gPSByZXF1aXJlKCcuLi9HYW1lRmFjYWRlJyk7XG5cbmV4cG9ydCBjb25zdCBDYWNvZ2VuR2FtZSA9IHBjLmNyZWF0ZVNjcmlwdCgnQ2Fjb2dlbkdhbWUnKTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkNhY29nZW5HYW1lLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BUFBfSU5JVElBTElTRUQpO1xuICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgXCJQb3J0IFRhcmluZ29cIiwgXCJlbnRyYW5jZVwiKTtcbn07XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuQ2Fjb2dlbkdhbWUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuXG59OyIsImltcG9ydCB7IE5hdmlnYXRpb25Ob2RlIH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZVwiO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnTmF2aWdhdGlvbkNvbXBvbmVudCcpO1xuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29ubmVjdGVkQ29tcG9uZW50c1wiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICBhcnJheTogdHJ1ZSxcbiAgICB0aXRsZTogXCJDb25uZWN0ZWQgQ29tcG9uZW50c1wiXG59KTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCAwLjA1LCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZmluZEJ5TmFtZSgnUGxhbmUnKS5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG59XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmhhbmRsZVJheUNhc3QgPSBmdW5jdGlvbiAocmF5LCBzY3JlZW5Qb3MpIHtcbiAgICBjb25zdCBoaXRQb3NpdGlvbiA9IG5ldyBwYy5WZWMzKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hYWJiLmludGVyc2VjdHNSYXkocmF5LCBoaXRQb3NpdGlvbik7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5lbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PE5hdmlnYXRpb25Ob2RlPn0gbm9kZUdyaWQgLSBBcnJheSBvZiBub2RlcyByZXByZXNlbnRpbmcgcG9pbnRzIG9uIHRoZSBncmlkLlxuICovXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5zZXRHcmlkID0gZnVuY3Rpb24gKG5vZGVHcmlkKSB7XG4gICAgdGhpcy5ub2RlR3JpZCA9IG5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXRHcmlkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVHcmlkO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5nZXROZWFyZXN0Tm9kZSA9IGZ1bmN0aW9uICh0YXJnZXRQb2ludCkge1xuICAgIGxldCBuZWFyZXN0Tm9kZSA9IHRoaXMubm9kZUdyaWRbMF07XG4gICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZUdyaWQpIHtcbiAgICAgICAgY29uc3QgZGlzdFRvTm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5vZGUsIHRhcmdldFBvaW50KTtcblxuICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgZGlzdFNxcnRUb05lYXJlc3ROb2RlID0gZGlzdFRvTm9kZTtcbiAgICAgICAgICAgIG5lYXJlc3ROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdE5vZGU7XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSBcIi4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5XCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBib3RCZWhhdmlvdXJFbnVtcyB9IGZyb20gJy4uLy4uL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMnO1xuaW1wb3J0IHsgd2VhcG9uRW51bXMgfSBmcm9tIFwiLi4vLi4vZGF0YS9XZWFwb25UeXBlc1wiO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgY29uc3QgR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNoYXJhY3RlckNvbXBvbmVudCcpO1xuXG5jb25zdCBzdGF0c1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbCcsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnbWF4U3RhbWluYScsXG4gICAgICAgIHRpdGxlOiAnU3RhbWluYScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4THVjaycsXG4gICAgICAgIHRpdGxlOiAnTHVjaycsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnaW5pdGlhdGl2ZScsXG4gICAgICAgIHRpdGxlOiAnSW5pdGlhdGl2ZScsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiAyXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnbWF4TW92ZW1lbnQnLFxuICAgICAgICB0aXRsZTogJ01vdmVtZW50JyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDZcbiAgICB9XG5dO1xuXG5jb25zdCBhZHZhbmNlZFNraWxsc1NjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdza2lsbE5hbWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxWYWx1ZScsXG4gICAgICAgIHRpdGxlOiAnU2tpbGwgVmFsdWUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xuICAgIH1cbl07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJJZFwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSWRcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJjaGFyYWN0ZXJTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgU3BlZWRcIixcbiAgICBkZWZhdWx0OiA0XG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySGVpZ2h0XCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkNoYXJhY3RlciBIZWlnaHRcIixcbiAgICBkZWZhdWx0OiAxLjhcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiaXNOUENcIiwge1xuICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIHRpdGxlOiBcImlzIE5QQ1wiLFxuICAgIGRlZmF1bHQ6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic3RhdHNPdmVycmlkZXNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIlN0YXRzIE92ZXJyaWRlc1wiLFxuICAgIHNjaGVtYTogc3RhdHNTY2hlbWFcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYWR2YW5jZWRTa2lsbHNcIiwge1xuICAgIHR5cGU6IFwianNvblwiLFxuICAgIHRpdGxlOiBcIkFkdmFuY2VkIFNraWxsc1wiLFxuICAgIHNjaGVtYTogYWR2YW5jZWRTa2lsbHNTY2hlbWEsXG4gICAgYXJyYXk6IHRydWVcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY29tYmF0R3JvdXBOYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkNvbWJhdCBHcm91cCBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZGlhbG9ndWVUcmVlTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJEaWFsb2d1ZSBUcmVlIE5hbWVcIlxufSk7XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJib3RCZWhhdmlvdXJcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQm90IEJlaGF2aW91clwiLFxuICAgIGVudW06IGJvdEJlaGF2aW91ckVudW1zLFxuICAgIGRlZmF1bHQ6IDBcbn0pO1xuXG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJlcXVpcHBlZFdlYXBvblwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJFcXVpcHBlZCBXZWFwb25cIixcbiAgICBlbnVtOiB3ZWFwb25FbnVtcyxcbiAgICBkZWZhdWx0OiBcInVuYXJtZWRcIlxufSk7XG5cblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHtcbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xufVxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG5cblxuICAgIGlmICghdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zID0gW107XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHNPdmVycmlkZXMgPSB0aGlzLnN0YXRzT3ZlcnJpZGVzO1xuICAgIGNvbnN0IHByb3h5UGFyYW1zID0ge1xuICAgICAgICBpZDogdGhpcy5jaGFyYWN0ZXJJZCxcbiAgICAgICAgaXNOUEM6IHRoaXMuaXNOUEMsXG4gICAgICAgIGhlaWdodDogdGhpcy5jaGFyYWN0ZXJIZWlnaHQsXG4gICAgICAgIGFkdmFuY2VkU2tpbGxzOiBhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwKHRoaXMuYWR2YW5jZWRTa2lsbHMpLFxuICAgICAgICBlcXVpcHBlZFdlYXBvbjogdGhpcy5lcXVpcHBlZFdlYXBvbixcbiAgICAgICAgLi4uc3RhdHNPdmVycmlkZXMsXG4gICAgICAgIGJvdEJlaGF2aW91cjogdGhpcy5ib3RCZWhhdmlvdXIsXG4gICAgICAgIGRpYWxvZ3VlVHJlZTogdGhpcy5kaWFsb2d1ZVRyZWVOYW1lXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNvbWJhdEdyb3VwTmFtZSAmJiB0aGlzLmNvbWJhdEdyb3VwTmFtZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBjb21yYWRlRW50aXRpZXMgPSB0aGlzLmFwcC5yb290LmZpbmRCeVRhZyhgY29tYmF0R3JvdXA6JHt0aGlzLmNvbWJhdEdyb3VwTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBjb21iYXRHcm91cCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGNvbXJhZGVFbnRpdHkgb2YgY29tcmFkZUVudGl0aWVzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZGlzYWJsZWQgZW50aXRpZXNcbiAgICAgICAgICAgIGlmIChjb21yYWRlRW50aXR5LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21yYWRlSWQgPSBjb21yYWRlRW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmNoYXJhY3RlcklkO1xuICAgICAgICAgICAgICAgIGNvbWJhdEdyb3VwLnB1c2goY29tcmFkZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm94eVBhcmFtcy5jb21iYXRHcm91cCA9IGNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc1Byb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCkpIHtcbiAgICAgICAgLy8gdGhpcy5mYWNhZGUucmVtb3ZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IG5ldyBHYW1lQ2hhcmFjdGVyUHJveHkocHJveHlQYXJhbXMpO1xuICAgICAgICAvLyBTZXQgY3VycmVudCBub2RlIGlmIGdhbWUgY2hhcmFjdGVyIHdhcyBjcmVhdGVkIGFmdGVyIHRoZSBtYXBcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChnYW1lTWFwUHJveHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gY3VycmVudE5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhY2FkZS5yZWdpc3RlclByb3h5KGNoYXJhY3RlclByb3h5KTtcbiAgICB9XG5cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDaGFyYWN0ZXJNZWRpYXRvcih0aGlzLmNoYXJhY3RlcklkLCB0aGlzLmVudGl0eSwgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucykpO1xuXG4gICAgdGhpcy52ZWhpY2xlID0gdGhpcy5lbnRpdHkuc2NyaXB0WydWZWhpY2xlQ29tcG9uZW50J107XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2lkbGUuZ2xiJywgMC4xKTtcblxufTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5zZXRQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGggJiYgdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjYW5jZWxNb3ZlJyk7XG4gICAgfVxuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gcGF0aDtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnd2Fsay5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc3RvcE1vdmVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnROb2RlKSB7XG4gICAgdGhpcy5tb3ZlbWVudFBhdGggPSBbXTtcbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKGN1cnJlbnROb2RlLngsIGN1cnJlbnROb2RlLnksIGN1cnJlbnROb2RlLnopO1xuXG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG59O1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLm1vdmVBbG9uZ1BhdGgoZHQpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5tb3ZlQWxvbmdQYXRoID0gZnVuY3Rpb24gKGR0KSB7XG5cbiAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXh0UGF0aFBvaW50ID0gdGhpcy5tb3ZlbWVudFBhdGhbdGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGxvY2FsUG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBub2RlUG9pbnQgPSBuZXcgcGMuVmVjMyhuZXh0UGF0aFBvaW50LngsIG5leHRQYXRoUG9pbnQueSwgbmV4dFBhdGhQb2ludC56KTtcblxuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlVG9OZXh0UGF0aCA9IGxvY2FsUG9zLmRpc3RhbmNlKG5vZGVQb2ludCk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvTmV4dFBhdGggPD0gKGR0ICogdGhpcy5jaGFyYWN0ZXJTcGVlZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5tb3ZlbWVudFBhdGgucG9wKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdmaW5pc2hlZE1vdmUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCd1cGRhdGVDdXJyZW50Tm9kZScsIGN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVtZW50UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnNlZWsobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5hcnJpdmUobm9kZVBvaW50LCBkdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlaGljbGUucHJvY2Vzc1ZlbG9jaXR5KGR0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlRGVhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnZGllLmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVIaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaGl0LmdsYicsIDAuMSk7XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmFuaW1hdGVBdHRhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnYXR0YWNrLmdsYicsIDAuMSk7XG59XG5cbmZ1bmN0aW9uIGFkdmFuY2VkU2tpbGxzU2NoZW1hVG9NYXAoYWR2YW5jZWRTa2lsbHNTY2hlbWEpIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG5cbiAgICBmb3IgKGNvbnN0IHNraWxsT2JqZWN0IG9mIGFkdmFuY2VkU2tpbGxzU2NoZW1hKSB7XG4gICAgICAgIG1hcC5zZXQoc2tpbGxPYmplY3Quc2tpbGxOYW1lLCBza2lsbE9iamVjdC5za2lsbFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFwO1xufSIsImV4cG9ydCBjb25zdCBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInNpZ2h0UmFuZ2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiU2lnaHQgUmFuZ2VcIixcbiAgICBkZWZhdWx0OiA1XG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnByZXJlZ2lzdGVyTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVEKTtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURUQsIHRoaXMuaGFuZGxlTWFwR3JpZENyZWF0ZWQsIHRoaXMpO1xuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NT1ZFRF9UT19OT0RFICsgXCJwbGF5ZXJcIiwgdGhpcy5oYW5kbGVNb3ZlZFRvTm9kZSwgdGhpcyk7XG4gICAgY29uc29sZS5sb2coJ1dhaXQgZm9yIGluaXRpYWwnKTtcbn07XG5cbkFncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNYXBHcmlkQ3JlYXRlZCA9IGZ1bmN0aW9uIChpZCwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5jaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xufVxuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW92ZWRUb05vZGUgPSBmdW5jdGlvbiAoaWQsIHRhcmdldE5vZGUpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpLnZvO1xuXG4gICAgLy8gSWdub3JlIGlmIHRoZSBwbGF5ZXIgaXNuJ3QgZXhwbG9yaW5nXG4gICAgaWYgKGdhbWVTdGF0ZS5nYW1lcGxheU1vZGUgIT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OIHx8IHRoaXMuY2hhcmFjdGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgY29uc3QgY2hhcmFjdGVyUG9pbnQgPSBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IG5ldyBwYy5WZWMzKHRhcmdldE5vZGUueCwgdGFyZ2V0Tm9kZS55LCB0YXJnZXROb2RlLnopO1xuXG4gICAgaWYgKGNoYXJhY3RlclBvaW50LmRpc3RhbmNlKHRhcmdldFBvaW50KSA8PSB0aGlzLnNpZ2h0UmFuZ2UpIHtcbiAgICAgICAgLy8gTWlnaHQgYmUgc2VlbiAtIGNoZWNrIGZvciB3YWxsc1xuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNoYXJhY3RlclBvaW50LnkgKz0gdGhpcy5jaGFyYWN0ZXJQcm94eS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoY2hhcmFjdGVyUG9pbnQsIHRhcmdldFBvaW50KSkge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIFwicGxheWVyXCIsIHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgaWQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBUb2FzdE1lc3NhZ2VNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlRvYXN0TWVzc2FnZU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnVG9hc3RNZXNzYWdlQ29tcG9uZW50J10uYWRkTWVzc2FnZShhcmdzWzBdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgVG9hc3RNZXNzYWdlTWVkaWF0b3IgfSBmcm9tIFwiLi9Ub2FzdE1lc3NhZ2VNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgVG9hc3RNZXNzYWdlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdUb2FzdE1lc3NhZ2VDb21wb25lbnQnKTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbWVzc2FnZVRpbWUnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01lc3NhZ2UgVGltZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihUb2FzdE1lc3NhZ2VNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBUb2FzdE1lc3NhZ2VNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5hZGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG59XG5cblxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5zaG93TmV4dE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dE1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VRdWV1ZVswXTtcblxuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5leHRNZXNzYWdlO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05leHRNZXNzYWdlKCk7XG4gICAgICAgIH0sIHRoaXMubWVzc2FnZVRpbWUgKiAxMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IFwiXCI7XG5cbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IFNldENhbWVyYVRhcmdldENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcblxuLy8gcG9zdEluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VULCB0aGlzLmVudGl0eSk7XG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dExheWVyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnB1dExheWVyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEVcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncGlja2VyOmdhbWVDaGFyYWN0ZXInLCB0aGlzLmhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpuYXZpZ2F0aW9uJywgdGhpcy5oYW5kbGVQaWNrZXJOYXZpZ2F0aW9uLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdzY3JvbGxpbmcnLCB0aGlzLmhhbmRsZVNjcm9sbGluZywgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyKGNoYXJhY3RlckVudGl0eSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIGNoYXJhY3RlckVudGl0eSk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyTmF2aWdhdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNFTEVDVEVEX05PREUsIG5vZGUpO1xuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbGluZyhkaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgZGlyZWN0aW9uKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHYW1lQ2FtZXJhID0gcGMuY3JlYXRlU2NyaXB0KCdHYW1lQ2FtZXJhJyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4vR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZGlzdGFuY2UnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnRGlzdGFuY2UnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJYJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdkcmFnTXVsdGlwbGllclknLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjUsIHRpdGxlOiAnRHJhZyBNdWx0aXBsaWVyJyB9KTtcblxuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgndmVydGljYWxTY3JvbGwnLCB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UsIHRpdGxlOiAnVmVydGljYWwgU2Nyb2xsJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21pbkNhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDUsIHRpdGxlOiAnTWluIENhbWVyYSBIZWlnaHQnIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnbWF4Q2FtZXJhSGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ01heCBDYW1lcmEgSGVpZ2h0JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDYW1lcmEucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihHYW1lQ2FtZXJhTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEdhbWVDYW1lcmFNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5zZXRDYW1lcmFUYXJnZXQgPSBmdW5jdGlvbiAoY2FtZXJhVGFyZ2V0KSB7XG4gICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHRoaXMuZW50aXR5LmdldEV1bGVyQW5nbGVzKCkueTtcbiAgICB0aGlzLmNhbWVyYUhlaWdodCA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKS55O1xufVxuXG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5oYW5kbGVEcmFnID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgIHRoaXMucm90YXRpb24gKz0gZGlyZWN0aW9uLnggKiB0aGlzLmRyYWdNdWx0aXBsaWVyWDtcblxuICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgIGxldCBuZXdDYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYUhlaWdodCAtIChkaXJlY3Rpb24ueSAqIHRoaXMuZHJhZ011bHRpcGxpZXJZKTtcbiAgICAgICAgbmV3Q2FtZXJhSGVpZ2h0ID0gcGMubWF0aC5jbGFtcChuZXdDYW1lcmFIZWlnaHQsIHRoaXMubWluQ2FtZXJhSGVpZ2h0LCB0aGlzLm1heENhbWVyYUhlaWdodCk7XG4gICAgICAgIHRoaXMuY2FtZXJhSGVpZ2h0ID0gbmV3Q2FtZXJhSGVpZ2h0O1xuICAgIH1cbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24gPSBmdW5jdGlvbiAoZm9jdXNQb2ludCkge1xuICAgIGNvbnN0IGNhbWVyYVBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpXG5cbiAgICBjb25zdCB0YXJnZXRYID0gTWF0aC5zaW4oKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuICAgIGNvbnN0IHRhcmdldFogPSBNYXRoLmNvcygodGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuZGlzdGFuY2U7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoZm9jdXNQb2ludC54ICsgdGFyZ2V0WCwgY2FtZXJhUG9zaXRpb24ueSwgZm9jdXNQb2ludC56ICsgdGFyZ2V0Wik7XG59XG5cbi8vIHVwZGF0ZSBjb2RlIGNhbGxlZCBldmVyeSBmcmFtZVxuR2FtZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGNhbWVyYVRhcmdldFBvc2l0aW9uID0gdGhpcy5jYW1lcmFUYXJnZXQuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMuZ2V0VGFyZ2V0Q2FtZXJhUG9zaXRpb24oY2FtZXJhVGFyZ2V0UG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHR3ZWVuWCA9ICh0YXJnZXRQb3NpdGlvbi54ICsgY3VycmVudFBvcy54ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5ZID0gKHRoaXMuY2FtZXJhSGVpZ2h0ICsgY3VycmVudFBvcy55ICogOSkgLyAxMDtcbiAgICAgICAgY29uc3QgdHdlZW5aID0gKHRhcmdldFBvc2l0aW9uLnogKyBjdXJyZW50UG9zLnogKiA5KSAvIDEwO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24odHdlZW5YLCB0d2VlblksIHR3ZWVuWik7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkubG9va0F0KGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbn07XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDYW1lcmEgfSBmcm9tICcuL0dhbWVDYW1lcmEnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNhbWVyYU1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNhbWVyYU1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBHYW1lQ29tbWFuZHMuSU5QVVRfRFJBR19NT1VTRSwgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0VUX0NBTUVSQV9UQVJHRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLnNldENhbWVyYVRhcmdldChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0U6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNhbWVyYSddLmhhbmRsZURyYWcoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW5wdXRMYXllck1lZGlhdG9yIH0gZnJvbSAnLi9JbnB1dExheWVyTWVkaWF0b3InO1xuaW1wb3J0IHsgR2FtZUNhbWVyYU1lZGlhdG9yIH0gZnJvbSAnLi4vZ2FtZUNhbWVyYS9HYW1lQ2FtZXJhTWVkaWF0b3InO1xuXG5leHBvcnQgY29uc3QgSW5wdXRMYXllckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW5wdXRMYXllckNvbXBvbmVudCcpO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2FtZXJhRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkNhbWVyYSBFbnRpdHlcIlxufSk7XG5cbklucHV0TGF5ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJkcmFnVGltZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJEcmFnIFRpbWVcIixcbiAgICBkZWZhdWx0OiAwLjRcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBJbnB1dExheWVyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLnJheSA9IG5ldyBwYy5SYXkoKTtcbiAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgIC8vIERyYWcgcHJvcGVydGllc1xuICAgIHRoaXMuYXBwLm1vdXNlLmRpc2FibGVDb250ZXh0TWVudSgpO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSAwO1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmhhbmRsZVBpY2tlclJlc3VsdCwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5hcHAubW91c2UpIHtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRURPV04sIHRoaXMub25Nb3VzZURvd24sIHRoaXMpO1xuICAgICAgICB0aGlzLmFwcC5tb3VzZS5vbihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkub25jZSgnZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRU1PVkUsIHRoaXMub25Nb3VzZU1vdmUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hcHAubW91c2Uub2ZmKHBjLkVWRU5UX01PVVNFVVAsIHRoaXMub25Nb3VzZVVwLCB0aGlzKTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hcHAudG91Y2gpIHtcbiAgICAgICAgdGhpcy5hcHAudG91Y2gub24ocGMuRVZFTlRfVE9VQ0hNT1ZFLCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZU1vdmUodG91Y2hFdnQudG91Y2hlc1swXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAodG91Y2hFdnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlRG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xpY2tEb3duU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5vbk1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IG5ldyBwYy5WZWMyKHRoaXMuY2xpY2tTdGFydFBvaW50LnggLSBldnQueCwgdGhpcy5jbGlja1N0YXJ0UG9pbnQueSAtIGV2dC55KTtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnc2Nyb2xsaW5nJywgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jbGlja1N0YXJ0UG9pbnQgPSB7IHg6IGV2dC54LCB5OiBldnQueSB9O1xuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmNsaWNrRG93blN0YXJ0IDwgKHRoaXMuZHJhZ1RpbWUgKiAxMDAwKSkge1xuICAgICAgICBpZiAodGhpcy5jbGlja1N0YXJ0UG9pbnQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW50aXR5LmZpcmUoJ3ZhbGlkQ2xpY2snLCB0aGlzLmNsaWNrU3RhcnRQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJheWNhc3RDb2xsaXNpb25zKHRoaXMuY2xpY2tTdGFydFBvaW50LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgY29uc3QgY2FtZXJhRW50aXR5ID0gdGhpcy5jYW1lcmFFbnRpdHk7XG4gICAgY29uc3QgY2FtZXJhQ29tcG9uZW50ID0gdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhO1xuICAgIGNhbWVyYUNvbXBvbmVudC5zY3JlZW5Ub1dvcmxkKHgsIHksIGNhbWVyYUNvbXBvbmVudC5mYXJDbGlwLCB0aGlzLnJheS5kaXJlY3Rpb24pO1xuICAgIHRoaXMucmF5Lm9yaWdpbi5jb3B5KGNhbWVyYUVudGl0eS5nZXRQb3NpdGlvbigpKTtcbiAgICB0aGlzLnJheS5kaXJlY3Rpb24uc3ViKHRoaXMucmF5Lm9yaWdpbikubm9ybWFsaXplKCk7XG5cbiAgICB0aGlzLmFwcC5maXJlKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMucmF5LCB7IHgsIHkgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVBpY2tlclJlc3VsdCA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpIHtcbiAgICB0aGlzLmlucHV0UXVldWUucHVzaCh7XG4gICAgICAgIGVudGl0eTogcGlja2VkRW50aXR5LFxuICAgICAgICBoaXRQb3NpdGlvbjogaGl0UG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uOiBzY3JlZW5Qb3NcbiAgICB9KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5wcm9jZXNzSW5wdXRRdWV1ZSgpO1xufVxuXG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnByb2Nlc3NJbnB1dFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBoaWdoZXN0UHJpb3JpdHlQaWNrID0gdGhpcy5pbnB1dFF1ZXVlWzBdO1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5ID0gLTE7XG4gICAgICAgIC8vIEZpbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICBmb3IgKGNvbnN0IHBpY2sgb2YgdGhpcy5pbnB1dFF1ZXVlKSB7XG4gICAgICAgICAgICBjb25zdCBwaWNrUHJpb3JpdHkgPSBnZXRQcmlvcml0eShwaWNrLmVudGl0eSlcbiAgICAgICAgICAgIGlmIChwaWNrUHJpb3JpdHkgPiBoaWdoZXN0UHJpb3JpdHkpIHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlQaWNrID0gcGljaztcbiAgICAgICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHkgPSBwaWNrUHJpb3JpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlucHV0UXVldWUgPSBbXTtcblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICAgICAgdGhpcy5waWNrZWRHYW1lQ2hhcmFjdGVyKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkTmF2aWdhdGlvbihoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygncG9ydGFsJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkUG9ydGFsKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LCBoaWdoZXN0UHJpb3JpdHlQaWNrLmhpdFBvc2l0aW9uKVxuICAgICAgICB9XG5cbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZEdhbWVDaGFyYWN0ZXIgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgcGlja2VkRW50aXR5KTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIChwaWNrZWRFbnRpdHksIGhpdFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbmF2Q29tcCA9IHBpY2tlZEVudGl0eS5zY3JpcHRbJ05hdmlnYXRpb25Db21wb25lbnQnXTtcbiAgICBjb25zdCBuZWFyZXN0Tm9kZSA9IG5hdkNvbXAuZ2V0TmVhcmVzdE5vZGUoaGl0UG9zaXRpb24pO1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ3BpY2tlcjpuYXZpZ2F0aW9uJywgbmVhcmVzdE5vZGUpO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRQb3J0YWwgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIHBpY2tlZEVudGl0eS5maXJlKCdwaWNrZXI6cG9ydGFsJyk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXR5KGVudGl0eSkge1xuICAgIGlmIChlbnRpdHkudGFncy5oYXMoJ2dhbWVDaGFyYWN0ZXInKSkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCdwb3J0YWwnKSkge1xuICAgICAgICByZXR1cm4gMjtcbiAgICB9XG5cbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCduYXZpZ2F0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IElucHV0TGF5ZXJDb21wb25lbnQgfSBmcm9tICcuLi9pbnB1dExheWVyL0lucHV0TGF5ZXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZW5kVHVybicsIHRoaXMuaGFuZGxlRW5kVHVybiwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRW5kVHVybihldnQpIHtcbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgfSBmcm9tIFwiLi9QbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnKTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VuZFR1cm5CdXR0b24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0VuZCBUdXJuIGJ1dHRvbicgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMuY3VycmVudFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVuZFR1cm5CdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmNsaWNrRW5kVHVybiwgdGhpcyk7XG59O1xuXG5QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xpY2tFbmRUdXJuID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrOmVuZFR1cm4nKTtcbn1cbiIsImV4cG9ydCBjb25zdCBIaXRib3hDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0hpdGJveENvbXBvbmVudCcpO1xuXG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgc2NhbGUueSAvIDIsIHNjYWxlLnogLyAyKTtcbiAgICB0aGlzLmFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3godGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSwgaGFsZkV4dGVudHMpO1xuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignc3RvcExpc3RlbmluZycsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5vbignZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAub2ZmKCdwaWNrZXI6cmF5Y2FzdCcsIHRoaXMuaGFuZGxlUmF5Q2FzdCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5tb2RlbC5lbmFibGVkID0gZmFsc2U7XG5cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LnBhcmVudCwgaGl0UG9zaXRpb24sIHNjcmVlblBvcyk7XG4gICAgfVxufVxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMuYWFiYi5jZW50ZXIuY29weSh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uUGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkFjdGlvblBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0VUX1BMQVlFUl9BQ1RJT04sIEdhbWVDb21tYW5kcy5UT0dHTEVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9QTEFZRVJfQUNUSU9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6ZmlyZUNvbW1hbmQnLCB0aGlzLmhhbmRsZUZpcmVDb21tYW5kLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlRPR0dMRV9CVVRUT046XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uUGFuZWxDb21wb25lbnQnXS5zZWxlY3RBY3Rpb24oYWN0aW9uTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlRmlyZUNvbW1hbmQoY29tbWFuZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihjb21tYW5kTmFtZSwgLi4uYXJncyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbkJ1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcblxuY29uc3QgY29tbWFuZFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tYW5kTmFtZScsXG4gICAgICAgIHRpdGxlOiAnQ29tbWFuZCBuYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbW1hbmRBcmdzJyxcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kIGFyZ3VtZW50cycsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLCBhcnJheTogdHJ1ZVxuICAgIH1cbl07XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuQWN0aW9uQnV0dG9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb21tYW5kcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGNvbW1hbmRTY2hlbWEsIHRpdGxlOiAnQ29tbWFuZCBuYW1lJywgYXJyYXk6IHRydWUgfSk7O1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVudGl0eS5vbignc2VsZWN0OmFjdGlvbicsIHRoaXMuaGFuZGxlQ2hhbmdlQWN0aW9uLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgdGhpcy5jb21tYW5kcykge1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IGNvbW1hbmQuY29tbWFuZE5hbWU7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRBcmdzID0gY29tbWFuZC5jb21tYW5kQXJncztcbiAgICAgICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2NsaWNrOmZpcmVDb21tYW5kJywgY29tbWFuZE5hbWUsIC4uLmNvbW1hbmRBcmdzKTtcblxuICAgIH1cbn1cblxuQWN0aW9uQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDaGFuZ2VBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuZW50aXR5Lm5hbWUgPT09IGFjdGlvbikge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQ7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBBY3Rpb25QYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uUGFuZWxNZWRpYXRvcic7XG5pbXBvcnQgeyBBY3Rpb25CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL0FjdGlvbkJ1dHRvbkNvbXBvbmVudCc7XG5cbkFjdGlvblBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdhY3Rpb25CdXR0b25zJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdBY3Rpb24gQnV0dG9ucycsIGFycmF5OiB0cnVlIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEFjdGlvblBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufVxuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUpIHtcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0aGlzLmFjdGlvbkJ1dHRvbnMpIHtcbiAgICAgICAgYnV0dG9uLmZpcmUoJ3NlbGVjdDphY3Rpb24nLCBhY3Rpb25OYW1lKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVUlTdG9wUHJvcGFnYXRpb24gPSBwYy5jcmVhdGVTY3JpcHQoJ1VJU3RvcFByb3BhZ2F0aW9uJyk7XG5cblVJU3RvcFByb3BhZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfVE9VQ0hTVEFSVCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIRU5ELCAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cblxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tIFwiLi4vLi4vR2FtZUZhY2FkZVwiO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciB9IGZyb20gXCIuL1Byb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCcpO1xuXG5jb25zdCBwcm9qZWN0aWxlU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb2plY3RpbGVOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIE5hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAncHJvamVjdGlsZVRlbXBsYXRlJyxcbiAgICAgICAgdGl0bGU6ICdQcm9qZWN0aWxlIFRlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cblByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwicHJvamVjdGlsZVR5cGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFR5cGVzXCIsXG4gICAgc2NoZW1hOiBwcm9qZWN0aWxlU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xufTtcblxuXG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUHJvamVjdGlsZSA9IGZ1bmN0aW9uIChwcm9qZWN0aWxlTmFtZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWxlU2NoZW1lID0gdGhpcy5wcm9qZWN0aWxlVHlwZXMuZmluZChzY2hlbWUgPT4gc2NoZW1lLnByb2plY3RpbGVOYW1lID09PSBwcm9qZWN0aWxlTmFtZSk7XG4gICAgICAgIGlmIChwcm9qZWN0aWxlU2NoZW1lKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0aWxlID0gcHJvamVjdGlsZVNjaGVtZS5wcm9qZWN0aWxlVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld1Byb2plY3RpbGUpO1xuICAgICAgICAgICAgbmV3UHJvamVjdGlsZS5vbmNlKCdwcm9qZWN0aWxlQXJyaXZlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld1Byb2plY3RpbGUuc2NyaXB0WydQcm9qZWN0aWxlQ29tcG9uZW50J10uc2V0VGFyZ2V0KG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIHByb2plY3RpbGUgXCIke3Byb2plY3RpbGVOYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJcblxuZXhwb3J0IGNvbnN0IFByb2plY3RpbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1Byb2plY3RpbGVDb21wb25lbnQnKTtcblxuUHJvamVjdGlsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInByb2plY3RpbGVTcGVlZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJQcm9qZWN0aWxlIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogOFxufSk7XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRUYXJnZXQgPSBmdW5jdGlvbiAob3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55LCBvcmlnaW5Qb2ludC56KTtcbiAgICB0aGlzLnRhcmdldFBvaW50ID0gdGFyZ2V0UG9pbnQ7XG4gICAgdGhpcy5sb29rQXRQb2ludCh0aGlzLnRhcmdldFBvaW50KTtcblxufVxuXG5Qcm9qZWN0aWxlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBpZiAodGhpcy50YXJnZXRQb2ludCkge1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICBjb25zdCBzcGVlZCA9IG5ldyBwYy5WZWMzKGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQsIGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQpO1xuICAgICAgICBuZXdQb3NpdGlvbi5zdWIyKHRoaXMudGFyZ2V0UG9pbnQuY2xvbmUoKSwgbG9jYWxQb3MpO1xuICAgICAgICBuZXdQb3NpdGlvbi5ub3JtYWxpemUoKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubXVsKHNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uYWRkKGxvY2FsUG9zKTtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKG5ld1Bvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBuZXdQb3NpdGlvbi5kaXN0YW5jZSh0aGlzLnRhcmdldFBvaW50KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9OZXh0UGF0aCA8PSAoZHQgKiB0aGlzLnByb2plY3RpbGVTcGVlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Byb2plY3RpbGVBcnJpdmVkJyk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUubG9va0F0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcblxuICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGxvY2FsUG9zLng7XG4gICAgY29uc3QgZHogPSBwb2ludC56IC0gbG9jYWxQb3MuejtcbiAgICBjb25zdCBhbmdsZVRvRGVzdCA9IE1hdGguYXRhbjIoZHgsIGR6KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgYW5nbGVUb0Rlc3QsIDApO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgU3RhbWluYUJhckNvbXBvbmVudCB9IGZyb20gJy4vU3RhbWluYUJhckNvbXBvbmVudCc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBTdGFtaW5hQmFyTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJTdGFtaW5hQmFyTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCJcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU1RBTUlOQSArIFwicGxheWVyXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhbWluYSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4U3RhbWluYSA9IGFyZ3NbMV07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFtcIlN0YW1pbmFCYXJDb21wb25lbnRcIl0udXBkYXRlU3RhbWluYShuZXdTdGFtaW5hLCBtYXhTdGFtaW5hKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFN0YW1pbmFCYXJNZWRpYXRvciB9IGZyb20gXCIuL1N0YW1pbmFCYXJNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgU3RhbWluYUJhckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU3RhbWluYUJhckNvbXBvbmVudCcpO1xuXG5TdGFtaW5hQmFyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYmFyRW50aXR5XCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIkJhciBFbnRpdHlcIlxufSk7XG5cblN0YW1pbmFCYXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzdGFtaW5hTGFiZWxcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgdGl0bGU6IFwiU3RhbWluYSBMYWJlbFwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblN0YW1pbmFCYXJDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihTdGFtaW5hQmFyTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBTdGFtaW5hQmFyTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMuYmFyRW50aXR5TWF4V2lkdGggPSB0aGlzLmJhckVudGl0eS5lbGVtZW50LndpZHRoO1xufTtcblxuXG5TdGFtaW5hQmFyQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGVTdGFtaW5hID0gZnVuY3Rpb24gKGN1cnJlbnRTdGFtaW5hLCBtYXhTdGFtaW5hKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYy5tYXRoLmNsYW1wKGN1cnJlbnRTdGFtaW5hIC8gbWF4U3RhbWluYSwgMCwgMSk7XG4gICAgY29uc3Qgd2lkdGggPSBwYy5tYXRoLmxlcnAoMCwgdGhpcy5iYXJFbnRpdHlNYXhXaWR0aCwgdmFsdWUpO1xuICAgIC8vIHNldCB0aGUgd2lkdGggb2YgdGhlIGZpbGwgaW1hZ2UgZWxlbWVudFxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQud2lkdGggPSB3aWR0aDtcblxuICAgIC8vIFNldCB0aGUgd2lkdGggb2YgdGhlIGVsZW1lbnQncyByZWN0IChyZWN0LnopIHRvIGJlIHRoZSBzYW1lXG4gICAgLy8gdmFsdWUgYXMgb3VyIDAtMSBwcm9ncmVzcy5cbiAgICAvLyBUaGlzIGlzIHNvIHRoYXQgdGhlIGZpbGwgaW1hZ2Ugd2lsbCBvbmx5IHNob3cgdGhlIHBvcnRpb25cbiAgICAvLyBvZiB0aGUgdGV4dHVyZSB0aGF0IGlzIHZpc2libGVcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LnJlY3QueiA9IHZhbHVlO1xuICAgIC8vIGZvcmNlIHJlY3QgdXBkYXRlXG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0ID0gdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0O1xuXG4gICAgdGhpcy5zdGFtaW5hTGFiZWwuZWxlbWVudC50ZXh0ID0gYCR7Y3VycmVudFN0YW1pbmF9LyR7bWF4U3RhbWluYX1gO1xufSIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlVTRV9BQ1RJT04gKyBcInBsYXllclwiXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVBY3Rpb25zID0gcGxheWVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBY3Rpb25zID0gcGxheWVyUHJveHkubWF4QWN0aW9uc1BlclR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50J10uc2hvd0F2YWlsYWJsZUFjdGlvbihhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgXCJwbGF5ZXJcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnXS5zaG93QXZhaWxhYmxlQWN0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3InO1xuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BpcFRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1BpcCBUZW1wbGF0ZScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5waXBzID0gW107XG59XG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuc2hvd0F2YWlsYWJsZUFjdGlvbiA9IGZ1bmN0aW9uIChhdmFpbGFibGVBY3Rpb25zLCBtYXhBY3Rpb25zKSB7XG4gICAgd2hpbGUgKHRoaXMucGlwcy5sZW5ndGggPCBtYXhBY3Rpb25zKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGlwKCk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBhdmFpbGFibGVBY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpcHNbaV0uZmlyZSgndG9nZ2xlUGlwJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbkFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlUGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG5ld1BpcCA9IHRoaXMucGlwVGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdQaXApO1xuICAgIHRoaXMucGlwcy5wdXNoKG5ld1BpcCk7XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudCcpO1xuXG5BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwaXBGcm9udCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnUGlwIGZyb250JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkub24oJ3RvZ2dsZVBpcCcsIChzaG93KSA9PiB7XG4gICAgICAgIHRoaXMucGlwRnJvbnQuZW5hYmxlZCA9IHNob3c7XG4gICAgfSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVM6XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0Q29tcCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCddO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0ZXJOYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzY3JpcHRDb21wLmRpc3BsYXlTdGF0dXMoZmxvYXRlck5hbWUsIHRhcmdldFByb3h5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQnKTtcblxuLy8gVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsgfTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLnNldFdvcmxkUG9zaXRpb24gPSBmdW5jdGlvbiAod29ybGRQb3NpdGlvbiwgY2FtZXJhLCBzY3JlZW4pIHtcbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLndvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uO1xuICAgIHRoaXMuZGV2aWNlID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2U7XG4gICAgdGhpcy5jYW1lcmFFbnRpdHkgPSBjYW1lcmE7XG4gICAgdGhpcy5zY3JlZW5FbnRpdHkgPSBzY3JlZW47XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgIH0sIDEwMDApO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0VXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLndvcmxkU3BhY2VUb1NjcmVlblNwYWNlKHRoaXMud29ybGRQb3NpdGlvbi5jbG9uZSgpKTtcbiAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgfVxufTtcblxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLndvcmxkU3BhY2VUb1NjcmVlblNwYWNlID0gZnVuY3Rpb24gKHBvcykge1xuICAgIGlmICh0aGlzLmRldmljZSAmJiB0aGlzLmNhbWVyYUVudGl0eSAmJiB0aGlzLnNjcmVlbkVudGl0eSkge1xuICAgICAgICBjb25zdCB3b3JsZFBvcyA9IHBvcy5jbG9uZSgpO1xuICAgICAgICBjb25zdCBzY3JlZW5Qb3MgPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAvLyBnZXQgc2NyZWVuIHNwYWNlIGNvLW9yZFxuICAgICAgICB0aGlzLmNhbWVyYUVudGl0eS5jYW1lcmEud29ybGRUb1NjcmVlbih3b3JsZFBvcywgc2NyZWVuUG9zKTtcbiAgICAgICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLm1heFBpeGVsUmF0aW87XG4gICAgICAgIHNjcmVlblBvcy54ICo9IHBpeGVsUmF0aW87XG4gICAgICAgIHNjcmVlblBvcy55ICo9IHBpeGVsUmF0aW87XG5cbiAgICAgICAgY29uc3Qgc2NyZWVuQ29tcCA9IHRoaXMuc2NyZWVuRW50aXR5LnNjcmVlbjtcblxuICAgICAgICBjb25zdCByYXRpb1NjYWxlID0gc2NyZWVuQ29tcC5zY2FsZTtcbiAgICAgICAgY29uc3QgeCA9IChzY3JlZW5Qb3MueCAvIHJhdGlvU2NhbGUpO1xuICAgICAgICBjb25zdCB5ID0gKHRoaXMuZGV2aWNlLmhlaWdodCAtIHNjcmVlblBvcy55KSAvIHJhdGlvU2NhbGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBwYy5WZWMzKHgsIHksIDApO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbn0iLCJleHBvcnQgY29uc3QgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IgfSBmcm9tICcuL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50JztcblxuY29uc3QgZmxvYXRpbmdTdGF0dXNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0ZW1wbGF0ZScsXG4gICAgICAgIHRpdGxlOiAnVGVtcGxhdGUnLFxuICAgICAgICB0eXBlOiAnYXNzZXQnXG4gICAgfVxuXTtcblxuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JlZW5FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NjcmVlbiBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjYW1lcmFFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NhbWVyYSBFbnRpdHknIH0pO1xuRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmbG9hdGluZ1N0YXR1c2VzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogZmxvYXRpbmdTdGF0dXNTY2hlbWEsIHRpdGxlOiAnRmxvYXRpbmcgU3RhdHVzZXMnLCBhcnJheTogdHJ1ZSB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbn07XG5cbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheVN0YXR1cyA9IGZ1bmN0aW9uIChuYW1lLCB0YXJnZXRQcm94eSwgLi4uYXJncykge1xuICAgIGNvbnN0IHNjaGVtZSA9IHRoaXMuZmxvYXRpbmdTdGF0dXNlcy5maW5kKChvdGhlclNjaGVtZSkgPT4gb3RoZXJTY2hlbWUubmFtZSA9PT0gbmFtZSk7XG4gICAgaWYgKHNjaGVtZSkge1xuICAgICAgICAvLyBcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSArIHRhcmdldFByb3h5LmhlaWdodCwgdGFyZ2V0Tm9kZS56KTtcbiAgICAgICAgY29uc3QgbmV3U3RhdHVzID0gc2NoZW1lLnRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIG5ld1N0YXR1cy5zY3JpcHRbJ1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50J10uc2V0V29ybGRQb3NpdGlvbih0YXJnZXRQb3MsXG4gICAgICAgICAgICB0aGlzLmNhbWVyYUVudGl0eSwgdGhpcy5zY3JlZW5FbnRpdHkpO1xuICAgICAgICB0aGlzLmVudGl0eS5wYXJlbnQuYWRkQ2hpbGQobmV3U3RhdHVzKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNyZWF0ZSBmbG9hdGluZyBzdGF0dXM6ICR7bmFtZX1gKTtcbiAgICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUG9ydGFsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQb3J0YWxNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpwb3J0YWwnLCB0aGlzLnNlbGVjdGVkUG9ydGFsLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRQb3J0YWwoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICAgICAgY29uc3QgcG9ydGFsQ29tcG9uZW50ID0gdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnUG9ydGFsQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2NlbmUgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25TY2VuZTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBwb3J0YWxDb21wb25lbnQuZGVzdGluYXRpb25Qb3J0YWw7XG4gICAgICAgIGNvbnN0IHN0YW5kaW5nUG9zaXRpb24gPSBwb3J0YWxDb21wb25lbnQuc3RhbmRpbmdQb2ludC5nZXRQb3NpdGlvbigpO1xuXG4gICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RIUk9VR0hfUE9SVEFMLFxuICAgICAgICAgICAgICAgIHN0YW5kaW5nUG9zaXRpb24sIGRlc3RpbmF0aW9uU2NlbmUsIGRlc3RpbmF0aW9uUG9ydGFsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBQb3J0YWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BvcnRhbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBQb3J0YWxNZWRpYXRvciB9IGZyb20gJy4vUG9ydGFsTWVkaWF0b3InO1xuXG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3BvcnRhbElkJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdQb3J0YWwgSWQnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXN0aW5hdGlvblNjZW5lJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBTY2VuZScgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Rlc3RpbmF0aW9uUG9ydGFsJywgeyB0eXBlOiAnc3RyaW5nJywgdGl0bGU6ICdEZXN0aW5hdGlvbiBQb3J0YWwnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdoaXRib3gnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0hpdGJveCcgfSk7XG5Qb3J0YWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3N0YW5kaW5nUG9pbnQnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N0YW5kaW5nIFBvaW50JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcblBvcnRhbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBvcnRhbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFBvcnRhbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLnN0YW5kaW5nUG9pbnQubW9kZWwuZW5hYmxlZCA9IGZhbHNlO1xuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBEaWFsb2d1ZVBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJEaWFsb2d1ZVBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUwsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2tlZDpjb250aW51ZScsIHRoaXMuaGFuZGxlQ2xpY2tDb250aW51ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2tlZDpjaG9pY2UnLCB0aGlzLmhhbmRsZUNsaWNrQ2hvaWNlLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfUEFORUw6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9QQU5FTDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uY2xlYXJQYW5lbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVA6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNyZWF0ZVN0ZXAoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1Q6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNyZWF0ZVNraWxsVGVzdCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNMRUFSX0RJQUxPR1VFX0NIT0lDRVM6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyRGlhbG9ndWVDaG9pY2VzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydEaWFsb2d1ZVBhbmVsQ29tcG9uZW50J10uc2V0Q29udGludWVCdXR0b24oZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0NvbnRpbnVlKCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DT05USU5VRV9ESUFMT0dVRV9OT0RFKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGlja0Nob2ljZShpbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RfRElBTE9HVUVfQ0hPSUNFLCBpbmRleCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9EaWFsb2d1ZVBhbmVsTWVkaWF0b3InO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzY3JvbGxiYXJWaWV3RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTY3JvbGxiYXIgVmlldycgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDb250ZW50IEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdmZWVkRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdGZWVkIEVudGl0eScgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250ZW50SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdDb250ZW50IEhlaWdodCcsIGRlZmF1bHQ6IDUyMCB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dEVudHJ5VGVtcGxhdGUnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnVGV4dCBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjaG9pY2VFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ0Nob2ljZSBFbnRyeSBBc3NldCcgfSk7XG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbFRlc3RFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1NraWxsIFRlc3QgRW50cnkgQXNzZXQnIH0pO1xuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjb250aW51ZUJ1dHRvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ29udGludWUgQnV0dG9uJyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKERpYWxvZ3VlUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgRGlhbG9ndWVQYW5lbE1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmNob2ljZXMgPSBbXTtcblxuICAgIHRoaXMuY29udGludWVCdXR0b25FbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrZWQ6Y29udGludWUnKTtcbiAgICB9LCB0aGlzKTtcblxufTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlU3RlcCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIHRoaXMuY3JlYXRlVGV4dChzdGVwRGF0YS5zdGVwKTtcblxuICAgIGlmIChzdGVwRGF0YS5zdGVwLmNob2ljZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGVwRGF0YS5zdGVwLmNob2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNob2ljZSA9IHN0ZXBEYXRhLnN0ZXAuY2hvaWNlc1tpXTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2hvaWNlKGksIGNob2ljZS50ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGNvbnN0IG5ld1RleHQgPSB0aGlzLnRleHRFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3VGV4dC5zY3JpcHRbXCJEaWFsb2d1ZVRleHRDb21wb25lbnRcIl0uc2V0dXAoc3RlcERhdGEpO1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdUZXh0KTtcbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZUNob2ljZSA9IGZ1bmN0aW9uIChpbmRleCwgdGV4dCkge1xuICAgIGNvbnN0IG5ld0Nob2ljZSA9IHRoaXMuY2hvaWNlRW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld0Nob2ljZS5zY3JpcHRbXCJEaWFsb2d1ZUNob2ljZUNvbXBvbmVudFwiXS5zZXR1cChpbmRleCwgdGV4dCk7XG4gICAgbmV3Q2hvaWNlLmVsZW1lbnQudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld0Nob2ljZSk7XG4gICAgdGhpcy5jaG9pY2VzLnB1c2gobmV3Q2hvaWNlKTtcblxuICAgIG5ld0Nob2ljZS5vbignY2xpY2snLCB0aGlzLmhhbmRsZVNlbGVjdENob2ljZSwgdGhpcyk7XG5cbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVNraWxsVGVzdCA9IGZ1bmN0aW9uIChza2lsbE5hbWUsIHNraWxsVmFsdWUsIGRpZTEsIGRpZTIsIHdhc1N1Y2Nlc3MpIHtcbiAgICBjb25zdCBuZXdTa2lsbFRlc3QgPSB0aGlzLnNraWxsVGVzdEVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdTa2lsbFRlc3Quc2NyaXB0W1wiRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnRcIl0uc2V0dXAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKTtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3U2tpbGxUZXN0KTtcblxuICAgIHRoaXMucmVzaXplVG9Db250ZW50cygpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVmlld0VudGl0eS5zY3JvbGxiYXIudmFsdWUgPSAxO1xuICAgIH0sIDUwKTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJEaWFsb2d1ZUNob2ljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChjb25zdCBjaG9pY2Ugb2YgdGhpcy5jaG9pY2VzKSB7XG4gICAgICAgIGNob2ljZS5vZmYoJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuICAgICAgICBjaG9pY2UuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2hvaWNlcyA9IFtdO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhclBhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHdoaWxlICh0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW5bMF0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlU2VsZWN0Q2hvaWNlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2tlZDpjaG9pY2UnLCBpbmRleCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnJlc2l6ZVRvQ29udGVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHNwYWNpbmdWZXJ0aWNhbCA9IHRoaXMuZmVlZEVudGl0eS5sYXlvdXRncm91cC5zcGFjaW5nLnk7XG4gICAgbGV0IGhlaWdodCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGZlZWRDaGlsZCBvZiB0aGlzLmZlZWRFbnRpdHkuY2hpbGRyZW4pIHtcbiAgICAgICAgaGVpZ2h0ICs9IGZlZWRDaGlsZC5lbGVtZW50LmhlaWdodDtcbiAgICAgICAgaGVpZ2h0ICs9IHNwYWNpbmdWZXJ0aWNhbDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRFbnRpdHkuZWxlbWVudC5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmNvbnRlbnRIZWlnaHQsIGhlaWdodCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnNldENvbnRpbnVlQnV0dG9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb250aW51ZUJ1dHRvbkVudGl0eS5lbmFibGVkID0gdmFsdWU7XG59XG4iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpbmRleEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSW5kZXggRW50aXR5JyB9KTtcbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVDaG9pY2VDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKGluZGV4LCBsYWJlbCkge1xuICAgIHRoaXMuaW5kZXhFbnRpdHkuZWxlbWVudC50ZXh0ID0gKGluZGV4ICsgMSkgKyBcIi5cIjtcbiAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IGxhYmVsO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrJywgaW5kZXgpXG4gICAgfSk7XG59XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG5cbn1cbiIsImV4cG9ydCBjb25zdCBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50Jyk7XG5cbkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJhbmltYXRpb25OYW1lXCIsIHtcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHRpdGxlOiBcIkFuaW1hdGlvbiBOYW1lXCJcbn0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLmxvb3AgPSB0cnVlO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KHRoaXMuYW5pbWF0aW9uTmFtZSwgMC4xKTtcbn0iLCJleHBvcnQgY29uc3QgRGlhbG9ndWVUZXh0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVRleHRDb21wb25lbnQnKTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd3aXRoSW1hZ2VXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnV2l0aCBJbWFnZSBXaWR0aCcsIGRlZmF1bHQ6IDM0MCB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnd2l0aG91dEltYWdlV2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1dpdGggSW1hZ2UgV2lkdGgnLCBkZWZhdWx0OiAzNjAgfSk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGV4dENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGV4dCBDb250YWluZXInIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aXRsZUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGl0bGUgRW50aXR5JyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnYm9keUVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQm9keSBFbnRpdHknIH0pO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbENvbnRhaW5lcicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGh1bWJuYWlsIENvbnRhaW5lcicgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RodW1ibmFpbEltYWdlJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUaHVtYm5haWwgSW1hZ2UnIH0pO1xuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChzdGVwRGF0YSkge1xuICAgIGlmIChzdGVwRGF0YS50aXRsZSkge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVsZW1lbnQudGV4dCA9IHN0ZXBEYXRhLnRpdGxlO1xuXG4gICAgICAgIGlmIChzdGVwRGF0YS50aXRsZUNvbG91cikge1xuICAgICAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbGVtZW50LmNvbG9yLmZyb21TdHJpbmcoc3RlcERhdGEudGl0bGVDb2xvdXIpO1xuXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRpdGxlRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RlcERhdGEudGh1bWJuYWlsKSB7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aG91dEltYWdlV2lkdGg7XG4gICAgICAgIHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LnRleHQgPSBzdGVwRGF0YS50ZXh0O1xuICAgIC8vIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgbWluSGVpZ2h0ID0gKHRoaXMudGh1bWJuYWlsQ29udGFpbmVyLmVuYWJsZSkgPyB0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbGVtZW50LmhlaWdodCA6IDA7XG4gICAgbGV0IGhlaWdodCA9IDA7XG4gICAgbGV0IHNwYWNpbmcgPSB0aGlzLnRleHRDb250YWluZXIubGF5b3V0Z3JvdXAuc3BhY2luZy55O1xuICAgIGZvciAoY29uc3QgdGV4dENoaWxkIG9mIHRoaXMudGV4dENvbnRhaW5lci5jaGlsZHJlbikge1xuICAgICAgICBoZWlnaHQgKz0gdGV4dENoaWxkLmVsZW1lbnQuaGVpZ2h0ICsgc3BhY2luZztcbiAgICB9XG5cblxuICAgIGlmICghdGhpcy50aXRsZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuYm9keUVudGl0eS5lbGVtZW50LndpZHRoID0gdGhpcy53aXRoSW1hZ2VXaWR0aDtcblxuICAgIH1cblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoZWlnaHQpO1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRIZWlnaHQoKTtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIC8vdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEF0dGFja0J1dHRvbk1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQXR0YWNrQnV0dG9uTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignY2xpY2s6dG9nZ2xlQXR0YWNrJywgdGhpcy5oYW5kbGVUb2dnbGVBdHRhY2ssIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuR0FNRVBMQVlfQUNUSU9OX0NIQU5HRUQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgaWYgKGFjdGlvbk5hbWUgPT09IFwiYXR0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQXR0YWNrQnV0dG9uQ29tcG9uZW50J10udG9nZ2xlSGlnaGxpZ2h0KHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0F0dGFja0J1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlVG9nZ2xlQXR0YWNrKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgaWYgKGF0dGFja0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImF0dGFja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VELCBcImludGVyYWN0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEF0dGFja0J1dHRvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnQXR0YWNrQnV0dG9uQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEF0dGFja0J1dHRvbk1lZGlhdG9yIH0gZnJvbSAnLi9BdHRhY2tCdXR0b25NZWRpYXRvcic7XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGlnaGxpZ2h0RW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaWdobGlnaHQgRW50aXR5JyB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEF0dGFja0J1dHRvbk1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEF0dGFja0J1dHRvbk1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2ssIHRoaXMpO1xufTtcblxuQXR0YWNrQnV0dG9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazp0b2dnbGVBdHRhY2snLCAhdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCk7XG59XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKGlzRW5hYmxlZCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQgPSBpc0VuYWJsZWQ7XG59IiwiZXhwb3J0IGNvbnN0IFZlaGljbGVDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1ZlaGljbGVDb21wb25lbnQnKTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1hc3NcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWFzc1wiLFxuICAgIGRlZmF1bHQ6IDNcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWF4U3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWF4IFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXhGb3JjZVwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJNYXggRm9yY2VcIixcbiAgICBkZWZhdWx0OiAwLjVcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYXJyaXZlVGhyZXNob2xkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkFycml2YWwgVGhyZXNob2xkXCIsXG4gICAgZGVmYXVsdDogMVxufSk7XG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBwYy5WZWMzKCk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gbmV3IHBjLlZlYzMoKTtcbn1cblxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5wcm9jZXNzVmVsb2NpdHkgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCk7XG5cbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSBjbGFtcFZlYzModGhpcy5zdGVlcmluZ0ZvcmNlLCAodGhpcy5tYXhGb3JjZSkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5zY2FsZSgxIC8gKHRoaXMubWFzcykpO1xuICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5LmFkZCh0aGlzLnN0ZWVyaW5nRm9yY2UpO1xuICAgIHRoaXMudmVsb2NpdHkgPSBjbGFtcFZlYzModGhpcy52ZWxvY2l0eSwgKHRoaXMubWF4U3BlZWQgKiBkdCkpO1xuXG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gbmV3IHBjLlZlYzMoKTtcblxuICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24ocG9zaXRpb24uYWRkKHRoaXMudmVsb2NpdHkpKTtcblxuICAgIGNvbnN0IHlSb3RhdGlvbiA9IGdldEFuZ2xlKHRoaXMudmVsb2NpdHkpICogMTgwIC8gTWF0aC5QSTtcbiAgICB0aGlzLmVudGl0eS5zZXRFdWxlckFuZ2xlcygwLCB5Um90YXRpb24sIDApO1xufVxuXG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbiAodGFyZ2V0LCBkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBkZXNpcmVkVmVsb2NpdHkgPSB0YXJnZXQuY2xvbmUoKS5zdWIocG9zaXRpb24pO1xuICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5ub3JtYWxpemUoKVxuICAgIGRlc2lyZWRWZWxvY2l0eS5zY2FsZSh0aGlzLm1heFNwZWVkICogZHQpO1xuICAgIGNvbnN0IGZvcmNlID0gZGVzaXJlZFZlbG9jaXR5LnN1Yih0aGlzLnZlbG9jaXR5KTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2UuYWRkKGZvcmNlKTtcbn1cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUuYXJyaXZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKTtcbiAgICBsZXQgZGVzaXJlZFZlbG9jaXR5ID0gdGFyZ2V0LmNsb25lKCkuc3ViKHBvc2l0aW9uKS5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLm1heFNwZWVkKTtcbiAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gcG9zaXRpb24uZGlzdGFuY2UodGFyZ2V0KTtcblxuICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0ID4gdGhpcy5hcnJpdmFsVGhyZXNob2xkKSB7XG4gICAgICAgIGRlc2lyZWRWZWxvY2l0eSA9IGRlc2lyZWRWZWxvY2l0eS5zY2FsZSh0aGlzLm1heFNwZWVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkuc2NhbGUoKHRoaXMubWF4U3BlZWQgKiBkaXN0YW5jZVRvVGFyZ2V0IC8gdGhpcy5hcnJpdmVUaHJlc2hvbGQpKTtcblxuICAgIH1cbiAgICBjb25zdCBmb3JjZSA9IGRlc2lyZWRWZWxvY2l0eS5zdWIodGhpcy52ZWxvY2l0eSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLmFkZChmb3JjZSk7XG59XG5cbmZ1bmN0aW9uIGNsYW1wVmVjMyh2ZWMzLCBtYXhWYWx1ZSkge1xuICAgIGlmICh2ZWMzLmxlbmd0aCgpIDwgbWF4VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZlYzM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZlYzMubm9ybWFsaXplKCkuc2NhbGUobWF4VmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0QW5nbGUodmVjMykge1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHZlYzMueCwgdmVjMy56KTtcbn0iLCJleHBvcnQgY29uc3QgU2NyZWVuUmVzaXplQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdTY3JlZW5SZXNpemVDb21wb25lbnQnKTtcblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS53aW5kb3cgPSB3aW5kb3c7XG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG59XG5cblxuU2NyZWVuUmVzaXplQ29tcG9uZW50LnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBncmFwaGljc0RldmljZSA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlO1xuICAgIC8vIEZsaXAgYmxlbmRcbiAgICBpZiAoZ3JhcGhpY3NEZXZpY2Uud2lkdGggPCBncmFwaGljc0RldmljZS5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuc2NyZWVuLnNjYWxlQmxlbmQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmVlbi5zY2FsZUJsZW5kID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLmVudGl0eS5zY3JlZW4ucmVmZXJlbmNlUmVzb2x1dGlvbiA9IG5ldyBwYy5WZWMyKGdyYXBoaWNzRGV2aWNlLndpZHRoLCBncmFwaGljc0RldmljZS5oZWlnaHQpO1xuXG59IiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCcpO1xuXG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2tpbGxOYW1lTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NraWxsIE5hbWUgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NraWxsVmFsdWVMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2tpbGwgVmFsdWUgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RpZTFMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRGllIDEgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RpZTJMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRGllIDIgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3N1Y2Nlc3NMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU3VjY2VzcyBMYWJlbCcgfSk7XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZmFpbHVyZUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdGYWlsdXJlIExhYmVsJyB9KTtcblxuXG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxufVxuXG5EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKSB7XG4gICAgdGhpcy5za2lsbE5hbWVMYWJlbC5lbGVtZW50LnRleHQgPSBza2lsbE5hbWU7XG4gICAgdGhpcy5za2lsbFZhbHVlTGFiZWwuZWxlbWVudC50ZXh0ID0gc2tpbGxWYWx1ZTtcbiAgICB0aGlzLmRpZTFMYWJlbC5lbGVtZW50LnRleHQgPSBkaWUxO1xuICAgIHRoaXMuZGllMkxhYmVsLmVsZW1lbnQudGV4dCA9IGRpZTI7XG4gICAgdGhpcy5zdWNjZXNzTGFiZWwuZW5hYmxlZCA9IHdhc1N1Y2Nlc3M7XG4gICAgdGhpcy5mYWlsdXJlTGFiZWwuZW5hYmxlZCA9ICF3YXNTdWNjZXNzO1xufVxuIiwiZXhwb3J0IGNvbnN0IEludmVudG9yeUl0ZW1Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnKTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pO1xuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdleHBhbmRlZEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRXhwYW5kZWQgRW50aXR5JyB9KTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGFuZGxlJywgeyB0eXBlOiAnZW50aXR5JywgZGVmYXVsdDogbnVsbCwgdGl0bGU6ICdIYW5kbGUnIH0pO1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnYXhpcycsIHsgdHlwZTogJ3N0cmluZycsIGRlZmF1bHQ6IFwieVwiLCB0aXRsZTogJ0F4aXMnLCBkZXNjcmlwdGlvbjogJ2xvY2sgZHJhZyB0byBheGlzOiB4LCB5IG9yIHh5JyB9KTtcblxuLy8gRGlzcGxheSBNZXRob2RzXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChuYW1lLCBzaXplLCBvcmRlckluZGV4KSB7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQudGV4dCA9IG5hbWU7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLnNsb3RIZWlnaHQgKiBzaXplO1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLnNsb3RIZWlnaHQgKiBzaXplO1xuICAgIHRoaXMub3JkZXJJbmRleCA9IG9yZGVySW5kZXg7XG59XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLmNvbGxhcHNlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xufVxuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5leHBhbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5leHBhbmRlZEVudGl0eS5lbmFibGVkID0gdHJ1ZTtcbn1cblxuLy8gRHJhZyBtZXRob2RzXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGNvbnN0IGRyYWdIZWxwZXIgPSBuZXcgcGMuRWxlbWVudERyYWdIZWxwZXIodGhpcy5lbnRpdHkuZWxlbWVudCwgbnVsbCk7XG4gICAgZHJhZ0hlbHBlci5vbignZHJhZzpzdGFydCcsIHRoaXMub25EcmFnU3RhcnQsIHRoaXMpO1xufTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUub25EcmFnU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRpdHkucGFyZW50LmZpcmUoJ2RyYWc6c3RhcnQnLCB0aGlzLmVudGl0eSwgdGhpcy5zaXplKTtcbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5UGFuZWxNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkludmVudG9yeVBhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbigncmVvcmRlckl0ZW0nLCB0aGlzLmhhbmRlUmVvcmRlckl0ZW0sIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2VxdWlwSXRlbScsIHRoaXMuaGFuZGxlRXF1aXBJdGVtLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0lOVkVOVE9SWV9QQU5FTDpcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1aXBwZWRNYXAgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJJbnZlbnRvcnlQYW5lbENvbXBvbmVudFwiXS5kaXNwbGF5SXRlbXMoaXRlbXMsIGVxdWlwcGVkTWFwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kZVJlb3JkZXJJdGVtKG9yaWdpbmFsSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFT1JERVJfSU5WRVRPUllfSVRFTSwgb3JpZ2luYWxJbmRleCwgbmV3SW5kZXgpO1xuICAgIH1cblxuICAgIGhhbmRsZUVxdWlwSXRlbShpdGVtSW5kZXgsIHNsb3RLZXkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRVFVSVBfSVRFTV9UT19TTE9ULCBpdGVtSW5kZXgsIHNsb3RLZXkpO1xuICAgIH1cbn1cbiIsIlxuY29uc3QgZXF1aXBtZW50U2xvdFNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdrZXknLFxuICAgICAgICB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEtleScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRpdHknLFxuICAgICAgICB0aXRsZTogJ0VxdWlwbWVudCBTbG90IEVudGl0eScsXG4gICAgICAgIHR5cGU6ICdlbnRpdHknXG4gICAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IEludmVudG9yeVBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlQYW5lbENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbE1lZGlhdG9yIH0gZnJvbSAnLi9JbnZlbnRvcnlQYW5lbE1lZGlhdG9yJztcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1Nsb3QgQ29udGFpbmVyJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0b3BTbG90UG9zaXRpb24nLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RvcCBTbG90IFBvc2l0aW9uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzZXBhcmF0b3JIaWdobGlnaHQnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NlcGFyYXRvciBIaWdobGlnaHQnIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2Nsb3NlQnV0dG9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDbG9zZSBCdXR0b24nIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2l0ZW1Bc3NldCcsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdJdGVtIEFzc2V0JyB9KTtcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2RyYWdJY29uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdEcmFnIEljb24nIH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3Nsb3RXaWR0aCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBXaWR0aCcsIGRlZmF1bHQ6IDMyMCB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pO1xuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21heFNsb3RzJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdNYXggU2xvdHMnLCBkZWZhdWx0OiAxMiB9KTtcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2VxdWlwbWVudFNsb3RzJywgeyB0eXBlOiAnanNvbicsIHNjaGVtYTogZXF1aXBtZW50U2xvdFNjaGVtYSwgYXJyYXk6IHRydWUsIHRpdGxlOiAnRXF1aXBtZW50IFNsb3RzJyB9KTtcblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEludmVudG9yeVBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgSW52ZW50b3J5UGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuICAgIHRoaXMuZW50aXR5Lm9uKCdkcmFnOnN0YXJ0JywgdGhpcy5oYW5kbGVEcmFnU3RhcnQsIHRoaXMpO1xuICAgIHRoaXMuY2xvc2VCdXR0b24uZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsb3NlLCB0aGlzKTtcblxuICAgIHRoaXMuc2VwYXJhdG9ySGlnaGxpZ2h0LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcyA9IFtdO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUpIHtcbiAgICBkcmFnRW50aXR5LnJlcGFyZW50KHRoaXMuZW50aXR5KTtcbiAgICB0aGlzLmRyYWdJY29uLnJlcGFyZW50KHRoaXMuZW50aXR5KTtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VNT1ZFLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VNb3ZlKGRyYWdFbnRpdHksIHNpemUsIGV2dCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFVVAsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZVVwKGRyYWdFbnRpdHksIHNpemUsIGV2dCk7XG4gICAgfSwgdGhpcyk7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgY29uc3Qgc2NyZWVuUG9zID0gbmV3IHBjLlZlYzMoZXZ0LngsIGV2dC55LCAwKTtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UubWF4UGl4ZWxSYXRpbztcbiAgICBzY3JlZW5Qb3MueCAqPSBwaXhlbFJhdGlvO1xuICAgIHNjcmVlblBvcy55ICo9IHBpeGVsUmF0aW87XG5cbiAgICBjb25zdCBzY3JlZW5Db21wID0gdGhpcy5lbnRpdHkuZWxlbWVudC5zY3JlZW4uc2NyZWVuO1xuICAgIGNvbnN0IGRldmljZSA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlO1xuXG4gICAgY29uc3QgcmF0aW9TY2FsZSA9IHNjcmVlbkNvbXAuc2NhbGU7XG4gICAgY29uc3QgeCA9IChzY3JlZW5Qb3MueCAvIHJhdGlvU2NhbGUpO1xuICAgIGNvbnN0IHkgPSAoZGV2aWNlLmhlaWdodCAtIHNjcmVlblBvcy55KSAvIHJhdGlvU2NhbGU7XG5cbiAgICByZXR1cm4gbmV3IHBjLlZlYzMoeCwgeSwgMCk7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0KSB7XG4gICAgY29uc3QgbmV3UG9zaXRpb24gPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChldnQpO1xuICAgIHRoaXMuZHJhZ0ljb24uc2V0TG9jYWxQb3NpdGlvbihuZXdQb3NpdGlvbik7XG5cbiAgICB0aGlzLmRpc3BsYXlQb3RlbnRpYWxMaXN0KGRyYWdFbnRpdHksIHNpemUsIG5ld1Bvc2l0aW9uKTtcblxufVxuXG5cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSwgZXZ0KSB7XG4gICAgY29uc3QgZHJhZ1BvcyA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGV2dCk7XG4gICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gZmFsc2U7XG4gICAgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9mZihwYy5FVkVOVF9NT1VTRU1PVkUpO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub2ZmKHBjLkVWRU5UX01PVVNFVVApO1xuXG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgeDE6IHRvcFNsb3RQb3NpdGlvbi54LCB5MTogdG9wU2xvdFBvc2l0aW9uLnkgLSB0aGlzLm1heFNsb3RzICogdGhpcy5zbG90SGVpZ2h0LFxuICAgICAgICB4MjogdG9wU2xvdFBvc2l0aW9uLnggKyB0aGlzLnNsb3RXaWR0aCwgeTI6IHRvcFNsb3RQb3NpdGlvbi55XG4gICAgfTtcblxuICAgIGNvbnN0IGluQm91bmRzID0gaXNJbkJvdW5kcyhkcmFnUG9zLCBib3VuZHMpO1xuICAgIGlmIChpbkJvdW5kcykge1xuICAgICAgICBjb25zdCBzY3JlZW5IZWlnaHQgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gR2V0IHRoZSB0b3AgY29ybmVyIHBvc2l0aW9uIG9mIHRoZSBkcmFnZ2luZyBpdGVtIGFzIHRoZSB0YXJnZXRcbiAgICAgICAgY29uc3QgY29ybmVyU2NyZWVuUG9zID0geyB4OiBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS54LCB5OiBzY3JlZW5IZWlnaHQgLSBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS55IH1cbiAgICAgICAgY29uc3QgY29ybmVyUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoY29ybmVyU2NyZWVuUG9zKTtcblxuICAgICAgICBjb25zdCBzbG90SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCh0b3BTbG90UG9zaXRpb24ueSAtIGNvcm5lclBvcy55KSAvIHRoaXMuc2xvdEhlaWdodCkpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbEluZGV4ID0gZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5vcmRlckluZGV4O1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdyZW9yZGVySXRlbScsIG9yaWdpbmFsSW5kZXgsIHNsb3RJbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZHJvcHBlZCBpbiBlcXVpcCBzbG90XG4gICAgICAgIHRoaXMuY2hlY2tEcm9wT25FcXVpcG1lbnRTbG90KGRyYWdFbnRpdHksIGV2dCk7XG4gICAgfVxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2hlY2tEcm9wT25FcXVpcG1lbnRTbG90ID0gZnVuY3Rpb24gKGRyYWdnaW5nRW50aXR5LCBtb3VzZUV2ZW50KSB7XG4gICAgZm9yIChjb25zdCBlcXVpcFNsb3Qgb2YgdGhpcy5lcXVpcG1lbnRTbG90cykge1xuICAgICAgICBjb25zdCBlcXVpcFNsb3RLZXkgPSBlcXVpcFNsb3Qua2V5O1xuICAgICAgICBjb25zdCBlcXVpcFNsb3RFbnRpdHkgPSBlcXVpcFNsb3QuZW50aXR5O1xuICAgICAgICBjb25zdCBjb3JuZXJzID0gZXF1aXBTbG90RW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVycztcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0O1xuICAgICAgICBjb25zdCBwb2ludCA9IHsgeDogbW91c2VFdmVudC54LCB5OiBoZWlnaHQgLSBtb3VzZUV2ZW50LnkgfTtcbiAgICAgICAgY29uc3QgYm91bmRzID0ge1xuICAgICAgICAgICAgeDE6IGNvcm5lcnNbMF0ueCwgeTE6IGNvcm5lcnNbMF0ueSxcbiAgICAgICAgICAgIHgyOiBjb3JuZXJzWzJdLngsIHkyOiBjb3JuZXJzWzJdLnksXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGlzSW5Cb3VuZHMocG9pbnQsIGJvdW5kcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1JbmRleCA9IGRyYWdnaW5nRW50aXR5LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0ub3JkZXJJbmRleDtcblxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnZXF1aXBJdGVtJywgaXRlbUluZGV4LCBlcXVpcFNsb3RLZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVJdGVtTW92ZSA9IGZ1bmN0aW9uIChkcmFnZ2luZ0VudGl0eSwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5pc0luQm91bmRzKHZhbHVlKSkge1xuICAgICAgICBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5leHBhbmQoKTtcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JIaWdobGlnaHQuZW5hYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JIaWdobGlnaHQuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNldEhpZ2hsaWdodFBvc2l0aW9uKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gaXNJbkJvdW5kcyhwb2ludCwgYm91bmRzKSB7XG4gICAgcmV0dXJuIHBvaW50LnggPiBib3VuZHMueDEgJiYgcG9pbnQueCA8IGJvdW5kcy54MiAmJiBwb2ludC55ID4gYm91bmRzLnkxICYmIHBvaW50LnkgPCBib3VuZHMueTI7XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheUl0ZW1zID0gZnVuY3Rpb24gKGl0ZW1zLCBlcXVpcHBlZE1hcCkge1xuICAgIHRoaXMuY2xlYXJQYW5lbCgpO1xuICAgIGNvbnN0IHRvcFNsb3RQb3NpdGlvbiA9IHRoaXMudG9wU2xvdFBvc2l0aW9uLmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBsZXQgcnVubmluZ0luZGV4ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgcnVubmluZ0luZGV4ICs9IGl0ZW0uc2l6ZTtcblxuICAgICAgICBjb25zdCBuZXdJdGVtQ29tcG9uZW50ID0gdGhpcy5pdGVtQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgbmV3SXRlbUNvbXBvbmVudC5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLnNldHVwKGl0ZW0ubmFtZSwgaXRlbS5zaXplLCBpKTtcbiAgICAgICAgbmV3SXRlbUNvbXBvbmVudC5zZXRMb2NhbFBvc2l0aW9uKHRvcFNsb3RQb3NpdGlvbi54LCB0b3BTbG90UG9zaXRpb24ueSAtIChydW5uaW5nSW5kZXggKiB0aGlzLnNsb3RIZWlnaHQpLCAwKTtcblxuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcy5wdXNoKG5ld0l0ZW1Db21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5LmFkZENoaWxkKG5ld0l0ZW1Db21wb25lbnQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgZXF1aXBTbG90IG9mIHRoaXMuZXF1aXBtZW50U2xvdHMpIHtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90S2V5ID0gZXF1aXBTbG90LmtleTtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90RW50aXR5ID0gZXF1aXBTbG90LmVudGl0eTtcblxuICAgICAgICBpZiAoZXF1aXBwZWRNYXAuaGFzKGVxdWlwU2xvdEtleSkpIHtcbiAgICAgICAgICAgIGVxdWlwU2xvdEVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnRcIl0uc2V0dXAodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcXVpcFNsb3RFbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50XCJdLnNldHVwKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuZGlzcGxheVBvdGVudGlhbExpc3QgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSwgZHJhZ1Bvcykge1xuICAgIGNvbnN0IHRvcFNsb3RQb3NpdGlvbiA9IHRoaXMudG9wU2xvdFBvc2l0aW9uLmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBib3VuZHMgPSB7XG4gICAgICAgIHgxOiB0b3BTbG90UG9zaXRpb24ueCwgeTE6IHRvcFNsb3RQb3NpdGlvbi55IC0gdGhpcy5tYXhTbG90cyAqIHRoaXMuc2xvdEhlaWdodCxcbiAgICAgICAgeDI6IHRvcFNsb3RQb3NpdGlvbi54ICsgdGhpcy5zbG90V2lkdGgsIHkyOiB0b3BTbG90UG9zaXRpb24ueVxuICAgIH07XG5cbiAgICBjb25zdCBpbkJvdW5kcyA9IGlzSW5Cb3VuZHMoZHJhZ1BvcywgYm91bmRzKTtcbiAgICBpZiAoaW5Cb3VuZHMpIHtcbiAgICAgICAgLy8gRG8gdGhlIHN0dWZmXG4gICAgICAgIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uZXhwYW5kKCk7XG4gICAgICAgIHRoaXMuZHJhZ0ljb24uZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBzY3JlZW5IZWlnaHQgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gR2V0IHRoZSB0b3AgY29ybmVyIHBvc2l0aW9uIG9mIHRoZSBkcmFnZ2luZyBpdGVtIGFzIHRoZSB0YXJnZXRcbiAgICAgICAgY29uc3QgY29ybmVyU2NyZWVuUG9zID0geyB4OiBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS54LCB5OiBzY3JlZW5IZWlnaHQgLSBkcmFnRW50aXR5LmVsZW1lbnQuc2NyZWVuQ29ybmVyc1syXS55IH1cbiAgICAgICAgY29uc3QgY29ybmVyUG9zID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoY29ybmVyU2NyZWVuUG9zKTtcblxuICAgICAgICBjb25zdCBzbG90SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKCh0b3BTbG90UG9zaXRpb24ueSAtIGNvcm5lclBvcy55KSAvIHRoaXMuc2xvdEhlaWdodCkpO1xuICAgICAgICB0aGlzLnJlb3JkZXJMaXN0V2l0aEdhcChkcmFnRW50aXR5LCBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLnNpemUsIHNsb3RJbmRleCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlcGFyYXRvckhpZ2hsaWdodC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uY29sbGFwc2UoKTtcbiAgICAgICAgdGhpcy5kcmFnSWNvbi5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG59XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5yZW9yZGVyTGlzdFdpdGhHYXAgPSBmdW5jdGlvbiAoZHJhZ0VudGl0eSwgc2l6ZSwgZ2FwSW5kZXgpIHtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IHJ1bm5pbmdJbmRleCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW1FbnRpdHkgPSB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllc1tpXTtcblxuICAgICAgICAvLyBEb24ndCByZXBvc2l0aW9uIHRoZSBlbnRpdHkgYmVpbmcgZHJhZ2dlZFxuICAgICAgICBpZiAoZHJhZ0VudGl0eSAhPT0gaW52ZW50b3J5SXRlbUVudGl0eSkge1xuICAgICAgICAgICAgaWYgKGdhcEluZGV4ID49IHJ1bm5pbmdJbmRleCAmJiBnYXBJbmRleCA8IHJ1bm5pbmdJbmRleCArIGludmVudG9yeUl0ZW1FbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5SXRlbUNvbXBvbmVudFwiXS5zaXplKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZ0luZGV4ICs9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5uaW5nSW5kZXggKz0gaW52ZW50b3J5SXRlbUVudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLnNpemU7XG5cbiAgICAgICAgICAgIGludmVudG9yeUl0ZW1FbnRpdHkuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyUGFuZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2hpbGUgKHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucG9wKCk7XG4gICAgICAgIGVudGl0eS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IEludmVudG9yeURyYWdJY29uQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCcpO1xuXG4vKkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcbkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pOyovXG5cblxuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKG5hbWUsIHNpemUpIHtcblxufVxuXG4iLCJleHBvcnQgY29uc3QgSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQnKTtcblxuLypJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90SGVpZ2h0JywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdTbG90IEhlaWdodCcsIGRlZmF1bHQ6IDQ0IH0pOyovXG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaWNvbkVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSWNvbiBFbnRpdHknIH0pO1xuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pY29uRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbn1cblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuaWNvbkVudGl0eS5lbmFibGVkID0gdmFsdWU7XG59XG5cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5jb25zdCB7IFB1cmVNVkMgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQ2Fjb2dlbkdhbWUgfSBmcm9tICcuL3ZpZXcvQ2Fjb2dlbkdhbWUnO1xuXG5pbXBvcnQgeyBOYXZpZ2F0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL2FnZ3JvL0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50JztcbmltcG9ydCB7IFRvYXN0TWVzc2FnZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50JztcbmltcG9ydCB7IFNldENhbWVyYVRhcmdldENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL3NldENhbWVyYVRhcmdldC9TZXRDYW1lcmFUYXJnZXRDb21wb25lbnQnO1xuaW1wb3J0IHsgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcGxheWVyQ29tYmF0UGFuZWwvUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSGl0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQnO1xuaW1wb3J0IHsgQWN0aW9uUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgVUlTdG9wUHJvcGFnYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvVUlTdG9wUHJvcGFnYXRpb24nO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUHJvamVjdGlsZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ29tcG9uZW50JztcbmltcG9ydCB7IFN0YW1pbmFCYXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9hY3Rpb25zUmVtYWluaW5nUGFuZWwvQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQnO1xuaW1wb3J0IHsgRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2Zsb2F0aW5nU3RhdHVzL0Zsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCc7XG5pbXBvcnQgeyBQb3J0YWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50JztcbmltcG9ydCB7IERlZmF1bHRBbmltYXRpb25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9kZWZhdWx0QW5pbS9EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IERpYWxvZ3VlVGV4dENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlVGV4dENvbXBvbmVudCc7XG5pbXBvcnQgeyBBdHRhY2tCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBWZWhpY2xlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTY3JlZW5SZXNpemVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvc2NyZWVuUmVzaXplL1NjcmVlblJlc2l6ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50JztcbmltcG9ydCB7IEludmVudG9yeUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50JztcblxuY2xhc3MgTWFpbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIFB1cmVNVkMuZGVidWcgPSB0cnVlO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBHYW1lRmFjYWRlLmdldEluc3RhbmNlO1xuICAgICAgICBjb25zb2xlLmxvZyhGYWNhZGUpO1xuXG4gICAgICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICAgICAgdGhpcy5mYWNhZGUuc3RhcnR1cCh0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IG1haW4gPSBuZXcgTWFpbigpOyJdLCJzb3VyY2VSb290IjoiIn0=