(()=>{"use strict";var t={382:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(542),o=i(999),r=function(){function t(e){if(this.commandMap={},t.instanceMap[e])throw new Error("controller key for this Multiton key already constructed");this.multitonKey=e,this.logger=n.PureMVC.debug?n.PureMVC.logCommand:n.PureMVC.logNone,this.initializeController()}return t.removeController=function(t){delete this.instanceMap[t]},t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.prototype.registerCommand=function(t,e){this.commandMap[t]||this.view.registerObserver(t,this.executeCommand,this),this.commandMap[t]=e},t.prototype.hasCommand=function(t){return void 0!==this.commandMap[t]},t.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this.executeCommand,this),delete this.commandMap[t])},t.prototype.initializeController=function(){this.view=o.View.getInstance(this.multitonKey)},t.prototype.executeCommand=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this.commandMap[e];o&&(this.logger(t._consoleArgs,e,o.name),o.apply(void 0,[this.multitonKey,e].concat(i)))},t._consoleArgs=["","background: #3F234E","background: #6E2994","color: #D4BFE0; background: #8724BD;","background: #6E2994","background: #3F234E"],t.instanceMap={},t}();e.Controller=r},222:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382),o=i(433),r=i(542),a=i(999),s=function(){function t(e){if(t.instanceMap[e])throw new Error("Facade instance for this Multiton key already constructed!");this.logger=r.PureMVC.debug?r.PureMVC.logNotification:r.PureMVC.logNone,this.initializeNotifier(e),this.initializeFacade()}return t.getInstance=function(e){return e?(t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]):null},t.hasCore=function(t){return void 0!==this.instanceMap[t]},t.removeCore=function(t){this.instanceMap[t]&&(o.Model.removeModel(t),a.View.removeView(t),n.Controller.removeController(t),delete this.instanceMap[t])},t.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},t.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},t.prototype.removeCommand=function(t){this.controller.removeCommand(t)},t.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},t.prototype.registerProxy=function(t){this.model.registerProxy(t)},t.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},t.prototype.removeProxy=function(t){return this.model?this.model.removeProxy(t):null},t.prototype.hasProxy=function(t){return this.model.hasProxy(t)},t.prototype.registerMediator=function(t){this.view.registerMediator(t)},t.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},t.prototype.removeMediator=function(t){return this.view.removeMediator(t)},t.prototype.sleepMediator=function(t){return this.view.sleepMediator(t)},t.prototype.awakeMediator=function(t){return this.view.awakeMediator(t)},t.prototype.hasMediator=function(t){return this.view.hasMediator(t)},t.prototype.sendNotification=function(e){for(var i,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.logger.apply(this,[t._consoleArgs,e].concat(n)),(i=this.view).notifyObservers.apply(i,[e].concat(n))},t.prototype.initializeNotifier=function(t){this.multitonKey=t},t.prototype.initializeController=function(){this.controller||(this.controller=n.Controller.getInstance(this.multitonKey))},t.prototype.initializeModel=function(){this.model||(this.model=o.Model.getInstance(this.multitonKey))},t.prototype.initializeView=function(){this.view||(this.view=a.View.getInstance(this.multitonKey))},t._consoleArgs=["","background: #757130","background: #DED434","color: #2F2E15; background: #FFF325;","background: #DED434","background: #757130"],t.instanceMap={},t}();e.Facade=s},651:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.logger=a.PureMVC.debug?a.PureMVC.logMediator:a.PureMVC.logNone,n.mediatorName=e||"Mediator",n.viewComponent=i,n.sleeping=!0,n.subscribedNotifications=[],n.notificationSubscriptionChange=null,n}return o(e,t),Object.defineProperty(e.prototype,"notifications",{get:function(){return this.subscribedNotifications},enumerable:!0,configurable:!0}),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.onRegister=function(t){this.notificationSubscriptionChange=t,this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.notificationSubscriptionChange=null,this.logger(e._consoleArgs,this.constructor.name,"remove")},e.prototype.onSleep=function(){this.sleeping=!0,this.logger(e._consoleArgs,this.constructor.name,"sleep")},e.prototype.onAwake=function(){this.sleeping=!1,this.logger(e._consoleArgs,this.constructor.name,"awake")},Object.defineProperty(e.prototype,"isSleeping",{get:function(){return this.sleeping},enumerable:!0,configurable:!0}),e.prototype.subscribeNotification=function(t){this.changeSubscription(t,this.addSubscription)},e.prototype.unsubscribeNotification=function(t){this.changeSubscription(t,this.removeSubscription)},e.prototype.changeSubscription=function(t,e){var i=this,n=this.notifications.slice(),o=!1;t instanceof Array?t.forEach((function(t){o=e.call(i,t)||o})):o=e.call(this,t),o&&this.notificationSubscriptionChange&&this.notificationSubscriptionChange(this,n)},e.prototype.addSubscription=function(t){return-1===this.notifications.indexOf(t)&&(this.notifications.push(t),!0)},e.prototype.removeSubscription=function(t){var e=this.notifications.indexOf(t);return-1!==e&&(this.notifications.splice(e,1),!0)},e._consoleArgs=["","background: #2A3351","background: #364D98","color: #F4F6FE; background: #3656C1;","background: #364D98","background: #2A3351"],e}(r.Notifier);e.Mediator=s},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(this.proxyMap={},t.instanceMap[e])throw new Error("Model instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeModel()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeModel=function(t){delete this.instanceMap[t]},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]},t.prototype.hasProxy=function(t){return void 0!==this.proxyMap[t]},t.prototype.removeProxy=function(t){if(this.proxyMap[t]){var e=this.proxyMap[t];return e.onRemove(),delete this.proxyMap[t],e}return null},t.prototype.initializeModel=function(){},t.instanceMap={},t}();e.Model=i},117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),o=function(){function t(){}return t.prototype.initializeNotifier=function(t){this.multitonKey=t,this.facade=this.getFacade()},t.prototype.sendNotification=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.facade&&(e=this.facade).sendNotification.apply(e,[t].concat(i))},t.prototype.getFacade=function(){if(null===this.multitonKey)throw new Error("multitonKey for this Notifier not yet initialized!");return n.Facade.getInstance(this.multitonKey)},t}();e.Notifier=o},413:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(117),a=i(542),s=function(t){function e(e,i){var n=t.call(this)||this;return n.proxyName=e||"Proxy",n.logger=a.PureMVC.debug?a.PureMVC.logProxy:a.PureMVC.logNone,i&&n.setData(i),n}return o(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){this.logger(e._consoleArgs,this.constructor.name,"register")},e.prototype.onRemove=function(){this.logger(e._consoleArgs,this.constructor.name,"remove")},e._consoleArgs=["","background: #295A34","background: #2FAA4A","color: #102415; background: #27D04C;","background: #2FAA4A","background: #295A34"],e}(r.Notifier);e.Proxy=s},542:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.logCommand=function(t,e,i){t[0]="%c %c %c "+e+" =>  "+i+" %c %c ",console.log.apply(console,t)},t.logNotification=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t[0]="%c %c %c "+e+": args [ "+i+" ] %c %c ",console.log.apply(console,t)},t.logMediator=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logProxy=function(t,e,i){t[0]="%c %c %c "+e+": "+i+" %c %c ",console.log.apply(console,t)},t.logNone=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.debug=!0,t}();e.PureMVC=i},999:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(729),o=function(){function t(e){if(this.mediatorMap={},this.eventEmitter=new n,t.instanceMap[e])throw new Error("View instance for this Multiton key already constructed!");this.multitonKey=e,this.initializeView()}return t.getInstance=function(e){return e?(this.instanceMap[e]||(this.instanceMap[e]=new t(e)),this.instanceMap[e]):null},t.removeView=function(t){delete this.instanceMap[t]},t.prototype.removeObserver=function(t,e,i){this.eventEmitter.removeListener(t,e,i)},t.prototype.registerObserver=function(t,e,i){this.eventEmitter.on(t,e,i)},t.prototype.notifyObservers=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];(e=this.eventEmitter).emit.apply(e,[t,t].concat(i))},t.prototype.registerMediator=function(t){this.mediatorMap[t.getMediatorName()]||(t.initializeNotifier(this.multitonKey),this.mediatorMap[t.getMediatorName()]=t,this.registerObservers(t),t.onRegister(this.onMediatorNotificationSubscriptionChange.bind(this)),t.onAwake())},t.prototype.awakeMediator=function(t){var e=this.mediatorMap[t];if(e){if(!e.isSleeping)return e;this.registerObservers(e),e.onAwake()}return e},t.prototype.retrieveMediator=function(t){return this.mediatorMap[t]},t.prototype.removeMediator=function(t){var e=this.mediatorMap[t];return e&&(this.removeObservers(e),delete this.mediatorMap[t],e.onSleep(),e.onRemove()),e},t.prototype.sleepMediator=function(t){var e=this.mediatorMap[t];if(e){if(e.isSleeping)return e;this.removeObservers(e),e.onSleep()}return e},t.prototype.hasMediator=function(t){return void 0!==this.mediatorMap[t]},t.prototype.initializeView=function(){},t.prototype.removeObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.removeObserver(r,t.handleNotification,t)}},t.prototype.registerObservers=function(t,e){var i=e||t.notifications;if(i.length>0)for(var n=0,o=i;n<o.length;n++){var r=o[n];this.registerObserver(r,t.handleNotification,t)}},t.prototype.onMediatorNotificationSubscriptionChange=function(t,e){this.removeObservers(t,e),this.registerObservers(t)},t.instanceMap={},t}();e.View=o},710:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(382);e.Controller=n.Controller;var o=i(222);e.Facade=o.Facade;var r=i(651);e.Mediator=r.Mediator;var a=i(433);e.Model=a.Model;var s=i(117);e.Notifier=s.Notifier;var c=i(413);e.Proxy=c.Proxy;var h=i(542);e.PureMVC=h.PureMVC;var d=i(999);e.View=d.View},729:t=>{var e=Object.prototype.hasOwnProperty,i="~";function n(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),c=i?i+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,o,r,a){var s=i?i+t:t;if(!this._events[s])return!1;var c,h,d=this._events[s],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,o),!0;case 5:return d.fn.call(d.context,e,n,o,r),!0;case 6:return d.fn.call(d.context,e,n,o,r,a),!0}for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];d.fn.apply(d.context,c)}else{var p,u=d.length;for(h=0;h<u;h++)switch(d[h].once&&this.removeListener(t,d[h].fn,void 0,!0),l){case 1:d[h].fn.call(d[h].context);break;case 2:d[h].fn.call(d[h].context,e);break;case 3:d[h].fn.call(d[h].context,e,n);break;case 4:d[h].fn.call(d[h].context,e,n,o);break;default:if(!c)for(p=1,c=new Array(l-1);p<l;p++)c[p-1]=arguments[p];d[h].fn.apply(d[h].context,c)}}return!0},s.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,o){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return a(this,r),this;var s=this._events[r];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||a(this,r);else{for(var c=0,h=[],d=s.length;c<d;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&h.push(s[c]);h.length?this._events[r]=1===h.length?h[0]:h:a(this,r)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s},298:(t,e,i)=>{i.r(e),i.d(e,{GameFacade:()=>Se});var n=i(68);class o{constructor(t,e,i){this.x=t,this.y=e,this.z=i,this.connectedNodes=[],this.occupied=!1}isConnected(t){return this.connectedNodes.some((e=>e.x===t.x&&e.y===t.y&&e.z===t.z))}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}equalsPoint(t,e,i){return this.x===t&&this.y===e&&this.z===i}addConnectedNode(t){this.isConnected(t)||this.connectedNodes.push(t)}disconnectedNode(t){const e=this.connectedNodes.findIndex((e=>e.equals(t)));this.connectedNodes.splice(e,1)}}var r=i(969),a=i(434);const{Facade:s}=i(710);function c(t,e,...i){const c=s.getInstance(t),y=pc.Application.getApplication(),g=function(t){const e=t.root.findByTag("navigation_floor");let i=[];const n=[];for(const t of e){const e=t.script.NavigationComponent;n.push(e);const i=l(t);e.setGrid(i)}for(const t of n)for(const e of t.connectedComponents){const n=e.script.NavigationComponent;p(t.getGrid(),n.getGrid()),i=i.concat(t.getGrid())}return i}(y),m=function(t,e){const i=[],n=t.root.findByTag("wall");for(const t of n){const n=h(t);i.push(n),d(t,e),t.destroy()}return i}(y,g),A=function(t,e){let i=[];const n=t.root.findByTag("cover");for(const t of n)i=i.concat(u(t,e)),t.destroy();return i}(y,g),f=function(t){const e=new Map,i=t.root.findByTag("portal");for(const t of i){const i=t.script.PortalComponent,n=i.portalId,o={portalId:n,destinationScene:i.destinationScene,destinationPortal:i.destinationPortal,standingPoint:i.standingPoint.getPosition(),hitboxPoint:i.hitbox.getPosition()};e.set(n,o)}return e}(y),N=function(t){const e=[];for(const i of t)E(i,t)&&e.push(new o(i.x,i.y,i.z));for(const i of e)for(const n of e)if(!i.equals(n)||!n.isConnected(i)){const e=a.q.calculateBresenhamLine(i.x,i.z,n.x,n.z);a.q.checkValidLine(e,t)&&(i.addConnectedNode(n),n.addConnectedNode(i))}return e}(g);c.hasProxy(r.h.NAME)&&c.removeProxy(r.h.NAME),c.registerProxy(new r.h(g,m,A,f,N)),c.sendNotification(n.i.MAP_GRID_CREATED)}function h(t){const e=t.getLocalScale(),i=new pc.Vec3(e.x/2,e.y/2,e.z/2);return new pc.BoundingBox(t.getPosition(),i)}function d(t,e){const i=t.getPosition(),n=t.getLocalScale(),o=Math.round(i.y-.5*n.y),r=Math.round(i.x-.5*n.x),a=Math.round(i.z-.5*n.z);for(let t=r;t<r+n.x;t++)for(let i=a;i<a+n.z;i++){const n=e.findIndex((e=>e.equalsPoint(t,o,i)));if(n>-1){const t=e.splice(n,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}}function l(t){const e=[],i=t.getLocalPosition(),n=t.getLocalScale(),r=Math.round(n.x),a=Math.round(n.z),s=Math.round(i.x-r/2),c=i.y,h=Math.round(i.z-a/2);for(let t=h;t<h+a;t++)for(let i=s;i<s+r;i++){const n=new o(i,c,t);e.push(n)}for(const t of e)for(const i of e)(i.equalsPoint(t.x-1,t.y,t.z)||i.equalsPoint(t.x+1,t.y,t.z)||i.equalsPoint(t.x,t.y,t.z-1)||i.equalsPoint(t.x,t.y,t.z+1))&&t.addConnectedNode(i);return e}function p(t,e){for(const i of t)for(const t of e)(t.equalsPoint(i.x-1,i.y,i.z)||t.equalsPoint(i.x+1,i.y,i.z)||t.equalsPoint(i.x,i.y,i.z-1)||t.equalsPoint(i.x,i.y,i.z+1))&&i.addConnectedNode(t)}function u(t,e){const i=[],n=t.getPosition(),o=t.getLocalScale(),r=Math.round(n.y-.5*o.y),a=Math.round(n.x-.5*o.x),s=Math.round(n.z-.5*o.z);for(let t=a;t<a+o.x;t++)for(let n=s;n<s+o.z;n++){const o=new pc.Vec3(t,r,n);i.push(o);const a=e.findIndex((e=>e.equalsPoint(t,r,n)));if(a>-1){const t=e.splice(a,1);for(const e of t)for(const t of e.connectedNodes)t.disconnectedNode(e)}}return i}function E(t,e){const i=new pc.Vec3(t.x-1,t.y,t.z-1),n=new pc.Vec3(t.x,t.y,t.z-1),o=new pc.Vec3(t.x+1,t.y,t.z-1),r=new pc.Vec3(t.x+1,t.y,t.z),a=new pc.Vec3(t.x+1,t.y,t.z+1),s=new pc.Vec3(t.x,t.y,t.z+1),c=new pc.Vec3(t.x-1,t.y,t.z+1),h=new pc.Vec3(t.x-1,t.y,t.z);return!((e.some((t=>t.equals(i)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(h))))&&(e.some((t=>t.equals(o)))||!t.connectedNodes.some((t=>t.equals(n)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(a)))||!t.connectedNodes.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(r))))&&(e.some((t=>t.equals(c)))||!t.connectedNodes.some((t=>t.equals(s)))||!t.connectedNodes.some((t=>t.equals(h)))))}var y=i(917);const{Proxy:g}=i(710);class m extends g{get vo(){return this.getData()}static get NAME(){return"WeaponsProxy"}constructor(t){super(m.NAME,t)}getDamage(t,e){for(const i in this.vo)if(Object.hasOwnProperty.call(this.vo,i)){const n=this.vo[i];if(Object.hasOwnProperty.call(n,t))return n[t].damage[Math.min(e-1,6)]}throw new Error("Cannot find weapon:: "+t)}getWeaponCategory(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(Object.hasOwnProperty.call(i,t))return e}throw new Error("Cannot category for weapon:: "+t)}}const{Proxy:A}=i(710),{StoryVO:f}=i(553);class N extends A{get vo(){return this.getData()}static get NAME(){return"StoryProxy"}constructor(){const t=pc.Application.getApplication(),e=t.assets.get(40529920).resource.trees,i=new Map;for(const n in e)if(Object.hasOwnProperty.call(e,n)){const o=e[n],r=t.assets.get(o).resource;i.set(n,r)}super(N.NAME,i),this.currentTree=void 0,this.currentNode=void 0,this.currentStepIndex=0,this.currentConditions=[]}getTree(t){return this.vo.has(t)?this.vo.get(t):void 0}getNode(t,e){const i=t.nodes;return Object.hasOwnProperty.call(i,e)?i[e]:void 0}getStep(t,e){const i=t.steps;return e<i.length?i[e]:void 0}goToNode(t){this.currentNode=t,this.currentStepIndex=0}startDialogueTree(t){this.currentTree=t,this.currentNode="entry",this.currentStepIndex=0;const e=this.getTree(this.currentTree);if(!e)throw Error(`Cannot start dialogue: Tree ${this.currentTree} not found`);if(!this.getNode(e,this.currentNode))throw Error('Cannot start dialogue: no "entry" node defined on '+t);return e}getCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode),i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}continueCurrentNodeStep(){const t=this.getTree(this.currentTree),e=this.getNode(t,this.currentNode);this.currentStepIndex++;const i=this.getValidStep(e,this.currentStepIndex);if(i&&i.once){const t=this.getConditionStringForStep(this.currentTree,this.currentNode,this.currentStepIndex);this.addCondition(t)}return i}getValidStep(t,e){let i=this.getStep(t,e);if(i){let n=[];if(i.conditions&&(n=n.concat(i.conditions)),i.once){const t=this.getInvertedConditionStringForStep(this.currentTree,this.currentNode,e);n=n.concat(t),console.log("Test valid step"),console.log(n)}return this.testConditions(n)?i:(this.currentStepIndex=e+1,this.getValidStep(t,this.currentStepIndex))}return i}getConditionStringForStep(t,e,i){return`${t}${e}${i}`}getInvertedConditionStringForStep(t,e,i){return`!${t}${e}${i}`}selectChoice(t){return this.getCurrentNodeStep().choices[t]}addCondition(t){-1===this.currentConditions.indexOf(t)&&this.currentConditions.push(t)}removeCondition(t){const e=this.currentConditions.indexOf(t);e>-1&&this.currentConditions.splice(e,1)}testConditions(t){let e=!0;for(const i of t){const t="||",n=i.split(t);if(n.length>1){let t=!1;for(const e of n)this.checkCondition(e)&&(t=!0);e&&(e=t)}else e&&(e=this.checkCondition(i))}return e}checkCondition(t){let e=!0;if(t.startsWith("!")){const i=t.slice(1,t.length);this.currentConditions.indexOf(i)>-1&&(e=!1)}else if(t.startsWith("+")){const i=t.slice(1,t.length);this.addCondition(i),e=!0}else if(t.startsWith("-")){const i=t.slice(1,t.length);this.removeCondition(i),e=!0}else-1===this.currentConditions.indexOf(t)&&(e=!1);return e}}const{Proxy:T}=i(710),{InventoryVO:C}=i(713);class _ extends T{get vo(){return this.getData()}static get NAME(){return"InventoryProxy"}constructor(){super(_.NAME,new C)}get inventoryItems(){return this.vo.inventoryItems}set inventoryItems(t){this.vo.inventoryItems=t}get equipmentSlots(){return this.vo.equipmentSlots}reorderInventoryItem(t,e){const i=this.inventoryItems.splice(t,1);let n=0,o=0;for(let t=0;t<this.inventoryItems.length;t++){const i=this.inventoryItems[t];e>=n&&e<n+i.size&&(o=t),n+=i.size}if(e>=n&&(o=this.inventoryItems.length),"[object Array]"!==Object.prototype.toString.call(this.inventoryItems))throw new Error("Please provide a valid array");if(!i.length)throw new Error("There is no item in the array at index "+t);this.inventoryItems.splice(o,0,i[0])}attemptToEquipItemToSlot(t,e){return this.equipmentSlots.get(t),this.equipmentSlots.set(t,e),!0}addInventoryItem(t){this.inventoryItems.push(t)}}const{Proxy:M}=i(710);class v extends M{get vo(){return this.getData()}static get NAME(){return"ItemsProxy"}constructor(t){super(v.NAME,t)}getItemData(t){for(const e in this.vo)if(Object.hasOwnProperty.call(this.vo,e)){const i=this.vo[e];if(console.log(i),Object.hasOwnProperty.call(i,t))return{id:t,type:e,...this.vo[e][t]}}throw new Error("Cannot find data for item:: "+t)}}const{Facade:P}=i(710);function S(t,e){P.getInstance(t).registerProxy(new y.u);const i=pc.Application.getApplication();if(i){const e=i.assets.get(40415631).resource;P.getInstance(t).registerProxy(new m(e));const o=i.assets.get(40814027).resource;P.getInstance(t).registerProxy(new v(o)),P.getInstance(t).registerProxy(new N),P.getInstance(t).registerProxy(new _),P.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"sword"),P.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"fusil"),P.getInstance(t).sendNotification(n.i.ADD_ITEM_TO_INVENTORY,"chainmail")}}const{Facade:I}=i(710);function b(t,e,...i){const o=pc.Application.getApplication(),r=i[0],a=i[1];console.log("Changing scene "+r);const s=o.root.findByName("Root"),c=o.scenes.find(r);o.scenes.loadSceneHierarchy(c.url,(function(e,i){e?console.error(e):s&&s.destroy(),I.getInstance(t).sendNotification(n.i.CHANGE_SCENE_COMPLETE,r),I.getInstance(t).sendNotification(n.i.PARSE_GAMEMAP,r),I.getInstance(t).sendNotification(n.i.ADD_PLAYER_CHARACTER_TO_MAP,a)}))}function O(t){let e=t.length,i=void 0,n=-1;for(;0!==e;)n=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[n],t[n]=i;return t}var x=i(958);const{Proxy:L}=i(710),{CombatVO:D}=i(201);class w extends L{get vo(){return this.getData()}static get NAME(){return"CombatProxy"}constructor(t,e){super(w.NAME,new D(t,e))}onRegister(){const t=this.vo.participants;this.participantProxies=new Map;for(const e of t){const t=this.facade.retrieveProxy(x.b.NAME+e);this.participantProxies.set(e,t)}}nextTurn(){const t=this.vo.roundInitiative;if(t&&t.length>0){const e=t.shift();if(this.vo.activeParticipant=e,"end_round"!==e){this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Turn "+e);const t=this.participantProxies.get(e);t.resetCombatTurnState(),t.isNPC?this.facade.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,e):this.facade.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,e)}else this.facade.sendNotification(n.i.SHOW_TOAST_MESSAGE,"End round"),setTimeout((()=>{this.facade.sendNotification(n.i.NEXT_COMBAT_ROUND)}),3e3)}}nextRound(){console.log("/////////////////"),console.log("//  New round  //"),console.log("/////////////////");const t=[];for(const[e,i]of this.participantProxies.entries()){const n=i.vo;for(let i=0;i<n.initiative;i++)t.push(e)}if(0===t.length)return void this.facade.sendNotification(n.i.END_COMBAT);t.push("end_round");let e=O(t);for(;"end_round"===e[0];)e=O(e);this.vo.roundInitiative=e}get nextTurnCharacterId(){return this.vo.nextTurnCharacterId}get activeParticipant(){return this.vo.activeParticipant}set activeParticipant(t){this.vo.activeParticipant=t}get participants(){return this.vo.participants}get teams(){return this.vo.teams}removeCharacterFromCombat(t){this.participantProxies.delete(t),this.vo.roundInitiative=this.vo.roundInitiative.filter((e=>e!==t));for(const[e,i]of this.teams.entries()){const o=i.indexOf(t);o>-1&&i.splice(o,1),0===i.length&&this.facade.sendNotification(n.i.END_COMBAT,e)}}}var R=i(448);const{Facade:G}=i(710);function k(t,e,...i){const o=i[0],r=G.getInstance(t);r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Start Combat"),r.retrieveProxy(y.u.NAME).updateGameStateType(R.gameplayModeTypes.COMBAT);const a=r.retrieveProxy(x.b.NAME+o);r.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"spotted",a);const s=new Map,c=["player"];s.set("player_team",c);const h=[o].concat(a.combatGroup).filter((function(t,e,i){return i.indexOf(t)==e}));s.set("opposing_team",h);const d=c.concat(h),l=r.retrieveProxy(x.b.NAME+"player");for(const t of d)r.sendNotification(n.i.END_MOVEMENT+t),"player"!==t?r.sendNotification(n.i.CHARACTER_LOOK_AT+t,l.currentNode):r.sendNotification(n.i.CHARACTER_LOOK_AT+t,a.currentNode);const p=new w(d,s);r.registerProxy(p),setTimeout((()=>{r.sendNotification(n.i.NEXT_COMBAT_ROUND)}),2e3)}const{Facade:U}=i(710);function V(t,e,...i){const n=U.getInstance(t),o=n.retrieveProxy(y.u.NAME),r=n.retrieveProxy(w.NAME);o.vo.gameplayMode===R.gameplayModeTypes.COMBAT&&r.nextTurn()}const{Facade:H}=i(710);function F(t,e,...i){const o=H.getInstance(t),r=o.retrieveProxy(y.u.NAME),a=o.retrieveProxy(w.NAME);r.vo.gameplayMode===R.gameplayModeTypes.COMBAT&&(a.nextRound(),o.sendNotification(n.i.NEXT_COMBAT_TURN,a.vo.nextTurnCharacterId))}const{Facade:z}=i(710);function B(t,e,...i){setTimeout((()=>{const e=z.getInstance(t),i=e.retrieveProxy(w.NAME);e.sendNotification(n.i.HIDE_WALKABLE_AREA),e.sendNotification(n.i.NEXT_COMBAT_TURN,i.nextTurnCharacterId)}),500)}class W{static get SUCCESS(){return 0}static get FAILURE(){return 1}static get RUNNING(){return 2}static get ERROR(){return 3}}var Y=i(217);class q{constructor(t){this.initialize(t)}initialize(t){this.id=(0,Y.L)(),this.children=t||[]}execute(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);const e=this._tick(t);return e!==W.RUNNING&&this._close(t),this._exit(t),e}_enter(t){t.enterNode(this),this.enter(t)}_open(t){t.openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)}_tick(t){return t.tickNode(this),this.tick(t)}_close(t){t.closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)}_exit(t){t.exitNode(this),this.exit(t)}enter(t){}open(t){}tick(t){return W.ERROR}close(t){}exit(t){}}class K extends q{tick(t){for(const e of this.children)e.execute(t);return W.SUCCESS}}class j{constructor(){this.initialise()}initialise(){this.baseMemory={},this.treeMemory={}}getTreeMemory(t){return this.treeMemory[t]||(this.treeMemory[t]={nodeMemory:{},openNodes:[]}),this.treeMemory[t]}getNodeMemory(t,e){const i=t.nodeMemory;return i.hasOwnProperty(e)||(i[e]={}),i[e]}getMemory(t,e){var i=this.baseMemory;return t&&(i=this.getTreeMemory(t),e&&(i=this.getNodeMemory(i,e))),i}set(t,e,i,n){this.getMemory(i,n)[t]=e}get(t,e,i){return this.getMemory(e,i)[t]}}class ${constructor(){this.initialise()}initialise(){this.tree=void 0,this.openNodes=[],this.nodeCount=0,this.debug=void 0,this.target=void 0,this.blackboard=void 0}enterNode(t){this.nodeCount++,this.openNodes.push(t)}openNode(t){}tickNode(t){}closeNode(t){this.openNodes.pop()}exitNode(t){}}class X{constructor(t){this.initialise(t)}initialise(t){this.id=t,this.root=void 0}tick(t,e){const i=new $;i.target=t,i.blackboard=e,i.tree=this,this.root.execute(i);const n=e.get("openNodes",this.id)||[],o=i.openNodes.slice(0);let r=0;for(let t=0;t<Math.min(n.length,o.length)&&(r=t+1,n[t]===o[t]);t++);for(let t=n.length-1;t>=r;t--)n[t].close(i);e.set("openNodes",o,this.id),e.set("nodeCount",i.nodeCount,this.id)}}class Q{constructor(t){this.id="basicMeleeTree",this.blackboard=new j,this.tree=new X(t),this.initialise()}initialise(){}runCommands(t,e){this.blackboard.set("facade",t,!1,!1),this.blackboard.set("characterId",e,this.tree.id,!1),this.tree.tick(this,this.blackboard)}}class J extends q{tick(t){for(const e of this.children){const i=e.execute(t);if(i!==W.FAILURE)return i}return W.FAILURE}}class Z extends q{tick(t){return t.blackboard.set("target","player",t.tree.id,!1),W.SUCCESS}}class tt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_ATTACK,i,o),W.SUCCESS}}class et extends q{tick(t){return t.blackboard.get("facade",!1,!1).sendNotification(n.i.END_COMBAT_TURN),W.SUCCESS}}class it extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).availableMovement>0?W.SUCCESS:W.FAILURE}}class nt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=e.retrieveProxy(x.b.NAME+i).currentNode;return e.retrieveProxy(x.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(n)))?W.SUCCESS:W.FAILURE}}class ot extends q{open(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)}tick(t){for(let e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){let i=this.children[e].execute(t);if(i!==W.SUCCESS)return i===W.RUNNING&&t.blackboard.set("runningChild",e,t.tree.id,this.id),i}return W.SUCCESS}}class rt extends q{tick(t){const e=this.children[0];if(!e)return W.ERROR;let i=e.execute(t);return i==W.SUCCESS?i=W.FAILURE:i==W.FAILURE&&(i=W.SUCCESS),i}}class at extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("target",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).isDead?W.SUCCESS:W.FAILURE}}class st extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(x.b.NAME+i),s=r.currentNode,c=e.retrieveProxy(x.b.NAME+o).currentNode.connectedNodes.filter((t=>!t.occupied));if(c.length>0){let t=c.reduce(((t,e)=>ct(s,t)<ct(s,e)?t:e));const o=a.q.calculatePath(s,t);if(o&&o.length>0){const a=r.vo;for(;o.length>a.availableMovement;)o.shift();e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),r.currentNode=t}}return r.availableMovement=0,W.SUCCESS}}function ct(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class ht extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).isDead?W.SUCCESS:W.FAILURE}}class dt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).availableActions>0?W.SUCCESS:W.FAILURE}}class lt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);return e.retrieveProxy(x.b.NAME+i).availableMovement=0,W.SUCCESS}}class pt extends Q{constructor(){super("basicMeleeTree")}initialise(){this.tree.root=new K([new J([new ot([new Z,new rt([new ht]),new rt([new at]),new J([new ot([new nt,new dt,new Z,new tt,new lt]),new ot([new it,new Z,new st])])]),new et])])}}const{Facade:ut}=i(710);function Et(t,e,...i){const n=i[0],o=ut.getInstance(t),a=(o.retrieveProxy(r.h.NAME),o.retrieveProxy(x.b.NAME+n).currentNode);o.retrieveProxy(x.b.NAME+"player").currentNode.connectedNodes.some((t=>t.equals(a))),(new pt).runCommands(o,n)}var yt=i(710);function gt(t,e,...i){const o=yt.Facade.getInstance(t),a=o.retrieveProxy(y.u.NAME),s=o.retrieveProxy(r.h.NAME),c=i[0];s.hasValidNode(c)&&(a.currentMode===R.gameplayModeTypes.EXPLORATION?o.sendNotification(n.i.NAVIGATE_TO_WAYPOINT+"player",c):a.currentMode===R.gameplayModeTypes.COMBAT&&"player"===o.retrieveProxy(w.NAME).activeParticipant&&o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",c))}const{Facade:mt}=i(710);function At(t,e,...i){const n=mt.getInstance(t),o=i[0],r=i[1],s=n.retrieveProxy(x.b.NAME+o),c=s.vo,h=a.q.breadthFirstSearch(c.currentNode,c.availableMovement);for(const t of h)t.equals(r)&&ft(n,s,r)}function ft(t,e,i){const o=e.vo,r=a.q.calculatePath(o.currentNode,i);r&&r.length>0&&(o.availableMovement-=r.length-1,e.currentNode=i,t.sendNotification(n.i.HIDE_WALKABLE_AREA),t.sendNotification(n.i.NAVIGATE_ALONG_PATH+o.id,r))}function Nt(t,e,...i){const n=i[0],o=pc.Application.getApplication(),r=o.assets.get(40235966),a=o.root.findByName("WorldObjects");for(const t of n){const e=r.resource.instantiate();e.setLocalPosition(t.x,t.y,t.z),a.addChild(e)}}function Tt(t,e,...i){const n=pc.Application.getApplication().root.findByTag("walkable_tile");for(const t of n)t.destroy()}function Ct(t,e,...i){const o=i[0],r=yt.Facade.getInstance(t),s=r.retrieveProxy(x.b.NAME+o).vo,c=a.q.breadthFirstSearch(s.currentNode,s.availableMovement);r.sendNotification(n.i.SHOW_WALKABLE_AREA,c)}function _t(t,e,...i){const o=yt.Facade.getInstance(t),r=i[0],a=i[1];if(o.retrieveProxy(x.b.NAME+r).currentNode=a,o.retrieveProxy(y.u.NAME).currentMode===R.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(w.NAME);t&&("player"===t.activeParticipant?o.sendNotification(n.i.AWAIT_PLAYER_COMBAT_INPUT,r):setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),500))}}function Mt(t){const e=t.currentNode;return new pc.Vec3(e.x,e.y+.5*t.height,e.z)}function vt(t,e,...i){const o=yt.Facade.getInstance(t),s=i[0].script.GameCharacterComponent.characterId,c=o.retrieveProxy(y.u.NAME),h=o.retrieveProxy(r.h.NAME),d=o.retrieveProxy(x.b.NAME+s),l=o.retrieveProxy(x.b.NAME+"player"),p=o.retrieveProxy(m.NAME).getWeaponCategory(l.equippedWeapon);if(c.currentMode===R.gameplayModeTypes.EXPLORATION)"attack"===c.currentAction&&"ranged"===p?Pt(h,l,d)?(o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s),o.sendNotification(n.i.START_COMBAT,s)):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight"):"attack"===c.currentAction?o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,s):o.sendNotification(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,s);else if(c.currentMode===R.gameplayModeTypes.COMBAT){const t=o.retrieveProxy(w.NAME);if(!t||"player"!==t.activeParticipant)return;if(l.availableActions<=0)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Out of actions");if("ranged"===p)Pt(h,l,d)?o.sendNotification(n.i.RESOLVE_RANGED_ATTACK,"player",s):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"No line of sight");else if(function(t,e){const i=e.currentNode;return t.currentNode.connectedNodes.some((t=>t.equals(i)))}(l,d))"attack"===c.currentAction&&"attack"===c.currentAction&&o.sendNotification(n.i.RESOLVE_ATTACK,l.id,d.id);else{const t=function(t,e){const i=e.currentNode.connectedNodes.filter((t=>!t.occupied));if(i.length>0){const e=t.currentNode;let n=a.q.calculatePath(e,i[0]);for(let t=1;t<i.length;t++){const o=a.q.calculatePath(e,i[t]);o.length<n.length&&(n=o)}return n}}(l,d);t&&t.length-1<=l.vo.availableMovement?"attack"===c.currentAction?o.sendNotification(n.i.MOVE_ALONG_PATH_AND_ATTACK,"player",d.id,t):o.sendNotification(n.i.COMBAT_NAVIGATE_TO_NODE,"player",t.shift()):o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Cannot reach target")}}}function Pt(t,e,i){const n=Mt(e),o=Mt(i);return!t.rayIntersectsWall(n,o)}var St=i(829);function It(t,e,...i){const o=yt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(x.b.NAME+r),s=i[1],c=o.retrieveProxy(x.b.NAME+s);o.sendNotification(n.i.CHARACTER_LOOK_AT+r,c.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+s,a.currentNode);const h=o.retrieveProxy(m.NAME),d=a.equippedWeapon+"Fighting",l=c.equippedWeapon+"Fighting",p=a.getSkillTotal(d),u=a.getSkillTotal(l),E=Ot(p),y=Ot(u);if(a.availableActions-=1,E===y)o.sendNotification(n.i.DISPLAY_ATTACK+r),o.sendNotification(n.i.DISPLAY_ATTACK+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`Attack tied(${E}/${y})`);else if(E>y){const t=bt(E,y),e=h.getDamage(a.equippedWeapon,t);c.applyDamage(e),o.sendNotification(n.i.DISPLAY_ATTACK+r),c.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,s):(o.sendNotification(n.i.DISPLAY_HIT+s),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} damages ${s} for ${e}`))}else{const t="melee"===h.getWeaponCategory(c.equippedWeapon),e=bt(y,E),i=t?c.equippedWeapon:St.j.UNARMED,d=h.getDamage(i,e);a.applyDamage(d),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${s} damages ${r} for ${d}`),o.sendNotification(n.i.DISPLAY_ATTACK+s),a.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,r):o.sendNotification(n.i.DISPLAY_HIT+r)}const g=o.retrieveProxy(w.NAME);g&&"player"!==g.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,r)}),1500)}function bt(t,e){return t-e}function Ot(t){return t+xt()+xt()}function xt(){return Math.round(6*Math.random())}var Lt=i(321);const{Facade:Dt}=i(710);function wt(t,e,...i){const o=Dt.getInstance(t),r=i[0],a=i[1],s=i[2];o.retrieveProxy(x.b.NAME+r).useMovement(s.length-1);const c=o.retrieveMediator(Lt.y.NAME+r);o.sendNotification(n.i.HIDE_WALKABLE_AREA),c.handleNavigateAlongPathWithPromise(s).then((()=>{o.sendNotification(n.i.RESOLVE_ATTACK,r,a)}))}function Rt(t,e,...i){const o=yt.Facade.getInstance(t),r=i[0];console.log("Kill character:: "+r);const a=o.retrieveProxy(x.b.NAME+r);o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"death",a),o.sendNotification(n.i.DISPLAY_DEATH+r),a&&(a.currentNode.occupied=!1);const s=o.retrieveProxy(w.NAME);s&&s.removeCharacterFromCombat(r)}const{Facade:Gt}=i(710);function kt(t,e,...i){const o=i[0],r=Gt.getInstance(t);r.hasMediator(w.NAME)&&r.removeMediator(w.NAME),r.sendNotification(n.i.HIDE_WALKABLE_AREA);const a=r.retrieveProxy(y.u.NAME);"player_team"===o?(a.updateGameStateType(R.gameplayModeTypes.GAME_OVER),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Game Over")):(a.updateGameStateType(R.gameplayModeTypes.EXPLORATION),r.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Victory"))}var Ut=i(316);class Vt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1);return e.sendNotification(n.i.RESOLVE_RANGED_ATTACK,i,o),W.SUCCESS}}class Ht extends q{constructor(t,e){super([]),this.minDistance=t,this.maxDistance=e}tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),r=e.retrieveProxy(x.b.NAME+i),s=r.currentNode,c=e.retrieveProxy(x.b.NAME+o).currentNode,h=Math.pow(this.minDistance,2),d=Math.pow(this.maxDistance,2),l=r.availableMovement;r.availableMovement=0;const p=Ft(c,s);if(p>=h&&p<=d)return W.FAILURE;{const t=a.q.breadthFirstSearch(s,l);if(t.length>0){if(p<h){let o=t.reduce(((t,e)=>Ft(c,t)>Ft(c,e)?t:e));const h=a.q.calculatePath(s,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),r.currentNode=o)}else{let o=t.reduce(((t,e)=>Ft(c,t)<Ft(c,e)?t:e));const h=a.q.calculatePath(s,o);h&&h.length>0&&(e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,h),r.currentNode=o)}return W.SUCCESS}return W.FAILURE}}}function Ft(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}class zt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1);setTimeout((()=>{e.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,i)}),500)}}class Bt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),n=t.blackboard.get("target",t.tree.id,!1),o=e.retrieveProxy(x.b.NAME+i),a=(o.currentNode,e.retrieveProxy(x.b.NAME+n)),s=(a.currentNode,e.retrieveProxy(r.h.NAME)),c=Mt(o),h=Mt(a);return s.rayIntersectsWall(c,h)?W.FAILURE:W.SUCCESS}}class Wt extends q{tick(t){const e=t.blackboard.get("facade",!1,!1),i=t.blackboard.get("characterId",t.tree.id,!1),o=t.blackboard.get("target",t.tree.id,!1),s=e.retrieveProxy(x.b.NAME+i),c=s.currentNode,h=e.retrieveProxy(x.b.NAME+o),d=h.currentNode.connectedNodes,l=e.retrieveProxy(r.h.NAME),p=d.filter((t=>!t.occupied));if(p.length>0){let t=p.reduce(((t,e)=>Yt(c,t)<Yt(c,e)?t:e));const o=a.q.calculatePath(c,t);if(o&&o.length>0){const r=s.vo;for(;o.length>r.availableMovement;)o.shift();const a=Mt(h);let c=0;for(let t=o.length-1;t>=0;t--){const e=o[t],i=new pc.Vec3(e.x,e.y+.5*s.height,e.z);if(!l.rayIntersectsWall(i,a)){c=t;break}}o.splice(0,c),e.sendNotification(n.i.NAVIGATE_ALONG_PATH+i,o),s.currentNode=t}}return s.availableMovement=0,W.SUCCESS}}function Yt(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}class qt extends Q{constructor(){super("basicRangedTree")}initialise(){this.tree.root=new K([new J([new ot([new Z,new rt([new ht]),new rt([new at]),new J([new ot([new it,new rt([new Bt]),new Wt]),new ot([new it,new J([new Ht(9,12),new zt])]),new ot([new dt,new Bt,new Vt])])]),new et])])}}function Kt(t,e,...i){const n=yt.Facade.getInstance(t),o=i[0];switch(n.retrieveProxy(x.b.NAME+o).botBehaviour){case Ut.r.BASIC_MELEE:(new pt).runCommands(n,o);break;case Ut.r.BASIC_RANGED:(new qt).runCommands(n,o)}}var jt=i(852);function $t(t,e,...i){const o=yt.Facade.getInstance(t);let a=0,s=0;const c=i[0],h=o.retrieveProxy(x.b.NAME+c),d=h.currentNode;let l=i[1],p=o.retrieveProxy(x.b.NAME+l);const u=p.currentNode;o.sendNotification(n.i.CHARACTER_LOOK_AT+c,p.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+l,h.currentNode);const E=h.equippedWeapon+"Fighting",y=h.getSkillTotal(E);a+=Xt(y),s+=Xt(p.skill);const g=o.retrieveProxy(m.NAME);o.retrieveProxy(r.h.NAME).isInCover(new pc.Vec3(u.x,u.y,u.z),new pc.Vec3(d.x,d.y,d.z))&&(s+=2);const A=o.retrieveMediator(jt.N.NAME),f=new pc.Vec3(h.currentNode.x,h.currentNode.y+1,h.currentNode.z),N=new pc.Vec3(p.currentNode.x,p.currentNode.y+1,p.currentNode.z);h.availableActions-=1,o.sendNotification(n.i.DISPLAY_ATTACK+c),A.createProjectile("crossbow_bolt",f,N).then((()=>{if(a>s){const t=o.retrieveProxy(w.NAME);if(t){const e=p.currentNode.connectedNodes,i=[l];for(const n of t.participants){const t=o.retrieveProxy(x.b.NAME+n);!t.isDead&&e.some((e=>e.equals(t.currentNode)))&&i.push(n)}l=i[Math.floor(Math.random()*i.length)],p=o.retrieveProxy(x.b.NAME+l)}const e=a-s,i=g.getDamage(h.equippedWeapon,e);p.applyDamage(i),p.isDead?o.sendNotification(n.i.KILL_GAME_CHARACTER,l):(o.sendNotification(n.i.DISPLAY_HIT+l),o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${c} damages ${l} for ${i}`))}else o.sendNotification(n.i.DISPLAY_FLOATING_STATUS,"dodge",p);const t=o.retrieveProxy(w.NAME);t&&"player"!==t.activeParticipant&&setTimeout((()=>{o.sendNotification(n.i.DETERMINE_NEXT_ENEMY_ACTION,c)}),500)}))}function Xt(t){return t+Qt()+Qt()}function Qt(){return Math.round(6*Math.random())}const{Facade:Jt}=i(710);function Zt(t,e,...i){const o=Jt.getInstance(t);if(o.retrieveProxy(y.u.NAME).currentMode===R.gameplayModeTypes.COMBAT&&"player"!==o.retrieveProxy(w.NAME).activeParticipant)return void o.sendNotification(n.i.SHOW_TOAST_MESSAGE,"Must change weapon on your turn");const r=i[0],a=i[1];o.retrieveProxy(x.b.NAME+r).equippedWeapon=a,o.sendNotification(n.i.SHOW_TOAST_MESSAGE,`${r} equips ${a}`)}function te(t,e,...i){const o=yt.Facade.getInstance(t),a=i[0],s=i[1],c=i[2],h=o.retrieveProxy(r.h.NAME).findNearestNode(a);o.retrieveMediator(Lt.y.NAME+"player").moveToNodeWithPromise(h).then((()=>{o.sendNotification(n.i.CHANGE_SCENE,s,c)}))}const{Facade:ee}=i(710);function ie(t,e,...i){const n=ee.getInstance(t),o=i[0],a=pc.Application.getApplication(),s=a.assets.get(40523336),c=a.root.findByName("WorldObjects"),h=s.resource.instantiate();c.addChild(h);const d=n.retrieveProxy(r.h.NAME).retrievePortal(o);h.setLocalPosition(d.standingPoint)}const{Facade:ne}=i(710);function oe(t,e,...i){const o=ne.getInstance(t),r=i[0],s=o.retrieveProxy(x.b.NAME+"player"),c=o.retrieveProxy(x.b.NAME+r),h=o.retrieveMediator(Lt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=a.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=a.q.calculatePath(n,t[i]);(!e||o&&o.length<e.length)&&(e=o)}return e}return}}(s,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_DIALOGUE,r)}))}const{Facade:re}=i(710);function ae(t,e,...i){const o=re.getInstance(t),r=o.retrieveProxy(y.u.NAME),a=i[0],s=o.retrieveProxy(N.NAME),c=o.retrieveProxy(x.b.NAME+"player"),h=o.retrieveProxy(x.b.NAME+a),d=h.dialogueTree;s.startDialogueTree(d),r.updateGameStateType(R.gameplayModeTypes.DIALOGUE),o.sendNotification(n.i.CHARACTER_LOOK_AT+"player",h.currentNode),o.sendNotification(n.i.CHARACTER_LOOK_AT+a,c.currentNode),o.sendNotification(n.i.SHOW_DIALOGUE_PANEL);const l=s.getCurrentNodeStep();o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:d,step:l})}function se(t,e,...i){const o=yt.Facade.getInstance(t),r=o.retrieveProxy(N.NAME),a=r.continueCurrentNodeStep();if(a){if(a.choices?o.sendNotification(n.i.HIDE_DIALOGUE_CONTINUE_BUTTON):o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),a.notifications)for(const t of a.notifications)o.sendNotification(t.name,...t.args);o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:a})}else o.sendNotification(n.i.END_DIALOGUE)}function ce(t,e,...i){const o=yt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(N.NAME),s=a.selectChoice(r);o.sendNotification(n.i.CLEAR_DIALOGUE_CHOICES);const c={title:"YOU",text:s.text,titleColour:"#DB831C"};o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:a.currentTree,step:c}),s.test?o.sendNotification(n.i.RESOLVE_DIALOGUE_SKILL_TEST,s.test):s.goto&&o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,s.goto)}function he(t,e,...i){const o=yt.Facade.getInstance(t),r=o.retrieveProxy(N.NAME),a=i[0];r.goToNode(a);const s=r.getCurrentNodeStep();if(s){if(o.sendNotification(n.i.SHOW_DIALOGUE_CONTINUE_BUTTON),o.sendNotification(n.i.DISPLAY_DIALOGUE_STEP,{treeId:r.currentTree,step:s}),console.log("*****"),console.log(s),s.notifications)for(const t of s.notifications)console.log("SHOOT COMMAND: "+t.name),o.sendNotification(t.name,...t.args)}else o.sendNotification(n.i.END_DIALOGUE)}const{Facade:de}=i(710);function le(t,e,...i){const o=de.getInstance(t);o.retrieveProxy(y.u.NAME).updateGameStateType(R.gameplayModeTypes.EXPLORATION),o.sendNotification(n.i.HIDE_DIALOGUE_PANEL)}const{Facade:pe}=i(710);function ue(t,e,...i){const o=pe.getInstance(t),r=i[0],s=o.retrieveProxy(x.b.NAME+"player"),c=o.retrieveProxy(x.b.NAME+r),h=o.retrieveMediator(Lt.y.NAME+"player"),d=function(t,e){const i=e.currentNode.connectedNodes,n=t.currentNode;if(i.some((t=>t.equals(n))))return[n];{const t=i.filter((t=>!t.occupied));if(t.length>0){let e=a.q.calculatePath(n,t[0]);for(let i=1;i<t.length;i++){const o=a.q.calculatePath(n,t[i]);o.length<e.length&&(e=o)}return e}return}}(s,c);d&&h.handleNavigateAlongPathWithPromise(d).then((()=>{o.sendNotification(n.i.START_COMBAT,r),o.sendNotification(n.i.RESOLVE_ATTACK,"player",r)}))}const{Facade:Ee}=i(710);function ye(t,e,...i){const n=Ee.getInstance(t),o=i[0];n.retrieveProxy(y.u.NAME).currentAction=o}function ge(t,e,...i){const o=yt.Facade.getInstance(t),r=i[0],a=o.retrieveProxy(x.b.NAME+"player").getSkillTotal(r.skill),s=me(),c=me(),h=a>=s+c;o.sendNotification(n.i.DISPLAY_DIALOGUE_SKILL_TEST,r.skill,a,s,c,h),h?(console.log(`Succeeded ${r.skill} with a ${a} vs ${s}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,r.success.goto)):(console.log(`Failed ${r.skill} with a ${a} vs ${s}+${c}`),o.sendNotification(n.i.GO_TO_DIALOGUE_NODE,r.failure.goto))}function me(){return Math.round(6*Math.random())}const{Facade:Ae}=i(710);function fe(t,e,...i){const o=Ae.getInstance(t),r=o.retrieveProxy(_.NAME);o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}const{Facade:Ne}=i(710);function Te(t,e,...i){const o=Ne.getInstance(t),r=o.retrieveProxy(_.NAME),a=i[0],s=i[1];r.reorderInventoryItem(a,s),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}function Ce(t,e,...i){const o=yt.Facade.getInstance(t),r=o.retrieveProxy(_.NAME),a=i[0],s=i[1],c=r.inventoryItems[a];r.attemptToEquipItemToSlot(s,c),"weapon"===c.type&&o.sendNotification(n.i.EQUIP_WEAPON,"player",c.id),o.sendNotification(n.i.DISPLAY_INVENTORY_PANEL,r.inventoryItems,r.equipmentSlots)}var _e=i(340);const{Facade:Me}=i(710);function ve(t,e,...i){const n=i[0],o=Me.getInstance(t),r=o.retrieveProxy(v.NAME),a=o.retrieveProxy(_.NAME),s=new _e.R(r.getItemData(n));a.addInventoryItem(s)}const{Facade:Pe}=i(710);class Se extends Pe{static getInstance(t){return Pe.instanceMap[t]||(Pe.instanceMap[t]=new Se(t)),Pe.instanceMap[t]}static get KEY(){return"Cacogen"}static get NAME(){return"CacogenFacade"}static get STARTUP(){return Se.NAME+"StartUp"}startup(t){this.sendNotification(Se.STARTUP,t)}sendNotification(t,...e){super.sendNotification(t,...e)}initializeController(){super.initializeController(),this.registerCommand(Se.STARTUP,S),this.registerCommand(n.i.CHANGE_SCENE,b),this.registerCommand(n.i.PARSE_GAMEMAP,c),this.registerCommand(n.i.START_COMBAT,k),this.registerCommand(n.i.NEXT_COMBAT_TURN,V),this.registerCommand(n.i.NEXT_COMBAT_ROUND,F),this.registerCommand(n.i.END_COMBAT_TURN,B),this.registerCommand(n.i.ENEMY_TURN,Et),this.registerCommand(n.i.SELECTED_NODE,gt),this.registerCommand(n.i.COMBAT_NAVIGATE_TO_NODE,At),this.registerCommand(n.i.DETERMINE_NEXT_ENEMY_ACTION,Kt),this.registerCommand(n.i.SHOW_WALKABLE_AREA,Nt),this.registerCommand(n.i.HIDE_WALKABLE_AREA,Tt),this.registerCommand(n.i.AWAIT_PLAYER_COMBAT_INPUT,Ct),this.registerCommand(n.i.FINISHED_MOVE,_t),this.registerCommand(n.i.SELECT_GAME_CHARACTER,vt),this.registerCommand(n.i.RESOLVE_ATTACK,It),this.registerCommand(n.i.RESOLVE_RANGED_ATTACK,$t),this.registerCommand(n.i.MOVE_ALONG_PATH_AND_ATTACK,wt),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_ATTACK,ue),this.registerCommand(n.i.KILL_GAME_CHARACTER,Rt),this.registerCommand(n.i.END_COMBAT,kt),this.registerCommand(n.i.EQUIP_WEAPON,Zt),this.registerCommand(n.i.NAVIGATE_THROUGH_PORTAL,te),this.registerCommand(n.i.ADD_PLAYER_CHARACTER_TO_MAP,ie),this.registerCommand(n.i.NAVIGATE_TO_CHARACTER_AND_TALK,oe),this.registerCommand(n.i.START_DIALOGUE,ae),this.registerCommand(n.i.CONTINUE_DIALOGUE_NODE,se),this.registerCommand(n.i.SELECT_DIALOGUE_CHOICE,ce),this.registerCommand(n.i.GO_TO_DIALOGUE_NODE,he),this.registerCommand(n.i.END_DIALOGUE,le),this.registerCommand(n.i.GAMEPLAY_ACTION_CHANGED,ye),this.registerCommand(n.i.RESOLVE_DIALOGUE_SKILL_TEST,ge),this.registerCommand(n.i.CLICK_INVENTORY_BUTTON,fe),this.registerCommand(n.i.REORDER_INVETORY_ITEM,Te),this.registerCommand(n.i.EQUIP_ITEM_TO_SLOT,Ce),this.registerCommand(n.i.ADD_ITEM_TO_INVENTORY,ve)}}},316:(t,e,i)=>{i.d(e,{r:()=>n,_:()=>o});class n{static get NONE(){return 0}static get BASIC_MELEE(){return 1}static get BASIC_RANGED(){return 2}}const o=[{NONE:n.NONE},{BASIC_MELEE:n.BASIC_MELEE},{BASIC_RANGED:n.BASIC_RANGED}]},68:(t,e,i)=>{i.d(e,{i:()=>n});class n{static get CHANGE_SCENE(){return"CHANGE_SCENE"}static get CHANGE_SCENE_COMPLETE(){return"CHANGE_SCENE_COMPLETE"}static get APP_INITIALISED(){return"APP_INITIALISED"}static get PARSE_GAMEMAP(){return"PARSE_GAMEMAP"}static get MAP_GRID_CREATED(){return"MAP_GRID_CREATED"}static get NAVIGATE_TO_NODE(){return"NAVIGATE_TO_NODE"}static get NAVIGATE_TO_WAYPOINT(){return"NAVIGATE_TO_WAYPOINT"}static get NAVIGATE_THROUGH_PORTAL(){return"NAVIGATE_THROUGH_PORTAL"}static get COMBAT_NAVIGATE_TO_NODE(){return"COMBAT_NAVIGATE_TO_NODE"}static get SET_CAMERA_TARGET(){return"SET_CAMERA_TARGET"}static get INPUT_DRAG_MOUSE(){return"INPUT_DRAG_MOUSE"}static get MOVED_TO_NODE(){return"MOVED_TO_NODE"}static get FINISHED_MOVE(){return"FINISHED_MOVE"}static get START_COMBAT(){return"START_COMBAT"}static get SHOW_TOAST_MESSAGE(){return"SHOW_TOAST_MESSAGE"}static get NEXT_COMBAT_TURN(){return"NEXT_COMBAT_TURN"}static get NEXT_COMBAT_ROUND(){return"NEXT_COMBAT_ROUND"}static get END_COMBAT(){return"END_COMBAT"}static get END_COMBAT_TURN(){return"END_COMBAT_TURN"}static get ENEMY_TURN(){return"ENEMY_TURN"}static get SELECTED_NODE(){return"SELECTED_NODE"}static get DETERMINE_NEXT_ENEMY_ACTION(){return"DETERMINE_NEXT_ENEMY_ACTION"}static get NAVIGATE_ALONG_PATH(){return"NAVIGATE_ALONG_PATH"}static get SHOW_WALKABLE_AREA(){return"SHOW_WALKABLE_AREA"}static get HIDE_WALKABLE_AREA(){return"HIDE_WALKABLE_AREA"}static get END_MOVEMENT(){return"END_MOVEMENT"}static get AWAIT_PLAYER_COMBAT_INPUT(){return"AWAIT_PLAYER_COMBAT_INPUT"}static get SET_CHARACTER_TO_NODE(){return"SET_CHARACTER_TO_NODE"}static get SELECT_GAME_CHARACTER(){return"SELECT_GAME_CHARACTER"}static get TOGGLE_BUTTON(){return"TOGGLE_BUTTON"}static get USE_PLAYER_ACTION(){return"USE_PLAYER_ACTION"}static get RESOLVE_ATTACK(){return"RESOLVE_ATTACK"}static get RESOLVE_RANGED_ATTACK(){return"RESOLVE_RANGED_ATTACK"}static get MOVE_ALONG_PATH_AND_ATTACK(){return"MOVE_ALONG_PATH_AND_ATTACK"}static get UPDATE_STAMINA(){return"UPDATE_STAMINA"}static get DISPLAY_DEATH(){return"DISPLAY_DEATH"}static get DISPLAY_ATTACK(){return"DISPLAY_ATTACK"}static get DISPLAY_HIT(){return"DISPLAY_HIT"}static get KILL_GAME_CHARACTER(){return"KILL_GAME_CHARACTER"}static get CHARACTER_LOOK_AT(){return"CHARACTER_LOOK_AT"}static get CHANGE_STAMINA(){return"CHANGE_STAMINA"}static get EQUIP_WEAPON(){return"EQUIP_WEAPON"}static get USE_ACTION(){return"USE_ACTION"}static get DISPLAY_FLOATING_STATUS(){return"DISPLAY_FLOATING_STATUS"}static get ADD_PLAYER_CHARACTER_TO_MAP(){return"ADD_PLAYER_CHARACTER_TO_MAP"}static get NAVIGATE_TO_CHARACTER_AND_TALK(){return"NAVIGATE_TO_CHARACTER_AND_TALK"}static get NAVIGATE_TO_CHARACTER_AND_ATTACK(){return"NAVIGATE_TO_CHARACTER_AND_ATTACK"}static get SHOW_DIALOGUE_PANEL(){return"SHOW_DIALOGUE_PANEL"}static get HIDE_DIALOGUE_PANEL(){return"HIDE_DIALOGUE_PANEL"}static get SHOW_DIALOGUE_CONTINUE_BUTTON(){return"SHOW_DIALOGUE_CONTINUE_BUTTON"}static get HIDE_DIALOGUE_CONTINUE_BUTTON(){return"HIDE_DIALOGUE_CONTINUE_BUTTON"}static get DISPLAY_DIALOGUE_STEP(){return"DISPLAY_DIALOGUE_STEP"}static get DISPLAY_DIALOGUE_SKILL_TEST(){return"DISPLAY_DIALOGUE_SKILL_TEST"}static get CONTINUE_DIALOGUE_NODE(){return"CONTINUE_DIALOGUE_NODE"}static get SELECT_DIALOGUE_CHOICE(){return"SELECT_DIALOGUE_CHOICE"}static get RESOLVE_DIALOGUE_SKILL_TEST(){return"RESOLVE_DIALOGUE_SKILL_TEST"}static get CLEAR_DIALOGUE_CHOICES(){return"CLEAR_DIALOGUE_CHOICES"}static get GO_TO_DIALOGUE_NODE(){return"GO_TO_DIALOGUE_NODE"}static get START_DIALOGUE(){return"START_DIALOGUE"}static get END_DIALOGUE(){return"END_DIALOGUE"}static get GAMEPLAY_ACTION_CHANGED(){return"GAMEPLAY_ACTION_CHANGED"}static get CLICK_INVENTORY_BUTTON(){return"CLICK_INVENTORY_BUTTON"}static get DISPLAY_INVENTORY_PANEL(){return"DISPLAY_INVENTORY_PANEL"}static get REORDER_INVETORY_ITEM(){return"REORDER_INVETORY_ITEM"}static get EQUIP_ITEM_TO_SLOT(){return"EQUIP_ITEM_TO_SLOT"}static get ADD_ITEM_TO_INVENTORY(){return"ADD_ITEM_TO_INVENTORY"}}},829:(t,e,i)=>{i.d(e,{j:()=>n,E:()=>o});class n{static get SWORD(){return"sword"}static get AXE(){return"axe"}static get KNIFE(){return"knife"}static get STAFF(){return"staff"}static get HAMMER(){return"hammer"}static get SPEAR(){return"spear"}static get MACE(){return"mace"}static get POLEARM(){return"polearm"}static get MAUL(){return"maul"}static get GREATSWORD(){return"greatsword"}static get CLUB(){return"club"}static get UNARMED(){return"unarmed"}static get SHIELD(){return"shield"}static get FUSIL(){return"fusil"}static get BOW(){return"bow"}static get CROSSBOW(){return"crossbow"}static get PISTOLET(){return"pistolet"}}const o=Object.entries(Object.getOwnPropertyDescriptors(n)).filter((([t,e])=>"function"==typeof e.get)).map((([t])=>({[t]:n[t]})))},201:(t,e,i)=>{i.r(e),i.d(e,{CombatVO:()=>n});class n{constructor(t,e){this.participants=t,this.roundInitiative=[],this.activeParticipant=void 0,this.teams=e}get nextTurnCharacterId(){return this.roundInitiative[0]}}},958:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(68);const{Proxy:o}=i(710),{GameCharacterVO:r}=i(940);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameCharacterProxy_"}constructor(t){super(a.NAME+t.id,new r(t))}resetCombatTurnState(){this.vo.availableMovement=this.vo.maxMovement,this.vo.availableActions=this.vo.maxActionsPerTurn}useMovement(t){this.vo.availableMovement-=t}applyDamage(t){this.vo.currentStamina-=t,this.vo.currentStamina=Math.max(0,this.vo.currentStamina),this.vo.currentStamina>0?this.facade.sendNotification(n.i.UPDATE_STAMINA+this.id,this.vo.currentStamina,this.vo.maximumStamina):console.log(this.id+" died"),this.facade.sendNotification(n.i.CHANGE_STAMINA+this.id,this.vo.currentStamina,this.vo.maxStamina)}getSkillTotal(t){return this.vo.advancedSkills.has(t)?this.skill+this.vo.advancedSkills.get(t):this.skill}get id(){return this.vo.id}get dialogueTree(){return this.vo.dialogueTree}get currentNode(){return this.vo.currentNode}set currentNode(t){this.vo.currentNode&&(this.vo.currentNode.occupied=!1),this.vo.currentNode=t,this.vo.currentNode.occupied=!0}get combatGroup(){return this.vo.combatGroup}get isNPC(){return this.vo.isNPC}get availableMovement(){return this.vo.availableMovement}set availableMovement(t){this.vo.availableMovement=t}get availableActions(){return this.vo.availableActions}set availableActions(t){this.vo.availableActions=t,this.facade.sendNotification(n.i.USE_ACTION+this.id,this.availableActions,this.maxActionsPerTurn)}get maxActionsPerTurn(){return this.vo.maxActionsPerTurn}get skill(){return this.vo.skill}get currentStamina(){return this.vo.currentStamina}get currentLuck(){return this.vo.currentStamina}get isDead(){return this.vo.currentStamina<=0}get botBehaviour(){return this.vo.botBehaviour}get equippedWeapon(){return this.vo.equippedWeapon}set equippedWeapon(t){this.vo.equippedWeapon=t}get height(){return this.vo.height}}},940:(t,e,i)=>{i.r(e),i.d(e,{GameCharacterVO:()=>n});class n{constructor(t){this.id=t.id,this.isNPC=t.isNPC,this.combatGroup=t.combatGroup||[],this.dialogueTree=t.dialogueTree||this.id,this.currentNode=void 0,this.initiative=t.initiative||2,this.maxMovement=t.maxMovement||6,this.height=t.height||1.8,this.maxActionsPerTurn=1,this.availableActions=this.maxActionsPerTurn,this.availableMovement=this.maxMovement,this.skill=t.skill||1,this.maxStamina=t.maxStamina||1,this.currentStamina=this.maxStamina,this.maxLuck=t.maxLuck||1,this.currentLuck=this.maxLuck,this.advancedSkills=t.advancedSkills||new Map,this.botBehaviour=t.botBehaviour||0,this.equippedWeapon=t.equippedWeapon||"unarmed"}}},969:(t,e,i)=>{i.d(e,{h:()=>a});var n=i(434);const{Proxy:o}=i(710),{GameMapVO:r}=i(438);class a extends o{get vo(){return this.getData()}static get NAME(){return"GameMapProxy"}constructor(t,e,i,n,o){super(a.NAME),this.setData({mapGrid:t,wallBoundingBoxes:e,cover:i,portals:n,navigationGrid:o})}onRegister(){}findNearestNode(t){const e=this.vo.mapGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}findNearestWaypoint(t){const e=this.vo.navigationGrid;let i=e[0],o=n.q.getDistSquared(i,t);for(const r of e){const e=n.q.getDistSquared(r,t);e<o&&(o=e,i=r)}return i}rayIntersectsWall(t,e){const i=t.distance(e),n=e.clone().sub(t.clone()).normalize(),o=new pc.Ray(t,n),r=this.vo.wallBoundingBoxes;for(const e of r){const n=new pc.Vec3;if(e.intersectsRay(o,n)&&n.distance(t)<i)return!0}return!1}get cover(){return this.vo.cover}isInCover(t,e){const i=[],n=function(t){const e=[];return e.push(new pc.Vec3(t.x,t.y,t.z-1)),e.push(new pc.Vec3(t.x+1,t.y,t.z)),e.push(new pc.Vec3(t.x-1,t.y,t.z)),e.push(new pc.Vec3(t.x,t.y,t.z+1)),e}(t);for(const t of n)this.cover.find((e=>t.equals(e)))&&i.push(t);if(i.length>0){const n=t.distance(e);for(const t of i)if(t.distance(e)<n)return!0;return!1}return!1}retrievePortal(t){return this.vo.portals.get(t)}hasValidLine(t,e){const i=n.q.calculateBresenhamLine(t.x,t.z,e.x,e.z);return n.q.checkValidLine(i,this.vo.mapGrid)}hasValidNode(t){return this.vo.mapGrid.some((e=>e.equals(t)))}}},438:(t,e,i)=>{i.r(e),i.d(e,{GameMapVO:()=>n});class n{constructor(){this.mapGrid=[]}}},434:(t,e,i)=>{i.d(e,{q:()=>o});class n{constructor(){this.data=[]}push(t,e=0){return this.data.push({value:t,priority:e})}pop(){let t=0,e=1/0;for(let i=0;i<this.data.length;i++){let n=this.data[i].priority;Math.min(e,n)===n&&(e=n,t=i)}return this.data.splice(t,1)[0].value}size(){return this.data.length}empty(){return 0===this.data.length}}class o{static breadthFirstSearch(t,e){let i=[];const n=[];i.push(t);const o=new Map;o.set(t,t);let r=0;for(;i.length>0&&r<e;){const t=[];for(const e of i)for(let i=0;i<e.connectedNodes.length;i++){const r=e.connectedNodes[i];r.occupied||o.has(r)||(t.push(r),n.push(r),o.set(r,e))}i=t,r++}return n}static calculatePath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=r.get(t)+1;if(!a.occupied&&(!r.has(a)||s<r.get(a))){r.set(a,s);let n=s+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static calculateWaypointsPath(t,e){const i=new n;i.push(t,0);const o=new Map,r=new Map;for(o.set(t,t),r.set(t,0);!i.empty();){const t=i.pop();if(t.equals(e))break;for(let n=0;n<t.connectedNodes.length;n++){const a=t.connectedNodes[n],s=this.getDistSquared(a,t),c=r.get(t)+s;if(!a.occupied&&(!r.has(a)||c<r.get(a))){r.set(a,c);let n=c+this.heuristic(a,e);i.push(a,n),o.set(a,t)}}}let a=e,s=!1;const c=[];for(c.push(a);!a.equals(t)&&!s;)o.has(a)||!a.equals(e)?(a=o.get(a),c.push(a)):s=!0;return s?void 0:c}static getDistSquared(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)+(t.z-e.z)*(t.z-e.z)}static heuristic(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)+Math.abs(t.z-e.z)}static calculateBresenhamLine(t,e,i,n){let o=i-t,r=n-e,a=Math.abs(o),s=Math.abs(r);const c=o>0?1:-1,h=r>0?1:-1,d={x:t,y:0,z:e},l=[];for(let t=0,e=0;t<a||e<s;)(.5+t)/a<(.5+e)/s?(d.x+=c,t++):(d.z+=h,e++),l.push({x:d.x,y:0,z:d.z});return l}static checkValidLine(t,e){let i=!0;for(const n of t)e.some((t=>t.equals(n)))||(i=!1);return i}}},917:(t,e,i)=>{i.d(e,{u:()=>r});const{Proxy:n}=i(710),{GameStateVO:o}=i(448);class r extends n{get vo(){return this.getData()}static get NAME(){return"GameStateProxy"}constructor(){super(r.NAME,new o)}updateGameStateType(t){this.vo.gameplayMode=t}get currentMode(){return this.vo.gameplayMode}get currentAction(){return this.vo.selectedAction}set currentAction(t){this.vo.selectedAction=t}}},448:(t,e,i)=>{i.r(e),i.d(e,{gameplayModeTypes:()=>n,GameStateVO:()=>o});const n={EXPLORATION:"EXPLORATION",COMBAT:"COMBAT",DIALOGUE:"DIALOGUE",GAME_OVER:"GAME_OVER"};class o{constructor(){this.gameplayMode=n.EXPLORATION,this.selectedAction="none"}}},713:(t,e,i)=>{i.r(e),i.d(e,{InventoryVO:()=>o});var n=i(340);class o{constructor(){this.inventoryItems=[],this.equipmentSlots=new Map}addItem(t){this.inventoryItems.push(new n.R(t))}}},340:(t,e,i)=>{i.d(e,{R:()=>o});var n=i(217);class o{constructor(t){this.uuid=(0,n.L)(),this.id=t.id,this.icon=t.icon,this.name=t.name,this.description=t.description,this.type=t.type,this.size=t.size??1,this.equipSlot=t.equipSlot??"none"}}},553:(t,e,i)=>{i.r(e),i.d(e,{StoryVO:()=>n});class n{constructor(){}}},217:(t,e,i)=>{function n(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}i.d(e,{L:()=>n})},321:(t,e,i)=>{i.d(e,{y:()=>c});var n=i(68),o=i(969),r=i(434),a=i(958);const{Mediator:s}=i(710);class c extends s{static get NAME(){return"GameCharacterMediator_"}constructor(t,e,i){super(c.NAME+t),this.id=t;let o=[n.i.CHANGE_SCENE_COMPLETE,n.i.NAVIGATE_TO_NODE+this.id,n.i.NAVIGATE_TO_WAYPOINT+this.id,n.i.NAVIGATE_ALONG_PATH+this.id,n.i.SET_CHARACTER_TO_NODE+this.id,n.i.DISPLAY_DEATH+this.id,n.i.DISPLAY_ATTACK+this.id,n.i.DISPLAY_HIT+this.id,n.i.CHARACTER_LOOK_AT+this.id,n.i.START_COMBAT,n.i.MAP_GRID_CREATED];o=o.concat(i),this.subscribeNotification(o),this.viewComponent=e,this.viewComponent.on("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.on("finishedMove",this.handleFinishedMode,this),this.viewComponent.on("destroy",(()=>{this.viewComponent.off("updateCurrentNode",this.updateCurrentNode,this),this.viewComponent.off("finishedMove",this.handleFinishedMode,this)}))}onRegister(t){super.onRegister(t)}handleNotification(t,...e){this.viewComponent&&this.viewComponent.fire(t,this.id,...e);for(const i in this.viewComponent.script)if(Object.hasOwnProperty.call(this.viewComponent.script,i)){const n=this.viewComponent.script[i];"function"==typeof n.handleNotification&&n.handleNotification(t,this.id,...e)}switch(t){case n.i.START_COMBAT:this.handleStartCombat();break;case n.i.MAP_GRID_CREATED:const t=this.facade.retrieveProxy(o.h.NAME);this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t.findNearestNode(this.viewComponent.getLocalPosition());break;case n.i.NAVIGATE_TO_NODE+this.id:this.handleNavigateToNode(e[0]);break;case n.i.NAVIGATE_TO_WAYPOINT+this.id:this.handleNavigateToWaypoint(e[0]);break;case n.i.NAVIGATE_ALONG_PATH+this.id:this.handleNavigateAlongPath(e[0]);break;case n.i.SET_CHARACTER_TO_NODE+this.id:this.handleSetCharacterToNode(e[0]);break;case n.i.CHARACTER_LOOK_AT+this.id:const i=e[0];this.viewComponent.script.GameCharacterComponent.lookAtPoint(i);break;case n.i.DISPLAY_DEATH+this.id:const r=this.viewComponent.findByName("Hitbox");r&&r.fire("stopListening"),this.viewComponent.script.GameCharacterComponent.animateDeath();break;case n.i.DISPLAY_ATTACK+this.id:this.viewComponent.script.GameCharacterComponent.animateAttack();break;case n.i.DISPLAY_HIT+this.id:this.viewComponent.script.GameCharacterComponent.animateHit()}}handleNavigateToNode(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t)}handleNavigateToWaypoint(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=i.currentNode,s=e.findNearestWaypoint(this.viewComponent.getLocalPosition()),c=e.findNearestWaypoint(t);if(e.hasValidLine(n,t)){const e=[t,n];this.viewComponent.script.GameCharacterComponent.setPath(e),i.currentNode=t}else{const o=r.q.calculateWaypointsPath(s,c);if(o&&o.length>0){o.length>1&&e.hasValidLine(o[1],t)&&o.shift();let r=!0;for(;o.length>1&&r;)e.hasValidLine(o[o.length-2],n)?o.pop():r=!1;o.unshift(t),this.viewComponent.script.GameCharacterComponent.setPath(o),i.currentNode=t}}}handleNavigateAlongPath(t){this.viewComponent.script.GameCharacterComponent.setPath(t)}moveToNodeWithPromise(t){const e=this.facade.retrieveProxy(o.h.NAME),i=this.facade.retrieveProxy(a.b.NAME+this.id);i.currentNode,i.currentNode=e.findNearestNode(this.viewComponent.getLocalPosition());const n=r.q.calculatePath(i.currentNode,t);return n&&n.length>0&&(this.viewComponent.script.GameCharacterComponent.setPath(n),i.currentNode=t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}handleNavigateAlongPathWithPromise(t){return this.viewComponent.script.GameCharacterComponent.setPath(t),new Promise(((t,e)=>{this.viewComponent.on("finishedMove",(()=>{t()})),this.viewComponent.on("cancelMove",(()=>{e()}))}))}updateCurrentNode(t){this.facade.sendNotification(n.i.MOVED_TO_NODE+this.id,t)}handleFinishedMode(t){this.facade.sendNotification(n.i.FINISHED_MOVE,this.id,t)}lookForCharacter(t,e){for(const i of this.searchArea)i.equals(e)&&(this.viewComponent.script.GameCharacterComponent.lookAtPoint(e),this.facade.sendNotification(n.i.START_COMBAT,this.viewComponent,[t]))}handleStartCombat(){this.facade.retrieveProxy(a.b.NAME+this.id).vo}handleSetCharacterToNode(t){this.facade.retrieveProxy(a.b.NAME+this.id).currentNode=t,this.viewComponent.script.GameCharacterComponent.stopMovement(t)}}},852:(t,e,i)=>{i.d(e,{N:()=>o});const{Mediator:n}=i(710);class o extends n{static get NAME(){return"ProjectileCreatorMediator"}constructor(t){super(o.NAME),this.subscribeNotification([]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...e){}createProjectile(t,e,i){return this.viewComponent.script.ProjectileCreatorComponent.createProjectile(t,e,i)}}}},e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(298),e=i(68);const{Facade:n}=i(710),{GameFacade:o}=i(298),r=pc.createScript("CacogenGame");r.prototype.initialize=function(){this.facade=n.getInstance(o.KEY),this.facade.sendNotification(e.i.APP_INITIALISED),this.facade.sendNotification(e.i.CHANGE_SCENE,"Port Taringo","entrance")},r.prototype.update=function(t){};var a=i(434);const s=pc.createScript("NavigationComponent");s.attributes.add("connectedComponents",{type:"entity",array:!0,title:"Connected Components"}),s.prototype.initialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,.05,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.findByName("Plane").enabled=!1,this.entity.once("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)}))},s.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity,i,e)},s.prototype.setGrid=function(t){this.nodeGrid=t},s.prototype.getGrid=function(){return this.nodeGrid},s.prototype.getNearestNode=function(t){let e=this.nodeGrid[0],i=a.q.getDistSquared(e,t);for(const n of this.nodeGrid){const o=a.q.getDistSquared(n,t);o<i&&(i=o,e=n)}return e};var c=i(710),h=i(958),d=i(321),l=i(316),p=i(829),u=i(969);const E=pc.createScript("GameCharacterComponent");function y(t){const e=new Map;for(const i of t)e.set(i.skillName,i.skillValue);return e}E.attributes.add("characterId",{type:"string",title:"Character Id"}),E.attributes.add("characterSpeed",{type:"number",title:"Character Speed",default:4}),E.attributes.add("characterHeight",{type:"number",title:"Character Height",default:1.8}),E.attributes.add("isNPC",{type:"boolean",title:"is NPC",default:!0}),E.attributes.add("statsOverrides",{type:"json",title:"Stats Overrides",schema:[{name:"skill",title:"Skill",type:"number",default:1},{name:"maxStamina",title:"Stamina",type:"number",default:1},{name:"maxLuck",title:"Luck",type:"number",default:1},{name:"initiative",title:"Initiative",type:"number",default:2},{name:"maxMovement",title:"Movement",type:"number",default:6}]}),E.attributes.add("advancedSkills",{type:"json",title:"Advanced Skills",schema:[{name:"skillName",title:"Skill Name",type:"string"},{name:"skillValue",title:"Skill Value",type:"number"}],array:!0}),E.attributes.add("combatGroupName",{type:"string",title:"Combat Group Name"}),E.attributes.add("dialogueTreeName",{type:"string",title:"Dialogue Tree Name"}),E.attributes.add("botBehaviour",{type:"number",title:"Bot Behaviour",enum:l._,default:0}),E.attributes.add("equippedWeapon",{type:"string",title:"Equipped Weapon",enum:p.E,default:"unarmed"}),E.prototype.preregisterNotification=function(t){this.preregisteredNotifications||(this.preregisteredNotifications=[]),this.preregisteredNotifications.push(t)},E.prototype.postInitialize=function(){this.movementPath=[],this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.preregisteredNotifications||(this.preregisteredNotifications=[]);const e=this.statsOverrides,i={id:this.characterId,isNPC:this.isNPC,height:this.characterHeight,advancedSkills:y(this.advancedSkills),equippedWeapon:this.equippedWeapon,...e,botBehaviour:this.botBehaviour,dialogueTree:this.dialogueTreeName};if(this.combatGroupName&&""!==this.combatGroupName){const t=this.app.root.findByTag("combatGroup:"+this.combatGroupName),e=[];for(const i of t)if(i.enabled){const t=i.script.GameCharacterComponent.characterId;e.push(t)}i.combatGroup=e}if(this.facade.hasMediator(d.y.NAME+this.characterId)&&this.facade.removeMediator(d.y.NAME+this.characterId),this.facade.hasProxy(h.b.NAME+this.characterId));else{const t=new h.b(i),e=this.facade.retrieveProxy(u.h.NAME);if(e){const i=e.findNearestNode(this.entity.getPosition());t.currentNode=i}this.facade.registerProxy(t)}this.facade.registerMediator(new d.y(this.characterId,this.entity,this.preregisteredNotifications)),this.vehicle=this.entity.script.VehicleComponent,this.entity.animation.play("idle.glb",.1)},E.prototype.setPath=function(t){this.movementPath&&this.movementPath.length>0&&this.entity.fire("cancelMove"),this.movementPath=t,this.entity.animation.loop=!0,this.entity.animation.play("walk.glb",.1)},E.prototype.stopMovement=function(t){this.movementPath=[],this.entity.setLocalPosition(t.x,t.y,t.z),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)},E.prototype.update=function(t){this.moveAlongPath(t)},E.prototype.moveAlongPath=function(t){if(this.movementPath.length>0){const e=this.movementPath[this.movementPath.length-1],i=this.entity.getLocalPosition(),n=new pc.Vec3(e.x,e.y,e.z);if(i.distance(n)<=t*this.characterSpeed){const t=this.movementPath.pop();0===this.movementPath.length&&(this.entity.fire("finishedMove",t),this.entity.animation.loop=!0,this.entity.animation.play("idle.glb",.1)),this.entity.fire("updateCurrentNode",t)}else this.movementPath.length>1?this.vehicle.seek(n,t):this.vehicle.arrive(n,t),this.vehicle.processVelocity(t)}},E.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)},E.prototype.animateDeath=function(){this.entity.animation.loop=!1,this.entity.animation.play("die.glb",.1)},E.prototype.animateHit=function(){this.entity.animation.loop=!1,this.entity.animation.play("hit.glb",.1)},E.prototype.animateAttack=function(){this.entity.animation.loop=!1,this.entity.animation.play("attack.glb",.1)};var g=i(917),m=i(448);const A=pc.createScript("AgroGameCharacterComponent");A.attributes.add("sightRange",{type:"number",title:"Sight Range",default:5}),A.prototype.initialize=function(){this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MAP_GRID_CREATED),this.entity.script.GameCharacterComponent.preregisterNotification(e.i.MOVED_TO_NODE+"player"),this.entity.on(e.i.MAP_GRID_CREATED,this.handleMapGridCreated,this),this.entity.on(e.i.MOVED_TO_NODE+"player",this.handleMovedToNode,this),console.log("Wait for initial")},A.prototype.handleMapGridCreated=function(e,...i){const n=c.Facade.getInstance(t.GameFacade.KEY);this.characterProxy=n.retrieveProxy(h.b.NAME+e)},A.prototype.handleMovedToNode=function(i,n){const o=c.Facade.getInstance(t.GameFacade.KEY);if(o.retrieveProxy(g.u.NAME).vo.gameplayMode!==m.gameplayModeTypes.EXPLORATION||this.characterProxy.isDead)return;const r=this.characterProxy.currentNode,a=new pc.Vec3(r.x,r.y,r.z),s=new pc.Vec3(n.x,n.y,n.z);if(a.distance(s)<=this.sightRange){const t=o.retrieveProxy(u.h.NAME);a.y+=this.characterProxy.height,t.rayIntersectsWall(a,s)||(o.sendNotification(e.i.SET_CHARACTER_TO_NODE+"player",n),o.sendNotification(e.i.START_COMBAT,i))}};const{Mediator:f}=i(710);class N extends f{static get NAME(){return"ToastMessageMediator"}constructor(t){super(N.NAME),this.subscribeNotification([e.i.SHOW_TOAST_MESSAGE]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_TOAST_MESSAGE:this.viewComponent.script.ToastMessageComponent.addMessage(i[0])}}}const T=pc.createScript("ToastMessageComponent");T.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),T.attributes.add("messageTime",{type:"number",default:5,title:"Message Time"}),T.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(N.NAME)&&this.facade.removeMediator(N.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new N(this.entity))},T.prototype.addMessage=function(t){0===this.messageQueue.length?(this.messageQueue.push(t),this.showNextMessage()):this.messageQueue.push(t)},T.prototype.showNextMessage=function(){if(this.messageQueue.length>0){const t=this.messageQueue[0];this.labelEntity.element.text=t,setTimeout((()=>{this.messageQueue.shift(),this.showNextMessage()}),1e3*this.messageTime)}else this.labelEntity.element.text=""},pc.createScript("SetCameraTargetComponent").prototype.postInitialize=function(){c.Facade.getInstance(t.GameFacade.KEY).sendNotification(e.i.SET_CAMERA_TARGET,this.entity)};const{Mediator:C}=i(710);class _ extends C{static get NAME(){return"InputLayerMediator"}constructor(t){super(_.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:gameCharacter",this.handlePickerGameCharacter,this),this.viewComponent.on("picker:navigation",this.handlePickerNavigation,this),this.viewComponent.on("scrolling",this.handleScrolling,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:}}handlePickerGameCharacter(t){this.facade.sendNotification(e.i.SELECT_GAME_CHARACTER,t)}handlePickerNavigation(t){this.facade.sendNotification(e.i.SELECTED_NODE,t)}handleScrolling(t){this.facade.sendNotification(e.i.INPUT_DRAG_MOUSE,t)}}const M=pc.createScript("GameCamera");M.attributes.add("distance",{type:"number",default:100,title:"Distance"}),M.attributes.add("dragMultiplierX",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("dragMultiplierY",{type:"number",default:.5,title:"Drag Multiplier"}),M.attributes.add("verticalScroll",{type:"boolean",default:!1,title:"Vertical Scroll"}),M.attributes.add("minCameraHeight",{type:"number",default:5,title:"Min Camera Height"}),M.attributes.add("maxCameraHeight",{type:"number",default:100,title:"Max Camera Height"}),M.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(P.NAME)&&this.facade.removeMediator(P.NAME),this.facade.registerMediator(new P(this.entity))},M.prototype.setCameraTarget=function(t){this.cameraTarget=t,this.rotation=this.entity.getEulerAngles().y,this.cameraHeight=this.entity.getLocalPosition().y},M.prototype.handleDrag=function(t){if(this.rotation+=t.x*this.dragMultiplierX,this.verticalScroll){let e=this.cameraHeight-t.y*this.dragMultiplierY;e=pc.math.clamp(e,this.minCameraHeight,this.maxCameraHeight),this.cameraHeight=e}},M.prototype.getTargetCameraPosition=function(t){const e=this.entity.getLocalPosition(),i=Math.sin(this.rotation*Math.PI/180)*this.distance,n=Math.cos(this.rotation*Math.PI/180)*this.distance;return new pc.Vec3(t.x+i,e.y,t.z+n)},M.prototype.update=function(t){if(this.cameraTarget){const t=this.cameraTarget.getLocalPosition(),e=this.getTargetCameraPosition(t),i=this.entity.getLocalPosition(),n=(e.x+9*i.x)/10,o=(this.cameraHeight+9*i.y)/10,r=(e.z+9*i.z)/10;this.entity.setLocalPosition(n,o,r),this.entity.lookAt(t)}};const{Mediator:v}=i(710);class P extends v{static get NAME(){return"GameCameraMediator"}constructor(t){super(P.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.INPUT_DRAG_MOUSE,e.i.SET_CAMERA_TARGET]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:this.viewComponent.script.GameCamera.setCameraTarget(i[0]);break;case e.i.INPUT_DRAG_MOUSE:this.viewComponent.script.GameCamera.handleDrag(i[0])}}}const S=pc.createScript("InputLayerComponent");S.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),S.attributes.add("dragTime",{type:"number",title:"Drag Time",default:.4}),S.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(_.NAME)&&this.facade.removeMediator(_.NAME),this.facade.registerMediator(new _(this.entity)),this.ray=new pc.Ray,this.inputQueue=[],this.app.mouse.disableContextMenu(),this.clickDownStart=0,this.isDragging=!1,this.app.on("picker:result",this.handlePickerResult,this),this.app.mouse&&(this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.entity.element.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),this.entity.once("destroy",(()=>{this.app.mouse.off(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.off(pc.EVENT_MOUSEUP,this.onMouseUp,this)}))),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHMOVE,(t=>{this.onMouseMove(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{this.onMouseDown(t.touches[0])})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{this.onMouseUp()})))},S.prototype.onMouseDown=function(t){this.isDragging=!0,this.clickDownStart=Date.now(),this.clickStartPoint={x:t.x,y:t.y}},S.prototype.onMouseMove=function(t){if(this.isDragging){const e=new pc.Vec2(this.clickStartPoint.x-t.x,this.clickStartPoint.y-t.y);this.entity.fire("scrolling",e),this.clickStartPoint={x:t.x,y:t.y}}},S.prototype.onMouseUp=function(){this.isDragging=!1,Date.now()-this.clickDownStart<1e3*this.dragTime&&this.clickStartPoint&&this.handleRaycastCollisions(this.clickStartPoint.x,this.clickStartPoint.y)},S.prototype.handleRaycastCollisions=function(t,e){const i=this.cameraEntity,n=this.cameraEntity.camera;n.screenToWorld(t,e,n.farClip,this.ray.direction),this.ray.origin.copy(i.getPosition()),this.ray.direction.sub(this.ray.origin).normalize(),this.app.fire("picker:raycast",this.ray,{x:t,y:e})},S.prototype.handlePickerResult=function(t,e,i){this.inputQueue.push({entity:t,hitPosition:e,screenPosition:i})},S.prototype.update=function(t){this.processInputQueue()},S.prototype.processInputQueue=function(){if(this.inputQueue.length>0){let e=this.inputQueue[0],i=-1;for(const n of this.inputQueue){const o=(t=n.entity).tags.has("gameCharacter")?3:t.tags.has("portal")?2:t.tags.has("navigation")?1:-1;o>i&&(e=n,i=o)}this.inputQueue=[],e.entity.tags.has("gameCharacter")&&this.pickedGameCharacter(e.entity,e.hitPosition),e.entity.tags.has("navigation")&&this.pickedNavigation(e.entity,e.hitPosition),e.entity.tags.has("portal")&&this.pickedPortal(e.entity,e.hitPosition)}var t},S.prototype.pickedGameCharacter=function(t,e){this.entity.fire("picker:gameCharacter",t)},S.prototype.pickedNavigation=function(t,e){const i=t.script.NavigationComponent.getNearestNode(e);this.entity.fire("picker:navigation",i)},S.prototype.pickedPortal=function(t,e){t.fire("picker:portal")};const{Mediator:I}=i(710);class b extends I{static get NAME(){return"PlayerCombatPanelMediator"}constructor(t){super(b.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN]),this.viewComponent=t,this.viewComponent.on("click:endTurn",this.handleEndTurn,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:this.viewComponent.enabled=!0;break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}handleEndTurn(t){this.sendNotification(e.i.END_COMBAT_TURN)}}const O=pc.createScript("PlayerCombatPanelComponent");O.attributes.add("endTurnButton",{type:"entity",title:"End Turn button"}),O.prototype.initialize=function(){},O.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(b.NAME)&&this.facade.removeMediator(b.NAME),this.messageQueue=[],this.currentTimeout=void 0,this.facade.registerMediator(new b(this.entity)),this.endTurnButton.element.on("click",this.clickEndTurn,this)},O.prototype.clickEndTurn=function(t){this.entity.fire("click:endTurn")};const x=pc.createScript("HitboxComponent");x.prototype.postInitialize=function(){const t=this.entity.getLocalScale(),e=new pc.Vec3(t.x/2,t.y/2,t.z/2);this.aabb=new pc.BoundingBox(this.entity.getPosition(),e),this.app.on("picker:raycast",this.handleRayCast,this),this.entity.on("stopListening",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.on("destroy",(()=>{this.app.off("picker:raycast",this.handleRayCast,this)})),this.entity.model.enabled=!1},x.prototype.handleRayCast=function(t,e){const i=new pc.Vec3;this.aabb.intersectsRay(t,i)&&this.app.fire("picker:result",this.entity.parent,i,e)},x.prototype.update=function(t){this.aabb.center.copy(this.entity.getPosition())};const{Mediator:L}=i(710);class D extends L{static get NAME(){return"ActionPanelMediator"}constructor(t){super(D.NAME),this.subscribeNotification([e.i.SET_PLAYER_ACTION,e.i.TOGGLE_BUTTON,e.i.USE_PLAYER_ACTION]),this.viewComponent=t,this.viewComponent.on("click:fireCommand",this.handleFireCommand,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.TOGGLE_BUTTON:const t=i[0];this.viewComponent.script.ActionPanelComponent.selectAction(t);break;case e.i.USE_PLAYER_ACTION:}}handleFireCommand(t,...e){this.facade.sendNotification(t,...e)}}const w=pc.createScript("ActionButtonComponent");w.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),w.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),w.attributes.add("commands",{type:"json",schema:[{name:"commandName",title:"Command name",type:"string"},{name:"commandArgs",title:"Command arguments",type:"string",array:!0}],title:"Command name",array:!0}),w.prototype.initialize=function(){this.highlightEntity.enabled=!1,this.entity.on("select:action",this.handleChangeAction,this),this.entity.element.on("click",this.handleClick,this)},w.prototype.handleClick=function(t){for(const t of this.commands){const e=t.commandName,i=t.commandArgs;this.entity.parent.fire("click:fireCommand",e,...i)}},w.prototype.handleChangeAction=function(t){this.entity.name===t?this.highlightEntity.enabled=!this.highlightEntity.enabled:this.highlightEntity.enabled=!1};const R=pc.createScript("ActionPanelComponent");R.attributes.add("actionButtons",{type:"entity",title:"Action Buttons",array:!0}),R.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(D.NAME)&&this.facade.removeMediator(D.NAME),this.facade.registerMediator(new D(this.entity))},R.prototype.selectAction=function(t){for(const e of this.actionButtons)e.fire("select:action",t)},pc.createScript("UIStopPropagation").prototype.initialize=function(){this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_MOUSEDOWN,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHSTART,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHMOVE,(t=>{t.stopPropagation()})),this.entity.element.on(pc.EVENT_TOUCHEND,(t=>{t.stopPropagation()}))};var G=i(852);const k=pc.createScript("ProjectileCreatorComponent");k.attributes.add("projectileTypes",{type:"json",title:"Projectile Types",schema:[{name:"projectileName",title:"Projectile Name",type:"string"},{name:"projectileTemplate",title:"Projectile Template",type:"asset"}],array:!0}),k.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(G.N.NAME)&&this.facade.removeMediator(G.N.NAME),this.facade.registerMediator(new G.N(this.entity))},k.prototype.createProjectile=function(t,e,i){return new Promise(((n,o)=>{const r=this.projectileTypes.find((e=>e.projectileName===t));if(!r)throw o(),new Error(`Unable to create projectile "${t}"`);{const t=r.projectileTemplate.resource.instantiate();this.entity.addChild(t),t.once("projectileArrived",(()=>{n()})),t.script.ProjectileComponent.setTarget(e,i)}}))};const U=pc.createScript("ProjectileComponent");U.attributes.add("projectileSpeed",{type:"number",title:"Projectile Speed",default:8}),U.prototype.initialize=function(){},U.prototype.setTarget=function(t,e){this.entity.setLocalPosition(t.x,t.y,t.z),this.targetPoint=e,this.lookAtPoint(this.targetPoint)},U.prototype.update=function(t){if(this.targetPoint){const e=this.entity.getLocalPosition(),i=new pc.Vec3,n=new pc.Vec3(t*this.projectileSpeed,t*this.projectileSpeed,t*this.projectileSpeed);i.sub2(this.targetPoint.clone(),e),i.normalize(),i.mul(n),i.add(e),this.entity.setLocalPosition(i),i.distance(this.targetPoint)<=t*this.projectileSpeed&&(this.entity.fire("projectileArrived"),this.entity.destroy())}},U.prototype.lookAtPoint=function(t){const e=this.entity.getLocalPosition(),i=t.x-e.x,n=t.z-e.z,o=180*Math.atan2(i,n)/Math.PI;this.entity.setEulerAngles(0,o,0)};const{Mediator:V}=i(710);class H extends V{static get NAME(){return"StaminaBarMediator"}constructor(t){super(H.NAME),this.subscribeNotification([e.i.CHANGE_STAMINA+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_STAMINA+"player":const t=i[0],n=i[1];this.viewComponent.script.StaminaBarComponent.updateStamina(t,n)}}}const F=pc.createScript("StaminaBarComponent");F.attributes.add("barEntity",{type:"entity",title:"Bar Entity"}),F.attributes.add("staminaLabel",{type:"entity",title:"Stamina Label"}),F.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(H.NAME)&&this.facade.removeMediator(H.NAME),this.facade.registerMediator(new H(this.entity)),this.barEntityMaxWidth=this.barEntity.element.width},F.prototype.updateStamina=function(t,e){const i=pc.math.clamp(t/e,0,1),n=pc.math.lerp(0,this.barEntityMaxWidth,i);this.barEntity.element.width=n,this.barEntity.element.rect.z=i,this.barEntity.element.rect=this.barEntity.element.rect,this.staminaLabel.element.text=`${t}/${e}`};const{Mediator:z}=i(710);class B extends z{static get NAME(){return"ActionsRemainingPanelMediator"}constructor(t){super(B.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE,e.i.AWAIT_PLAYER_COMBAT_INPUT,e.i.END_COMBAT_TURN,e.i.USE_ACTION+"player"]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.CHANGE_SCENE_COMPLETE:this.viewComponent.enabled=!1;break;case e.i.AWAIT_PLAYER_COMBAT_INPUT:const t=this.facade.retrieveProxy(h.b.NAME+"player"),n=t.availableActions,o=t.maxActionsPerTurn;this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(n,o),this.viewComponent.enabled=!0;break;case e.i.USE_ACTION+"player":this.viewComponent.script.ActionsRemainingPanelComponent.showAvailableAction(i[0],i[1]);break;case e.i.END_COMBAT_TURN:this.viewComponent.enabled=!1}}}const W=pc.createScript("ActionsRemainingPanelComponent");W.attributes.add("pipTemplate",{type:"asset",title:"Pip Template"}),W.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(B.NAME)&&this.facade.removeMediator(B.NAME),this.facade.registerMediator(new B(this.entity)),this.pips=[]},W.prototype.showAvailableAction=function(t,e){for(;this.pips.length<e;)this.createPip();for(let e=0;e<this.pips.length;e++)e<t?this.pips[e].fire("togglePip",!0):this.pips[e].fire("togglePip",!1)},W.prototype.createPip=function(){const t=this.pipTemplate.resource.instantiate();this.entity.addChild(t),this.pips.push(t)};const Y=pc.createScript("ActionsRemainingPipComponent");Y.attributes.add("pipFront",{type:"entity",title:"Pip front"}),Y.prototype.initialize=function(){this.entity.on("togglePip",(t=>{this.pipFront.enabled=t}))};const{Mediator:q}=i(710);class K extends q{static get NAME(){return"FloatingStatusCreatorMediator"}constructor(t){super(K.NAME),this.subscribeNotification([e.i.DISPLAY_FLOATING_STATUS]),this.viewComponent=t}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_FLOATING_STATUS:const t=this.viewComponent.script.FloatingStatusCreatorComponent,n=i[0],o=i[1];t.displayStatus(n,o)}}}const j=pc.createScript("TemporaryFloatingStatusComponent");j.prototype.initialize=function(){},j.prototype.setWorldPosition=function(t,e,i){this.entity.enabled=!0,this.worldPosition=t,this.device=this.app.graphicsDevice,this.cameraEntity=e,this.screenEntity=i,setTimeout((()=>{this.entity.destroy()}),1e3)},j.prototype.postUpdate=function(t){const e=this.worldSpaceToScreenSpace(this.worldPosition.clone());e&&this.entity.setLocalPosition(e)},j.prototype.worldSpaceToScreenSpace=function(t){if(this.device&&this.cameraEntity&&this.screenEntity){const e=t.clone(),i=new pc.Vec3;this.cameraEntity.camera.worldToScreen(e,i);const n=this.app.graphicsDevice.maxPixelRatio;i.x*=n,i.y*=n;const o=this.screenEntity.screen.scale,r=i.x/o,a=(this.device.height-i.y)/o;return new pc.Vec3(r,a,0)}};const $=pc.createScript("FloatingStatusCreatorComponent");$.attributes.add("screenEntity",{type:"entity",title:"Screen Entity"}),$.attributes.add("cameraEntity",{type:"entity",title:"Camera Entity"}),$.attributes.add("floatingStatuses",{type:"json",schema:[{name:"name",title:"Name",type:"string"},{name:"template",title:"Template",type:"asset"}],title:"Floating Statuses",array:!0}),$.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(K.NAME)&&this.facade.removeMediator(K.NAME),this.facade.registerMediator(new K(this.entity))},$.prototype.displayStatus=function(t,e,...i){const n=this.floatingStatuses.find((e=>e.name===t));if(!n)throw new Error("Cannot create floating status: "+t);{const t=e.currentNode,i=new pc.Vec3(t.x,t.y+e.height,t.z),o=n.template.resource.instantiate();o.script.TemporaryFloatingStatusComponent.setWorldPosition(i,this.cameraEntity,this.screenEntity),this.entity.parent.addChild(o)}};const{Mediator:X}=i(710);class Q extends X{static get NAME(){return"PortalMediator"}constructor(t){super(Q.NAME),this.subscribeNotification([e.i.CHANGE_SCENE_COMPLETE]),this.viewComponent=t,this.viewComponent.on("picker:portal",this.selectedPortal,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SET_CAMERA_TARGET:}}selectedPortal(){const t=this.facade.retrieveProxy(g.u.NAME),i=this.viewComponent.script.PortalComponent,n=i.destinationScene,o=i.destinationPortal,r=i.standingPoint.getPosition();t.currentMode===m.gameplayModeTypes.EXPLORATION&&this.facade.sendNotification(e.i.NAVIGATE_THROUGH_PORTAL,r,n,o)}}const J=pc.createScript("PortalComponent");J.attributes.add("portalId",{type:"string",title:"Portal Id"}),J.attributes.add("destinationScene",{type:"string",title:"Destination Scene"}),J.attributes.add("destinationPortal",{type:"string",title:"Destination Portal"}),J.attributes.add("hitbox",{type:"entity",title:"Hitbox"}),J.attributes.add("standingPoint",{type:"entity",title:"Standing Point"}),J.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Q.NAME)&&this.facade.removeMediator(Q.NAME),this.facade.registerMediator(new Q(this.entity)),this.standingPoint.model.enabled=!1};const{Mediator:Z}=i(710);class tt extends Z{static get NAME(){return"DialoguePanelMediator"}constructor(t){super(tt.NAME),this.subscribeNotification([e.i.SHOW_DIALOGUE_PANEL,e.i.HIDE_DIALOGUE_PANEL,e.i.DISPLAY_DIALOGUE_STEP,e.i.DISPLAY_DIALOGUE_SKILL_TEST,e.i.CLEAR_DIALOGUE_CHOICES,e.i.SHOW_DIALOGUE_CONTINUE_BUTTON,e.i.HIDE_DIALOGUE_CONTINUE_BUTTON]),this.viewComponent=t,this.viewComponent.on("clicked:continue",this.handleClickContinue,this),this.viewComponent.on("clicked:choice",this.handleClickChoice,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.SHOW_DIALOGUE_PANEL:this.viewComponent.enabled=!0;break;case e.i.HIDE_DIALOGUE_PANEL:this.viewComponent.script.DialoguePanelComponent.clearPanel(),this.viewComponent.enabled=!1;break;case e.i.DISPLAY_DIALOGUE_STEP:this.viewComponent.script.DialoguePanelComponent.createStep(i[0]);break;case e.i.DISPLAY_DIALOGUE_SKILL_TEST:this.viewComponent.script.DialoguePanelComponent.createSkillTest(...i);break;case e.i.CLEAR_DIALOGUE_CHOICES:this.viewComponent.script.DialoguePanelComponent.clearDialogueChoices();break;case e.i.SHOW_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!0);break;case e.i.HIDE_DIALOGUE_CONTINUE_BUTTON:this.viewComponent.script.DialoguePanelComponent.setContinueButton(!1)}}handleClickContinue(){this.facade.sendNotification(e.i.CONTINUE_DIALOGUE_NODE)}handleClickChoice(t){this.facade.sendNotification(e.i.SELECT_DIALOGUE_CHOICE,t)}}const et=pc.createScript("DialoguePanelComponent");et.attributes.add("scrollbarViewEntity",{type:"entity",title:"Scrollbar View"}),et.attributes.add("contentEntity",{type:"entity",title:"Content Entity"}),et.attributes.add("feedEntity",{type:"entity",title:"Feed Entity"}),et.attributes.add("contentHeight",{type:"number",title:"Content Height",default:520}),et.attributes.add("textEntryTemplate",{type:"asset",title:"Text Entry Asset"}),et.attributes.add("choiceEntryTemplate",{type:"asset",title:"Choice Entry Asset"}),et.attributes.add("skillTestEntryTemplate",{type:"asset",title:"Skill Test Entry Asset"}),et.attributes.add("continueButtonEntity",{type:"entity",title:"Continue Button"}),et.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(tt.NAME)&&this.facade.removeMediator(tt.NAME),this.facade.registerMediator(new tt(this.entity)),this.entity.enabled=!1,this.choices=[],this.continueButtonEntity.element.on("click",(()=>{this.entity.fire("clicked:continue")}),this)},et.prototype.createStep=function(t){if(this.createText(t.step),t.step.choices)for(let e=0;e<t.step.choices.length;e++){const i=t.step.choices[e];this.createChoice(e,i.text)}},et.prototype.createText=function(t){const e=this.textEntryTemplate.resource.instantiate();e.script.DialogueTextComponent.setup(t),this.feedEntity.addChild(e),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createChoice=function(t,e){const i=this.choiceEntryTemplate.resource.instantiate();i.script.DialogueChoiceComponent.setup(t,e),i.element.text=e,this.feedEntity.addChild(i),this.choices.push(i),i.on("click",this.handleSelectChoice,this),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.createSkillTest=function(t,e,i,n,o){const r=this.skillTestEntryTemplate.resource.instantiate();r.script.DialogueSkillTestComponent.setup(t,e,i,n,o),this.feedEntity.addChild(r),this.resizeToContents(),setTimeout((()=>{this.scrollbarViewEntity.scrollbar.value=1}),50)},et.prototype.clearDialogueChoices=function(){for(const t of this.choices)t.off("click",this.handleSelectChoice,this),t.destroy();this.choices=[]},et.prototype.clearPanel=function(){for(;this.feedEntity.children.length>0;)this.feedEntity.children[0].destroy()},et.prototype.handleSelectChoice=function(t){this.entity.fire("clicked:choice",t)},et.prototype.resizeToContents=function(){let t=this.feedEntity.layoutgroup.spacing.y,e=0;for(const i of this.feedEntity.children)e+=i.element.height,e+=t;this.contentEntity.element.height=Math.max(this.contentHeight,e)},et.prototype.setContinueButton=function(t){this.continueButtonEntity.enabled=t};const it=pc.createScript("DialogueChoiceComponent");it.attributes.add("indexEntity",{type:"entity",title:"Index Entity"}),it.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),it.prototype.initialize=function(){},it.prototype.setup=function(t,e){this.indexEntity.element.text=t+1+".",this.labelEntity.element.text=e,this.entity.element.height=this.labelEntity.element.height,this.entity.element.on("click",(()=>{this.entity.fire("click",t)}))},it.prototype.update=function(t){this.entity.element.height=this.labelEntity.element.height};const nt=pc.createScript("DefaultAnimationComponent");nt.attributes.add("animationName",{type:"string",title:"Animation Name"}),nt.prototype.postInitialize=function(){this.entity.animation.loop=!0,this.entity.animation.play(this.animationName,.1)};const ot=pc.createScript("DialogueTextComponent");ot.attributes.add("withImageWidth",{type:"number",title:"With Image Width",default:340}),ot.attributes.add("withoutImageWidth",{type:"number",title:"With Image Width",default:360}),ot.attributes.add("textContainer",{type:"entity",title:"Text Container"}),ot.attributes.add("titleEntity",{type:"entity",title:"Title Entity"}),ot.attributes.add("bodyEntity",{type:"entity",title:"Body Entity"}),ot.attributes.add("thumbnailContainer",{type:"entity",title:"Thumbnail Container"}),ot.attributes.add("thumbnailImage",{type:"entity",title:"Thumbnail Image"}),ot.prototype.initialize=function(){},ot.prototype.setup=function(t){t.title?(this.titleEntity.element.text=t.title,t.titleColour&&this.titleEntity.element.color.fromString(t.titleColour)):this.titleEntity.enabled=!1,t.thumbnail?this.textContainer.element.width=this.withImageWidth:(this.textContainer.element.width=this.withoutImageWidth,this.thumbnailContainer.enable=!1),this.bodyEntity.element.text=t.text},ot.prototype.setHeight=function(){const t=this.thumbnailContainer.enable?this.thumbnailContainer.element.height:0;let e=0,i=this.textContainer.layoutgroup.spacing.y;for(const t of this.textContainer.children)e+=t.element.height+i;this.titleEntity.enabled||(this.bodyEntity.element.width=this.withImageWidth),this.entity.element.height=Math.max(t,e)},ot.prototype.postInitialize=function(){this.setHeight()},ot.prototype.update=function(t){};const{Mediator:rt}=i(710);class at extends rt{static get NAME(){return"AttackButtonMediator"}constructor(t){super(at.NAME),this.subscribeNotification([e.i.GAMEPLAY_ACTION_CHANGED]),this.viewComponent=t,this.viewComponent.on("click:toggleAttack",this.handleToggleAttack,this)}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.GAMEPLAY_ACTION_CHANGED:"attack"===i[0]?this.viewComponent.script.AttackButtonComponent.toggleHighlight(!0):this.viewComponent.script.AttackButtonComponent.toggleHighlight(!1)}}handleToggleAttack(t){t?this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"attack"):this.facade.sendNotification(e.i.GAMEPLAY_ACTION_CHANGED,"interact")}}const st=pc.createScript("AttackButtonComponent");st.attributes.add("highlightEntity",{type:"entity",title:"Highlight Entity"}),st.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(at.NAME)&&this.facade.removeMediator(at.NAME),this.facade.registerMediator(new at(this.entity)),this.entity.element.on("click",this.handleClick,this)},st.prototype.handleClick=function(t){this.entity.fire("click:toggleAttack",!this.highlightEntity.enabled)},st.prototype.toggleHighlight=function(t){this.highlightEntity.enabled=t};const ct=pc.createScript("VehicleComponent");function ht(t,e){return t.length()<e?t:t.normalize().scale(e)}ct.attributes.add("mass",{type:"number",title:"Mass",default:3}),ct.attributes.add("maxSpeed",{type:"number",title:"Max Speed",default:5}),ct.attributes.add("maxForce",{type:"number",title:"Max Force",default:.5}),ct.attributes.add("arriveThreshold",{type:"number",title:"Arrival Threshold",default:1}),ct.prototype.initialize=function(){this.velocity=new pc.Vec3,this.steeringForce=new pc.Vec3},ct.prototype.processVelocity=function(t){const e=this.entity.getPosition();this.steeringForce=ht(this.steeringForce,this.maxForce),this.steeringForce=this.steeringForce.scale(1/this.mass),this.velocity=this.velocity.add(this.steeringForce),this.velocity=ht(this.velocity,this.maxSpeed*t),this.steeringForce=new pc.Vec3,this.entity.setLocalPosition(e.add(this.velocity));const i=180*(n=this.velocity,Math.atan2(n.x,n.z))/Math.PI;var n;this.entity.setEulerAngles(0,i,0)},ct.prototype.seek=function(t,e){const i=this.entity.getLocalPosition();let n=t.clone().sub(i);n=n.normalize(),n.scale(this.maxSpeed*e);const o=n.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)},ct.prototype.arrive=function(t){const e=this.entity.getPosition();let i=t.clone().sub(e).normalize().scale(this.maxSpeed);const n=e.distance(t);i=n>this.arrivalThreshold?i.scale(this.maxSpeed):i.scale(this.maxSpeed*n/this.arriveThreshold);const o=i.sub(this.velocity);this.steeringForce=this.steeringForce.add(o)};const dt=pc.createScript("ScreenResizeComponent");dt.prototype.window=window,dt.prototype.postInitialize=function(){this.onResize(),this.window.addEventListener("resize",this.onResize.bind(this),!1)},dt.prototype.onResize=function(){const t=this.app.graphicsDevice;t.width<t.height?this.entity.screen.scaleBlend=1:this.entity.screen.scaleBlend=0,this.entity.screen.referenceResolution=new pc.Vec2(t.width,t.height)};const lt=pc.createScript("DialogueSkillTestComponent");lt.attributes.add("skillNameLabel",{type:"entity",title:"Skill Name Label"}),lt.attributes.add("skillValueLabel",{type:"entity",title:"Skill Value Label"}),lt.attributes.add("die1Label",{type:"entity",title:"Die 1 Label"}),lt.attributes.add("die2Label",{type:"entity",title:"Die 2 Label"}),lt.attributes.add("successLabel",{type:"entity",title:"Success Label"}),lt.attributes.add("failureLabel",{type:"entity",title:"Failure Label"}),lt.prototype.initialize=function(){},lt.prototype.setup=function(t,e,i,n,o){this.skillNameLabel.element.text=t,this.skillValueLabel.element.text=e,this.die1Label.element.text=i,this.die2Label.element.text=n,this.successLabel.enabled=o,this.failureLabel.enabled=!o};const pt=pc.createScript("InventoryItemComponent");pt.attributes.add("labelEntity",{type:"entity",title:"Label Entity"}),pt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),pt.attributes.add("expandedEntity",{type:"entity",title:"Expanded Entity"}),pt.attributes.add("handle",{type:"entity",default:null,title:"Handle"}),pt.attributes.add("axis",{type:"string",default:"y",title:"Axis",description:"lock drag to axis: x, y or xy"}),pt.prototype.setup=function(t,e,i){this.size=e,this.labelEntity.element.text=t,this.entity.element.height=this.slotHeight*e,this.expandedEntity.element.height=this.slotHeight*e,this.orderIndex=i},pt.prototype.collapse=function(){this.expandedEntity.enabled=!1},pt.prototype.expand=function(){this.expandedEntity.enabled=!0},pt.prototype.postInitialize=function(){new pc.ElementDragHelper(this.entity.element,null).on("drag:start",this.onDragStart,this)},pt.prototype.onDragStart=function(){this.entity.parent.fire("drag:start",this.entity,this.size)};const{Mediator:ut}=i(710);class Et extends ut{static get NAME(){return"InventoryPanelMediator"}constructor(t){super(Et.NAME),this.subscribeNotification([e.i.DISPLAY_INVENTORY_PANEL]),this.viewComponent=t,this.viewComponent.on("reorderItem",this.handeReorderItem,this),this.viewComponent.on("equipItem",this.handleEquipItem,this),this.viewComponent.enabled=!1}onRegister(t){super.onRegister(t)}handleNotification(t,...i){switch(t){case e.i.DISPLAY_INVENTORY_PANEL:const t=i[0],n=i[1];this.viewComponent.script.InventoryPanelComponent.displayItems(t,n),this.viewComponent.enabled=!0}}handeReorderItem(t,i){this.facade.sendNotification(e.i.REORDER_INVETORY_ITEM,t,i)}handleEquipItem(t,i){this.facade.sendNotification(e.i.EQUIP_ITEM_TO_SLOT,t,i)}}const yt=pc.createScript("InventoryPanelComponent");function gt(t,e){return t.x>e.x1&&t.x<e.x2&&t.y>e.y1&&t.y<e.y2}yt.attributes.add("slotContainer",{type:"entity",title:"Slot Container"}),yt.attributes.add("topSlotPosition",{type:"entity",title:"Top Slot Position"}),yt.attributes.add("separatorHighlight",{type:"entity",title:"Separator Highlight"}),yt.attributes.add("closeButton",{type:"entity",title:"Close Button"}),yt.attributes.add("itemAsset",{type:"asset",title:"Item Asset"}),yt.attributes.add("dragIcon",{type:"entity",title:"Drag Icon"}),yt.attributes.add("slotWidth",{type:"number",title:"Slot Width",default:320}),yt.attributes.add("slotHeight",{type:"number",title:"Slot Height",default:44}),yt.attributes.add("maxSlots",{type:"number",title:"Max Slots",default:12}),yt.attributes.add("equipmentSlots",{type:"json",schema:[{name:"key",title:"Equipment Slot Key",type:"string"},{name:"entity",title:"Equipment Slot Entity",type:"entity"}],array:!0,title:"Equipment Slots"}),yt.prototype.initialize=function(){this.facade=c.Facade.getInstance(t.GameFacade.KEY),this.facade.hasMediator(Et.NAME)&&this.facade.removeMediator(Et.NAME),this.facade.registerMediator(new Et(this.entity)),this.entity.on("drag:start",this.handleDragStart,this),this.closeButton.element.on("click",this.handleClose,this),this.separatorHighlight.enabled=!1,this.inventoryItemEntities=[]},yt.prototype.handleDragStart=function(t,e){t.reparent(this.entity),this.dragIcon.reparent(this.entity),this.entity.element.on(pc.EVENT_MOUSEMOVE,(i=>{this.handleMouseMove(t,e,i)}),this),this.entity.element.on(pc.EVENT_MOUSEUP,(i=>{this.handleMouseUp(t,e,i)}),this)},yt.prototype.localPositionFromMouseEvent=function(t){const e=new pc.Vec3(t.x,t.y,0),i=this.app.graphicsDevice.maxPixelRatio;e.x*=i,e.y*=i;const n=this.entity.element.screen.screen,o=this.app.graphicsDevice,r=n.scale,a=e.x/r,s=(o.height-e.y)/r;return new pc.Vec3(a,s,0)},yt.prototype.handleMouseMove=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.setLocalPosition(n),this.displayPotentialList(t,e,n)},yt.prototype.handleMouseUp=function(t,e,i){const n=this.localPositionFromMouseEvent(i);this.dragIcon.enabled=!1,t.script.InventoryItemComponent.expand(),this.entity.element.off(pc.EVENT_MOUSEMOVE),this.entity.element.off(pc.EVENT_MOUSEUP);const o=this.topSlotPosition.getLocalPosition();if(gt(n,{x1:o.x,y1:o.y-this.maxSlots*this.slotHeight,x2:o.x+this.slotWidth,y2:o.y})){const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},n=this.localPositionFromMouseEvent(i),r=Math.max(0,Math.floor((o.y-n.y)/this.slotHeight)),a=t.script.InventoryItemComponent.orderIndex;this.entity.fire("reorderItem",a,r)}else this.checkDropOnEquipmentSlot(t,i)},yt.prototype.checkDropOnEquipmentSlot=function(t,e){for(const i of this.equipmentSlots){const n=i.key,o=i.entity.element.screenCorners,r=this.app.graphicsDevice.height;if(gt({x:e.x,y:r-e.y},{x1:o[0].x,y1:o[0].y,x2:o[2].x,y2:o[2].y})){const e=t.script.InventoryItemComponent.orderIndex;this.entity.fire("equipItem",e,n)}}},yt.prototype.handleItemMove=function(t,e){this.isInBounds(e)?(t.script.InventoryItemComponent.expand(),this.separatorHighlight.enabled=!0):(t.script.InventoryItemComponent.collapse(),this.separatorHighlight.enabled=!1),this.setHighlightPosition(e)},yt.prototype.handleClose=function(){return this.entity.enabled=!1},yt.prototype.displayItems=function(t,e){this.clearPanel();const i=this.topSlotPosition.getLocalPosition();let n=0;for(let e=0;e<t.length;e++){const o=t[e];n+=o.size;const r=this.itemAsset.resource.instantiate();r.script.InventoryItemComponent.setup(o.name,o.size,e),r.setLocalPosition(i.x,i.y-n*this.slotHeight,0),this.inventoryItemEntities.push(r),this.entity.addChild(r)}for(const t of this.equipmentSlots){const i=t.key,n=t.entity;e.has(i)?n.script.InventoryEquippedSlotComponent.setup(!0):n.script.InventoryEquippedSlotComponent.setup(!1)}},yt.prototype.displayPotentialList=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();if(gt(i,{x1:n.x,y1:n.y-this.maxSlots*this.slotHeight,x2:n.x+this.slotWidth,y2:n.y})){t.script.InventoryItemComponent.expand(),this.dragIcon.enabled=!1;const e=this.app.graphicsDevice.height,i={x:t.element.screenCorners[2].x,y:e-t.element.screenCorners[2].y},o=this.localPositionFromMouseEvent(i),r=Math.max(0,Math.floor((n.y-o.y)/this.slotHeight));this.reorderListWithGap(t,t.script.InventoryItemComponent.size,r)}else this.separatorHighlight.enabled=!1,t.script.InventoryItemComponent.collapse(),this.dragIcon.enabled=!0},yt.prototype.reorderListWithGap=function(t,e,i){const n=this.topSlotPosition.getLocalPosition();let o=0;for(let r=0;r<this.inventoryItemEntities.length;r++){const a=this.inventoryItemEntities[r];t!==a&&(i>=o&&i<o+a.script.InventoryItemComponent.size&&(o+=e),o+=a.script.InventoryItemComponent.size,a.setLocalPosition(n.x,n.y-o*this.slotHeight,0))}},yt.prototype.clearPanel=function(){for(;this.inventoryItemEntities.length>0;)this.inventoryItemEntities.pop().destroy()};const mt=pc.createScript("InventoryDragIconComponent");mt.prototype.initialize=function(){},mt.prototype.setup=function(t,e){};const At=pc.createScript("InventoryEquippedSlotComponent");At.attributes.add("iconEntity",{type:"entity",title:"Icon Entity"}),At.prototype.initialize=function(){this.iconEntity.enabled=!1},At.prototype.setup=function(t){this.iconEntity.enabled=t};const{Facade:ft}=i(710),{PureMVC:Nt}=i(710);new class{constructor(){Nt.debug=!0,ft.getInstance=t.GameFacade.getInstance,console.log(ft),this.facade=ft.getInstance(t.GameFacade.KEY),this.facade.startup(this)}}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9ub2RlX21vZHVsZXMvQGtvcmVlei9wdXJlLW12Yy9saWIvY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vbm9kZV9tb2R1bGVzL0Brb3JlZXovcHVyZS1tdmMvbGliL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvUHVyZU1WQy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9jb20va29yZWV6L3B1cmVtdmMvVmlldy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9Aa29yZWV6L3B1cmUtbXZjL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVNYXAvbmF2aWdhdGlvbi9OYXZpZ2F0aW9uTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1BhcnNlR2FtZU1hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvd2VhcG9ucy9XZWFwb25zUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvc3RvcnlQcm94eS9TdG9yeVByb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9pdGVtcy9JdGVtc1Byb3h5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU3RhcnR1cENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvU2h1ZmZsZUFycmF5LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05leHRDb21iYXRSb3VuZENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyU3RhdHVzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9CYXNlTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvTWFzdGVyTm9kZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmxhY2tib2FyZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvVGljay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvQmVoYXZpb3VyVHJlZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL3RyZWVzL0NoYXJhY3RlckNvbW1hbmRUcmVlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9Qcmlvcml0eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9FbmRDb21iYXRUdXJuLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzTmV4dFRvUGxheWVyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvY29yZS9NZW1TZXF1ZW5jZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2NvcmUvZGVjb3JhdG9ycy9JbnZlcnRlci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNNZWxlZVRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmVteVR1cm5Db21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0ZWROb2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Nob3dXYWxrYWJsZUFyZWFDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9Bd2FpdFBsYXllckNvbWJhdElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL01vdmVBbG9uZ1BhdGhBbmRBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvS2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvRW5kQ29tYmF0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9iZWhhdmlvdXJUcmVlL2JlaGF2aW91cnMvY29uZGl0aW9ucy9DYW5TZWVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvYmVoYXZpb3VyVHJlZS90cmVlcy9CYXNpY1JhbmdlZFRyZWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9EZXRlcm1pbmVFbmVteUFjdGlvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0VxdWlwV2VhcG9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL05hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9BZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsay5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1N0YXJ0RGlhbG9ndWVDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvU2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FbmREaWFsb2d1ZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL0NoYW5nZUdhbWVwbGF5QWN0aW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb250cm9sbGVyL1Jlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9DbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2NvbnRyb2xsZXIvQWRkSXRlbXRvSW52ZW50b3J5Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9HYW1lRmFjYWRlLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2JlaGF2aW91clRyZWUvQm90QmVoYXZpb3VyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29udHJvbGxlci9HYW1lQ29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvZGF0YS9XZWFwb25UeXBlcy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9jb21iYXQvQ29tYmF0Vk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHkuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdXRpbHMvQWRqYWNlbnRQb2ludHMuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9HYW1lTWFwVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8uanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVZPLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL2ludmVudG9yeS9pdGVtcy9JbnZlbnRvcnlJdGVtLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL21vZGVsL3N0b3J5UHJveHkvU3RvcnlWTy5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy91dGlscy9HVUlELmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9DYWNvZ2VuR2FtZS5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL25hdmlnYXRpb24vTmF2aWdhdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvYWdncm8vQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy90b2FzdE1lc3NhZ2UvVG9hc3RNZXNzYWdlQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW5wdXRMYXllci9JbnB1dExheWVyTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmEuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9nYW1lQ2FtZXJhL0dhbWVDYW1lcmFNZWRpYXRvci5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2lucHV0TGF5ZXIvSW5wdXRMYXllckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9wbGF5ZXJDb21iYXRQYW5lbC9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL2NvbGxpc2lvbi9IaXRib3hDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9hY3Rpb25QYW5lbC9BY3Rpb25QYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uQnV0dG9uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvQWN0aW9uUGFuZWxDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvY29tcG9uZW50cy9VSVN0b3BQcm9wYWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhck1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvc3RhbWluYUJhci9TdGFtaW5hQmFyQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9mbG9hdGluZ1N0YXR1cy9jb21wb25lbnRzL1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZmxvYXRpbmdTdGF0dXMvRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcG9ydGFsL1BvcnRhbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvcG9ydGFsL1BvcnRhbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVQYW5lbE1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2dhbWVDaGFyYWN0ZXIvZGVmYXVsdEFuaW0vRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2RpYWxvZ3VlUGFuZWwvRGlhbG9ndWVUZXh0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbk1lZGlhdG9yLmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvYWN0aW9uUGFuZWwvYXR0YWNrQnV0dG9uL0F0dGFja0J1dHRvbkNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3ZlaGljbGUvVmVoaWNsZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5SXRlbUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeVBhbmVsTWVkaWF0b3IuanMiLCJ3ZWJwYWNrOi8vY2Fjb2dlbi1lbmdpbmUvLi9zcmMvdmlldy9pbnZlbnRvcnlQYW5lbC9JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9jYWNvZ2VuLWVuZ2luZS8uL3NyYy92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeURyYWdJY29uQ29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmpzIiwid2VicGFjazovL2NhY29nZW4tZW5naW5lLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUHVyZU1WQ18xIiwiVmlld18xIiwiQ29udHJvbGxlciIsImtleSIsInRoaXMiLCJjb21tYW5kTWFwIiwiaW5zdGFuY2VNYXAiLCJFcnJvciIsIm11bHRpdG9uS2V5IiwibG9nZ2VyIiwiUHVyZU1WQyIsImRlYnVnIiwibG9nQ29tbWFuZCIsImxvZ05vbmUiLCJpbml0aWFsaXplQ29udHJvbGxlciIsInJlbW92ZUNvbnRyb2xsZXIiLCJnZXRJbnN0YW5jZSIsInByb3RvdHlwZSIsInJlZ2lzdGVyQ29tbWFuZCIsIm5vdGlmaWNhdGlvbk5hbWUiLCJjb21tYW5kQ2xhc3NSZWYiLCJ2aWV3IiwicmVnaXN0ZXJPYnNlcnZlciIsImV4ZWN1dGVDb21tYW5kIiwiaGFzQ29tbWFuZCIsInVuZGVmaW5lZCIsInJlbW92ZUNvbW1hbmQiLCJyZW1vdmVPYnNlcnZlciIsIlZpZXciLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjb21tYW5kIiwiX2NvbnNvbGVBcmdzIiwibmFtZSIsImFwcGx5IiwiY29uY2F0IiwiQ29udHJvbGxlcl8xIiwiTW9kZWxfMSIsIkZhY2FkZSIsImxvZ05vdGlmaWNhdGlvbiIsImluaXRpYWxpemVOb3RpZmllciIsImluaXRpYWxpemVGYWNhZGUiLCJoYXNDb3JlIiwicmVtb3ZlQ29yZSIsIk1vZGVsIiwicmVtb3ZlTW9kZWwiLCJyZW1vdmVWaWV3IiwiaW5pdGlhbGl6ZU1vZGVsIiwiaW5pdGlhbGl6ZVZpZXciLCJjb250cm9sbGVyIiwicmVnaXN0ZXJQcm94eSIsInByb3h5IiwibW9kZWwiLCJyZXRyaWV2ZVByb3h5IiwicHJveHlOYW1lIiwicmVtb3ZlUHJveHkiLCJoYXNQcm94eSIsInJlZ2lzdGVyTWVkaWF0b3IiLCJtZWRpYXRvciIsInJldHJpZXZlTWVkaWF0b3IiLCJtZWRpYXRvck5hbWUiLCJyZW1vdmVNZWRpYXRvciIsInNsZWVwTWVkaWF0b3IiLCJhd2FrZU1lZGlhdG9yIiwiaGFzTWVkaWF0b3IiLCJzZW5kTm90aWZpY2F0aW9uIiwiX2EiLCJub3RpZnlPYnNlcnZlcnMiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIk5vdGlmaWVyXzEiLCJNZWRpYXRvciIsIl9zdXBlciIsInZpZXdDb21wb25lbnQiLCJfdGhpcyIsImNhbGwiLCJsb2dNZWRpYXRvciIsInNsZWVwaW5nIiwic3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ2V0TWVkaWF0b3JOYW1lIiwic2V0Vmlld0NvbXBvbmVudCIsImdldFZpZXdDb21wb25lbnQiLCJvblJlZ2lzdGVyIiwib25SZW1vdmUiLCJvblNsZWVwIiwib25Bd2FrZSIsInN1YnNjcmliZU5vdGlmaWNhdGlvbiIsImNoYW5nZVN1YnNjcmlwdGlvbiIsImFkZFN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlTm90aWZpY2F0aW9uIiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwiYWN0aW9uIiwib2xkTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnMiLCJzbGljZSIsImNoYW5nZWQiLCJmb3JFYWNoIiwibm90aWZpY2F0aW9uIiwiaW5kZXhPZiIsInB1c2giLCJpbmRleCIsInNwbGljZSIsIk5vdGlmaWVyIiwicHJveHlNYXAiLCJnZXRQcm94eU5hbWUiLCJGYWNhZGVfMSIsImZhY2FkZSIsImdldEZhY2FkZSIsIlByb3h5IiwiZGF0YSIsImxvZ1Byb3h5Iiwic2V0RGF0YSIsImdldERhdGEiLCJjb25zb2xlQXJncyIsImNvbW1hbmROYW1lIiwiY29uc29sZSIsImxvZyIsIkV2ZW50RW1pdHRlciIsIm1lZGlhdG9yTWFwIiwiZXZlbnRFbWl0dGVyIiwib2JzZXJ2ZXJNZXRob2QiLCJjb250ZXh0IiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsImVtaXQiLCJyZWdpc3Rlck9ic2VydmVycyIsIm9uTWVkaWF0b3JOb3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UiLCJiaW5kIiwiaXNTbGVlcGluZyIsInJlbW92ZU9ic2VydmVycyIsImludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0cyIsIm5vdGlmaWNhdGlvbkludGVyZXN0c18xIiwiaW50ZXJlc3QiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25JbnRlcmVzdHNfMiIsIk1lZGlhdG9yXzEiLCJQcm94eV8xIiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJmbiIsIm9uY2UiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImkiLCJsIiwiZWUiLCJsaXN0ZW5lckNvdW50IiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImxlbiIsImoiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsIm1vZHVsZSIsIk5hdmlnYXRpb25Ob2RlIiwieCIsInkiLCJ6IiwiY29ubmVjdGVkTm9kZXMiLCJvY2N1cGllZCIsIm90aGVyTm9kZSIsInNvbWUiLCJub2RlIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0ZWROb2RlSW5kZXgiLCJmaW5kSW5kZXgiLCJlcXVhbHMiLCJwYXJzZUdhbWVNYXBDb21tYW5kIiwiYXBwIiwicGMiLCJBcHBsaWNhdGlvbiIsImdldEFwcGxpY2F0aW9uIiwiZmxvb3JHcmlkIiwibmF2aWdhdGlvbkZsb29ycyIsInJvb3QiLCJmaW5kQnlUYWciLCJjb21wbGV0ZWRHcmlkIiwibmF2aWdhdGlvbkNvbXBvbmVudHMiLCJmbG9vckVudGl0eSIsIm5hdkNvbXAiLCJzY3JpcHQiLCJjcmVhdGVQYXJ0aWFsR3JpZEZyb21GbG9vciIsInNldEdyaWQiLCJuYXZpZ2F0aW9uQ29tcCIsImNvbm5lY3RlZENvbXBFbnRpdHkiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiY29ubmVjdGVkTmF2Q29tcCIsImpvaW5Ub0FkamFjZW50R3JpZCIsImdldEdyaWQiLCJjcmVhdGVNYXBGbG9vciIsIndhbGxzIiwid2FsbHNCb3VuZGluZ0JveGVzIiwibWFwV2FsbEVudGl0aWVzIiwibWFwV2FsbEVudGl0eSIsImFhYmIiLCJjcmVhdGVCb3VuZGluZ0JveEZyb21FbnRpdHkiLCJjcmVhdGVGbG9vclVuZGVyV2FsbHMiLCJkZXN0cm95IiwiY3JlYXRlTWFwV2FsbHMiLCJjb3ZlciIsImNvdmVyUG9pbnRzIiwiY292ZXJFbnRpdGllcyIsImNvdmVyRW50aXR5IiwiY3JlYXRlQ292ZXJQb2ludEZyb21Cb3giLCJjcmVhdGVNYXBDb3ZlciIsInBvcnRhbHMiLCJNYXAiLCJwb3J0YWxFbnRpdGllcyIsInBvcnRhbEVudGl0eSIsInBvcnRhbENvbXBvbmVudCIsInBvcnRhbElkIiwicG9ydGFsIiwiZGVzdGluYXRpb25TY2VuZSIsImRlc3RpbmF0aW9uUG9ydGFsIiwic3RhbmRpbmdQb2ludCIsImdldFBvc2l0aW9uIiwiaGl0Ym94UG9pbnQiLCJoaXRib3giLCJzZXQiLCJjcmVhdGVQb3J0YWxzIiwid2F5cG9pbnRzTWFwIiwid2F5cG9pbnRzIiwiZmxvb3JOb2RlIiwiaXNXYXlwb2ludCIsIndheXBvaW50Iiwib3RoZXJXYXlwb2ludCIsImxpbmUiLCJBc3RhciIsImFkZENvbm5lY3RlZE5vZGUiLCJjcmVhdGVXYXlwb2ludHNNYXAiLCJHYW1lTWFwUHJveHkiLCJHYW1lQ29tbWFuZHMiLCJib3hFbnRpdHkiLCJzY2FsZSIsImdldExvY2FsU2NhbGUiLCJoYWxmRXh0ZW50cyIsIlZlYzMiLCJCb3VuZGluZ0JveCIsIndhbGwiLCJ3YWxsUG9zIiwid2FsbFNjYWxlIiwiTWF0aCIsInJvdW5kIiwiY29ybmVyWCIsImNvcm5lcloiLCJtYXRjaGluZ05vZGVJbmRleCIsImVxdWFsc1BvaW50IiwiZGVsZXRlZE5vZGVzIiwiZGVsZXRlZE5vZGUiLCJkaXNjb25uZWN0ZWROb2RlIiwiZ3JpZCIsImZsb29yUG9zaXRpb24iLCJnZXRMb2NhbFBvc2l0aW9uIiwiZmxvb3JTaXplIiwic25hcHBlZFdpZHRoIiwic25hcHBlZEJyZWFkdGgiLCJzbmFwcGVkWCIsInNuYXBwZWRZIiwic25hcHBlZFoiLCJncmlkVG9Kb2luIiwiYm94IiwiYm94UG9zIiwiYm94U2NhbGUiLCJjb3ZlclBvaW50IiwiZmxvb3JNYXAiLCJub3J0aHdlc3QiLCJub3J0aCIsIm5vcnRoZWFzdCIsImVhc3QiLCJzb3V0aGVhc3QiLCJzb3V0aCIsInNvdXRod2VzdCIsIndlc3QiLCJuIiwiV2VhcG9uc1Byb3h5Iiwic3VwZXIiLCJOQU1FIiwid2VhcG9uTmFtZSIsImRhbWFnZVRpZXIiLCJjYXRlZ29yeUtleSIsInZvIiwiY2F0ZWdvcnkiLCJkYW1hZ2UiLCJtaW4iLCJTdG9yeVZPIiwiU3RvcnlQcm94eSIsInN0b3J5VHJlZXMiLCJhc3NldHMiLCJyZXNvdXJjZSIsInRyZWVzIiwic3RvcnlUcmVlTWFwIiwidHJlZUtleSIsInN0b3J5VHJlZUFzc2V0SWQiLCJzdG9yeVRyZWUiLCJjdXJyZW50VHJlZSIsImN1cnJlbnROb2RlIiwiY3VycmVudFN0ZXBJbmRleCIsImN1cnJlbnRDb25kaXRpb25zIiwidHJlZUlkIiwidHJlZSIsIm5vZGVJZCIsIm5vZGVzIiwic3RlcEluZGV4Iiwic3RlcHMiLCJnZXRUcmVlIiwiZ2V0Tm9kZSIsInZhbGlkU3RlcCIsImdldFZhbGlkU3RlcCIsIm9uY2VDb25kaXRpb24iLCJnZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwIiwiYWRkQ29uZGl0aW9uIiwibmV4dFZhbGlkU3RlcCIsImdldFN0ZXAiLCJ0ZXN0Q29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJnZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAiLCJjaG9pY2VJbmRleCIsImdldEN1cnJlbnROb2RlU3RlcCIsImNob2ljZXMiLCJjb25kaXRpb24iLCJzdWNjZXNzIiwib3JEZWxpbWl0ZXJlZCIsIm9yQ29uZGl0aW9ucyIsInNwbGl0Iiwib3JTdWNjZXNzIiwib3B0aW9uYWxDb25kaXRpb24iLCJjaGVja0NvbmRpdGlvbiIsInN0YXJ0c1dpdGgiLCJzdHJpcHBlZFN0cmluZyIsInJlbW92ZUNvbmRpdGlvbiIsIkludmVudG9yeVZPIiwiSW52ZW50b3J5UHJveHkiLCJpbnZlbnRvcnlJdGVtcyIsImVxdWlwbWVudFNsb3RzIiwib3JpZ2luYWxJbmRleCIsInNsb3RJbmRleCIsIm9yaWdpbmFsSXRlbSIsInJ1bm5pbmdJbmRleFRvdGFsIiwibmV3SW5kZXgiLCJpdGVtIiwic2l6ZSIsInRvU3RyaW5nIiwic2xvdEtleSIsIml0ZW1EYXRhIiwiaW52ZW50b3J5SXRlbURhdGEiLCJJdGVtc1Byb3h5IiwiaXRlbUlkIiwiaWQiLCJ0eXBlIiwic3RhcnR1cENvbW1hbmQiLCJHYW1lU3RhdGVQcm94eSIsIndlYXBvbnNEYXRhIiwiaXRlbXNEYXRhIiwiY2hhbmdlU2NlbmVDb21tYW5kIiwic2NlbmVOYW1lIiwib2xkSGllcmFyY2h5IiwiZmluZEJ5TmFtZSIsInNjZW5lIiwic2NlbmVzIiwiZmluZCIsImxvYWRTY2VuZUhpZXJhcmNoeSIsInVybCIsImVyciIsInBhcmVudCIsImVycm9yIiwic2h1ZmZsZUFycmF5IiwiYXJyYXkiLCJjdXJyZW50SW5kZXgiLCJ0ZW1wb3JhcnlWYWx1ZSIsInJhbmRvbUluZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJDb21iYXRWTyIsIkNvbWJhdFByb3h5IiwicGFydGljaXBhbnRzIiwidGVhbXMiLCJwYXJ0aWNpcGFudFByb3hpZXMiLCJwYXJ0aWNpcGFudCIsInBhcnRpY2lwYW50UHJveHkiLCJHYW1lQ2hhcmFjdGVyUHJveHkiLCJyb3VuZEluaXRpYXRpdmUiLCJuZXh0VHVybklkIiwic2hpZnQiLCJhY3RpdmVQYXJ0aWNpcGFudCIsInJlc2V0Q29tYmF0VHVyblN0YXRlIiwiaXNOUEMiLCJzZXRUaW1lb3V0IiwiaW5pdGlhdGl2ZXMiLCJjaGFyYWN0ZXJJZCIsImVudHJpZXMiLCJpbml0aWF0aXZlIiwic2h1ZmZsZWRJbml0aWF0aXZlIiwibmV4dFR1cm5DaGFyYWN0ZXJJZCIsImRlbGV0ZSIsImZpbHRlciIsImUiLCJ0ZWFtIiwiY2hhcmFjdGVySW5kZXgiLCJzdGFydENvbWJhdENvbW1hbmQiLCJpbnN0aWdhdGluZ0NoYXJhY3RlcklkIiwidXBkYXRlR2FtZVN0YXRlVHlwZSIsImdhbWVwbGF5TW9kZVR5cGVzIiwiaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eSIsInBsYXllclRlYW0iLCJvcHBvc2luZ1RlYW0iLCJjb21iYXRHcm91cCIsInBvcyIsInNlbGYiLCJwbGF5ZXJQcm94eSIsImNvbWJhdFByb3h5IiwibmV4dENvbWJhdFR1cm5Db21tYW5kIiwiZ2FtZVN0YXRlIiwiZ2FtZXBsYXlNb2RlIiwibmV4dFR1cm4iLCJuZXh0Q29tYmF0Um91bmRDb21tYW5kIiwibmV4dFJvdW5kIiwiZW5kQ29tYmF0VHVybkNvbW1hbmQiLCJCZWhhdmlvdXJTdGF0dXMiLCJCYXNlTm9kZSIsImNoaWxkcmVuIiwiaW5pdGlhbGl6ZSIsInRpY2siLCJfZW50ZXIiLCJibGFja2JvYXJkIiwiX29wZW4iLCJzdGF0dXMiLCJfdGljayIsIlJVTk5JTkciLCJfY2xvc2UiLCJfZXhpdCIsImVudGVyTm9kZSIsImVudGVyIiwib3Blbk5vZGUiLCJvcGVuIiwidGlja05vZGUiLCJjbG9zZU5vZGUiLCJjbG9zZSIsImV4aXROb2RlIiwiZXhpdCIsIkVSUk9SIiwiTWFzdGVyTm9kZSIsImNoaWxkTm9kZSIsImV4ZWN1dGUiLCJTVUNDRVNTIiwiQmxhY2tib2FyZCIsImluaXRpYWxpc2UiLCJiYXNlTWVtb3J5IiwidHJlZU1lbW9yeSIsInRyZWVTY29wZSIsIm5vZGVNZW1vcnkiLCJvcGVuTm9kZXMiLCJub2RlU2NvcGUiLCJtZW1vcnkiLCJnZXRUcmVlTWVtb3J5IiwiZ2V0Tm9kZU1lbW9yeSIsImdldE1lbW9yeSIsIlRpY2siLCJub2RlQ291bnQiLCJ0YXJnZXQiLCJwb3AiLCJCZWhhdmlvdXJUcmVlIiwibGFzdE9wZW5Ob2RlcyIsImN1cnJPcGVuTm9kZXMiLCJzdGFydCIsIkNoYXJhY3RlckNvbW1hbmRUcmVlIiwiUHJpb3JpdHkiLCJjaGlsZCIsIkZBSUxVUkUiLCJTZXRQbGF5ZXJBc1RhcmdldCIsIk1lbGVlQXR0YWNrVGFyZ2V0IiwiYXR0YWNrZXJJZCIsImRlZmVuZGVySWQiLCJFbmRDb21iYXRUdXJuIiwiSGFzTW92ZW1lbnRSZW1haW5pbmciLCJhdmFpbGFibGVNb3ZlbWVudCIsIklzTmV4dFRvUGxheWVyIiwiY2hhcmFjdGVyQ3VycmVudE5vZGUiLCJNZW1TZXF1ZW5jZSIsIkludmVydGVyIiwiSXNUYXJnZXREZWFkIiwidGFyZ2V0SWQiLCJpc0RlYWQiLCJNb3ZlVG93YXJkc1RhcmdldCIsImNoYXJhY3RlclByb3h5IiwicmVzdWx0IiwicmVkdWNlIiwiYSIsImRpc3RhbmNlU3FydCIsInBhdGgiLCJwMSIsInAyIiwicG93IiwiSXNEZWFkIiwiSGFzQWN0aW9uc1JlbWFpbmluZyIsImF2YWlsYWJsZUFjdGlvbnMiLCJSZWxpbnF1aXNoTW92ZW1lbnRQb2ludHMiLCJCYXNpY01lbGVlVHJlZSIsImVuZW15VHVybkNvbW1hbmQiLCJlbmVteUlkIiwiZW5lbXlDdXJyZW50Tm9kZSIsInJ1bkNvbW1hbmRzIiwic2VsZWN0ZWROb2RlQ29tbWFuZCIsImdhbWVTdGF0ZVByb3h5IiwiZ2FtZU1hcFByb3h5IiwiaGFzVmFsaWROb2RlIiwiY3VycmVudE1vZGUiLCJjb21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQiLCJ0YXJnZXROb2RlIiwiZ2FtZUNoYXJhY3RlclByb3h5IiwibW92ZWFibGVOb2RlcyIsImhhbmRsZVZhbGlkTW92ZSIsInNob3dXYWxrYWJsZUFyZWFDb21tYW5kIiwid2Fsa2FibGVOb2RlcyIsIndhbGthYmxlVGlsZUFzc2V0IiwiY29udGFpbmVyIiwidGlsZSIsImluc3RhbnRpYXRlIiwic2V0TG9jYWxQb3NpdGlvbiIsImFkZENoaWxkIiwiaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQiLCJ3YWxrYWJsZVRpbGVFbnRpdGllcyIsIndhbGthYmxlVGlsZUVudGl0eSIsImF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kIiwiZW5kTW92ZW1lbnRDb21tYW5kIiwiZW5kTm9kZSIsImNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkiLCJoZWlnaHQiLCJzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIiwidGFyZ2V0Q2hhcmFjdGVyUHJveHkiLCJwbGF5ZXJDaGFyYWN0ZXJQcm94eSIsIndlYXBvbkNhdGVnb3J5IiwiZ2V0V2VhcG9uQ2F0ZWdvcnkiLCJlcXVpcHBlZFdlYXBvbiIsImN1cnJlbnRBY3Rpb24iLCJjYW5TZWVUYXJnZXQiLCJ0YXJnZXRDdXJycmVudE5vZGUiLCJpc1RhcmdldEFkamFjZW50IiwicGF0aFRvVGFyZ2V0IiwidW5vY2N1cGllZE5vZGVzIiwicGxheWVyTm9kZSIsInNob3J0ZXN0UGF0aCIsIm90aGVyUGF0aCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXIiLCJwbGF5ZXJQb2ludCIsInRhcmdldFBvaW50IiwicmF5SW50ZXJzZWN0c1dhbGwiLCJyZXNvbHZlQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyUHJveHkiLCJkZWZlbmRlclByb3h5Iiwid2VhcG9uc1Byb3h5IiwiYXR0YWNrZXJXZWFwb25Ta2lsbCIsImRlZmVuZGVyV2VhcG9uU2tpbGwiLCJhdHRhY2tlclNraWxsVG90YWwiLCJnZXRTa2lsbFRvdGFsIiwiZGVmZW5kZXJTa2lsbFRvdGFsIiwiYXR0YWNrZXJSb2xsIiwicm9sbEF0dGFja1NraWxsIiwiZGVmZW5kZXJSb2xsIiwiZGV0ZXJtaW5lRGFtYWdlVGllciIsImdldERhbWFnZSIsImFwcGx5RGFtYWdlIiwiaGFzTWVsZWVXZWFwb24iLCJ3ZWFwb24iLCJXZWFwb25UeXBlcyIsImhpZ2hEYW1hZ2UiLCJsb3dEYW1hZ2UiLCJza2lsbCIsInJvbGxEaWNlIiwibW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQiLCJ1c2VNb3ZlbWVudCIsImNoYXJhY3Rlck1lZGlhdG9yIiwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yIiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZSIsInRoZW4iLCJraWxsR2FtZUNoYXJhY3RlckNvbW1hbmQiLCJyZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0IiwiZW5kQ29tYmF0Q29tbWFuZCIsImxvc2luZ1RlYW0iLCJSYW5nZUF0dGFja1RhcmdldCIsIk1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsInRhcmdldEN1cnJlbnROb2RlIiwibWluRGlzdGFuY2VTcXJ0IiwibWF4RGlzdGFuY2VTcXJ0IiwibW92ZVBvaW50c0F2YWlsYWJsZSIsImRpc3RhbmNlVG9UYXJnZXQiLCJQaWNrTmV4dEFjdGlvbiIsIkNhblNlZVRhcmdldCIsInRhcmdldFByb3h5IiwiZnJvbVBvcyIsInRvUG9zIiwiTW92ZVRvd2FyZHNUYXJnZXRVbnRpbFZpc2libGUiLCJkZWxldGVDb3VudCIsInBhdGhOb2RlIiwiQmFzaWNSYW5nZWRUcmVlIiwiZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIiwiYm90QmVoYXZpb3VyIiwiQm90QmVoYXZpb3VyVHlwZXMiLCJyZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCIsImF0dGFja2VyU2NvcmUiLCJkZWZlbmRlclNjb3JlIiwiYXR0YWNrZXJOb2RlIiwiZGVmZW5kZXJOb2RlIiwiaXNJbkNvdmVyIiwicHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciIsIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IiLCJwcm9qZWN0aWxlT3JpZ2luIiwicHJvamVjdGlsZVRhcmdldCIsImNyZWF0ZVByb2plY3RpbGUiLCJuZWlnaGJvdXJpbmdOb2RlcyIsInBvc3NpYmxlVGFyZ2V0cyIsImVxdWlwV2VhcG9uQ29tbWFuZCIsIm5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQiLCJzdGFuZGluZ1Bvc2l0aW9uIiwic3RhbmRpbmdOb2RlIiwiZmluZE5lYXJlc3ROb2RlIiwibW92ZVRvTm9kZVdpdGhQcm9taXNlIiwiYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kIiwicGxheWVyQ2hhcmFjdGVyQXNzZXQiLCJwbGF5ZXJFbnRpdHkiLCJyZXRyaWV2ZVBvcnRhbCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCIsInRhcmdldENoYXJhY3RlcklkIiwicGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IiLCJzdGFydERpYWxvZ3VlQ29tbWFuZCIsImdhbWVzdGF0ZVByb3h5Iiwic3RvcnlQcm94eSIsImRpYWxvZ3VlVHJlZSIsInN0YXJ0RGlhbG9ndWVUcmVlIiwib3BlbmluZ1N0ZXAiLCJzdGVwIiwiY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kIiwibmV4dFN0ZXAiLCJjb250aW51ZUN1cnJlbnROb2RlU3RlcCIsInNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCIsInNlbGVjdGVkQ2hvaWNlIiwic2VsZWN0Q2hvaWNlIiwicmVzcG9uc2UiLCJ0aXRsZSIsInRleHQiLCJ0aXRsZUNvbG91ciIsInRlc3QiLCJnb3RvIiwiZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQiLCJuZXdOb2RlIiwiZ29Ub05vZGUiLCJjdXJyZW50U3RlcCIsImVuZERpYWxvZ3VlQ29tbWFuZCIsIm5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kIiwiY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kIiwibmV3QWN0aW9uIiwicmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCIsInBsYXllclNraWxsIiwiZGllMSIsImRpZTIiLCJmYWlsdXJlIiwiY2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kIiwiaW52ZW50b3J5UHJveHkiLCJyZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQiLCJyZW9yZGVySW52ZW50b3J5SXRlbSIsImVxdWlwSXRlbVRvU2xvdENvbW1hbmQiLCJpdGVtSW5kZXgiLCJlcXVpcG1lbnRLZXkiLCJhdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3QiLCJhZGRJdGVtVG9JbnZlbnRvcnlDb21tYW5kIiwiaXRlbXNQcm94eSIsImludmVudG9yeUl0ZW0iLCJJbnZlbnRvcnlJdGVtIiwiZ2V0SXRlbURhdGEiLCJhZGRJbnZlbnRvcnlJdGVtIiwiR2FtZUZhY2FkZSIsImdhbWUiLCJTVEFSVFVQIiwiYm90QmVoYXZpb3VyRW51bXMiLCJOT05FIiwiQkFTSUNfTUVMRUUiLCJCQVNJQ19SQU5HRUQiLCJ3ZWFwb25FbnVtcyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZXNjcmlwdG9yIiwibWFwIiwiR2FtZUNoYXJhY3RlclZPIiwicGFyYW1zIiwibWF4TW92ZW1lbnQiLCJtYXhBY3Rpb25zUGVyVHVybiIsImNvc3QiLCJkYW1hbmdlIiwiY3VycmVudFN0YW1pbmEiLCJtYXgiLCJtYXhpbXVtU3RhbWluYSIsIm1heFN0YW1pbmEiLCJza2lsbEtleSIsImFkdmFuY2VkU2tpbGxzIiwibWF4THVjayIsImN1cnJlbnRMdWNrIiwiR2FtZU1hcFZPIiwibWFwR3JpZCIsIndhbGxCb3VuZGluZ0JveGVzIiwibmF2R3JpZCIsIm5hdmlnYXRpb25HcmlkIiwibmVhcmVzdE5vZGUiLCJkaXN0U3FydFRvTmVhcmVzdE5vZGUiLCJkaXN0VG9Ob2RlIiwiZnJvbSIsInRvIiwiZGlzdGFuY2UiLCJkaXJlY3Rpb24iLCJjbG9uZSIsInN1YiIsIm5vcm1hbGl6ZSIsInJheSIsIlJheSIsIm1hcFdhbGxzIiwiaGl0UG9zaXRpb24iLCJpbnRlcnNlY3RzUmF5IiwiYXR0YWNraW5nRnJvbSIsImFkamFjZW50Q292ZXJQb2ludHMiLCJhZGphY2VudFBvaW50cyIsInBvaW50IiwicG9pbnRzIiwiZ2V0QWRqYWNlbnRQb2ludHMiLCJhZGphY2VudFBvaW50IiwiYWRqYWNlbnRDb3ZlclBvaW50Iiwibm9kZUEiLCJub2RlQiIsIlByaW9yaXR5UXVldWUiLCJwcmlvcml0eSIsIkluZmluaXR5IiwicmFuZ2VMaW1pdCIsImZyb250aWVyIiwic2VhcmNoZWRBcmVhIiwiY2FtZUZyb20iLCJyYW5nZSIsIm5ld0Zyb250aWVyIiwiY3VycmVudCIsIm5leHQiLCJnb2FsIiwiY29zdFNvRmFyIiwiZW1wdHkiLCJuZXdDb3N0IiwiaGV1cmlzdGljIiwicGF0aElzQnJva2VuIiwiZGlzdFZhbHVlIiwiZ2V0RGlzdFNxdWFyZWQiLCJwdDEiLCJwdDIiLCJhYnMiLCJ4MCIsInowIiwieDEiLCJ6MSIsImR4IiwiZHkiLCJueCIsIm55Iiwic2lnbl94Iiwic2lnbl95IiwiaXgiLCJpeSIsImlzVmFsaWRMaW5lIiwiR2FtZVN0YXRlVk8iLCJuZXdTdGF0ZVR5cGUiLCJzZWxlY3RlZEFjdGlvbiIsIkVYUExPUkFUSU9OIiwiQ09NQkFUIiwiRElBTE9HVUUiLCJHQU1FX09WRVIiLCJ1dWlkIiwiaWNvbiIsImRlc2NyaXB0aW9uIiwiZXF1aXBTbG90IiwiY3JlYXRlVVVJRCIsInMiLCJoZXhEaWdpdHMiLCJzdWJzdHIiLCJqb2luIiwicHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMiLCJ1cGRhdGVDdXJyZW50Tm9kZSIsImhhbmRsZUZpbmlzaGVkTW9kZSIsImZpcmUiLCJzY3JpcHRLZXkiLCJzY3JpcHRDb21wb25lbnQiLCJoYW5kbGVTdGFydENvbWJhdCIsImhhbmRsZU5hdmlnYXRlVG9Ob2RlIiwiaGFuZGxlTmF2aWdhdGVUb1dheXBvaW50IiwiaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgiLCJoYW5kbGVTZXRDaGFyYWN0ZXJUb05vZGUiLCJsb29rUG9pbnQiLCJsb29rQXRQb2ludCIsImFuaW1hdGVEZWF0aCIsImFuaW1hdGVBdHRhY2siLCJhbmltYXRlSGl0Iiwic2V0UGF0aCIsIm5lYXJlc3RXYXlwb2ludCIsImZpbmROZWFyZXN0V2F5cG9pbnQiLCJuZWFyZXN0VGFyZ2V0V2F5cG9pbnQiLCJoYXNWYWxpZExpbmUiLCJoYXNMaW5lVG9Qb2ludCIsInVuc2hpZnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNlYXJjaE5vZGUiLCJzZWFyY2hBcmVhIiwic3RvcE1vdmVtZW50Iiwib3JpZ2luUG9pbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiQ2Fjb2dlbkdhbWUiLCJjcmVhdGVTY3JpcHQiLCJLRVkiLCJ1cGRhdGUiLCJkdCIsIk5hdmlnYXRpb25Db21wb25lbnQiLCJhdHRyaWJ1dGVzIiwiYWRkIiwiZW50aXR5IiwiaGFuZGxlUmF5Q2FzdCIsImVuYWJsZWQiLCJzY3JlZW5Qb3MiLCJub2RlR3JpZCIsImdldE5lYXJlc3ROb2RlIiwiR2FtZUNoYXJhY3RlckNvbXBvbmVudCIsImFkdmFuY2VkU2tpbGxzU2NoZW1hVG9NYXAiLCJhZHZhbmNlZFNraWxsc1NjaGVtYSIsInNraWxsT2JqZWN0Iiwic2tpbGxOYW1lIiwic2tpbGxWYWx1ZSIsImRlZmF1bHQiLCJzY2hlbWEiLCJlbnVtIiwicHJlcmVnaXN0ZXJOb3RpZmljYXRpb24iLCJwb3N0SW5pdGlhbGl6ZSIsIm1vdmVtZW50UGF0aCIsInN0YXRzT3ZlcnJpZGVzIiwicHJveHlQYXJhbXMiLCJjaGFyYWN0ZXJIZWlnaHQiLCJkaWFsb2d1ZVRyZWVOYW1lIiwiY29tYmF0R3JvdXBOYW1lIiwiY29tcmFkZUVudGl0aWVzIiwiY29tcmFkZUVudGl0eSIsImNvbXJhZGVJZCIsInZlaGljbGUiLCJhbmltYXRpb24iLCJwbGF5IiwibG9vcCIsIm1vdmVBbG9uZ1BhdGgiLCJuZXh0UGF0aFBvaW50IiwibG9jYWxQb3MiLCJub2RlUG9pbnQiLCJjaGFyYWN0ZXJTcGVlZCIsInNlZWsiLCJhcnJpdmUiLCJwcm9jZXNzVmVsb2NpdHkiLCJkeiIsImFuZ2xlVG9EZXN0IiwiYXRhbjIiLCJQSSIsInNldEV1bGVyQW5nbGVzIiwiQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQiLCJoYW5kbGVNYXBHcmlkQ3JlYXRlZCIsImhhbmRsZU1vdmVkVG9Ob2RlIiwiY2hhcmFjdGVyUG9pbnQiLCJzaWdodFJhbmdlIiwiVG9hc3RNZXNzYWdlTWVkaWF0b3IiLCJhZGRNZXNzYWdlIiwiVG9hc3RNZXNzYWdlQ29tcG9uZW50IiwibWVzc2FnZVF1ZXVlIiwiY3VycmVudFRpbWVvdXQiLCJtZXNzYWdlIiwic2hvd05leHRNZXNzYWdlIiwibmV4dE1lc3NhZ2UiLCJsYWJlbEVudGl0eSIsImVsZW1lbnQiLCJtZXNzYWdlVGltZSIsIklucHV0TGF5ZXJNZWRpYXRvciIsImhhbmRsZVBpY2tlckdhbWVDaGFyYWN0ZXIiLCJoYW5kbGVQaWNrZXJOYXZpZ2F0aW9uIiwiaGFuZGxlU2Nyb2xsaW5nIiwiY2hhcmFjdGVyRW50aXR5IiwiR2FtZUNhbWVyYSIsIkdhbWVDYW1lcmFNZWRpYXRvciIsInNldENhbWVyYVRhcmdldCIsImNhbWVyYVRhcmdldCIsInJvdGF0aW9uIiwiZ2V0RXVsZXJBbmdsZXMiLCJjYW1lcmFIZWlnaHQiLCJoYW5kbGVEcmFnIiwiZHJhZ011bHRpcGxpZXJYIiwidmVydGljYWxTY3JvbGwiLCJuZXdDYW1lcmFIZWlnaHQiLCJkcmFnTXVsdGlwbGllclkiLCJtYXRoIiwiY2xhbXAiLCJtaW5DYW1lcmFIZWlnaHQiLCJtYXhDYW1lcmFIZWlnaHQiLCJnZXRUYXJnZXRDYW1lcmFQb3NpdGlvbiIsImZvY3VzUG9pbnQiLCJjYW1lcmFQb3NpdGlvbiIsInRhcmdldFgiLCJzaW4iLCJ0YXJnZXRaIiwiY29zIiwiY2FtZXJhVGFyZ2V0UG9zaXRpb24iLCJ0YXJnZXRQb3NpdGlvbiIsImN1cnJlbnRQb3MiLCJ0d2VlblgiLCJ0d2VlblkiLCJ0d2VlbloiLCJsb29rQXQiLCJJbnB1dExheWVyQ29tcG9uZW50IiwiaW5wdXRRdWV1ZSIsIm1vdXNlIiwiZGlzYWJsZUNvbnRleHRNZW51IiwiY2xpY2tEb3duU3RhcnQiLCJpc0RyYWdnaW5nIiwiaGFuZGxlUGlja2VyUmVzdWx0IiwiRVZFTlRfTU9VU0VNT1ZFIiwib25Nb3VzZU1vdmUiLCJFVkVOVF9NT1VTRURPV04iLCJvbk1vdXNlRG93biIsIkVWRU5UX01PVVNFVVAiLCJvbk1vdXNlVXAiLCJ0b3VjaCIsIkVWRU5UX1RPVUNITU9WRSIsInRvdWNoRXZ0IiwidG91Y2hlcyIsIkVWRU5UX1RPVUNIU1RBUlQiLCJFVkVOVF9UT1VDSEVORCIsIkRhdGUiLCJub3ciLCJjbGlja1N0YXJ0UG9pbnQiLCJWZWMyIiwiZHJhZ1RpbWUiLCJoYW5kbGVSYXljYXN0Q29sbGlzaW9ucyIsImNhbWVyYUVudGl0eSIsImNhbWVyYUNvbXBvbmVudCIsImNhbWVyYSIsInNjcmVlblRvV29ybGQiLCJmYXJDbGlwIiwib3JpZ2luIiwiY29weSIsInBpY2tlZEVudGl0eSIsInNjcmVlblBvc2l0aW9uIiwicHJvY2Vzc0lucHV0UXVldWUiLCJoaWdoZXN0UHJpb3JpdHlQaWNrIiwiaGlnaGVzdFByaW9yaXR5IiwicGljayIsInBpY2tQcmlvcml0eSIsInRhZ3MiLCJwaWNrZWRHYW1lQ2hhcmFjdGVyIiwicGlja2VkTmF2aWdhdGlvbiIsInBpY2tlZFBvcnRhbCIsIlBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IiLCJoYW5kbGVFbmRUdXJuIiwiUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQiLCJlbmRUdXJuQnV0dG9uIiwiY2xpY2tFbmRUdXJuIiwiSGl0Ym94Q29tcG9uZW50IiwiY2VudGVyIiwiQWN0aW9uUGFuZWxNZWRpYXRvciIsImhhbmRsZUZpcmVDb21tYW5kIiwiYWN0aW9uTmFtZSIsInNlbGVjdEFjdGlvbiIsIkFjdGlvbkJ1dHRvbkNvbXBvbmVudCIsImhpZ2hsaWdodEVudGl0eSIsImhhbmRsZUNoYW5nZUFjdGlvbiIsImhhbmRsZUNsaWNrIiwiY29tbWFuZHMiLCJjb21tYW5kQXJncyIsIkFjdGlvblBhbmVsQ29tcG9uZW50IiwiYnV0dG9uIiwiYWN0aW9uQnV0dG9ucyIsInN0b3BQcm9wYWdhdGlvbiIsIlByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IiwicHJvamVjdGlsZU5hbWUiLCJwcm9qZWN0aWxlU2NoZW1lIiwicHJvamVjdGlsZVR5cGVzIiwic2NoZW1lIiwibmV3UHJvamVjdGlsZSIsInByb2plY3RpbGVUZW1wbGF0ZSIsInNldFRhcmdldCIsIlByb2plY3RpbGVDb21wb25lbnQiLCJuZXdQb3NpdGlvbiIsInNwZWVkIiwicHJvamVjdGlsZVNwZWVkIiwic3ViMiIsIm11bCIsIlN0YW1pbmFCYXJNZWRpYXRvciIsIm5ld1N0YW1pbmEiLCJ1cGRhdGVTdGFtaW5hIiwiU3RhbWluYUJhckNvbXBvbmVudCIsImJhckVudGl0eU1heFdpZHRoIiwiYmFyRW50aXR5Iiwid2lkdGgiLCJsZXJwIiwicmVjdCIsInN0YW1pbmFMYWJlbCIsIkFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIiwibWF4QWN0aW9ucyIsInNob3dBdmFpbGFibGVBY3Rpb24iLCJBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQiLCJwaXBzIiwiY3JlYXRlUGlwIiwibmV3UGlwIiwicGlwVGVtcGxhdGUiLCJBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50Iiwic2hvdyIsInBpcEZyb250IiwiRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IiLCJzY3JpcHRDb21wIiwiZmxvYXRlck5hbWUiLCJkaXNwbGF5U3RhdHVzIiwiVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQiLCJzZXRXb3JsZFBvc2l0aW9uIiwid29ybGRQb3NpdGlvbiIsInNjcmVlbiIsImRldmljZSIsImdyYXBoaWNzRGV2aWNlIiwic2NyZWVuRW50aXR5IiwicG9zdFVwZGF0ZSIsInBvc2l0aW9uIiwid29ybGRTcGFjZVRvU2NyZWVuU3BhY2UiLCJ3b3JsZFBvcyIsIndvcmxkVG9TY3JlZW4iLCJwaXhlbFJhdGlvIiwibWF4UGl4ZWxSYXRpbyIsInJhdGlvU2NhbGUiLCJGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQiLCJmbG9hdGluZ1N0YXR1c2VzIiwib3RoZXJTY2hlbWUiLCJ0YXJnZXRQb3MiLCJuZXdTdGF0dXMiLCJ0ZW1wbGF0ZSIsIlBvcnRhbE1lZGlhdG9yIiwic2VsZWN0ZWRQb3J0YWwiLCJQb3J0YWxDb21wb25lbnQiLCJEaWFsb2d1ZVBhbmVsTWVkaWF0b3IiLCJoYW5kbGVDbGlja0NvbnRpbnVlIiwiaGFuZGxlQ2xpY2tDaG9pY2UiLCJjbGVhclBhbmVsIiwiY3JlYXRlU3RlcCIsImNyZWF0ZVNraWxsVGVzdCIsImNsZWFyRGlhbG9ndWVDaG9pY2VzIiwic2V0Q29udGludWVCdXR0b24iLCJEaWFsb2d1ZVBhbmVsQ29tcG9uZW50IiwiY29udGludWVCdXR0b25FbnRpdHkiLCJzdGVwRGF0YSIsImNyZWF0ZVRleHQiLCJjaG9pY2UiLCJjcmVhdGVDaG9pY2UiLCJuZXdUZXh0IiwidGV4dEVudHJ5VGVtcGxhdGUiLCJzZXR1cCIsImZlZWRFbnRpdHkiLCJyZXNpemVUb0NvbnRlbnRzIiwic2Nyb2xsYmFyVmlld0VudGl0eSIsInNjcm9sbGJhciIsIm5ld0Nob2ljZSIsImNob2ljZUVudHJ5VGVtcGxhdGUiLCJoYW5kbGVTZWxlY3RDaG9pY2UiLCJ3YXNTdWNjZXNzIiwibmV3U2tpbGxUZXN0Iiwic2tpbGxUZXN0RW50cnlUZW1wbGF0ZSIsInNwYWNpbmdWZXJ0aWNhbCIsImxheW91dGdyb3VwIiwic3BhY2luZyIsImZlZWRDaGlsZCIsImNvbnRlbnRFbnRpdHkiLCJjb250ZW50SGVpZ2h0IiwiRGlhbG9ndWVDaG9pY2VDb21wb25lbnQiLCJsYWJlbCIsImluZGV4RW50aXR5IiwiRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCIsImFuaW1hdGlvbk5hbWUiLCJEaWFsb2d1ZVRleHRDb21wb25lbnQiLCJ0aXRsZUVudGl0eSIsImNvbG9yIiwiZnJvbVN0cmluZyIsInRodW1ibmFpbCIsInRleHRDb250YWluZXIiLCJ3aXRoSW1hZ2VXaWR0aCIsIndpdGhvdXRJbWFnZVdpZHRoIiwidGh1bWJuYWlsQ29udGFpbmVyIiwiZW5hYmxlIiwiYm9keUVudGl0eSIsInNldEhlaWdodCIsIm1pbkhlaWdodCIsInRleHRDaGlsZCIsIkF0dGFja0J1dHRvbk1lZGlhdG9yIiwiaGFuZGxlVG9nZ2xlQXR0YWNrIiwidG9nZ2xlSGlnaGxpZ2h0IiwiYXR0YWNrRW5hYmxlZCIsIkF0dGFja0J1dHRvbkNvbXBvbmVudCIsImlzRW5hYmxlZCIsIlZlaGljbGVDb21wb25lbnQiLCJjbGFtcFZlYzMiLCJ2ZWMzIiwibWF4VmFsdWUiLCJ2ZWxvY2l0eSIsInN0ZWVyaW5nRm9yY2UiLCJtYXhTcGVlZCIsInlSb3RhdGlvbiIsImRlc2lyZWRWZWxvY2l0eSIsImZvcmNlIiwiYXJyaXZhbFRocmVzaG9sZCIsImFycml2ZVRocmVzaG9sZCIsIlNjcmVlblJlc2l6ZUNvbXBvbmVudCIsIndpbmRvdyIsIm9uUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNjYWxlQmxlbmQiLCJyZWZlcmVuY2VSZXNvbHV0aW9uIiwiRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQiLCJza2lsbE5hbWVMYWJlbCIsInNraWxsVmFsdWVMYWJlbCIsImRpZTFMYWJlbCIsImRpZTJMYWJlbCIsInN1Y2Nlc3NMYWJlbCIsImZhaWx1cmVMYWJlbCIsIkludmVudG9yeUl0ZW1Db21wb25lbnQiLCJvcmRlckluZGV4Iiwic2xvdEhlaWdodCIsImV4cGFuZGVkRW50aXR5IiwiY29sbGFwc2UiLCJleHBhbmQiLCJFbGVtZW50RHJhZ0hlbHBlciIsIm9uRHJhZ1N0YXJ0IiwiSW52ZW50b3J5UGFuZWxNZWRpYXRvciIsImhhbmRlUmVvcmRlckl0ZW0iLCJoYW5kbGVFcXVpcEl0ZW0iLCJpdGVtcyIsImVxdWlwcGVkTWFwIiwiZGlzcGxheUl0ZW1zIiwiSW52ZW50b3J5UGFuZWxDb21wb25lbnQiLCJpc0luQm91bmRzIiwiYm91bmRzIiwieDIiLCJ5MSIsInkyIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiY2xvc2VCdXR0b24iLCJoYW5kbGVDbG9zZSIsInNlcGFyYXRvckhpZ2hsaWdodCIsImludmVudG9yeUl0ZW1FbnRpdGllcyIsImRyYWdFbnRpdHkiLCJyZXBhcmVudCIsImRyYWdJY29uIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlTW91c2VVcCIsImxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudCIsInNjcmVlbkNvbXAiLCJkaXNwbGF5UG90ZW50aWFsTGlzdCIsImRyYWdQb3MiLCJ0b3BTbG90UG9zaXRpb24iLCJtYXhTbG90cyIsInNsb3RXaWR0aCIsInNjcmVlbkhlaWdodCIsImNvcm5lclNjcmVlblBvcyIsInNjcmVlbkNvcm5lcnMiLCJjb3JuZXJQb3MiLCJjaGVja0Ryb3BPbkVxdWlwbWVudFNsb3QiLCJkcmFnZ2luZ0VudGl0eSIsIm1vdXNlRXZlbnQiLCJlcXVpcFNsb3RLZXkiLCJjb3JuZXJzIiwiaGFuZGxlSXRlbU1vdmUiLCJzZXRIaWdobGlnaHRQb3NpdGlvbiIsInJ1bm5pbmdJbmRleCIsIm5ld0l0ZW1Db21wb25lbnQiLCJpdGVtQXNzZXQiLCJlcXVpcFNsb3RFbnRpdHkiLCJyZW9yZGVyTGlzdFdpdGhHYXAiLCJnYXBJbmRleCIsImludmVudG9yeUl0ZW1FbnRpdHkiLCJJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCIsIkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudCIsImljb25FbnRpdHkiLCJzdGFydHVwIl0sIm1hcHBpbmdzIjoid0NBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELElBQUlDLEVBQVksRUFBUSxLQUNwQkMsRUFBUyxFQUFRLEtBRWpCQyxFQUE0QixXQUM1QixTQUFTQSxFQUFXQyxHQUVoQixHQURBQyxLQUFLQyxXQUFhLEdBQ2RILEVBQVdJLFlBQVlILEdBQ3ZCLE1BQU0sSUFBSUksTUFMSCw0REFPWEgsS0FBS0ksWUFBY0wsRUFDbkJDLEtBQUtLLE9BQVNULEVBQVVVLFFBQVFDLE1BQVFYLEVBQVVVLFFBQVFFLFdBQWFaLEVBQVVVLFFBQVFHLFFBQ3pGVCxLQUFLVSx1QkFxRFQsT0FuREFaLEVBQVdhLGlCQUFtQixTQUFVWixVQUM3QkMsS0FBS0UsWUFBWUgsSUFFNUJELEVBQVdjLFlBQWMsU0FBVWIsR0FDL0IsT0FBS0EsR0FHQUMsS0FBS0UsWUFBWUgsS0FDbEJDLEtBQUtFLFlBQVlILEdBQU8sSUFBSUQsRUFBV0MsSUFFcENDLEtBQUtFLFlBQVlILElBTGIsTUFPZkQsRUFBV2UsVUFBVUMsZ0JBQWtCLFNBQVVDLEVBQWtCQyxHQUMxRGhCLEtBQUtDLFdBQVdjLElBQ2pCZixLQUFLaUIsS0FBS0MsaUJBQWlCSCxFQUFrQmYsS0FBS21CLGVBQWdCbkIsTUFFdEVBLEtBQUtDLFdBQVdjLEdBQW9CQyxHQUV4Q2xCLEVBQVdlLFVB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SyxLQUVyRTQwQixFQUFvQjNwQixpQkFBaUJ1b0IsRUFBZ0JqL0IsRUFBR2kvQixFQUFnQmgvQixFQUFLOC9CLEVBQWUxckMsS0FBSzRvQyxXQUFhLE1BTTFIWSxHQUF3QjNvQyxVQUFVNmlDLFdBQWEsV0FDM0MsS0FBTzFqQyxLQUFLa3FDLHNCQUFzQnRvQyxPQUFTLEdBQ3hCNUIsS0FBS2txQyxzQkFBc0J2ckIsTUFDbkN0USxXQzVPUixNQUFNNDlCLEdBQTZCeC9CLEdBQUcwb0IsYUFBYSw4QkFNMUQ4VyxHQUEyQnByQyxVQUFVdWIsV0FBYSxhQUlsRDZ2QixHQUEyQnByQyxVQUFVMGpDLE1BQVEsU0FBVXhpQyxFQUFNcVYsS0NWdEQsTUFBTTgwQixHQUFpQ3ovQixHQUFHMG9CLGFBQWEsa0NBSzlEK1csR0FBK0IxVyxXQUFXQyxJQUFJLGFBQWMsQ0FBRTdkLEtBQU0sU0FBVW1TLE1BQU8sZ0JBRXJGbWlCLEdBQStCcnJDLFVBQVV1YixXQUFhLFdBQ2xEcGMsS0FBS21zQyxXQUFXdlcsU0FBVSxHQUc5QnNXLEdBQStCcnJDLFVBQVUwakMsTUFBUSxTQUFVNWtDLEdBQ3ZESyxLQUFLbXNDLFdBQVd2VyxRQUFVajJCLEdDWjlCLE1BQVF5QyxPQUFNLElBQUssRUFBUSxNQUNyQixRQUFFOUIsSUFBWSxFQUFRLEtBNENmLElBWGIsTUFDSSxjQUNJQSxHQUFRQyxPQUFRLEVBQ2hCLEdBQU9LLFlBQWNtckIsRUFBVyxXQUFYLFlBQ3JCaGtCLFFBQVFDLElBQUksSUFFWmhJLEtBQUtzSCxPQUFTLEdBQU8xRyxZQUFZbXJCLEVBQVcsV0FBWCxLQUNqQy9yQixLQUFLc0gsT0FBTzhrQyxRQUFRcHNDLFMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vVmlld1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcImNvbnRyb2xsZXIga2V5IGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkXCI7XG52YXIgQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKGtleSkge1xuICAgICAgICB0aGlzLmNvbW1hbmRNYXAgPSB7fTtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXRvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ0NvbW1hbmQgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIENvbnRyb2xsZXIucmVtb3ZlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IENvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUucmVnaXN0ZXJDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUsIGNvbW1hbmRDbGFzc1JlZikge1xuICAgICAgICBpZiAoIXRoaXMuY29tbWFuZE1hcFtub3RpZmljYXRpb25OYW1lXSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlZ2lzdGVyT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdID0gY29tbWFuZENsYXNzUmVmO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuaGFzQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYXBbbm90aWZpY2F0aW9uTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUNvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNDb21tYW5kKG5vdGlmaWNhdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcucmVtb3ZlT2JzZXJ2ZXIobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5leGVjdXRlQ29tbWFuZCwgdGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5leGVjdXRlQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kTWFwW25vdGlmaWNhdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWNvbW1hbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlcihDb250cm9sbGVyLl9jb25zb2xlQXJncywgbm90aWZpY2F0aW9uTmFtZSwgY29tbWFuZC5uYW1lKTtcbiAgICAgICAgY29tbWFuZC5hcHBseSh2b2lkIDAsIFt0aGlzLm11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH07XG4gICAgQ29udHJvbGxlci5fY29uc29sZUFyZ3MgPSBbXG4gICAgICAgIFwiXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzRjIzNEVcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImNvbG9yOiBcIiArIFwiI0Q0QkZFMFwiICsgXCI7IGJhY2tncm91bmQ6IFwiICsgXCIjODcyNEJEXCIgKyBcIjtcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzZFMjk5NFwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjM0YyMzRFXCJcbiAgICBdO1xuICAgIENvbnRyb2xsZXIuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcbn0oKSk7XG5leHBvcnRzLkNvbnRyb2xsZXIgPSBDb250cm9sbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbGxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQ29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vQ29udHJvbGxlclwiKTtcbnZhciBNb2RlbF8xID0gcmVxdWlyZShcIi4vTW9kZWxcIik7XG52YXIgUHVyZU1WQ18xID0gcmVxdWlyZShcIi4vUHVyZU1WQ1wiKTtcbnZhciBWaWV3XzEgPSByZXF1aXJlKFwiLi9WaWV3XCIpO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiRmFjYWRlIGluc3RhbmNlIGZvciB0aGlzIE11bHRpdG9uIGtleSBhbHJlYWR5IGNvbnN0cnVjdGVkIVwiO1xudmFyIEZhY2FkZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNhZGUoa2V5KSB7XG4gICAgICAgIGlmIChGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE1VTFRJVE9OX01TRyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vdGlmaWNhdGlvbiA6IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ05vbmU7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU5vdGlmaWVyKGtleSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZhY2FkZSgpO1xuICAgIH1cbiAgICBGYWNhZGUuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUZhY2FkZS5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICBGYWNhZGUuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBGYWNhZGUuaGFzQ29yZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VNYXBba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgRmFjYWRlLnJlbW92ZUNvcmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgTW9kZWxfMS5Nb2RlbC5yZW1vdmVNb2RlbChrZXkpO1xuICAgICAgICBWaWV3XzEuVmlldy5yZW1vdmVWaWV3KGtleSk7XG4gICAgICAgIENvbnRyb2xsZXJfMS5Db250cm9sbGVyLnJlbW92ZUNvbnRyb2xsZXIoa2V5KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZUZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplTW9kZWwoKTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplQ29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyQ29tbWFuZCA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlZ2lzdGVyQ29tbWFuZChub3RpZmljYXRpb25OYW1lLCBjb21tYW5kQ2xhc3NSZWYpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVDb21tYW5kID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnJlbW92ZUNvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc0NvbW1hbmQgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmhhc0NvbW1hbmQobm90aWZpY2F0aW9uTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlZ2lzdGVyUHJveHkgPSBmdW5jdGlvbiAocHJveHkpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5yZWdpc3RlclByb3h5KHByb3h5KTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwucmV0cmlldmVQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsLnJlbW92ZVByb3h5KHByb3h5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmhhc1Byb3h5ID0gZnVuY3Rpb24gKHByb3h5TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5oYXNQcm94eShwcm94eU5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5yZWdpc3Rlck1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yKSB7XG4gICAgICAgIHRoaXMudmlldy5yZWdpc3Rlck1lZGlhdG9yKG1lZGlhdG9yKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5yZXRyaWV2ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnJlbW92ZU1lZGlhdG9yKG1lZGlhdG9yTmFtZSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc2xlZXBNZWRpYXRvcihtZWRpYXRvck5hbWUpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5hd2FrZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmF3YWtlTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGFzTWVkaWF0b3IobWVkaWF0b3JOYW1lKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuc2VuZE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5sb2dnZXIuYXBwbHkodGhpcywgW0ZhY2FkZS5fY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIChfYSA9IHRoaXMudmlldykubm90aWZ5T2JzZXJ2ZXJzLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIEZhY2FkZS5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vdGlmaWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IENvbnRyb2xsZXJfMS5Db250cm9sbGVyLmdldEluc3RhbmNlKHRoaXMubXVsdGl0b25LZXkpO1xuICAgIH07XG4gICAgRmFjYWRlLnByb3RvdHlwZS5pbml0aWFsaXplTW9kZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlbCA9IE1vZGVsXzEuTW9kZWwuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ID0gVmlld18xLlZpZXcuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICBGYWNhZGUuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjNzU3MTMwXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMyRjJFMTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiI0ZGRjMyNVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiNERUQ0MzRcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzc1NzEzMFwiXG4gICAgXTtcbiAgICBGYWNhZGUuaW5zdGFuY2VNYXAgPSB7fTtcbiAgICByZXR1cm4gRmFjYWRlO1xufSgpKTtcbmV4cG9ydHMuRmFjYWRlID0gRmFjYWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmFjYWRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiTWVkaWF0b3JcIjtcbnZhciBNZWRpYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVkaWF0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVkaWF0b3IobWVkaWF0b3JOYW1lLCB2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmxvZ2dlciA9IFB1cmVNVkNfMS5QdXJlTVZDLmRlYnVnID8gUHVyZU1WQ18xLlB1cmVNVkMubG9nTWVkaWF0b3IgOiBQdXJlTVZDXzEuUHVyZU1WQy5sb2dOb25lO1xuICAgICAgICBfdGhpcy5tZWRpYXRvck5hbWUgPSBtZWRpYXRvck5hbWUgfHwgTkFNRTtcbiAgICAgICAgX3RoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgICAgIF90aGlzLnNsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWF0b3IucHJvdG90eXBlLCBcIm5vdGlmaWNhdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZWROb3RpZmljYXRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0TWVkaWF0b3JOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck5hbWU7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuc2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICh2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUuZ2V0Vmlld0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0NvbXBvbmVudDtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZTtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVnaXN0ZXJcIik7XG4gICAgfTtcbiAgICBNZWRpYXRvci5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIoTWVkaWF0b3IuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLm9uU2xlZXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2xlZXBpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvZ2dlcihNZWRpYXRvci5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJzbGVlcFwiKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5vbkF3YWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNsZWVwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9nZ2VyKE1lZGlhdG9yLl9jb25zb2xlQXJncywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCBcImF3YWtlXCIpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhdG9yLnByb3RvdHlwZSwgXCJpc1NsZWVwaW5nXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zbGVlcGluZztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWVkaWF0b3IucHJvdG90eXBlLnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMuYWRkU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS51bnN1YnNjcmliZU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlU3Vic2NyaXB0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIHRoaXMucmVtb3ZlU3Vic2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5jaGFuZ2VTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvbGROb3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25zLnNsaWNlKCk7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChub3RpZmljYXRpb25OYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk5hbWUuZm9yRWFjaChmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZCA9IGFjdGlvbi5jYWxsKF90aGlzLCBub3RpZmljYXRpb24pIHx8IGNoYW5nZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSBhY3Rpb24uY2FsbCh0aGlzLCBub3RpZmljYXRpb25OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZCAmJiB0aGlzLm5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UodGhpcywgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5hZGRTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmaWNhdGlvbnMuaW5kZXhPZihub3RpZmljYXRpb24pID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE1lZGlhdG9yLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubm90aWZpY2F0aW9ucy5pbmRleE9mKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTWVkaWF0b3IuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMkEzMzUxXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiNGNEY2RkVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzM2NTZDMVwiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMzNjREOThcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzJBMzM1MVwiXG4gICAgXTtcbiAgICByZXR1cm4gTWVkaWF0b3I7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lZGlhdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1VTFRJVE9OX01TRyA9IFwiTW9kZWwgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgTW9kZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kZWwoa2V5KSB7XG4gICAgICAgIHRoaXMucHJveHlNYXAgPSB7fTtcbiAgICAgICAgaWYgKE1vZGVsLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsKCk7XG4gICAgfVxuICAgIE1vZGVsLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VNYXBba2V5XSA9IG5ldyBNb2RlbChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlTWFwW2tleV07XG4gICAgfTtcbiAgICBNb2RlbC5yZW1vdmVNb2RlbCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VNYXBba2V5XTtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZWdpc3RlclByb3h5ID0gZnVuY3Rpb24gKHByb3h5KSB7XG4gICAgICAgIHByb3h5LmluaXRpYWxpemVOb3RpZmllcih0aGlzLm11bHRpdG9uS2V5KTtcbiAgICAgICAgdGhpcy5wcm94eU1hcFtwcm94eS5nZXRQcm94eU5hbWUoKV0gPSBwcm94eTtcbiAgICAgICAgcHJveHkub25SZWdpc3RlcigpO1xuICAgIH07XG4gICAgTW9kZWwucHJvdG90eXBlLnJldHJpZXZlUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaGFzUHJveHkgPSBmdW5jdGlvbiAocHJveHlOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIE1vZGVsLnByb3RvdHlwZS5yZW1vdmVQcm94eSA9IGZ1bmN0aW9uIChwcm94eU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMucHJveHlNYXBbcHJveHlOYW1lXSkge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5wcm94eU1hcFtwcm94eU5hbWVdO1xuICAgICAgICAgICAgcHJveHkub25SZW1vdmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3h5TWFwW3Byb3h5TmFtZV07XG4gICAgICAgICAgICByZXR1cm4gcHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBNb2RlbC5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZGVsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE1vZGVsLmluc3RhbmNlTWFwID0ge307XG4gICAgcmV0dXJuIE1vZGVsO1xufSgpKTtcbmV4cG9ydHMuTW9kZWwgPSBNb2RlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IHNhcmdpcyBvbiA3LzQvMTcuXG4gKi9cbnZhciBGYWNhZGVfMSA9IHJlcXVpcmUoXCIuL0ZhY2FkZVwiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIm11bHRpdG9uS2V5IGZvciB0aGlzIE5vdGlmaWVyIG5vdCB5ZXQgaW5pdGlhbGl6ZWQhXCI7XG52YXIgTm90aWZpZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpZXIoKSB7XG4gICAgfVxuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5pbml0aWFsaXplTm90aWZpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMubXVsdGl0b25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZmFjYWRlID0gdGhpcy5nZXRGYWNhZGUoKTtcbiAgICB9O1xuICAgIE5vdGlmaWVyLnByb3RvdHlwZS5zZW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5mYWNhZGUpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuZmFjYWRlKS5zZW5kTm90aWZpY2F0aW9uLmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpZXIucHJvdG90eXBlLmdldEZhY2FkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubXVsdGl0b25LZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihNVUxUSVRPTl9NU0cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGYWNhZGVfMS5GYWNhZGUuZ2V0SW5zdGFuY2UodGhpcy5tdWx0aXRvbktleSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm90aWZpZXI7XG59KCkpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ3JlYXRlZCBieSBzYXJnaXMgb24gNy80LzE3LlxuICovXG52YXIgTm90aWZpZXJfMSA9IHJlcXVpcmUoXCIuL05vdGlmaWVyXCIpO1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL1B1cmVNVkNcIik7XG52YXIgTkFNRSA9IFwiUHJveHlcIjtcbnZhciBQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJveHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJveHkocHJveHlOYW1lLCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb3h5TmFtZSA9IHByb3h5TmFtZSB8fCBOQU1FO1xuICAgICAgICBfdGhpcy5sb2dnZXIgPSBQdXJlTVZDXzEuUHVyZU1WQy5kZWJ1ZyA/IFB1cmVNVkNfMS5QdXJlTVZDLmxvZ1Byb3h5IDogUHVyZU1WQ18xLlB1cmVNVkMubG9nTm9uZTtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnNldERhdGEoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0UHJveHlOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eU5hbWU7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfTtcbiAgICBQcm94eS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ2dlcihQcm94eS5fY29uc29sZUFyZ3MsIHRoaXMuY29uc3RydWN0b3IubmFtZSwgXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIFByb3h5LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoUHJveHkuX2NvbnNvbGVBcmdzLCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIFwicmVtb3ZlXCIpO1xuICAgIH07XG4gICAgUHJveHkuX2NvbnNvbGVBcmdzID0gW1xuICAgICAgICBcIlwiLFxuICAgICAgICBcImJhY2tncm91bmQ6IFwiICsgXCIjMjk1QTM0XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJjb2xvcjogXCIgKyBcIiMxMDI0MTVcIiArIFwiOyBiYWNrZ3JvdW5kOiBcIiArIFwiIzI3RDA0Q1wiICsgXCI7XCIsXG4gICAgICAgIFwiYmFja2dyb3VuZDogXCIgKyBcIiMyRkFBNEFcIixcbiAgICAgICAgXCJiYWNrZ3JvdW5kOiBcIiArIFwiIzI5NUEzNFwiXG4gICAgXTtcbiAgICByZXR1cm4gUHJveHk7XG59KE5vdGlmaWVyXzEuTm90aWZpZXIpKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3h5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFB1cmVNVkMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVyZU1WQygpIHtcbiAgICB9XG4gICAgUHVyZU1WQy5sb2dDb21tYW5kID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzLCBub3RpZmljYXRpb25OYW1lLCBjb21tYW5kTmFtZSkge1xuICAgICAgICBjb25zb2xlQXJnc1swXSA9IFwiJWMgJWMgJWMgXCIgKyBub3RpZmljYXRpb25OYW1lICsgXCIgPT4gIFwiICsgY29tbWFuZE5hbWUgKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoY29uc29sZUFyZ3MsIG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZUFyZ3NbMF0gPSBcIiVjICVjICVjIFwiICsgbm90aWZpY2F0aW9uTmFtZSArIFwiOiBhcmdzIFsgXCIgKyBhcmdzICsgXCIgXSAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dNZWRpYXRvciA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dQcm94eSA9IGZ1bmN0aW9uIChjb25zb2xlQXJncywgbmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIGNvbnNvbGVBcmdzWzBdID0gXCIlYyAlYyAlYyBcIiArIG5hbWUgKyBcIjogXCIgKyBhY3Rpb24gKyBcIiAlYyAlYyBcIjtcbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgY29uc29sZUFyZ3MpO1xuICAgIH07XG4gICAgUHVyZU1WQy5sb2dOb25lID0gZnVuY3Rpb24gKGNvbnNvbGVBcmdzKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICByZXR1cm4gUHVyZU1WQztcbn0oKSk7XG5leHBvcnRzLlB1cmVNVkMgPSBQdXJlTVZDO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHVyZU1WQy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRlbWl0dGVyM1wiKTtcbnZhciBNVUxUSVRPTl9NU0cgPSBcIlZpZXcgaW5zdGFuY2UgZm9yIHRoaXMgTXVsdGl0b24ga2V5IGFscmVhZHkgY29uc3RydWN0ZWQhXCI7XG52YXIgVmlldyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3KGtleSkge1xuICAgICAgICB0aGlzLm1lZGlhdG9yTWFwID0ge307XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoVmlldy5pbnN0YW5jZU1hcFtrZXldKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTVVMVElUT05fTVNHKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpdG9uS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVWaWV3KCk7XG4gICAgfVxuICAgIFZpZXcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VNYXBba2V5XSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZU1hcFtrZXldID0gbmV3IFZpZXcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5yZW1vdmVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZU1hcFtrZXldO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobm90aWZpY2F0aW9uTmFtZSwgb2JzZXJ2ZXJNZXRob2QsIGNvbnRleHQpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmVnaXN0ZXJPYnNlcnZlciA9IGZ1bmN0aW9uIChub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbihub3RpZmljYXRpb25OYW1lLCBvYnNlcnZlck1ldGhvZCwgY29udGV4dCk7XG4gICAgfTtcbiAgICBWaWV3LnByb3RvdHlwZS5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuZXZlbnRFbWl0dGVyKS5lbWl0LmFwcGx5KF9hLCBbbm90aWZpY2F0aW9uTmFtZSwgbm90aWZpY2F0aW9uTmFtZV0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWVkaWF0b3IuaW5pdGlhbGl6ZU5vdGlmaWVyKHRoaXMubXVsdGl0b25LZXkpO1xuICAgICAgICAvLyByZWdpc3RlciB0aGUgbWVkaWF0b3IgZm9yIHJldHJpZXZhbCBieSBuYW1lXG4gICAgICAgIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3IuZ2V0TWVkaWF0b3JOYW1lKCldID0gbWVkaWF0b3I7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICBtZWRpYXRvci5vblJlZ2lzdGVyKHRoaXMub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbWVkaWF0b3Iub25Bd2FrZSgpO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuYXdha2VNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhdG9yID0gdGhpcy5tZWRpYXRvck1hcFttZWRpYXRvck5hbWVdO1xuICAgICAgICBpZiAobWVkaWF0b3IpIHtcbiAgICAgICAgICAgIGlmICghbWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gYWxlcnQgdGhlIG1lZGlhdG9yIHRoYXQgaXQgaGFzIGJlZW4gYXdha2VuXG4gICAgICAgICAgICBtZWRpYXRvci5vbkF3YWtlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUucmV0cmlldmVNZWRpYXRvciA9IGZ1bmN0aW9uIChtZWRpYXRvck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU1lZGlhdG9yID0gZnVuY3Rpb24gKG1lZGlhdG9yTmFtZSkge1xuICAgICAgICB2YXIgbWVkaWF0b3IgPSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgIGlmIChtZWRpYXRvcikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBtZWRpYXRvciBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV07XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgICAgICAvLyBhbGVydCB0aGUgbWVkaWF0b3IgdGhhdCBpdCBoYXMgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICBtZWRpYXRvci5vblJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnNsZWVwTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHZhciBtZWRpYXRvciA9IHRoaXMubWVkaWF0b3JNYXBbbWVkaWF0b3JOYW1lXTtcbiAgICAgICAgaWYgKG1lZGlhdG9yKSB7XG4gICAgICAgICAgICBpZiAobWVkaWF0b3IuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKG1lZGlhdG9yKTtcbiAgICAgICAgICAgIC8vIGFsZXJ0IHRoZSBtZWRpYXRvciB0aGF0IGl0IGhhcyBiZWVuIHNsZXB0XG4gICAgICAgICAgICBtZWRpYXRvci5vblNsZWVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhdG9yO1xuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUuaGFzTWVkaWF0b3IgPSBmdW5jdGlvbiAobWVkaWF0b3JOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhdG9yTWFwW21lZGlhdG9yTmFtZV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLmluaXRpYWxpemVWaWV3ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlbW92ZU9ic2VydmVycyA9IGZ1bmN0aW9uIChtZWRpYXRvciwgaW50ZXJlc3RzKSB7XG4gICAgICAgIC8vIGZvciBldmVyeSBub3RpZmljYXRpb24gdGhlIG1lZGlhdG9yIGlzIGludGVyZXN0ZWQgaW4uLi5cbiAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkludGVyZXN0cyA9IGludGVyZXN0cyB8fCBtZWRpYXRvci5ub3RpZmljYXRpb25zO1xuICAgICAgICBpZiAobm90aWZpY2F0aW9uSW50ZXJlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEgPSBub3RpZmljYXRpb25JbnRlcmVzdHM7IF9pIDwgbm90aWZpY2F0aW9uSW50ZXJlc3RzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludGVyZXN0ID0gbm90aWZpY2F0aW9uSW50ZXJlc3RzXzFbX2ldO1xuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcihpbnRlcmVzdCwgbWVkaWF0b3IuaGFuZGxlTm90aWZpY2F0aW9uLCBtZWRpYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXcucHJvdG90eXBlLnJlZ2lzdGVyT2JzZXJ2ZXJzID0gZnVuY3Rpb24gKG1lZGlhdG9yLCBpbnRlcmVzdHMpIHtcbiAgICAgICAgLy8gZ2V0IG5vdGlmaWNhdGlvbiBpbnRlcmVzdHMgaWYgYW55XG4gICAgICAgIHZhciBub3RpZmljYXRpb25JbnRlcmVzdHMgPSBpbnRlcmVzdHMgfHwgbWVkaWF0b3Iubm90aWZpY2F0aW9ucztcbiAgICAgICAgLy8gcmVnaXN0ZXIgbWVkaWF0b3IgYXMgYW4gb2JzZXJ2ZXIgZm9yIGVhY2ggbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChub3RpZmljYXRpb25JbnRlcmVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBub3RpZmljYXRpb25JbnRlcmVzdHNfMiA9IG5vdGlmaWNhdGlvbkludGVyZXN0czsgX2kgPCBub3RpZmljYXRpb25JbnRlcmVzdHNfMi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJlc3QgPSBub3RpZmljYXRpb25JbnRlcmVzdHNfMltfaV07XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3Rlck9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvci5oYW5kbGVOb3RpZmljYXRpb24sIG1lZGlhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlldy5wcm90b3R5cGUub25NZWRpYXRvck5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSA9IGZ1bmN0aW9uIChtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucykge1xuICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVycyhtZWRpYXRvciwgb2xkTm90aWZpY2F0aW9ucyk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJPYnNlcnZlcnMobWVkaWF0b3IpO1xuICAgIH07XG4gICAgVmlldy5pbnN0YW5jZU1hcCA9IHt9O1xuICAgIHJldHVybiBWaWV3O1xufSgpKTtcbmV4cG9ydHMuVmlldyA9IFZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WaWV3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIENvbnRyb2xsZXJfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Db250cm9sbGVyXCIpO1xuZXhwb3J0cy5Db250cm9sbGVyID0gQ29udHJvbGxlcl8xLkNvbnRyb2xsZXI7XG52YXIgRmFjYWRlXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvRmFjYWRlXCIpO1xuZXhwb3J0cy5GYWNhZGUgPSBGYWNhZGVfMS5GYWNhZGU7XG52YXIgTWVkaWF0b3JfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9NZWRpYXRvclwiKTtcbmV4cG9ydHMuTWVkaWF0b3IgPSBNZWRpYXRvcl8xLk1lZGlhdG9yO1xudmFyIE1vZGVsXzEgPSByZXF1aXJlKFwiLi9jb20va29yZWV6L3B1cmVtdmMvTW9kZWxcIik7XG5leHBvcnRzLk1vZGVsID0gTW9kZWxfMS5Nb2RlbDtcbnZhciBOb3RpZmllcl8xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL05vdGlmaWVyXCIpO1xuZXhwb3J0cy5Ob3RpZmllciA9IE5vdGlmaWVyXzEuTm90aWZpZXI7XG52YXIgUHJveHlfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9Qcm94eVwiKTtcbmV4cG9ydHMuUHJveHkgPSBQcm94eV8xLlByb3h5O1xudmFyIFB1cmVNVkNfMSA9IHJlcXVpcmUoXCIuL2NvbS9rb3JlZXovcHVyZW12Yy9QdXJlTVZDXCIpO1xuZXhwb3J0cy5QdXJlTVZDID0gUHVyZU1WQ18xLlB1cmVNVkM7XG52YXIgVmlld18xID0gcmVxdWlyZShcIi4vY29tL2tvcmVlei9wdXJlbXZjL1ZpZXdcIik7XG5leHBvcnRzLlZpZXcgPSBWaWV3XzEuVmlldztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsImV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uTm9kZSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLmNvbm5lY3RlZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0Nvbm5lY3RlZChvdGhlck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkTm9kZXMuc29tZShub2RlID0+IG5vZGUueCA9PT0gb3RoZXJOb2RlLnhcbiAgICAgICAgICAgICYmIG5vZGUueSA9PT0gb3RoZXJOb2RlLnkgJiYgbm9kZS56ID09PSBvdGhlck5vZGUueik7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlck5vZGUueCAmJiB0aGlzLnkgPT09IG90aGVyTm9kZS55ICYmIHRoaXMueiA9PT0gb3RoZXJOb2RlLno7XG4gICAgfVxuXG4gICAgZXF1YWxzUG9pbnQoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gdGhpcy54ID09PSB4ICYmIHRoaXMueSA9PT0geSAmJiB0aGlzLnogPT09IHo7XG4gICAgfVxuXG4gICAgYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKG90aGVyTm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkTm9kZXMucHVzaChvdGhlck5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzY29ubmVjdGVkTm9kZShvdGhlck5vZGUpIHtcbiAgICAgICAgY29uc3QgY29ubmVjdGVkTm9kZUluZGV4ID0gdGhpcy5jb25uZWN0ZWROb2Rlcy5maW5kSW5kZXgobm9kZSA9PiBub2RlLmVxdWFscyhvdGhlck5vZGUpKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5zcGxpY2UoY29ubmVjdGVkTm9kZUluZGV4LCAxKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgTmF2aWdhdGlvbk5vZGUgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGUnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlR2FtZU1hcENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIC8vIE9uY2UgYSBnYW1lTWFwIHNjZW5lIGlzIGxvYWRlZCwgcGFyc2UgZ2FtZU1hcCBWTywgZ2VuZXJhdGUgbmF2IG1lc2gsIGV0Y1xuICAgIC8vIEdldCBuYXZpZ2F0aW9uIGZsb29yc1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3QgZmxvb3JHcmlkID0gY3JlYXRlTWFwRmxvb3IoYXBwKTtcbiAgICBjb25zdCB3YWxscyA9IGNyZWF0ZU1hcFdhbGxzKGFwcCwgZmxvb3JHcmlkKTtcbiAgICBjb25zdCBjb3ZlciA9IGNyZWF0ZU1hcENvdmVyKGFwcCwgZmxvb3JHcmlkKTtcbiAgICBjb25zdCBwb3J0YWxzID0gY3JlYXRlUG9ydGFscyhhcHApO1xuXG4gICAgLy8gd2F5cG9pbnRzXG4gICAgY29uc3Qgd2F5cG9pbnRzTWFwID0gY3JlYXRlV2F5cG9pbnRzTWFwKGZsb29yR3JpZCk7XG5cbiAgICAvLyBSZWdpc3RlciBtZWRpYXRvcnNcblxuICAgIGlmIChmYWNhZGUuaGFzUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpKSB7XG4gICAgICAgIC8vIHJlbW92ZSBvbGQgbWFwXG4gICAgICAgIGZhY2FkZS5yZW1vdmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSlcbiAgICB9XG5cbiAgICBmYWNhZGUucmVnaXN0ZXJQcm94eShuZXcgR2FtZU1hcFByb3h5KGZsb29yR3JpZCwgd2FsbHMsIGNvdmVyLCBwb3J0YWxzLCB3YXlwb2ludHNNYXApKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcEZsb29yKGFwcCkge1xuICAgIGNvbnN0IG5hdmlnYXRpb25GbG9vcnMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ25hdmlnYXRpb25fZmxvb3InKTtcblxuICAgIGxldCBjb21wbGV0ZWRHcmlkID0gW107XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uQ29tcG9uZW50cyA9IFtdO1xuICAgIC8vIEZpcnN0IHBhcnNlIC0gY3JlYXRlIG5vZGVzIGFuZCBjb25uZWN0aW9ucyBmb3IgaW5kaXZpZHVhbCBcbiAgICAvLyBuYXZpZ2F0aW9uIGNvbXBvbmVudHNcbiAgICBmb3IgKGNvbnN0IGZsb29yRW50aXR5IG9mIG5hdmlnYXRpb25GbG9vcnMpIHtcbiAgICAgICAgY29uc3QgbmF2Q29tcCA9IGZsb29yRW50aXR5LnNjcmlwdFsnTmF2aWdhdGlvbkNvbXBvbmVudCddO1xuICAgICAgICBuYXZpZ2F0aW9uQ29tcG9uZW50cy5wdXNoKG5hdkNvbXApO1xuXG4gICAgICAgIGNvbnN0IGZsb29yR3JpZCA9IGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KVxuICAgICAgICBuYXZDb21wLnNldEdyaWQoZmxvb3JHcmlkKTtcbiAgICB9XG5cbiAgICAvLyBTZWNvbmQgcGFyc2UgLSBzdGl0Y2ggdG9nZXRoZXIgYWRqYWNlbnQgbm9kZXMgaW4gXG4gICAgLy8gY29ubmVjdGVkIG5hdmlnYXRpb24gbWVzaGVzXG4gICAgZm9yIChjb25zdCBuYXZpZ2F0aW9uQ29tcCBvZiBuYXZpZ2F0aW9uQ29tcG9uZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbm5lY3RlZENvbXBFbnRpdHkgb2YgbmF2aWdhdGlvbkNvbXAuY29ubmVjdGVkQ29tcG9uZW50cykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkTmF2Q29tcCA9IGNvbm5lY3RlZENvbXBFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG5cbiAgICAgICAgICAgIGpvaW5Ub0FkamFjZW50R3JpZChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCksIGNvbm5lY3RlZE5hdkNvbXAuZ2V0R3JpZCgpKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZEdyaWQgPSBjb21wbGV0ZWRHcmlkLmNvbmNhdChuYXZpZ2F0aW9uQ29tcC5nZXRHcmlkKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBsZXRlZEdyaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hcFdhbGxzKGFwcCwgZmxvb3JHcmlkKSB7XG4gICAgY29uc3Qgd2FsbHNCb3VuZGluZ0JveGVzID0gW107XG4gICAgY29uc3QgbWFwV2FsbEVudGl0aWVzID0gYXBwLnJvb3QuZmluZEJ5VGFnKCd3YWxsJyk7XG4gICAgZm9yIChjb25zdCBtYXBXYWxsRW50aXR5IG9mIG1hcFdhbGxFbnRpdGllcykge1xuICAgICAgICBjb25zdCBhYWJiID0gY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5KG1hcFdhbGxFbnRpdHkpO1xuICAgICAgICB3YWxsc0JvdW5kaW5nQm94ZXMucHVzaChhYWJiKTtcbiAgICAgICAgY3JlYXRlRmxvb3JVbmRlcldhbGxzKG1hcFdhbGxFbnRpdHksIGZsb29yR3JpZCk7XG4gICAgICAgIG1hcFdhbGxFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJldHVybiB3YWxsc0JvdW5kaW5nQm94ZXM7XG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlQm91bmRpbmdCb3hGcm9tRW50aXR5KGJveEVudGl0eSkge1xuICAgIGNvbnN0IHNjYWxlID0gYm94RW50aXR5LmdldExvY2FsU2NhbGUoKTtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IG5ldyBwYy5WZWMzKHNjYWxlLnggLyAyLCBzY2FsZS55IC8gMiwgc2NhbGUueiAvIDIpO1xuICAgIGNvbnN0IGFhYmIgPSBuZXcgcGMuQm91bmRpbmdCb3goYm94RW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICByZXR1cm4gYWFiYjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmxvb3JVbmRlcldhbGxzKHdhbGwsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IHdhbGxQb3MgPSB3YWxsLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3Qgd2FsbFNjYWxlID0gd2FsbC5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgeSA9IE1hdGgucm91bmQod2FsbFBvcy55IC0gKHdhbGxTY2FsZS55ICogMC41KSk7XG5cbiAgICBjb25zdCBjb3JuZXJYID0gTWF0aC5yb3VuZCh3YWxsUG9zLnggLSAod2FsbFNjYWxlLnggKiAwLjUpKTtcbiAgICBjb25zdCBjb3JuZXJaID0gTWF0aC5yb3VuZCh3YWxsUG9zLnogLSAod2FsbFNjYWxlLnogKiAwLjUpKTtcblxuICAgIGZvciAobGV0IHggPSBjb3JuZXJYOyB4IDwgY29ybmVyWCArIHdhbGxTY2FsZS54OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IGNvcm5lclo7IHogPCBjb3JuZXJaICsgd2FsbFNjYWxlLno7IHorKykge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlSW5kZXggPSBmbG9vckdyaWQuZmluZEluZGV4KChub2RlKSA9PiBub2RlLmVxdWFsc1BvaW50KHgsIHksIHopKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZE5vZGVzID0gZmxvb3JHcmlkLnNwbGljZShtYXRjaGluZ05vZGVJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWROb2RlIG9mIGRlbGV0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZGVsZXRlZE5vZGUuY29ubmVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkTm9kZShkZWxldGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWxHcmlkRnJvbUZsb29yKGZsb29yRW50aXR5KSB7XG4gICAgLy8gc25hcCB0byBncmlkXG4gICAgY29uc3QgZ3JpZCA9IFtdO1xuXG4gICAgY29uc3QgZmxvb3JQb3NpdGlvbiA9IGZsb29yRW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBmbG9vclNpemUgPSBmbG9vckVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG5cbiAgICBjb25zdCBzbmFwcGVkV2lkdGggPSBNYXRoLnJvdW5kKGZsb29yU2l6ZS54KTtcbiAgICBjb25zdCBzbmFwcGVkQnJlYWR0aCA9IE1hdGgucm91bmQoZmxvb3JTaXplLnopO1xuXG4gICAgY29uc3Qgc25hcHBlZFggPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueCAtIChzbmFwcGVkV2lkdGggLyAyKSk7XG4gICAgY29uc3Qgc25hcHBlZFkgPSBmbG9vclBvc2l0aW9uLnk7XG4gICAgY29uc3Qgc25hcHBlZFogPSBNYXRoLnJvdW5kKGZsb29yUG9zaXRpb24ueiAtIChzbmFwcGVkQnJlYWR0aCAvIDIpKTtcblxuICAgIGZvciAobGV0IHogPSBzbmFwcGVkWjsgeiA8IHNuYXBwZWRaICsgc25hcHBlZEJyZWFkdGg7IHorKykge1xuICAgICAgICBmb3IgKGxldCB4ID0gc25hcHBlZFg7IHggPCBzbmFwcGVkWCArIHNuYXBwZWRXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IE5hdmlnYXRpb25Ob2RlKHgsIHNuYXBwZWRZLCB6KTtcbiAgICAgICAgICAgIGdyaWQucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbm5lY3QgbmVpZ2hib3Vyc1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmlkKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJOb2RlIG9mIGdyaWQpIHtcbiAgICAgICAgICAgIGlmIChvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54IC0gMSwgbm9kZS55LCBub2RlLnopIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCArIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLngsIG5vZGUueSwgbm9kZS56IC0gMSkgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiArIDEpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5hZGRDb25uZWN0ZWROb2RlKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ3JpZDtcbn1cblxuZnVuY3Rpb24gam9pblRvQWRqYWNlbnRHcmlkKGdyaWQsIGdyaWRUb0pvaW4pIHtcbiAgICAvLyBDb25uZWN0IG5laWdoYm91cnNcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JpZCkge1xuICAgICAgICBmb3IgKGNvbnN0IG90aGVyTm9kZSBvZiBncmlkVG9Kb2luKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCAtIDEsIG5vZGUueSwgbm9kZS56KSB8fFxuICAgICAgICAgICAgICAgIG90aGVyTm9kZS5lcXVhbHNQb2ludChub2RlLnggKyAxLCBub2RlLnksIG5vZGUueikgfHxcbiAgICAgICAgICAgICAgICBvdGhlck5vZGUuZXF1YWxzUG9pbnQobm9kZS54LCBub2RlLnksIG5vZGUueiAtIDEpIHx8XG4gICAgICAgICAgICAgICAgb3RoZXJOb2RlLmVxdWFsc1BvaW50KG5vZGUueCwgbm9kZS55LCBub2RlLnogKyAxKSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkQ29ubmVjdGVkTm9kZShvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXBDb3ZlcihhcHAsIGZsb29yR3JpZCkge1xuICAgIGxldCBjb3ZlclBvaW50cyA9IFtdO1xuICAgIGNvbnN0IGNvdmVyRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ2NvdmVyJyk7XG4gICAgZm9yIChjb25zdCBjb3ZlckVudGl0eSBvZiBjb3ZlckVudGl0aWVzKSB7XG4gICAgICAgIGNvdmVyUG9pbnRzID0gY292ZXJQb2ludHMuY29uY2F0KGNyZWF0ZUNvdmVyUG9pbnRGcm9tQm94KGNvdmVyRW50aXR5LCBmbG9vckdyaWQpKTtcbiAgICAgICAgY292ZXJFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHJldHVybiBjb3ZlclBvaW50cztcblxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb3ZlclBvaW50RnJvbUJveChib3gsIGZsb29yR3JpZCkge1xuICAgIGNvbnN0IGNvdmVyUG9pbnRzID0gW107XG4gICAgY29uc3QgYm94UG9zID0gYm94LmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm94U2NhbGUgPSBib3guZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IHkgPSBNYXRoLnJvdW5kKGJveFBvcy55IC0gKGJveFNjYWxlLnkgKiAwLjUpKTtcblxuICAgIGNvbnN0IGNvcm5lclggPSBNYXRoLnJvdW5kKGJveFBvcy54IC0gKGJveFNjYWxlLnggKiAwLjUpKTtcbiAgICBjb25zdCBjb3JuZXJaID0gTWF0aC5yb3VuZChib3hQb3MueiAtIChib3hTY2FsZS56ICogMC41KSk7XG5cbiAgICBmb3IgKGxldCB4ID0gY29ybmVyWDsgeCA8IGNvcm5lclggKyBib3hTY2FsZS54OyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeiA9IGNvcm5lclo7IHogPCBjb3JuZXJaICsgYm94U2NhbGUuejsgeisrKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlclBvaW50ID0gbmV3IHBjLlZlYzMoeCwgeSwgeik7XG4gICAgICAgICAgICBjb3ZlclBvaW50cy5wdXNoKGNvdmVyUG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdOb2RlSW5kZXggPSBmbG9vckdyaWQuZmluZEluZGV4KChub2RlKSA9PiBub2RlLmVxdWFsc1BvaW50KHgsIHksIHopKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ05vZGVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZE5vZGVzID0gZmxvb3JHcmlkLnNwbGljZShtYXRjaGluZ05vZGVJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbGV0ZWROb2RlIG9mIGRlbGV0ZWROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZGVsZXRlZE5vZGUuY29ubmVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkTm9kZShkZWxldGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdmVyUG9pbnRzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbHMoYXBwKSB7XG4gICAgY29uc3QgcG9ydGFscyA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBwb3J0YWxFbnRpdGllcyA9IGFwcC5yb290LmZpbmRCeVRhZygncG9ydGFsJyk7XG4gICAgZm9yIChjb25zdCBwb3J0YWxFbnRpdHkgb2YgcG9ydGFsRW50aXRpZXMpIHtcbiAgICAgICAgY29uc3QgcG9ydGFsQ29tcG9uZW50ID0gcG9ydGFsRW50aXR5LnNjcmlwdFsnUG9ydGFsQ29tcG9uZW50J107XG4gICAgICAgIGNvbnN0IHBvcnRhbElkID0gcG9ydGFsQ29tcG9uZW50LnBvcnRhbElkO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uU2NlbmU7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uUG9ydGFsID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uUG9ydGFsO1xuICAgICAgICBjb25zdCBzdGFuZGluZ1BvaW50ID0gcG9ydGFsQ29tcG9uZW50LnN0YW5kaW5nUG9pbnQuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgaGl0Ym94UG9pbnQgPSBwb3J0YWxDb21wb25lbnQuaGl0Ym94LmdldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgcG9ydGFsID0ge1xuICAgICAgICAgICAgcG9ydGFsSWQ6IHBvcnRhbElkLFxuICAgICAgICAgICAgZGVzdGluYXRpb25TY2VuZTogZGVzdGluYXRpb25TY2VuZSxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uUG9ydGFsOiBkZXN0aW5hdGlvblBvcnRhbCxcbiAgICAgICAgICAgIHN0YW5kaW5nUG9pbnQ6IHN0YW5kaW5nUG9pbnQsXG4gICAgICAgICAgICBoaXRib3hQb2ludDogaGl0Ym94UG9pbnRcbiAgICAgICAgfVxuXG4gICAgICAgIHBvcnRhbHMuc2V0KHBvcnRhbElkLCBwb3J0YWwpO1xuICAgIH1cblxuICAgIHJldHVybiBwb3J0YWxzO1xuXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdheXBvaW50c01hcChmbG9vckdyaWQpIHtcbiAgICBjb25zdCB3YXlwb2ludHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGZsb29yTm9kZSBvZiBmbG9vckdyaWQpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGlhZ29uYWxzIGludGVyc2VjdCB3YWxsc1xuXG4gICAgICAgIGlmIChpc1dheXBvaW50KGZsb29yTm9kZSwgZmxvb3JHcmlkKSkge1xuICAgICAgICAgICAgd2F5cG9pbnRzLnB1c2gobmV3IE5hdmlnYXRpb25Ob2RlKGZsb29yTm9kZS54LCBmbG9vck5vZGUueSwgZmxvb3JOb2RlLnopKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qgd2F5cG9pbnQgb2Ygd2F5cG9pbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3RoZXJXYXlwb2ludCBvZiB3YXlwb2ludHMpIHtcbiAgICAgICAgICAgIGlmICghd2F5cG9pbnQuZXF1YWxzKG90aGVyV2F5cG9pbnQpIHx8ICFvdGhlcldheXBvaW50LmlzQ29ubmVjdGVkKHdheXBvaW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBBc3Rhci5jYWxjdWxhdGVCcmVzZW5oYW1MaW5lKHdheXBvaW50LngsIHdheXBvaW50LnosIG90aGVyV2F5cG9pbnQueCwgb3RoZXJXYXlwb2ludC56KTtcbiAgICAgICAgICAgICAgICBpZiAoQXN0YXIuY2hlY2tWYWxpZExpbmUobGluZSwgZmxvb3JHcmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXlwb2ludC5hZGRDb25uZWN0ZWROb2RlKG90aGVyV2F5cG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBvdGhlcldheXBvaW50LmFkZENvbm5lY3RlZE5vZGUod2F5cG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB3YXlwb2ludHM7XG59XG5cbmZ1bmN0aW9uIGlzV2F5cG9pbnQoZmxvb3JOb2RlLCBmbG9vck1hcCkge1xuICAgIC8vQ2hlY2sgbndcbiAgICBjb25zdCBub3J0aHdlc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCAtIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IG5vcnRoID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLngsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiAtIDEpO1xuICAgIGNvbnN0IG5vcnRoZWFzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54ICsgMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56IC0gMSk7XG4gICAgY29uc3QgZWFzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54ICsgMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KTtcbiAgICBjb25zdCBzb3V0aGVhc3QgPSBuZXcgcGMuVmVjMyhmbG9vck5vZGUueCArIDEsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHNvdXRoID0gbmV3IHBjLlZlYzMoZmxvb3JOb2RlLngsIGZsb29yTm9kZS55LCBmbG9vck5vZGUueiArIDEpO1xuICAgIGNvbnN0IHNvdXRod2VzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54IC0gMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56ICsgMSk7XG4gICAgY29uc3Qgd2VzdCA9IG5ldyBwYy5WZWMzKGZsb29yTm9kZS54IC0gMSwgZmxvb3JOb2RlLnksIGZsb29yTm9kZS56KTtcblxuICAgIC8vIG5vcnRod2VzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKG5vcnRod2VzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKG5vcnRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMod2VzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vcnRoZWFzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKG5vcnRoZWFzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKG5vcnRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZWFzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNvdXRoZWFzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKHNvdXRoZWFzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHNvdXRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoZWFzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNvdXRod2VzdFxuICAgIGlmICghZmxvb3JNYXAuc29tZShuID0+IG4uZXF1YWxzKHNvdXRod2VzdCkpKSB7XG4gICAgICAgIGlmIChmbG9vck5vZGUuY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHNvdXRoKSlcbiAgICAgICAgICAgICYmIGZsb29yTm9kZS5jb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMod2VzdCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cblxuZXhwb3J0IGNsYXNzIFdlYXBvbnNQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJXZWFwb25zUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihXZWFwb25zUHJveHkuTkFNRSwgZGF0YSk7XG4gICAgfVxuXG4gICAgZ2V0RGFtYWdlKHdlYXBvbk5hbWUsIGRhbWFnZVRpZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeUtleSBpbiB0aGlzLnZvKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52bywgY2F0ZWdvcnlLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnZvW2NhdGVnb3J5S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChjYXRlZ29yeSwgd2VhcG9uTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5W3dlYXBvbk5hbWVdLmRhbWFnZVtNYXRoLm1pbihkYW1hZ2VUaWVyIC0gMSwgNildO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgd2VhcG9uOjogJHt3ZWFwb25OYW1lfWApO1xuICAgIH1cblxuICAgIGdldFdlYXBvbkNhdGVnb3J5KHdlYXBvbk5hbWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeUtleSBpbiB0aGlzLnZvKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52bywgY2F0ZWdvcnlLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnZvW2NhdGVnb3J5S2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIHdlYXBvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeUtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjYXRlZ29yeSBmb3Igd2VhcG9uOjogJHt3ZWFwb25OYW1lfWApO1xuXG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgU3RvcnlWTyB9ID0gcmVxdWlyZSgnLi9TdG9yeVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIFN0b3J5UHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiU3RvcnlQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICAgICAgY29uc3Qgc3RvcnlUcnVuayA9IGFwcC5hc3NldHMuZ2V0KDQwNTI5OTIwKS5yZXNvdXJjZTtcbiAgICAgICAgY29uc3Qgc3RvcnlUcmVlcyA9IHN0b3J5VHJ1bmsudHJlZXM7XG4gICAgICAgIGNvbnN0IHN0b3J5VHJlZU1hcCA9IG5ldyBNYXAoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHRyZWVLZXkgaW4gc3RvcnlUcmVlcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0b3J5VHJlZXMsIHRyZWVLZXkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcnlUcmVlQXNzZXRJZCA9IHN0b3J5VHJlZXNbdHJlZUtleV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcnlUcmVlID0gYXBwLmFzc2V0cy5nZXQoc3RvcnlUcmVlQXNzZXRJZCkucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICBzdG9yeVRyZWVNYXAuc2V0KHRyZWVLZXksIHN0b3J5VHJlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihTdG9yeVByb3h5Lk5BTUUsIHN0b3J5VHJlZU1hcCk7XG5cbiAgICAgICAgLy8gUHJvcGVydGllc1xuICAgICAgICB0aGlzLmN1cnJlbnRUcmVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb25kaXRpb25zID0gW107XG4gICAgfVxuXG4gICAgZ2V0VHJlZSh0cmVlSWQpIHtcbiAgICAgICAgaWYgKHRoaXMudm8uaGFzKHRyZWVJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZvLmdldCh0cmVlSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE5vZGUodHJlZSwgbm9kZUlkKSB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gdHJlZS5ub2RlcztcbiAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGVzLCBub2RlSWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZXNbbm9kZUlkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdGVwKG5vZGUsIHN0ZXBJbmRleCkge1xuICAgICAgICBjb25zdCBzdGVwcyA9IG5vZGUuc3RlcHM7XG4gICAgICAgIGlmIChzdGVwSW5kZXggPCBzdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwc1tzdGVwSW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdvVG9Ob2RlKG5vZGVJZCkge1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gbm9kZUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSAwO1xuICAgIH1cblxuICAgIHN0YXJ0RGlhbG9ndWVUcmVlKHRyZWVJZCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUcmVlID0gdHJlZUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gXCJlbnRyeVwiO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwSW5kZXggPSAwO1xuXG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmdldFRyZWUodGhpcy5jdXJyZW50VHJlZSk7XG4gICAgICAgIGlmICghdHJlZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYENhbm5vdCBzdGFydCBkaWFsb2d1ZTogVHJlZSAke3RoaXMuY3VycmVudFRyZWV9IG5vdCBmb3VuZGApO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmdldE5vZGUodHJlZSwgdGhpcy5jdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBDYW5ub3Qgc3RhcnQgZGlhbG9ndWU6IG5vIFwiZW50cnlcIiBub2RlIGRlZmluZWQgb24gJHt0cmVlSWR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50Tm9kZVN0ZXAoKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmdldFRyZWUodGhpcy5jdXJyZW50VHJlZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gdGhpcy5nZXROb2RlKHRyZWUsIHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgICBjb25zdCB2YWxpZFN0ZXAgPSB0aGlzLmdldFZhbGlkU3RlcChjdXJyZW50Tm9kZSwgdGhpcy5jdXJyZW50U3RlcEluZGV4KTtcbiAgICAgICAgaWYgKHZhbGlkU3RlcCAmJiB2YWxpZFN0ZXAub25jZSkge1xuICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0aGlzLmN1cnJlbnRUcmVlLCB0aGlzLmN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5hZGRDb25kaXRpb24ob25jZUNvbmRpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkU3RlcDtcbiAgICB9XG5cblxuICAgIGNvbnRpbnVlQ3VycmVudE5vZGVTdGVwKCkge1xuICAgICAgICBjb25zdCB0cmVlID0gdGhpcy5nZXRUcmVlKHRoaXMuY3VycmVudFRyZWUpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Tm9kZSh0cmVlLCB0aGlzLmN1cnJlbnROb2RlKVxuICAgICAgICAvLyBpbmNyZW1lbnQgc3RlcEluZGV4XG4gICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCsrO1xuXG4gICAgICAgIGNvbnN0IHZhbGlkU3RlcCA9IHRoaXMuZ2V0VmFsaWRTdGVwKGN1cnJlbnROb2RlLCB0aGlzLmN1cnJlbnRTdGVwSW5kZXgpO1xuICAgICAgICBpZiAodmFsaWRTdGVwICYmIHZhbGlkU3RlcC5vbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBvbmNlQ29uZGl0aW9uID0gdGhpcy5nZXRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRoaXMuY3VycmVudFRyZWUsIHRoaXMuY3VycmVudE5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgICAgICB0aGlzLmFkZENvbmRpdGlvbihvbmNlQ29uZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWRTdGVwO1xuICAgIH1cblxuICAgIGdldFZhbGlkU3RlcChub2RlLCBzdGVwSW5kZXgpIHtcbiAgICAgICAgbGV0IG5leHRWYWxpZFN0ZXAgPSB0aGlzLmdldFN0ZXAobm9kZSwgc3RlcEluZGV4KTtcblxuXG4gICAgICAgIGlmIChuZXh0VmFsaWRTdGVwKSB7XG4gICAgICAgICAgICBsZXQgdGVzdENvbmRpdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGlmIChuZXh0VmFsaWRTdGVwLmNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0ZXN0Q29uZGl0aW9ucyA9IHRlc3RDb25kaXRpb25zLmNvbmNhdChuZXh0VmFsaWRTdGVwLmNvbmRpdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV4dFZhbGlkU3RlcC5vbmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb25jZUNvbmRpdGlvbiA9IHRoaXMuZ2V0SW52ZXJ0ZWRDb25kaXRpb25TdHJpbmdGb3JTdGVwKHRoaXMuY3VycmVudFRyZWUsIHRoaXMuY3VycmVudE5vZGUsIHN0ZXBJbmRleCk7XG4gICAgICAgICAgICAgICAgdGVzdENvbmRpdGlvbnMgPSB0ZXN0Q29uZGl0aW9ucy5jb25jYXQob25jZUNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rlc3QgdmFsaWQgc3RlcCcpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlc3RDb25kaXRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudGVzdENvbmRpdGlvbnModGVzdENvbmRpdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRWYWxpZFN0ZXA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0ZXBJbmRleCA9IHN0ZXBJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsaWRTdGVwKG5vZGUsIHRoaXMuY3VycmVudFN0ZXBJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0VmFsaWRTdGVwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q29uZGl0aW9uU3RyaW5nRm9yU3RlcCh0cmVlSWQsIG5vZGVJZCwgc3RlcEluZGV4KSB7XG4gICAgICAgIHJldHVybiBgJHt0cmVlSWR9JHtub2RlSWR9JHtzdGVwSW5kZXh9YDtcbiAgICB9XG5cbiAgICBnZXRJbnZlcnRlZENvbmRpdGlvblN0cmluZ0ZvclN0ZXAodHJlZUlkLCBub2RlSWQsIHN0ZXBJbmRleCkge1xuICAgICAgICByZXR1cm4gYCEke3RyZWVJZH0ke25vZGVJZH0ke3N0ZXBJbmRleH1gO1xuICAgIH1cblxuICAgIHNlbGVjdENob2ljZShjaG9pY2VJbmRleCkge1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMuZ2V0Q3VycmVudE5vZGVTdGVwKCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2hvaWNlID0gY3VycmVudE5vZGUuY2hvaWNlc1tjaG9pY2VJbmRleF07XG4gICAgICAgIHJldHVybiBzZWxlY3RlZENob2ljZTtcbiAgICB9XG5cbiAgICBhZGRDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmRpdGlvbnMucHVzaChjb25kaXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY3VycmVudENvbmRpdGlvbnMuaW5kZXhPZihjb25kaXRpb24pO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZGl0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGVzdENvbmRpdGlvbnMoY29uZGl0aW9ucykge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgZm9yIChjb25zdCBjb25kaXRpb24gb2YgY29uZGl0aW9ucykge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIG9wZXJhdG9yc1xuICAgICAgICAgICAgY29uc3Qgb3JEZWxpbWl0ZXJlZCA9IFwifHxcIjtcbiAgICAgICAgICAgIGNvbnN0IG9yQ29uZGl0aW9ucyA9IGNvbmRpdGlvbi5zcGxpdChvckRlbGltaXRlcmVkKTtcblxuICAgICAgICAgICAgaWYgKG9yQ29uZGl0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBvbmUgbmVlZHMgdG8gYmUgdHJ1ZVxuICAgICAgICAgICAgICAgIGxldCBvclN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbmFsQ29uZGl0aW9uIG9mIG9yQ29uZGl0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0NvbmRpdGlvbihvcHRpb25hbENvbmRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yU3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IG9yU3VjY2VzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0aGlzLmNoZWNrQ29uZGl0aW9uKGNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfVxuXG4gICAgY2hlY2tDb25kaXRpb24oY29uZGl0aW9uKSB7XG4gICAgICAgIGxldCBzdWNjZXNzID0gdHJ1ZTtcblxuICAgICAgICAvLyBkZXRlcm1pbmUgaWYgcG9zaXRpdmUgb2YgbmVnYXRpdmVcbiAgICAgICAgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiIVwiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2Yoc3RyaXBwZWRTdHJpbmcpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZGl0aW9uLnN0YXJ0c1dpdGgoXCIrXCIpKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpcHBlZFN0cmluZyA9IGNvbmRpdGlvbi5zbGljZSgxLCBjb25kaXRpb24ubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29uZGl0aW9uKHN0cmlwcGVkU3RyaW5nKTtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmRpdGlvbi5zdGFydHNXaXRoKFwiLVwiKSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaXBwZWRTdHJpbmcgPSBjb25kaXRpb24uc2xpY2UoMSwgY29uZGl0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNvbmRpdGlvbihzdHJpcHBlZFN0cmluZyk7XG4gICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb25kaXRpb25zLmluZGV4T2YoY29uZGl0aW9uKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEludmVudG9yeVZPIH0gPSByZXF1aXJlKCcuL0ludmVudG9yeVZPJyk7XG5cblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkludmVudG9yeVByb3h5XCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihJbnZlbnRvcnlQcm94eS5OQU1FLCBuZXcgSW52ZW50b3J5Vk8oKSk7XG4gICAgfVxuXG4gICAgZ2V0IGludmVudG9yeUl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5pbnZlbnRvcnlJdGVtcztcbiAgICB9XG5cbiAgICBzZXQgaW52ZW50b3J5SXRlbXModmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5pbnZlbnRvcnlJdGVtcyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBlcXVpcG1lbnRTbG90cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uZXF1aXBtZW50U2xvdHM7XG4gICAgfVxuXG5cbiAgICByZW9yZGVySW52ZW50b3J5SXRlbShvcmlnaW5hbEluZGV4LCBzbG90SW5kZXgpIHtcbiAgICAgICAgLy8gRGVsZXRlIHRoZSBpdGVtIGZyb20gaXQncyBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSXRlbSA9IHRoaXMuaW52ZW50b3J5SXRlbXMuc3BsaWNlKG9yaWdpbmFsSW5kZXgsIDEpO1xuICAgICAgICBsZXQgcnVubmluZ0luZGV4VG90YWwgPSAwO1xuICAgICAgICBsZXQgbmV3SW5kZXggPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW52ZW50b3J5SXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmludmVudG9yeUl0ZW1zW2ldO1xuXG5cbiAgICAgICAgICAgIGlmIChzbG90SW5kZXggPj0gcnVubmluZ0luZGV4VG90YWwgJiYgc2xvdEluZGV4IDwgcnVubmluZ0luZGV4VG90YWwgKyBpdGVtLnNpemUpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJ1bm5pbmdJbmRleFRvdGFsICs9IGl0ZW0uc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzbG90SW5kZXggPj0gcnVubmluZ0luZGV4VG90YWwpIHtcbiAgICAgICAgICAgIG5ld0luZGV4ID0gdGhpcy5pbnZlbnRvcnlJdGVtcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHN1cmUgYSB2YWxpZCBhcnJheSBpcyBwcm92aWRlZFxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMuaW52ZW50b3J5SXRlbXMpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgYXJyYXknKTtcbiAgICAgICAgfVxuXG5cblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmUncyBhbiBpdGVtIHRvIG1vdmVcbiAgICAgICAgaWYgKCFvcmlnaW5hbEl0ZW0ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGl0ZW0gaW4gdGhlIGFycmF5IGF0IGluZGV4ICcgKyBvcmlnaW5hbEluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmUgdGhlIGl0ZW0gdG8gaXRzIG5ldyBwb3NpdGlvblxuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zLnNwbGljZShuZXdJbmRleCwgMCwgb3JpZ2luYWxJdGVtWzBdKTtcbiAgICB9XG5cbiAgICBhdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3Qoc2xvdEtleSwgaXRlbURhdGEpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJdGVtID0gdGhpcy5lcXVpcG1lbnRTbG90cy5nZXQoc2xvdEtleSk7XG4gICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMuc2V0KHNsb3RLZXksIGl0ZW1EYXRhKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRJbnZlbnRvcnlJdGVtKGludmVudG9yeUl0ZW1EYXRhKSB7XG4gICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMucHVzaChpbnZlbnRvcnlJdGVtRGF0YSk7XG4gICAgfVxuXG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5cbmV4cG9ydCBjbGFzcyBJdGVtc1Byb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkl0ZW1zUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICBzdXBlcihJdGVtc1Byb3h5Lk5BTUUsIGRhdGEpO1xuICAgIH1cblxuICAgIGdldEl0ZW1EYXRhKGl0ZW1JZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5S2V5IGluIHRoaXMudm8pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnZvLCBjYXRlZ29yeUtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMudm9bY2F0ZWdvcnlLZXldO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2F0ZWdvcnksIGl0ZW1JZCkpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW1JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNhdGVnb3J5S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy52b1tjYXRlZ29yeUtleV1baXRlbUlkXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZpbmQgZGF0YSBmb3IgaXRlbTo6ICR7aXRlbUlkfWApO1xuXG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgSXRlbXNQcm94eSB9IGZyb20gJy4uL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0dXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lKSB7XG4gICAgLy8gUmVnaXN0ZXIgYXBwLWxldmVsIG1lZGlhdG9ycy9wcm94aWVzL2NvbW1hbmRzIGhlcmVcblxuICAgIC8vIENyZWF0ZSBnYW1lIHN0YXRlIHByb3h5XG4gICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBHYW1lU3RhdGVQcm94eSgpKTtcblxuICAgIC8vIExvYWQgd2VhcG9ucyBkYXRhIGFuZCBjcmVhdGUgcHJveHlcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGlmIChhcHApIHtcbiAgICAgICAgY29uc3Qgd2VhcG9uc0RhdGEgPSBhcHAuYXNzZXRzLmdldCg0MDQxNTYzMSkucmVzb3VyY2U7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgV2VhcG9uc1Byb3h5KHdlYXBvbnNEYXRhKSk7XG4gICAgICAgIGNvbnN0IGl0ZW1zRGF0YSA9IGFwcC5hc3NldHMuZ2V0KDQwODE0MDI3KS5yZXNvdXJjZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5yZWdpc3RlclByb3h5KG5ldyBJdGVtc1Byb3h5KGl0ZW1zRGF0YSkpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnJlZ2lzdGVyUHJveHkobmV3IFN0b3J5UHJveHkoKSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkucmVnaXN0ZXJQcm94eShuZXcgSW52ZW50b3J5UHJveHkoKSk7XG5cbiAgICAgICAgLy8gQWRkIGRlZmF1bHQgZXF1aXBtZW50XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX0lURU1fVE9fSU5WRU5UT1JZLCBcInN3b3JkXCIpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgXCJmdXNpbFwiKTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5BRERfSVRFTV9UT19JTlZFTlRPUlksIFwiY2hhaW5tYWlsXCIpO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU2NlbmVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgYXBwID0gcGMuQXBwbGljYXRpb24uZ2V0QXBwbGljYXRpb24oKTtcbiAgICBjb25zdCBzY2VuZU5hbWUgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1sxXTtcbiAgICBjb25zb2xlLmxvZyhgQ2hhbmdpbmcgc2NlbmUgJHtzY2VuZU5hbWV9YCk7XG5cbiAgICAvLyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgcm9vdCBvYmplY3RcbiAgICBjb25zdCBvbGRIaWVyYXJjaHkgPSBhcHAucm9vdC5maW5kQnlOYW1lKCdSb290Jyk7XG5cbiAgICAvLyBHZXQgdGhlIHBhdGggdG8gdGhlIHNjZW5lXG4gICAgY29uc3Qgc2NlbmUgPSBhcHAuc2NlbmVzLmZpbmQoc2NlbmVOYW1lKTtcblxuICAgIC8vIExvYWQgdGhlIHNjZW5lcyBlbnRpdHkgaGllcmFyY2h5XG4gICAgYXBwLnNjZW5lcy5sb2FkU2NlbmVIaWVyYXJjaHkoc2NlbmUudXJsLCBmdW5jdGlvbiAoZXJyLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIGlmIChvbGRIaWVyYXJjaHkpIHtcbiAgICAgICAgICAgICAgICBvbGRIaWVyYXJjaHkuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFLCBzY2VuZU5hbWUpO1xuICAgICAgICBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlBBUlNFX0dBTUVNQVAsIHNjZW5lTmFtZSk7XG4gICAgICAgIEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSkuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBwb3J0YWxJZCk7XG5cbiAgICB9KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGFycmF5Lmxlbmd0aFxuICAgIGxldCB0ZW1wb3JhcnlWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcmFuZG9tSW5kZXggPSAtMTtcblxuICAgIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxlLi4uXG4gICAgd2hpbGUgKDAgIT09IGN1cnJlbnRJbmRleCkge1xuXG4gICAgICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudC4uLlxuICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XG4gICAgICAgIGN1cnJlbnRJbmRleCAtPSAxO1xuXG4gICAgICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICAgICAgdGVtcG9yYXJ5VmFsdWUgPSBhcnJheVtjdXJyZW50SW5kZXhdO1xuICAgICAgICBhcnJheVtjdXJyZW50SW5kZXhdID0gYXJyYXlbcmFuZG9tSW5kZXhdO1xuICAgICAgICBhcnJheVtyYW5kb21JbmRleF0gPSB0ZW1wb3JhcnlWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBzaHVmZmxlQXJyYXkgfSBmcm9tICcuLi8uLi91dGlscy9TaHVmZmxlQXJyYXknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBDb21iYXRWTyB9ID0gcmVxdWlyZSgnLi9Db21iYXRWTycpO1xuXG5cbmV4cG9ydCBjbGFzcyBDb21iYXRQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJDb21iYXRQcm94eVwiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNpcGFudHMsIHRlYW1zKSB7XG4gICAgICAgIHN1cGVyKENvbWJhdFByb3h5Lk5BTUUsIG5ldyBDb21iYXRWTyhwYXJ0aWNpcGFudHMsIHRlYW1zKSk7XG4gICAgfVxuXG4gICAgb25SZWdpc3RlcigpIHtcbiAgICAgICAgY29uc3QgcGFydGljaXBhbnRzID0gdGhpcy52by5wYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucGFydGljaXBhbnRQcm94aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFydGljaXBhbnRQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5zZXQocGFydGljaXBhbnQsIHBhcnRpY2lwYW50UHJveHkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFR1cm4oKSB7XG4gICAgICAgIGNvbnN0IHJvdW5kSW5pdGlhdGl2ZSA9IHRoaXMudm8ucm91bmRJbml0aWF0aXZlO1xuXG4gICAgICAgIGlmIChyb3VuZEluaXRpYXRpdmUgJiYgcm91bmRJbml0aWF0aXZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUdXJuSWQgPSByb3VuZEluaXRpYXRpdmUuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMudm8uYWN0aXZlUGFydGljaXBhbnQgPSBuZXh0VHVybklkO1xuXG4gICAgICAgICAgICBpZiAobmV4dFR1cm5JZCAhPT0gJ2VuZF9yb3VuZCcpIHtcbiAgICAgICAgICAgICAgICAvLyBOZXh0IFR1cm5cbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBUdXJuICR7bmV4dFR1cm5JZH1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMucGFydGljaXBhbnRQcm94aWVzLmdldChuZXh0VHVybklkKTtcbiAgICAgICAgICAgICAgICBwcm94eS5yZXNldENvbWJhdFR1cm5TdGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3h5LmlzTlBDKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCwgbmV4dFR1cm5JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQgcm91bmRcbiAgICAgICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBFbmQgcm91bmRgKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfUk9VTkQpO1xuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFJvdW5kKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnLy8vLy8vLy8vLy8vLy8vLy8nKTtcbiAgICAgICAgY29uc29sZS5sb2coJy8vICBOZXcgcm91bmQgIC8vJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcvLy8vLy8vLy8vLy8vLy8vLycpO1xuICAgICAgICBjb25zdCBpbml0aWF0aXZlcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtjaGFyYWN0ZXJJZCwgcHJveHldIG9mIHRoaXMucGFydGljaXBhbnRQcm94aWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgdm8gPSBwcm94eS52bztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm8uaW5pdGlhdGl2ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhdGl2ZXMucHVzaChjaGFyYWN0ZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5pdGlhdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBFdmVyeW9uZSBpcyBvdXQgb2YgdGhlIGNvbWJhdCBzb21laG93LCBwcm9iYWJseSBkZWFkXG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBlbmQgb2Ygcm91bmQgdG9rZW5cbiAgICAgICAgaW5pdGlhdGl2ZXMucHVzaCgnZW5kX3JvdW5kJyk7XG5cbiAgICAgICAgbGV0IHNodWZmbGVkSW5pdGlhdGl2ZSA9IHNodWZmbGVBcnJheShpbml0aWF0aXZlcyk7XG4gICAgICAgIC8vIGVuc3VyZSByb3VuZCBkb2Vzbid0IHN0YXJ0IHdpdGggXCJlbmRfcm91bmRcIlxuICAgICAgICB3aGlsZSAoc2h1ZmZsZWRJbml0aWF0aXZlWzBdID09PSBcImVuZF9yb3VuZFwiKSB7XG4gICAgICAgICAgICBzaHVmZmxlZEluaXRpYXRpdmUgPSBzaHVmZmxlQXJyYXkoc2h1ZmZsZWRJbml0aWF0aXZlKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5yb3VuZEluaXRpYXRpdmUgPSBzaHVmZmxlZEluaXRpYXRpdmU7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRUdXJuQ2hhcmFjdGVySWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm5leHRUdXJuQ2hhcmFjdGVySWQ7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGl2ZVBhcnRpY2lwYW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudDtcbiAgICB9XG5cbiAgICBzZXQgYWN0aXZlUGFydGljaXBhbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hY3RpdmVQYXJ0aWNpcGFudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnBhcnRpY2lwYW50cztcbiAgICB9XG5cbiAgICBnZXQgdGVhbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnRlYW1zO1xuICAgIH1cblxuICAgIHJlbW92ZUNoYXJhY3RlckZyb21Db21iYXQoY2hhcmFjdGVySWQpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGZyb20gcGFydGljY2lwYW50c1xuICAgICAgICB0aGlzLnBhcnRpY2lwYW50UHJveGllcy5kZWxldGUoY2hhcmFjdGVySWQpO1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBpbml0aWF0aXZlXG4gICAgICAgIHRoaXMudm8ucm91bmRJbml0aWF0aXZlID0gdGhpcy52by5yb3VuZEluaXRpYXRpdmUuZmlsdGVyKGUgPT4gZSAhPT0gY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdGVhbV0gb2YgdGhpcy50ZWFtcy5lbnRyaWVzKCkpIHtcblxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVySW5kZXggPSB0ZWFtLmluZGV4T2YoY2hhcmFjdGVySWQpO1xuICAgICAgICAgICAgaWYgKGNoYXJhY3RlckluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0ZWFtLnNwbGljZShjaGFyYWN0ZXJJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZWFtLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydENvbWJhdENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBpbnN0aWdhdGluZ0NoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiU3RhcnQgQ29tYmF0XCIpO1xuXG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCk7XG5cbiAgICBjb25zdCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBpbnN0aWdhdGluZ0NoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwic3BvdHRlZFwiLCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5KTtcblxuXG4gICAgLy8gU2V0dXAgdGhlIGNvbWJhdFxuICAgIGNvbnN0IHRlYW1zID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHBsYXllclRlYW0gPSBbJ3BsYXllciddO1xuICAgIHRlYW1zLnNldCgncGxheWVyX3RlYW0nLCBwbGF5ZXJUZWFtKTtcblxuICAgIGNvbnN0IG9wcG9zaW5nVGVhbSA9IFtpbnN0aWdhdGluZ0NoYXJhY3RlcklkXS5jb25jYXQoaW5zdGlnYXRpbmdDaGFyYWN0ZXJQcm94eS5jb21iYXRHcm91cCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBwb3MsIHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3M7XG4gICAgfSk7XG4gICAgdGVhbXMuc2V0KCdvcHBvc2luZ190ZWFtJywgb3Bwb3NpbmdUZWFtKTtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHBsYXllclRlYW0uY29uY2F0KG9wcG9zaW5nVGVhbSk7XG5cblxuICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcblxuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgcGFydGljaXBhbnRzKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfTU9WRU1FTlQgKyBwYXJ0aWNpcGFudCk7XG4gICAgICAgIGlmIChwYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgcGFydGljaXBhbnQsIHBsYXllclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHBhcnRpY2lwYW50LCBpbnN0aWdhdGluZ0NoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgY29tYmF0UHJveHkgPSBuZXcgQ29tYmF0UHJveHkocGFydGljaXBhbnRzLCB0ZWFtcyk7XG4gICAgZmFjYWRlLnJlZ2lzdGVyUHJveHkoY29tYmF0UHJveHkpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCk7XG4gICAgfSwgMjAwMCk7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5leHRDb21iYXRUdXJuQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgaWYgKGdhbWVTdGF0ZS52by5nYW1lcGxheU1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb21iYXRQcm94eS5uZXh0VHVybigpO1xuICAgIH1cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Q29tYmF0Um91bmRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG5cbiAgICBpZiAoZ2FtZVN0YXRlLnZvLmdhbWVwbGF5TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbWJhdFByb3h5Lm5leHRSb3VuZCgpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkVYVF9DT01CQVRfVFVSTiwgY29tYmF0UHJveHkudm8ubmV4dFR1cm5DaGFyYWN0ZXJJZCk7XG5cbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICAgICAgY29uc3QgY29tYmF0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShDb21iYXRQcm94eS5OQU1FKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9UVVJOLCBjb21iYXRQcm94eS5uZXh0VHVybkNoYXJhY3RlcklkKTtcbiAgICB9LCA1MDApO1xufVxuIiwiZXhwb3J0IGNsYXNzIEJlaGF2aW91clN0YXR1cyB7XG4gICAgc3RhdGljIGdldCBTVUNDRVNTKCkgeyByZXR1cm4gMCB9O1xuICAgIHN0YXRpYyBnZXQgRkFJTFVSRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IFJVTk5JTkcoKSB7IHJldHVybiAyIH07XG4gICAgc3RhdGljIGdldCBFUlJPUigpIHsgcmV0dXJuIDMgfTtcbn0iLCJpbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBjcmVhdGVVVUlEIH0gZnJvbSAnLi4vLi4vdXRpbHMvR1VJRCc7XG5cbmV4cG9ydCBjbGFzcyBCYXNlTm9kZSB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplKGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaWQgPSBjcmVhdGVVVUlEKCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBbXTtcbiAgICB9XG5cbiAgICBleGVjdXRlKHRpY2spIHtcbiAgICAgICAgLyogRU5URVIgKi9cbiAgICAgICAgdGhpcy5fZW50ZXIodGljayk7XG5cbiAgICAgICAgLyogT1BFTiAqL1xuICAgICAgICBpZiAoIXRpY2suYmxhY2tib2FyZC5nZXQoJ2lzT3BlbicsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29wZW4odGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBUSUNLICovXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuX3RpY2sodGljayk7XG5cbiAgICAgICAgLyogQ0xPU0UgKi9cbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gQmVoYXZpb3VyU3RhdHVzLlJVTk5JTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlKHRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogRVhJVCAqL1xuICAgICAgICB0aGlzLl9leGl0KHRpY2spO1xuXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuXG4gICAgX2VudGVyKHRpY2spIHtcbiAgICAgICAgdGljay5lbnRlck5vZGUodGhpcyk7XG4gICAgICAgIHRoaXMuZW50ZXIodGljayk7XG4gICAgfVxuXG4gICAgX29wZW4odGljaykge1xuICAgICAgICB0aWNrLm9wZW5Ob2RlKHRoaXMpO1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdpc09wZW4nLCB0cnVlLCB0aWNrLnRyZWUuaWQsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLm9wZW4odGljayk7XG4gICAgfVxuXG4gICAgX3RpY2sodGljaykge1xuICAgICAgICB0aWNrLnRpY2tOb2RlKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy50aWNrKHRpY2spO1xuICAgIH1cblxuICAgIF9jbG9zZSh0aWNrKSB7XG4gICAgICAgIHRpY2suY2xvc2VOb2RlKHRoaXMpO1xuICAgICAgICB0aWNrLmJsYWNrYm9hcmQuc2V0KCdpc09wZW4nLCBmYWxzZSwgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5jbG9zZSh0aWNrKTtcbiAgICB9XG5cbiAgICBfZXhpdCh0aWNrKSB7XG4gICAgICAgIHRpY2suZXhpdE5vZGUodGhpcyk7XG4gICAgICAgIHRoaXMuZXhpdCh0aWNrKTtcbiAgICB9XG5cbiAgICAvLyBPdmVyaWRlIHRoZXNlXG4gICAgZW50ZXIodGljaykgeyB9XG4gICAgb3Blbih0aWNrKSB7IH1cbiAgICB0aWNrKHRpY2spIHsgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5FUlJPUiB9XG4gICAgY2xvc2UodGljaykgeyB9XG4gICAgZXhpdCh0aWNrKSB7IH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWFzdGVyTm9kZSBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZE5vZGUgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGROb2RlLmV4ZWN1dGUodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBCbGFja2JvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy5iYXNlTWVtb3J5ID0ge307IC8vIHVzZWQgdG8gc3RvcmUgZ2xvYmFsIGluZm9ybWF0aW9uXG4gICAgICAgIHRoaXMudHJlZU1lbW9yeSA9IHt9OyAvLyB1c2VkIHRvIHN0b3JlIHRyZWUgYW5kIG5vZGUgaW5mb3JtYXRpb25cbiAgICB9XG5cbiAgICBnZXRUcmVlTWVtb3J5KHRyZWVTY29wZSkge1xuICAgICAgICBpZiAoIXRoaXMudHJlZU1lbW9yeVt0cmVlU2NvcGVdKSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXSA9IHtcbiAgICAgICAgICAgICAgICBub2RlTWVtb3J5OiB7fSxcbiAgICAgICAgICAgICAgICBvcGVuTm9kZXM6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyZWVNZW1vcnlbdHJlZVNjb3BlXTtcbiAgICB9XG5cbiAgICBnZXROb2RlTWVtb3J5KHRyZWVNZW1vcnksIG5vZGVTY29wZSkge1xuICAgICAgICBjb25zdCBtZW1vcnkgPSB0cmVlTWVtb3J5Wydub2RlTWVtb3J5J107XG4gICAgICAgIGlmICghbWVtb3J5Lmhhc093blByb3BlcnR5KG5vZGVTY29wZSkpIHtcbiAgICAgICAgICAgIG1lbW9yeVtub2RlU2NvcGVdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVtb3J5W25vZGVTY29wZV07XG4gICAgfVxuXG4gICAgZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIHZhciBtZW1vcnkgPSB0aGlzLmJhc2VNZW1vcnk7XG5cbiAgICAgICAgaWYgKHRyZWVTY29wZSkge1xuICAgICAgICAgICAgbWVtb3J5ID0gdGhpcy5nZXRUcmVlTWVtb3J5KHRyZWVTY29wZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBtZW1vcnkgPSB0aGlzLmdldE5vZGVNZW1vcnkobWVtb3J5LCBub2RlU2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lbW9yeTtcbiAgICB9O1xuXG4gICAgc2V0KGtleSwgdmFsdWUsIHRyZWVTY29wZSwgbm9kZVNjb3BlKSB7XG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMuZ2V0TWVtb3J5KHRyZWVTY29wZSwgbm9kZVNjb3BlKTtcbiAgICAgICAgbWVtb3J5W2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgZ2V0KGtleSwgdHJlZVNjb3BlLCBub2RlU2NvcGUpIHtcbiAgICAgICAgY29uc3QgbWVtb3J5ID0gdGhpcy5nZXRNZW1vcnkodHJlZVNjb3BlLCBub2RlU2NvcGUpO1xuICAgICAgICByZXR1cm4gbWVtb3J5W2tleV07XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBUaWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9wZW5Ob2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm5vZGVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZGVidWcgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZW50ZXJOb2RlKG5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlQ291bnQrKztcbiAgICAgICAgdGhpcy5vcGVuTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG5cbiAgICBvcGVuTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICB0aWNrTm9kZShub2RlKSB7XG5cbiAgICB9XG5cbiAgICBjbG9zZU5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLm9wZW5Ob2Rlcy5wb3AoKTtcbiAgICB9XG5cbiAgICBleGl0Tm9kZShub2RlKSB7XG5cbiAgICB9XG59IiwiaW1wb3J0IHsgVGljayB9IGZyb20gXCIuL1RpY2tcIjtcblxuZXhwb3J0IGNsYXNzIEJlaGF2aW91clRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGlzZShpZCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZShpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucm9vdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aWNrKHRhcmdldCwgYmxhY2tib2FyZCkge1xuICAgICAgICAvKiBDUkVBVEUgQSBUSUNLIE9CSkVDVCAqL1xuICAgICAgICBjb25zdCB0aWNrID0gbmV3IFRpY2soKTtcbiAgICAgICAgdGljay50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZCA9IGJsYWNrYm9hcmQ7XG4gICAgICAgIHRpY2sudHJlZSA9IHRoaXM7XG5cbiAgICAgICAgLyogVElDSyBOT0RFICovXG4gICAgICAgIHRoaXMucm9vdC5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgIC8qIENMT1NFIE5PREVTIEZST00gTEFTVCBUSUNLLCBJRiBORUVERUQgKi9cbiAgICAgICAgY29uc3QgbGFzdE9wZW5Ob2RlcyA9IGJsYWNrYm9hcmQuZ2V0KCdvcGVuTm9kZXMnLCB0aGlzLmlkKSB8fCBbXTtcbiAgICAgICAgY29uc3QgY3Vyck9wZW5Ob2RlcyA9IHRpY2sub3Blbk5vZGVzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIGRvZXMgbm90IGNsb3NlIGlmIGl0IGlzIHN0aWxsIG9wZW4gaW4gdGhpcyB0aWNrXG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4obGFzdE9wZW5Ob2Rlcy5sZW5ndGgsIGN1cnJPcGVuTm9kZXMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgaWYgKGxhc3RPcGVuTm9kZXNbaV0gIT09IGN1cnJPcGVuTm9kZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsb3NlIHRoZSBub2Rlc1xuICAgICAgICBmb3IgKGxldCBpID0gbGFzdE9wZW5Ob2Rlcy5sZW5ndGggLSAxOyBpID49IHN0YXJ0OyBpLS0pIHtcbiAgICAgICAgICAgIGxhc3RPcGVuTm9kZXNbaV0uY2xvc2UodGljayk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBQT1BVTEFURSBCTEFDS0JPQVJEICovXG4gICAgICAgIGJsYWNrYm9hcmQuc2V0KCdvcGVuTm9kZXMnLCBjdXJyT3Blbk5vZGVzLCB0aGlzLmlkKTtcbiAgICAgICAgYmxhY2tib2FyZC5zZXQoJ25vZGVDb3VudCcsIHRpY2subm9kZUNvdW50LCB0aGlzLmlkKTtcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCbGFja2JvYXJkIH0gZnJvbSAnLi4vY29yZS9CbGFja2JvYXJkJztcbmltcG9ydCB7IEJlaGF2aW91clRyZWUgfSBmcm9tICcuLi9jb3JlL0JlaGF2aW91clRyZWUnO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ29tbWFuZFRyZWUge1xuICAgIGNvbnN0cnVjdG9yKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSAnYmFzaWNNZWxlZVRyZWUnO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQgPSBuZXcgQmxhY2tib2FyZCgpO1xuICAgICAgICB0aGlzLnRyZWUgPSBuZXcgQmVoYXZpb3VyVHJlZShpZCk7XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXNlKCk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgLy8gT3ZlcnJpZGUgdG8gc2V0IHRyZWVcbiAgICB9XG5cbiAgICBydW5Db21tYW5kcyhmYWNhZGUsIGNoYXJhY3RlcklkKSB7XG4gICAgICAgIHRoaXMuYmxhY2tib2FyZC5zZXQoXCJmYWNhZGVcIiwgZmFjYWRlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmJsYWNrYm9hcmQuc2V0KFwiY2hhcmFjdGVySWRcIiwgY2hhcmFjdGVySWQsIHRoaXMudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMudHJlZS50aWNrKHRoaXMsIHRoaXMuYmxhY2tib2FyZCk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4vQmVoYXZpb3VyU3RhdHVzJztcblxuZXhwb3J0IGNsYXNzIFByaW9yaXR5IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGNoaWxkLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgU2V0UGxheWVyQXNUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3RhcmdldCcsICdwbGF5ZXInLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBNZWxlZUF0dGFja1RhcmdldCBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYXR0YWNrZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRlZmVuZGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlJFU09MVkVfQVRUQUNLLCBhdHRhY2tlcklkLCBkZWZlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBFbmRDb21iYXRUdXJuIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBIYXNNb3ZlbWVudFJlbWFpbmluZyBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH1cblxuXG4gICAgfVxufSIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc05leHRUb1BsYXllciBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckN1cnJlbnROb2RlID0gY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBcInBsYXllclwiKTtcbiAgICAgICAgY29uc3QgcGxheWVyTm9kZSA9IHBsYXllclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllck5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIGlzIGFscmVhZHkgYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMoY2hhcmFjdGVyQ3VycmVudE5vZGUpKTtcblxuICAgICAgICBpZiAoaXNBZGphY2VudCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4vQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi9CZWhhdmlvdXJTdGF0dXMnO1xuXG5leHBvcnQgY2xhc3MgTWVtU2VxdWVuY2UgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgb3Blbih0aWNrKSB7XG4gICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIDAsIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgfVxuXG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGljay5ibGFja2JvYXJkLmdldCgncnVubmluZ0NoaWxkJywgdGljay50cmVlLmlkLCB0aGlzLmlkKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gY2hpbGQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5jaGlsZHJlbltpXS5leGVjdXRlKHRpY2spO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IEJlaGF2aW91clN0YXR1cy5SVU5OSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2suYmxhY2tib2FyZC5zZXQoJ3J1bm5pbmdDaGlsZCcsIGksIHRpY2sudHJlZS5pZCwgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxuXG59IiwiXG5pbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uL0JlaGF2aW91clN0YXR1cyc7XG5leHBvcnQgY2xhc3MgSW52ZXJ0ZXIgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG5cbiAgICAgICAgLy8gcHJlc3VtZSBpbnZlcnRlciBoYXMgb25lIGNoaWxkXG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlblswXTtcblxuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkVSUk9SO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0YXR1cyA9IGNoaWxkLmV4ZWN1dGUodGljayk7XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUylcbiAgICAgICAgICAgIHN0YXR1cyA9IEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT0gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkUpXG4gICAgICAgICAgICBzdGF0dXMgPSBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgSXNUYXJnZXREZWFkIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0YXJnZXRJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ3RhcmdldCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IHBsYXllclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRJZCk7XG5cbiAgICAgICAgaWYgKHBsYXllclByb3h5LmlzRGVhZCkge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuICAgICAgICB9XG5cblxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgY2xhc3MgTW92ZVRvd2FyZHNUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCd0YXJnZXQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YXJnZXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0SWQpO1xuICAgICAgICBjb25zdCB0YXJnZXRDdXJyZW50Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldEN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgICAgICAvLyBDaGVjayB0aGVyZSBpcyBhIG5vZGUgdG8gbW92ZSB0byBcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQoY2hhcmFjdGVyQ3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJpbSBtb3ZlbWVudFxuICAgICAgICAgICAgICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhdGgubGVuZ3RoID4gdm8uYXZhaWxhYmxlTW92ZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyBjaGFyYWN0ZXJJZCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2UgdXAgbW92ZW1lbnQgcG9pbnRzXG4gICAgICAgIGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50ID0gMDtcblxuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKTtcbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBjbGFzcyBJc0RlYWQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcblxuICAgICAgICAvLyBmaW5kIGRlc2lyZWQgbW92ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCBwbGF5ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuXG4gICAgICAgIGlmIChwbGF5ZXJQcm94eS5pc0RlYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgfVxuXG5cbiAgICB9XG59IiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGNsYXNzIEhhc0FjdGlvbnNSZW1haW5pbmcgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgnY2hhcmFjdGVySWQnLCB0aWNrLnRyZWUuaWQsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcblxuICAgICAgICBpZiAoY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlQWN0aW9ucyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5GQUlMVVJFO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgY2xhc3MgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG5cbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcblxuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hc3Rlck5vZGUgfSBmcm9tICcuLi9jb3JlL01hc3Rlck5vZGUnO1xuaW1wb3J0IHsgQ2hhcmFjdGVyQ29tbWFuZFRyZWUgfSBmcm9tICcuL0NoYXJhY3RlckNvbW1hbmRUcmVlJztcbmltcG9ydCB7IFByaW9yaXR5IH0gZnJvbSAnLi4vY29yZS9Qcmlvcml0eSc7XG5pbXBvcnQgeyBTZXRQbGF5ZXJBc1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9TZXRQbGF5ZXJBc1RhcmdldCc7XG5pbXBvcnQgeyBNZWxlZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NZWxlZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBFbmRDb21iYXRUdXJuIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL0VuZENvbWJhdFR1cm4nO1xuaW1wb3J0IHsgSGFzTW92ZW1lbnRSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzTW92ZW1lbnRSZW1haW5pbmcnO1xuaW1wb3J0IHsgSXNOZXh0VG9QbGF5ZXIgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNOZXh0VG9QbGF5ZXInO1xuaW1wb3J0IHsgTWVtU2VxdWVuY2UgfSBmcm9tICcuLi9jb3JlL01lbVNlcXVlbmNlJztcbmltcG9ydCB7IEludmVydGVyIH0gZnJvbSAnLi4vY29yZS9kZWNvcmF0b3JzL0ludmVydGVyJztcbmltcG9ydCB7IElzVGFyZ2V0RGVhZCB9IGZyb20gJy4uL2JlaGF2aW91cnMvY29uZGl0aW9ucy9Jc1RhcmdldERlYWQnO1xuaW1wb3J0IHsgTW92ZVRvd2FyZHNUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvTW92ZVRvd2FyZHNUYXJnZXQnO1xuaW1wb3J0IHsgSXNEZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzRGVhZCc7XG5pbXBvcnQgeyBIYXNBY3Rpb25zUmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc0FjdGlvbnNSZW1haW5pbmcnO1xuaW1wb3J0IHsgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1JlbGlucXVpc2hNb3ZlbWVudFBvaW50cyc7XG5cbmV4cG9ydCBjbGFzcyBCYXNpY01lbGVlVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNNZWxlZVRyZWUnKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXNlKCkge1xuICAgICAgICB0aGlzLnRyZWUucm9vdCA9IG5ldyBNYXN0ZXJOb2RlKFtcbiAgICAgICAgICAgIG5ldyBQcmlvcml0eShcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNZW1TZXF1ZW5jZShbXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2V0UGxheWVyQXNUYXJnZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IElzRGVhZCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc1RhcmdldERlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByaW9yaXR5KFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSXNOZXh0VG9QbGF5ZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc0FjdGlvbnNSZW1haW5pbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNZWxlZUF0dGFja1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVsaW5xdWlzaE1vdmVtZW50UG9pbnRzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXRQbGF5ZXJBc1RhcmdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVRvd2FyZHNUYXJnZXQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgXSksXG5cbiAgICAgICAgICAgICAgICAgICAgbmV3IEVuZENvbWJhdFR1cm4oKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICApXG4gICAgICAgIF0pO1xuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgQmFzaWNNZWxlZVRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZW15VHVybkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgIGNvbnN0IGVuZW15UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGVuZW15SWQpO1xuICAgIGNvbnN0IGVuZW15Q3VycmVudE5vZGUgPSBlbmVteVByb3h5LmN1cnJlbnROb2RlO1xuICAgIC8vIGZpbmQgZGVzaXJlZCBtb3ZlIHBvc2l0aW9uXG4gICAgY29uc3QgcGxheWVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHBsYXllck5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgaXMgYWxyZWFkeSBhZGphY2VudCB0byB0YXJnZXRcbiAgICBjb25zdCBpc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVuZW15Q3VycmVudE5vZGUpKTtcblxuICAgIGNvbnN0IGJhc2ljTWVsZWVUcmVlID0gbmV3IEJhc2ljTWVsZWVUcmVlKCk7XG4gICAgYmFzaWNNZWxlZVRyZWUucnVuQ29tbWFuZHMoZmFjYWRlLCBlbmVteUlkKTtcblxuICAgIC8qLy8gd2UncmUgYWxyZWFkeSB0aGVyZVxuICAgIGlmIChpc0FkamFjZW50KSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgZW5lbXlQcm94eS5pZCwgcGxheWVyUHJveHkuaWQpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4pO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcblxuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBGaW5kIG5lYXJlc3Qgbm9kZVxuICAgICAgICBsZXQgbm9kZSA9IHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGRpc3RhbmNlU3FydChlbmVteUN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChlbmVteUN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGVuZW15Q3VycmVudE5vZGUsIG5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IHZvID0gZW5lbXlQcm94eS52bztcbiAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZW5kIHBvaW50IGluIGFkamFjZW50IHRvIHRhcmdldFxuICAgICAgICAgICAgY29uc3QgZW5kUG9pbnQgPSBwYXRoWzBdO1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnRJc0FkamFjZW50ID0gY29ubmVjdGVkTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKGVuZFBvaW50KSk7XG5cbiAgICAgICAgICAgIGlmIChlbmRwb2ludElzQWRqYWNlbnQpIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0ssIGVuZW15SWQsIFwicGxheWVyXCIsIHBhdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGVuZW15SWQsIHBhdGgpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGVuZW15UHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfSovXG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSBcIi4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eVwiO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tIFwiLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPXCI7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZE5vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuXG4gICAgY29uc3Qgbm9kZSA9IGFyZ3NbMF07XG5cbiAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTm9kZShub2RlKSkge1xuICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCB2byA9IGdhbWVDaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKHZvLmN1cnJlbnROb2RlLCB2by5hdmFpbGFibGVNb3ZlbWVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgbW92ZWFibGVOb2Rlcykge1xuICAgICAgICBpZiAobm9kZS5lcXVhbHModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGdhbWVDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZhbGlkTW92ZShmYWNhZGUsIGNoYXJhY3RlclByb3h5LCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3Qgdm8gPSBjaGFyYWN0ZXJQcm94eS52bztcbiAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aCh2by5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvLmF2YWlsYWJsZU1vdmVtZW50IC09IChwYXRoLmxlbmd0aCAtIDEpOyAvLyBEZXRyYWN0IGJ5IG9uZS4uLiB0aGUgZmlyc3QgcGF0aCBub2RlIGRvZXNuJ3QgY291bnRcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9XQUxLQUJMRV9BUkVBKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB2by5pZCwgcGF0aCk7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IHdhbGthYmxlTm9kZXMgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlQXNzZXQgPSBhcHAuYXNzZXRzLmdldCg0MDIzNTk2Nik7XG4gICAgY29uc3QgY29udGFpbmVyID0gYXBwLnJvb3QuZmluZEJ5TmFtZShcIldvcmxkT2JqZWN0c1wiKTtcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB3YWxrYWJsZU5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB3YWxrYWJsZVRpbGVBc3NldC5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICB0aWxlLnNldExvY2FsUG9zaXRpb24obm9kZS54LCBub2RlLnksIG5vZGUueik7XG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlV2Fsa2FibGVBcmVhQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGFwcCA9IHBjLkFwcGxpY2F0aW9uLmdldEFwcGxpY2F0aW9uKCk7XG4gICAgY29uc3Qgd2Fsa2FibGVUaWxlRW50aXRpZXMgPSBhcHAucm9vdC5maW5kQnlUYWcoJ3dhbGthYmxlX3RpbGUnKTtcbiAgICBmb3IgKGNvbnN0IHdhbGthYmxlVGlsZUVudGl0eSBvZiB3YWxrYWJsZVRpbGVFbnRpdGllcykge1xuICAgICAgICB3YWxrYWJsZVRpbGVFbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBBc3RhciB9IGZyb20gXCIuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXJcIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IHZvID0gY2hhcmFjdGVyUHJveHkudm87XG4gICAgY29uc3QgbW92ZWFibGVOb2RlcyA9IEFzdGFyLmJyZWFkdGhGaXJzdFNlYXJjaCh2by5jdXJyZW50Tm9kZSwgdm8uYXZhaWxhYmxlTW92ZW1lbnQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfV0FMS0FCTEVfQVJFQSwgbW92ZWFibGVOb2Rlcyk7XG5cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gXCIuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk9cIjtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gXCIuL0dhbWVDb21tYW5kc1wiO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kTW92ZW1lbnRDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgZW5kTm9kZSA9IGFyZ3NbMV07XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgaWQpO1xuICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZW5kTm9kZTtcblxuICAgIGNvbnN0IGdhbWVTdGF0ZSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGUuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkNPTUJBVCkge1xuICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuXG4gICAgICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ID09PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGlkKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIHJldHVybiBuZXcgcGMuVmVjMyhjdXJyZW50Tm9kZS54LFxuICAgICAgICBjdXJyZW50Tm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICBjdXJyZW50Tm9kZS56KTtcbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IFdlYXBvbnNQcm94eSB9IGZyb20gJy4uL21vZGVsL3dlYXBvbnMvV2VhcG9uc1Byb3h5JztcbmltcG9ydCB7IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi91dGlscy9DaGFyYWN0ZXJDZW50ZXJQb2ludCc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBnYW1lQ2hhcmFjdGVyRW50aXR5ID0gYXJnc1swXTtcbiAgICBjb25zdCBpZCA9IGdhbWVDaGFyYWN0ZXJFbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uY2hhcmFjdGVySWQ7XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCB3ZWFwb25Qcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFdlYXBvbnNQcm94eS5OQU1FKTtcbiAgICBjb25zdCB3ZWFwb25DYXRlZ29yeSA9IHdlYXBvblByb3h5LmdldFdlYXBvbkNhdGVnb3J5KHBsYXllckNoYXJhY3RlclByb3h5LmVxdWlwcGVkV2VhcG9uKTtcblxuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuRVhQTE9SQVRJT04pIHtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZVByb3h5LmN1cnJlbnRBY3Rpb24gPT09ICdhdHRhY2snICYmIHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCBpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIFwiTm8gbGluZSBvZiBzaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDSywgaWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX1RBTEssIGlkKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmICghY29tYmF0UHJveHkgfHwgY29tYmF0UHJveHkuYWN0aXZlUGFydGljaXBhbnQgIT09IFwicGxheWVyXCIpIHtcbiAgICAgICAgICAgIC8vIG5vdCB5b3VyIHR1cm5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwbGF5ZXJDaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIDw9IDApIHtcbiAgICAgICAgICAgIC8vIG91dCBvZiBhY3Rpb25zXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIk91dCBvZiBhY3Rpb25zXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdlYXBvbkNhdGVnb3J5ID09PSBcInJhbmdlZFwiKSB7XG4gICAgICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSkge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIFwicGxheWVyXCIsIGlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgXCJObyBsaW5lIG9mIHNpZ2h0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoVG9UYXJnZXQgPSBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSk7XG4gICAgICAgICAgICAgICAgLy8gcGF0aCBsZW5ndGggaW5jbHVkZXMgY3VycmVudCBub2RlLCBzbyBkZWR1Y3Qgb24gdG8gd29yayBvdXQgYWN0dWFsIG1vdmVhYmxlIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhUb1RhcmdldCAmJiBwYXRoVG9UYXJnZXQubGVuZ3RoIC0gMSA8PSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS52by5hdmFpbGFibGVNb3ZlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudEFjdGlvbiA9PT0gJ2F0dGFjaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB3ZWFwb24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVfQUxPTkdfUEFUSF9BTkRfQVRUQUNLLCBcInBsYXllclwiLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCwgcGF0aFRvVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNPTUJBVF9OQVZJR0FURV9UT19OT0RFLCBcInBsYXllclwiLCBwYXRoVG9UYXJnZXQuc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBcIkNhbm5vdCByZWFjaCB0YXJnZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID09PSAnYXR0YWNrJykge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIHBsYXllckNoYXJhY3RlclByb3h5LmlkLCB0YXJnZXRDaGFyYWN0ZXJQcm94eS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuYXZpZ2F0ZVRvQ2hhcmFjdGVyKHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gdGFyZ2V0Q2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cbiAgICBjb25zdCB1bm9jY3VwaWVkTm9kZXMgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG4gICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBsZXQgc2hvcnRlc3RQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbMF0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdGhlclBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1tpXSk7XG4gICAgICAgICAgICBpZiAob3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc1RhcmdldEFkamFjZW50KHBsYXllckNoYXJhY3RlclByb3h5LCB0YXJnZXRDaGFyYWN0ZXJQcm94eSkge1xuICAgIGNvbnN0IHRhcmdldEN1cnJyZW50Tm9kZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNvbm5lY3RlZE5vZGVzID0gcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUuY29ubmVjdGVkTm9kZXM7XG4gICAgcmV0dXJuIGNvbm5lY3RlZE5vZGVzLnNvbWUobiA9PiBuLmVxdWFscyh0YXJnZXRDdXJycmVudE5vZGUpKTtcbn1cblxuZnVuY3Rpb24gY2FuU2VlVGFyZ2V0KGdhbWVNYXBQcm94eSwgcGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KSB7XG4gICAgY29uc3QgcGxheWVyUG9pbnQgPSBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5KHBsYXllckNoYXJhY3RlclByb3h5KTtcbiAgICBjb25zdCB0YXJnZXRQb2ludCA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuXG4gICAgcmV0dXJuICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwocGxheWVyUG9pbnQsIHRhcmdldFBvaW50KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBXZWFwb25UeXBlcyB9IGZyb20gJy4uL2RhdGEvV2VhcG9uVHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGF0dGFja2VySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGF0dGFja2VyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGF0dGFja2VySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVySWQgPSBhcmdzWzFdO1xuICAgIGNvbnN0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgYXR0YWNrZXJJZCwgZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZSk7XG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQVJBQ1RFUl9MT09LX0FUICsgZGVmZW5kZXJJZCwgYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZSk7XG5cbiAgICBjb25zdCB3ZWFwb25zUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShXZWFwb25zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgYXR0YWNrZXJXZWFwb25Ta2lsbCA9IGAke2F0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb259RmlnaHRpbmdgO1xuICAgIGNvbnN0IGRlZmVuZGVyV2VhcG9uU2tpbGwgPSBgJHtkZWZlbmRlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcblxuICAgIGNvbnN0IGF0dGFja2VyU2tpbGxUb3RhbCA9IGF0dGFja2VyUHJveHkuZ2V0U2tpbGxUb3RhbChhdHRhY2tlcldlYXBvblNraWxsKTtcbiAgICBjb25zdCBkZWZlbmRlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoZGVmZW5kZXJXZWFwb25Ta2lsbCk7XG5cbiAgICBjb25zdCBhdHRhY2tlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoYXR0YWNrZXJTa2lsbFRvdGFsKTtcbiAgICBjb25zdCBkZWZlbmRlclJvbGwgPSByb2xsQXR0YWNrU2tpbGwoZGVmZW5kZXJTa2lsbFRvdGFsKTtcblxuICAgIC8vIFJlZHVjZSBhY3Rpb25zXG4gICAgYXR0YWNrZXJQcm94eS5hdmFpbGFibGVBY3Rpb25zIC09IDE7XG5cbiAgICAvLyBEZXRlcm1pbmUgd2lubmVyXG4gICAgaWYgKGF0dGFja2VyUm9sbCA9PT0gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgQXR0YWNrIHRpZWQoJHthdHRhY2tlclJvbGx9LyR7ZGVmZW5kZXJSb2xsfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXR0YWNrZXJSb2xsID4gZGVmZW5kZXJSb2xsKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2tlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclJvbGwsIGRlZmVuZGVyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgZGVmZW5kZXJQcm94eS5hcHBseURhbWFnZShkYW1hZ2UpO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBhdHRhY2tlcklkKTtcblxuICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGRlZmVuZGVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHthdHRhY2tlcklkfSBkYW1hZ2VzICR7ZGVmZW5kZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdlYXBvbkNhdGVnb3J5ID0gd2VhcG9uc1Byb3h5LmdldFdlYXBvbkNhdGVnb3J5KGRlZmVuZGVyUHJveHkuZXF1aXBwZWRXZWFwb24pO1xuICAgICAgICAgICAgY29uc3QgaGFzTWVsZWVXZWFwb24gPSB3ZWFwb25DYXRlZ29yeSA9PT0gXCJtZWxlZVwiO1xuXG4gICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihkZWZlbmRlclJvbGwsIGF0dGFja2VyUm9sbCk7XG4gICAgICAgICAgICBjb25zdCB3ZWFwb24gPSAoaGFzTWVsZWVXZWFwb24pID8gZGVmZW5kZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA6IFdlYXBvblR5cGVzLlVOQVJNRUQ7XG4gICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKHdlYXBvbiwgZGFtYWdlVGllcik7XG4gICAgICAgICAgICBhdHRhY2tlclByb3h5LmFwcGx5RGFtYWdlKGRhbWFnZSk7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFLCBgJHtkZWZlbmRlcklkfSBkYW1hZ2VzICR7YXR0YWNrZXJJZH0gZm9yICR7ZGFtYWdlfWApO1xuXG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyBkZWZlbmRlcklkKTtcblxuICAgICAgICAgICAgaWYgKGF0dGFja2VyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLktJTExfR0FNRV9DSEFSQUNURVIsIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0hJVCArIGF0dGFja2VySWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSAmJiBjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgIH0sIDE1MDApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRGFtYWdlVGllcihoaWdoRGFtYWdlLCBsb3dEYW1hZ2UpIHtcbiAgICByZXR1cm4gaGlnaERhbWFnZSAtIGxvd0RhbWFnZTtcbn1cblxuZnVuY3Rpb24gcm9sbEF0dGFja1NraWxsKHNraWxsKSB7XG4gICAgcmV0dXJuIHNraWxsICsgcm9sbERpY2UoKSArIHJvbGxEaWNlKCk7XG59XG5cbmZ1bmN0aW9uIHJvbGxEaWNlKCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA2KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJNZWRpYXRvcic7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQWxvbmdQYXRoQW5kQXR0YWNrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IHRhcmdldElkID0gYXJnc1sxXTtcbiAgICBjb25zdCBwYXRoID0gYXJnc1syXTtcblxuICAgIGNvbnN0IGNoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBjaGFyYWN0ZXJJZCk7XG4gICAgY2hhcmFjdGVyUHJveHkudXNlTW92ZW1lbnQocGF0aC5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgY2hhcmFjdGVySWQpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEpO1xuXG4gICAgY29uc3QgZmluaXNoTW92ZVByb21pc2UgPSBjaGFyYWN0ZXJNZWRpYXRvci5oYW5kbGVOYXZpZ2F0ZUFsb25nUGF0aFdpdGhQcm9taXNlKHBhdGgpO1xuICAgIGZpbmlzaE1vdmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuUkVTT0xWRV9BVFRBQ0ssIGNoYXJhY3RlcklkLCB0YXJnZXRJZCk7XG5cbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGtpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgY2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuICAgIGNvbnNvbGUubG9nKGBLaWxsIGNoYXJhY3Rlcjo6ICR7Y2hhcmFjdGVySWR9YCk7XG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9GTE9BVElOR19TVEFUVVMsIFwiZGVhdGhcIiwgY2hhcmFjdGVyUHJveHkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgY2hhcmFjdGVySWQpO1xuXG5cbiAgICBpZiAoY2hhcmFjdGVyUHJveHkpIHtcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUub2NjdXBpZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgIGlmIChjb21iYXRQcm94eSkge1xuICAgICAgICBjb21iYXRQcm94eS5yZW1vdmVDaGFyYWN0ZXJGcm9tQ29tYmF0KGNoYXJhY3RlcklkKTtcbiAgICB9XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQ29tYmF0UHJveHkgfSBmcm9tICcuLi9tb2RlbC9jb21iYXQvQ29tYmF0UHJveHknO1xuaW1wb3J0IHsgR2FtZVN0YXRlUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlUHJveHknO1xuaW1wb3J0IHsgZ2FtZXBsYXlNb2RlVHlwZXMgfSBmcm9tICcuLi9tb2RlbC9nYW1lU3RhdGUvR2FtZVN0YXRlVk8nO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tYmF0Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGxvc2luZ1RlYW0gPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgaWYgKGZhY2FkZS5oYXNNZWRpYXRvcihDb21iYXRQcm94eS5OQU1FKSkge1xuICAgICAgICBmYWNhZGUucmVtb3ZlTWVkaWF0b3IoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgfVxuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkhJREVfV0FMS0FCTEVfQVJFQSk7XG5cblxuICAgIGNvbnN0IGdhbWVTdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG5cbiAgICBpZiAobG9zaW5nVGVhbSA9PT0gJ3BsYXllcl90ZWFtJykge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkdBTUVfT1ZFUik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGBHYW1lIE92ZXJgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnYW1lU3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYFZpY3RvcnlgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VBdHRhY2tUYXJnZXQgZXh0ZW5kcyBCYXNlTm9kZSB7XG4gICAgdGljayh0aWNrKSB7XG4gICAgICAgIGNvbnN0IGZhY2FkZSA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2ZhY2FkZScsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGF0dGFja2VySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkZWZlbmRlcklkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX1JBTkdFRF9BVFRBQ0ssIGF0dGFja2VySWQsIGRlZmVuZGVySWQpO1xuICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZU5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL0Jhc2VOb2RlJztcbmltcG9ydCB7IEJlaGF2aW91clN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvQmVoYXZpb3VyU3RhdHVzJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNsYXNzIE1haW50YWluRGlzdGFuY2VGcm9tVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKG1pbkRpc3RhbmNlLCBtYXhEaXN0YW5jZSkge1xuICAgICAgICBzdXBlcihbXSk7XG4gICAgICAgIHRoaXMubWluRGlzdGFuY2UgPSBtaW5EaXN0YW5jZTtcbiAgICAgICAgdGhpcy5tYXhEaXN0YW5jZSA9IG1heERpc3RhbmNlO1xuICAgIH1cblxuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Q3VycmVudE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBtaW5EaXN0YW5jZVNxcnQgPSBNYXRoLnBvdyh0aGlzLm1pbkRpc3RhbmNlLCAyKTtcbiAgICAgICAgY29uc3QgbWF4RGlzdGFuY2VTcXJ0ID0gTWF0aC5wb3codGhpcy5tYXhEaXN0YW5jZSwgMik7XG5cbiAgICAgICAgY29uc3QgbW92ZVBvaW50c0F2YWlsYWJsZSA9IGNoYXJhY3RlclByb3h5LmF2YWlsYWJsZU1vdmVtZW50O1xuICAgICAgICBjaGFyYWN0ZXJQcm94eS5hdmFpbGFibGVNb3ZlbWVudCA9IDA7XG5cbiAgICAgICAgLy8gdXNlIHVwIG1vdmVtZW50IHBvaW50c1xuICAgICAgICBjb25zdCBkaXN0YW5jZVRvVGFyZ2V0ID0gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBjaGFyYWN0ZXJDdXJyZW50Tm9kZSk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvVGFyZ2V0ID49IG1pbkRpc3RhbmNlU3FydCAmJiBkaXN0YW5jZVRvVGFyZ2V0IDw9IG1heERpc3RhbmNlU3FydCkge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSB3aXRoaW4gcmFuZ2UsIGdldCBvbiB3aXRoIGl0XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlYWJsZU5vZGVzID0gQXN0YXIuYnJlYWR0aEZpcnN0U2VhcmNoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBtb3ZlUG9pbnRzQXZhaWxhYmxlKTtcbiAgICAgICAgICAgIGlmIChtb3ZlYWJsZU5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA8IG1pbkRpc3RhbmNlU3FydCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUb28gY2xvc2VcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBtb3ZlYWJsZU5vZGVzLnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBhKSA+IGRpc3RhbmNlU3FydCh0YXJnZXRDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbmQgcG9pbnQgaW4gYWRqYWNlbnQgdG8gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRvbyBmYXIgYXdheVxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IG1vdmVhYmxlTm9kZXMucmVkdWNlKChhLCBiKSA9PiBkaXN0YW5jZVNxcnQodGFyZ2V0Q3VycmVudE5vZGUsIGEpIDwgZGlzdGFuY2VTcXJ0KHRhcmdldEN1cnJlbnROb2RlLCBiKSA/IGEgOiBiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IEFzdGFyLmNhbGN1bGF0ZVBhdGgoY2hhcmFjdGVyQ3VycmVudE5vZGUsIG5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9BTE9OR19QQVRIICsgY2hhcmFjdGVySWQsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJlaGF2aW91clN0YXR1cy5TVUNDRVNTO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuRkFJTFVSRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXN0YW5jZVNxcnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHAyLnggLSBwMS54LCAyKSArIE1hdGgucG93KHAyLnkgLSBwMS55LCAyKSArIE1hdGgucG93KHAyLnogLSBwMS56LCAyKTtcbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBjbGFzcyBQaWNrTmV4dEFjdGlvbiBleHRlbmRzIEJhc2VOb2RlIHtcbiAgICB0aWNrKHRpY2spIHtcbiAgICAgICAgY29uc3QgZmFjYWRlID0gdGljay5ibGFja2JvYXJkLmdldCgnZmFjYWRlJywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySWQgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdjaGFyYWN0ZXJJZCcsIHRpY2sudHJlZS5pZCwgZmFsc2UpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgY2hhcmFjdGVySWQpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VOb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9CYXNlTm9kZSc7XG5pbXBvcnQgeyBCZWhhdmlvdXJTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL0JlaGF2aW91clN0YXR1cyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lTWFwUHJveHkgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL0dhbWVNYXBQcm94eSc7XG5pbXBvcnQgeyBjZW50ZXJQb2ludENoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvQ2hhcmFjdGVyQ2VudGVyUG9pbnQnO1xuXG5leHBvcnQgY2xhc3MgQ2FuU2VlVGFyZ2V0IGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgLy8gZmluZCBkZXNpcmVkIG1vdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICAvLyBMb29rIHRvIHRoZSBjZW50ZXIgb2YgZWFjaCBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZnJvbVBvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkoY2hhcmFjdGVyUHJveHkpO1xuICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgIGNvbnN0IGNhblNlZVRhcmdldCA9ICFnYW1lTWFwUHJveHkucmF5SW50ZXJzZWN0c1dhbGwoZnJvbVBvcywgdG9Qb3MpO1xuICAgICAgICBpZiAoY2FuU2VlVGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLlNVQ0NFU1M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQmVoYXZpb3VyU3RhdHVzLkZBSUxVUkU7XG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBCYXNlTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU5vZGUnO1xuaW1wb3J0IHsgQmVoYXZpb3VyU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS9CZWhhdmlvdXJTdGF0dXMnO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgY2VudGVyUG9pbnRDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL0NoYXJhY3RlckNlbnRlclBvaW50JztcblxuZXhwb3J0IGNsYXNzIE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIHRpY2sodGljaykge1xuICAgICAgICBjb25zdCBmYWNhZGUgPSB0aWNrLmJsYWNrYm9hcmQuZ2V0KCdmYWNhZGUnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJZCA9IHRpY2suYmxhY2tib2FyZC5nZXQoJ2NoYXJhY3RlcklkJywgdGljay50cmVlLmlkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRhcmdldElkID0gdGljay5ibGFja2JvYXJkLmdldCgndGFyZ2V0JywgdGljay50cmVlLmlkLCBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ3VycmVudE5vZGUgPSBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldElkKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldFByb3h5LmN1cnJlbnROb2RlO1xuICAgICAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldE5vZGUuY29ubmVjdGVkTm9kZXM7XG5cblxuICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb25uZWN0ZWROb2Rlcy5maWx0ZXIobm9kZSA9PiAhbm9kZS5vY2N1cGllZCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlcmUgaXMgYSBub2RlIHRvIG1vdmUgdG8gXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gRmluZCBuZWFyZXN0IG5vZGVcbiAgICAgICAgICAgIGxldCBub2RlID0gcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gZGlzdGFuY2VTcXJ0KGNoYXJhY3RlckN1cnJlbnROb2RlLCBhKSA8IGRpc3RhbmNlU3FydChjaGFyYWN0ZXJDdXJyZW50Tm9kZSwgYikgPyBhIDogYik7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGNoYXJhY3RlckN1cnJlbnROb2RlLCBub2RlKTtcbiAgICAgICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRyaW0gbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB2byA9IGNoYXJhY3RlclByb3h5LnZvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IHZvLmF2YWlsYWJsZU1vdmVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b1BvcyA9IGNlbnRlclBvaW50Q2hhcmFjdGVyUHJveHkodGFyZ2V0UHJveHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gRm9sbG93IHBhdGggdG8gc2VlIGlmIHRhcmdldCBpcyB2aXNpYmxlIGZyb20gYW55IHBvaW50XG4gICAgICAgICAgICAgICAgbGV0IGRlbGV0ZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoTm9kZSA9IHBhdGhbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVBvcyA9IG5ldyBwYy5WZWMzKHBhdGhOb2RlLngsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS55ICsgY2hhcmFjdGVyUHJveHkuaGVpZ2h0ICogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aE5vZGUueik7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FuU2VlVGFyZ2V0ID0gIWdhbWVNYXBQcm94eS5yYXlJbnRlcnNlY3RzV2FsbChmcm9tUG9zLCB0b1Bvcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5TZWVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNvdW50ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVHJpbSB0byBwb2ludCBvZiB2aXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgcGF0aC5zcGxpY2UoMCwgZGVsZXRlQ291bnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVuZCBwb2ludCBpbiBhZGphY2VudCB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTkFWSUdBVEVfQUxPTkdfUEFUSCArIGNoYXJhY3RlcklkLCBwYXRoKTtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IG5vZGU7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzZSB1cCBtb3ZlbWVudCBwb2ludHNcbiAgICAgICAgY2hhcmFjdGVyUHJveHkuYXZhaWxhYmxlTW92ZW1lbnQgPSAwO1xuXG4gICAgICAgIHJldHVybiBCZWhhdmlvdXJTdGF0dXMuU1VDQ0VTUztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3RhbmNlU3FydChwMSwgcDIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocDIueCAtIHAxLngsIDIpICsgTWF0aC5wb3cocDIueSAtIHAxLnksIDIpO1xufVxuIiwiaW1wb3J0IHsgTWFzdGVyTm9kZSB9IGZyb20gJy4uL2NvcmUvTWFzdGVyTm9kZSc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb21tYW5kVHJlZSB9IGZyb20gJy4vQ2hhcmFjdGVyQ29tbWFuZFRyZWUnO1xuaW1wb3J0IHsgUHJpb3JpdHkgfSBmcm9tICcuLi9jb3JlL1ByaW9yaXR5JztcbmltcG9ydCB7IFNldFBsYXllckFzVGFyZ2V0IH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL1NldFBsYXllckFzVGFyZ2V0JztcbmltcG9ydCB7IEVuZENvbWJhdFR1cm4gfSBmcm9tICcuLi9iZWhhdmlvdXJzL2FjdGlvbnMvRW5kQ29tYmF0VHVybic7XG5pbXBvcnQgeyBNZW1TZXF1ZW5jZSB9IGZyb20gJy4uL2NvcmUvTWVtU2VxdWVuY2UnO1xuaW1wb3J0IHsgSW52ZXJ0ZXIgfSBmcm9tICcuLi9jb3JlL2RlY29yYXRvcnMvSW52ZXJ0ZXInO1xuaW1wb3J0IHsgSXNUYXJnZXREZWFkIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0lzVGFyZ2V0RGVhZCc7XG5pbXBvcnQgeyBJc0RlYWQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSXNEZWFkJztcbmltcG9ydCB7IEhhc01vdmVtZW50UmVtYWluaW5nIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9jb25kaXRpb25zL0hhc01vdmVtZW50UmVtYWluaW5nJztcbmltcG9ydCB7IEhhc0FjdGlvbnNSZW1haW5pbmcgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvSGFzQWN0aW9uc1JlbWFpbmluZyc7XG5pbXBvcnQgeyBSYW5nZUF0dGFja1RhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9SYW5nZUF0dGFja1RhcmdldCc7XG5pbXBvcnQgeyBNYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9NYWludGFpbkRpc3RhbmNlRnJvbVRhcmdldCc7XG5pbXBvcnQgeyBQaWNrTmV4dEFjdGlvbiB9IGZyb20gJy4uL2JlaGF2aW91cnMvYWN0aW9ucy9QaWNrTmV4dEFjdGlvbic7XG5pbXBvcnQgeyBDYW5TZWVUYXJnZXQgfSBmcm9tICcuLi9iZWhhdmlvdXJzL2NvbmRpdGlvbnMvQ2FuU2VlVGFyZ2V0JztcbmltcG9ydCB7IE1vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlIH0gZnJvbSAnLi4vYmVoYXZpb3Vycy9hY3Rpb25zL01vdmVUb3dhcmRzVGFyZ2V0VW50aWxWaXNpYmxlJztcblxuZXhwb3J0IGNsYXNzIEJhc2ljUmFuZ2VkVHJlZSBleHRlbmRzIENoYXJhY3RlckNvbW1hbmRUcmVlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignYmFzaWNSYW5nZWRUcmVlJyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGlzZSgpIHtcbiAgICAgICAgdGhpcy50cmVlLnJvb3QgPSBuZXcgTWFzdGVyTm9kZShbXG4gICAgICAgICAgICBuZXcgUHJpb3JpdHkoXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldFBsYXllckFzVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgSW52ZXJ0ZXIoW25ldyBJc0RlYWQoKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEludmVydGVyKFtuZXcgSXNUYXJnZXREZWFkKCldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnZlcnRlcihbbmV3IENhblNlZVRhcmdldCgpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlVG93YXJkc1RhcmdldFVudGlsVmlzaWJsZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1lbVNlcXVlbmNlKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEhhc01vdmVtZW50UmVtYWluaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcmlvcml0eShbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWFpbnRhaW5EaXN0YW5jZUZyb21UYXJnZXQoOSwgMTIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBpY2tOZXh0QWN0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWVtU2VxdWVuY2UoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgSGFzQWN0aW9uc1JlbWFpbmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2FuU2VlVGFyZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSYW5nZUF0dGFja1RhcmdldCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRW5kQ29tYmF0VHVybigpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgXSk7XG4gICAgfVxufSIsIlxuaW1wb3J0IHsgQmFzaWNNZWxlZVRyZWUgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL3RyZWVzL0Jhc2ljTWVsZWVUcmVlJztcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuaW1wb3J0IHsgQm90QmVoYXZpb3VyVHlwZXMgfSBmcm9tICcuLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IEJhc2ljUmFuZ2VkVHJlZSB9IGZyb20gJy4uL2JlaGF2aW91clRyZWUvdHJlZXMvQmFzaWNSYW5nZWRUcmVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBlbmVteUlkID0gYXJnc1swXTtcbiAgICBjb25zdCBlbmVteVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBlbmVteUlkKTtcblxuICAgIHN3aXRjaCAoZW5lbXlQcm94eS5ib3RCZWhhdmlvdXIpIHtcbiAgICAgICAgY2FzZSBCb3RCZWhhdmlvdXJUeXBlcy5CQVNJQ19NRUxFRTpcbiAgICAgICAgICAgIGNvbnN0IGJhc2ljTWVsZWVUcmVlID0gbmV3IEJhc2ljTWVsZWVUcmVlKCk7XG4gICAgICAgICAgICBiYXNpY01lbGVlVHJlZS5ydW5Db21tYW5kcyhmYWNhZGUsIGVuZW15SWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfUkFOR0VEOlxuICAgICAgICAgICAgY29uc3QgYmFzaWNSYW5nZWRUcmVlID0gbmV3IEJhc2ljUmFuZ2VkVHJlZSgpO1xuICAgICAgICAgICAgYmFzaWNSYW5nZWRUcmVlLnJ1bkNvbW1hbmRzKGZhY2FkZSwgZW5lbXlJZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBXZWFwb25zUHJveHkgfSBmcm9tICcuLi9tb2RlbC93ZWFwb25zL1dlYXBvbnNQcm94eSc7XG5pbXBvcnQgeyBDb21iYXRQcm94eSB9IGZyb20gJy4uL21vZGVsL2NvbWJhdC9Db21iYXRQcm94eSc7XG5pbXBvcnQgeyBQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSAnLi4vdmlldy9wcm9qZWN0aWxlcy9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSYW5nZWRBdHRhY2tDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIC8vIFNjb3JlcyBmb3IgY29tcGFyaXNzb25cbiAgICBsZXQgYXR0YWNrZXJTY29yZSA9IDA7XG4gICAgbGV0IGRlZmVuZGVyU2NvcmUgPSAwO1xuXG4gICAgY29uc3QgYXR0YWNrZXJJZCA9IGFyZ3NbMF07XG4gICAgY29uc3QgYXR0YWNrZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgYXR0YWNrZXJJZCk7XG4gICAgY29uc3QgYXR0YWNrZXJOb2RlID0gYXR0YWNrZXJQcm94eS5jdXJyZW50Tm9kZTtcbiAgICBsZXQgZGVmZW5kZXJJZCA9IGFyZ3NbMV07XG4gICAgbGV0IGRlZmVuZGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGRlZmVuZGVySWQpO1xuICAgIGNvbnN0IGRlZmVuZGVyTm9kZSA9IGRlZmVuZGVyUHJveHkuY3VycmVudE5vZGU7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBhdHRhY2tlcklkLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyBkZWZlbmRlcklkLCBhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlKTtcblxuICAgIGNvbnN0IGF0dGFja2VyV2VhcG9uU2tpbGwgPSBgJHthdHRhY2tlclByb3h5LmVxdWlwcGVkV2VhcG9ufUZpZ2h0aW5nYDtcbiAgICBjb25zdCBhdHRhY2tlclNraWxsVG90YWwgPSBhdHRhY2tlclByb3h5LmdldFNraWxsVG90YWwoYXR0YWNrZXJXZWFwb25Ta2lsbCk7XG5cbiAgICBhdHRhY2tlclNjb3JlICs9IHJvbGxBdHRhY2tTa2lsbChhdHRhY2tlclNraWxsVG90YWwpO1xuICAgIGRlZmVuZGVyU2NvcmUgKz0gcm9sbEF0dGFja1NraWxsKGRlZmVuZGVyUHJveHkuc2tpbGwpO1xuXG4gICAgY29uc3Qgd2VhcG9uc1Byb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoV2VhcG9uc1Byb3h5Lk5BTUUpO1xuICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpc0luQ292ZXIgPSBnYW1lTWFwUHJveHkuaXNJbkNvdmVyKFxuICAgICAgICBuZXcgcGMuVmVjMyhkZWZlbmRlck5vZGUueCwgZGVmZW5kZXJOb2RlLnksIGRlZmVuZGVyTm9kZS56KSxcbiAgICAgICAgbmV3IHBjLlZlYzMoYXR0YWNrZXJOb2RlLngsIGF0dGFja2VyTm9kZS55LCBhdHRhY2tlck5vZGUueikpO1xuXG4gICAgaWYgKGlzSW5Db3Zlcikge1xuICAgICAgICBkZWZlbmRlclNjb3JlICs9IDI7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgLy8gVE9ETzogbWFrZSB0aGlzIG1vcmUgc29waGlzdGljYXRlZFxuICAgIGNvbnN0IHByb2plY3RpbGVPcmlnaW4gPSBuZXcgcGMuVmVjMyhhdHRhY2tlclByb3h5LmN1cnJlbnROb2RlLngsXG4gICAgICAgIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueSArIDEsIGF0dGFja2VyUHJveHkuY3VycmVudE5vZGUueik7XG5cbiAgICBjb25zdCBwcm9qZWN0aWxlVGFyZ2V0ID0gbmV3IHBjLlZlYzMoZGVmZW5kZXJQcm94eS5jdXJyZW50Tm9kZS54LFxuICAgICAgICBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLnkgKyAxLCBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLnopO1xuXG4gICAgLy8gUmVkdWNlIGFjdGlvbnNcbiAgICBhdHRhY2tlclByb3h5LmF2YWlsYWJsZUFjdGlvbnMgLT0gMTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0FUVEFDSyArIGF0dGFja2VySWQpO1xuICAgIHByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuY3JlYXRlUHJvamVjdGlsZSgnY3Jvc3Nib3dfYm9sdCcsIHByb2plY3RpbGVPcmlnaW4sIHByb2plY3RpbGVUYXJnZXQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSBvdXRjb21lXG4gICAgICAgICAgICBpZiAoYXR0YWNrZXJTY29yZSA+IGRlZmVuZGVyU2NvcmUpIHtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRhcmdldCBpcyBpbiBtZWxlZSBhbmQgcm9sbCBmb3IgbmV3IHRhcmdldFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVpZ2hib3VyaW5nTm9kZXMgPSBkZWZlbmRlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZVRhcmdldHMgPSBbZGVmZW5kZXJJZF07XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBjb21iYXRQcm94eS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFydGljaXBhbnRQcm94eS5pc0RlYWQgJiYgbmVpZ2hib3VyaW5nTm9kZXMuc29tZShuID0+IG4uZXF1YWxzKHBhcnRpY2lwYW50UHJveHkuY3VycmVudE5vZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlVGFyZ2V0cy5wdXNoKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRlZmVuZGVySWQgPSBwb3NzaWJsZVRhcmdldHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGVUYXJnZXRzLmxlbmd0aCldO1xuICAgICAgICAgICAgICAgICAgICBkZWZlbmRlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIC8vIEF0dGFja2VyIHdpbnNcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2VUaWVyID0gZGV0ZXJtaW5lRGFtYWdlVGllcihhdHRhY2tlclNjb3JlLCBkZWZlbmRlclNjb3JlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB3ZWFwb25zUHJveHkuZ2V0RGFtYWdlKGF0dGFja2VyUHJveHkuZXF1aXBwZWRXZWFwb24sIGRhbWFnZVRpZXIpO1xuICAgICAgICAgICAgICAgIGRlZmVuZGVyUHJveHkuYXBwbHlEYW1hZ2UoZGFtYWdlKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKGRlZmVuZGVyUHJveHkuaXNEZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5LSUxMX0dBTUVfQ0hBUkFDVEVSLCBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyBkZWZlbmRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYCR7YXR0YWNrZXJJZH0gZGFtYWdlcyAke2RlZmVuZGVySWR9IGZvciAke2RhbWFnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEZWZlbmRlciB3aW5zXG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTLCBcImRvZGdlXCIsIGRlZmVuZGVyUHJveHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21iYXRQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KENvbWJhdFByb3h5Lk5BTUUpO1xuICAgICAgICAgICAgaWYgKGNvbWJhdFByb3h5ICYmIGNvbWJhdFByb3h5LmFjdGl2ZVBhcnRpY2lwYW50ICE9PSBcInBsYXllclwiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04sIGF0dGFja2VySWQpO1xuXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRldGVybWluZURhbWFnZVRpZXIoaGlnaERhbWFnZSwgbG93RGFtYWdlKSB7XG4gICAgcmV0dXJuIGhpZ2hEYW1hZ2UgLSBsb3dEYW1hZ2U7XG59XG5cbmZ1bmN0aW9uIHJvbGxBdHRhY2tTa2lsbChza2lsbCkge1xuICAgIHJldHVybiBza2lsbCArIHJvbGxEaWNlKCkgKyByb2xsRGljZSgpO1xufVxuXG5mdW5jdGlvbiByb2xsRGljZSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNik7XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWlwV2VhcG9uQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVTdGF0ZVByb3h5Lk5BTUUpO1xuICAgIGlmIChnYW1lU3RhdGVQcm94eS5jdXJyZW50TW9kZSA9PT0gZ2FtZXBsYXlNb2RlVHlwZXMuQ09NQkFUKSB7XG4gICAgICAgIGNvbnN0IGNvbWJhdFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoQ29tYmF0UHJveHkuTkFNRSk7XG4gICAgICAgIGlmIChjb21iYXRQcm94eS5hY3RpdmVQYXJ0aWNpcGFudCAhPT0gXCJwbGF5ZXJcIikge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfVE9BU1RfTUVTU0FHRSwgYE11c3QgY2hhbmdlIHdlYXBvbiBvbiB5b3VyIHR1cm5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoYXJhY3RlcklkID0gYXJnc1swXTtcbiAgICBjb25zdCB3ZWFwb24gPSBhcmdzWzFdO1xuXG4gICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGNoYXJhY3RlcklkKTtcbiAgICBjaGFyYWN0ZXJQcm94eS5lcXVpcHBlZFdlYXBvbiA9IHdlYXBvbjtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX1RPQVNUX01FU1NBR0UsIGAke2NoYXJhY3RlcklkfSBlcXVpcHMgJHt3ZWFwb259YCk7XG5cbn0iLCJpbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3Qgc3RhbmRpbmdQb3NpdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZGVzdGluYXRpb25TY2VuZSA9IGFyZ3NbMV07XG4gICAgY29uc3QgZGVzdGluYXRpb25Qb3J0YWwgPSBhcmdzWzJdO1xuXG4gICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHN0YW5kaW5nTm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUoc3RhbmRpbmdQb3NpdGlvbik7XG4gICAgY29uc3QgcGxheWVyTWVkaWF0b3IgPSBmYWNhZGUucmV0cmlldmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIFwicGxheWVyXCIpO1xuXG4gICAgcGxheWVyTWVkaWF0b3IubW92ZVRvTm9kZVdpdGhQcm9taXNlKHN0YW5kaW5nTm9kZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORSwgZGVzdGluYXRpb25TY2VuZSwgZGVzdGluYXRpb25Qb3J0YWwpO1xuICAgICAgICB9KTtcbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcblxuICAgIGNvbnN0IHBvcnRhbElkID0gYXJnc1swXTtcbiAgICBjb25zdCBhcHAgPSBwYy5BcHBsaWNhdGlvbi5nZXRBcHBsaWNhdGlvbigpO1xuICAgIGNvbnN0IHBsYXllckNoYXJhY3RlckFzc2V0ID0gYXBwLmFzc2V0cy5nZXQoNDA1MjMzMzYpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGFwcC5yb290LmZpbmRCeU5hbWUoXCJXb3JsZE9iamVjdHNcIik7XG4gICAgY29uc3QgcGxheWVyRW50aXR5ID0gcGxheWVyQ2hhcmFjdGVyQXNzZXQucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBjb250YWluZXIuYWRkQ2hpbGQocGxheWVyRW50aXR5KTtcblxuICAgIGNvbnN0IG1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IHBvcnRhbCA9IG1hcFByb3h5LnJldHJpZXZlUG9ydGFsKHBvcnRhbElkKTtcbiAgICBwbGF5ZXJFbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihwb3J0YWwuc3RhbmRpbmdQb2ludCk7XG5cblxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IgfSBmcm9tICcuLi92aWV3L2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3Rlck1lZGlhdG9yJztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG5cbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJJZCA9IGFyZ3NbMF07XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRhcmdldENoYXJhY3RlcklkKTtcblxuICAgIGNvbnN0IHBsYXllckNoYXJhY3Rlck1lZGlhdG9yID0gZmFjYWRlLnJldHJpZXZlTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBcInBsYXllclwiKTtcblxuXG4gICAgY29uc3QgcGF0aFRvVGFyZ2V0ID0gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpO1xuICAgIGlmIChwYXRoVG9UYXJnZXQpIHtcbiAgICAgICAgcGxheWVyQ2hhcmFjdGVyTWVkaWF0b3IuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoVG9UYXJnZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNUQVJUX0RJQUxPR1VFLCB0YXJnZXRDaGFyYWN0ZXJJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmICghc2hvcnRlc3RQYXRoIHx8IChvdGhlclBhdGggJiYgb3RoZXJQYXRoLmxlbmd0aCA8IHNob3J0ZXN0UGF0aC5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3J0ZXN0UGF0aCA9IG90aGVyUGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzaG9ydGVzdFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIilcbiAgICBjb25zdCB0YXJnZXRDaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuICAgIGNvbnN0IGRpYWxvZ3VlVHJlZSA9IHRhcmdldENoYXJhY3RlclByb3h5LmRpYWxvZ3VlVHJlZTtcbiAgICBjb25zdCBzdG9yeVRyZWUgPSBzdG9yeVByb3h5LnN0YXJ0RGlhbG9ndWVUcmVlKGRpYWxvZ3VlVHJlZSk7XG5cbiAgICBnYW1lc3RhdGVQcm94eS51cGRhdGVHYW1lU3RhdGVUeXBlKGdhbWVwbGF5TW9kZVR5cGVzLkRJQUxPR1VFKTtcblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIFwicGxheWVyXCIsIHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0YXJnZXRDaGFyYWN0ZXJJZCwgcGxheWVyQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMKTtcblxuICAgIGNvbnN0IG9wZW5pbmdTdGVwID0gc3RvcnlQcm94eS5nZXRDdXJyZW50Tm9kZVN0ZXAoKTtcbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogZGlhbG9ndWVUcmVlLFxuICAgICAgICBzdGVwOiBvcGVuaW5nU3RlcFxuICAgIH0pO1xufSIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgU3RvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL3N0b3J5UHJveHkvU3RvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5leHRTdGVwID0gc3RvcnlQcm94eS5jb250aW51ZUN1cnJlbnROb2RlU3RlcCgpO1xuICAgIGlmIChuZXh0U3RlcCkge1xuXG4gICAgICAgIGlmIChuZXh0U3RlcC5jaG9pY2VzKSB7XG4gICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlNIT1dfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbiBvZiBuZXh0U3RlcC5ub3RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLm5hbWUsIC4uLm5vdGlmaWNhdGlvbi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RGlhbG9ndWVDaG9pY2VDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBjaG9pY2VJbmRleCA9IGFyZ3NbMF07XG4gICAgY29uc3Qgc3RvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KFN0b3J5UHJveHkuTkFNRSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRDaG9pY2UgPSBzdG9yeVByb3h5LnNlbGVjdENob2ljZShjaG9pY2VJbmRleCk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUyk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgdGl0bGU6IFwiWU9VXCIsXG4gICAgICAgIHRleHQ6IHNlbGVjdGVkQ2hvaWNlLnRleHQsXG4gICAgICAgIHRpdGxlQ29sb3VyOiAnI0RCODMxQydcbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQLCB7XG4gICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgc3RlcDogcmVzcG9uc2VcbiAgICB9KTtcblxuICAgIGlmIChzZWxlY3RlZENob2ljZS50ZXN0KSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1QsIHNlbGVjdGVkQ2hvaWNlLnRlc3QpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkQ2hvaWNlLmdvdG8pIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBzZWxlY3RlZENob2ljZS5nb3RvKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IFN0b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9zdG9yeVByb3h5L1N0b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IHN0b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShTdG9yeVByb3h5Lk5BTUUpO1xuICAgIGNvbnN0IG5ld05vZGUgPSBhcmdzWzBdO1xuICAgIHN0b3J5UHJveHkuZ29Ub05vZGUobmV3Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudFN0ZXAgPSBzdG9yeVByb3h5LmdldEN1cnJlbnROb2RlU3RlcCgpO1xuXG4gICAgaWYgKGN1cnJlbnRTdGVwKSB7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTik7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NURVAsIHtcbiAgICAgICAgICAgIHRyZWVJZDogc3RvcnlQcm94eS5jdXJyZW50VHJlZSxcbiAgICAgICAgICAgIHN0ZXA6IGN1cnJlbnRTdGVwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50U3RlcCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm90aWZpY2F0aW9uIG9mIGN1cnJlbnRTdGVwLm5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU0hPT1QgQ09NTUFORDogJHtub3RpZmljYXRpb24ubmFtZX1gKTtcbiAgICAgICAgICAgICAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24ubmFtZSwgLi4ubm90aWZpY2F0aW9uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVORF9ESUFMT0dVRSk7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5pbXBvcnQgeyBnYW1lcGxheU1vZGVUeXBlcyB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVWTyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmREaWFsb2d1ZUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGdhbWVzdGF0ZVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgZ2FtZXN0YXRlUHJveHkudXBkYXRlR2FtZVN0YXRlVHlwZShnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTik7XG5cblxuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMKTtcblxufVxuIiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJNZWRpYXRvciB9IGZyb20gJy4uL3ZpZXcvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlckFuZEF0dGFja0NvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuXG4gICAgY29uc3QgdGFyZ2V0Q2hhcmFjdGVySWQgPSBhcmdzWzBdO1xuXG4gICAgY29uc3QgcGxheWVyQ2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIFwicGxheWVyXCIpO1xuICAgIGNvbnN0IHRhcmdldENoYXJhY3RlclByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0YXJnZXRDaGFyYWN0ZXJJZCk7XG5cbiAgICBjb25zdCBwbGF5ZXJDaGFyYWN0ZXJNZWRpYXRvciA9IGZhY2FkZS5yZXRyaWV2ZU1lZGlhdG9yKEdhbWVDaGFyYWN0ZXJNZWRpYXRvci5OQU1FICsgXCJwbGF5ZXJcIik7XG5cblxuICAgIGNvbnN0IHBhdGhUb1RhcmdldCA9IG5hdmlnYXRlVG9DaGFyYWN0ZXIocGxheWVyQ2hhcmFjdGVyUHJveHksIHRhcmdldENoYXJhY3RlclByb3h5KTtcbiAgICBpZiAocGF0aFRvVGFyZ2V0KSB7XG4gICAgICAgIHBsYXllckNoYXJhY3Rlck1lZGlhdG9yLmhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoV2l0aFByb21pc2UocGF0aFRvVGFyZ2V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIHRhcmdldENoYXJhY3RlcklkKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgXCJwbGF5ZXJcIiwgdGFyZ2V0Q2hhcmFjdGVySWQpO1xuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbmF2aWdhdGVUb0NoYXJhY3RlcihwbGF5ZXJDaGFyYWN0ZXJQcm94eSwgdGFyZ2V0Q2hhcmFjdGVyUHJveHkpIHtcbiAgICBjb25zdCBjb25uZWN0ZWROb2RlcyA9IHRhcmdldENoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlLmNvbm5lY3RlZE5vZGVzO1xuICAgIGNvbnN0IHBsYXllck5vZGUgPSBwbGF5ZXJDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgIGNvbnN0IGlzQWRqYWNlbnQgPSBjb25uZWN0ZWROb2Rlcy5zb21lKG4gPT4gbi5lcXVhbHMocGxheWVyTm9kZSkpO1xuXG4gICAgaWYgKGlzQWRqYWNlbnQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSB0aGVyZVxuICAgICAgICByZXR1cm4gW3BsYXllck5vZGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVub2NjdXBpZWROb2RlcyA9IGNvbm5lY3RlZE5vZGVzLmZpbHRlcihub2RlID0+ICFub2RlLm9jY3VwaWVkKTtcbiAgICAgICAgaWYgKHVub2NjdXBpZWROb2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKHBsYXllck5vZGUsIHVub2NjdXBpZWROb2Rlc1swXSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdW5vY2N1cGllZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJQYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChwbGF5ZXJOb2RlLCB1bm9jY3VwaWVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclBhdGgubGVuZ3RoIDwgc2hvcnRlc3RQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdFBhdGggPSBvdGhlclBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2hvcnRlc3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lU3RhdGVQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVTdGF0ZS9HYW1lU3RhdGVQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IG5ld0FjdGlvbiA9IGFyZ3NbMF07XG4gICAgY29uc3QgZ2FtZVN0YXRlUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKTtcbiAgICBnYW1lU3RhdGVQcm94eS5jdXJyZW50QWN0aW9uID0gbmV3QWN0aW9uO1xuXG59IiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2hhcmFjdGVyUHJveHkgfSBmcm9tICcuLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRGlhbG9ndWVTa2lsbFRlc3RDb21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCB0ZXN0ID0gYXJnc1swXTtcbiAgICBjb25zdCBjaGFyYWN0ZXJQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG5cbiAgICBjb25zdCBwbGF5ZXJTa2lsbCA9IGNoYXJhY3RlclByb3h5LmdldFNraWxsVG90YWwodGVzdC5za2lsbClcblxuICAgIC8vIFJvbGwgZGljZVxuICAgIGNvbnN0IGRpZTEgPSByb2xsRGljZSgpO1xuICAgIGNvbnN0IGRpZTIgPSByb2xsRGljZSgpO1xuXG4gICAgY29uc3QgdG90YWxSb2xsID0gZGllMSArIGRpZTI7XG5cbiAgICBjb25zdCBzdWNjZXNzID0gcGxheWVyU2tpbGwgPj0gdG90YWxSb2xsO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU0tJTExfVEVTVCwgdGVzdC5za2lsbCwgcGxheWVyU2tpbGwsIGRpZTEsIGRpZTIsIHN1Y2Nlc3MpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFN1Y2NlZWRlZCAke3Rlc3Quc2tpbGx9IHdpdGggYSAke3BsYXllclNraWxsfSB2cyAke2RpZTF9KyR7ZGllMn1gKTtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkdPX1RPX0RJQUxPR1VFX05PREUsIHRlc3Quc3VjY2Vzcy5nb3RvKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgJHt0ZXN0LnNraWxsfSB3aXRoIGEgJHtwbGF5ZXJTa2lsbH0gdnMgJHtkaWUxfSske2RpZTJ9YCk7XG4gICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCB0ZXN0LmZhaWx1cmUuZ290byk7XG5cbiAgICB9XG59XG5cblxuZnVuY3Rpb24gcm9sbERpY2UoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDYpO1xufSIsImNvbnN0IHsgRmFjYWRlIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBJbnZlbnRvcnlQcm94eSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9JbnZlbnRvcnlQcm94eSc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuL0dhbWVDb21tYW5kcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UobXVsdGl0b25LZXkpO1xuICAgIGNvbnN0IGludmVudG9yeVByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoSW52ZW50b3J5UHJveHkuTkFNRSk7XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUwsIGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zLCBpbnZlbnRvcnlQcm94eS5lcXVpcG1lbnRTbG90cyk7XG59XG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi9HYW1lQ29tbWFuZHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVvcmRlckludmVudG9yeUl0ZW1Db21tYW5kKG11bHRpdG9uS2V5LCBub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKG11bHRpdG9uS2V5KTtcbiAgICBjb25zdCBpbnZlbnRvcnlQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEludmVudG9yeVByb3h5Lk5BTUUpO1xuXG4gICAgY29uc3Qgb3JpZ2luYWxJbmRleCA9IGFyZ3NbMF07XG4gICAgY29uc3QgbmV3SW5kZXggPSBhcmdzWzFdO1xuXG4gICAgaW52ZW50b3J5UHJveHkucmVvcmRlckludmVudG9yeUl0ZW0ob3JpZ2luYWxJbmRleCwgbmV3SW5kZXgpO1xuXG4gICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMLCBpbnZlbnRvcnlQcm94eS5pbnZlbnRvcnlJdGVtcywgaW52ZW50b3J5UHJveHkuZXF1aXBtZW50U2xvdHMpO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IENvbWJhdFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvY29tYmF0L0NvbWJhdFByb3h5JztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEludmVudG9yeVByb3h5IH0gZnJvbSAnLi4vbW9kZWwvaW52ZW50b3J5L0ludmVudG9yeVByb3h5JztcblxuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXBJdGVtVG9TbG90Q29tbWFuZChtdWx0aXRvbktleSwgbm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaW52ZW50b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJbnZlbnRvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpdGVtSW5kZXggPSBhcmdzWzBdO1xuICAgIGNvbnN0IGVxdWlwbWVudEtleSA9IGFyZ3NbMV07XG4gICAgY29uc3QgaXRlbSA9IGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zW2l0ZW1JbmRleF07XG5cbiAgICBpbnZlbnRvcnlQcm94eS5hdHRlbXB0VG9FcXVpcEl0ZW1Ub1Nsb3QoZXF1aXBtZW50S2V5LCBpdGVtKTtcblxuICAgIGlmIChpdGVtLnR5cGUgPT09IFwid2VhcG9uXCIpIHtcbiAgICAgICAgZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX1dFQVBPTiwgXCJwbGF5ZXJcIiwgaXRlbS5pZCk7XG5cbiAgICB9XG5cbiAgICBmYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUwsIGludmVudG9yeVByb3h5LmludmVudG9yeUl0ZW1zLCBpbnZlbnRvcnlQcm94eS5lcXVpcG1lbnRTbG90cyk7XG5cbn0iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgSXRlbXNQcm94eSB9IGZyb20gJy4uL21vZGVsL2l0ZW1zL0l0ZW1zUHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5UHJveHkgfSBmcm9tICcuLi9tb2RlbC9pbnZlbnRvcnkvSW52ZW50b3J5UHJveHknO1xuaW1wb3J0IHsgSW52ZW50b3J5SXRlbSB9IGZyb20gJy4uL21vZGVsL2ludmVudG9yeS9pdGVtcy9JbnZlbnRvcnlJdGVtJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQobXVsdGl0b25LZXksIG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBpdGVtSWQgPSBhcmdzWzBdO1xuICAgIGNvbnN0IGZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShtdWx0aXRvbktleSk7XG4gICAgY29uc3QgaXRlbXNQcm94eSA9IGZhY2FkZS5yZXRyaWV2ZVByb3h5KEl0ZW1zUHJveHkuTkFNRSk7XG4gICAgY29uc3QgaW52ZW50b3J5UHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShJbnZlbnRvcnlQcm94eS5OQU1FKTtcbiAgICBjb25zdCBpbnZlbnRvcnlJdGVtID0gbmV3IEludmVudG9yeUl0ZW0oaXRlbXNQcm94eS5nZXRJdGVtRGF0YShpdGVtSWQpKTtcbiAgICBpbnZlbnRvcnlQcm94eS5hZGRJbnZlbnRvcnlJdGVtKGludmVudG9yeUl0ZW0pO1xuXG59IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgcGFyc2VHYW1lTWFwQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9QYXJzZUdhbWVNYXBDb21tYW5kJztcbmltcG9ydCB7IHN0YXJ0dXBDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0dXBDb21tYW5kJztcbmltcG9ydCB7IGNoYW5nZVNjZW5lQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9DaGFuZ2VTY2VuZUNvbW1hbmQnO1xuaW1wb3J0IHsgc3RhcnRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1N0YXJ0Q29tYmF0Q29tbWFuZCc7XG5pbXBvcnQgeyBuZXh0Q29tYmF0VHVybkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFR1cm5Db21tYW5kJztcbmltcG9ydCB7IG5leHRDb21iYXRSb3VuZENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmV4dENvbWJhdFJvdW5kQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRUdXJuQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FbmRDb21iYXRUdXJuQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmVteVR1cm5Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZW15VHVybkNvbW1hbmQnO1xuaW1wb3J0IHsgc2VsZWN0ZWROb2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3RlZE5vZGVDb21tYW5kJztcbmltcG9ydCB7IGNvbWJhdE5hdmlnYXRlVG9Ob2RlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9Db21iYXROYXZpZ2F0ZVRvTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgc2hvd1dhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvU2hvd1dhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgaGlkZVdhbGthYmxlQXJlYUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvSGlkZVdhbGthYmxlQXJlYUNvbW1hbmQnO1xuaW1wb3J0IHsgYXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQXdhaXRQbGF5ZXJDb21iYXRJbnB1dENvbW1hbmQnO1xuaW1wb3J0IHsgZW5kTW92ZW1lbnRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZE1vdmVtZW50Q29tbWFuZCc7XG5pbXBvcnQgeyBzZWxlY3RlZEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL1NlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQnO1xuaW1wb3J0IHsgcmVzb2x2ZUF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZUF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQnO1xuaW1wb3J0IHsga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0tpbGxHYW1lQ2hhcmFjdGVyQ29tbWFuZCc7XG5pbXBvcnQgeyBlbmRDb21iYXRDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZENvbWJhdENvbW1hbmQnO1xuaW1wb3J0IHsgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0RldGVybWluZUVuZW15QWN0aW9uQ29tbWFuZCc7XG5pbXBvcnQgeyByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBlcXVpcFdlYXBvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvRXF1aXBXZWFwb25Db21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvTmF2aWdhdGVUaHJvdWdoUG9ydGFsQ29tbWFuZCc7XG5pbXBvcnQgeyBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkUGxheWVyQ2hhcmFjdGVyVG9NYXBDb21tYW5kJztcbmltcG9ydCB7IG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRUYWxrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsayc7XG5pbXBvcnQgeyBzdGFydERpYWxvZ3VlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TdGFydERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBjb250aW51ZURpYWxvZ3VlVGV4dENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kJztcbmltcG9ydCB7IHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9TZWxlY3REaWFsb2d1ZUNob2ljZUNvbW1hbmQnO1xuaW1wb3J0IHsgZ29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvR29Ub0RpYWxvZ3VlTm9kZUNvbW1hbmQnO1xuaW1wb3J0IHsgZW5kRGlhbG9ndWVDb21tYW5kIH0gZnJvbSAnLi9jb250cm9sbGVyL0VuZERpYWxvZ3VlQ29tbWFuZCc7XG5pbXBvcnQgeyBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9OYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kQXR0YWNrQ29tbWFuZCc7XG5pbXBvcnQgeyBjaGFuZ2VHYW1lcGxheUFjdGlvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kJztcbmltcG9ydCB7IHJlc29sdmVEaWFsb2d1ZVNraWxsVGVzdENvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvUmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCc7XG5pbXBvcnQgeyBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQ2xpY2tJbnZlbnRvcnlCdXR0b25Db21tYW5kJztcbmltcG9ydCB7IHJlb3JkZXJJbnZlbnRvcnlJdGVtQ29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9SZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQnO1xuaW1wb3J0IHsgZXF1aXBJdGVtVG9TbG90Q29tbWFuZCB9IGZyb20gJy4vY29udHJvbGxlci9FcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kJztcbmltcG9ydCB7IGFkZEl0ZW1Ub0ludmVudG9yeUNvbW1hbmQgfSBmcm9tICcuL2NvbnRyb2xsZXIvQWRkSXRlbXRvSW52ZW50b3J5Q29tbWFuZCc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmFjYWRlIGV4dGVuZHMgRmFjYWRlIHtcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2Uoa2V5KSB7XG4gICAgICAgIGlmICghRmFjYWRlLmluc3RhbmNlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIEZhY2FkZS5pbnN0YW5jZU1hcFtrZXldID0gbmV3IEdhbWVGYWNhZGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmFjYWRlLmluc3RhbmNlTWFwW2tleV07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBLRVkoKSB7IHJldHVybiBcIkNhY29nZW5cIiB9O1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQ2Fjb2dlbkZhY2FkZVwiIH07XG4gICAgc3RhdGljIGdldCBTVEFSVFVQKCkgeyByZXR1cm4gR2FtZUZhY2FkZS5OQU1FICsgXCJTdGFydFVwXCIgfTtcblxuICAgIHN0YXJ0dXAoZ2FtZSkge1xuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oR2FtZUZhY2FkZS5TVEFSVFVQLCBnYW1lKTtcbiAgICB9XG5cbiAgICBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3VwZXIuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29udHJvbGxlcigpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUZhY2FkZS5TVEFSVFVQLCBzdGFydHVwQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIGNoYW5nZVNjZW5lQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5QQVJTRV9HQU1FTUFQLCBwYXJzZUdhbWVNYXBDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNUQVJUX0NPTUJBVCwgc3RhcnRDb21iYXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLk5FWFRfQ09NQkFUX1RVUk4sIG5leHRDb21iYXRUdXJuQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ORVhUX0NPTUJBVF9ST1VORCwgbmV4dENvbWJhdFJvdW5kQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk4sIGVuZENvbWJhdFR1cm5Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORU1ZX1RVUk4sIGVuZW15VHVybkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0VMRUNURURfTk9ERSwgc2VsZWN0ZWROb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DT01CQVRfTkFWSUdBVEVfVE9fTk9ERSwgY29tYmF0TmF2aWdhdGVUb05vZGVDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTiwgZGV0ZXJtaW5lRW5lbXlBY3Rpb25Db21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuU0hPV19XQUxLQUJMRV9BUkVBLCBzaG93V2Fsa2FibGVBcmVhQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5ISURFX1dBTEtBQkxFX0FSRUEsIGhpZGVXYWxrYWJsZUFyZWFDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQsIGF3YWl0UGxheWVyQ29tYmF0SW5wdXRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkZJTklTSEVEX01PVkUsIGVuZE1vdmVtZW50Q29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TRUxFQ1RfR0FNRV9DSEFSQUNURVIsIHNlbGVjdGVkR2FtZUNoYXJhY3RlckNvbW1hbmQpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5SRVNPTFZFX0FUVEFDSywgcmVzb2x2ZUF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVTT0xWRV9SQU5HRURfQVRUQUNLLCByZXNvbHZlUmFuZ2VkQXR0YWNrQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5NT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSywgbW92ZUFsb25nUGF0aEFuZEF0dGFja0NvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9BVFRBQ0ssIG5hdmlnYXRlVG9DaGFyYWN0ZXJBbmRBdHRhY2tDb21tYW5kKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuS0lMTF9HQU1FX0NIQVJBQ1RFUiwga2lsbEdhbWVDaGFyYWN0ZXJDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkVORF9DT01CQVQsIGVuZENvbWJhdENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfV0VBUE9OLCBlcXVpcFdlYXBvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVEhST1VHSF9QT1JUQUwsIG5hdmlnYXRlVGhyb3VnaFBvcnRhbENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQUREX1BMQVlFUl9DSEFSQUNURVJfVE9fTUFQLCBhZGRQbGF5ZXJDaGFyYWN0ZXJUb01hcENvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLLCBuYXZpZ2F0ZVRvQ2hhcmFjdGVyQW5kVGFsa0NvbW1hbmQpXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5TVEFSVF9ESUFMT0dVRSwgc3RhcnREaWFsb2d1ZUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuQ09OVElOVUVfRElBTE9HVUVfTk9ERSwgY29udGludWVEaWFsb2d1ZVRleHRDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UsIHNlbGVjdERpYWxvZ3VlQ2hvaWNlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HT19UT19ESUFMT0dVRV9OT0RFLCBnb1RvRGlhbG9ndWVOb2RlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5FTkRfRElBTE9HVUUsIGVuZERpYWxvZ3VlQ29tbWFuZCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgY2hhbmdlR2FtZXBsYXlBY3Rpb25Db21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLlJFU09MVkVfRElBTE9HVUVfU0tJTExfVEVTVCwgcmVzb2x2ZURpYWxvZ3VlU2tpbGxUZXN0Q29tbWFuZCk7XG5cbiAgICAgICAgLy8gSW52ZW50b3J5IGNvbW1hbmRzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDb21tYW5kKEdhbWVDb21tYW5kcy5DTElDS19JTlZFTlRPUllfQlVUVE9OLCBjbGlja0ludmVudG9yeUJ1dHRvbkNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuUkVPUkRFUl9JTlZFVE9SWV9JVEVNLCByZW9yZGVySW52ZW50b3J5SXRlbUNvbW1hbmQpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZChHYW1lQ29tbWFuZHMuRVFVSVBfSVRFTV9UT19TTE9ULCBlcXVpcEl0ZW1Ub1Nsb3RDb21tYW5kKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckNvbW1hbmQoR2FtZUNvbW1hbmRzLkFERF9JVEVNX1RPX0lOVkVOVE9SWSwgYWRkSXRlbVRvSW52ZW50b3J5Q29tbWFuZCk7XG4gICAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIEJvdEJlaGF2aW91clR5cGVzIHtcbiAgICBzdGF0aWMgZ2V0IE5PTkUoKSB7IHJldHVybiAwIH07XG4gICAgc3RhdGljIGdldCBCQVNJQ19NRUxFRSgpIHsgcmV0dXJuIDEgfTtcbiAgICBzdGF0aWMgZ2V0IEJBU0lDX1JBTkdFRCgpIHsgcmV0dXJuIDIgfTtcblxufVxuXG5leHBvcnQgY29uc3QgYm90QmVoYXZpb3VyRW51bXMgPSBbXG4gICAgeyBOT05FOiBCb3RCZWhhdmlvdXJUeXBlcy5OT05FIH0sXG4gICAgeyBCQVNJQ19NRUxFRTogQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfTUVMRUUgfSxcbiAgICB7IEJBU0lDX1JBTkdFRDogQm90QmVoYXZpb3VyVHlwZXMuQkFTSUNfUkFOR0VEIH0sXG5dIiwiZXhwb3J0IGNsYXNzIEdhbWVDb21tYW5kcyB7XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORVwiIH07XG4gICAgc3RhdGljIGdldCBDSEFOR0VfU0NFTkVfQ09NUExFVEUoKSB7IHJldHVybiBcIkNIQU5HRV9TQ0VORV9DT01QTEVURVwiIH07XG4gICAgc3RhdGljIGdldCBBUFBfSU5JVElBTElTRUQoKSB7IHJldHVybiBcIkFQUF9JTklUSUFMSVNFRFwiIH07XG4gICAgc3RhdGljIGdldCBQQVJTRV9HQU1FTUFQKCkgeyByZXR1cm4gXCJQQVJTRV9HQU1FTUFQXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE1BUF9HUklEX0NSRUFURUQoKSB7IHJldHVybiBcIk1BUF9HUklEX0NSRUFURURcIiB9O1xuXG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9UT19OT0RFKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX1dBWVBPSU5UKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19XQVlQT0lOVFwiIH07XG4gICAgc3RhdGljIGdldCBOQVZJR0FURV9USFJPVUdIX1BPUlRBTCgpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVEhST1VHSF9QT1JUQUxcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ09NQkFUX05BVklHQVRFX1RPX05PREUoKSB7IHJldHVybiBcIkNPTUJBVF9OQVZJR0FURV9UT19OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFVF9DQU1FUkFfVEFSR0VUKCkgeyByZXR1cm4gXCJTRVRfQ0FNRVJBX1RBUkdFVFwiIH07XG4gICAgc3RhdGljIGdldCBJTlBVVF9EUkFHX01PVVNFKCkgeyByZXR1cm4gXCJJTlBVVF9EUkFHX01PVVNFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTU9WRURfVE9fTk9ERSgpIHsgcmV0dXJuIFwiTU9WRURfVE9fTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBGSU5JU0hFRF9NT1ZFKCkgeyByZXR1cm4gXCJGSU5JU0hFRF9NT1ZFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNUQVJUX0NPTUJBVCgpIHsgcmV0dXJuIFwiU1RBUlRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNIT1dfVE9BU1RfTUVTU0FHRSgpIHsgcmV0dXJuIFwiU0hPV19UT0FTVF9NRVNTQUdFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgTkVYVF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfVFVSTlwiIH07XG4gICAgc3RhdGljIGdldCBORVhUX0NPTUJBVF9ST1VORCgpIHsgcmV0dXJuIFwiTkVYVF9DT01CQVRfUk9VTkRcIiB9O1xuXG4gICAgc3RhdGljIGdldCBFTkRfQ09NQkFUKCkgeyByZXR1cm4gXCJFTkRfQ09NQkFUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9DT01CQVRfVFVSTigpIHsgcmV0dXJuIFwiRU5EX0NPTUJBVF9UVVJOXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORU1ZX1RVUk4oKSB7IHJldHVybiBcIkVORU1ZX1RVUk5cIiB9O1xuICAgIHN0YXRpYyBnZXQgU0VMRUNURURfTk9ERSgpIHsgcmV0dXJuIFwiU0VMRUNURURfTk9ERVwiIH07XG4gICAgc3RhdGljIGdldCBERVRFUk1JTkVfTkVYVF9FTkVNWV9BQ1RJT04oKSB7IHJldHVybiBcIkRFVEVSTUlORV9ORVhUX0VORU1ZX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX0FMT05HX1BBVEgoKSB7IHJldHVybiBcIk5BVklHQVRFX0FMT05HX1BBVEhcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIlNIT1dfV0FMS0FCTEVfQVJFQVwiIH07XG4gICAgc3RhdGljIGdldCBISURFX1dBTEtBQkxFX0FSRUEoKSB7IHJldHVybiBcIkhJREVfV0FMS0FCTEVfQVJFQVwiIH07XG5cblxuICAgIHN0YXRpYyBnZXQgRU5EX01PVkVNRU5UKCkgeyByZXR1cm4gXCJFTkRfTU9WRU1FTlRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVCgpIHsgcmV0dXJuIFwiQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVFwiIH07XG4gICAgc3RhdGljIGdldCBTRVRfQ0hBUkFDVEVSX1RPX05PREUoKSB7IHJldHVybiBcIlNFVF9DSEFSQUNURVJfVE9fTk9ERVwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9HQU1FX0NIQVJBQ1RFUigpIHsgcmV0dXJuIFwiU0VMRUNUX0dBTUVfQ0hBUkFDVEVSXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgVE9HR0xFX0JVVFRPTigpIHsgcmV0dXJuIFwiVE9HR0xFX0JVVFRPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFVTRV9QTEFZRVJfQUNUSU9OKCkgeyByZXR1cm4gXCJVU0VfUExBWUVSX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IFJFU09MVkVfQVRUQUNLKCkgeyByZXR1cm4gXCJSRVNPTFZFX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBSRVNPTFZFX1JBTkdFRF9BVFRBQ0soKSB7IHJldHVybiBcIlJFU09MVkVfUkFOR0VEX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBNT1ZFX0FMT05HX1BBVEhfQU5EX0FUVEFDSygpIHsgcmV0dXJuIFwiTU9WRV9BTE9OR19QQVRIX0FORF9BVFRBQ0tcIiB9O1xuXG4gICAgc3RhdGljIGdldCBVUERBVEVfU1RBTUlOQSgpIHsgcmV0dXJuIFwiVVBEQVRFX1NUQU1JTkFcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ERUFUSCgpIHsgcmV0dXJuIFwiRElTUExBWV9ERUFUSFwiIH07XG4gICAgc3RhdGljIGdldCBESVNQTEFZX0FUVEFDSygpIHsgcmV0dXJuIFwiRElTUExBWV9BVFRBQ0tcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ISVQoKSB7IHJldHVybiBcIkRJU1BMQVlfSElUXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEtJTExfR0FNRV9DSEFSQUNURVIoKSB7IHJldHVybiBcIktJTExfR0FNRV9DSEFSQUNURVJcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDSEFSQUNURVJfTE9PS19BVCgpIHsgcmV0dXJuIFwiQ0hBUkFDVEVSX0xPT0tfQVRcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0hBTkdFX1NUQU1JTkEoKSB7IHJldHVybiBcIkNIQU5HRV9TVEFNSU5BXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRVFVSVBfV0VBUE9OKCkgeyByZXR1cm4gXCJFUVVJUF9XRUFQT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgVVNFX0FDVElPTigpIHsgcmV0dXJuIFwiVVNFX0FDVElPTlwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfRkxPQVRJTkdfU1RBVFVTKCkgeyByZXR1cm4gXCJESVNQTEFZX0ZMT0FUSU5HX1NUQVRVU1wiIH07XG4gICAgc3RhdGljIGdldCBBRERfUExBWUVSX0NIQVJBQ1RFUl9UT19NQVAoKSB7IHJldHVybiBcIkFERF9QTEFZRVJfQ0hBUkFDVEVSX1RPX01BUFwiIH07XG5cbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfVEFMSygpIHsgcmV0dXJuIFwiTkFWSUdBVEVfVE9fQ0hBUkFDVEVSX0FORF9UQUxLXCIgfTtcbiAgICBzdGF0aWMgZ2V0IE5BVklHQVRFX1RPX0NIQVJBQ1RFUl9BTkRfQVRUQUNLKCkgeyByZXR1cm4gXCJOQVZJR0FURV9UT19DSEFSQUNURVJfQU5EX0FUVEFDS1wiIH07XG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX1BBTkVMKCkgeyByZXR1cm4gXCJTSE9XX0RJQUxPR1VFX1BBTkVMXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhJREVfRElBTE9HVUVfUEFORUwoKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfUEFORUxcIiB9O1xuXG4gICAgc3RhdGljIGdldCBTSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTigpIHsgcmV0dXJuIFwiU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT05cIiB9O1xuICAgIHN0YXRpYyBnZXQgSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT04oKSB7IHJldHVybiBcIkhJREVfRElBTE9HVUVfQ09OVElOVUVfQlVUVE9OXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TVEVQKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NURVBcIiB9O1xuICAgIHN0YXRpYyBnZXQgRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUKCkgeyByZXR1cm4gXCJESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1RcIiB9O1xuXG4gICAgc3RhdGljIGdldCBDT05USU5VRV9ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJDT05USU5VRV9ESUFMT0dVRV9OT0RFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNFTEVDVF9ESUFMT0dVRV9DSE9JQ0UoKSB7IHJldHVybiBcIlNFTEVDVF9ESUFMT0dVRV9DSE9JQ0VcIiB9O1xuICAgIHN0YXRpYyBnZXQgUkVTT0xWRV9ESUFMT0dVRV9TS0lMTF9URVNUKCkgeyByZXR1cm4gXCJSRVNPTFZFX0RJQUxPR1VFX1NLSUxMX1RFU1RcIiB9O1xuICAgIHN0YXRpYyBnZXQgQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUygpIHsgcmV0dXJuIFwiQ0xFQVJfRElBTE9HVUVfQ0hPSUNFU1wiIH07XG4gICAgc3RhdGljIGdldCBHT19UT19ESUFMT0dVRV9OT0RFKCkgeyByZXR1cm4gXCJHT19UT19ESUFMT0dVRV9OT0RFXCIgfTtcblxuICAgIHN0YXRpYyBnZXQgU1RBUlRfRElBTE9HVUUoKSB7IHJldHVybiBcIlNUQVJUX0RJQUxPR1VFXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEVORF9ESUFMT0dVRSgpIHsgcmV0dXJuIFwiRU5EX0RJQUxPR1VFXCIgfTtcblxuXG4gICAgc3RhdGljIGdldCBHQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCgpIHsgcmV0dXJuIFwiR0FNRVBMQVlfQUNUSU9OX0NIQU5HRURcIiB9O1xuXG4gICAgLy8gSW52ZW50b3J5IENvbW1hbmRzXG4gICAgc3RhdGljIGdldCBDTElDS19JTlZFTlRPUllfQlVUVE9OKCkgeyByZXR1cm4gXCJDTElDS19JTlZFTlRPUllfQlVUVE9OXCIgfTtcbiAgICBzdGF0aWMgZ2V0IERJU1BMQVlfSU5WRU5UT1JZX1BBTkVMKCkgeyByZXR1cm4gXCJESVNQTEFZX0lOVkVOVE9SWV9QQU5FTFwiIH07XG4gICAgc3RhdGljIGdldCBSRU9SREVSX0lOVkVUT1JZX0lURU0oKSB7IHJldHVybiBcIlJFT1JERVJfSU5WRVRPUllfSVRFTVwiIH07XG4gICAgc3RhdGljIGdldCBFUVVJUF9JVEVNX1RPX1NMT1QoKSB7IHJldHVybiBcIkVRVUlQX0lURU1fVE9fU0xPVFwiIH07XG4gICAgc3RhdGljIGdldCBBRERfSVRFTV9UT19JTlZFTlRPUlkoKSB7IHJldHVybiBcIkFERF9JVEVNX1RPX0lOVkVOVE9SWVwiIH07XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBXZWFwb25UeXBlcyB7XG4gICAgLy8gTUVMRUVcbiAgICBzdGF0aWMgZ2V0IFNXT1JEKCkgeyByZXR1cm4gXCJzd29yZFwiIH07XG4gICAgc3RhdGljIGdldCBBWEUoKSB7IHJldHVybiBcImF4ZVwiIH07XG4gICAgc3RhdGljIGdldCBLTklGRSgpIHsgcmV0dXJuIFwia25pZmVcIiB9O1xuICAgIHN0YXRpYyBnZXQgU1RBRkYoKSB7IHJldHVybiBcInN0YWZmXCIgfTtcbiAgICBzdGF0aWMgZ2V0IEhBTU1FUigpIHsgcmV0dXJuIFwiaGFtbWVyXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFNQRUFSKCkgeyByZXR1cm4gXCJzcGVhclwiIH07XG4gICAgc3RhdGljIGdldCBNQUNFKCkgeyByZXR1cm4gXCJtYWNlXCIgfTtcbiAgICBzdGF0aWMgZ2V0IFBPTEVBUk0oKSB7IHJldHVybiBcInBvbGVhcm1cIiB9O1xuICAgIHN0YXRpYyBnZXQgTUFVTCgpIHsgcmV0dXJuIFwibWF1bFwiIH07XG4gICAgc3RhdGljIGdldCBHUkVBVFNXT1JEKCkgeyByZXR1cm4gXCJncmVhdHN3b3JkXCIgfTtcbiAgICBzdGF0aWMgZ2V0IENMVUIoKSB7IHJldHVybiBcImNsdWJcIiB9O1xuICAgIHN0YXRpYyBnZXQgVU5BUk1FRCgpIHsgcmV0dXJuIFwidW5hcm1lZFwiIH07XG4gICAgc3RhdGljIGdldCBTSElFTEQoKSB7IHJldHVybiBcInNoaWVsZFwiIH07XG5cbiAgICAvLyBSQU5HRURcbiAgICBzdGF0aWMgZ2V0IEZVU0lMKCkgeyByZXR1cm4gXCJmdXNpbFwiIH07XG4gICAgc3RhdGljIGdldCBCT1coKSB7IHJldHVybiBcImJvd1wiIH07XG4gICAgc3RhdGljIGdldCBDUk9TU0JPVygpIHsgcmV0dXJuIFwiY3Jvc3Nib3dcIiB9O1xuICAgIHN0YXRpYyBnZXQgUElTVE9MRVQoKSB7IHJldHVybiBcInBpc3RvbGV0XCIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYXBvbkVudW1zID0gT2JqZWN0LmVudHJpZXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoV2VhcG9uVHlwZXMpKVxuICAgIC5maWx0ZXIoKFtrZXksIGRlc2NyaXB0b3JdKSA9PiB0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09ICdmdW5jdGlvbicpXG4gICAgLm1hcCgoW2tleV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHsgW2tleV06IFdlYXBvblR5cGVzW2tleV0gfTtcbiAgICB9KTsiLCJleHBvcnQgY2xhc3MgQ29tYmF0Vk8ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2lwYW50cywgdGVhbXMpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHM7XG4gICAgICAgIHRoaXMucm91bmRJbml0aWF0aXZlID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljaXBhbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudGVhbXMgPSB0ZWFtcztcbiAgICB9XG5cbiAgICBnZXQgbmV4dFR1cm5DaGFyYWN0ZXJJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91bmRJbml0aWF0aXZlWzBdO1xuICAgIH1cbn0iLCJjb25zdCB7IFByb3h5IH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IEdhbWVDaGFyYWN0ZXJWTyB9ID0gcmVxdWlyZSgnLi9HYW1lQ2hhcmFjdGVyVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3RlclByb3h5IGV4dGVuZHMgUHJveHkge1xuICAgIGdldCB2bygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSgpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDaGFyYWN0ZXJQcm94eV9cIiB9O1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgcGFyYW1zLmlkLCBuZXcgR2FtZUNoYXJhY3RlclZPKHBhcmFtcykpO1xuICAgIH1cblxuICAgIHJlc2V0Q29tYmF0VHVyblN0YXRlKCkge1xuICAgICAgICB0aGlzLnZvLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy52by5tYXhNb3ZlbWVudDtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVBY3Rpb25zID0gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICB1c2VNb3ZlbWVudChjb3N0KSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlTW92ZW1lbnQgLT0gY29zdDtcbiAgICB9XG5cbiAgICBhcHBseURhbWFnZShkYW1hbmdlKSB7XG4gICAgICAgIHRoaXMudm8uY3VycmVudFN0YW1pbmEgLT0gZGFtYW5nZTtcbiAgICAgICAgdGhpcy52by5jdXJyZW50U3RhbWluYSA9IE1hdGgubWF4KDAsIHRoaXMudm8uY3VycmVudFN0YW1pbmEpO1xuXG4gICAgICAgIGlmICh0aGlzLnZvLmN1cnJlbnRTdGFtaW5hID4gMCkge1xuICAgICAgICAgICAgLy8gQWxpdmVcbiAgICAgICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLlVQREFURV9TVEFNSU5BICsgdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0aGlzLnZvLmN1cnJlbnRTdGFtaW5hLCB0aGlzLnZvLm1heGltdW1TdGFtaW5hKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlYWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaWR9IGRpZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkNIQU5HRV9TVEFNSU5BICsgdGhpcy5pZCwgdGhpcy52by5jdXJyZW50U3RhbWluYSwgdGhpcy52by5tYXhTdGFtaW5hKTtcbiAgICB9XG5cbiAgICBnZXRTa2lsbFRvdGFsKHNraWxsS2V5KSB7XG4gICAgICAgIGlmICh0aGlzLnZvLmFkdmFuY2VkU2tpbGxzLmhhcyhza2lsbEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNraWxsICsgdGhpcy52by5hZHZhbmNlZFNraWxscy5nZXQoc2tpbGxLZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2tpbGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmlkO1xuICAgIH1cblxuICAgIGdldCBkaWFsb2d1ZVRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmRpYWxvZ3VlVHJlZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmN1cnJlbnROb2RlO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52by5jdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZS5vY2N1cGllZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52by5jdXJyZW50Tm9kZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnZvLmN1cnJlbnROb2RlLm9jY3VwaWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29tYmF0R3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmNvbWJhdEdyb3VwO1xuICAgIH1cblxuICAgIGdldCBpc05QQygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaXNOUEM7XG4gICAgfVxuXG4gICAgZ2V0IGF2YWlsYWJsZU1vdmVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudDtcbiAgICB9XG5cbiAgICBzZXQgYXZhaWxhYmxlTW92ZW1lbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5hdmFpbGFibGVNb3ZlbWVudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBhdmFpbGFibGVBY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5hdmFpbGFibGVBY3Rpb25zO1xuICAgIH1cblxuICAgIHNldCBhdmFpbGFibGVBY3Rpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudm8uYXZhaWxhYmxlQWN0aW9ucyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgdGhpcy5pZCxcbiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQWN0aW9ucywgdGhpcy5tYXhBY3Rpb25zUGVyVHVybik7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFjdGlvbnNQZXJUdXJuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5tYXhBY3Rpb25zUGVyVHVybjtcbiAgICB9XG5cbiAgICBnZXQgc2tpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLnNraWxsO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50U3RhbWluYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY3VycmVudFN0YW1pbmE7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRMdWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYTtcbiAgICB9XG5cbiAgICBnZXQgaXNEZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52by5jdXJyZW50U3RhbWluYSA8PSAwO1xuICAgIH1cblxuICAgIGdldCBib3RCZWhhdmlvdXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmJvdEJlaGF2aW91cjtcbiAgICB9XG5cbiAgICBnZXQgZXF1aXBwZWRXZWFwb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uO1xuICAgIH1cblxuICAgIHNldCBlcXVpcHBlZFdlYXBvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZvLmVxdWlwcGVkV2VhcG9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uaGVpZ2h0O1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEdhbWVDaGFyYWN0ZXJWTyB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJhbXMuaWQ7XG4gICAgICAgIHRoaXMuaXNOUEMgPSBwYXJhbXMuaXNOUEM7XG4gICAgICAgIHRoaXMuY29tYmF0R3JvdXAgPSBwYXJhbXMuY29tYmF0R3JvdXAgfHwgW107XG4gICAgICAgIHRoaXMuZGlhbG9ndWVUcmVlID0gcGFyYW1zLmRpYWxvZ3VlVHJlZSB8fCB0aGlzLmlkO1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFRyb2lrYSBzdGF0c1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUgPSBwYXJhbXMuaW5pdGlhdGl2ZSB8fCAyO1xuICAgICAgICB0aGlzLm1heE1vdmVtZW50ID0gcGFyYW1zLm1heE1vdmVtZW50IHx8IDY7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcGFyYW1zLmhlaWdodCB8fCAxLjg7XG4gICAgICAgIHRoaXMubWF4QWN0aW9uc1BlclR1cm4gPSAxO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLm1heEFjdGlvbnNQZXJUdXJuO1xuICAgICAgICB0aGlzLmF2YWlsYWJsZU1vdmVtZW50ID0gdGhpcy5tYXhNb3ZlbWVudDtcblxuICAgICAgICB0aGlzLnNraWxsID0gcGFyYW1zLnNraWxsIHx8IDE7XG5cbiAgICAgICAgdGhpcy5tYXhTdGFtaW5hID0gcGFyYW1zLm1heFN0YW1pbmEgfHwgMTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhbWluYSA9IHRoaXMubWF4U3RhbWluYTtcblxuICAgICAgICB0aGlzLm1heEx1Y2sgPSBwYXJhbXMubWF4THVjayB8fCAxO1xuICAgICAgICB0aGlzLmN1cnJlbnRMdWNrID0gdGhpcy5tYXhMdWNrO1xuXG4gICAgICAgIHRoaXMuYWR2YW5jZWRTa2lsbHMgPSBwYXJhbXMuYWR2YW5jZWRTa2lsbHMgfHwgbmV3IE1hcCgpO1xuXG4gICAgICAgIHRoaXMuYm90QmVoYXZpb3VyID0gcGFyYW1zLmJvdEJlaGF2aW91ciB8fCAwO1xuXG4gICAgICAgIHRoaXMuZXF1aXBwZWRXZWFwb24gPSBwYXJhbXMuZXF1aXBwZWRXZWFwb24gfHwgXCJ1bmFybWVkXCI7XG5cbiAgICB9XG59IiwiY29uc3QgeyBQcm94eSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgZ2V0QWRqYWNlbnRQb2ludHMgfSBmcm9tICcuLi8uLi91dGlscy9BZGphY2VudFBvaW50cyc7XG5jb25zdCB7IEdhbWVNYXBWTyB9ID0gcmVxdWlyZSgnLi9HYW1lTWFwVk8nKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVNYXBQcm94eSBleHRlbmRzIFByb3h5IHtcbiAgICBnZXQgdm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoKTtcbiAgICB9XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJHYW1lTWFwUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IobWFwR3JpZCwgd2FsbEJvdW5kaW5nQm94ZXMsIGNvdmVyLCBwb3J0YWxzLCBuYXZHcmlkKSB7XG4gICAgICAgIHN1cGVyKEdhbWVNYXBQcm94eS5OQU1FKTtcblxuICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFwR3JpZDogbWFwR3JpZCxcbiAgICAgICAgICAgIHdhbGxCb3VuZGluZ0JveGVzOiB3YWxsQm91bmRpbmdCb3hlcyxcbiAgICAgICAgICAgIGNvdmVyOiBjb3ZlcixcbiAgICAgICAgICAgIHBvcnRhbHM6IHBvcnRhbHMsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uR3JpZDogbmF2R3JpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKCkge1xuXG4gICAgfVxuXG4gICAgZmluZE5lYXJlc3ROb2RlKHRhcmdldFBvaW50KSB7XG4gICAgICAgIGNvbnN0IG1hcEdyaWQgPSB0aGlzLnZvLm1hcEdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbWFwR3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtYXBHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIGZpbmROZWFyZXN0V2F5cG9pbnQodGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbmF2R3JpZCA9IHRoaXMudm8ubmF2aWdhdGlvbkdyaWQ7XG5cbiAgICAgICAgbGV0IG5lYXJlc3ROb2RlID0gbmF2R3JpZFswXTtcbiAgICAgICAgbGV0IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IEFzdGFyLmdldERpc3RTcXVhcmVkKG5lYXJlc3ROb2RlLCB0YXJnZXRQb2ludCk7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBuYXZHcmlkKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0VG9Ob2RlID0gQXN0YXIuZ2V0RGlzdFNxdWFyZWQobm9kZSwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGlzdFRvTm9kZSA8IGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICAgICAgbmVhcmVzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xuICAgIH1cblxuICAgIHJheUludGVyc2VjdHNXYWxsKGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZSh0byk7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRvLmNsb25lKCkuc3ViKGZyb20uY2xvbmUoKSkubm9ybWFsaXplKCk7XG4gICAgICAgIGNvbnN0IHJheSA9IG5ldyBwYy5SYXkoZnJvbSwgZGlyZWN0aW9uKTtcblxuICAgICAgICBjb25zdCBtYXBXYWxscyA9IHRoaXMudm8ud2FsbEJvdW5kaW5nQm94ZXM7XG4gICAgICAgIGZvciAoY29uc3Qgd2FsbCBvZiBtYXBXYWxscykge1xuICAgICAgICAgICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gd2FsbC5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9IaXQgPSBoaXRQb3NpdGlvbi5kaXN0YW5jZShmcm9tKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZVRvSGl0IDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldCBjb3ZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uY292ZXI7XG4gICAgfVxuXG5cbiAgICBpc0luQ292ZXIodGFyZ2V0UG9pbnQsIGF0dGFja2luZ0Zyb20pIHtcbiAgICAgICAgY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBhZGphY2VudFBvaW50cyA9IGdldEFkamFjZW50UG9pbnRzKHRhcmdldFBvaW50KTtcblxuICAgICAgICBmb3IgKGNvbnN0IGFkamFjZW50UG9pbnQgb2YgYWRqYWNlbnRQb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nTm9kZSA9IHRoaXMuY292ZXIuZmluZCgoY292ZXJQb2ludCkgPT4gYWRqYWNlbnRQb2ludC5lcXVhbHMoY292ZXJQb2ludCkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nTm9kZSkge1xuICAgICAgICAgICAgICAgIGFkamFjZW50Q292ZXJQb2ludHMucHVzaChhZGphY2VudFBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZGphY2VudENvdmVyUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlVG9UYXJnZXQgPSB0YXJnZXRQb2ludC5kaXN0YW5jZShhdHRhY2tpbmdGcm9tKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWRqYWNlbnRDb3ZlclBvaW50IG9mIGFkamFjZW50Q292ZXJQb2ludHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVRvQ292ZXIgPSBhZGphY2VudENvdmVyUG9pbnQuZGlzdGFuY2UoYXR0YWNraW5nRnJvbSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9Db3ZlciA8IGRpc3RhbmNlVG9UYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0cmlldmVQb3J0YWwocG9ydGFsSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8ucG9ydGFscy5nZXQocG9ydGFsSWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTGluZShub2RlQSwgbm9kZUIpIHtcbiAgICAgICAgY29uc3QgbGluZSA9IEFzdGFyLmNhbGN1bGF0ZUJyZXNlbmhhbUxpbmUobm9kZUEueCwgbm9kZUEueiwgbm9kZUIueCwgbm9kZUIueik7XG4gICAgICAgIHJldHVybiBBc3Rhci5jaGVja1ZhbGlkTGluZShsaW5lLCB0aGlzLnZvLm1hcEdyaWQpO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkTm9kZShub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLm1hcEdyaWQuc29tZShuID0+IG4uZXF1YWxzKG5vZGUpKTtcblxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRBZGphY2VudFBvaW50cyhwb2ludCkge1xuICAgIGNvbnN0IHBvaW50cyA9IFtdXG4gICAgLy9Ob3J0aFxuICAgIHBvaW50cy5wdXNoKG5ldyBwYy5WZWMzKHBvaW50LngsIHBvaW50LnksIHBvaW50LnogLSAxKSk7XG4gICAgLy9FYXN0XG4gICAgcG9pbnRzLnB1c2gobmV3IHBjLlZlYzMocG9pbnQueCArIDEsIHBvaW50LnksIHBvaW50LnopKTtcbiAgICAvL1dlc3RcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54IC0gMSwgcG9pbnQueSwgcG9pbnQueikpO1xuICAgIC8vU291dGhcbiAgICBwb2ludHMucHVzaChuZXcgcGMuVmVjMyhwb2ludC54LCBwb2ludC55LCBwb2ludC56ICsgMSkpO1xuXG4gICAgcmV0dXJuIHBvaW50cztcbn0iLCJleHBvcnQgY2xhc3MgR2FtZU1hcFZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXBHcmlkID0gW107XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgfVxuXG4gICAgcHVzaCh2YWx1ZSwgcHJpb3JpdHkgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwcmlvcml0eTogcHJpb3JpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgbWluID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSB0aGlzLmRhdGFbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgICBpZiAoTWF0aC5taW4obWluLCBwcmlvcml0eSkgPT09IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgbWluID0gcHJpb3JpdHk7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc3BsaWNlKGluZGV4LCAxKVswXS52YWx1ZTtcbiAgICB9XG5cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aFxuICAgIH1cblxuICAgIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiaW1wb3J0IHsgUHJpb3JpdHlRdWV1ZSB9IGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3RhciB7XG4gICAgc3RhdGljIGJyZWFkdGhGaXJzdFNlYXJjaChzdGFydCwgcmFuZ2VMaW1pdCkge1xuICAgICAgICBsZXQgZnJvbnRpZXIgPSBbXTtcbiAgICAgICAgY29uc3Qgc2VhcmNoZWRBcmVhID0gW107XG4gICAgICAgIGZyb250aWVyLnB1c2goc3RhcnQpO1xuXG4gICAgICAgIGNvbnN0IGNhbWVGcm9tID0gbmV3IE1hcCgpO1xuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcblxuICAgICAgICBsZXQgcmFuZ2UgPSAwO1xuXG4gICAgICAgIHdoaWxlIChmcm9udGllci5sZW5ndGggPiAwICYmIHJhbmdlIDwgcmFuZ2VMaW1pdCkge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJvbnRpZXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VycmVudCBvZiBmcm9udGllcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZGlzdFZhbHVlID0gdGhpcy5nZXREaXN0U3F1YXJlZChuZXh0LCBjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHQub2NjdXBpZWQgJiYgKCFjYW1lRnJvbS5oYXMobmV4dCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGcm9udGllci5wdXNoKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRBcmVhLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lRnJvbS5zZXQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyb250aWVyID0gbmV3RnJvbnRpZXI7XG5cbiAgICAgICAgICAgIHJhbmdlKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VhcmNoZWRBcmVhO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVBhdGgoc3RhcnQsIGdvYWwpIHtcbiAgICAgICAgY29uc3QgZnJvbnRpZXIgPSBuZXcgUHJpb3JpdHlRdWV1ZSgpO1xuICAgICAgICBmcm9udGllci5wdXNoKHN0YXJ0LCAwKTtcblxuICAgICAgICBjb25zdCBjYW1lRnJvbSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgY29zdFNvRmFyID0gbmV3IE1hcCgpO1xuXG4gICAgICAgIGNhbWVGcm9tLnNldChzdGFydCwgc3RhcnQpO1xuICAgICAgICBjb3N0U29GYXIuc2V0KHN0YXJ0LCAwKTtcblxuICAgICAgICB3aGlsZSAoIWZyb250aWVyLmVtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBmcm9udGllci5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudC5jb25uZWN0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBjdXJyZW50LmNvbm5lY3RlZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRpc3RWYWx1ZSA9IHRoaXMuZ2V0RGlzdFNxdWFyZWQobmV4dCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29zdCA9IGNvc3RTb0Zhci5nZXQoY3VycmVudCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBjYWxjdWxhdGVXYXlwb2ludHNQYXRoKHN0YXJ0LCBnb2FsKSB7XG4gICAgICAgIGNvbnN0IGZyb250aWVyID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICAgICAgZnJvbnRpZXIucHVzaChzdGFydCwgMCk7XG5cbiAgICAgICAgY29uc3QgY2FtZUZyb20gPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IGNvc3RTb0ZhciA9IG5ldyBNYXAoKTtcblxuICAgICAgICBjYW1lRnJvbS5zZXQoc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgY29zdFNvRmFyLnNldChzdGFydCwgMCk7XG5cbiAgICAgICAgd2hpbGUgKCFmcm9udGllci5lbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gZnJvbnRpZXIucG9wKCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LmVxdWFscyhnb2FsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnQuY29ubmVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gY3VycmVudC5jb25uZWN0ZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0VmFsdWUgPSB0aGlzLmdldERpc3RTcXVhcmVkKG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0Nvc3QgPSBjb3N0U29GYXIuZ2V0KGN1cnJlbnQpICsgZGlzdFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Lm9jY3VwaWVkICYmICghY29zdFNvRmFyLmhhcyhuZXh0KSB8fCBuZXdDb3N0IDwgY29zdFNvRmFyLmdldChuZXh0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29zdFNvRmFyLnNldChuZXh0LCBuZXdDb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByaW9yaXR5ID0gbmV3Q29zdCArIHRoaXMuaGV1cmlzdGljKG5leHQsIGdvYWwpO1xuICAgICAgICAgICAgICAgICAgICBmcm9udGllci5wdXNoKG5leHQsIHByaW9yaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgY2FtZUZyb20uc2V0KG5leHQsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnb2FsO1xuICAgICAgICBsZXQgcGF0aElzQnJva2VuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhdGggPSBbXTtcbiAgICAgICAgcGF0aC5wdXNoKGN1cnJlbnQpO1xuXG4gICAgICAgIHdoaWxlICghY3VycmVudC5lcXVhbHMoc3RhcnQpICYmICFwYXRoSXNCcm9rZW4pIHtcbiAgICAgICAgICAgIGlmIChjYW1lRnJvbS5oYXMoY3VycmVudCkgfHwgIWN1cnJlbnQuZXF1YWxzKGdvYWwpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNhbWVGcm9tLmdldChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhdGhJc0Jyb2tlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGF0aElzQnJva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9wYXRoLnB1c2goc3RhcnQpO1xuICAgICAgICAgICAgLy8gcGF0aC5yZXZlcnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREaXN0U3F1YXJlZChwdDEsIHB0Mikge1xuICAgICAgICByZXR1cm4gKChwdDEueCAtIHB0Mi54KSAqIChwdDEueCAtIHB0Mi54KVxuICAgICAgICAgICAgKyAocHQxLnkgLSBwdDIueSkgKiAocHQxLnkgLSBwdDIueSlcbiAgICAgICAgICAgICsgKHB0MS56IC0gcHQyLnopICogKHB0MS56IC0gcHQyLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV1cmlzdGljKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGEueCAtIGIueCkgKyBNYXRoLmFicyhhLnkgLSBiLnkpICsgTWF0aC5hYnMoYS56IC0gYi56KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2FsY3VsYXRlQnJlc2VuaGFtTGluZSh4MCwgejAsIHgxLCB6MSkge1xuICAgICAgICBsZXQgZHggPSB4MSAtIHgwO1xuICAgICAgICBsZXQgZHkgPSB6MSAtIHowO1xuICAgICAgICBsZXQgbnggPSBNYXRoLmFicyhkeCk7XG4gICAgICAgIGxldCBueSA9IE1hdGguYWJzKGR5KTtcblxuICAgICAgICBjb25zdCBzaWduX3ggPSBkeCA+IDAgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IHNpZ25feSA9IGR5ID4gMCA/IDEgOiAtMTtcblxuXG4gICAgICAgIGNvbnN0IHAgPSB7IHg6IHgwLCB5OiAwLCB6OiB6MCB9O1xuICAgICAgICBjb25zdCBwb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpeCA9IDAsIGl5ID0gMDsgaXggPCBueCB8fCBpeSA8IG55Oykge1xuICAgICAgICAgICAgaWYgKCgwLjUgKyBpeCkgLyBueCA8ICgwLjUgKyBpeSkgLyBueSkge1xuICAgICAgICAgICAgICAgIC8vIG5leHQgc3RlcCBpcyBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgcC54ICs9IHNpZ25feDtcbiAgICAgICAgICAgICAgICBpeCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IHN0ZXAgaXMgdmVydGljYWxcbiAgICAgICAgICAgICAgICBwLnogKz0gc2lnbl95O1xuICAgICAgICAgICAgICAgIGl5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7IHg6IHAueCwgeTogMCwgejogcC56IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvaW50cztcblxuICAgIH1cblxuICAgIHN0YXRpYyBjaGVja1ZhbGlkTGluZShsaW5lLCBtYXApIHtcbiAgICAgICAgbGV0IGlzVmFsaWRMaW5lID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBsaW5lKSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5zb21lKG4gPT4gbi5lcXVhbHMocG9pbnQpKSkge1xuICAgICAgICAgICAgICAgIGlzVmFsaWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNWYWxpZExpbmU7XG4gICAgfVxufSIsImNvbnN0IHsgUHJveHkgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZVN0YXRlVk8gfSA9IHJlcXVpcmUoJy4vR2FtZVN0YXRlVk8nKTtcblxuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlUHJveHkgZXh0ZW5kcyBQcm94eSB7XG4gICAgZ2V0IHZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZVN0YXRlUHJveHlcIiB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKEdhbWVTdGF0ZVByb3h5Lk5BTUUsIG5ldyBHYW1lU3RhdGVWTygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVHYW1lU3RhdGVUeXBlKG5ld1N0YXRlVHlwZSkge1xuICAgICAgICB0aGlzLnZvLmdhbWVwbGF5TW9kZSA9IG5ld1N0YXRlVHlwZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudE1vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZvLmdhbWVwbGF5TW9kZTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEFjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm8uc2VsZWN0ZWRBY3Rpb247XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52by5zZWxlY3RlZEFjdGlvbiA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBnYW1lcGxheU1vZGVUeXBlcyA9IHtcbiAgICBFWFBMT1JBVElPTjogJ0VYUExPUkFUSU9OJyxcbiAgICBDT01CQVQ6ICdDT01CQVQnLFxuICAgIERJQUxPR1VFOiAnRElBTE9HVUUnLFxuICAgIEdBTUVfT1ZFUjogJ0dBTUVfT1ZFUicsXG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZVZPIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lcGxheU1vZGUgPSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTjtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IFwibm9uZVwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBJbnZlbnRvcnlJdGVtIH0gZnJvbSBcIi4vaXRlbXMvSW52ZW50b3J5SXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5Vk8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmludmVudG9yeUl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuZXF1aXBtZW50U2xvdHMgPSBuZXcgTWFwKCk7XG5cbiAgICB9XG5cbiAgICBhZGRJdGVtKGl0ZW1EYXRhKSB7XG4gICAgICAgIHRoaXMuaW52ZW50b3J5SXRlbXMucHVzaChcbiAgICAgICAgICAgIG5ldyBJbnZlbnRvcnlJdGVtKGl0ZW1EYXRhKVxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBjcmVhdGVVVUlEIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvR1VJRCc7XG5cbmV4cG9ydCBjbGFzcyBJbnZlbnRvcnlJdGVtIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMudXVpZCA9IGNyZWF0ZVVVSUQoKTtcbiAgICAgICAgdGhpcy5pZCA9IGRhdGEuaWQ7XG4gICAgICAgIHRoaXMuaWNvbiA9IGRhdGEuaWNvbjtcbiAgICAgICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy50eXBlID0gZGF0YS50eXBlO1xuICAgICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemUgPz8gMTtcbiAgICAgICAgdGhpcy5lcXVpcFNsb3QgPSBkYXRhLmVxdWlwU2xvdCA/PyBcIm5vbmVcIjtcbiAgICB9XG59IiwiXG5leHBvcnQgY2xhc3MgU3RvcnlWTyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVVSUQoKSB7XG4gICAgdmFyIHMgPSBbXTtcbiAgICB2YXIgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxNF0gPSBcIjRcIjtcblxuICAgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpO1xuXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgdmFyIHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG5cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuaW1wb3J0IHsgR2FtZU1hcFByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9HYW1lTWFwUHJveHknO1xuaW1wb3J0IHsgQXN0YXIgfSBmcm9tICcuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vQXN0YXInO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlclByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZUNoYXJhY3Rlci9HYW1lQ2hhcmFjdGVyUHJveHknO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiR2FtZUNoYXJhY3Rlck1lZGlhdG9yX1wiIH07XG5cbiAgICBjb25zdHJ1Y3RvcihpZCwgdmlld0NvbXBvbmVudCwgcHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyBpZCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcblxuICAgICAgICBsZXQgbm90aWZpY2F0aW9ucyA9IFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEUsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fV0FZUE9JTlQgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNFVF9DSEFSQUNURVJfVE9fTk9ERSArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9ERUFUSCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuRElTUExBWV9BVFRBQ0sgKyB0aGlzLmlkLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSElUICsgdGhpcy5pZCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5DSEFSQUNURVJfTE9PS19BVCArIHRoaXMuaWQsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLk1BUF9HUklEX0NSRUFURURcblxuICAgICAgICBdO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zLmNvbmNhdChwcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24obm90aWZpY2F0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsIHRoaXMuaGFuZGxlRmluaXNoZWRNb2RlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub2ZmKCd1cGRhdGVDdXJyZW50Tm9kZScsIHRoaXMudXBkYXRlQ3VycmVudE5vZGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9mZignZmluaXNoZWRNb3ZlJywgdGhpcy5oYW5kbGVGaW5pc2hlZE1vZGUsIHRoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmZpcmUobm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHNjcmlwdEtleSBpbiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdCwgc2NyaXB0S2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbc2NyaXB0S2V5XTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0Q29tcG9uZW50LmhhbmRsZU5vdGlmaWNhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdENvbXBvbmVudC5oYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgdGhpcy5pZCwgLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdGFydENvbWJhdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRDpcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lTWFwUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVNYXBQcm94eS5OQU1FKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuTkFWSUdBVEVfVE9fTk9ERSArIHRoaXMuaWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOYXZpZ2F0ZVRvTm9kZShhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX1RPX1dBWVBPSU5UICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5hdmlnYXRlVG9XYXlwb2ludChhcmdzWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLk5BVklHQVRFX0FMT05HX1BBVEggKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGgoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBUkFDVEVSX0xPT0tfQVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvb2tQb2ludCA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLmxvb2tBdFBvaW50KGxvb2tQb2ludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RFQVRIICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICBjb25zdCBoaXRib3ggPSB0aGlzLnZpZXdDb21wb25lbnQuZmluZEJ5TmFtZShcIkhpdGJveFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaGl0Ym94KSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdGJveC5maXJlKCdzdG9wTGlzdGVuaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlRGVhdGgoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfQVRUQUNLICsgdGhpcy5pZDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uYW5pbWF0ZUF0dGFjaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ISVQgKyB0aGlzLmlkOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5hbmltYXRlSGl0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVOYXZpZ2F0ZVRvTm9kZSh0YXJnZXROb2RlKSB7XG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjb25zdCBnYW1lQ2hhcmFjdGVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5pZCk7XG5cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlUGF0aChnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUsIHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVUb1dheXBvaW50KHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKTtcblxuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3ROb2RlKHRoaXMudmlld0NvbXBvbmVudC5nZXRMb2NhbFBvc2l0aW9uKCkpO1xuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZTtcblxuICAgICAgICBjb25zdCBuZWFyZXN0V2F5cG9pbnQgPSBnYW1lTWFwUHJveHkuZmluZE5lYXJlc3RXYXlwb2ludCh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcbiAgICAgICAgY29uc3QgbmVhcmVzdFRhcmdldFdheXBvaW50ID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0V2F5cG9pbnQodGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgLypjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlV2F5cG9pbnRzUGF0aChuZWFyZXN0V2F5cG9pbnQsIG5lYXJlc3RUYXJnZXRXYXlwb2ludCk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGhhc0xpbmVUb1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDAgJiYgaGFzTGluZVRvUG9pbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoW3BhdGgubGVuZ3RoIC0gMV0sIGN1cnJlbnROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0xpbmVUb1BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VlIGlmIGVuZCBvZiBwYXRoIGNhbiBiZSB0cmltbWVkXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVNYXBQcm94eS5oYXNWYWxpZExpbmUocGF0aFsxXSwgdGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH0qL1xuXG4gICAgICAgIC8vIElzIHN0cmFpZ2h0IGxpbmU/XG4gICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKGN1cnJlbnROb2RlLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IFt0YXJnZXROb2RlLCBjdXJyZW50Tm9kZV07XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc2V0UGF0aChwYXRoKTtcbiAgICAgICAgICAgIGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IHRhcmdldE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gQXN0YXIuY2FsY3VsYXRlV2F5cG9pbnRzUGF0aChuZWFyZXN0V2F5cG9pbnQsIG5lYXJlc3RUYXJnZXRXYXlwb2ludCk7XG4gICAgICAgICAgICBpZiAocGF0aCAmJiBwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBpZiBlbmQgb2YgcGF0aCBjYW4gYmUgdHJpbW1lZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZU1hcFByb3h5Lmhhc1ZhbGlkTGluZShwYXRoWzFdLCB0YXJnZXROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGhhc0xpbmVUb1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAxICYmIGhhc0xpbmVUb1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnYW1lTWFwUHJveHkuaGFzVmFsaWRMaW5lKHBhdGhbcGF0aC5sZW5ndGggLSAyXSwgY3VycmVudE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTGluZVRvUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlQWxvbmdQYXRoKHBhdGgpIHtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgfVxuXG4gICAgbW92ZVRvTm9kZVdpdGhQcm9taXNlKHRhcmdldE5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lTWFwUHJveHkuTkFNRSk7XG5cbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuXG4gICAgICAgIGlmICghZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlKSB7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZUNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlID0gZ2FtZU1hcFByb3h5LmZpbmROZWFyZXN0Tm9kZSh0aGlzLnZpZXdDb21wb25lbnQuZ2V0TG9jYWxQb3NpdGlvbigpKTtcblxuXG4gICAgICAgIGNvbnN0IHBhdGggPSBBc3Rhci5jYWxjdWxhdGVQYXRoKGdhbWVDaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSwgdGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnR2FtZUNoYXJhY3RlckNvbXBvbmVudCddLnNldFBhdGgocGF0aCk7XG4gICAgICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSB0YXJnZXROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignZmluaXNoZWRNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NhbmNlbE1vdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTmF2aWdhdGVBbG9uZ1BhdGhXaXRoUHJvbWlzZShwYXRoKSB7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5zZXRQYXRoKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2ZpbmlzaGVkTW92ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdjYW5jZWxNb3ZlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUN1cnJlbnROb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIHRoaXMuaWQsIG5ld05vZGUpO1xuXG4gICAgfVxuXG4gICAgaGFuZGxlRmluaXNoZWRNb2RlKG5ld05vZGUpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRklOSVNIRURfTU9WRSwgdGhpcy5pZCwgbmV3Tm9kZSk7XG4gICAgfVxuXG4gICAgbG9va0ZvckNoYXJhY3RlcihpZCwgbm9kZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlYXJjaE5vZGUgb2YgdGhpcy5zZWFyY2hBcmVhKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoTm9kZS5lcXVhbHMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ubG9va0F0UG9pbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU1RBUlRfQ09NQkFULCB0aGlzLnZpZXdDb21wb25lbnQsIFtpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlU3RhcnRDb21iYXQoKSB7XG4gICAgICAgIGNvbnN0IGdhbWVDaGFyYWN0ZXJWTyA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZUNoYXJhY3RlclByb3h5Lk5BTUUgKyB0aGlzLmlkKS52bztcblxuICAgICAgICAvLyB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KGdhbWVDaGFyYWN0ZXJWTy5jdXJyZW50Tm9kZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2V0Q2hhcmFjdGVyVG9Ob2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgZ2FtZUNoYXJhY3RlclByb3h5ID0gdGhpcy5mYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuaWQpO1xuICAgICAgICBnYW1lQ2hhcmFjdGVyUHJveHkuY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10uc3RvcE1vdmVtZW50KG5vZGUpO1xuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgUHJvamVjdGlsZUNyZWF0b3JNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIlByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG5cbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVByb2plY3RpbGUodHlwZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCddLmNyZWF0ZVByb2plY3RpbGUodHlwZSwgb3JpZ2luUG9pbnQsIHRhcmdldFBvaW50KTtcbiAgICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgeyBGYWNhZGUgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgR2FtZUZhY2FkZSB9ID0gcmVxdWlyZSgnLi4vR2FtZUZhY2FkZScpO1xuXG5leHBvcnQgY29uc3QgQ2Fjb2dlbkdhbWUgPSBwYy5jcmVhdGVTY3JpcHQoJ0NhY29nZW5HYW1lJyk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5DYWNvZ2VuR2FtZS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQVBQX0lOSVRJQUxJU0VEKTtcbiAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkUsIFwiUG9ydCBUYXJpbmdvXCIsIFwiZW50cmFuY2VcIik7XG59O1xuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkNhY29nZW5HYW1lLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcblxufTsiLCJpbXBvcnQgeyBOYXZpZ2F0aW9uTm9kZSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lTWFwL25hdmlnYXRpb24vTmF2aWdhdGlvbk5vZGVcIjtcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ05hdmlnYXRpb25Db21wb25lbnQnKTtcblxuTmF2aWdhdGlvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbm5lY3RlZENvbXBvbmVudHNcIiwge1xuICAgIHR5cGU6IFwiZW50aXR5XCIsXG4gICAgYXJyYXk6IHRydWUsXG4gICAgdGl0bGU6IFwiQ29ubmVjdGVkIENvbXBvbmVudHNcIlxufSk7XG5cbk5hdmlnYXRpb25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFNjYWxlKCk7XG4gICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgcGMuVmVjMyhzY2FsZS54IC8gMiwgMC4wNSwgc2NhbGUueiAvIDIpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBwYy5Cb3VuZGluZ0JveCh0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpLCBoYWxmRXh0ZW50cyk7XG4gICAgdGhpcy5hcHAub24oJ3BpY2tlcjpyYXljYXN0JywgdGhpcy5oYW5kbGVSYXlDYXN0LCB0aGlzKTtcblxuICAgIHRoaXMuZW50aXR5LmZpbmRCeU5hbWUoJ1BsYW5lJykuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW50aXR5Lm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLm9mZigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuICAgIH0pO1xufVxuXG5OYXZpZ2F0aW9uQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVSYXlDYXN0ID0gZnVuY3Rpb24gKHJheSwgc2NyZWVuUG9zKSB7XG4gICAgY29uc3QgaGl0UG9zaXRpb24gPSBuZXcgcGMuVmVjMygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWFiYi5pbnRlcnNlY3RzUmF5KHJheSwgaGl0UG9zaXRpb24pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJlc3VsdCcsIHRoaXMuZW50aXR5LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxOYXZpZ2F0aW9uTm9kZT59IG5vZGVHcmlkIC0gQXJyYXkgb2Ygbm9kZXMgcmVwcmVzZW50aW5nIHBvaW50cyBvbiB0aGUgZ3JpZC5cbiAqL1xuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0R3JpZCA9IGZ1bmN0aW9uIChub2RlR3JpZCkge1xuICAgIHRoaXMubm9kZUdyaWQgPSBub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0R3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlR3JpZDtcbn1cblxuTmF2aWdhdGlvbkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0TmVhcmVzdE5vZGUgPSBmdW5jdGlvbiAodGFyZ2V0UG9pbnQpIHtcbiAgICBsZXQgbmVhcmVzdE5vZGUgPSB0aGlzLm5vZGVHcmlkWzBdO1xuICAgIGxldCBkaXN0U3FydFRvTmVhcmVzdE5vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChuZWFyZXN0Tm9kZSwgdGFyZ2V0UG9pbnQpO1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm5vZGVHcmlkKSB7XG4gICAgICAgIGNvbnN0IGRpc3RUb05vZGUgPSBBc3Rhci5nZXREaXN0U3F1YXJlZChub2RlLCB0YXJnZXRQb2ludCk7XG5cbiAgICAgICAgaWYgKGRpc3RUb05vZGUgPCBkaXN0U3FydFRvTmVhcmVzdE5vZGUpIHtcbiAgICAgICAgICAgIGRpc3RTcXJ0VG9OZWFyZXN0Tm9kZSA9IGRpc3RUb05vZGU7XG4gICAgICAgICAgICBuZWFyZXN0Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5lYXJlc3ROb2RlO1xufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gXCIuLi8uLi9tb2RlbC9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJQcm94eVwiO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3Rlck1lZGlhdG9yIH0gZnJvbSAnLi9HYW1lQ2hhcmFjdGVyTWVkaWF0b3InO1xuaW1wb3J0IHsgYm90QmVoYXZpb3VyRW51bXMgfSBmcm9tICcuLi8uLi9iZWhhdmlvdXJUcmVlL0JvdEJlaGF2aW91clR5cGVzJztcbmltcG9ydCB7IHdlYXBvbkVudW1zIH0gZnJvbSBcIi4uLy4uL2RhdGEvV2VhcG9uVHlwZXNcIjtcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcblxuZXhwb3J0IGNvbnN0IEdhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnKTtcblxuY29uc3Qgc3RhdHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGwnLFxuICAgICAgICB0aXRsZTogJ1NraWxsJyxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ21heFN0YW1pbmEnLFxuICAgICAgICB0aXRsZTogJ1N0YW1pbmEnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heEx1Y2snLFxuICAgICAgICB0aXRsZTogJ0x1Y2snLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2luaXRpYXRpdmUnLFxuICAgICAgICB0aXRsZTogJ0luaXRpYXRpdmUnLFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgZGVmYXVsdDogMlxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21heE1vdmVtZW50JyxcbiAgICAgICAgdGl0bGU6ICdNb3ZlbWVudCcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBkZWZhdWx0OiA2XG4gICAgfVxuXTtcblxuY29uc3QgYWR2YW5jZWRTa2lsbHNTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnc2tpbGxOYW1lJyxcbiAgICAgICAgdGl0bGU6ICdTa2lsbCBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3NraWxsVmFsdWUnLFxuICAgICAgICB0aXRsZTogJ1NraWxsIFZhbHVlJyxcbiAgICAgICAgdHlwZTogJ251bWJlcidcbiAgICB9XG5dO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVySWRcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIElkXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiY2hhcmFjdGVyU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiQ2hhcmFjdGVyIFNwZWVkXCIsXG4gICAgZGVmYXVsdDogNFxufSk7XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNoYXJhY3RlckhlaWdodFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJDaGFyYWN0ZXIgSGVpZ2h0XCIsXG4gICAgZGVmYXVsdDogMS44XG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImlzTlBDXCIsIHtcbiAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICB0aXRsZTogXCJpcyBOUENcIixcbiAgICBkZWZhdWx0OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInN0YXRzT3ZlcnJpZGVzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJTdGF0cyBPdmVycmlkZXNcIixcbiAgICBzY2hlbWE6IHN0YXRzU2NoZW1hXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFkdmFuY2VkU2tpbGxzXCIsIHtcbiAgICB0eXBlOiBcImpzb25cIixcbiAgICB0aXRsZTogXCJBZHZhbmNlZCBTa2lsbHNcIixcbiAgICBzY2hlbWE6IGFkdmFuY2VkU2tpbGxzU2NoZW1hLFxuICAgIGFycmF5OiB0cnVlXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNvbWJhdEdyb3VwTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJDb21iYXQgR3JvdXAgTmFtZVwiXG59KTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImRpYWxvZ3VlVHJlZU5hbWVcIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRGlhbG9ndWUgVHJlZSBOYW1lXCJcbn0pO1xuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYm90QmVoYXZpb3VyXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIkJvdCBCZWhhdmlvdXJcIixcbiAgICBlbnVtOiBib3RCZWhhdmlvdXJFbnVtcyxcbiAgICBkZWZhdWx0OiAwXG59KTtcblxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZXF1aXBwZWRXZWFwb25cIiwge1xuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgdGl0bGU6IFwiRXF1aXBwZWQgV2VhcG9uXCIsXG4gICAgZW51bTogd2VhcG9uRW51bXMsXG4gICAgZGVmYXVsdDogXCJ1bmFybWVkXCJcbn0pO1xuXG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgaWYgKCF0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zKSB7XG4gICAgICAgIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnByZXJlZ2lzdGVyZWROb3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbn1cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuXG5cbiAgICBpZiAoIXRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVyZWdpc3RlcmVkTm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRzT3ZlcnJpZGVzID0gdGhpcy5zdGF0c092ZXJyaWRlcztcbiAgICBjb25zdCBwcm94eVBhcmFtcyA9IHtcbiAgICAgICAgaWQ6IHRoaXMuY2hhcmFjdGVySWQsXG4gICAgICAgIGlzTlBDOiB0aGlzLmlzTlBDLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuY2hhcmFjdGVySGVpZ2h0LFxuICAgICAgICBhZHZhbmNlZFNraWxsczogYWR2YW5jZWRTa2lsbHNTY2hlbWFUb01hcCh0aGlzLmFkdmFuY2VkU2tpbGxzKSxcbiAgICAgICAgZXF1aXBwZWRXZWFwb246IHRoaXMuZXF1aXBwZWRXZWFwb24sXG4gICAgICAgIC4uLnN0YXRzT3ZlcnJpZGVzLFxuICAgICAgICBib3RCZWhhdmlvdXI6IHRoaXMuYm90QmVoYXZpb3VyLFxuICAgICAgICBkaWFsb2d1ZVRyZWU6IHRoaXMuZGlhbG9ndWVUcmVlTmFtZVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5jb21iYXRHcm91cE5hbWUgJiYgdGhpcy5jb21iYXRHcm91cE5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgY29tcmFkZUVudGl0aWVzID0gdGhpcy5hcHAucm9vdC5maW5kQnlUYWcoYGNvbWJhdEdyb3VwOiR7dGhpcy5jb21iYXRHcm91cE5hbWV9YCk7XG5cbiAgICAgICAgY29uc3QgY29tYmF0R3JvdXAgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjb21yYWRlRW50aXR5IG9mIGNvbXJhZGVFbnRpdGllcykge1xuICAgICAgICAgICAgLy8gSWdub3JlIGRpc2FibGVkIGVudGl0aWVzXG4gICAgICAgICAgICBpZiAoY29tcmFkZUVudGl0eS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcmFkZUlkID0gY29tcmFkZUVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5jaGFyYWN0ZXJJZDtcbiAgICAgICAgICAgICAgICBjb21iYXRHcm91cC5wdXNoKGNvbXJhZGVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJveHlQYXJhbXMuY29tYmF0R3JvdXAgPSBjb21iYXRHcm91cDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNoYXJhY3Rlck1lZGlhdG9yLk5BTUUgKyB0aGlzLmNoYXJhY3RlcklkKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihHYW1lQ2hhcmFjdGVyTWVkaWF0b3IuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIHRoaXMuY2hhcmFjdGVySWQpKSB7XG4gICAgICAgIC8vIHRoaXMuZmFjYWRlLnJlbW92ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgdGhpcy5jaGFyYWN0ZXJJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyUHJveHkgPSBuZXcgR2FtZUNoYXJhY3RlclByb3h5KHByb3h5UGFyYW1zKTtcbiAgICAgICAgLy8gU2V0IGN1cnJlbnQgbm9kZSBpZiBnYW1lIGNoYXJhY3RlciB3YXMgY3JlYXRlZCBhZnRlciB0aGUgbWFwXG4gICAgICAgIGNvbnN0IGdhbWVNYXBQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBpZiAoZ2FtZU1hcFByb3h5KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGdhbWVNYXBQcm94eS5maW5kTmVhcmVzdE5vZGUodGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgICAgICBjaGFyYWN0ZXJQcm94eS5jdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJQcm94eShjaGFyYWN0ZXJQcm94eSk7XG4gICAgfVxuXG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2hhcmFjdGVyTWVkaWF0b3IodGhpcy5jaGFyYWN0ZXJJZCwgdGhpcy5lbnRpdHksIHRoaXMucHJlcmVnaXN0ZXJlZE5vdGlmaWNhdGlvbnMpKTtcblxuICAgIHRoaXMudmVoaWNsZSA9IHRoaXMuZW50aXR5LnNjcmlwdFsnVmVoaWNsZUNvbXBvbmVudCddO1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5wbGF5KCdpZGxlLmdsYicsIDAuMSk7XG5cbn07XG5cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoICYmIHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnY2FuY2VsTW92ZScpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVtZW50UGF0aCA9IHBhdGg7XG5cbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ubG9vcCA9IHRydWU7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ3dhbGsuZ2xiJywgMC4xKTtcbn07XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLnN0b3BNb3ZlbWVudCA9IGZ1bmN0aW9uIChjdXJyZW50Tm9kZSkge1xuICAgIHRoaXMubW92ZW1lbnRQYXRoID0gW107XG4gICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihjdXJyZW50Tm9kZS54LCBjdXJyZW50Tm9kZS55LCBjdXJyZW50Tm9kZS56KTtcblxuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xufTtcblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5tb3ZlQWxvbmdQYXRoKGR0KTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUubW92ZUFsb25nUGF0aCA9IGZ1bmN0aW9uIChkdCkge1xuXG4gICAgaWYgKHRoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dFBhdGhQb2ludCA9IHRoaXMubW92ZW1lbnRQYXRoW3RoaXMubW92ZW1lbnRQYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBsb2NhbFBvcyA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3Qgbm9kZVBvaW50ID0gbmV3IHBjLlZlYzMobmV4dFBhdGhQb2ludC54LCBuZXh0UGF0aFBvaW50LnksIG5leHRQYXRoUG9pbnQueik7XG5cblxuICAgICAgICBjb25zdCBkaXN0YW5jZVRvTmV4dFBhdGggPSBsb2NhbFBvcy5kaXN0YW5jZShub2RlUG9pbnQpO1xuICAgICAgICBpZiAoZGlzdGFuY2VUb05leHRQYXRoIDw9IChkdCAqIHRoaXMuY2hhcmFjdGVyU3BlZWQpKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHRoaXMubW92ZW1lbnRQYXRoLnBvcCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgnZmluaXNoZWRNb3ZlJywgY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSgnaWRsZS5nbGInLCAwLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgndXBkYXRlQ3VycmVudE5vZGUnLCBjdXJyZW50Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb3ZlbWVudFBhdGgubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZS5zZWVrKG5vZGVQb2ludCwgZHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGUuYXJyaXZlKG5vZGVQb2ludCwgZHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZWhpY2xlLnByb2Nlc3NWZWxvY2l0eShkdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkdhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmxvb2tBdFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCBkeCA9IHBvaW50LnggLSBsb2NhbFBvcy54O1xuICAgIGNvbnN0IGR6ID0gcG9pbnQueiAtIGxvY2FsUG9zLno7XG4gICAgY29uc3QgYW5nbGVUb0Rlc3QgPSBNYXRoLmF0YW4yKGR4LCBkeikgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIGFuZ2xlVG9EZXN0LCAwKTtcbn1cblxuR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuYW5pbWF0ZURlYXRoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2RpZS5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlSGl0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2hpdC5nbGInLCAwLjEpO1xufVxuXG5HYW1lQ2hhcmFjdGVyQ29tcG9uZW50LnByb3RvdHlwZS5hbmltYXRlQXR0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkuYW5pbWF0aW9uLnBsYXkoJ2F0dGFjay5nbGInLCAwLjEpO1xufVxuXG5mdW5jdGlvbiBhZHZhbmNlZFNraWxsc1NjaGVtYVRvTWFwKGFkdmFuY2VkU2tpbGxzU2NoZW1hKSB7XG4gICAgY29uc3QgbWFwID0gbmV3IE1hcCgpO1xuXG4gICAgZm9yIChjb25zdCBza2lsbE9iamVjdCBvZiBhZHZhbmNlZFNraWxsc1NjaGVtYSkge1xuICAgICAgICBtYXAuc2V0KHNraWxsT2JqZWN0LnNraWxsTmFtZSwgc2tpbGxPYmplY3Quc2tpbGxWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbn0iLCJleHBvcnQgY29uc3QgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0Fncm9HYW1lQ2hhcmFjdGVyQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmltcG9ydCB7IEdhbWVNYXBQcm94eSB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2dhbWVNYXAvR2FtZU1hcFByb3h5JztcbmltcG9ydCB7IEFzdGFyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZU1hcC9uYXZpZ2F0aW9uL0FzdGFyJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJzaWdodFJhbmdlXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIlNpZ2h0IFJhbmdlXCIsXG4gICAgZGVmYXVsdDogNVxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5zY3JpcHRbJ0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnXS5wcmVyZWdpc3Rlck5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuTUFQX0dSSURfQ1JFQVRFRCk7XG4gICAgdGhpcy5lbnRpdHkuc2NyaXB0WydHYW1lQ2hhcmFjdGVyQ29tcG9uZW50J10ucHJlcmVnaXN0ZXJOb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLk1PVkVEX1RPX05PREUgKyBcInBsYXllclwiKTtcblxuICAgIHRoaXMuZW50aXR5Lm9uKEdhbWVDb21tYW5kcy5NQVBfR1JJRF9DUkVBVEVELCB0aGlzLmhhbmRsZU1hcEdyaWRDcmVhdGVkLCB0aGlzKTtcbiAgICB0aGlzLmVudGl0eS5vbihHYW1lQ29tbWFuZHMuTU9WRURfVE9fTk9ERSArIFwicGxheWVyXCIsIHRoaXMuaGFuZGxlTW92ZWRUb05vZGUsIHRoaXMpO1xuICAgIGNvbnNvbGUubG9nKCdXYWl0IGZvciBpbml0aWFsJyk7XG59O1xuXG5BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTWFwR3JpZENyZWF0ZWQgPSBmdW5jdGlvbiAoaWQsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIHRoaXMuY2hhcmFjdGVyUHJveHkgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lQ2hhcmFjdGVyUHJveHkuTkFNRSArIGlkKTtcbn1cblxuQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZU1vdmVkVG9Ob2RlID0gZnVuY3Rpb24gKGlkLCB0YXJnZXROb2RlKSB7XG4gICAgY29uc3QgZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBjb25zdCBnYW1lU3RhdGUgPSBmYWNhZGUucmV0cmlldmVQcm94eShHYW1lU3RhdGVQcm94eS5OQU1FKS52bztcblxuICAgIC8vIElnbm9yZSBpZiB0aGUgcGxheWVyIGlzbid0IGV4cGxvcmluZ1xuICAgIGlmIChnYW1lU3RhdGUuZ2FtZXBsYXlNb2RlICE9PSBnYW1lcGxheU1vZGVUeXBlcy5FWFBMT1JBVElPTiB8fCB0aGlzLmNoYXJhY3RlclByb3h5LmlzRGVhZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE5vZGUgPSB0aGlzLmNoYXJhY3RlclByb3h5LmN1cnJlbnROb2RlO1xuICAgIGNvbnN0IGNoYXJhY3RlclBvaW50ID0gbmV3IHBjLlZlYzMoY3VycmVudE5vZGUueCwgY3VycmVudE5vZGUueSwgY3VycmVudE5vZGUueik7XG4gICAgY29uc3QgdGFyZ2V0UG9pbnQgPSBuZXcgcGMuVmVjMyh0YXJnZXROb2RlLngsIHRhcmdldE5vZGUueSwgdGFyZ2V0Tm9kZS56KTtcblxuICAgIGlmIChjaGFyYWN0ZXJQb2ludC5kaXN0YW5jZSh0YXJnZXRQb2ludCkgPD0gdGhpcy5zaWdodFJhbmdlKSB7XG4gICAgICAgIC8vIE1pZ2h0IGJlIHNlZW4gLSBjaGVjayBmb3Igd2FsbHNcbiAgICAgICAgY29uc3QgZ2FtZU1hcFByb3h5ID0gZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZU1hcFByb3h5Lk5BTUUpO1xuICAgICAgICBjaGFyYWN0ZXJQb2ludC55ICs9IHRoaXMuY2hhcmFjdGVyUHJveHkuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghZ2FtZU1hcFByb3h5LnJheUludGVyc2VjdHNXYWxsKGNoYXJhY3RlclBvaW50LCB0YXJnZXRQb2ludCkpIHtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0hBUkFDVEVSX1RPX05PREUgKyBcInBsYXllclwiLCB0YXJnZXROb2RlKTtcbiAgICAgICAgICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TVEFSVF9DT01CQVQsIGlkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgVG9hc3RNZXNzYWdlTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJUb2FzdE1lc3NhZ2VNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKFRvYXN0TWVzc2FnZU1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19UT0FTVF9NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1RvYXN0TWVzc2FnZUNvbXBvbmVudCddLmFkZE1lc3NhZ2UoYXJnc1swXSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFRvYXN0TWVzc2FnZU1lZGlhdG9yIH0gZnJvbSBcIi4vVG9hc3RNZXNzYWdlTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFRvYXN0TWVzc2FnZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnVG9hc3RNZXNzYWdlQ29tcG9uZW50Jyk7XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5Ub2FzdE1lc3NhZ2VDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ21lc3NhZ2VUaW1lJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogNSwgdGl0bGU6ICdNZXNzYWdlIFRpbWUnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuVG9hc3RNZXNzYWdlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoVG9hc3RNZXNzYWdlTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgVG9hc3RNZXNzYWdlTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn07XG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZVF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnB1c2gobWVzc2FnZSk7XG4gICAgfVxufVxuXG5cblRvYXN0TWVzc2FnZUNvbXBvbmVudC5wcm90b3R5cGUuc2hvd05leHRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWVbMF07XG5cbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBuZXh0TWVzc2FnZTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB0aGlzLnNob3dOZXh0TWVzc2FnZSgpO1xuICAgICAgICB9LCB0aGlzLm1lc3NhZ2VUaW1lICogMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBcIlwiO1xuXG4gICAgfVxufSIsImV4cG9ydCBjb25zdCBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1NldENhbWVyYVRhcmdldENvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5cbi8vIHBvc3RJbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50LnByb3RvdHlwZS5wb3N0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBmYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVCwgdGhpcy5lbnRpdHkpO1xufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRMYXllck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiSW5wdXRMYXllck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW5wdXRMYXllck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3BpY2tlcjpnYW1lQ2hhcmFjdGVyJywgdGhpcy5oYW5kbGVQaWNrZXJHYW1lQ2hhcmFjdGVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6bmF2aWdhdGlvbicsIHRoaXMuaGFuZGxlUGlja2VyTmF2aWdhdGlvbiwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5vbignc2Nyb2xsaW5nJywgdGhpcy5oYW5kbGVTY3JvbGxpbmcsIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NDRU5FX0NPTVBMRVRFOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUGlja2VyR2FtZUNoYXJhY3RlcihjaGFyYWN0ZXJFbnRpdHkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNUX0dBTUVfQ0hBUkFDVEVSLCBjaGFyYWN0ZXJFbnRpdHkpO1xuICAgIH1cblxuICAgIGhhbmRsZVBpY2tlck5hdmlnYXRpb24obm9kZSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5TRUxFQ1RFRF9OT0RFLCBub2RlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTY3JvbGxpbmcoZGlyZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0UsIGRpcmVjdGlvbik7XG5cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgR2FtZUNhbWVyYSA9IHBjLmNyZWF0ZVNjcmlwdCgnR2FtZUNhbWVyYScpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhTWVkaWF0b3IgfSBmcm9tICcuL0dhbWVDYW1lcmFNZWRpYXRvcic7XG5cbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2Rpc3RhbmNlJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMTAwLCB0aXRsZTogJ0Rpc3RhbmNlJyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ2RyYWdNdWx0aXBsaWVyWCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuNSwgdGl0bGU6ICdEcmFnIE11bHRpcGxpZXInIH0pO1xuR2FtZUNhbWVyYS5hdHRyaWJ1dGVzLmFkZCgnZHJhZ011bHRpcGxpZXJZJywgeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC41LCB0aXRsZTogJ0RyYWcgTXVsdGlwbGllcicgfSk7XG5cbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ3ZlcnRpY2FsU2Nyb2xsJywgeyB0eXBlOiAnYm9vbGVhbicsIGRlZmF1bHQ6IGZhbHNlLCB0aXRsZTogJ1ZlcnRpY2FsIFNjcm9sbCcgfSk7XG5HYW1lQ2FtZXJhLmF0dHJpYnV0ZXMuYWRkKCdtaW5DYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiA1LCB0aXRsZTogJ01pbiBDYW1lcmEgSGVpZ2h0JyB9KTtcbkdhbWVDYW1lcmEuYXR0cmlidXRlcy5hZGQoJ21heENhbWVyYUhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEwMCwgdGl0bGU6ICdNYXggQ2FtZXJhIEhlaWdodCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5HYW1lQ2FtZXJhLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoR2FtZUNhbWVyYU1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBHYW1lQ2FtZXJhTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxufTtcblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuc2V0Q2FtZXJhVGFyZ2V0ID0gZnVuY3Rpb24gKGNhbWVyYVRhcmdldCkge1xuICAgIHRoaXMuY2FtZXJhVGFyZ2V0ID0gY2FtZXJhVGFyZ2V0O1xuICAgIHRoaXMucm90YXRpb24gPSB0aGlzLmVudGl0eS5nZXRFdWxlckFuZ2xlcygpLnk7XG4gICAgdGhpcy5jYW1lcmFIZWlnaHQgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCkueTtcbn1cblxuR2FtZUNhbWVyYS5wcm90b3R5cGUuaGFuZGxlRHJhZyA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnJvdGF0aW9uICs9IGRpcmVjdGlvbi54ICogdGhpcy5kcmFnTXVsdGlwbGllclg7XG5cbiAgICBpZiAodGhpcy52ZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICBsZXQgbmV3Q2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFIZWlnaHQgLSAoZGlyZWN0aW9uLnkgKiB0aGlzLmRyYWdNdWx0aXBsaWVyWSk7XG4gICAgICAgIG5ld0NhbWVyYUhlaWdodCA9IHBjLm1hdGguY2xhbXAobmV3Q2FtZXJhSGVpZ2h0LCB0aGlzLm1pbkNhbWVyYUhlaWdodCwgdGhpcy5tYXhDYW1lcmFIZWlnaHQpO1xuICAgICAgICB0aGlzLmNhbWVyYUhlaWdodCA9IG5ld0NhbWVyYUhlaWdodDtcbiAgICB9XG59XG5cbkdhbWVDYW1lcmEucHJvdG90eXBlLmdldFRhcmdldENhbWVyYVBvc2l0aW9uID0gZnVuY3Rpb24gKGZvY3VzUG9pbnQpIHtcbiAgICBjb25zdCBjYW1lcmFQb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKVxuXG4gICAgY29uc3QgdGFyZ2V0WCA9IE1hdGguc2luKCh0aGlzLnJvdGF0aW9uKSAqIE1hdGguUEkgLyAxODApICogdGhpcy5kaXN0YW5jZTtcbiAgICBjb25zdCB0YXJnZXRaID0gTWF0aC5jb3MoKHRoaXMucm90YXRpb24pICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLmRpc3RhbmNlO1xuXG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKGZvY3VzUG9pbnQueCArIHRhcmdldFgsIGNhbWVyYVBvc2l0aW9uLnksIGZvY3VzUG9pbnQueiArIHRhcmdldFopO1xufVxuXG4vLyB1cGRhdGUgY29kZSBjYWxsZWQgZXZlcnkgZnJhbWVcbkdhbWVDYW1lcmEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGlmICh0aGlzLmNhbWVyYVRhcmdldCkge1xuICAgICAgICBjb25zdCBjYW1lcmFUYXJnZXRQb3NpdGlvbiA9IHRoaXMuY2FtZXJhVGFyZ2V0LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLmdldFRhcmdldENhbWVyYVBvc2l0aW9uKGNhbWVyYVRhcmdldFBvc2l0aW9uKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgICAgICBjb25zdCB0d2VlblggPSAodGFyZ2V0UG9zaXRpb24ueCArIGN1cnJlbnRQb3MueCAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWSA9ICh0aGlzLmNhbWVyYUhlaWdodCArIGN1cnJlbnRQb3MueSAqIDkpIC8gMTA7XG4gICAgICAgIGNvbnN0IHR3ZWVuWiA9ICh0YXJnZXRQb3NpdGlvbi56ICsgY3VycmVudFBvcy56ICogOSkgLyAxMDtcblxuICAgICAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHR3ZWVuWCwgdHdlZW5ZLCB0d2VlblopO1xuXG4gICAgICAgIHRoaXMuZW50aXR5Lmxvb2tBdChjYW1lcmFUYXJnZXRQb3NpdGlvbik7XG4gICAgfVxuXG59O1xuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5pbXBvcnQgeyBHYW1lQ2FtZXJhIH0gZnJvbSAnLi9HYW1lQ2FtZXJhJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEdhbWVDYW1lcmFNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkdhbWVDYW1lcmFNZWRpYXRvclwiIH07XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3Q29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKEdhbWVDYW1lcmFNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSwgR2FtZUNvbW1hbmRzLklOUFVUX0RSQUdfTU9VU0UsIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLlNFVF9DQU1FUkFfVEFSR0VUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5zZXRDYW1lcmFUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5JTlBVVF9EUkFHX01PVVNFOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0dhbWVDYW1lcmEnXS5oYW5kbGVEcmFnKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSBcIkBrb3JlZXovcHVyZS1tdmNcIjtcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IElucHV0TGF5ZXJNZWRpYXRvciB9IGZyb20gJy4vSW5wdXRMYXllck1lZGlhdG9yJztcbmltcG9ydCB7IEdhbWVDYW1lcmFNZWRpYXRvciB9IGZyb20gJy4uL2dhbWVDYW1lcmEvR2FtZUNhbWVyYU1lZGlhdG9yJztcblxuZXhwb3J0IGNvbnN0IElucHV0TGF5ZXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0lucHV0TGF5ZXJDb21wb25lbnQnKTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImNhbWVyYUVudGl0eVwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJDYW1lcmEgRW50aXR5XCJcbn0pO1xuXG5JbnB1dExheWVyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiZHJhZ1RpbWVcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiRHJhZyBUaW1lXCIsXG4gICAgZGVmYXVsdDogMC40XG59KTtcblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgaWYgKHRoaXMuZmFjYWRlLmhhc01lZGlhdG9yKElucHV0TGF5ZXJNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnB1dExheWVyTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgSW5wdXRMYXllck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG4gICAgdGhpcy5yYXkgPSBuZXcgcGMuUmF5KCk7XG4gICAgdGhpcy5pbnB1dFF1ZXVlID0gW107XG5cbiAgICAvLyBEcmFnIHByb3BlcnRpZXNcbiAgICB0aGlzLmFwcC5tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcbiAgICB0aGlzLmNsaWNrRG93blN0YXJ0ID0gMDtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuYXBwLm9uKCdwaWNrZXI6cmVzdWx0JywgdGhpcy5oYW5kbGVQaWNrZXJSZXN1bHQsIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuYXBwLm1vdXNlKSB7XG4gICAgICAgIHRoaXMuYXBwLm1vdXNlLm9uKHBjLkVWRU5UX01PVVNFTU9WRSwgdGhpcy5vbk1vdXNlTW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24ocGMuRVZFTlRfTU9VU0VET1dOLCB0aGlzLm9uTW91c2VEb3duLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hcHAubW91c2Uub24ocGMuRVZFTlRfTU9VU0VVUCwgdGhpcy5vbk1vdXNlVXAsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZW50aXR5Lm9uY2UoJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcC5tb3VzZS5vZmYocGMuRVZFTlRfTU9VU0VNT1ZFLCB0aGlzLm9uTW91c2VNb3ZlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYXBwLm1vdXNlLm9mZihwYy5FVkVOVF9NT1VTRVVQLCB0aGlzLm9uTW91c2VVcCwgdGhpcyk7XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXBwLnRvdWNoKSB7XG4gICAgICAgIHRoaXMuYXBwLnRvdWNoLm9uKHBjLkVWRU5UX1RPVUNITU9WRSwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlKHRvdWNoRXZ0LnRvdWNoZXNbMF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIU1RBUlQsICh0b3VjaEV2dCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlRG93bih0b3VjaEV2dC50b3VjaGVzWzBdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSEVORCwgKHRvdWNoRXZ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VVcCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZURvd24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNsaWNrRG93blN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLmNsaWNrU3RhcnRQb2ludCA9IHsgeDogZXZ0LngsIHk6IGV2dC55IH07XG59XG5cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUub25Nb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xuICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBuZXcgcGMuVmVjMih0aGlzLmNsaWNrU3RhcnRQb2ludC54IC0gZXZ0LngsIHRoaXMuY2xpY2tTdGFydFBvaW50LnkgLSBldnQueSk7XG4gICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ3Njcm9sbGluZycsIGRpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuY2xpY2tTdGFydFBvaW50ID0geyB4OiBldnQueCwgeTogZXZ0LnkgfTtcbiAgICB9XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLm9uTW91c2VVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5jbGlja0Rvd25TdGFydCA8ICh0aGlzLmRyYWdUaW1lICogMTAwMCkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tTdGFydFBvaW50KSB7XG4gICAgICAgICAgICAvLyB0aGlzLmVudGl0eS5maXJlKCd2YWxpZENsaWNrJywgdGhpcy5jbGlja1N0YXJ0UG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVSYXljYXN0Q29sbGlzaW9ucyh0aGlzLmNsaWNrU3RhcnRQb2ludC54LCB0aGlzLmNsaWNrU3RhcnRQb2ludC55KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Y2FzdENvbGxpc2lvbnMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIGNvbnN0IGNhbWVyYUVudGl0eSA9IHRoaXMuY2FtZXJhRW50aXR5O1xuICAgIGNvbnN0IGNhbWVyYUNvbXBvbmVudCA9IHRoaXMuY2FtZXJhRW50aXR5LmNhbWVyYTtcbiAgICBjYW1lcmFDb21wb25lbnQuc2NyZWVuVG9Xb3JsZCh4LCB5LCBjYW1lcmFDb21wb25lbnQuZmFyQ2xpcCwgdGhpcy5yYXkuZGlyZWN0aW9uKTtcbiAgICB0aGlzLnJheS5vcmlnaW4uY29weShjYW1lcmFFbnRpdHkuZ2V0UG9zaXRpb24oKSk7XG4gICAgdGhpcy5yYXkuZGlyZWN0aW9uLnN1Yih0aGlzLnJheS5vcmlnaW4pLm5vcm1hbGl6ZSgpO1xuXG4gICAgdGhpcy5hcHAuZmlyZSgncGlja2VyOnJheWNhc3QnLCB0aGlzLnJheSwgeyB4LCB5IH0pO1xufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVQaWNrZXJSZXN1bHQgPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbiwgc2NyZWVuUG9zKSB7XG4gICAgdGhpcy5pbnB1dFF1ZXVlLnB1c2goe1xuICAgICAgICBlbnRpdHk6IHBpY2tlZEVudGl0eSxcbiAgICAgICAgaGl0UG9zaXRpb246IGhpdFBvc2l0aW9uLFxuICAgICAgICBzY3JlZW5Qb3NpdGlvbjogc2NyZWVuUG9zXG4gICAgfSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIHRoaXMucHJvY2Vzc0lucHV0UXVldWUoKTtcbn1cblxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5wcm9jZXNzSW5wdXRRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGlmICh0aGlzLmlucHV0UXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgaGlnaGVzdFByaW9yaXR5UGljayA9IHRoaXMuaW5wdXRRdWV1ZVswXTtcbiAgICAgICAgbGV0IGhpZ2hlc3RQcmlvcml0eSA9IC0xO1xuICAgICAgICAvLyBGaW5kIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICAgICAgZm9yIChjb25zdCBwaWNrIG9mIHRoaXMuaW5wdXRRdWV1ZSkge1xuICAgICAgICAgICAgY29uc3QgcGlja1ByaW9yaXR5ID0gZ2V0UHJpb3JpdHkocGljay5lbnRpdHkpXG4gICAgICAgICAgICBpZiAocGlja1ByaW9yaXR5ID4gaGlnaGVzdFByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgaGlnaGVzdFByaW9yaXR5UGljayA9IHBpY2s7XG4gICAgICAgICAgICAgICAgaGlnaGVzdFByaW9yaXR5ID0gcGlja1ByaW9yaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnB1dFF1ZXVlID0gW107XG5cbiAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVBpY2suZW50aXR5LnRhZ3MuaGFzKCdnYW1lQ2hhcmFjdGVyJykpIHtcbiAgICAgICAgICAgIHRoaXMucGlja2VkR2FtZUNoYXJhY3RlcihoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eS50YWdzLmhhcygnbmF2aWdhdGlvbicpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZE5hdmlnYXRpb24oaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHksIGhpZ2hlc3RQcmlvcml0eVBpY2suaGl0UG9zaXRpb24pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5UGljay5lbnRpdHkudGFncy5oYXMoJ3BvcnRhbCcpKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlZFBvcnRhbChoaWdoZXN0UHJpb3JpdHlQaWNrLmVudGl0eSwgaGlnaGVzdFByaW9yaXR5UGljay5oaXRQb3NpdGlvbilcbiAgICAgICAgfVxuXG4gICAgfVxufVxuXG5JbnB1dExheWVyQ29tcG9uZW50LnByb3RvdHlwZS5waWNrZWRHYW1lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6Z2FtZUNoYXJhY3RlcicsIHBpY2tlZEVudGl0eSk7XG59XG5cbklucHV0TGF5ZXJDb21wb25lbnQucHJvdG90eXBlLnBpY2tlZE5hdmlnYXRpb24gPSBmdW5jdGlvbiAocGlja2VkRW50aXR5LCBoaXRQb3NpdGlvbikge1xuICAgIGNvbnN0IG5hdkNvbXAgPSBwaWNrZWRFbnRpdHkuc2NyaXB0WydOYXZpZ2F0aW9uQ29tcG9uZW50J107XG4gICAgY29uc3QgbmVhcmVzdE5vZGUgPSBuYXZDb21wLmdldE5lYXJlc3ROb2RlKGhpdFBvc2l0aW9uKTtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdwaWNrZXI6bmF2aWdhdGlvbicsIG5lYXJlc3ROb2RlKTtcbn1cblxuSW5wdXRMYXllckNvbXBvbmVudC5wcm90b3R5cGUucGlja2VkUG9ydGFsID0gZnVuY3Rpb24gKHBpY2tlZEVudGl0eSwgaGl0UG9zaXRpb24pIHtcbiAgICBwaWNrZWRFbnRpdHkuZmlyZSgncGlja2VyOnBvcnRhbCcpO1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0eShlbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5LnRhZ3MuaGFzKCdnYW1lQ2hhcmFjdGVyJykpIHtcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgfVxuXG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygncG9ydGFsJykpIHtcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgfVxuXG4gICAgaWYgKGVudGl0eS50YWdzLmhhcygnbmF2aWdhdGlvbicpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi9QbGF5ZXJDb21iYXRQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnB1dExheWVyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXRMYXllci9JbnB1dExheWVyQ29tcG9uZW50JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTixcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOmVuZFR1cm4nLCB0aGlzLmhhbmRsZUVuZFR1cm4sIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURTpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQVdBSVRfUExBWUVSX0NPTUJBVF9JTlBVVDpcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5FTkRfQ09NQkFUX1RVUk46XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUVuZFR1cm4oZXZ0KSB7XG4gICAgICAgIHRoaXMuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yIH0gZnJvbSBcIi4vUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvclwiO1xuXG5leHBvcnQgY29uc3QgUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50Jyk7XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlbmRUdXJuQnV0dG9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdFbmQgVHVybiBidXR0b24nIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cblBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihQbGF5ZXJDb21iYXRQYW5lbE1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFBsYXllckNvbWJhdFBhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgUGxheWVyQ29tYmF0UGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbmRUdXJuQnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5jbGlja0VuZFR1cm4sIHRoaXMpO1xufTtcblxuUGxheWVyQ29tYmF0UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsaWNrRW5kVHVybiA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljazplbmRUdXJuJyk7XG59XG4iLCJleHBvcnQgY29uc3QgSGl0Ym94Q29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdIaXRib3hDb21wb25lbnQnKTtcblxuXG5IaXRib3hDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5lbnRpdHkuZ2V0TG9jYWxTY2FsZSgpO1xuICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gbmV3IHBjLlZlYzMoc2NhbGUueCAvIDIsIHNjYWxlLnkgLyAyLCBzY2FsZS56IC8gMik7XG4gICAgdGhpcy5hYWJiID0gbmV3IHBjLkJvdW5kaW5nQm94KHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCksIGhhbGZFeHRlbnRzKTtcbiAgICB0aGlzLmFwcC5vbigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkub24oJ3N0b3BMaXN0ZW5pbmcnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLm9mZigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLm9mZigncGlja2VyOnJheWNhc3QnLCB0aGlzLmhhbmRsZVJheUNhc3QsIHRoaXMpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkubW9kZWwuZW5hYmxlZCA9IGZhbHNlO1xuXG59XG5cbkhpdGJveENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlUmF5Q2FzdCA9IGZ1bmN0aW9uIChyYXksIHNjcmVlblBvcykge1xuICAgIGNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmFhYmIuaW50ZXJzZWN0c1JheShyYXksIGhpdFBvc2l0aW9uKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMuYXBwLmZpcmUoJ3BpY2tlcjpyZXN1bHQnLCB0aGlzLmVudGl0eS5wYXJlbnQsIGhpdFBvc2l0aW9uLCBzY3JlZW5Qb3MpO1xuICAgIH1cbn1cblxuSGl0Ym94Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICB0aGlzLmFhYmIuY2VudGVyLmNvcHkodGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEFjdGlvblBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJBY3Rpb25QYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLlNFVF9QTEFZRVJfQUNUSU9OLCBHYW1lQ29tbWFuZHMuVE9HR0xFX0JVVFRPTixcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5VU0VfUExBWUVSX0FDVElPTlxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOmZpcmVDb21tYW5kJywgdGhpcy5oYW5kbGVGaXJlQ29tbWFuZCwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5UT0dHTEVfQlVUVE9OOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvblBhbmVsQ29tcG9uZW50J10uc2VsZWN0QWN0aW9uKGFjdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVVNFX1BMQVlFUl9BQ1RJT046XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUZpcmVDb21tYW5kKGNvbW1hbmROYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oY29tbWFuZE5hbWUsIC4uLmFyZ3MpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBY3Rpb25CdXR0b25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbkJ1dHRvbkNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5cbmNvbnN0IGNvbW1hbmRTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnY29tbWFuZE5hbWUnLFxuICAgICAgICB0aXRsZTogJ0NvbW1hbmQgbmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tYW5kQXJncycsXG4gICAgICAgIHRpdGxlOiAnQ29tbWFuZCBhcmd1bWVudHMnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJywgYXJyYXk6IHRydWVcbiAgICB9XG5dO1xuXG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpZ2hsaWdodEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGlnaGxpZ2h0IEVudGl0eScgfSk7XG5BY3Rpb25CdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ljb25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ljb24gRW50aXR5JyB9KTtcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29tbWFuZHMnLCB7IHR5cGU6ICdqc29uJywgc2NoZW1hOiBjb21tYW5kU2NoZW1hLCB0aXRsZTogJ0NvbW1hbmQgbmFtZScsIGFycmF5OiB0cnVlIH0pOztcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbnRpdHkub24oJ3NlbGVjdDphY3Rpb24nLCB0aGlzLmhhbmRsZUNoYW5nZUFjdGlvbiwgdGhpcyk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLCB0aGlzKTtcbn07XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgZm9yIChjb25zdCBjb21tYW5kIG9mIHRoaXMuY29tbWFuZHMpIHtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBjb21tYW5kLmNvbW1hbmROYW1lO1xuICAgICAgICBjb25zdCBjb21tYW5kQXJncyA9IGNvbW1hbmQuY29tbWFuZEFyZ3M7XG4gICAgICAgIHRoaXMuZW50aXR5LnBhcmVudC5maXJlKCdjbGljazpmaXJlQ29tbWFuZCcsIGNvbW1hbmROYW1lLCAuLi5jb21tYW5kQXJncyk7XG5cbiAgICB9XG59XG5cbkFjdGlvbkJ1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIGlmICh0aGlzLmVudGl0eS5uYW1lID09PSBhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9ICF0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRFbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbn0iLCJleHBvcnQgY29uc3QgQWN0aW9uUGFuZWxDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvblBhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEFjdGlvblBhbmVsTWVkaWF0b3IgfSBmcm9tICcuL0FjdGlvblBhbmVsTWVkaWF0b3InO1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi9BY3Rpb25CdXR0b25Db21wb25lbnQnO1xuXG5BY3Rpb25QYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnYWN0aW9uQnV0dG9ucycsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQWN0aW9uIEJ1dHRvbnMnLCBhcnJheTogdHJ1ZSB9KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkFjdGlvblBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoQWN0aW9uUGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBY3Rpb25QYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEFjdGlvblBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn1cblxuQWN0aW9uUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnNlbGVjdEFjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb25OYW1lKSB7XG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgdGhpcy5hY3Rpb25CdXR0b25zKSB7XG4gICAgICAgIGJ1dHRvbi5maXJlKCdzZWxlY3Q6YWN0aW9uJywgYWN0aW9uTmFtZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IFVJU3RvcFByb3BhZ2F0aW9uID0gcGMuY3JlYXRlU2NyaXB0KCdVSVN0b3BQcm9wYWdhdGlvbicpO1xuXG5VSVN0b3BQcm9wYWdhdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFRE9XTiwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX1RPVUNIU1RBUlQsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSE1PVkUsIChldnQpID0+IHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9UT1VDSEVORCwgKGV2dCkgPT4ge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG59XG5cbiIsImltcG9ydCB7IEZhY2FkZSB9IGZyb20gXCJAa29yZWV6L3B1cmUtbXZjXCI7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSBcIi4uLy4uL0dhbWVGYWNhZGVcIjtcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IgfSBmcm9tIFwiLi9Qcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yXCI7XG5cbmV4cG9ydCBjb25zdCBQcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQnKTtcblxuY29uc3QgcHJvamVjdGlsZVNjaGVtYSA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwcm9qZWN0aWxlTmFtZScsXG4gICAgICAgIHRpdGxlOiAnUHJvamVjdGlsZSBOYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb2plY3RpbGVUZW1wbGF0ZScsXG4gICAgICAgIHRpdGxlOiAnUHJvamVjdGlsZSBUZW1wbGF0ZScsXG4gICAgICAgIHR5cGU6ICdhc3NldCdcbiAgICB9XG5dO1xuXG5Qcm9qZWN0aWxlQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcInByb2plY3RpbGVUeXBlc1wiLCB7XG4gICAgdHlwZTogXCJqc29uXCIsXG4gICAgdGl0bGU6IFwiUHJvamVjdGlsZSBUeXBlc1wiLFxuICAgIHNjaGVtYTogcHJvamVjdGlsZVNjaGVtYSxcbiAgICBhcnJheTogdHJ1ZVxufSk7XG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihQcm9qZWN0aWxlQ3JlYXRvck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IFByb2plY3RpbGVDcmVhdG9yTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbn07XG5cblxuUHJvamVjdGlsZUNyZWF0b3JDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVByb2plY3RpbGUgPSBmdW5jdGlvbiAocHJvamVjdGlsZU5hbWUsIG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlsZVNjaGVtZSA9IHRoaXMucHJvamVjdGlsZVR5cGVzLmZpbmQoc2NoZW1lID0+IHNjaGVtZS5wcm9qZWN0aWxlTmFtZSA9PT0gcHJvamVjdGlsZU5hbWUpO1xuICAgICAgICBpZiAocHJvamVjdGlsZVNjaGVtZSkge1xuICAgICAgICAgICAgY29uc3QgbmV3UHJvamVjdGlsZSA9IHByb2plY3RpbGVTY2hlbWUucHJvamVjdGlsZVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdQcm9qZWN0aWxlKTtcbiAgICAgICAgICAgIG5ld1Byb2plY3RpbGUub25jZSgncHJvamVjdGlsZUFycml2ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0aWxlLnNjcmlwdFsnUHJvamVjdGlsZUNvbXBvbmVudCddLnNldFRhcmdldChvcmlnaW5Qb2ludCwgdGFyZ2V0UG9pbnQpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyZWF0ZSBwcm9qZWN0aWxlIFwiJHtwcm9qZWN0aWxlTmFtZX1cImApO1xuICAgICAgICB9XG4gICAgfSk7XG59IiwiXG5cbmV4cG9ydCBjb25zdCBQcm9qZWN0aWxlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQcm9qZWN0aWxlQ29tcG9uZW50Jyk7XG5cblByb2plY3RpbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJwcm9qZWN0aWxlU3BlZWRcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiUHJvamVjdGlsZSBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDhcbn0pO1xuXG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUuc2V0VGFyZ2V0ID0gZnVuY3Rpb24gKG9yaWdpblBvaW50LCB0YXJnZXRQb2ludCkge1xuICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24ob3JpZ2luUG9pbnQueCwgb3JpZ2luUG9pbnQueSwgb3JpZ2luUG9pbnQueik7XG4gICAgdGhpcy50YXJnZXRQb2ludCA9IHRhcmdldFBvaW50O1xuICAgIHRoaXMubG9va0F0UG9pbnQodGhpcy50YXJnZXRQb2ludCk7XG5cbn1cblxuUHJvamVjdGlsZUNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0UG9pbnQpIHtcbiAgICAgICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgY29uc3Qgc3BlZWQgPSBuZXcgcGMuVmVjMyhkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkLCBkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkLCBkdCAqIHRoaXMucHJvamVjdGlsZVNwZWVkKTtcbiAgICAgICAgbmV3UG9zaXRpb24uc3ViMih0aGlzLnRhcmdldFBvaW50LmNsb25lKCksIGxvY2FsUG9zKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubm9ybWFsaXplKCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLm11bChzcGVlZCk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLmFkZChsb2NhbFBvcyk7XG5cbiAgICAgICAgdGhpcy5lbnRpdHkuc2V0TG9jYWxQb3NpdGlvbihuZXdQb3NpdGlvbik7XG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2VUb05leHRQYXRoID0gbmV3UG9zaXRpb24uZGlzdGFuY2UodGhpcy50YXJnZXRQb2ludCk7XG4gICAgICAgIGlmIChkaXN0YW5jZVRvTmV4dFBhdGggPD0gKGR0ICogdGhpcy5wcm9qZWN0aWxlU3BlZWQpKSB7XG4gICAgICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdwcm9qZWN0aWxlQXJyaXZlZCcpO1xuICAgICAgICAgICAgdGhpcy5lbnRpdHkuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblByb2plY3RpbGVDb21wb25lbnQucHJvdG90eXBlLmxvb2tBdFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgY29uc3QgbG9jYWxQb3MgPSB0aGlzLmVudGl0eS5nZXRMb2NhbFBvc2l0aW9uKCk7XG5cbiAgICBjb25zdCBkeCA9IHBvaW50LnggLSBsb2NhbFBvcy54O1xuICAgIGNvbnN0IGR6ID0gcG9pbnQueiAtIGxvY2FsUG9zLno7XG4gICAgY29uc3QgYW5nbGVUb0Rlc3QgPSBNYXRoLmF0YW4yKGR4LCBkeikgKiAxODAgLyBNYXRoLlBJO1xuICAgIHRoaXMuZW50aXR5LnNldEV1bGVyQW5nbGVzKDAsIGFuZ2xlVG9EZXN0LCAwKTtcbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IFN0YW1pbmFCYXJDb21wb25lbnQgfSBmcm9tICcuL1N0YW1pbmFCYXJDb21wb25lbnQnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgU3RhbWluYUJhck1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiU3RhbWluYUJhck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NUQU1JTkEgKyBcInBsYXllclwiXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuQ0hBTkdFX1NUQU1JTkEgKyBcInBsYXllclwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YW1pbmEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heFN0YW1pbmEgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbXCJTdGFtaW5hQmFyQ29tcG9uZW50XCJdLnVwZGF0ZVN0YW1pbmEobmV3U3RhbWluYSwgbWF4U3RhbWluYSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBGYWNhZGUgfSBmcm9tIFwiQGtvcmVlei9wdXJlLW12Y1wiO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gXCIuLi8uLi9HYW1lRmFjYWRlXCI7XG5pbXBvcnQgeyBTdGFtaW5hQmFyTWVkaWF0b3IgfSBmcm9tIFwiLi9TdGFtaW5hQmFyTWVkaWF0b3JcIjtcblxuZXhwb3J0IGNvbnN0IFN0YW1pbmFCYXJDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1N0YW1pbmFCYXJDb21wb25lbnQnKTtcblxuU3RhbWluYUJhckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImJhckVudGl0eVwiLCB7XG4gICAgdHlwZTogXCJlbnRpdHlcIixcbiAgICB0aXRsZTogXCJCYXIgRW50aXR5XCJcbn0pO1xuXG5TdGFtaW5hQmFyQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwic3RhbWluYUxhYmVsXCIsIHtcbiAgICB0eXBlOiBcImVudGl0eVwiLFxuICAgIHRpdGxlOiBcIlN0YW1pbmEgTGFiZWxcIlxufSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5TdGFtaW5hQmFyQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoU3RhbWluYUJhck1lZGlhdG9yLk5BTUUpKSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnJlbW92ZU1lZGlhdG9yKFN0YW1pbmFCYXJNZWRpYXRvci5OQU1FKTtcbiAgICB9XG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgU3RhbWluYUJhck1lZGlhdG9yKHRoaXMuZW50aXR5KSk7XG5cbiAgICB0aGlzLmJhckVudGl0eU1heFdpZHRoID0gdGhpcy5iYXJFbnRpdHkuZWxlbWVudC53aWR0aDtcbn07XG5cblxuU3RhbWluYUJhckNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlU3RhbWluYSA9IGZ1bmN0aW9uIChjdXJyZW50U3RhbWluYSwgbWF4U3RhbWluYSkge1xuICAgIGNvbnN0IHZhbHVlID0gcGMubWF0aC5jbGFtcChjdXJyZW50U3RhbWluYSAvIG1heFN0YW1pbmEsIDAsIDEpO1xuICAgIGNvbnN0IHdpZHRoID0gcGMubWF0aC5sZXJwKDAsIHRoaXMuYmFyRW50aXR5TWF4V2lkdGgsIHZhbHVlKTtcbiAgICAvLyBzZXQgdGhlIHdpZHRoIG9mIHRoZSBmaWxsIGltYWdlIGVsZW1lbnRcbiAgICB0aGlzLmJhckVudGl0eS5lbGVtZW50LndpZHRoID0gd2lkdGg7XG5cbiAgICAvLyBTZXQgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50J3MgcmVjdCAocmVjdC56KSB0byBiZSB0aGUgc2FtZVxuICAgIC8vIHZhbHVlIGFzIG91ciAwLTEgcHJvZ3Jlc3MuXG4gICAgLy8gVGhpcyBpcyBzbyB0aGF0IHRoZSBmaWxsIGltYWdlIHdpbGwgb25seSBzaG93IHRoZSBwb3J0aW9uXG4gICAgLy8gb2YgdGhlIHRleHR1cmUgdGhhdCBpcyB2aXNpYmxlXG4gICAgdGhpcy5iYXJFbnRpdHkuZWxlbWVudC5yZWN0LnogPSB2YWx1ZTtcbiAgICAvLyBmb3JjZSByZWN0IHVwZGF0ZVxuICAgIHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdCA9IHRoaXMuYmFyRW50aXR5LmVsZW1lbnQucmVjdDtcblxuICAgIHRoaXMuc3RhbWluYUxhYmVsLmVsZW1lbnQudGV4dCA9IGAke2N1cnJlbnRTdGFtaW5hfS8ke21heFN0YW1pbmF9YDtcbn0iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVDaGFyYWN0ZXJQcm94eSB9IGZyb20gJy4uLy4uL21vZGVsL2dhbWVDaGFyYWN0ZXIvR2FtZUNoYXJhY3RlclByb3h5JztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEFjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihBY3Rpb25zUmVtYWluaW5nUGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5BV0FJVF9QTEFZRVJfQ09NQkFUX0lOUFVULFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkVORF9DT01CQVRfVFVSTixcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5VU0VfQUNUSU9OICsgXCJwbGF5ZXJcIlxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DSEFOR0VfU0NFTkVfQ09NUExFVEU6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkFXQUlUX1BMQVlFUl9DT01CQVRfSU5QVVQ6XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyUHJveHkgPSB0aGlzLmZhY2FkZS5yZXRyaWV2ZVByb3h5KEdhbWVDaGFyYWN0ZXJQcm94eS5OQU1FICsgXCJwbGF5ZXJcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlQWN0aW9ucyA9IHBsYXllclByb3h5LmF2YWlsYWJsZUFjdGlvbnM7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4QWN0aW9ucyA9IHBsYXllclByb3h5Lm1heEFjdGlvbnNQZXJUdXJuO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCddLnNob3dBdmFpbGFibGVBY3Rpb24oYXZhaWxhYmxlQWN0aW9ucywgbWF4QWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuVVNFX0FDVElPTiArIFwicGxheWVyXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50J10uc2hvd0F2YWlsYWJsZUFjdGlvbihhcmdzWzBdLCBhcmdzWzFdKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRU5EX0NPTUJBVF9UVVJOOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IgfSBmcm9tICcuL0FjdGlvbnNSZW1haW5pbmdQYW5lbE1lZGlhdG9yJztcblxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwaXBUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdQaXAgVGVtcGxhdGUnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuQWN0aW9uc1JlbWFpbmluZ1BhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IuTkFNRSk7XG4gICAgfVxuXG4gICAgdGhpcy5mYWNhZGUucmVnaXN0ZXJNZWRpYXRvcihuZXcgQWN0aW9uc1JlbWFpbmluZ1BhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcblxuICAgIHRoaXMucGlwcyA9IFtdO1xufVxuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLnNob3dBdmFpbGFibGVBY3Rpb24gPSBmdW5jdGlvbiAoYXZhaWxhYmxlQWN0aW9ucywgbWF4QWN0aW9ucykge1xuICAgIHdoaWxlICh0aGlzLnBpcHMubGVuZ3RoIDwgbWF4QWN0aW9ucykge1xuICAgICAgICB0aGlzLmNyZWF0ZVBpcCgpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5waXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpIDwgYXZhaWxhYmxlQWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5waXBzW2ldLmZpcmUoJ3RvZ2dsZVBpcCcsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5waXBzW2ldLmZpcmUoJ3RvZ2dsZVBpcCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5BY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVBpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBuZXdQaXAgPSB0aGlzLnBpcFRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgdGhpcy5lbnRpdHkuYWRkQ2hpbGQobmV3UGlwKTtcbiAgICB0aGlzLnBpcHMucHVzaChuZXdQaXApO1xufVxuIiwiZXhwb3J0IGNvbnN0IEFjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0FjdGlvbnNSZW1haW5pbmdQaXBDb21wb25lbnQnKTtcblxuQWN0aW9uc1JlbWFpbmluZ1BpcENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgncGlwRnJvbnQnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1BpcCBmcm9udCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5Lm9uKCd0b2dnbGVQaXAnLCAoc2hvdykgPT4ge1xuICAgICAgICB0aGlzLnBpcEZyb250LmVuYWJsZWQgPSBzaG93O1xuICAgIH0pO1xufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoRmxvYXRpbmdTdGF0dXNDcmVhdG9yTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0ZMT0FUSU5HX1NUQVRVU1xuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRkxPQVRJTkdfU1RBVFVTOlxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdENvbXAgPSB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydGbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnXTtcbiAgICAgICAgICAgICAgICBjb25zdCBmbG9hdGVyTmFtZSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0UHJveHkgPSBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgc2NyaXB0Q29tcC5kaXNwbGF5U3RhdHVzKGZsb2F0ZXJOYW1lLCB0YXJnZXRQcm94eSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ1RlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50Jyk7XG5cbi8vIFRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtYXhDYW1lcmFIZWlnaHQnLCB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxMDAsIHRpdGxlOiAnTWF4IENhbWVyYSBIZWlnaHQnIH0pO1xuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuVGVtcG9yYXJ5RmxvYXRpbmdTdGF0dXNDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7IH07XG5cblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS5zZXRXb3JsZFBvc2l0aW9uID0gZnVuY3Rpb24gKHdvcmxkUG9zaXRpb24sIGNhbWVyYSwgc2NyZWVuKSB7XG4gICAgdGhpcy5lbnRpdHkuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy53b3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbjtcbiAgICB0aGlzLmRldmljZSA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlO1xuICAgIHRoaXMuY2FtZXJhRW50aXR5ID0gY2FtZXJhO1xuICAgIHRoaXMuc2NyZWVuRW50aXR5ID0gc2NyZWVuO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZW50aXR5LmRlc3Ryb3koKTtcbiAgICB9LCAxMDAwKTtcbn1cblxuLy8gdXBkYXRlIGNvZGUgY2FsbGVkIGV2ZXJ5IGZyYW1lXG5UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudC5wcm90b3R5cGUucG9zdFVwZGF0ZSA9IGZ1bmN0aW9uIChkdCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy53b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSh0aGlzLndvcmxkUG9zaXRpb24uY2xvbmUoKSk7XG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNldExvY2FsUG9zaXRpb24ocG9zaXRpb24pO1xuICAgIH1cbn07XG5cblRlbXBvcmFyeUZsb2F0aW5nU3RhdHVzQ29tcG9uZW50LnByb3RvdHlwZS53b3JsZFNwYWNlVG9TY3JlZW5TcGFjZSA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICBpZiAodGhpcy5kZXZpY2UgJiYgdGhpcy5jYW1lcmFFbnRpdHkgJiYgdGhpcy5zY3JlZW5FbnRpdHkpIHtcbiAgICAgICAgY29uc3Qgd29ybGRQb3MgPSBwb3MuY2xvbmUoKTtcbiAgICAgICAgY29uc3Qgc2NyZWVuUG9zID0gbmV3IHBjLlZlYzMoKTtcbiAgICAgICAgLy8gZ2V0IHNjcmVlbiBzcGFjZSBjby1vcmRcbiAgICAgICAgdGhpcy5jYW1lcmFFbnRpdHkuY2FtZXJhLndvcmxkVG9TY3JlZW4od29ybGRQb3MsIHNjcmVlblBvcyk7XG4gICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5tYXhQaXhlbFJhdGlvO1xuICAgICAgICBzY3JlZW5Qb3MueCAqPSBwaXhlbFJhdGlvO1xuICAgICAgICBzY3JlZW5Qb3MueSAqPSBwaXhlbFJhdGlvO1xuXG4gICAgICAgIGNvbnN0IHNjcmVlbkNvbXAgPSB0aGlzLnNjcmVlbkVudGl0eS5zY3JlZW47XG5cbiAgICAgICAgY29uc3QgcmF0aW9TY2FsZSA9IHNjcmVlbkNvbXAuc2NhbGU7XG4gICAgICAgIGNvbnN0IHggPSAoc2NyZWVuUG9zLnggLyByYXRpb1NjYWxlKTtcbiAgICAgICAgY29uc3QgeSA9ICh0aGlzLmRldmljZS5oZWlnaHQgLSBzY3JlZW5Qb3MueSkgLyByYXRpb1NjYWxlO1xuXG4gICAgICAgIHJldHVybiBuZXcgcGMuVmVjMyh4LCB5LCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG59IiwiZXhwb3J0IGNvbnN0IEZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRmxvYXRpbmdTdGF0dXNDcmVhdG9yQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IEZsb2F0aW5nU3RhdHVzQ3JlYXRvck1lZGlhdG9yIH0gZnJvbSAnLi9GbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvcic7XG5pbXBvcnQgeyBUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9UZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCc7XG5cbmNvbnN0IGZsb2F0aW5nU3RhdHVzU2NoZW1hID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgICB0aXRsZTogJ05hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAndGVtcGxhdGUnLFxuICAgICAgICB0aXRsZTogJ1RlbXBsYXRlJyxcbiAgICAgICAgdHlwZTogJ2Fzc2V0J1xuICAgIH1cbl07XG5cbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2NyZWVuRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTY3JlZW4gRW50aXR5JyB9KTtcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY2FtZXJhRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdDYW1lcmEgRW50aXR5JyB9KTtcbkZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZmxvYXRpbmdTdGF0dXNlcycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGZsb2F0aW5nU3RhdHVzU2NoZW1hLCB0aXRsZTogJ0Zsb2F0aW5nIFN0YXR1c2VzJywgYXJyYXk6IHRydWUgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBGbG9hdGluZ1N0YXR1c0NyZWF0b3JNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG59O1xuXG5GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlTdGF0dXMgPSBmdW5jdGlvbiAobmFtZSwgdGFyZ2V0UHJveHksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBzY2hlbWUgPSB0aGlzLmZsb2F0aW5nU3RhdHVzZXMuZmluZCgob3RoZXJTY2hlbWUpID0+IG90aGVyU2NoZW1lLm5hbWUgPT09IG5hbWUpO1xuICAgIGlmIChzY2hlbWUpIHtcbiAgICAgICAgLy8gXG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXRQcm94eS5jdXJyZW50Tm9kZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9zID0gbmV3IHBjLlZlYzModGFyZ2V0Tm9kZS54LCB0YXJnZXROb2RlLnkgKyB0YXJnZXRQcm94eS5oZWlnaHQsIHRhcmdldE5vZGUueik7XG4gICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IHNjaGVtZS50ZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgICAgICBuZXdTdGF0dXMuc2NyaXB0WydUZW1wb3JhcnlGbG9hdGluZ1N0YXR1c0NvbXBvbmVudCddLnNldFdvcmxkUG9zaXRpb24odGFyZ2V0UG9zLFxuICAgICAgICAgICAgdGhpcy5jYW1lcmFFbnRpdHksIHRoaXMuc2NyZWVuRW50aXR5KTtcbiAgICAgICAgdGhpcy5lbnRpdHkucGFyZW50LmFkZENoaWxkKG5ld1N0YXR1cyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjcmVhdGUgZmxvYXRpbmcgc3RhdHVzOiAke25hbWV9YCk7XG4gICAgfVxuXG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVTdGF0ZVByb3h5IH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVByb3h5JztcbmltcG9ydCB7IGdhbWVwbGF5TW9kZVR5cGVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvZ2FtZVN0YXRlL0dhbWVTdGF0ZVZPJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIFBvcnRhbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiUG9ydGFsTWVkaWF0b3JcIiB9O1xuXG4gICAgY29uc3RydWN0b3Iodmlld0NvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihQb3J0YWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkNIQU5HRV9TQ0VORV9DT01QTEVURSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG5cbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdwaWNrZXI6cG9ydGFsJywgdGhpcy5zZWxlY3RlZFBvcnRhbCwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TRVRfQ0FNRVJBX1RBUkdFVDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdGVkUG9ydGFsKCkge1xuICAgICAgICBjb25zdCBnYW1lU3RhdGVQcm94eSA9IHRoaXMuZmFjYWRlLnJldHJpZXZlUHJveHkoR2FtZVN0YXRlUHJveHkuTkFNRSk7XG4gICAgICAgIGNvbnN0IHBvcnRhbENvbXBvbmVudCA9IHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ1BvcnRhbENvbXBvbmVudCddO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvblNjZW5lID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uU2NlbmU7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uUG9ydGFsID0gcG9ydGFsQ29tcG9uZW50LmRlc3RpbmF0aW9uUG9ydGFsO1xuICAgICAgICBjb25zdCBzdGFuZGluZ1Bvc2l0aW9uID0gcG9ydGFsQ29tcG9uZW50LnN0YW5kaW5nUG9pbnQuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICBpZiAoZ2FtZVN0YXRlUHJveHkuY3VycmVudE1vZGUgPT09IGdhbWVwbGF5TW9kZVR5cGVzLkVYUExPUkFUSU9OKSB7XG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5OQVZJR0FURV9USFJPVUdIX1BPUlRBTCxcbiAgICAgICAgICAgICAgICBzdGFuZGluZ1Bvc2l0aW9uLCBkZXN0aW5hdGlvblNjZW5lLCBkZXN0aW5hdGlvblBvcnRhbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgUG9ydGFsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdQb3J0YWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgUG9ydGFsTWVkaWF0b3IgfSBmcm9tICcuL1BvcnRhbE1lZGlhdG9yJztcblxuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdwb3J0YWxJZCcsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnUG9ydGFsIElkJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZGVzdGluYXRpb25TY2VuZScsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnRGVzdGluYXRpb24gU2NlbmUnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkZXN0aW5hdGlvblBvcnRhbCcsIHsgdHlwZTogJ3N0cmluZycsIHRpdGxlOiAnRGVzdGluYXRpb24gUG9ydGFsJyB9KTtcblBvcnRhbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaGl0Ym94JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdIaXRib3gnIH0pO1xuUG9ydGFsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzdGFuZGluZ1BvaW50JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTdGFuZGluZyBQb2ludCcgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5Qb3J0YWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihQb3J0YWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihQb3J0YWxNZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBQb3J0YWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5zdGFuZGluZ1BvaW50Lm1vZGVsLmVuYWJsZWQgPSBmYWxzZTtcblxufTtcbiIsIlxuaW1wb3J0IHsgR2FtZUNvbW1hbmRzIH0gZnJvbSAnLi4vLi4vY29udHJvbGxlci9HYW1lQ29tbWFuZHMnO1xuY29uc3QgeyBNZWRpYXRvciB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuXG5leHBvcnQgY2xhc3MgRGlhbG9ndWVQYW5lbE1lZGlhdG9yIGV4dGVuZHMgTWVkaWF0b3Ige1xuICAgIHN0YXRpYyBnZXQgTkFNRSgpIHsgcmV0dXJuIFwiRGlhbG9ndWVQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoRGlhbG9ndWVQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZU5vdGlmaWNhdGlvbihbXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9QQU5FTCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX1BBTkVMLFxuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfRElBTE9HVUVfU1RFUCxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ESVNQTEFZX0RJQUxPR1VFX1NLSUxMX1RFU1QsXG4gICAgICAgICAgICBHYW1lQ29tbWFuZHMuQ0xFQVJfRElBTE9HVUVfQ0hPSUNFUyxcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTixcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5ISURFX0RJQUxPR1VFX0NPTlRJTlVFX0JVVFRPTlxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrZWQ6Y29udGludWUnLCB0aGlzLmhhbmRsZUNsaWNrQ29udGludWUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrZWQ6Y2hvaWNlJywgdGhpcy5oYW5kbGVDbGlja0Nob2ljZSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICBvblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSkge1xuICAgICAgICBzdXBlci5vblJlZ2lzdGVyKG5vdGlmaWNhdGlvblN1YnNjcmlwdGlvbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChub3RpZmljYXRpb25OYW1lKSB7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5TSE9XX0RJQUxPR1VFX1BBTkVMOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkhJREVfRElBTE9HVUVfUEFORUw6XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLmNsZWFyUGFuZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TVEVQOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jcmVhdGVTdGVwKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9ESUFMT0dVRV9TS0lMTF9URVNUOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jcmVhdGVTa2lsbFRlc3QoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb21tYW5kcy5DTEVBUl9ESUFMT0dVRV9DSE9JQ0VTOlxuICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnXS5jbGVhckRpYWxvZ3VlQ2hvaWNlcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuU0hPV19ESUFMT0dVRV9DT05USU5VRV9CVVRUT046XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLnNldENvbnRpbnVlQnV0dG9uKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuSElERV9ESUFMT0dVRV9DT05USU5VRV9CVVRUT046XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LnNjcmlwdFsnRGlhbG9ndWVQYW5lbENvbXBvbmVudCddLnNldENvbnRpbnVlQnV0dG9uKGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2tDb250aW51ZSgpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuQ09OVElOVUVfRElBTE9HVUVfTk9ERSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2tDaG9pY2UoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUuc2VuZE5vdGlmaWNhdGlvbihHYW1lQ29tbWFuZHMuU0VMRUNUX0RJQUxPR1VFX0NIT0lDRSwgaW5kZXgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVBhbmVsQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZVBhbmVsQ29tcG9uZW50Jyk7XG5pbXBvcnQgeyBGYWNhZGUgfSBmcm9tICdAa29yZWV6L3B1cmUtbXZjJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IERpYWxvZ3VlUGFuZWxNZWRpYXRvciB9IGZyb20gJy4vRGlhbG9ndWVQYW5lbE1lZGlhdG9yJztcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2Nyb2xsYmFyVmlld0VudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnU2Nyb2xsYmFyIFZpZXcnIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGVudEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ29udGVudCBFbnRpdHknIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZmVlZEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRmVlZCBFbnRpdHknIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGVudEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnQ29udGVudCBIZWlnaHQnLCBkZWZhdWx0OiA1MjAgfSk7XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RleHRFbnRyeVRlbXBsYXRlJywgeyB0eXBlOiAnYXNzZXQnLCB0aXRsZTogJ1RleHQgRW50cnkgQXNzZXQnIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY2hvaWNlRW50cnlUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdDaG9pY2UgRW50cnkgQXNzZXQnIH0pO1xuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2tpbGxUZXN0RW50cnlUZW1wbGF0ZScsIHsgdHlwZTogJ2Fzc2V0JywgdGl0bGU6ICdTa2lsbCBUZXN0IEVudHJ5IEFzc2V0JyB9KTtcblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnY29udGludWVCdXR0b25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0NvbnRpbnVlIEJ1dHRvbicgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihEaWFsb2d1ZVBhbmVsTWVkaWF0b3IuTkFNRSkpIHtcbiAgICAgICAgdGhpcy5mYWNhZGUucmVtb3ZlTWVkaWF0b3IoRGlhbG9ndWVQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IERpYWxvZ3VlUGFuZWxNZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5jaG9pY2VzID0gW107XG5cbiAgICB0aGlzLmNvbnRpbnVlQnV0dG9uRW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjbGlja2VkOmNvbnRpbnVlJyk7XG4gICAgfSwgdGhpcyk7XG5cbn07XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVN0ZXAgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICB0aGlzLmNyZWF0ZVRleHQoc3RlcERhdGEuc3RlcCk7XG5cbiAgICBpZiAoc3RlcERhdGEuc3RlcC5jaG9pY2VzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RlcERhdGEuc3RlcC5jaG9pY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSBzdGVwRGF0YS5zdGVwLmNob2ljZXNbaV07XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNob2ljZShpLCBjaG9pY2UudGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICBjb25zdCBuZXdUZXh0ID0gdGhpcy50ZXh0RW50cnlUZW1wbGF0ZS5yZXNvdXJjZS5pbnN0YW50aWF0ZSgpO1xuICAgIG5ld1RleHQuc2NyaXB0W1wiRGlhbG9ndWVUZXh0Q29tcG9uZW50XCJdLnNldHVwKHN0ZXBEYXRhKTtcbiAgICB0aGlzLmZlZWRFbnRpdHkuYWRkQ2hpbGQobmV3VGV4dCk7XG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVDaG9pY2UgPSBmdW5jdGlvbiAoaW5kZXgsIHRleHQpIHtcbiAgICBjb25zdCBuZXdDaG9pY2UgPSB0aGlzLmNob2ljZUVudHJ5VGVtcGxhdGUucmVzb3VyY2UuaW5zdGFudGlhdGUoKTtcbiAgICBuZXdDaG9pY2Uuc2NyaXB0W1wiRGlhbG9ndWVDaG9pY2VDb21wb25lbnRcIl0uc2V0dXAoaW5kZXgsIHRleHQpO1xuICAgIG5ld0Nob2ljZS5lbGVtZW50LnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuZmVlZEVudGl0eS5hZGRDaGlsZChuZXdDaG9pY2UpO1xuICAgIHRoaXMuY2hvaWNlcy5wdXNoKG5ld0Nob2ljZSk7XG5cbiAgICBuZXdDaG9pY2Uub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVTZWxlY3RDaG9pY2UsIHRoaXMpO1xuXG4gICAgdGhpcy5yZXNpemVUb0NvbnRlbnRzKCk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJWaWV3RW50aXR5LnNjcm9sbGJhci52YWx1ZSA9IDE7XG4gICAgfSwgNTApO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVTa2lsbFRlc3QgPSBmdW5jdGlvbiAoc2tpbGxOYW1lLCBza2lsbFZhbHVlLCBkaWUxLCBkaWUyLCB3YXNTdWNjZXNzKSB7XG4gICAgY29uc3QgbmV3U2tpbGxUZXN0ID0gdGhpcy5za2lsbFRlc3RFbnRyeVRlbXBsYXRlLnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgbmV3U2tpbGxUZXN0LnNjcmlwdFtcIkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50XCJdLnNldHVwKHNraWxsTmFtZSwgc2tpbGxWYWx1ZSwgZGllMSwgZGllMiwgd2FzU3VjY2Vzcyk7XG4gICAgdGhpcy5mZWVkRW50aXR5LmFkZENoaWxkKG5ld1NraWxsVGVzdCk7XG5cbiAgICB0aGlzLnJlc2l6ZVRvQ29udGVudHMoKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNjcm9sbGJhclZpZXdFbnRpdHkuc2Nyb2xsYmFyLnZhbHVlID0gMTtcbiAgICB9LCA1MCk7XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNsZWFyRGlhbG9ndWVDaG9pY2VzID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAoY29uc3QgY2hvaWNlIG9mIHRoaXMuY2hvaWNlcykge1xuICAgICAgICBjaG9pY2Uub2ZmKCdjbGljaycsIHRoaXMuaGFuZGxlU2VsZWN0Q2hvaWNlLCB0aGlzKTtcbiAgICAgICAgY2hvaWNlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLmNob2ljZXMgPSBbXTtcbn1cblxuRGlhbG9ndWVQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJQYW5lbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aGlsZSAodGhpcy5mZWVkRW50aXR5LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5mZWVkRW50aXR5LmNoaWxkcmVuWzBdLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbkRpYWxvZ3VlUGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZVNlbGVjdENob2ljZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHRoaXMuZW50aXR5LmZpcmUoJ2NsaWNrZWQ6Y2hvaWNlJywgaW5kZXgpO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5yZXNpemVUb0NvbnRlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzcGFjaW5nVmVydGljYWwgPSB0aGlzLmZlZWRFbnRpdHkubGF5b3V0Z3JvdXAuc3BhY2luZy55O1xuICAgIGxldCBoZWlnaHQgPSAwO1xuXG4gICAgZm9yIChjb25zdCBmZWVkQ2hpbGQgb2YgdGhpcy5mZWVkRW50aXR5LmNoaWxkcmVuKSB7XG4gICAgICAgIGhlaWdodCArPSBmZWVkQ2hpbGQuZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgIGhlaWdodCArPSBzcGFjaW5nVmVydGljYWw7XG4gICAgfVxuXG4gICAgdGhpcy5jb250ZW50RW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5jb250ZW50SGVpZ2h0LCBoZWlnaHQpO1xufVxuXG5EaWFsb2d1ZVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5zZXRDb250aW51ZUJ1dHRvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuY29udGludWVCdXR0b25FbnRpdHkuZW5hYmxlZCA9IHZhbHVlO1xufVxuIiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdEaWFsb2d1ZUNob2ljZUNvbXBvbmVudCcpO1xuXG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnaW5kZXhFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0luZGV4IEVudGl0eScgfSk7XG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5cblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cbkRpYWxvZ3VlQ2hvaWNlQ29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChpbmRleCwgbGFiZWwpIHtcbiAgICB0aGlzLmluZGV4RW50aXR5LmVsZW1lbnQudGV4dCA9IChpbmRleCArIDEpICsgXCIuXCI7XG4gICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBsYWJlbDtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcblxuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmVudGl0eS5maXJlKCdjbGljaycsIGluZGV4KVxuICAgIH0pO1xufVxuXG5EaWFsb2d1ZUNob2ljZUNvbXBvbmVudC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5oZWlnaHQgPSB0aGlzLmxhYmVsRW50aXR5LmVsZW1lbnQuaGVpZ2h0O1xuXG59XG4iLCJleHBvcnQgY29uc3QgRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCcpO1xuXG5EZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwiYW5pbWF0aW9uTmFtZVwiLCB7XG4gICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICB0aXRsZTogXCJBbmltYXRpb24gTmFtZVwiXG59KTtcblxuLy8gaW5pdGlhbGl6ZSBjb2RlIGNhbGxlZCBvbmNlIHBlciBlbnRpdHlcbkRlZmF1bHRBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LmFuaW1hdGlvbi5sb29wID0gdHJ1ZTtcbiAgICB0aGlzLmVudGl0eS5hbmltYXRpb24ucGxheSh0aGlzLmFuaW1hdGlvbk5hbWUsIDAuMSk7XG59IiwiZXhwb3J0IGNvbnN0IERpYWxvZ3VlVGV4dENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVUZXh0Q29tcG9uZW50Jyk7XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnd2l0aEltYWdlV2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1dpdGggSW1hZ2UgV2lkdGgnLCBkZWZhdWx0OiAzNDAgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3dpdGhvdXRJbWFnZVdpZHRoJywgeyB0eXBlOiAnbnVtYmVyJywgdGl0bGU6ICdXaXRoIEltYWdlIFdpZHRoJywgZGVmYXVsdDogMzYwIH0pO1xuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3RleHRDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RleHQgQ29udGFpbmVyJyB9KTtcbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndGl0bGVFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RpdGxlIEVudGl0eScgfSk7XG5EaWFsb2d1ZVRleHRDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2JvZHlFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0JvZHkgRW50aXR5JyB9KTtcblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aHVtYm5haWxDb250YWluZXInLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1RodW1ibmFpbCBDb250YWluZXInIH0pO1xuRGlhbG9ndWVUZXh0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCd0aHVtYm5haWxJbWFnZScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnVGh1bWJuYWlsIEltYWdlJyB9KTtcblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoc3RlcERhdGEpIHtcbiAgICBpZiAoc3RlcERhdGEudGl0bGUpIHtcbiAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbGVtZW50LnRleHQgPSBzdGVwRGF0YS50aXRsZTtcblxuICAgICAgICBpZiAoc3RlcERhdGEudGl0bGVDb2xvdXIpIHtcbiAgICAgICAgICAgIHRoaXMudGl0bGVFbnRpdHkuZWxlbWVudC5jb2xvci5mcm9tU3RyaW5nKHN0ZXBEYXRhLnRpdGxlQ29sb3VyKTtcblxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aXRsZUVudGl0eS5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXBEYXRhLnRodW1ibmFpbCkge1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aEltYWdlV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50ZXh0Q29udGFpbmVyLmVsZW1lbnQud2lkdGggPSB0aGlzLndpdGhvdXRJbWFnZVdpZHRoO1xuICAgICAgICB0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbmFibGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmJvZHlFbnRpdHkuZWxlbWVudC50ZXh0ID0gc3RlcERhdGEudGV4dDtcbiAgICAvLyB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IHRoaXMubGFiZWxFbnRpdHkuZWxlbWVudC5oZWlnaHQ7XG59XG5cbkRpYWxvZ3VlVGV4dENvbXBvbmVudC5wcm90b3R5cGUuc2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IG1pbkhlaWdodCA9ICh0aGlzLnRodW1ibmFpbENvbnRhaW5lci5lbmFibGUpID8gdGhpcy50aHVtYm5haWxDb250YWluZXIuZWxlbWVudC5oZWlnaHQgOiAwO1xuICAgIGxldCBoZWlnaHQgPSAwO1xuICAgIGxldCBzcGFjaW5nID0gdGhpcy50ZXh0Q29udGFpbmVyLmxheW91dGdyb3VwLnNwYWNpbmcueTtcbiAgICBmb3IgKGNvbnN0IHRleHRDaGlsZCBvZiB0aGlzLnRleHRDb250YWluZXIuY2hpbGRyZW4pIHtcbiAgICAgICAgaGVpZ2h0ICs9IHRleHRDaGlsZC5lbGVtZW50LmhlaWdodCArIHNwYWNpbmc7XG4gICAgfVxuXG5cbiAgICBpZiAoIXRoaXMudGl0bGVFbnRpdHkuZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmJvZHlFbnRpdHkuZWxlbWVudC53aWR0aCA9IHRoaXMud2l0aEltYWdlV2lkdGg7XG5cbiAgICB9XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50LmhlaWdodCA9IE1hdGgubWF4KG1pbkhlaWdodCwgaGVpZ2h0KTtcblxufVxuXG5EaWFsb2d1ZVRleHRDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0SGVpZ2h0KCk7XG5cbn1cblxuRGlhbG9ndWVUZXh0Q29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZHQpIHtcbiAgICAvL3RoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LmhlaWdodDtcblxufVxuIiwiXG5pbXBvcnQgeyBHYW1lQ29tbWFuZHMgfSBmcm9tICcuLi8uLi8uLi9jb250cm9sbGVyL0dhbWVDb21tYW5kcyc7XG5jb25zdCB7IE1lZGlhdG9yIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2tCdXR0b25NZWRpYXRvciBleHRlbmRzIE1lZGlhdG9yIHtcbiAgICBzdGF0aWMgZ2V0IE5BTUUoKSB7IHJldHVybiBcIkF0dGFja0J1dHRvbk1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoQXR0YWNrQnV0dG9uTWVkaWF0b3IuTkFNRSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlTm90aWZpY2F0aW9uKFtcbiAgICAgICAgICAgIEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50ID0gdmlld0NvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ2NsaWNrOnRvZ2dsZUF0dGFjaycsIHRoaXMuaGFuZGxlVG9nZ2xlQXR0YWNrLCB0aGlzKTtcblxuICAgIH1cblxuICAgIG9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHN1cGVyLm9uUmVnaXN0ZXIobm90aWZpY2F0aW9uU3Vic2NyaXB0aW9uQ2hhbmdlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uTmFtZSwgLi4uYXJncykge1xuICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbW1hbmRzLkdBTUVQTEFZX0FDVElPTl9DSEFOR0VEOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lID09PSBcImF0dGFja1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5zY3JpcHRbJ0F0dGFja0J1dHRvbkNvbXBvbmVudCddLnRvZ2dsZUhpZ2hsaWdodCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0WydBdHRhY2tCdXR0b25Db21wb25lbnQnXS50b2dnbGVIaWdobGlnaHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVRvZ2dsZUF0dGFjayhhdHRhY2tFbmFibGVkKSB7XG4gICAgICAgIGlmIChhdHRhY2tFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgXCJhdHRhY2tcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5HQU1FUExBWV9BQ1RJT05fQ0hBTkdFRCwgXCJpbnRlcmFjdFwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBBdHRhY2tCdXR0b25Db21wb25lbnQgPSBwYy5jcmVhdGVTY3JpcHQoJ0F0dGFja0J1dHRvbkNvbXBvbmVudCcpO1xuaW1wb3J0IHsgRmFjYWRlIH0gZnJvbSAnQGtvcmVlei9wdXJlLW12Yyc7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi4vLi4vLi4vR2FtZUZhY2FkZSc7XG5pbXBvcnQgeyBBdHRhY2tCdXR0b25NZWRpYXRvciB9IGZyb20gJy4vQXR0YWNrQnV0dG9uTWVkaWF0b3InO1xuXG5BdHRhY2tCdXR0b25Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hpZ2hsaWdodEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnSGlnaGxpZ2h0IEVudGl0eScgfSk7XG5cbi8vIGluaXRpYWxpemUgY29kZSBjYWxsZWQgb25jZSBwZXIgZW50aXR5XG5BdHRhY2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mYWNhZGUgPSBGYWNhZGUuZ2V0SW5zdGFuY2UoR2FtZUZhY2FkZS5LRVkpO1xuICAgIGlmICh0aGlzLmZhY2FkZS5oYXNNZWRpYXRvcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihBdHRhY2tCdXR0b25NZWRpYXRvci5OQU1FKTtcbiAgICB9XG5cbiAgICB0aGlzLmZhY2FkZS5yZWdpc3Rlck1lZGlhdG9yKG5ldyBBdHRhY2tCdXR0b25NZWRpYXRvcih0aGlzLmVudGl0eSkpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLCB0aGlzKTtcbn07XG5cbkF0dGFja0J1dHRvbkNvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdGhpcy5lbnRpdHkuZmlyZSgnY2xpY2s6dG9nZ2xlQXR0YWNrJywgIXRoaXMuaGlnaGxpZ2h0RW50aXR5LmVuYWJsZWQpO1xufVxuXG5BdHRhY2tCdXR0b25Db21wb25lbnQucHJvdG90eXBlLnRvZ2dsZUhpZ2hsaWdodCA9IGZ1bmN0aW9uIChpc0VuYWJsZWQpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEVudGl0eS5lbmFibGVkID0gaXNFbmFibGVkO1xufSIsImV4cG9ydCBjb25zdCBWZWhpY2xlQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdWZWhpY2xlQ29tcG9uZW50Jyk7XG5cblZlaGljbGVDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoXCJtYXNzXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1hc3NcIixcbiAgICBkZWZhdWx0OiAzXG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcIm1heFNwZWVkXCIsIHtcbiAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIHRpdGxlOiBcIk1heCBTcGVlZFwiLFxuICAgIGRlZmF1bHQ6IDVcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKFwibWF4Rm9yY2VcIiwge1xuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgdGl0bGU6IFwiTWF4IEZvcmNlXCIsXG4gICAgZGVmYXVsdDogMC41XG59KTtcblxuVmVoaWNsZUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZChcImFycml2ZVRocmVzaG9sZFwiLCB7XG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICB0aXRsZTogXCJBcnJpdmFsIFRocmVzaG9sZFwiLFxuICAgIGRlZmF1bHQ6IDFcbn0pO1xuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgcGMuVmVjMygpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IG5ldyBwYy5WZWMzKCk7XG59XG5cblxuVmVoaWNsZUNvbXBvbmVudC5wcm90b3R5cGUucHJvY2Vzc1ZlbG9jaXR5ID0gZnVuY3Rpb24gKGR0KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVudGl0eS5nZXRQb3NpdGlvbigpO1xuXG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gY2xhbXBWZWMzKHRoaXMuc3RlZXJpbmdGb3JjZSwgKHRoaXMubWF4Rm9yY2UpKTtcbiAgICB0aGlzLnN0ZWVyaW5nRm9yY2UgPSB0aGlzLnN0ZWVyaW5nRm9yY2Uuc2NhbGUoMSAvICh0aGlzLm1hc3MpKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eS5hZGQodGhpcy5zdGVlcmluZ0ZvcmNlKTtcbiAgICB0aGlzLnZlbG9jaXR5ID0gY2xhbXBWZWMzKHRoaXMudmVsb2NpdHksICh0aGlzLm1heFNwZWVkICogZHQpKTtcblxuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IG5ldyBwYy5WZWMzKCk7XG5cbiAgICB0aGlzLmVudGl0eS5zZXRMb2NhbFBvc2l0aW9uKHBvc2l0aW9uLmFkZCh0aGlzLnZlbG9jaXR5KSk7XG5cbiAgICBjb25zdCB5Um90YXRpb24gPSBnZXRBbmdsZSh0aGlzLnZlbG9jaXR5KSAqIDE4MCAvIE1hdGguUEk7XG4gICAgdGhpcy5lbnRpdHkuc2V0RXVsZXJBbmdsZXMoMCwgeVJvdGF0aW9uLCAwKTtcbn1cblxuXG5WZWhpY2xlQ29tcG9uZW50LnByb3RvdHlwZS5zZWVrID0gZnVuY3Rpb24gKHRhcmdldCwgZHQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBsZXQgZGVzaXJlZFZlbG9jaXR5ID0gdGFyZ2V0LmNsb25lKCkuc3ViKHBvc2l0aW9uKTtcbiAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkubm9ybWFsaXplKClcbiAgICBkZXNpcmVkVmVsb2NpdHkuc2NhbGUodGhpcy5tYXhTcGVlZCAqIGR0KTtcbiAgICBjb25zdCBmb3JjZSA9IGRlc2lyZWRWZWxvY2l0eS5zdWIodGhpcy52ZWxvY2l0eSk7XG4gICAgdGhpcy5zdGVlcmluZ0ZvcmNlID0gdGhpcy5zdGVlcmluZ0ZvcmNlLmFkZChmb3JjZSk7XG59XG5cblZlaGljbGVDb21wb25lbnQucHJvdG90eXBlLmFycml2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW50aXR5LmdldFBvc2l0aW9uKCk7XG4gICAgbGV0IGRlc2lyZWRWZWxvY2l0eSA9IHRhcmdldC5jbG9uZSgpLnN1Yihwb3NpdGlvbikubm9ybWFsaXplKCkuc2NhbGUodGhpcy5tYXhTcGVlZCk7XG4gICAgY29uc3QgZGlzdGFuY2VUb1RhcmdldCA9IHBvc2l0aW9uLmRpc3RhbmNlKHRhcmdldCk7XG5cbiAgICBpZiAoZGlzdGFuY2VUb1RhcmdldCA+IHRoaXMuYXJyaXZhbFRocmVzaG9sZCkge1xuICAgICAgICBkZXNpcmVkVmVsb2NpdHkgPSBkZXNpcmVkVmVsb2NpdHkuc2NhbGUodGhpcy5tYXhTcGVlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVzaXJlZFZlbG9jaXR5ID0gZGVzaXJlZFZlbG9jaXR5LnNjYWxlKCh0aGlzLm1heFNwZWVkICogZGlzdGFuY2VUb1RhcmdldCAvIHRoaXMuYXJyaXZlVGhyZXNob2xkKSk7XG5cbiAgICB9XG4gICAgY29uc3QgZm9yY2UgPSBkZXNpcmVkVmVsb2NpdHkuc3ViKHRoaXMudmVsb2NpdHkpO1xuICAgIHRoaXMuc3RlZXJpbmdGb3JjZSA9IHRoaXMuc3RlZXJpbmdGb3JjZS5hZGQoZm9yY2UpO1xufVxuXG5mdW5jdGlvbiBjbGFtcFZlYzModmVjMywgbWF4VmFsdWUpIHtcbiAgICBpZiAodmVjMy5sZW5ndGgoKSA8IG1heFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2ZWMzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2ZWMzLm5vcm1hbGl6ZSgpLnNjYWxlKG1heFZhbHVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEFuZ2xlKHZlYzMpIHtcbiAgICByZXR1cm4gTWF0aC5hdGFuMih2ZWMzLngsIHZlYzMueik7XG59IiwiZXhwb3J0IGNvbnN0IFNjcmVlblJlc2l6ZUNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnU2NyZWVuUmVzaXplQ29tcG9uZW50Jyk7XG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUud2luZG93ID0gd2luZG93O1xuXG5TY3JlZW5SZXNpemVDb21wb25lbnQucHJvdG90eXBlLnBvc3RJbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xufVxuXG5cblNjcmVlblJlc2l6ZUNvbXBvbmVudC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ3JhcGhpY3NEZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcbiAgICAvLyBGbGlwIGJsZW5kXG4gICAgaWYgKGdyYXBoaWNzRGV2aWNlLndpZHRoIDwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuZW50aXR5LnNjcmVlbi5zY2FsZUJsZW5kID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVudGl0eS5zY3JlZW4uc2NhbGVCbGVuZCA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5lbnRpdHkuc2NyZWVuLnJlZmVyZW5jZVJlc29sdXRpb24gPSBuZXcgcGMuVmVjMihncmFwaGljc0RldmljZS53aWR0aCwgZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0KTtcblxufSIsImV4cG9ydCBjb25zdCBEaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQnKTtcblxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ3NraWxsTmFtZUxhYmVsJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTa2lsbCBOYW1lIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdza2lsbFZhbHVlTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1NraWxsIFZhbHVlIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkaWUxTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RpZSAxIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkaWUyTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0RpZSAyIExhYmVsJyB9KTtcbkRpYWxvZ3VlU2tpbGxUZXN0Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzdWNjZXNzTGFiZWwnLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ1N1Y2Nlc3MgTGFiZWwnIH0pO1xuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ZhaWx1cmVMYWJlbCcsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRmFpbHVyZSBMYWJlbCcgfSk7XG5cblxuXG4vLyBpbml0aWFsaXplIGNvZGUgY2FsbGVkIG9uY2UgcGVyIGVudGl0eVxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbn1cblxuRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKHNraWxsTmFtZSwgc2tpbGxWYWx1ZSwgZGllMSwgZGllMiwgd2FzU3VjY2Vzcykge1xuICAgIHRoaXMuc2tpbGxOYW1lTGFiZWwuZWxlbWVudC50ZXh0ID0gc2tpbGxOYW1lO1xuICAgIHRoaXMuc2tpbGxWYWx1ZUxhYmVsLmVsZW1lbnQudGV4dCA9IHNraWxsVmFsdWU7XG4gICAgdGhpcy5kaWUxTGFiZWwuZWxlbWVudC50ZXh0ID0gZGllMTtcbiAgICB0aGlzLmRpZTJMYWJlbC5lbGVtZW50LnRleHQgPSBkaWUyO1xuICAgIHRoaXMuc3VjY2Vzc0xhYmVsLmVuYWJsZWQgPSB3YXNTdWNjZXNzO1xuICAgIHRoaXMuZmFpbHVyZUxhYmVsLmVuYWJsZWQgPSAhd2FzU3VjY2Vzcztcbn1cbiIsImV4cG9ydCBjb25zdCBJbnZlbnRvcnlJdGVtQ29tcG9uZW50ID0gcGMuY3JlYXRlU2NyaXB0KCdJbnZlbnRvcnlJdGVtQ29tcG9uZW50Jyk7XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2xhYmVsRW50aXR5JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdMYWJlbCBFbnRpdHknIH0pO1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTtcblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnZXhwYW5kZWRFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0V4cGFuZGVkIEVudGl0eScgfSk7XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2hhbmRsZScsIHsgdHlwZTogJ2VudGl0eScsIGRlZmF1bHQ6IG51bGwsIHRpdGxlOiAnSGFuZGxlJyB9KTtcbkludmVudG9yeUl0ZW1Db21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2F4aXMnLCB7IHR5cGU6ICdzdHJpbmcnLCBkZWZhdWx0OiBcInlcIiwgdGl0bGU6ICdBeGlzJywgZGVzY3JpcHRpb246ICdsb2NrIGRyYWcgdG8gYXhpczogeCwgeSBvciB4eScgfSk7XG5cbi8vIERpc3BsYXkgTWV0aG9kc1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAobmFtZSwgc2l6ZSwgb3JkZXJJbmRleCkge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5sYWJlbEVudGl0eS5lbGVtZW50LnRleHQgPSBuYW1lO1xuICAgIHRoaXMuZW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5zbG90SGVpZ2h0ICogc2l6ZTtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVsZW1lbnQuaGVpZ2h0ID0gdGhpcy5zbG90SGVpZ2h0ICogc2l6ZTtcbiAgICB0aGlzLm9yZGVySW5kZXggPSBvcmRlckluZGV4O1xufVxuXG5JbnZlbnRvcnlJdGVtQ29tcG9uZW50LnByb3RvdHlwZS5jb2xsYXBzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmV4cGFuZGVkRW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbn1cblxuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUuZXhwYW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZXhwYW5kZWRFbnRpdHkuZW5hYmxlZCA9IHRydWU7XG59XG5cbi8vIERyYWcgbWV0aG9kc1xuSW52ZW50b3J5SXRlbUNvbXBvbmVudC5wcm90b3R5cGUucG9zdEluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBjb25zdCBkcmFnSGVscGVyID0gbmV3IHBjLkVsZW1lbnREcmFnSGVscGVyKHRoaXMuZW50aXR5LmVsZW1lbnQsIG51bGwpO1xuICAgIGRyYWdIZWxwZXIub24oJ2RyYWc6c3RhcnQnLCB0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKTtcbn07XG5cbkludmVudG9yeUl0ZW1Db21wb25lbnQucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW50aXR5LnBhcmVudC5maXJlKCdkcmFnOnN0YXJ0JywgdGhpcy5lbnRpdHksIHRoaXMuc2l6ZSk7XG59XG4iLCJcbmltcG9ydCB7IEdhbWVDb21tYW5kcyB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXIvR2FtZUNvbW1hbmRzJztcbmltcG9ydCB7IEdhbWVGYWNhZGUgfSBmcm9tICcuLi8uLi9HYW1lRmFjYWRlJztcbmNvbnN0IHsgTWVkaWF0b3IgfSA9IHJlcXVpcmUoJ0Brb3JlZXovcHVyZS1tdmMnKTtcblxuZXhwb3J0IGNsYXNzIEludmVudG9yeVBhbmVsTWVkaWF0b3IgZXh0ZW5kcyBNZWRpYXRvciB7XG4gICAgc3RhdGljIGdldCBOQU1FKCkgeyByZXR1cm4gXCJJbnZlbnRvcnlQYW5lbE1lZGlhdG9yXCIgfTtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdDb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVOb3RpZmljYXRpb24oW1xuICAgICAgICAgICAgR2FtZUNvbW1hbmRzLkRJU1BMQVlfSU5WRU5UT1JZX1BBTkVMXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQgPSB2aWV3Q29tcG9uZW50O1xuICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQub24oJ3Jlb3JkZXJJdGVtJywgdGhpcy5oYW5kZVJlb3JkZXJJdGVtLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50Lm9uKCdlcXVpcEl0ZW0nLCB0aGlzLmhhbmRsZUVxdWlwSXRlbSwgdGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbXBvbmVudC5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpIHtcbiAgICAgICAgc3VwZXIub25SZWdpc3Rlcihub3RpZmljYXRpb25TdWJzY3JpcHRpb25DaGFuZ2UpO1xuICAgIH1cblxuICAgIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29tbWFuZHMuRElTUExBWV9JTlZFTlRPUllfUEFORUw6XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVxdWlwcGVkTWFwID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb21wb25lbnQuc2NyaXB0W1wiSW52ZW50b3J5UGFuZWxDb21wb25lbnRcIl0uZGlzcGxheUl0ZW1zKGl0ZW1zLCBlcXVpcHBlZE1hcCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3Q29tcG9uZW50LmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGVSZW9yZGVySXRlbShvcmlnaW5hbEluZGV4LCBuZXdJbmRleCkge1xuICAgICAgICB0aGlzLmZhY2FkZS5zZW5kTm90aWZpY2F0aW9uKEdhbWVDb21tYW5kcy5SRU9SREVSX0lOVkVUT1JZX0lURU0sIG9yaWdpbmFsSW5kZXgsIG5ld0luZGV4KTtcbiAgICB9XG5cbiAgICBoYW5kbGVFcXVpcEl0ZW0oaXRlbUluZGV4LCBzbG90S2V5KSB7XG4gICAgICAgIHRoaXMuZmFjYWRlLnNlbmROb3RpZmljYXRpb24oR2FtZUNvbW1hbmRzLkVRVUlQX0lURU1fVE9fU0xPVCwgaXRlbUluZGV4LCBzbG90S2V5KTtcbiAgICB9XG59XG4iLCJcbmNvbnN0IGVxdWlwbWVudFNsb3RTY2hlbWEgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAna2V5JyxcbiAgICAgICAgdGl0bGU6ICdFcXVpcG1lbnQgU2xvdCBLZXknLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnZW50aXR5JyxcbiAgICAgICAgdGl0bGU6ICdFcXVpcG1lbnQgU2xvdCBFbnRpdHknLFxuICAgICAgICB0eXBlOiAnZW50aXR5J1xuICAgIH1cbl07XG5cbmV4cG9ydCBjb25zdCBJbnZlbnRvcnlQYW5lbENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW52ZW50b3J5UGFuZWxDb21wb25lbnQnKTtcbmltcG9ydCB7IEZhY2FkZSB9IGZyb20gJ0Brb3JlZXovcHVyZS1tdmMnO1xuaW1wb3J0IHsgR2FtZUZhY2FkZSB9IGZyb20gJy4uLy4uL0dhbWVGYWNhZGUnO1xuaW1wb3J0IHsgSW52ZW50b3J5UGFuZWxNZWRpYXRvciB9IGZyb20gJy4vSW52ZW50b3J5UGFuZWxNZWRpYXRvcic7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90Q29udGFpbmVyJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTbG90IENvbnRhaW5lcicgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgndG9wU2xvdFBvc2l0aW9uJywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdUb3AgU2xvdCBQb3NpdGlvbicgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2VwYXJhdG9ySGlnaGxpZ2h0JywgeyB0eXBlOiAnZW50aXR5JywgdGl0bGU6ICdTZXBhcmF0b3IgSGlnaGxpZ2h0JyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdjbG9zZUJ1dHRvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnQ2xvc2UgQnV0dG9uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdpdGVtQXNzZXQnLCB7IHR5cGU6ICdhc3NldCcsIHRpdGxlOiAnSXRlbSBBc3NldCcgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdkcmFnSWNvbicsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnRHJhZyBJY29uJyB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdzbG90V2lkdGgnLCB7IHR5cGU6ICdudW1iZXInLCB0aXRsZTogJ1Nsb3QgV2lkdGgnLCBkZWZhdWx0OiAzMjAgfSk7XG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTtcbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdtYXhTbG90cycsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnTWF4IFNsb3RzJywgZGVmYXVsdDogMTIgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdlcXVpcG1lbnRTbG90cycsIHsgdHlwZTogJ2pzb24nLCBzY2hlbWE6IGVxdWlwbWVudFNsb3RTY2hlbWEsIGFycmF5OiB0cnVlLCB0aXRsZTogJ0VxdWlwbWVudCBTbG90cycgfSk7XG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmFjYWRlID0gRmFjYWRlLmdldEluc3RhbmNlKEdhbWVGYWNhZGUuS0VZKTtcbiAgICBpZiAodGhpcy5mYWNhZGUuaGFzTWVkaWF0b3IoSW52ZW50b3J5UGFuZWxNZWRpYXRvci5OQU1FKSkge1xuICAgICAgICB0aGlzLmZhY2FkZS5yZW1vdmVNZWRpYXRvcihJbnZlbnRvcnlQYW5lbE1lZGlhdG9yLk5BTUUpO1xuICAgIH1cblxuICAgIHRoaXMuZmFjYWRlLnJlZ2lzdGVyTWVkaWF0b3IobmV3IEludmVudG9yeVBhbmVsTWVkaWF0b3IodGhpcy5lbnRpdHkpKTtcbiAgICB0aGlzLmVudGl0eS5vbignZHJhZzpzdGFydCcsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0LCB0aGlzKTtcbiAgICB0aGlzLmNsb3NlQnV0dG9uLmVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5oYW5kbGVDbG9zZSwgdGhpcyk7XG5cbiAgICB0aGlzLnNlcGFyYXRvckhpZ2hsaWdodC5lbmFibGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMgPSBbXTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmhhbmRsZURyYWdTdGFydCA9IGZ1bmN0aW9uIChkcmFnRW50aXR5LCBzaXplKSB7XG4gICAgZHJhZ0VudGl0eS5yZXBhcmVudCh0aGlzLmVudGl0eSk7XG4gICAgdGhpcy5kcmFnSWNvbi5yZXBhcmVudCh0aGlzLmVudGl0eSk7XG5cbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9uKHBjLkVWRU5UX01PVVNFTU9WRSwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlTW92ZShkcmFnRW50aXR5LCBzaXplLCBldnQpO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vbihwYy5FVkVOVF9NT1VTRVVQLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VVcChkcmFnRW50aXR5LCBzaXplLCBldnQpO1xuICAgIH0sIHRoaXMpO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIGNvbnN0IHNjcmVlblBvcyA9IG5ldyBwYy5WZWMzKGV2dC54LCBldnQueSwgMCk7XG4gICAgY29uc3QgcGl4ZWxSYXRpbyA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLm1heFBpeGVsUmF0aW87XG4gICAgc2NyZWVuUG9zLnggKj0gcGl4ZWxSYXRpbztcbiAgICBzY3JlZW5Qb3MueSAqPSBwaXhlbFJhdGlvO1xuXG4gICAgY29uc3Qgc2NyZWVuQ29tcCA9IHRoaXMuZW50aXR5LmVsZW1lbnQuc2NyZWVuLnNjcmVlbjtcbiAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmFwcC5ncmFwaGljc0RldmljZTtcblxuICAgIGNvbnN0IHJhdGlvU2NhbGUgPSBzY3JlZW5Db21wLnNjYWxlO1xuICAgIGNvbnN0IHggPSAoc2NyZWVuUG9zLnggLyByYXRpb1NjYWxlKTtcbiAgICBjb25zdCB5ID0gKGRldmljZS5oZWlnaHQgLSBzY3JlZW5Qb3MueSkgLyByYXRpb1NjYWxlO1xuXG4gICAgcmV0dXJuIG5ldyBwYy5WZWMzKHgsIHksIDApO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlTW91c2VNb3ZlID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGV2dCkge1xuICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gdGhpcy5sb2NhbFBvc2l0aW9uRnJvbU1vdXNlRXZlbnQoZXZ0KTtcbiAgICB0aGlzLmRyYWdJY29uLnNldExvY2FsUG9zaXRpb24obmV3UG9zaXRpb24pO1xuXG4gICAgdGhpcy5kaXNwbGF5UG90ZW50aWFsTGlzdChkcmFnRW50aXR5LCBzaXplLCBuZXdQb3NpdGlvbik7XG5cbn1cblxuXG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGV2dCkge1xuICAgIGNvbnN0IGRyYWdQb3MgPSB0aGlzLmxvY2FsUG9zaXRpb25Gcm9tTW91c2VFdmVudChldnQpO1xuICAgIHRoaXMuZHJhZ0ljb24uZW5hYmxlZCA9IGZhbHNlO1xuICAgIGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uZXhwYW5kKCk7XG4gICAgdGhpcy5lbnRpdHkuZWxlbWVudC5vZmYocGMuRVZFTlRfTU9VU0VNT1ZFKTtcbiAgICB0aGlzLmVudGl0eS5lbGVtZW50Lm9mZihwYy5FVkVOVF9NT1VTRVVQKTtcblxuICAgIGNvbnN0IHRvcFNsb3RQb3NpdGlvbiA9IHRoaXMudG9wU2xvdFBvc2l0aW9uLmdldExvY2FsUG9zaXRpb24oKTtcbiAgICBjb25zdCBib3VuZHMgPSB7XG4gICAgICAgIHgxOiB0b3BTbG90UG9zaXRpb24ueCwgeTE6IHRvcFNsb3RQb3NpdGlvbi55IC0gdGhpcy5tYXhTbG90cyAqIHRoaXMuc2xvdEhlaWdodCxcbiAgICAgICAgeDI6IHRvcFNsb3RQb3NpdGlvbi54ICsgdGhpcy5zbG90V2lkdGgsIHkyOiB0b3BTbG90UG9zaXRpb24ueVxuICAgIH07XG5cbiAgICBjb25zdCBpbkJvdW5kcyA9IGlzSW5Cb3VuZHMoZHJhZ1BvcywgYm91bmRzKTtcbiAgICBpZiAoaW5Cb3VuZHMpIHtcbiAgICAgICAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEdldCB0aGUgdG9wIGNvcm5lciBwb3NpdGlvbiBvZiB0aGUgZHJhZ2dpbmcgaXRlbSBhcyB0aGUgdGFyZ2V0XG4gICAgICAgIGNvbnN0IGNvcm5lclNjcmVlblBvcyA9IHsgeDogZHJhZ0VudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnNbMl0ueCwgeTogc2NyZWVuSGVpZ2h0IC0gZHJhZ0VudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnNbMl0ueSB9XG4gICAgICAgIGNvbnN0IGNvcm5lclBvcyA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGNvcm5lclNjcmVlblBvcyk7XG5cbiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigodG9wU2xvdFBvc2l0aW9uLnkgLSBjb3JuZXJQb3MueSkgLyB0aGlzLnNsb3RIZWlnaHQpKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRleCA9IGRyYWdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10ub3JkZXJJbmRleDtcbiAgICAgICAgdGhpcy5lbnRpdHkuZmlyZSgncmVvcmRlckl0ZW0nLCBvcmlnaW5hbEluZGV4LCBzbG90SW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRyb3BwZWQgaW4gZXF1aXAgc2xvdFxuICAgICAgICB0aGlzLmNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdChkcmFnRW50aXR5LCBldnQpO1xuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmNoZWNrRHJvcE9uRXF1aXBtZW50U2xvdCA9IGZ1bmN0aW9uIChkcmFnZ2luZ0VudGl0eSwgbW91c2VFdmVudCkge1xuICAgIGZvciAoY29uc3QgZXF1aXBTbG90IG9mIHRoaXMuZXF1aXBtZW50U2xvdHMpIHtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90S2V5ID0gZXF1aXBTbG90LmtleTtcbiAgICAgICAgY29uc3QgZXF1aXBTbG90RW50aXR5ID0gZXF1aXBTbG90LmVudGl0eTtcbiAgICAgICAgY29uc3QgY29ybmVycyA9IGVxdWlwU2xvdEVudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnM7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuYXBwLmdyYXBoaWNzRGV2aWNlLmhlaWdodDtcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7IHg6IG1vdXNlRXZlbnQueCwgeTogaGVpZ2h0IC0gbW91c2VFdmVudC55IH07XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHtcbiAgICAgICAgICAgIHgxOiBjb3JuZXJzWzBdLngsIHkxOiBjb3JuZXJzWzBdLnksXG4gICAgICAgICAgICB4MjogY29ybmVyc1syXS54LCB5MjogY29ybmVyc1syXS55LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc0luQm91bmRzKHBvaW50LCBib3VuZHMpKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtSW5kZXggPSBkcmFnZ2luZ0VudGl0eS5zY3JpcHRbXCJJbnZlbnRvcnlJdGVtQ29tcG9uZW50XCJdLm9yZGVySW5kZXg7XG5cbiAgICAgICAgICAgIHRoaXMuZW50aXR5LmZpcmUoJ2VxdWlwSXRlbScsIGl0ZW1JbmRleCwgZXF1aXBTbG90S2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlSXRlbU1vdmUgPSBmdW5jdGlvbiAoZHJhZ2dpbmdFbnRpdHksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaXNJbkJvdW5kcyh2YWx1ZSkpIHtcbiAgICAgICAgZHJhZ2dpbmdFbnRpdHkuc2NyaXB0WydJbnZlbnRvcnlJdGVtQ29tcG9uZW50J10uZXhwYW5kKCk7XG4gICAgICAgIHRoaXMuc2VwYXJhdG9ySGlnaGxpZ2h0LmVuYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdnaW5nRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmNvbGxhcHNlKCk7XG4gICAgICAgIHRoaXMuc2VwYXJhdG9ySGlnaGxpZ2h0LmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5zZXRIaWdobGlnaHRQb3NpdGlvbih2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzSW5Cb3VuZHMocG9pbnQsIGJvdW5kcykge1xuICAgIHJldHVybiBwb2ludC54ID4gYm91bmRzLngxICYmIHBvaW50LnggPCBib3VuZHMueDIgJiYgcG9pbnQueSA+IGJvdW5kcy55MSAmJiBwb2ludC55IDwgYm91bmRzLnkyO1xufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXR5LmVuYWJsZWQgPSBmYWxzZTtcbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcywgZXF1aXBwZWRNYXApIHtcbiAgICB0aGlzLmNsZWFyUGFuZWwoKTtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgbGV0IHJ1bm5pbmdJbmRleCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIHJ1bm5pbmdJbmRleCArPSBpdGVtLnNpemU7XG5cbiAgICAgICAgY29uc3QgbmV3SXRlbUNvbXBvbmVudCA9IHRoaXMuaXRlbUFzc2V0LnJlc291cmNlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIG5ld0l0ZW1Db21wb25lbnQuc2NyaXB0W1wiSW52ZW50b3J5SXRlbUNvbXBvbmVudFwiXS5zZXR1cChpdGVtLm5hbWUsIGl0ZW0uc2l6ZSwgaSk7XG4gICAgICAgIG5ld0l0ZW1Db21wb25lbnQuc2V0TG9jYWxQb3NpdGlvbih0b3BTbG90UG9zaXRpb24ueCwgdG9wU2xvdFBvc2l0aW9uLnkgLSAocnVubmluZ0luZGV4ICogdGhpcy5zbG90SGVpZ2h0KSwgMCk7XG5cbiAgICAgICAgdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXMucHVzaChuZXdJdGVtQ29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLmVudGl0eS5hZGRDaGlsZChuZXdJdGVtQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVxdWlwU2xvdCBvZiB0aGlzLmVxdWlwbWVudFNsb3RzKSB7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEtleSA9IGVxdWlwU2xvdC5rZXk7XG4gICAgICAgIGNvbnN0IGVxdWlwU2xvdEVudGl0eSA9IGVxdWlwU2xvdC5lbnRpdHk7XG5cbiAgICAgICAgaWYgKGVxdWlwcGVkTWFwLmhhcyhlcXVpcFNsb3RLZXkpKSB7XG4gICAgICAgICAgICBlcXVpcFNsb3RFbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50XCJdLnNldHVwKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXF1aXBTbG90RW50aXR5LnNjcmlwdFtcIkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudFwiXS5zZXR1cChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuSW52ZW50b3J5UGFuZWxDb21wb25lbnQucHJvdG90eXBlLmRpc3BsYXlQb3RlbnRpYWxMaXN0ID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGRyYWdQb3MpIHtcbiAgICBjb25zdCB0b3BTbG90UG9zaXRpb24gPSB0aGlzLnRvcFNsb3RQb3NpdGlvbi5nZXRMb2NhbFBvc2l0aW9uKCk7XG4gICAgY29uc3QgYm91bmRzID0ge1xuICAgICAgICB4MTogdG9wU2xvdFBvc2l0aW9uLngsIHkxOiB0b3BTbG90UG9zaXRpb24ueSAtIHRoaXMubWF4U2xvdHMgKiB0aGlzLnNsb3RIZWlnaHQsXG4gICAgICAgIHgyOiB0b3BTbG90UG9zaXRpb24ueCArIHRoaXMuc2xvdFdpZHRoLCB5MjogdG9wU2xvdFBvc2l0aW9uLnlcbiAgICB9O1xuXG4gICAgY29uc3QgaW5Cb3VuZHMgPSBpc0luQm91bmRzKGRyYWdQb3MsIGJvdW5kcyk7XG4gICAgaWYgKGluQm91bmRzKSB7XG4gICAgICAgIC8vIERvIHRoZSBzdHVmZlxuICAgICAgICBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmV4cGFuZCgpO1xuICAgICAgICB0aGlzLmRyYWdJY29uLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc2NyZWVuSGVpZ2h0ID0gdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2UuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEdldCB0aGUgdG9wIGNvcm5lciBwb3NpdGlvbiBvZiB0aGUgZHJhZ2dpbmcgaXRlbSBhcyB0aGUgdGFyZ2V0XG4gICAgICAgIGNvbnN0IGNvcm5lclNjcmVlblBvcyA9IHsgeDogZHJhZ0VudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnNbMl0ueCwgeTogc2NyZWVuSGVpZ2h0IC0gZHJhZ0VudGl0eS5lbGVtZW50LnNjcmVlbkNvcm5lcnNbMl0ueSB9XG4gICAgICAgIGNvbnN0IGNvcm5lclBvcyA9IHRoaXMubG9jYWxQb3NpdGlvbkZyb21Nb3VzZUV2ZW50KGNvcm5lclNjcmVlblBvcyk7XG5cbiAgICAgICAgY29uc3Qgc2xvdEluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigodG9wU2xvdFBvc2l0aW9uLnkgLSBjb3JuZXJQb3MueSkgLyB0aGlzLnNsb3RIZWlnaHQpKTtcbiAgICAgICAgdGhpcy5yZW9yZGVyTGlzdFdpdGhHYXAoZHJhZ0VudGl0eSwgZHJhZ0VudGl0eS5zY3JpcHRbJ0ludmVudG9yeUl0ZW1Db21wb25lbnQnXS5zaXplLCBzbG90SW5kZXgpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXBhcmF0b3JIaWdobGlnaHQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBkcmFnRW50aXR5LnNjcmlwdFsnSW52ZW50b3J5SXRlbUNvbXBvbmVudCddLmNvbGxhcHNlKCk7XG4gICAgICAgIHRoaXMuZHJhZ0ljb24uZW5hYmxlZCA9IHRydWU7XG4gICAgfVxufVxuXG5JbnZlbnRvcnlQYW5lbENvbXBvbmVudC5wcm90b3R5cGUucmVvcmRlckxpc3RXaXRoR2FwID0gZnVuY3Rpb24gKGRyYWdFbnRpdHksIHNpemUsIGdhcEluZGV4KSB7XG4gICAgY29uc3QgdG9wU2xvdFBvc2l0aW9uID0gdGhpcy50b3BTbG90UG9zaXRpb24uZ2V0TG9jYWxQb3NpdGlvbigpO1xuICAgIGxldCBydW5uaW5nSW5kZXggPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpbnZlbnRvcnlJdGVtRW50aXR5ID0gdGhpcy5pbnZlbnRvcnlJdGVtRW50aXRpZXNbaV07XG5cbiAgICAgICAgLy8gRG9uJ3QgcmVwb3NpdGlvbiB0aGUgZW50aXR5IGJlaW5nIGRyYWdnZWRcbiAgICAgICAgaWYgKGRyYWdFbnRpdHkgIT09IGludmVudG9yeUl0ZW1FbnRpdHkpIHtcbiAgICAgICAgICAgIGlmIChnYXBJbmRleCA+PSBydW5uaW5nSW5kZXggJiYgZ2FwSW5kZXggPCBydW5uaW5nSW5kZXggKyBpbnZlbnRvcnlJdGVtRW50aXR5LnNjcmlwdFtcIkludmVudG9yeUl0ZW1Db21wb25lbnRcIl0uc2l6ZSkge1xuICAgICAgICAgICAgICAgIHJ1bm5pbmdJbmRleCArPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVubmluZ0luZGV4ICs9IGludmVudG9yeUl0ZW1FbnRpdHkuc2NyaXB0W1wiSW52ZW50b3J5SXRlbUNvbXBvbmVudFwiXS5zaXplO1xuXG4gICAgICAgICAgICBpbnZlbnRvcnlJdGVtRW50aXR5LnNldExvY2FsUG9zaXRpb24odG9wU2xvdFBvc2l0aW9uLngsIHRvcFNsb3RQb3NpdGlvbi55IC0gKHJ1bm5pbmdJbmRleCAqIHRoaXMuc2xvdEhlaWdodCksIDApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbkludmVudG9yeVBhbmVsQ29tcG9uZW50LnByb3RvdHlwZS5jbGVhclBhbmVsID0gZnVuY3Rpb24gKCkge1xuICAgIHdoaWxlICh0aGlzLmludmVudG9yeUl0ZW1FbnRpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuaW52ZW50b3J5SXRlbUVudGl0aWVzLnBvcCgpO1xuICAgICAgICBlbnRpdHkuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQnKTtcblxuLypJbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnbGFiZWxFbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0xhYmVsIEVudGl0eScgfSk7XG5JbnZlbnRvcnlEcmFnSWNvbkNvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTsqL1xuXG5cbkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuXG59XG5cbkludmVudG9yeURyYWdJY29uQ29tcG9uZW50LnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIChuYW1lLCBzaXplKSB7XG5cbn1cblxuIiwiZXhwb3J0IGNvbnN0IEludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudCA9IHBjLmNyZWF0ZVNjcmlwdCgnSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50Jyk7XG5cbi8qSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LmF0dHJpYnV0ZXMuYWRkKCdsYWJlbEVudGl0eScsIHsgdHlwZTogJ2VudGl0eScsIHRpdGxlOiAnTGFiZWwgRW50aXR5JyB9KTtcbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5hdHRyaWJ1dGVzLmFkZCgnc2xvdEhlaWdodCcsIHsgdHlwZTogJ251bWJlcicsIHRpdGxlOiAnU2xvdCBIZWlnaHQnLCBkZWZhdWx0OiA0NCB9KTsqL1xuXG5JbnZlbnRvcnlFcXVpcHBlZFNsb3RDb21wb25lbnQuYXR0cmlidXRlcy5hZGQoJ2ljb25FbnRpdHknLCB7IHR5cGU6ICdlbnRpdHknLCB0aXRsZTogJ0ljb24gRW50aXR5JyB9KTtcblxuSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaWNvbkVudGl0eS5lbmFibGVkID0gZmFsc2U7XG59XG5cbkludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmljb25FbnRpdHkuZW5hYmxlZCA9IHZhbHVlO1xufVxuXG4iLCJjb25zdCB7IEZhY2FkZSB9ID0gcmVxdWlyZSgnQGtvcmVlei9wdXJlLW12YycpO1xuY29uc3QgeyBQdXJlTVZDIH0gPSByZXF1aXJlKCdAa29yZWV6L3B1cmUtbXZjJyk7XG5pbXBvcnQgeyBHYW1lRmFjYWRlIH0gZnJvbSAnLi9HYW1lRmFjYWRlJztcbmltcG9ydCB7IENhY29nZW5HYW1lIH0gZnJvbSAnLi92aWV3L0NhY29nZW5HYW1lJztcblxuaW1wb3J0IHsgTmF2aWdhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uL05hdmlnYXRpb25Db21wb25lbnQnO1xuaW1wb3J0IHsgR2FtZUNoYXJhY3RlckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9nYW1lQ2hhcmFjdGVyL0dhbWVDaGFyYWN0ZXJDb21wb25lbnQnO1xuaW1wb3J0IHsgQWdyb0dhbWVDaGFyYWN0ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9hZ2dyby9BZ3JvR2FtZUNoYXJhY3RlckNvbXBvbmVudCc7XG5pbXBvcnQgeyBUb2FzdE1lc3NhZ2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvdG9hc3RNZXNzYWdlL1RvYXN0TWVzc2FnZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXRDYW1lcmFUYXJnZXRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZ2FtZUNoYXJhY3Rlci9zZXRDYW1lcmFUYXJnZXQvU2V0Q2FtZXJhVGFyZ2V0Q29tcG9uZW50JztcbmltcG9ydCB7IFBsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BsYXllckNvbWJhdFBhbmVsL1BsYXllckNvbWJhdFBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IEhpdGJveENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb2xsaXNpb24vSGl0Ym94Q29tcG9uZW50JztcbmltcG9ydCB7IEFjdGlvblBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL0FjdGlvblBhbmVsQ29tcG9uZW50JztcbmltcG9ydCB7IFVJU3RvcFByb3BhZ2F0aW9uIH0gZnJvbSAnLi9jb21wb25lbnRzL1VJU3RvcFByb3BhZ2F0aW9uJztcbmltcG9ydCB7IFByb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3Byb2plY3RpbGVzL1Byb2plY3RpbGVDcmVhdG9yQ29tcG9uZW50JztcbmltcG9ydCB7IFByb2plY3RpbGVDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvcHJvamVjdGlsZXMvUHJvamVjdGlsZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdGFtaW5hQmFyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3N0YW1pbmFCYXIvU3RhbWluYUJhckNvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvYWN0aW9uc1JlbWFpbmluZ1BhbmVsL0FjdGlvbnNSZW1haW5pbmdQYW5lbENvbXBvbmVudCc7XG5pbXBvcnQgeyBBY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvbnNSZW1haW5pbmdQYW5lbC9BY3Rpb25zUmVtYWluaW5nUGlwQ29tcG9uZW50JztcbmltcG9ydCB7IEZsb2F0aW5nU3RhdHVzQ3JlYXRvckNvbXBvbmVudCB9IGZyb20gJy4vdmlldy9mbG9hdGluZ1N0YXR1cy9GbG9hdGluZ1N0YXR1c0NyZWF0b3JDb21wb25lbnQnO1xuaW1wb3J0IHsgUG9ydGFsQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L3BvcnRhbC9Qb3J0YWxDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vdmlldy9kaWFsb2d1ZVBhbmVsL0RpYWxvZ3VlUGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVDaG9pY2VDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZUNob2ljZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEZWZhdWx0QW5pbWF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2dhbWVDaGFyYWN0ZXIvZGVmYXVsdEFuaW0vRGVmYXVsdEFuaW1hdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgeyBEaWFsb2d1ZVRleHRDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVRleHRDb21wb25lbnQnO1xuaW1wb3J0IHsgQXR0YWNrQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2FjdGlvblBhbmVsL2F0dGFja0J1dHRvbi9BdHRhY2tCdXR0b25Db21wb25lbnQnO1xuaW1wb3J0IHsgVmVoaWNsZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy92ZWhpY2xlL1ZlaGljbGVDb21wb25lbnQnO1xuaW1wb3J0IHsgU2NyZWVuUmVzaXplQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3NjcmVlblJlc2l6ZS9TY3JlZW5SZXNpemVDb21wb25lbnQnO1xuaW1wb3J0IHsgRGlhbG9ndWVTa2lsbFRlc3RDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvZGlhbG9ndWVQYW5lbC9EaWFsb2d1ZVNraWxsVGVzdENvbXBvbmVudCc7XG5pbXBvcnQgeyBJbnZlbnRvcnlJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeUl0ZW1Db21wb25lbnQnO1xuaW1wb3J0IHsgSW52ZW50b3J5UGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5UGFuZWxDb21wb25lbnQnO1xuaW1wb3J0IHsgSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQgfSBmcm9tICcuL3ZpZXcvaW52ZW50b3J5UGFuZWwvSW52ZW50b3J5RHJhZ0ljb25Db21wb25lbnQnO1xuaW1wb3J0IHsgSW52ZW50b3J5RXF1aXBwZWRTbG90Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3L2ludmVudG9yeVBhbmVsL0ludmVudG9yeUVxdWlwcGVkU2xvdENvbXBvbmVudCc7XG5cbmNsYXNzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBQdXJlTVZDLmRlYnVnID0gdHJ1ZTtcbiAgICAgICAgRmFjYWRlLmdldEluc3RhbmNlID0gR2FtZUZhY2FkZS5nZXRJbnN0YW5jZTtcbiAgICAgICAgY29uc29sZS5sb2coRmFjYWRlKTtcblxuICAgICAgICB0aGlzLmZhY2FkZSA9IEZhY2FkZS5nZXRJbnN0YW5jZShHYW1lRmFjYWRlLktFWSk7XG4gICAgICAgIHRoaXMuZmFjYWRlLnN0YXJ0dXAodGhpcyk7XG4gICAgfVxufVxuXG5jb25zdCBtYWluID0gbmV3IE1haW4oKTsiXSwic291cmNlUm9vdCI6IiJ9